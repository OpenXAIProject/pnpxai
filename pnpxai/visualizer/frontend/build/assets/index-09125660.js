function HL(o,P){for(var W=0;W<P.length;W++){const Q=P[W];if(typeof Q!="string"&&!Array.isArray(Q)){for(const ce in Q)if(ce!=="default"&&!(ce in o)){const me=Object.getOwnPropertyDescriptor(Q,ce);me&&Object.defineProperty(o,ce,me.get?me:{enumerable:!0,get:()=>Q[ce]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const P=document.createElement("link").relList;if(P&&P.supports&&P.supports("modulepreload"))return;for(const ce of document.querySelectorAll('link[rel="modulepreload"]'))Q(ce);new MutationObserver(ce=>{for(const me of ce)if(me.type==="childList")for(const B of me.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&Q(B)}).observe(document,{childList:!0,subtree:!0});function W(ce){const me={};return ce.integrity&&(me.integrity=ce.integrity),ce.referrerPolicy&&(me.referrerPolicy=ce.referrerPolicy),ce.crossOrigin==="use-credentials"?me.credentials="include":ce.crossOrigin==="anonymous"?me.credentials="omit":me.credentials="same-origin",me}function Q(ce){if(ce.ep)return;ce.ep=!0;const me=W(ce);fetch(ce.href,me)}})();function Eb(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function VL(o){if(o.__esModule)return o;var P=o.default;if(typeof P=="function"){var W=function Q(){return this instanceof Q?Reflect.construct(P,arguments,this.constructor):P.apply(this,arguments)};W.prototype=P.prototype}else W={};return Object.defineProperty(W,"__esModule",{value:!0}),Object.keys(o).forEach(function(Q){var ce=Object.getOwnPropertyDescriptor(o,Q);Object.defineProperty(W,Q,ce.get?ce:{enumerable:!0,get:function(){return o[Q]}})}),W}var E4={exports:{}},Sm={},C4={exports:{}},Ai={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg=Symbol.for("react.element"),GL=Symbol.for("react.portal"),WL=Symbol.for("react.fragment"),jL=Symbol.for("react.strict_mode"),YL=Symbol.for("react.profiler"),ZL=Symbol.for("react.provider"),XL=Symbol.for("react.context"),$L=Symbol.for("react.forward_ref"),KL=Symbol.for("react.suspense"),JL=Symbol.for("react.memo"),QL=Symbol.for("react.lazy"),TT=Symbol.iterator;function qL(o){return o===null||typeof o!="object"?null:(o=TT&&o[TT]||o["@@iterator"],typeof o=="function"?o:null)}var L4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P4=Object.assign,R4={};function Sp(o,P,W){this.props=o,this.context=P,this.refs=R4,this.updater=W||L4}Sp.prototype.isReactComponent={};Sp.prototype.setState=function(o,P){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,P,"setState")};Sp.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function D4(){}D4.prototype=Sp.prototype;function Cb(o,P,W){this.props=o,this.context=P,this.refs=R4,this.updater=W||L4}var Lb=Cb.prototype=new D4;Lb.constructor=Cb;P4(Lb,Sp.prototype);Lb.isPureReactComponent=!0;var AT=Array.isArray,I4=Object.prototype.hasOwnProperty,Pb={current:null},k4={key:!0,ref:!0,__self:!0,__source:!0};function F4(o,P,W){var Q,ce={},me=null,B=null;if(P!=null)for(Q in P.ref!==void 0&&(B=P.ref),P.key!==void 0&&(me=""+P.key),P)I4.call(P,Q)&&!k4.hasOwnProperty(Q)&&(ce[Q]=P[Q]);var N=arguments.length-2;if(N===1)ce.children=W;else if(1<N){for(var e=Array(N),p=0;p<N;p++)e[p]=arguments[p+2];ce.children=e}if(o&&o.defaultProps)for(Q in N=o.defaultProps,N)ce[Q]===void 0&&(ce[Q]=N[Q]);return{$$typeof:lg,type:o,key:me,ref:B,props:ce,_owner:Pb.current}}function e7(o,P){return{$$typeof:lg,type:o.type,key:P,ref:o.ref,props:o.props,_owner:o._owner}}function Rb(o){return typeof o=="object"&&o!==null&&o.$$typeof===lg}function t7(o){var P={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(W){return P[W]})}var ST=/\/+/g;function fx(o,P){return typeof o=="object"&&o!==null&&o.key!=null?t7(""+o.key):P.toString(36)}function my(o,P,W,Q,ce){var me=typeof o;(me==="undefined"||me==="boolean")&&(o=null);var B=!1;if(o===null)B=!0;else switch(me){case"string":case"number":B=!0;break;case"object":switch(o.$$typeof){case lg:case GL:B=!0}}if(B)return B=o,ce=ce(B),o=Q===""?"."+fx(B,0):Q,AT(ce)?(W="",o!=null&&(W=o.replace(ST,"$&/")+"/"),my(ce,P,W,"",function(p){return p})):ce!=null&&(Rb(ce)&&(ce=e7(ce,W+(!ce.key||B&&B.key===ce.key?"":(""+ce.key).replace(ST,"$&/")+"/")+o)),P.push(ce)),1;if(B=0,Q=Q===""?".":Q+":",AT(o))for(var N=0;N<o.length;N++){me=o[N];var e=Q+fx(me,N);B+=my(me,P,W,e,ce)}else if(e=qL(o),typeof e=="function")for(o=e.call(o),N=0;!(me=o.next()).done;)me=me.value,e=Q+fx(me,N++),B+=my(me,P,W,e,ce);else if(me==="object")throw P=String(o),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return B}function Kg(o,P,W){if(o==null)return o;var Q=[],ce=0;return my(o,Q,"","",function(me){return P.call(W,me,ce++)}),Q}function r7(o){if(o._status===-1){var P=o._result;P=P(),P.then(function(W){(o._status===0||o._status===-1)&&(o._status=1,o._result=W)},function(W){(o._status===0||o._status===-1)&&(o._status=2,o._result=W)}),o._status===-1&&(o._status=0,o._result=P)}if(o._status===1)return o._result.default;throw o._result}var pl={current:null},xy={transition:null},n7={ReactCurrentDispatcher:pl,ReactCurrentBatchConfig:xy,ReactCurrentOwner:Pb};Ai.Children={map:Kg,forEach:function(o,P,W){Kg(o,function(){P.apply(this,arguments)},W)},count:function(o){var P=0;return Kg(o,function(){P++}),P},toArray:function(o){return Kg(o,function(P){return P})||[]},only:function(o){if(!Rb(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};Ai.Component=Sp;Ai.Fragment=WL;Ai.Profiler=YL;Ai.PureComponent=Cb;Ai.StrictMode=jL;Ai.Suspense=KL;Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n7;Ai.cloneElement=function(o,P,W){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var Q=P4({},o.props),ce=o.key,me=o.ref,B=o._owner;if(P!=null){if(P.ref!==void 0&&(me=P.ref,B=Pb.current),P.key!==void 0&&(ce=""+P.key),o.type&&o.type.defaultProps)var N=o.type.defaultProps;for(e in P)I4.call(P,e)&&!k4.hasOwnProperty(e)&&(Q[e]=P[e]===void 0&&N!==void 0?N[e]:P[e])}var e=arguments.length-2;if(e===1)Q.children=W;else if(1<e){N=Array(e);for(var p=0;p<e;p++)N[p]=arguments[p+2];Q.children=N}return{$$typeof:lg,type:o.type,key:ce,ref:me,props:Q,_owner:B}};Ai.createContext=function(o){return o={$$typeof:XL,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:ZL,_context:o},o.Consumer=o};Ai.createElement=F4;Ai.createFactory=function(o){var P=F4.bind(null,o);return P.type=o,P};Ai.createRef=function(){return{current:null}};Ai.forwardRef=function(o){return{$$typeof:$L,render:o}};Ai.isValidElement=Rb;Ai.lazy=function(o){return{$$typeof:QL,_payload:{_status:-1,_result:o},_init:r7}};Ai.memo=function(o,P){return{$$typeof:JL,type:o,compare:P===void 0?null:P}};Ai.startTransition=function(o){var P=xy.transition;xy.transition={};try{o()}finally{xy.transition=P}};Ai.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ai.useCallback=function(o,P){return pl.current.useCallback(o,P)};Ai.useContext=function(o){return pl.current.useContext(o)};Ai.useDebugValue=function(){};Ai.useDeferredValue=function(o){return pl.current.useDeferredValue(o)};Ai.useEffect=function(o,P){return pl.current.useEffect(o,P)};Ai.useId=function(){return pl.current.useId()};Ai.useImperativeHandle=function(o,P,W){return pl.current.useImperativeHandle(o,P,W)};Ai.useInsertionEffect=function(o,P){return pl.current.useInsertionEffect(o,P)};Ai.useLayoutEffect=function(o,P){return pl.current.useLayoutEffect(o,P)};Ai.useMemo=function(o,P){return pl.current.useMemo(o,P)};Ai.useReducer=function(o,P,W){return pl.current.useReducer(o,P,W)};Ai.useRef=function(o){return pl.current.useRef(o)};Ai.useState=function(o){return pl.current.useState(o)};Ai.useSyncExternalStore=function(o,P,W){return pl.current.useSyncExternalStore(o,P,W)};Ai.useTransition=function(){return pl.current.useTransition()};Ai.version="18.2.0";C4.exports=Ai;var Er=C4.exports;const Ds=Eb(Er),By=HL({__proto__:null,default:Ds},[Er]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a7=Er,i7=Symbol.for("react.element"),o7=Symbol.for("react.fragment"),s7=Object.prototype.hasOwnProperty,l7=a7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u7={key:!0,ref:!0,__self:!0,__source:!0};function _4(o,P,W){var Q,ce={},me=null,B=null;W!==void 0&&(me=""+W),P.key!==void 0&&(me=""+P.key),P.ref!==void 0&&(B=P.ref);for(Q in P)s7.call(P,Q)&&!u7.hasOwnProperty(Q)&&(ce[Q]=P[Q]);if(o&&o.defaultProps)for(Q in P=o.defaultProps,P)ce[Q]===void 0&&(ce[Q]=P[Q]);return{$$typeof:i7,type:o,key:me,ref:B,props:ce,_owner:l7.current}}Sm.Fragment=o7;Sm.jsx=_4;Sm.jsxs=_4;E4.exports=Sm;var Or=E4.exports,s2={},z4={exports:{}},su={},O4={exports:{}},B4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function P(T,i){var D=T.length;T.push(i);e:for(;0<D;){var b=D-1>>>1,O=T[b];if(0<ce(O,i))T[b]=i,T[D]=O,D=b;else break e}}function W(T){return T.length===0?null:T[0]}function Q(T){if(T.length===0)return null;var i=T[0],D=T.pop();if(D!==i){T[0]=D;e:for(var b=0,O=T.length,F=O>>>1;b<F;){var V=2*(b+1)-1,_=T[V],U=V+1,H=T[U];if(0>ce(_,D))U<O&&0>ce(H,_)?(T[b]=H,T[U]=D,b=U):(T[b]=_,T[V]=D,b=V);else if(U<O&&0>ce(H,D))T[b]=H,T[U]=D,b=U;else break e}}return i}function ce(T,i){var D=T.sortIndex-i.sortIndex;return D!==0?D:T.id-i.id}if(typeof performance=="object"&&typeof performance.now=="function"){var me=performance;o.unstable_now=function(){return me.now()}}else{var B=Date,N=B.now();o.unstable_now=function(){return B.now()-N}}var e=[],p=[],L=1,a=null,C=3,w=!1,h=!1,g=!1,t=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(T){for(var i=W(p);i!==null;){if(i.callback===null)Q(p);else if(i.startTime<=T)Q(p),i.sortIndex=i.expirationTime,P(e,i);else break;i=W(p)}}function l(T){if(g=!1,n(T),!h)if(W(e)!==null)h=!0,x(c);else{var i=W(p);i!==null&&E(l,i.startTime-T)}}function c(T,i){h=!1,g&&(g=!1,r(v),v=-1),w=!0;var D=C;try{for(n(i),a=W(e);a!==null&&(!(a.expirationTime>i)||T&&!u());){var b=a.callback;if(typeof b=="function"){a.callback=null,C=a.priorityLevel;var O=b(a.expirationTime<=i);i=o.unstable_now(),typeof O=="function"?a.callback=O:a===W(e)&&Q(e),n(i)}else Q(e);a=W(e)}if(a!==null)var F=!0;else{var V=W(p);V!==null&&E(l,V.startTime-i),F=!1}return F}finally{a=null,C=D,w=!1}}var f=!1,m=null,v=-1,A=5,d=-1;function u(){return!(o.unstable_now()-d<A)}function y(){if(m!==null){var T=o.unstable_now();d=T;var i=!0;try{i=m(!0,T)}finally{i?M():(f=!1,m=null)}}else f=!1}var M;if(typeof s=="function")M=function(){s(y)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,R=S.port2;S.port1.onmessage=y,M=function(){R.postMessage(null)}}else M=function(){t(y,0)};function x(T){m=T,f||(f=!0,M())}function E(T,i){v=t(function(){T(o.unstable_now())},i)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(T){T.callback=null},o.unstable_continueExecution=function(){h||w||(h=!0,x(c))},o.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},o.unstable_getCurrentPriorityLevel=function(){return C},o.unstable_getFirstCallbackNode=function(){return W(e)},o.unstable_next=function(T){switch(C){case 1:case 2:case 3:var i=3;break;default:i=C}var D=C;C=i;try{return T()}finally{C=D}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(T,i){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=C;C=T;try{return i()}finally{C=D}},o.unstable_scheduleCallback=function(T,i,D){var b=o.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?b+D:b):D=b,T){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=D+O,T={id:L++,callback:i,priorityLevel:T,startTime:D,expirationTime:O,sortIndex:-1},D>b?(T.sortIndex=D,P(p,T),W(e)===null&&T===W(p)&&(g?(r(v),v=-1):g=!0,E(l,D-b))):(T.sortIndex=O,P(e,T),h||w||(h=!0,x(c))),T},o.unstable_shouldYield=u,o.unstable_wrapCallback=function(T){var i=C;return function(){var D=C;C=i;try{return T.apply(this,arguments)}finally{C=D}}}})(B4);O4.exports=B4;var f7=O4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N4=Er,iu=f7;function ga(o){for(var P="https://reactjs.org/docs/error-decoder.html?invariant="+o,W=1;W<arguments.length;W++)P+="&args[]="+encodeURIComponent(arguments[W]);return"Minified React error #"+o+"; visit "+P+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U4=new Set,k0={};function td(o,P){fp(o,P),fp(o+"Capture",P)}function fp(o,P){for(k0[o]=P,o=0;o<P.length;o++)U4.add(P[o])}var Nc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l2=Object.prototype.hasOwnProperty,c7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MT={},ET={};function h7(o){return l2.call(ET,o)?!0:l2.call(MT,o)?!1:c7.test(o)?ET[o]=!0:(MT[o]=!0,!1)}function v7(o,P,W,Q){if(W!==null&&W.type===0)return!1;switch(typeof P){case"function":case"symbol":return!0;case"boolean":return Q?!1:W!==null?!W.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function d7(o,P,W,Q){if(P===null||typeof P>"u"||v7(o,P,W,Q))return!0;if(Q)return!1;if(W!==null)switch(W.type){case 3:return!P;case 4:return P===!1;case 5:return isNaN(P);case 6:return isNaN(P)||1>P}return!1}function yl(o,P,W,Q,ce,me,B){this.acceptsBooleans=P===2||P===3||P===4,this.attributeName=Q,this.attributeNamespace=ce,this.mustUseProperty=W,this.propertyName=o,this.type=P,this.sanitizeURL=me,this.removeEmptyString=B}var ks={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){ks[o]=new yl(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var P=o[0];ks[P]=new yl(P,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){ks[o]=new yl(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){ks[o]=new yl(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){ks[o]=new yl(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){ks[o]=new yl(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){ks[o]=new yl(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){ks[o]=new yl(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){ks[o]=new yl(o,5,!1,o.toLowerCase(),null,!1,!1)});var Db=/[\-:]([a-z])/g;function Ib(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var P=o.replace(Db,Ib);ks[P]=new yl(P,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var P=o.replace(Db,Ib);ks[P]=new yl(P,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var P=o.replace(Db,Ib);ks[P]=new yl(P,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){ks[o]=new yl(o,1,!1,o.toLowerCase(),null,!1,!1)});ks.xlinkHref=new yl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){ks[o]=new yl(o,1,!1,o.toLowerCase(),null,!0,!0)});function kb(o,P,W,Q){var ce=ks.hasOwnProperty(P)?ks[P]:null;(ce!==null?ce.type!==0:Q||!(2<P.length)||P[0]!=="o"&&P[0]!=="O"||P[1]!=="n"&&P[1]!=="N")&&(d7(P,W,ce,Q)&&(W=null),Q||ce===null?h7(P)&&(W===null?o.removeAttribute(P):o.setAttribute(P,""+W)):ce.mustUseProperty?o[ce.propertyName]=W===null?ce.type===3?!1:"":W:(P=ce.attributeName,Q=ce.attributeNamespace,W===null?o.removeAttribute(P):(ce=ce.type,W=ce===3||ce===4&&W===!0?"":""+W,Q?o.setAttributeNS(Q,P,W):o.setAttribute(P,W))))}var Wc=N4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jg=Symbol.for("react.element"),Hd=Symbol.for("react.portal"),Vd=Symbol.for("react.fragment"),Fb=Symbol.for("react.strict_mode"),u2=Symbol.for("react.profiler"),H4=Symbol.for("react.provider"),V4=Symbol.for("react.context"),_b=Symbol.for("react.forward_ref"),f2=Symbol.for("react.suspense"),c2=Symbol.for("react.suspense_list"),zb=Symbol.for("react.memo"),Eh=Symbol.for("react.lazy"),G4=Symbol.for("react.offscreen"),CT=Symbol.iterator;function t0(o){return o===null||typeof o!="object"?null:(o=CT&&o[CT]||o["@@iterator"],typeof o=="function"?o:null)}var Po=Object.assign,cx;function p0(o){if(cx===void 0)try{throw Error()}catch(W){var P=W.stack.trim().match(/\n( *(at )?)/);cx=P&&P[1]||""}return`
`+cx+o}var hx=!1;function vx(o,P){if(!o||hx)return"";hx=!0;var W=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(P)if(P=function(){throw Error()},Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(p){var Q=p}Reflect.construct(o,[],P)}else{try{P.call()}catch(p){Q=p}o.call(P.prototype)}else{try{throw Error()}catch(p){Q=p}o()}}catch(p){if(p&&Q&&typeof p.stack=="string"){for(var ce=p.stack.split(`
`),me=Q.stack.split(`
`),B=ce.length-1,N=me.length-1;1<=B&&0<=N&&ce[B]!==me[N];)N--;for(;1<=B&&0<=N;B--,N--)if(ce[B]!==me[N]){if(B!==1||N!==1)do if(B--,N--,0>N||ce[B]!==me[N]){var e=`
`+ce[B].replace(" at new "," at ");return o.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",o.displayName)),e}while(1<=B&&0<=N);break}}}finally{hx=!1,Error.prepareStackTrace=W}return(o=o?o.displayName||o.name:"")?p0(o):""}function p7(o){switch(o.tag){case 5:return p0(o.type);case 16:return p0("Lazy");case 13:return p0("Suspense");case 19:return p0("SuspenseList");case 0:case 2:case 15:return o=vx(o.type,!1),o;case 11:return o=vx(o.type.render,!1),o;case 1:return o=vx(o.type,!0),o;default:return""}}function h2(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Vd:return"Fragment";case Hd:return"Portal";case u2:return"Profiler";case Fb:return"StrictMode";case f2:return"Suspense";case c2:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case V4:return(o.displayName||"Context")+".Consumer";case H4:return(o._context.displayName||"Context")+".Provider";case _b:var P=o.render;return o=o.displayName,o||(o=P.displayName||P.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case zb:return P=o.displayName||null,P!==null?P:h2(o.type)||"Memo";case Eh:P=o._payload,o=o._init;try{return h2(o(P))}catch{}}return null}function g7(o){var P=o.type;switch(o.tag){case 24:return"Cache";case 9:return(P.displayName||"Context")+".Consumer";case 10:return(P._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=P.render,o=o.displayName||o.name||"",P.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return P;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h2(P);case 8:return P===Fb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof P=="function")return P.displayName||P.name||null;if(typeof P=="string")return P}return null}function Yh(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function W4(o){var P=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(P==="checkbox"||P==="radio")}function y7(o){var P=W4(o)?"checked":"value",W=Object.getOwnPropertyDescriptor(o.constructor.prototype,P),Q=""+o[P];if(!o.hasOwnProperty(P)&&typeof W<"u"&&typeof W.get=="function"&&typeof W.set=="function"){var ce=W.get,me=W.set;return Object.defineProperty(o,P,{configurable:!0,get:function(){return ce.call(this)},set:function(B){Q=""+B,me.call(this,B)}}),Object.defineProperty(o,P,{enumerable:W.enumerable}),{getValue:function(){return Q},setValue:function(B){Q=""+B},stopTracking:function(){o._valueTracker=null,delete o[P]}}}}function Qg(o){o._valueTracker||(o._valueTracker=y7(o))}function j4(o){if(!o)return!1;var P=o._valueTracker;if(!P)return!0;var W=P.getValue(),Q="";return o&&(Q=W4(o)?o.checked?"true":"false":o.value),o=Q,o!==W?(P.setValue(o),!0):!1}function Ny(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function v2(o,P){var W=P.checked;return Po({},P,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:W??o._wrapperState.initialChecked})}function LT(o,P){var W=P.defaultValue==null?"":P.defaultValue,Q=P.checked!=null?P.checked:P.defaultChecked;W=Yh(P.value!=null?P.value:W),o._wrapperState={initialChecked:Q,initialValue:W,controlled:P.type==="checkbox"||P.type==="radio"?P.checked!=null:P.value!=null}}function Y4(o,P){P=P.checked,P!=null&&kb(o,"checked",P,!1)}function d2(o,P){Y4(o,P);var W=Yh(P.value),Q=P.type;if(W!=null)Q==="number"?(W===0&&o.value===""||o.value!=W)&&(o.value=""+W):o.value!==""+W&&(o.value=""+W);else if(Q==="submit"||Q==="reset"){o.removeAttribute("value");return}P.hasOwnProperty("value")?p2(o,P.type,W):P.hasOwnProperty("defaultValue")&&p2(o,P.type,Yh(P.defaultValue)),P.checked==null&&P.defaultChecked!=null&&(o.defaultChecked=!!P.defaultChecked)}function PT(o,P,W){if(P.hasOwnProperty("value")||P.hasOwnProperty("defaultValue")){var Q=P.type;if(!(Q!=="submit"&&Q!=="reset"||P.value!==void 0&&P.value!==null))return;P=""+o._wrapperState.initialValue,W||P===o.value||(o.value=P),o.defaultValue=P}W=o.name,W!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,W!==""&&(o.name=W)}function p2(o,P,W){(P!=="number"||Ny(o.ownerDocument)!==o)&&(W==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+W&&(o.defaultValue=""+W))}var g0=Array.isArray;function qd(o,P,W,Q){if(o=o.options,P){P={};for(var ce=0;ce<W.length;ce++)P["$"+W[ce]]=!0;for(W=0;W<o.length;W++)ce=P.hasOwnProperty("$"+o[W].value),o[W].selected!==ce&&(o[W].selected=ce),ce&&Q&&(o[W].defaultSelected=!0)}else{for(W=""+Yh(W),P=null,ce=0;ce<o.length;ce++){if(o[ce].value===W){o[ce].selected=!0,Q&&(o[ce].defaultSelected=!0);return}P!==null||o[ce].disabled||(P=o[ce])}P!==null&&(P.selected=!0)}}function g2(o,P){if(P.dangerouslySetInnerHTML!=null)throw Error(ga(91));return Po({},P,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function RT(o,P){var W=P.value;if(W==null){if(W=P.children,P=P.defaultValue,W!=null){if(P!=null)throw Error(ga(92));if(g0(W)){if(1<W.length)throw Error(ga(93));W=W[0]}P=W}P==null&&(P=""),W=P}o._wrapperState={initialValue:Yh(W)}}function Z4(o,P){var W=Yh(P.value),Q=Yh(P.defaultValue);W!=null&&(W=""+W,W!==o.value&&(o.value=W),P.defaultValue==null&&o.defaultValue!==W&&(o.defaultValue=W)),Q!=null&&(o.defaultValue=""+Q)}function DT(o){var P=o.textContent;P===o._wrapperState.initialValue&&P!==""&&P!==null&&(o.value=P)}function X4(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function y2(o,P){return o==null||o==="http://www.w3.org/1999/xhtml"?X4(P):o==="http://www.w3.org/2000/svg"&&P==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var qg,$4=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(P,W,Q,ce){MSApp.execUnsafeLocalFunction(function(){return o(P,W,Q,ce)})}:o}(function(o,P){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=P;else{for(qg=qg||document.createElement("div"),qg.innerHTML="<svg>"+P.valueOf().toString()+"</svg>",P=qg.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;P.firstChild;)o.appendChild(P.firstChild)}});function F0(o,P){if(P){var W=o.firstChild;if(W&&W===o.lastChild&&W.nodeType===3){W.nodeValue=P;return}}o.textContent=P}var T0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m7=["Webkit","ms","Moz","O"];Object.keys(T0).forEach(function(o){m7.forEach(function(P){P=P+o.charAt(0).toUpperCase()+o.substring(1),T0[P]=T0[o]})});function K4(o,P,W){return P==null||typeof P=="boolean"||P===""?"":W||typeof P!="number"||P===0||T0.hasOwnProperty(o)&&T0[o]?(""+P).trim():P+"px"}function J4(o,P){o=o.style;for(var W in P)if(P.hasOwnProperty(W)){var Q=W.indexOf("--")===0,ce=K4(W,P[W],Q);W==="float"&&(W="cssFloat"),Q?o.setProperty(W,ce):o[W]=ce}}var x7=Po({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m2(o,P){if(P){if(x7[o]&&(P.children!=null||P.dangerouslySetInnerHTML!=null))throw Error(ga(137,o));if(P.dangerouslySetInnerHTML!=null){if(P.children!=null)throw Error(ga(60));if(typeof P.dangerouslySetInnerHTML!="object"||!("__html"in P.dangerouslySetInnerHTML))throw Error(ga(61))}if(P.style!=null&&typeof P.style!="object")throw Error(ga(62))}}function x2(o,P){if(o.indexOf("-")===-1)return typeof P.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b2=null;function Ob(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var w2=null,ep=null,tp=null;function IT(o){if(o=cg(o)){if(typeof w2!="function")throw Error(ga(280));var P=o.stateNode;P&&(P=Pm(P),w2(o.stateNode,o.type,P))}}function Q4(o){ep?tp?tp.push(o):tp=[o]:ep=o}function q4(){if(ep){var o=ep,P=tp;if(tp=ep=null,IT(o),P)for(o=0;o<P.length;o++)IT(P[o])}}function eS(o,P){return o(P)}function tS(){}var dx=!1;function rS(o,P,W){if(dx)return o(P,W);dx=!0;try{return eS(o,P,W)}finally{dx=!1,(ep!==null||tp!==null)&&(tS(),q4())}}function _0(o,P){var W=o.stateNode;if(W===null)return null;var Q=Pm(W);if(Q===null)return null;W=Q[P];e:switch(P){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Q=!Q.disabled)||(o=o.type,Q=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!Q;break e;default:o=!1}if(o)return null;if(W&&typeof W!="function")throw Error(ga(231,P,typeof W));return W}var T2=!1;if(Nc)try{var r0={};Object.defineProperty(r0,"passive",{get:function(){T2=!0}}),window.addEventListener("test",r0,r0),window.removeEventListener("test",r0,r0)}catch{T2=!1}function b7(o,P,W,Q,ce,me,B,N,e){var p=Array.prototype.slice.call(arguments,3);try{P.apply(W,p)}catch(L){this.onError(L)}}var A0=!1,Uy=null,Hy=!1,A2=null,w7={onError:function(o){A0=!0,Uy=o}};function T7(o,P,W,Q,ce,me,B,N,e){A0=!1,Uy=null,b7.apply(w7,arguments)}function A7(o,P,W,Q,ce,me,B,N,e){if(T7.apply(this,arguments),A0){if(A0){var p=Uy;A0=!1,Uy=null}else throw Error(ga(198));Hy||(Hy=!0,A2=p)}}function rd(o){var P=o,W=o;if(o.alternate)for(;P.return;)P=P.return;else{o=P;do P=o,P.flags&4098&&(W=P.return),o=P.return;while(o)}return P.tag===3?W:null}function nS(o){if(o.tag===13){var P=o.memoizedState;if(P===null&&(o=o.alternate,o!==null&&(P=o.memoizedState)),P!==null)return P.dehydrated}return null}function kT(o){if(rd(o)!==o)throw Error(ga(188))}function S7(o){var P=o.alternate;if(!P){if(P=rd(o),P===null)throw Error(ga(188));return P!==o?null:o}for(var W=o,Q=P;;){var ce=W.return;if(ce===null)break;var me=ce.alternate;if(me===null){if(Q=ce.return,Q!==null){W=Q;continue}break}if(ce.child===me.child){for(me=ce.child;me;){if(me===W)return kT(ce),o;if(me===Q)return kT(ce),P;me=me.sibling}throw Error(ga(188))}if(W.return!==Q.return)W=ce,Q=me;else{for(var B=!1,N=ce.child;N;){if(N===W){B=!0,W=ce,Q=me;break}if(N===Q){B=!0,Q=ce,W=me;break}N=N.sibling}if(!B){for(N=me.child;N;){if(N===W){B=!0,W=me,Q=ce;break}if(N===Q){B=!0,Q=me,W=ce;break}N=N.sibling}if(!B)throw Error(ga(189))}}if(W.alternate!==Q)throw Error(ga(190))}if(W.tag!==3)throw Error(ga(188));return W.stateNode.current===W?o:P}function aS(o){return o=S7(o),o!==null?iS(o):null}function iS(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var P=iS(o);if(P!==null)return P;o=o.sibling}return null}var oS=iu.unstable_scheduleCallback,FT=iu.unstable_cancelCallback,M7=iu.unstable_shouldYield,E7=iu.unstable_requestPaint,Go=iu.unstable_now,C7=iu.unstable_getCurrentPriorityLevel,Bb=iu.unstable_ImmediatePriority,sS=iu.unstable_UserBlockingPriority,Vy=iu.unstable_NormalPriority,L7=iu.unstable_LowPriority,lS=iu.unstable_IdlePriority,Mm=null,Xf=null;function P7(o){if(Xf&&typeof Xf.onCommitFiberRoot=="function")try{Xf.onCommitFiberRoot(Mm,o,void 0,(o.current.flags&128)===128)}catch{}}var pf=Math.clz32?Math.clz32:I7,R7=Math.log,D7=Math.LN2;function I7(o){return o>>>=0,o===0?32:31-(R7(o)/D7|0)|0}var ey=64,ty=4194304;function y0(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Gy(o,P){var W=o.pendingLanes;if(W===0)return 0;var Q=0,ce=o.suspendedLanes,me=o.pingedLanes,B=W&268435455;if(B!==0){var N=B&~ce;N!==0?Q=y0(N):(me&=B,me!==0&&(Q=y0(me)))}else B=W&~ce,B!==0?Q=y0(B):me!==0&&(Q=y0(me));if(Q===0)return 0;if(P!==0&&P!==Q&&!(P&ce)&&(ce=Q&-Q,me=P&-P,ce>=me||ce===16&&(me&4194240)!==0))return P;if(Q&4&&(Q|=W&16),P=o.entangledLanes,P!==0)for(o=o.entanglements,P&=Q;0<P;)W=31-pf(P),ce=1<<W,Q|=o[W],P&=~ce;return Q}function k7(o,P){switch(o){case 1:case 2:case 4:return P+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return P+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F7(o,P){for(var W=o.suspendedLanes,Q=o.pingedLanes,ce=o.expirationTimes,me=o.pendingLanes;0<me;){var B=31-pf(me),N=1<<B,e=ce[B];e===-1?(!(N&W)||N&Q)&&(ce[B]=k7(N,P)):e<=P&&(o.expiredLanes|=N),me&=~N}}function S2(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function uS(){var o=ey;return ey<<=1,!(ey&4194240)&&(ey=64),o}function px(o){for(var P=[],W=0;31>W;W++)P.push(o);return P}function ug(o,P,W){o.pendingLanes|=P,P!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,P=31-pf(P),o[P]=W}function _7(o,P){var W=o.pendingLanes&~P;o.pendingLanes=P,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=P,o.mutableReadLanes&=P,o.entangledLanes&=P,P=o.entanglements;var Q=o.eventTimes;for(o=o.expirationTimes;0<W;){var ce=31-pf(W),me=1<<ce;P[ce]=0,Q[ce]=-1,o[ce]=-1,W&=~me}}function Nb(o,P){var W=o.entangledLanes|=P;for(o=o.entanglements;W;){var Q=31-pf(W),ce=1<<Q;ce&P|o[Q]&P&&(o[Q]|=P),W&=~ce}}var Zi=0;function fS(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var cS,Ub,hS,vS,dS,M2=!1,ry=[],_h=null,zh=null,Oh=null,z0=new Map,O0=new Map,Lh=[],z7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _T(o,P){switch(o){case"focusin":case"focusout":_h=null;break;case"dragenter":case"dragleave":zh=null;break;case"mouseover":case"mouseout":Oh=null;break;case"pointerover":case"pointerout":z0.delete(P.pointerId);break;case"gotpointercapture":case"lostpointercapture":O0.delete(P.pointerId)}}function n0(o,P,W,Q,ce,me){return o===null||o.nativeEvent!==me?(o={blockedOn:P,domEventName:W,eventSystemFlags:Q,nativeEvent:me,targetContainers:[ce]},P!==null&&(P=cg(P),P!==null&&Ub(P)),o):(o.eventSystemFlags|=Q,P=o.targetContainers,ce!==null&&P.indexOf(ce)===-1&&P.push(ce),o)}function O7(o,P,W,Q,ce){switch(P){case"focusin":return _h=n0(_h,o,P,W,Q,ce),!0;case"dragenter":return zh=n0(zh,o,P,W,Q,ce),!0;case"mouseover":return Oh=n0(Oh,o,P,W,Q,ce),!0;case"pointerover":var me=ce.pointerId;return z0.set(me,n0(z0.get(me)||null,o,P,W,Q,ce)),!0;case"gotpointercapture":return me=ce.pointerId,O0.set(me,n0(O0.get(me)||null,o,P,W,Q,ce)),!0}return!1}function pS(o){var P=Bv(o.target);if(P!==null){var W=rd(P);if(W!==null){if(P=W.tag,P===13){if(P=nS(W),P!==null){o.blockedOn=P,dS(o.priority,function(){hS(W)});return}}else if(P===3&&W.stateNode.current.memoizedState.isDehydrated){o.blockedOn=W.tag===3?W.stateNode.containerInfo:null;return}}}o.blockedOn=null}function by(o){if(o.blockedOn!==null)return!1;for(var P=o.targetContainers;0<P.length;){var W=E2(o.domEventName,o.eventSystemFlags,P[0],o.nativeEvent);if(W===null){W=o.nativeEvent;var Q=new W.constructor(W.type,W);b2=Q,W.target.dispatchEvent(Q),b2=null}else return P=cg(W),P!==null&&Ub(P),o.blockedOn=W,!1;P.shift()}return!0}function zT(o,P,W){by(o)&&W.delete(P)}function B7(){M2=!1,_h!==null&&by(_h)&&(_h=null),zh!==null&&by(zh)&&(zh=null),Oh!==null&&by(Oh)&&(Oh=null),z0.forEach(zT),O0.forEach(zT)}function a0(o,P){o.blockedOn===P&&(o.blockedOn=null,M2||(M2=!0,iu.unstable_scheduleCallback(iu.unstable_NormalPriority,B7)))}function B0(o){function P(ce){return a0(ce,o)}if(0<ry.length){a0(ry[0],o);for(var W=1;W<ry.length;W++){var Q=ry[W];Q.blockedOn===o&&(Q.blockedOn=null)}}for(_h!==null&&a0(_h,o),zh!==null&&a0(zh,o),Oh!==null&&a0(Oh,o),z0.forEach(P),O0.forEach(P),W=0;W<Lh.length;W++)Q=Lh[W],Q.blockedOn===o&&(Q.blockedOn=null);for(;0<Lh.length&&(W=Lh[0],W.blockedOn===null);)pS(W),W.blockedOn===null&&Lh.shift()}var rp=Wc.ReactCurrentBatchConfig,Wy=!0;function N7(o,P,W,Q){var ce=Zi,me=rp.transition;rp.transition=null;try{Zi=1,Hb(o,P,W,Q)}finally{Zi=ce,rp.transition=me}}function U7(o,P,W,Q){var ce=Zi,me=rp.transition;rp.transition=null;try{Zi=4,Hb(o,P,W,Q)}finally{Zi=ce,rp.transition=me}}function Hb(o,P,W,Q){if(Wy){var ce=E2(o,P,W,Q);if(ce===null)Mx(o,P,Q,jy,W),_T(o,Q);else if(O7(ce,o,P,W,Q))Q.stopPropagation();else if(_T(o,Q),P&4&&-1<z7.indexOf(o)){for(;ce!==null;){var me=cg(ce);if(me!==null&&cS(me),me=E2(o,P,W,Q),me===null&&Mx(o,P,Q,jy,W),me===ce)break;ce=me}ce!==null&&Q.stopPropagation()}else Mx(o,P,Q,null,W)}}var jy=null;function E2(o,P,W,Q){if(jy=null,o=Ob(Q),o=Bv(o),o!==null)if(P=rd(o),P===null)o=null;else if(W=P.tag,W===13){if(o=nS(P),o!==null)return o;o=null}else if(W===3){if(P.stateNode.current.memoizedState.isDehydrated)return P.tag===3?P.stateNode.containerInfo:null;o=null}else P!==o&&(o=null);return jy=o,null}function gS(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C7()){case Bb:return 1;case sS:return 4;case Vy:case L7:return 16;case lS:return 536870912;default:return 16}default:return 16}}var Ih=null,Vb=null,wy=null;function yS(){if(wy)return wy;var o,P=Vb,W=P.length,Q,ce="value"in Ih?Ih.value:Ih.textContent,me=ce.length;for(o=0;o<W&&P[o]===ce[o];o++);var B=W-o;for(Q=1;Q<=B&&P[W-Q]===ce[me-Q];Q++);return wy=ce.slice(o,1<Q?1-Q:void 0)}function Ty(o){var P=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&P===13&&(o=13)):o=P,o===10&&(o=13),32<=o||o===13?o:0}function ny(){return!0}function OT(){return!1}function lu(o){function P(W,Q,ce,me,B){this._reactName=W,this._targetInst=ce,this.type=Q,this.nativeEvent=me,this.target=B,this.currentTarget=null;for(var N in o)o.hasOwnProperty(N)&&(W=o[N],this[N]=W?W(me):me[N]);return this.isDefaultPrevented=(me.defaultPrevented!=null?me.defaultPrevented:me.returnValue===!1)?ny:OT,this.isPropagationStopped=OT,this}return Po(P.prototype,{preventDefault:function(){this.defaultPrevented=!0;var W=this.nativeEvent;W&&(W.preventDefault?W.preventDefault():typeof W.returnValue!="unknown"&&(W.returnValue=!1),this.isDefaultPrevented=ny)},stopPropagation:function(){var W=this.nativeEvent;W&&(W.stopPropagation?W.stopPropagation():typeof W.cancelBubble!="unknown"&&(W.cancelBubble=!0),this.isPropagationStopped=ny)},persist:function(){},isPersistent:ny}),P}var Mp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gb=lu(Mp),fg=Po({},Mp,{view:0,detail:0}),H7=lu(fg),gx,yx,i0,Em=Po({},fg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wb,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==i0&&(i0&&o.type==="mousemove"?(gx=o.screenX-i0.screenX,yx=o.screenY-i0.screenY):yx=gx=0,i0=o),gx)},movementY:function(o){return"movementY"in o?o.movementY:yx}}),BT=lu(Em),V7=Po({},Em,{dataTransfer:0}),G7=lu(V7),W7=Po({},fg,{relatedTarget:0}),mx=lu(W7),j7=Po({},Mp,{animationName:0,elapsedTime:0,pseudoElement:0}),Y7=lu(j7),Z7=Po({},Mp,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),X7=lu(Z7),$7=Po({},Mp,{data:0}),NT=lu($7),K7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q7(o){var P=this.nativeEvent;return P.getModifierState?P.getModifierState(o):(o=Q7[o])?!!P[o]:!1}function Wb(){return q7}var eP=Po({},fg,{key:function(o){if(o.key){var P=K7[o.key]||o.key;if(P!=="Unidentified")return P}return o.type==="keypress"?(o=Ty(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?J7[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wb,charCode:function(o){return o.type==="keypress"?Ty(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ty(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),tP=lu(eP),rP=Po({},Em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UT=lu(rP),nP=Po({},fg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wb}),aP=lu(nP),iP=Po({},Mp,{propertyName:0,elapsedTime:0,pseudoElement:0}),oP=lu(iP),sP=Po({},Em,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),lP=lu(sP),uP=[9,13,27,32],jb=Nc&&"CompositionEvent"in window,S0=null;Nc&&"documentMode"in document&&(S0=document.documentMode);var fP=Nc&&"TextEvent"in window&&!S0,mS=Nc&&(!jb||S0&&8<S0&&11>=S0),HT=String.fromCharCode(32),VT=!1;function xS(o,P){switch(o){case"keyup":return uP.indexOf(P.keyCode)!==-1;case"keydown":return P.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Gd=!1;function cP(o,P){switch(o){case"compositionend":return bS(P);case"keypress":return P.which!==32?null:(VT=!0,HT);case"textInput":return o=P.data,o===HT&&VT?null:o;default:return null}}function hP(o,P){if(Gd)return o==="compositionend"||!jb&&xS(o,P)?(o=yS(),wy=Vb=Ih=null,Gd=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(P.ctrlKey||P.altKey||P.metaKey)||P.ctrlKey&&P.altKey){if(P.char&&1<P.char.length)return P.char;if(P.which)return String.fromCharCode(P.which)}return null;case"compositionend":return mS&&P.locale!=="ko"?null:P.data;default:return null}}var vP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GT(o){var P=o&&o.nodeName&&o.nodeName.toLowerCase();return P==="input"?!!vP[o.type]:P==="textarea"}function wS(o,P,W,Q){Q4(Q),P=Yy(P,"onChange"),0<P.length&&(W=new Gb("onChange","change",null,W,Q),o.push({event:W,listeners:P}))}var M0=null,N0=null;function dP(o){IS(o,0)}function Cm(o){var P=Yd(o);if(j4(P))return o}function pP(o,P){if(o==="change")return P}var TS=!1;if(Nc){var xx;if(Nc){var bx="oninput"in document;if(!bx){var WT=document.createElement("div");WT.setAttribute("oninput","return;"),bx=typeof WT.oninput=="function"}xx=bx}else xx=!1;TS=xx&&(!document.documentMode||9<document.documentMode)}function jT(){M0&&(M0.detachEvent("onpropertychange",AS),N0=M0=null)}function AS(o){if(o.propertyName==="value"&&Cm(N0)){var P=[];wS(P,N0,o,Ob(o)),rS(dP,P)}}function gP(o,P,W){o==="focusin"?(jT(),M0=P,N0=W,M0.attachEvent("onpropertychange",AS)):o==="focusout"&&jT()}function yP(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Cm(N0)}function mP(o,P){if(o==="click")return Cm(P)}function xP(o,P){if(o==="input"||o==="change")return Cm(P)}function bP(o,P){return o===P&&(o!==0||1/o===1/P)||o!==o&&P!==P}var yf=typeof Object.is=="function"?Object.is:bP;function U0(o,P){if(yf(o,P))return!0;if(typeof o!="object"||o===null||typeof P!="object"||P===null)return!1;var W=Object.keys(o),Q=Object.keys(P);if(W.length!==Q.length)return!1;for(Q=0;Q<W.length;Q++){var ce=W[Q];if(!l2.call(P,ce)||!yf(o[ce],P[ce]))return!1}return!0}function YT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ZT(o,P){var W=YT(o);o=0;for(var Q;W;){if(W.nodeType===3){if(Q=o+W.textContent.length,o<=P&&Q>=P)return{node:W,offset:P-o};o=Q}e:{for(;W;){if(W.nextSibling){W=W.nextSibling;break e}W=W.parentNode}W=void 0}W=YT(W)}}function SS(o,P){return o&&P?o===P?!0:o&&o.nodeType===3?!1:P&&P.nodeType===3?SS(o,P.parentNode):"contains"in o?o.contains(P):o.compareDocumentPosition?!!(o.compareDocumentPosition(P)&16):!1:!1}function MS(){for(var o=window,P=Ny();P instanceof o.HTMLIFrameElement;){try{var W=typeof P.contentWindow.location.href=="string"}catch{W=!1}if(W)o=P.contentWindow;else break;P=Ny(o.document)}return P}function Yb(o){var P=o&&o.nodeName&&o.nodeName.toLowerCase();return P&&(P==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||P==="textarea"||o.contentEditable==="true")}function wP(o){var P=MS(),W=o.focusedElem,Q=o.selectionRange;if(P!==W&&W&&W.ownerDocument&&SS(W.ownerDocument.documentElement,W)){if(Q!==null&&Yb(W)){if(P=Q.start,o=Q.end,o===void 0&&(o=P),"selectionStart"in W)W.selectionStart=P,W.selectionEnd=Math.min(o,W.value.length);else if(o=(P=W.ownerDocument||document)&&P.defaultView||window,o.getSelection){o=o.getSelection();var ce=W.textContent.length,me=Math.min(Q.start,ce);Q=Q.end===void 0?me:Math.min(Q.end,ce),!o.extend&&me>Q&&(ce=Q,Q=me,me=ce),ce=ZT(W,me);var B=ZT(W,Q);ce&&B&&(o.rangeCount!==1||o.anchorNode!==ce.node||o.anchorOffset!==ce.offset||o.focusNode!==B.node||o.focusOffset!==B.offset)&&(P=P.createRange(),P.setStart(ce.node,ce.offset),o.removeAllRanges(),me>Q?(o.addRange(P),o.extend(B.node,B.offset)):(P.setEnd(B.node,B.offset),o.addRange(P)))}}for(P=[],o=W;o=o.parentNode;)o.nodeType===1&&P.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<P.length;W++)o=P[W],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var TP=Nc&&"documentMode"in document&&11>=document.documentMode,Wd=null,C2=null,E0=null,L2=!1;function XT(o,P,W){var Q=W.window===W?W.document:W.nodeType===9?W:W.ownerDocument;L2||Wd==null||Wd!==Ny(Q)||(Q=Wd,"selectionStart"in Q&&Yb(Q)?Q={start:Q.selectionStart,end:Q.selectionEnd}:(Q=(Q.ownerDocument&&Q.ownerDocument.defaultView||window).getSelection(),Q={anchorNode:Q.anchorNode,anchorOffset:Q.anchorOffset,focusNode:Q.focusNode,focusOffset:Q.focusOffset}),E0&&U0(E0,Q)||(E0=Q,Q=Yy(C2,"onSelect"),0<Q.length&&(P=new Gb("onSelect","select",null,P,W),o.push({event:P,listeners:Q}),P.target=Wd)))}function ay(o,P){var W={};return W[o.toLowerCase()]=P.toLowerCase(),W["Webkit"+o]="webkit"+P,W["Moz"+o]="moz"+P,W}var jd={animationend:ay("Animation","AnimationEnd"),animationiteration:ay("Animation","AnimationIteration"),animationstart:ay("Animation","AnimationStart"),transitionend:ay("Transition","TransitionEnd")},wx={},ES={};Nc&&(ES=document.createElement("div").style,"AnimationEvent"in window||(delete jd.animationend.animation,delete jd.animationiteration.animation,delete jd.animationstart.animation),"TransitionEvent"in window||delete jd.transitionend.transition);function Lm(o){if(wx[o])return wx[o];if(!jd[o])return o;var P=jd[o],W;for(W in P)if(P.hasOwnProperty(W)&&W in ES)return wx[o]=P[W];return o}var CS=Lm("animationend"),LS=Lm("animationiteration"),PS=Lm("animationstart"),RS=Lm("transitionend"),DS=new Map,$T="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qh(o,P){DS.set(o,P),td(P,[o])}for(var Tx=0;Tx<$T.length;Tx++){var Ax=$T[Tx],AP=Ax.toLowerCase(),SP=Ax[0].toUpperCase()+Ax.slice(1);Qh(AP,"on"+SP)}Qh(CS,"onAnimationEnd");Qh(LS,"onAnimationIteration");Qh(PS,"onAnimationStart");Qh("dblclick","onDoubleClick");Qh("focusin","onFocus");Qh("focusout","onBlur");Qh(RS,"onTransitionEnd");fp("onMouseEnter",["mouseout","mouseover"]);fp("onMouseLeave",["mouseout","mouseover"]);fp("onPointerEnter",["pointerout","pointerover"]);fp("onPointerLeave",["pointerout","pointerover"]);td("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));td("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));td("onBeforeInput",["compositionend","keypress","textInput","paste"]);td("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));td("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));td("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var m0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MP=new Set("cancel close invalid load scroll toggle".split(" ").concat(m0));function KT(o,P,W){var Q=o.type||"unknown-event";o.currentTarget=W,A7(Q,P,void 0,o),o.currentTarget=null}function IS(o,P){P=(P&4)!==0;for(var W=0;W<o.length;W++){var Q=o[W],ce=Q.event;Q=Q.listeners;e:{var me=void 0;if(P)for(var B=Q.length-1;0<=B;B--){var N=Q[B],e=N.instance,p=N.currentTarget;if(N=N.listener,e!==me&&ce.isPropagationStopped())break e;KT(ce,N,p),me=e}else for(B=0;B<Q.length;B++){if(N=Q[B],e=N.instance,p=N.currentTarget,N=N.listener,e!==me&&ce.isPropagationStopped())break e;KT(ce,N,p),me=e}}}if(Hy)throw o=A2,Hy=!1,A2=null,o}function lo(o,P){var W=P[k2];W===void 0&&(W=P[k2]=new Set);var Q=o+"__bubble";W.has(Q)||(kS(P,o,2,!1),W.add(Q))}function Sx(o,P,W){var Q=0;P&&(Q|=4),kS(W,o,Q,P)}var iy="_reactListening"+Math.random().toString(36).slice(2);function H0(o){if(!o[iy]){o[iy]=!0,U4.forEach(function(W){W!=="selectionchange"&&(MP.has(W)||Sx(W,!1,o),Sx(W,!0,o))});var P=o.nodeType===9?o:o.ownerDocument;P===null||P[iy]||(P[iy]=!0,Sx("selectionchange",!1,P))}}function kS(o,P,W,Q){switch(gS(P)){case 1:var ce=N7;break;case 4:ce=U7;break;default:ce=Hb}W=ce.bind(null,P,W,o),ce=void 0,!T2||P!=="touchstart"&&P!=="touchmove"&&P!=="wheel"||(ce=!0),Q?ce!==void 0?o.addEventListener(P,W,{capture:!0,passive:ce}):o.addEventListener(P,W,!0):ce!==void 0?o.addEventListener(P,W,{passive:ce}):o.addEventListener(P,W,!1)}function Mx(o,P,W,Q,ce){var me=Q;if(!(P&1)&&!(P&2)&&Q!==null)e:for(;;){if(Q===null)return;var B=Q.tag;if(B===3||B===4){var N=Q.stateNode.containerInfo;if(N===ce||N.nodeType===8&&N.parentNode===ce)break;if(B===4)for(B=Q.return;B!==null;){var e=B.tag;if((e===3||e===4)&&(e=B.stateNode.containerInfo,e===ce||e.nodeType===8&&e.parentNode===ce))return;B=B.return}for(;N!==null;){if(B=Bv(N),B===null)return;if(e=B.tag,e===5||e===6){Q=me=B;continue e}N=N.parentNode}}Q=Q.return}rS(function(){var p=me,L=Ob(W),a=[];e:{var C=DS.get(o);if(C!==void 0){var w=Gb,h=o;switch(o){case"keypress":if(Ty(W)===0)break e;case"keydown":case"keyup":w=tP;break;case"focusin":h="focus",w=mx;break;case"focusout":h="blur",w=mx;break;case"beforeblur":case"afterblur":w=mx;break;case"click":if(W.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=BT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=G7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=aP;break;case CS:case LS:case PS:w=Y7;break;case RS:w=oP;break;case"scroll":w=H7;break;case"wheel":w=lP;break;case"copy":case"cut":case"paste":w=X7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=UT}var g=(P&4)!==0,t=!g&&o==="scroll",r=g?C!==null?C+"Capture":null:C;g=[];for(var s=p,n;s!==null;){n=s;var l=n.stateNode;if(n.tag===5&&l!==null&&(n=l,r!==null&&(l=_0(s,r),l!=null&&g.push(V0(s,l,n)))),t)break;s=s.return}0<g.length&&(C=new w(C,h,null,W,L),a.push({event:C,listeners:g}))}}if(!(P&7)){e:{if(C=o==="mouseover"||o==="pointerover",w=o==="mouseout"||o==="pointerout",C&&W!==b2&&(h=W.relatedTarget||W.fromElement)&&(Bv(h)||h[Uc]))break e;if((w||C)&&(C=L.window===L?L:(C=L.ownerDocument)?C.defaultView||C.parentWindow:window,w?(h=W.relatedTarget||W.toElement,w=p,h=h?Bv(h):null,h!==null&&(t=rd(h),h!==t||h.tag!==5&&h.tag!==6)&&(h=null)):(w=null,h=p),w!==h)){if(g=BT,l="onMouseLeave",r="onMouseEnter",s="mouse",(o==="pointerout"||o==="pointerover")&&(g=UT,l="onPointerLeave",r="onPointerEnter",s="pointer"),t=w==null?C:Yd(w),n=h==null?C:Yd(h),C=new g(l,s+"leave",w,W,L),C.target=t,C.relatedTarget=n,l=null,Bv(L)===p&&(g=new g(r,s+"enter",h,W,L),g.target=n,g.relatedTarget=t,l=g),t=l,w&&h)t:{for(g=w,r=h,s=0,n=g;n;n=Dd(n))s++;for(n=0,l=r;l;l=Dd(l))n++;for(;0<s-n;)g=Dd(g),s--;for(;0<n-s;)r=Dd(r),n--;for(;s--;){if(g===r||r!==null&&g===r.alternate)break t;g=Dd(g),r=Dd(r)}g=null}else g=null;w!==null&&JT(a,C,w,g,!1),h!==null&&t!==null&&JT(a,t,h,g,!0)}}e:{if(C=p?Yd(p):window,w=C.nodeName&&C.nodeName.toLowerCase(),w==="select"||w==="input"&&C.type==="file")var c=pP;else if(GT(C))if(TS)c=xP;else{c=yP;var f=gP}else(w=C.nodeName)&&w.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(c=mP);if(c&&(c=c(o,p))){wS(a,c,W,L);break e}f&&f(o,C,p),o==="focusout"&&(f=C._wrapperState)&&f.controlled&&C.type==="number"&&p2(C,"number",C.value)}switch(f=p?Yd(p):window,o){case"focusin":(GT(f)||f.contentEditable==="true")&&(Wd=f,C2=p,E0=null);break;case"focusout":E0=C2=Wd=null;break;case"mousedown":L2=!0;break;case"contextmenu":case"mouseup":case"dragend":L2=!1,XT(a,W,L);break;case"selectionchange":if(TP)break;case"keydown":case"keyup":XT(a,W,L)}var m;if(jb)e:{switch(o){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Gd?xS(o,W)&&(v="onCompositionEnd"):o==="keydown"&&W.keyCode===229&&(v="onCompositionStart");v&&(mS&&W.locale!=="ko"&&(Gd||v!=="onCompositionStart"?v==="onCompositionEnd"&&Gd&&(m=yS()):(Ih=L,Vb="value"in Ih?Ih.value:Ih.textContent,Gd=!0)),f=Yy(p,v),0<f.length&&(v=new NT(v,o,null,W,L),a.push({event:v,listeners:f}),m?v.data=m:(m=bS(W),m!==null&&(v.data=m)))),(m=fP?cP(o,W):hP(o,W))&&(p=Yy(p,"onBeforeInput"),0<p.length&&(L=new NT("onBeforeInput","beforeinput",null,W,L),a.push({event:L,listeners:p}),L.data=m))}IS(a,P)})}function V0(o,P,W){return{instance:o,listener:P,currentTarget:W}}function Yy(o,P){for(var W=P+"Capture",Q=[];o!==null;){var ce=o,me=ce.stateNode;ce.tag===5&&me!==null&&(ce=me,me=_0(o,W),me!=null&&Q.unshift(V0(o,me,ce)),me=_0(o,P),me!=null&&Q.push(V0(o,me,ce))),o=o.return}return Q}function Dd(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function JT(o,P,W,Q,ce){for(var me=P._reactName,B=[];W!==null&&W!==Q;){var N=W,e=N.alternate,p=N.stateNode;if(e!==null&&e===Q)break;N.tag===5&&p!==null&&(N=p,ce?(e=_0(W,me),e!=null&&B.unshift(V0(W,e,N))):ce||(e=_0(W,me),e!=null&&B.push(V0(W,e,N)))),W=W.return}B.length!==0&&o.push({event:P,listeners:B})}var EP=/\r\n?/g,CP=/\u0000|\uFFFD/g;function QT(o){return(typeof o=="string"?o:""+o).replace(EP,`
`).replace(CP,"")}function oy(o,P,W){if(P=QT(P),QT(o)!==P&&W)throw Error(ga(425))}function Zy(){}var P2=null,R2=null;function D2(o,P){return o==="textarea"||o==="noscript"||typeof P.children=="string"||typeof P.children=="number"||typeof P.dangerouslySetInnerHTML=="object"&&P.dangerouslySetInnerHTML!==null&&P.dangerouslySetInnerHTML.__html!=null}var I2=typeof setTimeout=="function"?setTimeout:void 0,LP=typeof clearTimeout=="function"?clearTimeout:void 0,qT=typeof Promise=="function"?Promise:void 0,PP=typeof queueMicrotask=="function"?queueMicrotask:typeof qT<"u"?function(o){return qT.resolve(null).then(o).catch(RP)}:I2;function RP(o){setTimeout(function(){throw o})}function Ex(o,P){var W=P,Q=0;do{var ce=W.nextSibling;if(o.removeChild(W),ce&&ce.nodeType===8)if(W=ce.data,W==="/$"){if(Q===0){o.removeChild(ce),B0(P);return}Q--}else W!=="$"&&W!=="$?"&&W!=="$!"||Q++;W=ce}while(W);B0(P)}function Bh(o){for(;o!=null;o=o.nextSibling){var P=o.nodeType;if(P===1||P===3)break;if(P===8){if(P=o.data,P==="$"||P==="$!"||P==="$?")break;if(P==="/$")return null}}return o}function e5(o){o=o.previousSibling;for(var P=0;o;){if(o.nodeType===8){var W=o.data;if(W==="$"||W==="$!"||W==="$?"){if(P===0)return o;P--}else W==="/$"&&P++}o=o.previousSibling}return null}var Ep=Math.random().toString(36).slice(2),jf="__reactFiber$"+Ep,G0="__reactProps$"+Ep,Uc="__reactContainer$"+Ep,k2="__reactEvents$"+Ep,DP="__reactListeners$"+Ep,IP="__reactHandles$"+Ep;function Bv(o){var P=o[jf];if(P)return P;for(var W=o.parentNode;W;){if(P=W[Uc]||W[jf]){if(W=P.alternate,P.child!==null||W!==null&&W.child!==null)for(o=e5(o);o!==null;){if(W=o[jf])return W;o=e5(o)}return P}o=W,W=o.parentNode}return null}function cg(o){return o=o[jf]||o[Uc],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Yd(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(ga(33))}function Pm(o){return o[G0]||null}var F2=[],Zd=-1;function qh(o){return{current:o}}function uo(o){0>Zd||(o.current=F2[Zd],F2[Zd]=null,Zd--)}function ao(o,P){Zd++,F2[Zd]=o.current,o.current=P}var Zh={},Qs=qh(Zh),kl=qh(!1),jv=Zh;function cp(o,P){var W=o.type.contextTypes;if(!W)return Zh;var Q=o.stateNode;if(Q&&Q.__reactInternalMemoizedUnmaskedChildContext===P)return Q.__reactInternalMemoizedMaskedChildContext;var ce={},me;for(me in W)ce[me]=P[me];return Q&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=ce),ce}function Fl(o){return o=o.childContextTypes,o!=null}function Xy(){uo(kl),uo(Qs)}function t5(o,P,W){if(Qs.current!==Zh)throw Error(ga(168));ao(Qs,P),ao(kl,W)}function FS(o,P,W){var Q=o.stateNode;if(P=P.childContextTypes,typeof Q.getChildContext!="function")return W;Q=Q.getChildContext();for(var ce in Q)if(!(ce in P))throw Error(ga(108,g7(o)||"Unknown",ce));return Po({},W,Q)}function $y(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Zh,jv=Qs.current,ao(Qs,o),ao(kl,kl.current),!0}function r5(o,P,W){var Q=o.stateNode;if(!Q)throw Error(ga(169));W?(o=FS(o,P,jv),Q.__reactInternalMemoizedMergedChildContext=o,uo(kl),uo(Qs),ao(Qs,o)):uo(kl),ao(kl,W)}var Ic=null,Rm=!1,Cx=!1;function _S(o){Ic===null?Ic=[o]:Ic.push(o)}function kP(o){Rm=!0,_S(o)}function ev(){if(!Cx&&Ic!==null){Cx=!0;var o=0,P=Zi;try{var W=Ic;for(Zi=1;o<W.length;o++){var Q=W[o];do Q=Q(!0);while(Q!==null)}Ic=null,Rm=!1}catch(ce){throw Ic!==null&&(Ic=Ic.slice(o+1)),oS(Bb,ev),ce}finally{Zi=P,Cx=!1}}return null}var Xd=[],$d=0,Ky=null,Jy=0,Pu=[],Ru=0,Yv=null,Fc=1,_c="";function kv(o,P){Xd[$d++]=Jy,Xd[$d++]=Ky,Ky=o,Jy=P}function zS(o,P,W){Pu[Ru++]=Fc,Pu[Ru++]=_c,Pu[Ru++]=Yv,Yv=o;var Q=Fc;o=_c;var ce=32-pf(Q)-1;Q&=~(1<<ce),W+=1;var me=32-pf(P)+ce;if(30<me){var B=ce-ce%5;me=(Q&(1<<B)-1).toString(32),Q>>=B,ce-=B,Fc=1<<32-pf(P)+ce|W<<ce|Q,_c=me+o}else Fc=1<<me|W<<ce|Q,_c=o}function Zb(o){o.return!==null&&(kv(o,1),zS(o,1,0))}function Xb(o){for(;o===Ky;)Ky=Xd[--$d],Xd[$d]=null,Jy=Xd[--$d],Xd[$d]=null;for(;o===Yv;)Yv=Pu[--Ru],Pu[Ru]=null,_c=Pu[--Ru],Pu[Ru]=null,Fc=Pu[--Ru],Pu[Ru]=null}var ru=null,tu=null,mo=!1,vf=null;function OS(o,P){var W=Iu(5,null,null,0);W.elementType="DELETED",W.stateNode=P,W.return=o,P=o.deletions,P===null?(o.deletions=[W],o.flags|=16):P.push(W)}function n5(o,P){switch(o.tag){case 5:var W=o.type;return P=P.nodeType!==1||W.toLowerCase()!==P.nodeName.toLowerCase()?null:P,P!==null?(o.stateNode=P,ru=o,tu=Bh(P.firstChild),!0):!1;case 6:return P=o.pendingProps===""||P.nodeType!==3?null:P,P!==null?(o.stateNode=P,ru=o,tu=null,!0):!1;case 13:return P=P.nodeType!==8?null:P,P!==null?(W=Yv!==null?{id:Fc,overflow:_c}:null,o.memoizedState={dehydrated:P,treeContext:W,retryLane:1073741824},W=Iu(18,null,null,0),W.stateNode=P,W.return=o,o.child=W,ru=o,tu=null,!0):!1;default:return!1}}function _2(o){return(o.mode&1)!==0&&(o.flags&128)===0}function z2(o){if(mo){var P=tu;if(P){var W=P;if(!n5(o,P)){if(_2(o))throw Error(ga(418));P=Bh(W.nextSibling);var Q=ru;P&&n5(o,P)?OS(Q,W):(o.flags=o.flags&-4097|2,mo=!1,ru=o)}}else{if(_2(o))throw Error(ga(418));o.flags=o.flags&-4097|2,mo=!1,ru=o}}}function a5(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ru=o}function sy(o){if(o!==ru)return!1;if(!mo)return a5(o),mo=!0,!1;var P;if((P=o.tag!==3)&&!(P=o.tag!==5)&&(P=o.type,P=P!=="head"&&P!=="body"&&!D2(o.type,o.memoizedProps)),P&&(P=tu)){if(_2(o))throw BS(),Error(ga(418));for(;P;)OS(o,P),P=Bh(P.nextSibling)}if(a5(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ga(317));e:{for(o=o.nextSibling,P=0;o;){if(o.nodeType===8){var W=o.data;if(W==="/$"){if(P===0){tu=Bh(o.nextSibling);break e}P--}else W!=="$"&&W!=="$!"&&W!=="$?"||P++}o=o.nextSibling}tu=null}}else tu=ru?Bh(o.stateNode.nextSibling):null;return!0}function BS(){for(var o=tu;o;)o=Bh(o.nextSibling)}function hp(){tu=ru=null,mo=!1}function $b(o){vf===null?vf=[o]:vf.push(o)}var FP=Wc.ReactCurrentBatchConfig;function cf(o,P){if(o&&o.defaultProps){P=Po({},P),o=o.defaultProps;for(var W in o)P[W]===void 0&&(P[W]=o[W]);return P}return P}var Qy=qh(null),qy=null,Kd=null,Kb=null;function Jb(){Kb=Kd=qy=null}function Qb(o){var P=Qy.current;uo(Qy),o._currentValue=P}function O2(o,P,W){for(;o!==null;){var Q=o.alternate;if((o.childLanes&P)!==P?(o.childLanes|=P,Q!==null&&(Q.childLanes|=P)):Q!==null&&(Q.childLanes&P)!==P&&(Q.childLanes|=P),o===W)break;o=o.return}}function np(o,P){qy=o,Kb=Kd=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&P&&(Il=!0),o.firstContext=null)}function _u(o){var P=o._currentValue;if(Kb!==o)if(o={context:o,memoizedValue:P,next:null},Kd===null){if(qy===null)throw Error(ga(308));Kd=o,qy.dependencies={lanes:0,firstContext:o}}else Kd=Kd.next=o;return P}var Nv=null;function qb(o){Nv===null?Nv=[o]:Nv.push(o)}function NS(o,P,W,Q){var ce=P.interleaved;return ce===null?(W.next=W,qb(P)):(W.next=ce.next,ce.next=W),P.interleaved=W,Hc(o,Q)}function Hc(o,P){o.lanes|=P;var W=o.alternate;for(W!==null&&(W.lanes|=P),W=o,o=o.return;o!==null;)o.childLanes|=P,W=o.alternate,W!==null&&(W.childLanes|=P),W=o,o=o.return;return W.tag===3?W.stateNode:null}var Ch=!1;function e3(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function US(o,P){o=o.updateQueue,P.updateQueue===o&&(P.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Oc(o,P){return{eventTime:o,lane:P,tag:0,payload:null,callback:null,next:null}}function Nh(o,P,W){var Q=o.updateQueue;if(Q===null)return null;if(Q=Q.shared,_i&2){var ce=Q.pending;return ce===null?P.next=P:(P.next=ce.next,ce.next=P),Q.pending=P,Hc(o,W)}return ce=Q.interleaved,ce===null?(P.next=P,qb(Q)):(P.next=ce.next,ce.next=P),Q.interleaved=P,Hc(o,W)}function Ay(o,P,W){if(P=P.updateQueue,P!==null&&(P=P.shared,(W&4194240)!==0)){var Q=P.lanes;Q&=o.pendingLanes,W|=Q,P.lanes=W,Nb(o,W)}}function i5(o,P){var W=o.updateQueue,Q=o.alternate;if(Q!==null&&(Q=Q.updateQueue,W===Q)){var ce=null,me=null;if(W=W.firstBaseUpdate,W!==null){do{var B={eventTime:W.eventTime,lane:W.lane,tag:W.tag,payload:W.payload,callback:W.callback,next:null};me===null?ce=me=B:me=me.next=B,W=W.next}while(W!==null);me===null?ce=me=P:me=me.next=P}else ce=me=P;W={baseState:Q.baseState,firstBaseUpdate:ce,lastBaseUpdate:me,shared:Q.shared,effects:Q.effects},o.updateQueue=W;return}o=W.lastBaseUpdate,o===null?W.firstBaseUpdate=P:o.next=P,W.lastBaseUpdate=P}function em(o,P,W,Q){var ce=o.updateQueue;Ch=!1;var me=ce.firstBaseUpdate,B=ce.lastBaseUpdate,N=ce.shared.pending;if(N!==null){ce.shared.pending=null;var e=N,p=e.next;e.next=null,B===null?me=p:B.next=p,B=e;var L=o.alternate;L!==null&&(L=L.updateQueue,N=L.lastBaseUpdate,N!==B&&(N===null?L.firstBaseUpdate=p:N.next=p,L.lastBaseUpdate=e))}if(me!==null){var a=ce.baseState;B=0,L=p=e=null,N=me;do{var C=N.lane,w=N.eventTime;if((Q&C)===C){L!==null&&(L=L.next={eventTime:w,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var h=o,g=N;switch(C=P,w=W,g.tag){case 1:if(h=g.payload,typeof h=="function"){a=h.call(w,a,C);break e}a=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,C=typeof h=="function"?h.call(w,a,C):h,C==null)break e;a=Po({},a,C);break e;case 2:Ch=!0}}N.callback!==null&&N.lane!==0&&(o.flags|=64,C=ce.effects,C===null?ce.effects=[N]:C.push(N))}else w={eventTime:w,lane:C,tag:N.tag,payload:N.payload,callback:N.callback,next:null},L===null?(p=L=w,e=a):L=L.next=w,B|=C;if(N=N.next,N===null){if(N=ce.shared.pending,N===null)break;C=N,N=C.next,C.next=null,ce.lastBaseUpdate=C,ce.shared.pending=null}}while(1);if(L===null&&(e=a),ce.baseState=e,ce.firstBaseUpdate=p,ce.lastBaseUpdate=L,P=ce.shared.interleaved,P!==null){ce=P;do B|=ce.lane,ce=ce.next;while(ce!==P)}else me===null&&(ce.shared.lanes=0);Xv|=B,o.lanes=B,o.memoizedState=a}}function o5(o,P,W){if(o=P.effects,P.effects=null,o!==null)for(P=0;P<o.length;P++){var Q=o[P],ce=Q.callback;if(ce!==null){if(Q.callback=null,Q=W,typeof ce!="function")throw Error(ga(191,ce));ce.call(Q)}}}var HS=new N4.Component().refs;function B2(o,P,W,Q){P=o.memoizedState,W=W(Q,P),W=W==null?P:Po({},P,W),o.memoizedState=W,o.lanes===0&&(o.updateQueue.baseState=W)}var Dm={isMounted:function(o){return(o=o._reactInternals)?rd(o)===o:!1},enqueueSetState:function(o,P,W){o=o._reactInternals;var Q=vl(),ce=Hh(o),me=Oc(Q,ce);me.payload=P,W!=null&&(me.callback=W),P=Nh(o,me,ce),P!==null&&(gf(P,o,ce,Q),Ay(P,o,ce))},enqueueReplaceState:function(o,P,W){o=o._reactInternals;var Q=vl(),ce=Hh(o),me=Oc(Q,ce);me.tag=1,me.payload=P,W!=null&&(me.callback=W),P=Nh(o,me,ce),P!==null&&(gf(P,o,ce,Q),Ay(P,o,ce))},enqueueForceUpdate:function(o,P){o=o._reactInternals;var W=vl(),Q=Hh(o),ce=Oc(W,Q);ce.tag=2,P!=null&&(ce.callback=P),P=Nh(o,ce,Q),P!==null&&(gf(P,o,Q,W),Ay(P,o,Q))}};function s5(o,P,W,Q,ce,me,B){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(Q,me,B):P.prototype&&P.prototype.isPureReactComponent?!U0(W,Q)||!U0(ce,me):!0}function VS(o,P,W){var Q=!1,ce=Zh,me=P.contextType;return typeof me=="object"&&me!==null?me=_u(me):(ce=Fl(P)?jv:Qs.current,Q=P.contextTypes,me=(Q=Q!=null)?cp(o,ce):Zh),P=new P(W,me),o.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Dm,o.stateNode=P,P._reactInternals=o,Q&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=ce,o.__reactInternalMemoizedMaskedChildContext=me),P}function l5(o,P,W,Q){o=P.state,typeof P.componentWillReceiveProps=="function"&&P.componentWillReceiveProps(W,Q),typeof P.UNSAFE_componentWillReceiveProps=="function"&&P.UNSAFE_componentWillReceiveProps(W,Q),P.state!==o&&Dm.enqueueReplaceState(P,P.state,null)}function N2(o,P,W,Q){var ce=o.stateNode;ce.props=W,ce.state=o.memoizedState,ce.refs=HS,e3(o);var me=P.contextType;typeof me=="object"&&me!==null?ce.context=_u(me):(me=Fl(P)?jv:Qs.current,ce.context=cp(o,me)),ce.state=o.memoizedState,me=P.getDerivedStateFromProps,typeof me=="function"&&(B2(o,P,me,W),ce.state=o.memoizedState),typeof P.getDerivedStateFromProps=="function"||typeof ce.getSnapshotBeforeUpdate=="function"||typeof ce.UNSAFE_componentWillMount!="function"&&typeof ce.componentWillMount!="function"||(P=ce.state,typeof ce.componentWillMount=="function"&&ce.componentWillMount(),typeof ce.UNSAFE_componentWillMount=="function"&&ce.UNSAFE_componentWillMount(),P!==ce.state&&Dm.enqueueReplaceState(ce,ce.state,null),em(o,W,ce,Q),ce.state=o.memoizedState),typeof ce.componentDidMount=="function"&&(o.flags|=4194308)}function o0(o,P,W){if(o=W.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(W._owner){if(W=W._owner,W){if(W.tag!==1)throw Error(ga(309));var Q=W.stateNode}if(!Q)throw Error(ga(147,o));var ce=Q,me=""+o;return P!==null&&P.ref!==null&&typeof P.ref=="function"&&P.ref._stringRef===me?P.ref:(P=function(B){var N=ce.refs;N===HS&&(N=ce.refs={}),B===null?delete N[me]:N[me]=B},P._stringRef=me,P)}if(typeof o!="string")throw Error(ga(284));if(!W._owner)throw Error(ga(290,o))}return o}function ly(o,P){throw o=Object.prototype.toString.call(P),Error(ga(31,o==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":o))}function u5(o){var P=o._init;return P(o._payload)}function GS(o){function P(r,s){if(o){var n=r.deletions;n===null?(r.deletions=[s],r.flags|=16):n.push(s)}}function W(r,s){if(!o)return null;for(;s!==null;)P(r,s),s=s.sibling;return null}function Q(r,s){for(r=new Map;s!==null;)s.key!==null?r.set(s.key,s):r.set(s.index,s),s=s.sibling;return r}function ce(r,s){return r=Vh(r,s),r.index=0,r.sibling=null,r}function me(r,s,n){return r.index=n,o?(n=r.alternate,n!==null?(n=n.index,n<s?(r.flags|=2,s):n):(r.flags|=2,s)):(r.flags|=1048576,s)}function B(r){return o&&r.alternate===null&&(r.flags|=2),r}function N(r,s,n,l){return s===null||s.tag!==6?(s=Fx(n,r.mode,l),s.return=r,s):(s=ce(s,n),s.return=r,s)}function e(r,s,n,l){var c=n.type;return c===Vd?L(r,s,n.props.children,l,n.key):s!==null&&(s.elementType===c||typeof c=="object"&&c!==null&&c.$$typeof===Eh&&u5(c)===s.type)?(l=ce(s,n.props),l.ref=o0(r,s,n),l.return=r,l):(l=Py(n.type,n.key,n.props,null,r.mode,l),l.ref=o0(r,s,n),l.return=r,l)}function p(r,s,n,l){return s===null||s.tag!==4||s.stateNode.containerInfo!==n.containerInfo||s.stateNode.implementation!==n.implementation?(s=_x(n,r.mode,l),s.return=r,s):(s=ce(s,n.children||[]),s.return=r,s)}function L(r,s,n,l,c){return s===null||s.tag!==7?(s=Gv(n,r.mode,l,c),s.return=r,s):(s=ce(s,n),s.return=r,s)}function a(r,s,n){if(typeof s=="string"&&s!==""||typeof s=="number")return s=Fx(""+s,r.mode,n),s.return=r,s;if(typeof s=="object"&&s!==null){switch(s.$$typeof){case Jg:return n=Py(s.type,s.key,s.props,null,r.mode,n),n.ref=o0(r,null,s),n.return=r,n;case Hd:return s=_x(s,r.mode,n),s.return=r,s;case Eh:var l=s._init;return a(r,l(s._payload),n)}if(g0(s)||t0(s))return s=Gv(s,r.mode,n,null),s.return=r,s;ly(r,s)}return null}function C(r,s,n,l){var c=s!==null?s.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return c!==null?null:N(r,s,""+n,l);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case Jg:return n.key===c?e(r,s,n,l):null;case Hd:return n.key===c?p(r,s,n,l):null;case Eh:return c=n._init,C(r,s,c(n._payload),l)}if(g0(n)||t0(n))return c!==null?null:L(r,s,n,l,null);ly(r,n)}return null}function w(r,s,n,l,c){if(typeof l=="string"&&l!==""||typeof l=="number")return r=r.get(n)||null,N(s,r,""+l,c);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case Jg:return r=r.get(l.key===null?n:l.key)||null,e(s,r,l,c);case Hd:return r=r.get(l.key===null?n:l.key)||null,p(s,r,l,c);case Eh:var f=l._init;return w(r,s,n,f(l._payload),c)}if(g0(l)||t0(l))return r=r.get(n)||null,L(s,r,l,c,null);ly(s,l)}return null}function h(r,s,n,l){for(var c=null,f=null,m=s,v=s=0,A=null;m!==null&&v<n.length;v++){m.index>v?(A=m,m=null):A=m.sibling;var d=C(r,m,n[v],l);if(d===null){m===null&&(m=A);break}o&&m&&d.alternate===null&&P(r,m),s=me(d,s,v),f===null?c=d:f.sibling=d,f=d,m=A}if(v===n.length)return W(r,m),mo&&kv(r,v),c;if(m===null){for(;v<n.length;v++)m=a(r,n[v],l),m!==null&&(s=me(m,s,v),f===null?c=m:f.sibling=m,f=m);return mo&&kv(r,v),c}for(m=Q(r,m);v<n.length;v++)A=w(m,r,v,n[v],l),A!==null&&(o&&A.alternate!==null&&m.delete(A.key===null?v:A.key),s=me(A,s,v),f===null?c=A:f.sibling=A,f=A);return o&&m.forEach(function(u){return P(r,u)}),mo&&kv(r,v),c}function g(r,s,n,l){var c=t0(n);if(typeof c!="function")throw Error(ga(150));if(n=c.call(n),n==null)throw Error(ga(151));for(var f=c=null,m=s,v=s=0,A=null,d=n.next();m!==null&&!d.done;v++,d=n.next()){m.index>v?(A=m,m=null):A=m.sibling;var u=C(r,m,d.value,l);if(u===null){m===null&&(m=A);break}o&&m&&u.alternate===null&&P(r,m),s=me(u,s,v),f===null?c=u:f.sibling=u,f=u,m=A}if(d.done)return W(r,m),mo&&kv(r,v),c;if(m===null){for(;!d.done;v++,d=n.next())d=a(r,d.value,l),d!==null&&(s=me(d,s,v),f===null?c=d:f.sibling=d,f=d);return mo&&kv(r,v),c}for(m=Q(r,m);!d.done;v++,d=n.next())d=w(m,r,v,d.value,l),d!==null&&(o&&d.alternate!==null&&m.delete(d.key===null?v:d.key),s=me(d,s,v),f===null?c=d:f.sibling=d,f=d);return o&&m.forEach(function(y){return P(r,y)}),mo&&kv(r,v),c}function t(r,s,n,l){if(typeof n=="object"&&n!==null&&n.type===Vd&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case Jg:e:{for(var c=n.key,f=s;f!==null;){if(f.key===c){if(c=n.type,c===Vd){if(f.tag===7){W(r,f.sibling),s=ce(f,n.props.children),s.return=r,r=s;break e}}else if(f.elementType===c||typeof c=="object"&&c!==null&&c.$$typeof===Eh&&u5(c)===f.type){W(r,f.sibling),s=ce(f,n.props),s.ref=o0(r,f,n),s.return=r,r=s;break e}W(r,f);break}else P(r,f);f=f.sibling}n.type===Vd?(s=Gv(n.props.children,r.mode,l,n.key),s.return=r,r=s):(l=Py(n.type,n.key,n.props,null,r.mode,l),l.ref=o0(r,s,n),l.return=r,r=l)}return B(r);case Hd:e:{for(f=n.key;s!==null;){if(s.key===f)if(s.tag===4&&s.stateNode.containerInfo===n.containerInfo&&s.stateNode.implementation===n.implementation){W(r,s.sibling),s=ce(s,n.children||[]),s.return=r,r=s;break e}else{W(r,s);break}else P(r,s);s=s.sibling}s=_x(n,r.mode,l),s.return=r,r=s}return B(r);case Eh:return f=n._init,t(r,s,f(n._payload),l)}if(g0(n))return h(r,s,n,l);if(t0(n))return g(r,s,n,l);ly(r,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,s!==null&&s.tag===6?(W(r,s.sibling),s=ce(s,n),s.return=r,r=s):(W(r,s),s=Fx(n,r.mode,l),s.return=r,r=s),B(r)):W(r,s)}return t}var vp=GS(!0),WS=GS(!1),hg={},$f=qh(hg),W0=qh(hg),j0=qh(hg);function Uv(o){if(o===hg)throw Error(ga(174));return o}function t3(o,P){switch(ao(j0,P),ao(W0,o),ao($f,hg),o=P.nodeType,o){case 9:case 11:P=(P=P.documentElement)?P.namespaceURI:y2(null,"");break;default:o=o===8?P.parentNode:P,P=o.namespaceURI||null,o=o.tagName,P=y2(P,o)}uo($f),ao($f,P)}function dp(){uo($f),uo(W0),uo(j0)}function jS(o){Uv(j0.current);var P=Uv($f.current),W=y2(P,o.type);P!==W&&(ao(W0,o),ao($f,W))}function r3(o){W0.current===o&&(uo($f),uo(W0))}var Co=qh(0);function tm(o){for(var P=o;P!==null;){if(P.tag===13){var W=P.memoizedState;if(W!==null&&(W=W.dehydrated,W===null||W.data==="$?"||W.data==="$!"))return P}else if(P.tag===19&&P.memoizedProps.revealOrder!==void 0){if(P.flags&128)return P}else if(P.child!==null){P.child.return=P,P=P.child;continue}if(P===o)break;for(;P.sibling===null;){if(P.return===null||P.return===o)return null;P=P.return}P.sibling.return=P.return,P=P.sibling}return null}var Lx=[];function n3(){for(var o=0;o<Lx.length;o++)Lx[o]._workInProgressVersionPrimary=null;Lx.length=0}var Sy=Wc.ReactCurrentDispatcher,Px=Wc.ReactCurrentBatchConfig,Zv=0,Lo=null,ss=null,ys=null,rm=!1,C0=!1,Y0=0,_P=0;function Zs(){throw Error(ga(321))}function a3(o,P){if(P===null)return!1;for(var W=0;W<P.length&&W<o.length;W++)if(!yf(o[W],P[W]))return!1;return!0}function i3(o,P,W,Q,ce,me){if(Zv=me,Lo=P,P.memoizedState=null,P.updateQueue=null,P.lanes=0,Sy.current=o===null||o.memoizedState===null?NP:UP,o=W(Q,ce),C0){me=0;do{if(C0=!1,Y0=0,25<=me)throw Error(ga(301));me+=1,ys=ss=null,P.updateQueue=null,Sy.current=HP,o=W(Q,ce)}while(C0)}if(Sy.current=nm,P=ss!==null&&ss.next!==null,Zv=0,ys=ss=Lo=null,rm=!1,P)throw Error(ga(300));return o}function o3(){var o=Y0!==0;return Y0=0,o}function Vf(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ys===null?Lo.memoizedState=ys=o:ys=ys.next=o,ys}function zu(){if(ss===null){var o=Lo.alternate;o=o!==null?o.memoizedState:null}else o=ss.next;var P=ys===null?Lo.memoizedState:ys.next;if(P!==null)ys=P,ss=o;else{if(o===null)throw Error(ga(310));ss=o,o={memoizedState:ss.memoizedState,baseState:ss.baseState,baseQueue:ss.baseQueue,queue:ss.queue,next:null},ys===null?Lo.memoizedState=ys=o:ys=ys.next=o}return ys}function Z0(o,P){return typeof P=="function"?P(o):P}function Rx(o){var P=zu(),W=P.queue;if(W===null)throw Error(ga(311));W.lastRenderedReducer=o;var Q=ss,ce=Q.baseQueue,me=W.pending;if(me!==null){if(ce!==null){var B=ce.next;ce.next=me.next,me.next=B}Q.baseQueue=ce=me,W.pending=null}if(ce!==null){me=ce.next,Q=Q.baseState;var N=B=null,e=null,p=me;do{var L=p.lane;if((Zv&L)===L)e!==null&&(e=e.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),Q=p.hasEagerState?p.eagerState:o(Q,p.action);else{var a={lane:L,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};e===null?(N=e=a,B=Q):e=e.next=a,Lo.lanes|=L,Xv|=L}p=p.next}while(p!==null&&p!==me);e===null?B=Q:e.next=N,yf(Q,P.memoizedState)||(Il=!0),P.memoizedState=Q,P.baseState=B,P.baseQueue=e,W.lastRenderedState=Q}if(o=W.interleaved,o!==null){ce=o;do me=ce.lane,Lo.lanes|=me,Xv|=me,ce=ce.next;while(ce!==o)}else ce===null&&(W.lanes=0);return[P.memoizedState,W.dispatch]}function Dx(o){var P=zu(),W=P.queue;if(W===null)throw Error(ga(311));W.lastRenderedReducer=o;var Q=W.dispatch,ce=W.pending,me=P.memoizedState;if(ce!==null){W.pending=null;var B=ce=ce.next;do me=o(me,B.action),B=B.next;while(B!==ce);yf(me,P.memoizedState)||(Il=!0),P.memoizedState=me,P.baseQueue===null&&(P.baseState=me),W.lastRenderedState=me}return[me,Q]}function YS(){}function ZS(o,P){var W=Lo,Q=zu(),ce=P(),me=!yf(Q.memoizedState,ce);if(me&&(Q.memoizedState=ce,Il=!0),Q=Q.queue,s3(KS.bind(null,W,Q,o),[o]),Q.getSnapshot!==P||me||ys!==null&&ys.memoizedState.tag&1){if(W.flags|=2048,X0(9,$S.bind(null,W,Q,ce,P),void 0,null),ms===null)throw Error(ga(349));Zv&30||XS(W,P,ce)}return ce}function XS(o,P,W){o.flags|=16384,o={getSnapshot:P,value:W},P=Lo.updateQueue,P===null?(P={lastEffect:null,stores:null},Lo.updateQueue=P,P.stores=[o]):(W=P.stores,W===null?P.stores=[o]:W.push(o))}function $S(o,P,W,Q){P.value=W,P.getSnapshot=Q,JS(P)&&QS(o)}function KS(o,P,W){return W(function(){JS(P)&&QS(o)})}function JS(o){var P=o.getSnapshot;o=o.value;try{var W=P();return!yf(o,W)}catch{return!0}}function QS(o){var P=Hc(o,1);P!==null&&gf(P,o,1,-1)}function f5(o){var P=Vf();return typeof o=="function"&&(o=o()),P.memoizedState=P.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Z0,lastRenderedState:o},P.queue=o,o=o.dispatch=BP.bind(null,Lo,o),[P.memoizedState,o]}function X0(o,P,W,Q){return o={tag:o,create:P,destroy:W,deps:Q,next:null},P=Lo.updateQueue,P===null?(P={lastEffect:null,stores:null},Lo.updateQueue=P,P.lastEffect=o.next=o):(W=P.lastEffect,W===null?P.lastEffect=o.next=o:(Q=W.next,W.next=o,o.next=Q,P.lastEffect=o)),o}function qS(){return zu().memoizedState}function My(o,P,W,Q){var ce=Vf();Lo.flags|=o,ce.memoizedState=X0(1|P,W,void 0,Q===void 0?null:Q)}function Im(o,P,W,Q){var ce=zu();Q=Q===void 0?null:Q;var me=void 0;if(ss!==null){var B=ss.memoizedState;if(me=B.destroy,Q!==null&&a3(Q,B.deps)){ce.memoizedState=X0(P,W,me,Q);return}}Lo.flags|=o,ce.memoizedState=X0(1|P,W,me,Q)}function c5(o,P){return My(8390656,8,o,P)}function s3(o,P){return Im(2048,8,o,P)}function eM(o,P){return Im(4,2,o,P)}function tM(o,P){return Im(4,4,o,P)}function rM(o,P){if(typeof P=="function")return o=o(),P(o),function(){P(null)};if(P!=null)return o=o(),P.current=o,function(){P.current=null}}function nM(o,P,W){return W=W!=null?W.concat([o]):null,Im(4,4,rM.bind(null,P,o),W)}function l3(){}function aM(o,P){var W=zu();P=P===void 0?null:P;var Q=W.memoizedState;return Q!==null&&P!==null&&a3(P,Q[1])?Q[0]:(W.memoizedState=[o,P],o)}function iM(o,P){var W=zu();P=P===void 0?null:P;var Q=W.memoizedState;return Q!==null&&P!==null&&a3(P,Q[1])?Q[0]:(o=o(),W.memoizedState=[o,P],o)}function oM(o,P,W){return Zv&21?(yf(W,P)||(W=uS(),Lo.lanes|=W,Xv|=W,o.baseState=!0),P):(o.baseState&&(o.baseState=!1,Il=!0),o.memoizedState=W)}function zP(o,P){var W=Zi;Zi=W!==0&&4>W?W:4,o(!0);var Q=Px.transition;Px.transition={};try{o(!1),P()}finally{Zi=W,Px.transition=Q}}function sM(){return zu().memoizedState}function OP(o,P,W){var Q=Hh(o);if(W={lane:Q,action:W,hasEagerState:!1,eagerState:null,next:null},lM(o))uM(P,W);else if(W=NS(o,P,W,Q),W!==null){var ce=vl();gf(W,o,Q,ce),fM(W,P,Q)}}function BP(o,P,W){var Q=Hh(o),ce={lane:Q,action:W,hasEagerState:!1,eagerState:null,next:null};if(lM(o))uM(P,ce);else{var me=o.alternate;if(o.lanes===0&&(me===null||me.lanes===0)&&(me=P.lastRenderedReducer,me!==null))try{var B=P.lastRenderedState,N=me(B,W);if(ce.hasEagerState=!0,ce.eagerState=N,yf(N,B)){var e=P.interleaved;e===null?(ce.next=ce,qb(P)):(ce.next=e.next,e.next=ce),P.interleaved=ce;return}}catch{}finally{}W=NS(o,P,ce,Q),W!==null&&(ce=vl(),gf(W,o,Q,ce),fM(W,P,Q))}}function lM(o){var P=o.alternate;return o===Lo||P!==null&&P===Lo}function uM(o,P){C0=rm=!0;var W=o.pending;W===null?P.next=P:(P.next=W.next,W.next=P),o.pending=P}function fM(o,P,W){if(W&4194240){var Q=P.lanes;Q&=o.pendingLanes,W|=Q,P.lanes=W,Nb(o,W)}}var nm={readContext:_u,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useInsertionEffect:Zs,useLayoutEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useMutableSource:Zs,useSyncExternalStore:Zs,useId:Zs,unstable_isNewReconciler:!1},NP={readContext:_u,useCallback:function(o,P){return Vf().memoizedState=[o,P===void 0?null:P],o},useContext:_u,useEffect:c5,useImperativeHandle:function(o,P,W){return W=W!=null?W.concat([o]):null,My(4194308,4,rM.bind(null,P,o),W)},useLayoutEffect:function(o,P){return My(4194308,4,o,P)},useInsertionEffect:function(o,P){return My(4,2,o,P)},useMemo:function(o,P){var W=Vf();return P=P===void 0?null:P,o=o(),W.memoizedState=[o,P],o},useReducer:function(o,P,W){var Q=Vf();return P=W!==void 0?W(P):P,Q.memoizedState=Q.baseState=P,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:P},Q.queue=o,o=o.dispatch=OP.bind(null,Lo,o),[Q.memoizedState,o]},useRef:function(o){var P=Vf();return o={current:o},P.memoizedState=o},useState:f5,useDebugValue:l3,useDeferredValue:function(o){return Vf().memoizedState=o},useTransition:function(){var o=f5(!1),P=o[0];return o=zP.bind(null,o[1]),Vf().memoizedState=o,[P,o]},useMutableSource:function(){},useSyncExternalStore:function(o,P,W){var Q=Lo,ce=Vf();if(mo){if(W===void 0)throw Error(ga(407));W=W()}else{if(W=P(),ms===null)throw Error(ga(349));Zv&30||XS(Q,P,W)}ce.memoizedState=W;var me={value:W,getSnapshot:P};return ce.queue=me,c5(KS.bind(null,Q,me,o),[o]),Q.flags|=2048,X0(9,$S.bind(null,Q,me,W,P),void 0,null),W},useId:function(){var o=Vf(),P=ms.identifierPrefix;if(mo){var W=_c,Q=Fc;W=(Q&~(1<<32-pf(Q)-1)).toString(32)+W,P=":"+P+"R"+W,W=Y0++,0<W&&(P+="H"+W.toString(32)),P+=":"}else W=_P++,P=":"+P+"r"+W.toString(32)+":";return o.memoizedState=P},unstable_isNewReconciler:!1},UP={readContext:_u,useCallback:aM,useContext:_u,useEffect:s3,useImperativeHandle:nM,useInsertionEffect:eM,useLayoutEffect:tM,useMemo:iM,useReducer:Rx,useRef:qS,useState:function(){return Rx(Z0)},useDebugValue:l3,useDeferredValue:function(o){var P=zu();return oM(P,ss.memoizedState,o)},useTransition:function(){var o=Rx(Z0)[0],P=zu().memoizedState;return[o,P]},useMutableSource:YS,useSyncExternalStore:ZS,useId:sM,unstable_isNewReconciler:!1},HP={readContext:_u,useCallback:aM,useContext:_u,useEffect:s3,useImperativeHandle:nM,useInsertionEffect:eM,useLayoutEffect:tM,useMemo:iM,useReducer:Dx,useRef:qS,useState:function(){return Dx(Z0)},useDebugValue:l3,useDeferredValue:function(o){var P=zu();return ss===null?P.memoizedState=o:oM(P,ss.memoizedState,o)},useTransition:function(){var o=Dx(Z0)[0],P=zu().memoizedState;return[o,P]},useMutableSource:YS,useSyncExternalStore:ZS,useId:sM,unstable_isNewReconciler:!1};function pp(o,P){try{var W="",Q=P;do W+=p7(Q),Q=Q.return;while(Q);var ce=W}catch(me){ce=`
Error generating stack: `+me.message+`
`+me.stack}return{value:o,source:P,stack:ce,digest:null}}function Ix(o,P,W){return{value:o,source:null,stack:W??null,digest:P??null}}function U2(o,P){try{console.error(P.value)}catch(W){setTimeout(function(){throw W})}}var VP=typeof WeakMap=="function"?WeakMap:Map;function cM(o,P,W){W=Oc(-1,W),W.tag=3,W.payload={element:null};var Q=P.value;return W.callback=function(){im||(im=!0,K2=Q),U2(o,P)},W}function hM(o,P,W){W=Oc(-1,W),W.tag=3;var Q=o.type.getDerivedStateFromError;if(typeof Q=="function"){var ce=P.value;W.payload=function(){return Q(ce)},W.callback=function(){U2(o,P)}}var me=o.stateNode;return me!==null&&typeof me.componentDidCatch=="function"&&(W.callback=function(){U2(o,P),typeof Q!="function"&&(Uh===null?Uh=new Set([this]):Uh.add(this));var B=P.stack;this.componentDidCatch(P.value,{componentStack:B!==null?B:""})}),W}function h5(o,P,W){var Q=o.pingCache;if(Q===null){Q=o.pingCache=new VP;var ce=new Set;Q.set(P,ce)}else ce=Q.get(P),ce===void 0&&(ce=new Set,Q.set(P,ce));ce.has(W)||(ce.add(W),o=r9.bind(null,o,P,W),P.then(o,o))}function v5(o){do{var P;if((P=o.tag===13)&&(P=o.memoizedState,P=P!==null?P.dehydrated!==null:!0),P)return o;o=o.return}while(o!==null);return null}function d5(o,P,W,Q,ce){return o.mode&1?(o.flags|=65536,o.lanes=ce,o):(o===P?o.flags|=65536:(o.flags|=128,W.flags|=131072,W.flags&=-52805,W.tag===1&&(W.alternate===null?W.tag=17:(P=Oc(-1,1),P.tag=2,Nh(W,P,1))),W.lanes|=1),o)}var GP=Wc.ReactCurrentOwner,Il=!1;function hl(o,P,W,Q){P.child=o===null?WS(P,null,W,Q):vp(P,o.child,W,Q)}function p5(o,P,W,Q,ce){W=W.render;var me=P.ref;return np(P,ce),Q=i3(o,P,W,Q,me,ce),W=o3(),o!==null&&!Il?(P.updateQueue=o.updateQueue,P.flags&=-2053,o.lanes&=~ce,Vc(o,P,ce)):(mo&&W&&Zb(P),P.flags|=1,hl(o,P,Q,ce),P.child)}function g5(o,P,W,Q,ce){if(o===null){var me=W.type;return typeof me=="function"&&!g3(me)&&me.defaultProps===void 0&&W.compare===null&&W.defaultProps===void 0?(P.tag=15,P.type=me,vM(o,P,me,Q,ce)):(o=Py(W.type,null,Q,P,P.mode,ce),o.ref=P.ref,o.return=P,P.child=o)}if(me=o.child,!(o.lanes&ce)){var B=me.memoizedProps;if(W=W.compare,W=W!==null?W:U0,W(B,Q)&&o.ref===P.ref)return Vc(o,P,ce)}return P.flags|=1,o=Vh(me,Q),o.ref=P.ref,o.return=P,P.child=o}function vM(o,P,W,Q,ce){if(o!==null){var me=o.memoizedProps;if(U0(me,Q)&&o.ref===P.ref)if(Il=!1,P.pendingProps=Q=me,(o.lanes&ce)!==0)o.flags&131072&&(Il=!0);else return P.lanes=o.lanes,Vc(o,P,ce)}return H2(o,P,W,Q,ce)}function dM(o,P,W){var Q=P.pendingProps,ce=Q.children,me=o!==null?o.memoizedState:null;if(Q.mode==="hidden")if(!(P.mode&1))P.memoizedState={baseLanes:0,cachePool:null,transitions:null},ao(Qd,ql),ql|=W;else{if(!(W&1073741824))return o=me!==null?me.baseLanes|W:W,P.lanes=P.childLanes=1073741824,P.memoizedState={baseLanes:o,cachePool:null,transitions:null},P.updateQueue=null,ao(Qd,ql),ql|=o,null;P.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q=me!==null?me.baseLanes:W,ao(Qd,ql),ql|=Q}else me!==null?(Q=me.baseLanes|W,P.memoizedState=null):Q=W,ao(Qd,ql),ql|=Q;return hl(o,P,ce,W),P.child}function pM(o,P){var W=P.ref;(o===null&&W!==null||o!==null&&o.ref!==W)&&(P.flags|=512,P.flags|=2097152)}function H2(o,P,W,Q,ce){var me=Fl(W)?jv:Qs.current;return me=cp(P,me),np(P,ce),W=i3(o,P,W,Q,me,ce),Q=o3(),o!==null&&!Il?(P.updateQueue=o.updateQueue,P.flags&=-2053,o.lanes&=~ce,Vc(o,P,ce)):(mo&&Q&&Zb(P),P.flags|=1,hl(o,P,W,ce),P.child)}function y5(o,P,W,Q,ce){if(Fl(W)){var me=!0;$y(P)}else me=!1;if(np(P,ce),P.stateNode===null)Ey(o,P),VS(P,W,Q),N2(P,W,Q,ce),Q=!0;else if(o===null){var B=P.stateNode,N=P.memoizedProps;B.props=N;var e=B.context,p=W.contextType;typeof p=="object"&&p!==null?p=_u(p):(p=Fl(W)?jv:Qs.current,p=cp(P,p));var L=W.getDerivedStateFromProps,a=typeof L=="function"||typeof B.getSnapshotBeforeUpdate=="function";a||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(N!==Q||e!==p)&&l5(P,B,Q,p),Ch=!1;var C=P.memoizedState;B.state=C,em(P,Q,B,ce),e=P.memoizedState,N!==Q||C!==e||kl.current||Ch?(typeof L=="function"&&(B2(P,W,L,Q),e=P.memoizedState),(N=Ch||s5(P,W,N,Q,C,e,p))?(a||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(P.flags|=4194308)):(typeof B.componentDidMount=="function"&&(P.flags|=4194308),P.memoizedProps=Q,P.memoizedState=e),B.props=Q,B.state=e,B.context=p,Q=N):(typeof B.componentDidMount=="function"&&(P.flags|=4194308),Q=!1)}else{B=P.stateNode,US(o,P),N=P.memoizedProps,p=P.type===P.elementType?N:cf(P.type,N),B.props=p,a=P.pendingProps,C=B.context,e=W.contextType,typeof e=="object"&&e!==null?e=_u(e):(e=Fl(W)?jv:Qs.current,e=cp(P,e));var w=W.getDerivedStateFromProps;(L=typeof w=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(N!==a||C!==e)&&l5(P,B,Q,e),Ch=!1,C=P.memoizedState,B.state=C,em(P,Q,B,ce);var h=P.memoizedState;N!==a||C!==h||kl.current||Ch?(typeof w=="function"&&(B2(P,W,w,Q),h=P.memoizedState),(p=Ch||s5(P,W,p,Q,C,h,e)||!1)?(L||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(Q,h,e),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(Q,h,e)),typeof B.componentDidUpdate=="function"&&(P.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(P.flags|=1024)):(typeof B.componentDidUpdate!="function"||N===o.memoizedProps&&C===o.memoizedState||(P.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&C===o.memoizedState||(P.flags|=1024),P.memoizedProps=Q,P.memoizedState=h),B.props=Q,B.state=h,B.context=e,Q=p):(typeof B.componentDidUpdate!="function"||N===o.memoizedProps&&C===o.memoizedState||(P.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&C===o.memoizedState||(P.flags|=1024),Q=!1)}return V2(o,P,W,Q,me,ce)}function V2(o,P,W,Q,ce,me){pM(o,P);var B=(P.flags&128)!==0;if(!Q&&!B)return ce&&r5(P,W,!1),Vc(o,P,me);Q=P.stateNode,GP.current=P;var N=B&&typeof W.getDerivedStateFromError!="function"?null:Q.render();return P.flags|=1,o!==null&&B?(P.child=vp(P,o.child,null,me),P.child=vp(P,null,N,me)):hl(o,P,N,me),P.memoizedState=Q.state,ce&&r5(P,W,!0),P.child}function gM(o){var P=o.stateNode;P.pendingContext?t5(o,P.pendingContext,P.pendingContext!==P.context):P.context&&t5(o,P.context,!1),t3(o,P.containerInfo)}function m5(o,P,W,Q,ce){return hp(),$b(ce),P.flags|=256,hl(o,P,W,Q),P.child}var G2={dehydrated:null,treeContext:null,retryLane:0};function W2(o){return{baseLanes:o,cachePool:null,transitions:null}}function yM(o,P,W){var Q=P.pendingProps,ce=Co.current,me=!1,B=(P.flags&128)!==0,N;if((N=B)||(N=o!==null&&o.memoizedState===null?!1:(ce&2)!==0),N?(me=!0,P.flags&=-129):(o===null||o.memoizedState!==null)&&(ce|=1),ao(Co,ce&1),o===null)return z2(P),o=P.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(P.mode&1?o.data==="$!"?P.lanes=8:P.lanes=1073741824:P.lanes=1,null):(B=Q.children,o=Q.fallback,me?(Q=P.mode,me=P.child,B={mode:"hidden",children:B},!(Q&1)&&me!==null?(me.childLanes=0,me.pendingProps=B):me=_m(B,Q,0,null),o=Gv(o,Q,W,null),me.return=P,o.return=P,me.sibling=o,P.child=me,P.child.memoizedState=W2(W),P.memoizedState=G2,o):u3(P,B));if(ce=o.memoizedState,ce!==null&&(N=ce.dehydrated,N!==null))return WP(o,P,B,Q,N,ce,W);if(me){me=Q.fallback,B=P.mode,ce=o.child,N=ce.sibling;var e={mode:"hidden",children:Q.children};return!(B&1)&&P.child!==ce?(Q=P.child,Q.childLanes=0,Q.pendingProps=e,P.deletions=null):(Q=Vh(ce,e),Q.subtreeFlags=ce.subtreeFlags&14680064),N!==null?me=Vh(N,me):(me=Gv(me,B,W,null),me.flags|=2),me.return=P,Q.return=P,Q.sibling=me,P.child=Q,Q=me,me=P.child,B=o.child.memoizedState,B=B===null?W2(W):{baseLanes:B.baseLanes|W,cachePool:null,transitions:B.transitions},me.memoizedState=B,me.childLanes=o.childLanes&~W,P.memoizedState=G2,Q}return me=o.child,o=me.sibling,Q=Vh(me,{mode:"visible",children:Q.children}),!(P.mode&1)&&(Q.lanes=W),Q.return=P,Q.sibling=null,o!==null&&(W=P.deletions,W===null?(P.deletions=[o],P.flags|=16):W.push(o)),P.child=Q,P.memoizedState=null,Q}function u3(o,P){return P=_m({mode:"visible",children:P},o.mode,0,null),P.return=o,o.child=P}function uy(o,P,W,Q){return Q!==null&&$b(Q),vp(P,o.child,null,W),o=u3(P,P.pendingProps.children),o.flags|=2,P.memoizedState=null,o}function WP(o,P,W,Q,ce,me,B){if(W)return P.flags&256?(P.flags&=-257,Q=Ix(Error(ga(422))),uy(o,P,B,Q)):P.memoizedState!==null?(P.child=o.child,P.flags|=128,null):(me=Q.fallback,ce=P.mode,Q=_m({mode:"visible",children:Q.children},ce,0,null),me=Gv(me,ce,B,null),me.flags|=2,Q.return=P,me.return=P,Q.sibling=me,P.child=Q,P.mode&1&&vp(P,o.child,null,B),P.child.memoizedState=W2(B),P.memoizedState=G2,me);if(!(P.mode&1))return uy(o,P,B,null);if(ce.data==="$!"){if(Q=ce.nextSibling&&ce.nextSibling.dataset,Q)var N=Q.dgst;return Q=N,me=Error(ga(419)),Q=Ix(me,Q,void 0),uy(o,P,B,Q)}if(N=(B&o.childLanes)!==0,Il||N){if(Q=ms,Q!==null){switch(B&-B){case 4:ce=2;break;case 16:ce=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ce=32;break;case 536870912:ce=268435456;break;default:ce=0}ce=ce&(Q.suspendedLanes|B)?0:ce,ce!==0&&ce!==me.retryLane&&(me.retryLane=ce,Hc(o,ce),gf(Q,o,ce,-1))}return p3(),Q=Ix(Error(ga(421))),uy(o,P,B,Q)}return ce.data==="$?"?(P.flags|=128,P.child=o.child,P=n9.bind(null,o),ce._reactRetry=P,null):(o=me.treeContext,tu=Bh(ce.nextSibling),ru=P,mo=!0,vf=null,o!==null&&(Pu[Ru++]=Fc,Pu[Ru++]=_c,Pu[Ru++]=Yv,Fc=o.id,_c=o.overflow,Yv=P),P=u3(P,Q.children),P.flags|=4096,P)}function x5(o,P,W){o.lanes|=P;var Q=o.alternate;Q!==null&&(Q.lanes|=P),O2(o.return,P,W)}function kx(o,P,W,Q,ce){var me=o.memoizedState;me===null?o.memoizedState={isBackwards:P,rendering:null,renderingStartTime:0,last:Q,tail:W,tailMode:ce}:(me.isBackwards=P,me.rendering=null,me.renderingStartTime=0,me.last=Q,me.tail=W,me.tailMode=ce)}function mM(o,P,W){var Q=P.pendingProps,ce=Q.revealOrder,me=Q.tail;if(hl(o,P,Q.children,W),Q=Co.current,Q&2)Q=Q&1|2,P.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=P.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&x5(o,W,P);else if(o.tag===19)x5(o,W,P);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===P)break e;for(;o.sibling===null;){if(o.return===null||o.return===P)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}Q&=1}if(ao(Co,Q),!(P.mode&1))P.memoizedState=null;else switch(ce){case"forwards":for(W=P.child,ce=null;W!==null;)o=W.alternate,o!==null&&tm(o)===null&&(ce=W),W=W.sibling;W=ce,W===null?(ce=P.child,P.child=null):(ce=W.sibling,W.sibling=null),kx(P,!1,ce,W,me);break;case"backwards":for(W=null,ce=P.child,P.child=null;ce!==null;){if(o=ce.alternate,o!==null&&tm(o)===null){P.child=ce;break}o=ce.sibling,ce.sibling=W,W=ce,ce=o}kx(P,!0,W,null,me);break;case"together":kx(P,!1,null,null,void 0);break;default:P.memoizedState=null}return P.child}function Ey(o,P){!(P.mode&1)&&o!==null&&(o.alternate=null,P.alternate=null,P.flags|=2)}function Vc(o,P,W){if(o!==null&&(P.dependencies=o.dependencies),Xv|=P.lanes,!(W&P.childLanes))return null;if(o!==null&&P.child!==o.child)throw Error(ga(153));if(P.child!==null){for(o=P.child,W=Vh(o,o.pendingProps),P.child=W,W.return=P;o.sibling!==null;)o=o.sibling,W=W.sibling=Vh(o,o.pendingProps),W.return=P;W.sibling=null}return P.child}function jP(o,P,W){switch(P.tag){case 3:gM(P),hp();break;case 5:jS(P);break;case 1:Fl(P.type)&&$y(P);break;case 4:t3(P,P.stateNode.containerInfo);break;case 10:var Q=P.type._context,ce=P.memoizedProps.value;ao(Qy,Q._currentValue),Q._currentValue=ce;break;case 13:if(Q=P.memoizedState,Q!==null)return Q.dehydrated!==null?(ao(Co,Co.current&1),P.flags|=128,null):W&P.child.childLanes?yM(o,P,W):(ao(Co,Co.current&1),o=Vc(o,P,W),o!==null?o.sibling:null);ao(Co,Co.current&1);break;case 19:if(Q=(W&P.childLanes)!==0,o.flags&128){if(Q)return mM(o,P,W);P.flags|=128}if(ce=P.memoizedState,ce!==null&&(ce.rendering=null,ce.tail=null,ce.lastEffect=null),ao(Co,Co.current),Q)break;return null;case 22:case 23:return P.lanes=0,dM(o,P,W)}return Vc(o,P,W)}var xM,j2,bM,wM;xM=function(o,P){for(var W=P.child;W!==null;){if(W.tag===5||W.tag===6)o.appendChild(W.stateNode);else if(W.tag!==4&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===P)break;for(;W.sibling===null;){if(W.return===null||W.return===P)return;W=W.return}W.sibling.return=W.return,W=W.sibling}};j2=function(){};bM=function(o,P,W,Q){var ce=o.memoizedProps;if(ce!==Q){o=P.stateNode,Uv($f.current);var me=null;switch(W){case"input":ce=v2(o,ce),Q=v2(o,Q),me=[];break;case"select":ce=Po({},ce,{value:void 0}),Q=Po({},Q,{value:void 0}),me=[];break;case"textarea":ce=g2(o,ce),Q=g2(o,Q),me=[];break;default:typeof ce.onClick!="function"&&typeof Q.onClick=="function"&&(o.onclick=Zy)}m2(W,Q);var B;W=null;for(p in ce)if(!Q.hasOwnProperty(p)&&ce.hasOwnProperty(p)&&ce[p]!=null)if(p==="style"){var N=ce[p];for(B in N)N.hasOwnProperty(B)&&(W||(W={}),W[B]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(k0.hasOwnProperty(p)?me||(me=[]):(me=me||[]).push(p,null));for(p in Q){var e=Q[p];if(N=ce!=null?ce[p]:void 0,Q.hasOwnProperty(p)&&e!==N&&(e!=null||N!=null))if(p==="style")if(N){for(B in N)!N.hasOwnProperty(B)||e&&e.hasOwnProperty(B)||(W||(W={}),W[B]="");for(B in e)e.hasOwnProperty(B)&&N[B]!==e[B]&&(W||(W={}),W[B]=e[B])}else W||(me||(me=[]),me.push(p,W)),W=e;else p==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,N=N?N.__html:void 0,e!=null&&N!==e&&(me=me||[]).push(p,e)):p==="children"?typeof e!="string"&&typeof e!="number"||(me=me||[]).push(p,""+e):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(k0.hasOwnProperty(p)?(e!=null&&p==="onScroll"&&lo("scroll",o),me||N===e||(me=[])):(me=me||[]).push(p,e))}W&&(me=me||[]).push("style",W);var p=me;(P.updateQueue=p)&&(P.flags|=4)}};wM=function(o,P,W,Q){W!==Q&&(P.flags|=4)};function s0(o,P){if(!mo)switch(o.tailMode){case"hidden":P=o.tail;for(var W=null;P!==null;)P.alternate!==null&&(W=P),P=P.sibling;W===null?o.tail=null:W.sibling=null;break;case"collapsed":W=o.tail;for(var Q=null;W!==null;)W.alternate!==null&&(Q=W),W=W.sibling;Q===null?P||o.tail===null?o.tail=null:o.tail.sibling=null:Q.sibling=null}}function Xs(o){var P=o.alternate!==null&&o.alternate.child===o.child,W=0,Q=0;if(P)for(var ce=o.child;ce!==null;)W|=ce.lanes|ce.childLanes,Q|=ce.subtreeFlags&14680064,Q|=ce.flags&14680064,ce.return=o,ce=ce.sibling;else for(ce=o.child;ce!==null;)W|=ce.lanes|ce.childLanes,Q|=ce.subtreeFlags,Q|=ce.flags,ce.return=o,ce=ce.sibling;return o.subtreeFlags|=Q,o.childLanes=W,P}function YP(o,P,W){var Q=P.pendingProps;switch(Xb(P),P.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(P),null;case 1:return Fl(P.type)&&Xy(),Xs(P),null;case 3:return Q=P.stateNode,dp(),uo(kl),uo(Qs),n3(),Q.pendingContext&&(Q.context=Q.pendingContext,Q.pendingContext=null),(o===null||o.child===null)&&(sy(P)?P.flags|=4:o===null||o.memoizedState.isDehydrated&&!(P.flags&256)||(P.flags|=1024,vf!==null&&(q2(vf),vf=null))),j2(o,P),Xs(P),null;case 5:r3(P);var ce=Uv(j0.current);if(W=P.type,o!==null&&P.stateNode!=null)bM(o,P,W,Q,ce),o.ref!==P.ref&&(P.flags|=512,P.flags|=2097152);else{if(!Q){if(P.stateNode===null)throw Error(ga(166));return Xs(P),null}if(o=Uv($f.current),sy(P)){Q=P.stateNode,W=P.type;var me=P.memoizedProps;switch(Q[jf]=P,Q[G0]=me,o=(P.mode&1)!==0,W){case"dialog":lo("cancel",Q),lo("close",Q);break;case"iframe":case"object":case"embed":lo("load",Q);break;case"video":case"audio":for(ce=0;ce<m0.length;ce++)lo(m0[ce],Q);break;case"source":lo("error",Q);break;case"img":case"image":case"link":lo("error",Q),lo("load",Q);break;case"details":lo("toggle",Q);break;case"input":LT(Q,me),lo("invalid",Q);break;case"select":Q._wrapperState={wasMultiple:!!me.multiple},lo("invalid",Q);break;case"textarea":RT(Q,me),lo("invalid",Q)}m2(W,me),ce=null;for(var B in me)if(me.hasOwnProperty(B)){var N=me[B];B==="children"?typeof N=="string"?Q.textContent!==N&&(me.suppressHydrationWarning!==!0&&oy(Q.textContent,N,o),ce=["children",N]):typeof N=="number"&&Q.textContent!==""+N&&(me.suppressHydrationWarning!==!0&&oy(Q.textContent,N,o),ce=["children",""+N]):k0.hasOwnProperty(B)&&N!=null&&B==="onScroll"&&lo("scroll",Q)}switch(W){case"input":Qg(Q),PT(Q,me,!0);break;case"textarea":Qg(Q),DT(Q);break;case"select":case"option":break;default:typeof me.onClick=="function"&&(Q.onclick=Zy)}Q=ce,P.updateQueue=Q,Q!==null&&(P.flags|=4)}else{B=ce.nodeType===9?ce:ce.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=X4(W)),o==="http://www.w3.org/1999/xhtml"?W==="script"?(o=B.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof Q.is=="string"?o=B.createElement(W,{is:Q.is}):(o=B.createElement(W),W==="select"&&(B=o,Q.multiple?B.multiple=!0:Q.size&&(B.size=Q.size))):o=B.createElementNS(o,W),o[jf]=P,o[G0]=Q,xM(o,P,!1,!1),P.stateNode=o;e:{switch(B=x2(W,Q),W){case"dialog":lo("cancel",o),lo("close",o),ce=Q;break;case"iframe":case"object":case"embed":lo("load",o),ce=Q;break;case"video":case"audio":for(ce=0;ce<m0.length;ce++)lo(m0[ce],o);ce=Q;break;case"source":lo("error",o),ce=Q;break;case"img":case"image":case"link":lo("error",o),lo("load",o),ce=Q;break;case"details":lo("toggle",o),ce=Q;break;case"input":LT(o,Q),ce=v2(o,Q),lo("invalid",o);break;case"option":ce=Q;break;case"select":o._wrapperState={wasMultiple:!!Q.multiple},ce=Po({},Q,{value:void 0}),lo("invalid",o);break;case"textarea":RT(o,Q),ce=g2(o,Q),lo("invalid",o);break;default:ce=Q}m2(W,ce),N=ce;for(me in N)if(N.hasOwnProperty(me)){var e=N[me];me==="style"?J4(o,e):me==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&$4(o,e)):me==="children"?typeof e=="string"?(W!=="textarea"||e!=="")&&F0(o,e):typeof e=="number"&&F0(o,""+e):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(k0.hasOwnProperty(me)?e!=null&&me==="onScroll"&&lo("scroll",o):e!=null&&kb(o,me,e,B))}switch(W){case"input":Qg(o),PT(o,Q,!1);break;case"textarea":Qg(o),DT(o);break;case"option":Q.value!=null&&o.setAttribute("value",""+Yh(Q.value));break;case"select":o.multiple=!!Q.multiple,me=Q.value,me!=null?qd(o,!!Q.multiple,me,!1):Q.defaultValue!=null&&qd(o,!!Q.multiple,Q.defaultValue,!0);break;default:typeof ce.onClick=="function"&&(o.onclick=Zy)}switch(W){case"button":case"input":case"select":case"textarea":Q=!!Q.autoFocus;break e;case"img":Q=!0;break e;default:Q=!1}}Q&&(P.flags|=4)}P.ref!==null&&(P.flags|=512,P.flags|=2097152)}return Xs(P),null;case 6:if(o&&P.stateNode!=null)wM(o,P,o.memoizedProps,Q);else{if(typeof Q!="string"&&P.stateNode===null)throw Error(ga(166));if(W=Uv(j0.current),Uv($f.current),sy(P)){if(Q=P.stateNode,W=P.memoizedProps,Q[jf]=P,(me=Q.nodeValue!==W)&&(o=ru,o!==null))switch(o.tag){case 3:oy(Q.nodeValue,W,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&oy(Q.nodeValue,W,(o.mode&1)!==0)}me&&(P.flags|=4)}else Q=(W.nodeType===9?W:W.ownerDocument).createTextNode(Q),Q[jf]=P,P.stateNode=Q}return Xs(P),null;case 13:if(uo(Co),Q=P.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(mo&&tu!==null&&P.mode&1&&!(P.flags&128))BS(),hp(),P.flags|=98560,me=!1;else if(me=sy(P),Q!==null&&Q.dehydrated!==null){if(o===null){if(!me)throw Error(ga(318));if(me=P.memoizedState,me=me!==null?me.dehydrated:null,!me)throw Error(ga(317));me[jf]=P}else hp(),!(P.flags&128)&&(P.memoizedState=null),P.flags|=4;Xs(P),me=!1}else vf!==null&&(q2(vf),vf=null),me=!0;if(!me)return P.flags&65536?P:null}return P.flags&128?(P.lanes=W,P):(Q=Q!==null,Q!==(o!==null&&o.memoizedState!==null)&&Q&&(P.child.flags|=8192,P.mode&1&&(o===null||Co.current&1?ls===0&&(ls=3):p3())),P.updateQueue!==null&&(P.flags|=4),Xs(P),null);case 4:return dp(),j2(o,P),o===null&&H0(P.stateNode.containerInfo),Xs(P),null;case 10:return Qb(P.type._context),Xs(P),null;case 17:return Fl(P.type)&&Xy(),Xs(P),null;case 19:if(uo(Co),me=P.memoizedState,me===null)return Xs(P),null;if(Q=(P.flags&128)!==0,B=me.rendering,B===null)if(Q)s0(me,!1);else{if(ls!==0||o!==null&&o.flags&128)for(o=P.child;o!==null;){if(B=tm(o),B!==null){for(P.flags|=128,s0(me,!1),Q=B.updateQueue,Q!==null&&(P.updateQueue=Q,P.flags|=4),P.subtreeFlags=0,Q=W,W=P.child;W!==null;)me=W,o=Q,me.flags&=14680066,B=me.alternate,B===null?(me.childLanes=0,me.lanes=o,me.child=null,me.subtreeFlags=0,me.memoizedProps=null,me.memoizedState=null,me.updateQueue=null,me.dependencies=null,me.stateNode=null):(me.childLanes=B.childLanes,me.lanes=B.lanes,me.child=B.child,me.subtreeFlags=0,me.deletions=null,me.memoizedProps=B.memoizedProps,me.memoizedState=B.memoizedState,me.updateQueue=B.updateQueue,me.type=B.type,o=B.dependencies,me.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),W=W.sibling;return ao(Co,Co.current&1|2),P.child}o=o.sibling}me.tail!==null&&Go()>gp&&(P.flags|=128,Q=!0,s0(me,!1),P.lanes=4194304)}else{if(!Q)if(o=tm(B),o!==null){if(P.flags|=128,Q=!0,W=o.updateQueue,W!==null&&(P.updateQueue=W,P.flags|=4),s0(me,!0),me.tail===null&&me.tailMode==="hidden"&&!B.alternate&&!mo)return Xs(P),null}else 2*Go()-me.renderingStartTime>gp&&W!==1073741824&&(P.flags|=128,Q=!0,s0(me,!1),P.lanes=4194304);me.isBackwards?(B.sibling=P.child,P.child=B):(W=me.last,W!==null?W.sibling=B:P.child=B,me.last=B)}return me.tail!==null?(P=me.tail,me.rendering=P,me.tail=P.sibling,me.renderingStartTime=Go(),P.sibling=null,W=Co.current,ao(Co,Q?W&1|2:W&1),P):(Xs(P),null);case 22:case 23:return d3(),Q=P.memoizedState!==null,o!==null&&o.memoizedState!==null!==Q&&(P.flags|=8192),Q&&P.mode&1?ql&1073741824&&(Xs(P),P.subtreeFlags&6&&(P.flags|=8192)):Xs(P),null;case 24:return null;case 25:return null}throw Error(ga(156,P.tag))}function ZP(o,P){switch(Xb(P),P.tag){case 1:return Fl(P.type)&&Xy(),o=P.flags,o&65536?(P.flags=o&-65537|128,P):null;case 3:return dp(),uo(kl),uo(Qs),n3(),o=P.flags,o&65536&&!(o&128)?(P.flags=o&-65537|128,P):null;case 5:return r3(P),null;case 13:if(uo(Co),o=P.memoizedState,o!==null&&o.dehydrated!==null){if(P.alternate===null)throw Error(ga(340));hp()}return o=P.flags,o&65536?(P.flags=o&-65537|128,P):null;case 19:return uo(Co),null;case 4:return dp(),null;case 10:return Qb(P.type._context),null;case 22:case 23:return d3(),null;case 24:return null;default:return null}}var fy=!1,Js=!1,XP=typeof WeakSet=="function"?WeakSet:Set,Ba=null;function Jd(o,P){var W=o.ref;if(W!==null)if(typeof W=="function")try{W(null)}catch(Q){zo(o,P,Q)}else W.current=null}function Y2(o,P,W){try{W()}catch(Q){zo(o,P,Q)}}var b5=!1;function $P(o,P){if(P2=Wy,o=MS(),Yb(o)){if("selectionStart"in o)var W={start:o.selectionStart,end:o.selectionEnd};else e:{W=(W=o.ownerDocument)&&W.defaultView||window;var Q=W.getSelection&&W.getSelection();if(Q&&Q.rangeCount!==0){W=Q.anchorNode;var ce=Q.anchorOffset,me=Q.focusNode;Q=Q.focusOffset;try{W.nodeType,me.nodeType}catch{W=null;break e}var B=0,N=-1,e=-1,p=0,L=0,a=o,C=null;t:for(;;){for(var w;a!==W||ce!==0&&a.nodeType!==3||(N=B+ce),a!==me||Q!==0&&a.nodeType!==3||(e=B+Q),a.nodeType===3&&(B+=a.nodeValue.length),(w=a.firstChild)!==null;)C=a,a=w;for(;;){if(a===o)break t;if(C===W&&++p===ce&&(N=B),C===me&&++L===Q&&(e=B),(w=a.nextSibling)!==null)break;a=C,C=a.parentNode}a=w}W=N===-1||e===-1?null:{start:N,end:e}}else W=null}W=W||{start:0,end:0}}else W=null;for(R2={focusedElem:o,selectionRange:W},Wy=!1,Ba=P;Ba!==null;)if(P=Ba,o=P.child,(P.subtreeFlags&1028)!==0&&o!==null)o.return=P,Ba=o;else for(;Ba!==null;){P=Ba;try{var h=P.alternate;if(P.flags&1024)switch(P.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,t=h.memoizedState,r=P.stateNode,s=r.getSnapshotBeforeUpdate(P.elementType===P.type?g:cf(P.type,g),t);r.__reactInternalSnapshotBeforeUpdate=s}break;case 3:var n=P.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ga(163))}}catch(l){zo(P,P.return,l)}if(o=P.sibling,o!==null){o.return=P.return,Ba=o;break}Ba=P.return}return h=b5,b5=!1,h}function L0(o,P,W){var Q=P.updateQueue;if(Q=Q!==null?Q.lastEffect:null,Q!==null){var ce=Q=Q.next;do{if((ce.tag&o)===o){var me=ce.destroy;ce.destroy=void 0,me!==void 0&&Y2(P,W,me)}ce=ce.next}while(ce!==Q)}}function km(o,P){if(P=P.updateQueue,P=P!==null?P.lastEffect:null,P!==null){var W=P=P.next;do{if((W.tag&o)===o){var Q=W.create;W.destroy=Q()}W=W.next}while(W!==P)}}function Z2(o){var P=o.ref;if(P!==null){var W=o.stateNode;switch(o.tag){case 5:o=W;break;default:o=W}typeof P=="function"?P(o):P.current=o}}function TM(o){var P=o.alternate;P!==null&&(o.alternate=null,TM(P)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(P=o.stateNode,P!==null&&(delete P[jf],delete P[G0],delete P[k2],delete P[DP],delete P[IP])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function AM(o){return o.tag===5||o.tag===3||o.tag===4}function w5(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||AM(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function X2(o,P,W){var Q=o.tag;if(Q===5||Q===6)o=o.stateNode,P?W.nodeType===8?W.parentNode.insertBefore(o,P):W.insertBefore(o,P):(W.nodeType===8?(P=W.parentNode,P.insertBefore(o,W)):(P=W,P.appendChild(o)),W=W._reactRootContainer,W!=null||P.onclick!==null||(P.onclick=Zy));else if(Q!==4&&(o=o.child,o!==null))for(X2(o,P,W),o=o.sibling;o!==null;)X2(o,P,W),o=o.sibling}function $2(o,P,W){var Q=o.tag;if(Q===5||Q===6)o=o.stateNode,P?W.insertBefore(o,P):W.appendChild(o);else if(Q!==4&&(o=o.child,o!==null))for($2(o,P,W),o=o.sibling;o!==null;)$2(o,P,W),o=o.sibling}var Ps=null,hf=!1;function Ah(o,P,W){for(W=W.child;W!==null;)SM(o,P,W),W=W.sibling}function SM(o,P,W){if(Xf&&typeof Xf.onCommitFiberUnmount=="function")try{Xf.onCommitFiberUnmount(Mm,W)}catch{}switch(W.tag){case 5:Js||Jd(W,P);case 6:var Q=Ps,ce=hf;Ps=null,Ah(o,P,W),Ps=Q,hf=ce,Ps!==null&&(hf?(o=Ps,W=W.stateNode,o.nodeType===8?o.parentNode.removeChild(W):o.removeChild(W)):Ps.removeChild(W.stateNode));break;case 18:Ps!==null&&(hf?(o=Ps,W=W.stateNode,o.nodeType===8?Ex(o.parentNode,W):o.nodeType===1&&Ex(o,W),B0(o)):Ex(Ps,W.stateNode));break;case 4:Q=Ps,ce=hf,Ps=W.stateNode.containerInfo,hf=!0,Ah(o,P,W),Ps=Q,hf=ce;break;case 0:case 11:case 14:case 15:if(!Js&&(Q=W.updateQueue,Q!==null&&(Q=Q.lastEffect,Q!==null))){ce=Q=Q.next;do{var me=ce,B=me.destroy;me=me.tag,B!==void 0&&(me&2||me&4)&&Y2(W,P,B),ce=ce.next}while(ce!==Q)}Ah(o,P,W);break;case 1:if(!Js&&(Jd(W,P),Q=W.stateNode,typeof Q.componentWillUnmount=="function"))try{Q.props=W.memoizedProps,Q.state=W.memoizedState,Q.componentWillUnmount()}catch(N){zo(W,P,N)}Ah(o,P,W);break;case 21:Ah(o,P,W);break;case 22:W.mode&1?(Js=(Q=Js)||W.memoizedState!==null,Ah(o,P,W),Js=Q):Ah(o,P,W);break;default:Ah(o,P,W)}}function T5(o){var P=o.updateQueue;if(P!==null){o.updateQueue=null;var W=o.stateNode;W===null&&(W=o.stateNode=new XP),P.forEach(function(Q){var ce=a9.bind(null,o,Q);W.has(Q)||(W.add(Q),Q.then(ce,ce))})}}function ff(o,P){var W=P.deletions;if(W!==null)for(var Q=0;Q<W.length;Q++){var ce=W[Q];try{var me=o,B=P,N=B;e:for(;N!==null;){switch(N.tag){case 5:Ps=N.stateNode,hf=!1;break e;case 3:Ps=N.stateNode.containerInfo,hf=!0;break e;case 4:Ps=N.stateNode.containerInfo,hf=!0;break e}N=N.return}if(Ps===null)throw Error(ga(160));SM(me,B,ce),Ps=null,hf=!1;var e=ce.alternate;e!==null&&(e.return=null),ce.return=null}catch(p){zo(ce,P,p)}}if(P.subtreeFlags&12854)for(P=P.child;P!==null;)MM(P,o),P=P.sibling}function MM(o,P){var W=o.alternate,Q=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ff(P,o),Hf(o),Q&4){try{L0(3,o,o.return),km(3,o)}catch(g){zo(o,o.return,g)}try{L0(5,o,o.return)}catch(g){zo(o,o.return,g)}}break;case 1:ff(P,o),Hf(o),Q&512&&W!==null&&Jd(W,W.return);break;case 5:if(ff(P,o),Hf(o),Q&512&&W!==null&&Jd(W,W.return),o.flags&32){var ce=o.stateNode;try{F0(ce,"")}catch(g){zo(o,o.return,g)}}if(Q&4&&(ce=o.stateNode,ce!=null)){var me=o.memoizedProps,B=W!==null?W.memoizedProps:me,N=o.type,e=o.updateQueue;if(o.updateQueue=null,e!==null)try{N==="input"&&me.type==="radio"&&me.name!=null&&Y4(ce,me),x2(N,B);var p=x2(N,me);for(B=0;B<e.length;B+=2){var L=e[B],a=e[B+1];L==="style"?J4(ce,a):L==="dangerouslySetInnerHTML"?$4(ce,a):L==="children"?F0(ce,a):kb(ce,L,a,p)}switch(N){case"input":d2(ce,me);break;case"textarea":Z4(ce,me);break;case"select":var C=ce._wrapperState.wasMultiple;ce._wrapperState.wasMultiple=!!me.multiple;var w=me.value;w!=null?qd(ce,!!me.multiple,w,!1):C!==!!me.multiple&&(me.defaultValue!=null?qd(ce,!!me.multiple,me.defaultValue,!0):qd(ce,!!me.multiple,me.multiple?[]:"",!1))}ce[G0]=me}catch(g){zo(o,o.return,g)}}break;case 6:if(ff(P,o),Hf(o),Q&4){if(o.stateNode===null)throw Error(ga(162));ce=o.stateNode,me=o.memoizedProps;try{ce.nodeValue=me}catch(g){zo(o,o.return,g)}}break;case 3:if(ff(P,o),Hf(o),Q&4&&W!==null&&W.memoizedState.isDehydrated)try{B0(P.containerInfo)}catch(g){zo(o,o.return,g)}break;case 4:ff(P,o),Hf(o);break;case 13:ff(P,o),Hf(o),ce=o.child,ce.flags&8192&&(me=ce.memoizedState!==null,ce.stateNode.isHidden=me,!me||ce.alternate!==null&&ce.alternate.memoizedState!==null||(h3=Go())),Q&4&&T5(o);break;case 22:if(L=W!==null&&W.memoizedState!==null,o.mode&1?(Js=(p=Js)||L,ff(P,o),Js=p):ff(P,o),Hf(o),Q&8192){if(p=o.memoizedState!==null,(o.stateNode.isHidden=p)&&!L&&o.mode&1)for(Ba=o,L=o.child;L!==null;){for(a=Ba=L;Ba!==null;){switch(C=Ba,w=C.child,C.tag){case 0:case 11:case 14:case 15:L0(4,C,C.return);break;case 1:Jd(C,C.return);var h=C.stateNode;if(typeof h.componentWillUnmount=="function"){Q=C,W=C.return;try{P=Q,h.props=P.memoizedProps,h.state=P.memoizedState,h.componentWillUnmount()}catch(g){zo(Q,W,g)}}break;case 5:Jd(C,C.return);break;case 22:if(C.memoizedState!==null){S5(a);continue}}w!==null?(w.return=C,Ba=w):S5(a)}L=L.sibling}e:for(L=null,a=o;;){if(a.tag===5){if(L===null){L=a;try{ce=a.stateNode,p?(me=ce.style,typeof me.setProperty=="function"?me.setProperty("display","none","important"):me.display="none"):(N=a.stateNode,e=a.memoizedProps.style,B=e!=null&&e.hasOwnProperty("display")?e.display:null,N.style.display=K4("display",B))}catch(g){zo(o,o.return,g)}}}else if(a.tag===6){if(L===null)try{a.stateNode.nodeValue=p?"":a.memoizedProps}catch(g){zo(o,o.return,g)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;L===a&&(L=null),a=a.return}L===a&&(L=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:ff(P,o),Hf(o),Q&4&&T5(o);break;case 21:break;default:ff(P,o),Hf(o)}}function Hf(o){var P=o.flags;if(P&2){try{e:{for(var W=o.return;W!==null;){if(AM(W)){var Q=W;break e}W=W.return}throw Error(ga(160))}switch(Q.tag){case 5:var ce=Q.stateNode;Q.flags&32&&(F0(ce,""),Q.flags&=-33);var me=w5(o);$2(o,me,ce);break;case 3:case 4:var B=Q.stateNode.containerInfo,N=w5(o);X2(o,N,B);break;default:throw Error(ga(161))}}catch(e){zo(o,o.return,e)}o.flags&=-3}P&4096&&(o.flags&=-4097)}function KP(o,P,W){Ba=o,EM(o)}function EM(o,P,W){for(var Q=(o.mode&1)!==0;Ba!==null;){var ce=Ba,me=ce.child;if(ce.tag===22&&Q){var B=ce.memoizedState!==null||fy;if(!B){var N=ce.alternate,e=N!==null&&N.memoizedState!==null||Js;N=fy;var p=Js;if(fy=B,(Js=e)&&!p)for(Ba=ce;Ba!==null;)B=Ba,e=B.child,B.tag===22&&B.memoizedState!==null?M5(ce):e!==null?(e.return=B,Ba=e):M5(ce);for(;me!==null;)Ba=me,EM(me),me=me.sibling;Ba=ce,fy=N,Js=p}A5(o)}else ce.subtreeFlags&8772&&me!==null?(me.return=ce,Ba=me):A5(o)}}function A5(o){for(;Ba!==null;){var P=Ba;if(P.flags&8772){var W=P.alternate;try{if(P.flags&8772)switch(P.tag){case 0:case 11:case 15:Js||km(5,P);break;case 1:var Q=P.stateNode;if(P.flags&4&&!Js)if(W===null)Q.componentDidMount();else{var ce=P.elementType===P.type?W.memoizedProps:cf(P.type,W.memoizedProps);Q.componentDidUpdate(ce,W.memoizedState,Q.__reactInternalSnapshotBeforeUpdate)}var me=P.updateQueue;me!==null&&o5(P,me,Q);break;case 3:var B=P.updateQueue;if(B!==null){if(W=null,P.child!==null)switch(P.child.tag){case 5:W=P.child.stateNode;break;case 1:W=P.child.stateNode}o5(P,B,W)}break;case 5:var N=P.stateNode;if(W===null&&P.flags&4){W=N;var e=P.memoizedProps;switch(P.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&W.focus();break;case"img":e.src&&(W.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(P.memoizedState===null){var p=P.alternate;if(p!==null){var L=p.memoizedState;if(L!==null){var a=L.dehydrated;a!==null&&B0(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ga(163))}Js||P.flags&512&&Z2(P)}catch(C){zo(P,P.return,C)}}if(P===o){Ba=null;break}if(W=P.sibling,W!==null){W.return=P.return,Ba=W;break}Ba=P.return}}function S5(o){for(;Ba!==null;){var P=Ba;if(P===o){Ba=null;break}var W=P.sibling;if(W!==null){W.return=P.return,Ba=W;break}Ba=P.return}}function M5(o){for(;Ba!==null;){var P=Ba;try{switch(P.tag){case 0:case 11:case 15:var W=P.return;try{km(4,P)}catch(e){zo(P,W,e)}break;case 1:var Q=P.stateNode;if(typeof Q.componentDidMount=="function"){var ce=P.return;try{Q.componentDidMount()}catch(e){zo(P,ce,e)}}var me=P.return;try{Z2(P)}catch(e){zo(P,me,e)}break;case 5:var B=P.return;try{Z2(P)}catch(e){zo(P,B,e)}}}catch(e){zo(P,P.return,e)}if(P===o){Ba=null;break}var N=P.sibling;if(N!==null){N.return=P.return,Ba=N;break}Ba=P.return}}var JP=Math.ceil,am=Wc.ReactCurrentDispatcher,f3=Wc.ReactCurrentOwner,ku=Wc.ReactCurrentBatchConfig,_i=0,ms=null,qo=null,Is=0,ql=0,Qd=qh(0),ls=0,$0=null,Xv=0,Fm=0,c3=0,P0=null,Dl=null,h3=0,gp=1/0,Dc=null,im=!1,K2=null,Uh=null,cy=!1,kh=null,om=0,R0=0,J2=null,Cy=-1,Ly=0;function vl(){return _i&6?Go():Cy!==-1?Cy:Cy=Go()}function Hh(o){return o.mode&1?_i&2&&Is!==0?Is&-Is:FP.transition!==null?(Ly===0&&(Ly=uS()),Ly):(o=Zi,o!==0||(o=window.event,o=o===void 0?16:gS(o.type)),o):1}function gf(o,P,W,Q){if(50<R0)throw R0=0,J2=null,Error(ga(185));ug(o,W,Q),(!(_i&2)||o!==ms)&&(o===ms&&(!(_i&2)&&(Fm|=W),ls===4&&Ph(o,Is)),_l(o,Q),W===1&&_i===0&&!(P.mode&1)&&(gp=Go()+500,Rm&&ev()))}function _l(o,P){var W=o.callbackNode;F7(o,P);var Q=Gy(o,o===ms?Is:0);if(Q===0)W!==null&&FT(W),o.callbackNode=null,o.callbackPriority=0;else if(P=Q&-Q,o.callbackPriority!==P){if(W!=null&&FT(W),P===1)o.tag===0?kP(E5.bind(null,o)):_S(E5.bind(null,o)),PP(function(){!(_i&6)&&ev()}),W=null;else{switch(fS(Q)){case 1:W=Bb;break;case 4:W=sS;break;case 16:W=Vy;break;case 536870912:W=lS;break;default:W=Vy}W=FM(W,CM.bind(null,o))}o.callbackPriority=P,o.callbackNode=W}}function CM(o,P){if(Cy=-1,Ly=0,_i&6)throw Error(ga(327));var W=o.callbackNode;if(ap()&&o.callbackNode!==W)return null;var Q=Gy(o,o===ms?Is:0);if(Q===0)return null;if(Q&30||Q&o.expiredLanes||P)P=sm(o,Q);else{P=Q;var ce=_i;_i|=2;var me=PM();(ms!==o||Is!==P)&&(Dc=null,gp=Go()+500,Vv(o,P));do try{e9();break}catch(N){LM(o,N)}while(1);Jb(),am.current=me,_i=ce,qo!==null?P=0:(ms=null,Is=0,P=ls)}if(P!==0){if(P===2&&(ce=S2(o),ce!==0&&(Q=ce,P=Q2(o,ce))),P===1)throw W=$0,Vv(o,0),Ph(o,Q),_l(o,Go()),W;if(P===6)Ph(o,Q);else{if(ce=o.current.alternate,!(Q&30)&&!QP(ce)&&(P=sm(o,Q),P===2&&(me=S2(o),me!==0&&(Q=me,P=Q2(o,me))),P===1))throw W=$0,Vv(o,0),Ph(o,Q),_l(o,Go()),W;switch(o.finishedWork=ce,o.finishedLanes=Q,P){case 0:case 1:throw Error(ga(345));case 2:Fv(o,Dl,Dc);break;case 3:if(Ph(o,Q),(Q&130023424)===Q&&(P=h3+500-Go(),10<P)){if(Gy(o,0)!==0)break;if(ce=o.suspendedLanes,(ce&Q)!==Q){vl(),o.pingedLanes|=o.suspendedLanes&ce;break}o.timeoutHandle=I2(Fv.bind(null,o,Dl,Dc),P);break}Fv(o,Dl,Dc);break;case 4:if(Ph(o,Q),(Q&4194240)===Q)break;for(P=o.eventTimes,ce=-1;0<Q;){var B=31-pf(Q);me=1<<B,B=P[B],B>ce&&(ce=B),Q&=~me}if(Q=ce,Q=Go()-Q,Q=(120>Q?120:480>Q?480:1080>Q?1080:1920>Q?1920:3e3>Q?3e3:4320>Q?4320:1960*JP(Q/1960))-Q,10<Q){o.timeoutHandle=I2(Fv.bind(null,o,Dl,Dc),Q);break}Fv(o,Dl,Dc);break;case 5:Fv(o,Dl,Dc);break;default:throw Error(ga(329))}}}return _l(o,Go()),o.callbackNode===W?CM.bind(null,o):null}function Q2(o,P){var W=P0;return o.current.memoizedState.isDehydrated&&(Vv(o,P).flags|=256),o=sm(o,P),o!==2&&(P=Dl,Dl=W,P!==null&&q2(P)),o}function q2(o){Dl===null?Dl=o:Dl.push.apply(Dl,o)}function QP(o){for(var P=o;;){if(P.flags&16384){var W=P.updateQueue;if(W!==null&&(W=W.stores,W!==null))for(var Q=0;Q<W.length;Q++){var ce=W[Q],me=ce.getSnapshot;ce=ce.value;try{if(!yf(me(),ce))return!1}catch{return!1}}}if(W=P.child,P.subtreeFlags&16384&&W!==null)W.return=P,P=W;else{if(P===o)break;for(;P.sibling===null;){if(P.return===null||P.return===o)return!0;P=P.return}P.sibling.return=P.return,P=P.sibling}}return!0}function Ph(o,P){for(P&=~c3,P&=~Fm,o.suspendedLanes|=P,o.pingedLanes&=~P,o=o.expirationTimes;0<P;){var W=31-pf(P),Q=1<<W;o[W]=-1,P&=~Q}}function E5(o){if(_i&6)throw Error(ga(327));ap();var P=Gy(o,0);if(!(P&1))return _l(o,Go()),null;var W=sm(o,P);if(o.tag!==0&&W===2){var Q=S2(o);Q!==0&&(P=Q,W=Q2(o,Q))}if(W===1)throw W=$0,Vv(o,0),Ph(o,P),_l(o,Go()),W;if(W===6)throw Error(ga(345));return o.finishedWork=o.current.alternate,o.finishedLanes=P,Fv(o,Dl,Dc),_l(o,Go()),null}function v3(o,P){var W=_i;_i|=1;try{return o(P)}finally{_i=W,_i===0&&(gp=Go()+500,Rm&&ev())}}function $v(o){kh!==null&&kh.tag===0&&!(_i&6)&&ap();var P=_i;_i|=1;var W=ku.transition,Q=Zi;try{if(ku.transition=null,Zi=1,o)return o()}finally{Zi=Q,ku.transition=W,_i=P,!(_i&6)&&ev()}}function d3(){ql=Qd.current,uo(Qd)}function Vv(o,P){o.finishedWork=null,o.finishedLanes=0;var W=o.timeoutHandle;if(W!==-1&&(o.timeoutHandle=-1,LP(W)),qo!==null)for(W=qo.return;W!==null;){var Q=W;switch(Xb(Q),Q.tag){case 1:Q=Q.type.childContextTypes,Q!=null&&Xy();break;case 3:dp(),uo(kl),uo(Qs),n3();break;case 5:r3(Q);break;case 4:dp();break;case 13:uo(Co);break;case 19:uo(Co);break;case 10:Qb(Q.type._context);break;case 22:case 23:d3()}W=W.return}if(ms=o,qo=o=Vh(o.current,null),Is=ql=P,ls=0,$0=null,c3=Fm=Xv=0,Dl=P0=null,Nv!==null){for(P=0;P<Nv.length;P++)if(W=Nv[P],Q=W.interleaved,Q!==null){W.interleaved=null;var ce=Q.next,me=W.pending;if(me!==null){var B=me.next;me.next=ce,Q.next=B}W.pending=Q}Nv=null}return o}function LM(o,P){do{var W=qo;try{if(Jb(),Sy.current=nm,rm){for(var Q=Lo.memoizedState;Q!==null;){var ce=Q.queue;ce!==null&&(ce.pending=null),Q=Q.next}rm=!1}if(Zv=0,ys=ss=Lo=null,C0=!1,Y0=0,f3.current=null,W===null||W.return===null){ls=1,$0=P,qo=null;break}e:{var me=o,B=W.return,N=W,e=P;if(P=Is,N.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var p=e,L=N,a=L.tag;if(!(L.mode&1)&&(a===0||a===11||a===15)){var C=L.alternate;C?(L.updateQueue=C.updateQueue,L.memoizedState=C.memoizedState,L.lanes=C.lanes):(L.updateQueue=null,L.memoizedState=null)}var w=v5(B);if(w!==null){w.flags&=-257,d5(w,B,N,me,P),w.mode&1&&h5(me,p,P),P=w,e=p;var h=P.updateQueue;if(h===null){var g=new Set;g.add(e),P.updateQueue=g}else h.add(e);break e}else{if(!(P&1)){h5(me,p,P),p3();break e}e=Error(ga(426))}}else if(mo&&N.mode&1){var t=v5(B);if(t!==null){!(t.flags&65536)&&(t.flags|=256),d5(t,B,N,me,P),$b(pp(e,N));break e}}me=e=pp(e,N),ls!==4&&(ls=2),P0===null?P0=[me]:P0.push(me),me=B;do{switch(me.tag){case 3:me.flags|=65536,P&=-P,me.lanes|=P;var r=cM(me,e,P);i5(me,r);break e;case 1:N=e;var s=me.type,n=me.stateNode;if(!(me.flags&128)&&(typeof s.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Uh===null||!Uh.has(n)))){me.flags|=65536,P&=-P,me.lanes|=P;var l=hM(me,N,P);i5(me,l);break e}}me=me.return}while(me!==null)}DM(W)}catch(c){P=c,qo===W&&W!==null&&(qo=W=W.return);continue}break}while(1)}function PM(){var o=am.current;return am.current=nm,o===null?nm:o}function p3(){(ls===0||ls===3||ls===2)&&(ls=4),ms===null||!(Xv&268435455)&&!(Fm&268435455)||Ph(ms,Is)}function sm(o,P){var W=_i;_i|=2;var Q=PM();(ms!==o||Is!==P)&&(Dc=null,Vv(o,P));do try{qP();break}catch(ce){LM(o,ce)}while(1);if(Jb(),_i=W,am.current=Q,qo!==null)throw Error(ga(261));return ms=null,Is=0,ls}function qP(){for(;qo!==null;)RM(qo)}function e9(){for(;qo!==null&&!M7();)RM(qo)}function RM(o){var P=kM(o.alternate,o,ql);o.memoizedProps=o.pendingProps,P===null?DM(o):qo=P,f3.current=null}function DM(o){var P=o;do{var W=P.alternate;if(o=P.return,P.flags&32768){if(W=ZP(W,P),W!==null){W.flags&=32767,qo=W;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{ls=6,qo=null;return}}else if(W=YP(W,P,ql),W!==null){qo=W;return}if(P=P.sibling,P!==null){qo=P;return}qo=P=o}while(P!==null);ls===0&&(ls=5)}function Fv(o,P,W){var Q=Zi,ce=ku.transition;try{ku.transition=null,Zi=1,t9(o,P,W,Q)}finally{ku.transition=ce,Zi=Q}return null}function t9(o,P,W,Q){do ap();while(kh!==null);if(_i&6)throw Error(ga(327));W=o.finishedWork;var ce=o.finishedLanes;if(W===null)return null;if(o.finishedWork=null,o.finishedLanes=0,W===o.current)throw Error(ga(177));o.callbackNode=null,o.callbackPriority=0;var me=W.lanes|W.childLanes;if(_7(o,me),o===ms&&(qo=ms=null,Is=0),!(W.subtreeFlags&2064)&&!(W.flags&2064)||cy||(cy=!0,FM(Vy,function(){return ap(),null})),me=(W.flags&15990)!==0,W.subtreeFlags&15990||me){me=ku.transition,ku.transition=null;var B=Zi;Zi=1;var N=_i;_i|=4,f3.current=null,$P(o,W),MM(W,o),wP(R2),Wy=!!P2,R2=P2=null,o.current=W,KP(W),E7(),_i=N,Zi=B,ku.transition=me}else o.current=W;if(cy&&(cy=!1,kh=o,om=ce),me=o.pendingLanes,me===0&&(Uh=null),P7(W.stateNode),_l(o,Go()),P!==null)for(Q=o.onRecoverableError,W=0;W<P.length;W++)ce=P[W],Q(ce.value,{componentStack:ce.stack,digest:ce.digest});if(im)throw im=!1,o=K2,K2=null,o;return om&1&&o.tag!==0&&ap(),me=o.pendingLanes,me&1?o===J2?R0++:(R0=0,J2=o):R0=0,ev(),null}function ap(){if(kh!==null){var o=fS(om),P=ku.transition,W=Zi;try{if(ku.transition=null,Zi=16>o?16:o,kh===null)var Q=!1;else{if(o=kh,kh=null,om=0,_i&6)throw Error(ga(331));var ce=_i;for(_i|=4,Ba=o.current;Ba!==null;){var me=Ba,B=me.child;if(Ba.flags&16){var N=me.deletions;if(N!==null){for(var e=0;e<N.length;e++){var p=N[e];for(Ba=p;Ba!==null;){var L=Ba;switch(L.tag){case 0:case 11:case 15:L0(8,L,me)}var a=L.child;if(a!==null)a.return=L,Ba=a;else for(;Ba!==null;){L=Ba;var C=L.sibling,w=L.return;if(TM(L),L===p){Ba=null;break}if(C!==null){C.return=w,Ba=C;break}Ba=w}}}var h=me.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var t=g.sibling;g.sibling=null,g=t}while(g!==null)}}Ba=me}}if(me.subtreeFlags&2064&&B!==null)B.return=me,Ba=B;else e:for(;Ba!==null;){if(me=Ba,me.flags&2048)switch(me.tag){case 0:case 11:case 15:L0(9,me,me.return)}var r=me.sibling;if(r!==null){r.return=me.return,Ba=r;break e}Ba=me.return}}var s=o.current;for(Ba=s;Ba!==null;){B=Ba;var n=B.child;if(B.subtreeFlags&2064&&n!==null)n.return=B,Ba=n;else e:for(B=s;Ba!==null;){if(N=Ba,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:km(9,N)}}catch(c){zo(N,N.return,c)}if(N===B){Ba=null;break e}var l=N.sibling;if(l!==null){l.return=N.return,Ba=l;break e}Ba=N.return}}if(_i=ce,ev(),Xf&&typeof Xf.onPostCommitFiberRoot=="function")try{Xf.onPostCommitFiberRoot(Mm,o)}catch{}Q=!0}return Q}finally{Zi=W,ku.transition=P}}return!1}function C5(o,P,W){P=pp(W,P),P=cM(o,P,1),o=Nh(o,P,1),P=vl(),o!==null&&(ug(o,1,P),_l(o,P))}function zo(o,P,W){if(o.tag===3)C5(o,o,W);else for(;P!==null;){if(P.tag===3){C5(P,o,W);break}else if(P.tag===1){var Q=P.stateNode;if(typeof P.type.getDerivedStateFromError=="function"||typeof Q.componentDidCatch=="function"&&(Uh===null||!Uh.has(Q))){o=pp(W,o),o=hM(P,o,1),P=Nh(P,o,1),o=vl(),P!==null&&(ug(P,1,o),_l(P,o));break}}P=P.return}}function r9(o,P,W){var Q=o.pingCache;Q!==null&&Q.delete(P),P=vl(),o.pingedLanes|=o.suspendedLanes&W,ms===o&&(Is&W)===W&&(ls===4||ls===3&&(Is&130023424)===Is&&500>Go()-h3?Vv(o,0):c3|=W),_l(o,P)}function IM(o,P){P===0&&(o.mode&1?(P=ty,ty<<=1,!(ty&130023424)&&(ty=4194304)):P=1);var W=vl();o=Hc(o,P),o!==null&&(ug(o,P,W),_l(o,W))}function n9(o){var P=o.memoizedState,W=0;P!==null&&(W=P.retryLane),IM(o,W)}function a9(o,P){var W=0;switch(o.tag){case 13:var Q=o.stateNode,ce=o.memoizedState;ce!==null&&(W=ce.retryLane);break;case 19:Q=o.stateNode;break;default:throw Error(ga(314))}Q!==null&&Q.delete(P),IM(o,W)}var kM;kM=function(o,P,W){if(o!==null)if(o.memoizedProps!==P.pendingProps||kl.current)Il=!0;else{if(!(o.lanes&W)&&!(P.flags&128))return Il=!1,jP(o,P,W);Il=!!(o.flags&131072)}else Il=!1,mo&&P.flags&1048576&&zS(P,Jy,P.index);switch(P.lanes=0,P.tag){case 2:var Q=P.type;Ey(o,P),o=P.pendingProps;var ce=cp(P,Qs.current);np(P,W),ce=i3(null,P,Q,o,ce,W);var me=o3();return P.flags|=1,typeof ce=="object"&&ce!==null&&typeof ce.render=="function"&&ce.$$typeof===void 0?(P.tag=1,P.memoizedState=null,P.updateQueue=null,Fl(Q)?(me=!0,$y(P)):me=!1,P.memoizedState=ce.state!==null&&ce.state!==void 0?ce.state:null,e3(P),ce.updater=Dm,P.stateNode=ce,ce._reactInternals=P,N2(P,Q,o,W),P=V2(null,P,Q,!0,me,W)):(P.tag=0,mo&&me&&Zb(P),hl(null,P,ce,W),P=P.child),P;case 16:Q=P.elementType;e:{switch(Ey(o,P),o=P.pendingProps,ce=Q._init,Q=ce(Q._payload),P.type=Q,ce=P.tag=o9(Q),o=cf(Q,o),ce){case 0:P=H2(null,P,Q,o,W);break e;case 1:P=y5(null,P,Q,o,W);break e;case 11:P=p5(null,P,Q,o,W);break e;case 14:P=g5(null,P,Q,cf(Q.type,o),W);break e}throw Error(ga(306,Q,""))}return P;case 0:return Q=P.type,ce=P.pendingProps,ce=P.elementType===Q?ce:cf(Q,ce),H2(o,P,Q,ce,W);case 1:return Q=P.type,ce=P.pendingProps,ce=P.elementType===Q?ce:cf(Q,ce),y5(o,P,Q,ce,W);case 3:e:{if(gM(P),o===null)throw Error(ga(387));Q=P.pendingProps,me=P.memoizedState,ce=me.element,US(o,P),em(P,Q,null,W);var B=P.memoizedState;if(Q=B.element,me.isDehydrated)if(me={element:Q,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},P.updateQueue.baseState=me,P.memoizedState=me,P.flags&256){ce=pp(Error(ga(423)),P),P=m5(o,P,Q,W,ce);break e}else if(Q!==ce){ce=pp(Error(ga(424)),P),P=m5(o,P,Q,W,ce);break e}else for(tu=Bh(P.stateNode.containerInfo.firstChild),ru=P,mo=!0,vf=null,W=WS(P,null,Q,W),P.child=W;W;)W.flags=W.flags&-3|4096,W=W.sibling;else{if(hp(),Q===ce){P=Vc(o,P,W);break e}hl(o,P,Q,W)}P=P.child}return P;case 5:return jS(P),o===null&&z2(P),Q=P.type,ce=P.pendingProps,me=o!==null?o.memoizedProps:null,B=ce.children,D2(Q,ce)?B=null:me!==null&&D2(Q,me)&&(P.flags|=32),pM(o,P),hl(o,P,B,W),P.child;case 6:return o===null&&z2(P),null;case 13:return yM(o,P,W);case 4:return t3(P,P.stateNode.containerInfo),Q=P.pendingProps,o===null?P.child=vp(P,null,Q,W):hl(o,P,Q,W),P.child;case 11:return Q=P.type,ce=P.pendingProps,ce=P.elementType===Q?ce:cf(Q,ce),p5(o,P,Q,ce,W);case 7:return hl(o,P,P.pendingProps,W),P.child;case 8:return hl(o,P,P.pendingProps.children,W),P.child;case 12:return hl(o,P,P.pendingProps.children,W),P.child;case 10:e:{if(Q=P.type._context,ce=P.pendingProps,me=P.memoizedProps,B=ce.value,ao(Qy,Q._currentValue),Q._currentValue=B,me!==null)if(yf(me.value,B)){if(me.children===ce.children&&!kl.current){P=Vc(o,P,W);break e}}else for(me=P.child,me!==null&&(me.return=P);me!==null;){var N=me.dependencies;if(N!==null){B=me.child;for(var e=N.firstContext;e!==null;){if(e.context===Q){if(me.tag===1){e=Oc(-1,W&-W),e.tag=2;var p=me.updateQueue;if(p!==null){p=p.shared;var L=p.pending;L===null?e.next=e:(e.next=L.next,L.next=e),p.pending=e}}me.lanes|=W,e=me.alternate,e!==null&&(e.lanes|=W),O2(me.return,W,P),N.lanes|=W;break}e=e.next}}else if(me.tag===10)B=me.type===P.type?null:me.child;else if(me.tag===18){if(B=me.return,B===null)throw Error(ga(341));B.lanes|=W,N=B.alternate,N!==null&&(N.lanes|=W),O2(B,W,P),B=me.sibling}else B=me.child;if(B!==null)B.return=me;else for(B=me;B!==null;){if(B===P){B=null;break}if(me=B.sibling,me!==null){me.return=B.return,B=me;break}B=B.return}me=B}hl(o,P,ce.children,W),P=P.child}return P;case 9:return ce=P.type,Q=P.pendingProps.children,np(P,W),ce=_u(ce),Q=Q(ce),P.flags|=1,hl(o,P,Q,W),P.child;case 14:return Q=P.type,ce=cf(Q,P.pendingProps),ce=cf(Q.type,ce),g5(o,P,Q,ce,W);case 15:return vM(o,P,P.type,P.pendingProps,W);case 17:return Q=P.type,ce=P.pendingProps,ce=P.elementType===Q?ce:cf(Q,ce),Ey(o,P),P.tag=1,Fl(Q)?(o=!0,$y(P)):o=!1,np(P,W),VS(P,Q,ce),N2(P,Q,ce,W),V2(null,P,Q,!0,o,W);case 19:return mM(o,P,W);case 22:return dM(o,P,W)}throw Error(ga(156,P.tag))};function FM(o,P){return oS(o,P)}function i9(o,P,W,Q){this.tag=o,this.key=W,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=P,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Q,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(o,P,W,Q){return new i9(o,P,W,Q)}function g3(o){return o=o.prototype,!(!o||!o.isReactComponent)}function o9(o){if(typeof o=="function")return g3(o)?1:0;if(o!=null){if(o=o.$$typeof,o===_b)return 11;if(o===zb)return 14}return 2}function Vh(o,P){var W=o.alternate;return W===null?(W=Iu(o.tag,P,o.key,o.mode),W.elementType=o.elementType,W.type=o.type,W.stateNode=o.stateNode,W.alternate=o,o.alternate=W):(W.pendingProps=P,W.type=o.type,W.flags=0,W.subtreeFlags=0,W.deletions=null),W.flags=o.flags&14680064,W.childLanes=o.childLanes,W.lanes=o.lanes,W.child=o.child,W.memoizedProps=o.memoizedProps,W.memoizedState=o.memoizedState,W.updateQueue=o.updateQueue,P=o.dependencies,W.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext},W.sibling=o.sibling,W.index=o.index,W.ref=o.ref,W}function Py(o,P,W,Q,ce,me){var B=2;if(Q=o,typeof o=="function")g3(o)&&(B=1);else if(typeof o=="string")B=5;else e:switch(o){case Vd:return Gv(W.children,ce,me,P);case Fb:B=8,ce|=8;break;case u2:return o=Iu(12,W,P,ce|2),o.elementType=u2,o.lanes=me,o;case f2:return o=Iu(13,W,P,ce),o.elementType=f2,o.lanes=me,o;case c2:return o=Iu(19,W,P,ce),o.elementType=c2,o.lanes=me,o;case G4:return _m(W,ce,me,P);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case H4:B=10;break e;case V4:B=9;break e;case _b:B=11;break e;case zb:B=14;break e;case Eh:B=16,Q=null;break e}throw Error(ga(130,o==null?o:typeof o,""))}return P=Iu(B,W,P,ce),P.elementType=o,P.type=Q,P.lanes=me,P}function Gv(o,P,W,Q){return o=Iu(7,o,Q,P),o.lanes=W,o}function _m(o,P,W,Q){return o=Iu(22,o,Q,P),o.elementType=G4,o.lanes=W,o.stateNode={isHidden:!1},o}function Fx(o,P,W){return o=Iu(6,o,null,P),o.lanes=W,o}function _x(o,P,W){return P=Iu(4,o.children!==null?o.children:[],o.key,P),P.lanes=W,P.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},P}function s9(o,P,W,Q,ce){this.tag=P,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=px(0),this.expirationTimes=px(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=px(0),this.identifierPrefix=Q,this.onRecoverableError=ce,this.mutableSourceEagerHydrationData=null}function y3(o,P,W,Q,ce,me,B,N,e){return o=new s9(o,P,W,N,e),P===1?(P=1,me===!0&&(P|=8)):P=0,me=Iu(3,null,null,P),o.current=me,me.stateNode=o,me.memoizedState={element:Q,isDehydrated:W,cache:null,transitions:null,pendingSuspenseBoundaries:null},e3(me),o}function l9(o,P,W){var Q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hd,key:Q==null?null:""+Q,children:o,containerInfo:P,implementation:W}}function _M(o){if(!o)return Zh;o=o._reactInternals;e:{if(rd(o)!==o||o.tag!==1)throw Error(ga(170));var P=o;do{switch(P.tag){case 3:P=P.stateNode.context;break e;case 1:if(Fl(P.type)){P=P.stateNode.__reactInternalMemoizedMergedChildContext;break e}}P=P.return}while(P!==null);throw Error(ga(171))}if(o.tag===1){var W=o.type;if(Fl(W))return FS(o,W,P)}return P}function zM(o,P,W,Q,ce,me,B,N,e){return o=y3(W,Q,!0,o,ce,me,B,N,e),o.context=_M(null),W=o.current,Q=vl(),ce=Hh(W),me=Oc(Q,ce),me.callback=P??null,Nh(W,me,ce),o.current.lanes=ce,ug(o,ce,Q),_l(o,Q),o}function zm(o,P,W,Q){var ce=P.current,me=vl(),B=Hh(ce);return W=_M(W),P.context===null?P.context=W:P.pendingContext=W,P=Oc(me,B),P.payload={element:o},Q=Q===void 0?null:Q,Q!==null&&(P.callback=Q),o=Nh(ce,P,B),o!==null&&(gf(o,ce,B,me),Ay(o,ce,B)),B}function lm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function L5(o,P){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var W=o.retryLane;o.retryLane=W!==0&&W<P?W:P}}function m3(o,P){L5(o,P),(o=o.alternate)&&L5(o,P)}function u9(){return null}var OM=typeof reportError=="function"?reportError:function(o){console.error(o)};function x3(o){this._internalRoot=o}Om.prototype.render=x3.prototype.render=function(o){var P=this._internalRoot;if(P===null)throw Error(ga(409));zm(o,P,null,null)};Om.prototype.unmount=x3.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var P=o.containerInfo;$v(function(){zm(null,o,null,null)}),P[Uc]=null}};function Om(o){this._internalRoot=o}Om.prototype.unstable_scheduleHydration=function(o){if(o){var P=vS();o={blockedOn:null,target:o,priority:P};for(var W=0;W<Lh.length&&P!==0&&P<Lh[W].priority;W++);Lh.splice(W,0,o),W===0&&pS(o)}};function b3(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Bm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function P5(){}function f9(o,P,W,Q,ce){if(ce){if(typeof Q=="function"){var me=Q;Q=function(){var p=lm(B);me.call(p)}}var B=zM(P,Q,o,0,null,!1,!1,"",P5);return o._reactRootContainer=B,o[Uc]=B.current,H0(o.nodeType===8?o.parentNode:o),$v(),B}for(;ce=o.lastChild;)o.removeChild(ce);if(typeof Q=="function"){var N=Q;Q=function(){var p=lm(e);N.call(p)}}var e=y3(o,0,!1,null,null,!1,!1,"",P5);return o._reactRootContainer=e,o[Uc]=e.current,H0(o.nodeType===8?o.parentNode:o),$v(function(){zm(P,e,W,Q)}),e}function Nm(o,P,W,Q,ce){var me=W._reactRootContainer;if(me){var B=me;if(typeof ce=="function"){var N=ce;ce=function(){var e=lm(B);N.call(e)}}zm(P,B,o,ce)}else B=f9(W,P,o,ce,Q);return lm(B)}cS=function(o){switch(o.tag){case 3:var P=o.stateNode;if(P.current.memoizedState.isDehydrated){var W=y0(P.pendingLanes);W!==0&&(Nb(P,W|1),_l(P,Go()),!(_i&6)&&(gp=Go()+500,ev()))}break;case 13:$v(function(){var Q=Hc(o,1);if(Q!==null){var ce=vl();gf(Q,o,1,ce)}}),m3(o,1)}};Ub=function(o){if(o.tag===13){var P=Hc(o,134217728);if(P!==null){var W=vl();gf(P,o,134217728,W)}m3(o,134217728)}};hS=function(o){if(o.tag===13){var P=Hh(o),W=Hc(o,P);if(W!==null){var Q=vl();gf(W,o,P,Q)}m3(o,P)}};vS=function(){return Zi};dS=function(o,P){var W=Zi;try{return Zi=o,P()}finally{Zi=W}};w2=function(o,P,W){switch(P){case"input":if(d2(o,W),P=W.name,W.type==="radio"&&P!=null){for(W=o;W.parentNode;)W=W.parentNode;for(W=W.querySelectorAll("input[name="+JSON.stringify(""+P)+'][type="radio"]'),P=0;P<W.length;P++){var Q=W[P];if(Q!==o&&Q.form===o.form){var ce=Pm(Q);if(!ce)throw Error(ga(90));j4(Q),d2(Q,ce)}}}break;case"textarea":Z4(o,W);break;case"select":P=W.value,P!=null&&qd(o,!!W.multiple,P,!1)}};eS=v3;tS=$v;var c9={usingClientEntryPoint:!1,Events:[cg,Yd,Pm,Q4,q4,v3]},l0={findFiberByHostInstance:Bv,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},h9={bundleType:l0.bundleType,version:l0.version,rendererPackageName:l0.rendererPackageName,rendererConfig:l0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wc.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=aS(o),o===null?null:o.stateNode},findFiberByHostInstance:l0.findFiberByHostInstance||u9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hy.isDisabled&&hy.supportsFiber)try{Mm=hy.inject(h9),Xf=hy}catch{}}su.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c9;su.createPortal=function(o,P){var W=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b3(P))throw Error(ga(200));return l9(o,P,null,W)};su.createRoot=function(o,P){if(!b3(o))throw Error(ga(299));var W=!1,Q="",ce=OM;return P!=null&&(P.unstable_strictMode===!0&&(W=!0),P.identifierPrefix!==void 0&&(Q=P.identifierPrefix),P.onRecoverableError!==void 0&&(ce=P.onRecoverableError)),P=y3(o,1,!1,null,null,W,!1,Q,ce),o[Uc]=P.current,H0(o.nodeType===8?o.parentNode:o),new x3(P)};su.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var P=o._reactInternals;if(P===void 0)throw typeof o.render=="function"?Error(ga(188)):(o=Object.keys(o).join(","),Error(ga(268,o)));return o=aS(P),o=o===null?null:o.stateNode,o};su.flushSync=function(o){return $v(o)};su.hydrate=function(o,P,W){if(!Bm(P))throw Error(ga(200));return Nm(null,o,P,!0,W)};su.hydrateRoot=function(o,P,W){if(!b3(o))throw Error(ga(405));var Q=W!=null&&W.hydratedSources||null,ce=!1,me="",B=OM;if(W!=null&&(W.unstable_strictMode===!0&&(ce=!0),W.identifierPrefix!==void 0&&(me=W.identifierPrefix),W.onRecoverableError!==void 0&&(B=W.onRecoverableError)),P=zM(P,null,o,1,W??null,ce,!1,me,B),o[Uc]=P.current,H0(o),Q)for(o=0;o<Q.length;o++)W=Q[o],ce=W._getVersion,ce=ce(W._source),P.mutableSourceEagerHydrationData==null?P.mutableSourceEagerHydrationData=[W,ce]:P.mutableSourceEagerHydrationData.push(W,ce);return new Om(P)};su.render=function(o,P,W){if(!Bm(P))throw Error(ga(200));return Nm(null,o,P,!1,W)};su.unmountComponentAtNode=function(o){if(!Bm(o))throw Error(ga(40));return o._reactRootContainer?($v(function(){Nm(null,null,o,!1,function(){o._reactRootContainer=null,o[Uc]=null})}),!0):!1};su.unstable_batchedUpdates=v3;su.unstable_renderSubtreeIntoContainer=function(o,P,W,Q){if(!Bm(W))throw Error(ga(200));if(o==null||o._reactInternals===void 0)throw Error(ga(38));return Nm(o,P,W,!1,Q)};su.version="18.2.0-next-9e3b772b8-20220608";function BM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BM)}catch(o){console.error(o)}}BM(),z4.exports=su;var Um=z4.exports;const vy=Eb(Um);var R5=Um;s2.createRoot=R5.createRoot,s2.hydrateRoot=R5.hydrateRoot;var NM={exports:{}},UM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=Er;function v9(o,P){return o===P&&(o!==0||1/o===1/P)||o!==o&&P!==P}var d9=typeof Object.is=="function"?Object.is:v9,p9=yp.useState,g9=yp.useEffect,y9=yp.useLayoutEffect,m9=yp.useDebugValue;function x9(o,P){var W=P(),Q=p9({inst:{value:W,getSnapshot:P}}),ce=Q[0].inst,me=Q[1];return y9(function(){ce.value=W,ce.getSnapshot=P,zx(ce)&&me({inst:ce})},[o,W,P]),g9(function(){return zx(ce)&&me({inst:ce}),o(function(){zx(ce)&&me({inst:ce})})},[o]),m9(W),W}function zx(o){var P=o.getSnapshot;o=o.value;try{var W=P();return!d9(o,W)}catch{return!0}}function b9(o,P){return P()}var w9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b9:x9;UM.useSyncExternalStore=yp.useSyncExternalStore!==void 0?yp.useSyncExternalStore:w9;NM.exports=UM;var T9=NM.exports,HM={exports:{}},VM={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm=Er,A9=T9;function S9(o,P){return o===P&&(o!==0||1/o===1/P)||o!==o&&P!==P}var M9=typeof Object.is=="function"?Object.is:S9,E9=A9.useSyncExternalStore,C9=Hm.useRef,L9=Hm.useEffect,P9=Hm.useMemo,R9=Hm.useDebugValue;VM.useSyncExternalStoreWithSelector=function(o,P,W,Q,ce){var me=C9(null);if(me.current===null){var B={hasValue:!1,value:null};me.current=B}else B=me.current;me=P9(function(){function e(w){if(!p){if(p=!0,L=w,w=Q(w),ce!==void 0&&B.hasValue){var h=B.value;if(ce(h,w))return a=h}return a=w}if(h=a,M9(L,w))return h;var g=Q(w);return ce!==void 0&&ce(h,g)?h:(L=w,a=g)}var p=!1,L,a,C=W===void 0?null:W;return[function(){return e(P())},C===null?void 0:function(){return e(C())}]},[P,W,Q,ce]);var N=E9(o,me[0],me[1]);return L9(function(){B.hasValue=!0,B.value=N},[N]),R9(N),N};HM.exports=VM;var D9=HM.exports;function I9(o){o()}let GM=I9;const k9=o=>GM=o,F9=()=>GM,D5=Symbol.for("react-redux-context"),I5=typeof globalThis<"u"?globalThis:{};function _9(){var o;if(!Er.createContext)return{};const P=(o=I5[D5])!=null?o:I5[D5]=new Map;let W=P.get(Er.createContext);return W||(W=Er.createContext(null),P.set(Er.createContext,W)),W}const Xh=_9();function w3(o=Xh){return function(){return Er.useContext(o)}}const WM=w3(),z9=()=>{throw new Error("uSES not initialized!")};let jM=z9;const O9=o=>{jM=o},B9=(o,P)=>o===P;function N9(o=Xh){const P=o===Xh?WM:w3(o);return function(Q,ce={}){const{equalityFn:me=B9,stabilityCheck:B=void 0,noopCheck:N=void 0}=typeof ce=="function"?{equalityFn:ce}:ce,{store:e,subscription:p,getServerState:L,stabilityCheck:a,noopCheck:C}=P();Er.useRef(!0);const w=Er.useCallback({[Q.name](g){return Q(g)}}[Q.name],[Q,a,B]),h=jM(p.addNestedSub,e.getState,L||e.getState,w,me);return Er.useDebugValue(h),h}}const Kf=N9();function Xr(){return Xr=Object.assign?Object.assign.bind():function(o){for(var P=1;P<arguments.length;P++){var W=arguments[P];for(var Q in W)Object.prototype.hasOwnProperty.call(W,Q)&&(o[Q]=W[Q])}return o},Xr.apply(this,arguments)}function Xa(o,P){if(o==null)return{};var W={},Q=Object.keys(o),ce,me;for(me=0;me<Q.length;me++)ce=Q[me],!(P.indexOf(ce)>=0)&&(W[ce]=o[ce]);return W}var YM={exports:{}},Xi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=typeof Symbol=="function"&&Symbol.for,T3=xs?Symbol.for("react.element"):60103,A3=xs?Symbol.for("react.portal"):60106,Vm=xs?Symbol.for("react.fragment"):60107,Gm=xs?Symbol.for("react.strict_mode"):60108,Wm=xs?Symbol.for("react.profiler"):60114,jm=xs?Symbol.for("react.provider"):60109,Ym=xs?Symbol.for("react.context"):60110,S3=xs?Symbol.for("react.async_mode"):60111,Zm=xs?Symbol.for("react.concurrent_mode"):60111,Xm=xs?Symbol.for("react.forward_ref"):60112,$m=xs?Symbol.for("react.suspense"):60113,U9=xs?Symbol.for("react.suspense_list"):60120,Km=xs?Symbol.for("react.memo"):60115,Jm=xs?Symbol.for("react.lazy"):60116,H9=xs?Symbol.for("react.block"):60121,V9=xs?Symbol.for("react.fundamental"):60117,G9=xs?Symbol.for("react.responder"):60118,W9=xs?Symbol.for("react.scope"):60119;function uu(o){if(typeof o=="object"&&o!==null){var P=o.$$typeof;switch(P){case T3:switch(o=o.type,o){case S3:case Zm:case Vm:case Wm:case Gm:case $m:return o;default:switch(o=o&&o.$$typeof,o){case Ym:case Xm:case Jm:case Km:case jm:return o;default:return P}}case A3:return P}}}function ZM(o){return uu(o)===Zm}Xi.AsyncMode=S3;Xi.ConcurrentMode=Zm;Xi.ContextConsumer=Ym;Xi.ContextProvider=jm;Xi.Element=T3;Xi.ForwardRef=Xm;Xi.Fragment=Vm;Xi.Lazy=Jm;Xi.Memo=Km;Xi.Portal=A3;Xi.Profiler=Wm;Xi.StrictMode=Gm;Xi.Suspense=$m;Xi.isAsyncMode=function(o){return ZM(o)||uu(o)===S3};Xi.isConcurrentMode=ZM;Xi.isContextConsumer=function(o){return uu(o)===Ym};Xi.isContextProvider=function(o){return uu(o)===jm};Xi.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===T3};Xi.isForwardRef=function(o){return uu(o)===Xm};Xi.isFragment=function(o){return uu(o)===Vm};Xi.isLazy=function(o){return uu(o)===Jm};Xi.isMemo=function(o){return uu(o)===Km};Xi.isPortal=function(o){return uu(o)===A3};Xi.isProfiler=function(o){return uu(o)===Wm};Xi.isStrictMode=function(o){return uu(o)===Gm};Xi.isSuspense=function(o){return uu(o)===$m};Xi.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===Vm||o===Zm||o===Wm||o===Gm||o===$m||o===U9||typeof o=="object"&&o!==null&&(o.$$typeof===Jm||o.$$typeof===Km||o.$$typeof===jm||o.$$typeof===Ym||o.$$typeof===Xm||o.$$typeof===V9||o.$$typeof===G9||o.$$typeof===W9||o.$$typeof===H9)};Xi.typeOf=uu;YM.exports=Xi;var j9=YM.exports,XM=j9,Y9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Z9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$M={};$M[XM.ForwardRef]=Y9;$M[XM.Memo]=Z9;var Ji={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3=Symbol.for("react.element"),E3=Symbol.for("react.portal"),Qm=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),e1=Symbol.for("react.profiler"),t1=Symbol.for("react.provider"),r1=Symbol.for("react.context"),X9=Symbol.for("react.server_context"),n1=Symbol.for("react.forward_ref"),a1=Symbol.for("react.suspense"),i1=Symbol.for("react.suspense_list"),o1=Symbol.for("react.memo"),s1=Symbol.for("react.lazy"),$9=Symbol.for("react.offscreen"),KM;KM=Symbol.for("react.module.reference");function Ou(o){if(typeof o=="object"&&o!==null){var P=o.$$typeof;switch(P){case M3:switch(o=o.type,o){case Qm:case e1:case qm:case a1:case i1:return o;default:switch(o=o&&o.$$typeof,o){case X9:case r1:case n1:case s1:case o1:case t1:return o;default:return P}}case E3:return P}}}Ji.ContextConsumer=r1;Ji.ContextProvider=t1;Ji.Element=M3;Ji.ForwardRef=n1;Ji.Fragment=Qm;Ji.Lazy=s1;Ji.Memo=o1;Ji.Portal=E3;Ji.Profiler=e1;Ji.StrictMode=qm;Ji.Suspense=a1;Ji.SuspenseList=i1;Ji.isAsyncMode=function(){return!1};Ji.isConcurrentMode=function(){return!1};Ji.isContextConsumer=function(o){return Ou(o)===r1};Ji.isContextProvider=function(o){return Ou(o)===t1};Ji.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===M3};Ji.isForwardRef=function(o){return Ou(o)===n1};Ji.isFragment=function(o){return Ou(o)===Qm};Ji.isLazy=function(o){return Ou(o)===s1};Ji.isMemo=function(o){return Ou(o)===o1};Ji.isPortal=function(o){return Ou(o)===E3};Ji.isProfiler=function(o){return Ou(o)===e1};Ji.isStrictMode=function(o){return Ou(o)===qm};Ji.isSuspense=function(o){return Ou(o)===a1};Ji.isSuspenseList=function(o){return Ou(o)===i1};Ji.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===Qm||o===e1||o===qm||o===a1||o===i1||o===$9||typeof o=="object"&&o!==null&&(o.$$typeof===s1||o.$$typeof===o1||o.$$typeof===t1||o.$$typeof===r1||o.$$typeof===n1||o.$$typeof===KM||o.getModuleId!==void 0)};Ji.typeOf=Ou;function K9(){const o=F9();let P=null,W=null;return{clear(){P=null,W=null},notify(){o(()=>{let Q=P;for(;Q;)Q.callback(),Q=Q.next})},get(){let Q=[],ce=P;for(;ce;)Q.push(ce),ce=ce.next;return Q},subscribe(Q){let ce=!0,me=W={callback:Q,next:null,prev:W};return me.prev?me.prev.next=me:P=me,function(){!ce||P===null||(ce=!1,me.next?me.next.prev=me.prev:W=me.prev,me.prev?me.prev.next=me.next:P=me.next)}}}}const k5={notify(){},get:()=>[]};function J9(o,P){let W,Q=k5,ce=0,me=!1;function B(g){L();const t=Q.subscribe(g);let r=!1;return()=>{r||(r=!0,t(),a())}}function N(){Q.notify()}function e(){h.onStateChange&&h.onStateChange()}function p(){return me}function L(){ce++,W||(W=P?P.addNestedSub(e):o.subscribe(e),Q=K9())}function a(){ce--,W&&ce===0&&(W(),W=void 0,Q.clear(),Q=k5)}function C(){me||(me=!0,L())}function w(){me&&(me=!1,a())}const h={addNestedSub:B,notifyNestedSubs:N,handleChangeWrapper:e,isSubscribed:p,trySubscribe:C,tryUnsubscribe:w,getListeners:()=>Q};return h}const Q9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q9=Q9?Er.useLayoutEffect:Er.useEffect;function eR({store:o,context:P,children:W,serverState:Q,stabilityCheck:ce="once",noopCheck:me="once"}){const B=Er.useMemo(()=>{const p=J9(o);return{store:o,subscription:p,getServerState:Q?()=>Q:void 0,stabilityCheck:ce,noopCheck:me}},[o,Q,ce,me]),N=Er.useMemo(()=>o.getState(),[o]);q9(()=>{const{subscription:p}=B;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),N!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[B,N]);const e=P||Xh;return Er.createElement(e.Provider,{value:B},W)}function JM(o=Xh){const P=o===Xh?WM:w3(o);return function(){const{store:Q}=P();return Q}}const tR=JM();function rR(o=Xh){const P=o===Xh?tR:JM(o);return function(){return P().dispatch}}const QM=rR();O9(D9.useSyncExternalStoreWithSelector);k9(Um.unstable_batchedUpdates);function df(o){for(var P=arguments.length,W=Array(P>1?P-1:0),Q=1;Q<P;Q++)W[Q-1]=arguments[Q];throw Error("[Immer] minified error nr: "+o+(W.length?" "+W.map(function(ce){return"'"+ce+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $h(o){return!!o&&!!o[go]}function Gc(o){var P;return!!o&&(function(W){if(!W||typeof W!="object")return!1;var Q=Object.getPrototypeOf(W);if(Q===null)return!0;var ce=Object.hasOwnProperty.call(Q,"constructor")&&Q.constructor;return ce===Object||typeof ce=="function"&&Function.toString.call(ce)===cR}(o)||Array.isArray(o)||!!o[U5]||!!(!((P=o.constructor)===null||P===void 0)&&P[U5])||C3(o)||L3(o))}function Kv(o,P,W){W===void 0&&(W=!1),Cp(o)===0?(W?Object.keys:op)(o).forEach(function(Q){W&&typeof Q=="symbol"||P(Q,o[Q],o)}):o.forEach(function(Q,ce){return P(ce,Q,o)})}function Cp(o){var P=o[go];return P?P.i>3?P.i-4:P.i:Array.isArray(o)?1:C3(o)?2:L3(o)?3:0}function ip(o,P){return Cp(o)===2?o.has(P):Object.prototype.hasOwnProperty.call(o,P)}function nR(o,P){return Cp(o)===2?o.get(P):o[P]}function qM(o,P,W){var Q=Cp(o);Q===2?o.set(P,W):Q===3?o.add(W):o[P]=W}function e6(o,P){return o===P?o!==0||1/o==1/P:o!=o&&P!=P}function C3(o){return uR&&o instanceof Map}function L3(o){return fR&&o instanceof Set}function _v(o){return o.o||o.t}function P3(o){if(Array.isArray(o))return Array.prototype.slice.call(o);var P=r6(o);delete P[go];for(var W=op(P),Q=0;Q<W.length;Q++){var ce=W[Q],me=P[ce];me.writable===!1&&(me.writable=!0,me.configurable=!0),(me.get||me.set)&&(P[ce]={configurable:!0,writable:!0,enumerable:me.enumerable,value:o[ce]})}return Object.create(Object.getPrototypeOf(o),P)}function R3(o,P){return P===void 0&&(P=!1),D3(o)||$h(o)||!Gc(o)||(Cp(o)>1&&(o.set=o.add=o.clear=o.delete=aR),Object.freeze(o),P&&Kv(o,function(W,Q){return R3(Q,!0)},!0)),o}function aR(){df(2)}function D3(o){return o==null||typeof o!="object"||Object.isFrozen(o)}function Jf(o){var P=nb[o];return P||df(18,o),P}function iR(o,P){nb[o]||(nb[o]=P)}function eb(){return K0}function Ox(o,P){P&&(Jf("Patches"),o.u=[],o.s=[],o.v=P)}function um(o){tb(o),o.p.forEach(oR),o.p=null}function tb(o){o===K0&&(K0=o.l)}function F5(o){return K0={p:[],l:K0,h:o,m:!0,_:0}}function oR(o){var P=o[go];P.i===0||P.i===1?P.j():P.g=!0}function Bx(o,P){P._=P.p.length;var W=P.p[0],Q=o!==void 0&&o!==W;return P.h.O||Jf("ES5").S(P,o,Q),Q?(W[go].P&&(um(P),df(4)),Gc(o)&&(o=fm(P,o),P.l||cm(P,o)),P.u&&Jf("Patches").M(W[go].t,o,P.u,P.s)):o=fm(P,W,[]),um(P),P.u&&P.v(P.u,P.s),o!==t6?o:void 0}function fm(o,P,W){if(D3(P))return P;var Q=P[go];if(!Q)return Kv(P,function(N,e){return _5(o,Q,P,N,e,W)},!0),P;if(Q.A!==o)return P;if(!Q.P)return cm(o,Q.t,!0),Q.t;if(!Q.I){Q.I=!0,Q.A._--;var ce=Q.i===4||Q.i===5?Q.o=P3(Q.k):Q.o,me=ce,B=!1;Q.i===3&&(me=new Set(ce),ce.clear(),B=!0),Kv(me,function(N,e){return _5(o,Q,ce,N,e,W,B)}),cm(o,ce,!1),W&&o.u&&Jf("Patches").N(Q,W,o.u,o.s)}return Q.o}function _5(o,P,W,Q,ce,me,B){if($h(ce)){var N=fm(o,ce,me&&P&&P.i!==3&&!ip(P.R,Q)?me.concat(Q):void 0);if(qM(W,Q,N),!$h(N))return;o.m=!1}else B&&W.add(ce);if(Gc(ce)&&!D3(ce)){if(!o.h.D&&o._<1)return;fm(o,ce),P&&P.A.l||cm(o,ce)}}function cm(o,P,W){W===void 0&&(W=!1),!o.l&&o.h.D&&o.m&&R3(P,W)}function Nx(o,P){var W=o[go];return(W?_v(W):o)[P]}function z5(o,P){if(P in o)for(var W=Object.getPrototypeOf(o);W;){var Q=Object.getOwnPropertyDescriptor(W,P);if(Q)return Q;W=Object.getPrototypeOf(W)}}function Rh(o){o.P||(o.P=!0,o.l&&Rh(o.l))}function Ux(o){o.o||(o.o=P3(o.t))}function rb(o,P,W){var Q=C3(P)?Jf("MapSet").F(P,W):L3(P)?Jf("MapSet").T(P,W):o.O?function(ce,me){var B=Array.isArray(ce),N={i:B?1:0,A:me?me.A:eb(),P:!1,I:!1,R:{},l:me,t:ce,k:null,o:null,j:null,C:!1},e=N,p=J0;B&&(e=[N],p=x0);var L=Proxy.revocable(e,p),a=L.revoke,C=L.proxy;return N.k=C,N.j=a,C}(P,W):Jf("ES5").J(P,W);return(W?W.A:eb()).p.push(Q),Q}function sR(o){return $h(o)||df(22,o),function P(W){if(!Gc(W))return W;var Q,ce=W[go],me=Cp(W);if(ce){if(!ce.P&&(ce.i<4||!Jf("ES5").K(ce)))return ce.t;ce.I=!0,Q=O5(W,me),ce.I=!1}else Q=O5(W,me);return Kv(Q,function(B,N){ce&&nR(ce.t,B)===N||qM(Q,B,P(N))}),me===3?new Set(Q):Q}(o)}function O5(o,P){switch(P){case 2:return new Map(o);case 3:return Array.from(o)}return P3(o)}function lR(){function o(me,B){var N=ce[me];return N?N.enumerable=B:ce[me]=N={configurable:!0,enumerable:B,get:function(){var e=this[go];return J0.get(e,me)},set:function(e){var p=this[go];J0.set(p,me,e)}},N}function P(me){for(var B=me.length-1;B>=0;B--){var N=me[B][go];if(!N.P)switch(N.i){case 5:Q(N)&&Rh(N);break;case 4:W(N)&&Rh(N)}}}function W(me){for(var B=me.t,N=me.k,e=op(N),p=e.length-1;p>=0;p--){var L=e[p];if(L!==go){var a=B[L];if(a===void 0&&!ip(B,L))return!0;var C=N[L],w=C&&C[go];if(w?w.t!==a:!e6(C,a))return!0}}var h=!!B[go];return e.length!==op(B).length+(h?0:1)}function Q(me){var B=me.k;if(B.length!==me.t.length)return!0;var N=Object.getOwnPropertyDescriptor(B,B.length-1);if(N&&!N.get)return!0;for(var e=0;e<B.length;e++)if(!B.hasOwnProperty(e))return!0;return!1}var ce={};iR("ES5",{J:function(me,B){var N=Array.isArray(me),e=function(L,a){if(L){for(var C=Array(a.length),w=0;w<a.length;w++)Object.defineProperty(C,""+w,o(w,!0));return C}var h=r6(a);delete h[go];for(var g=op(h),t=0;t<g.length;t++){var r=g[t];h[r]=o(r,L||!!h[r].enumerable)}return Object.create(Object.getPrototypeOf(a),h)}(N,me),p={i:N?5:4,A:B?B.A:eb(),P:!1,I:!1,R:{},l:B,t:me,k:e,o:null,g:!1,C:!1};return Object.defineProperty(e,go,{value:p,writable:!0}),e},S:function(me,B,N){N?$h(B)&&B[go].A===me&&P(me.p):(me.u&&function e(p){if(p&&typeof p=="object"){var L=p[go];if(L){var a=L.t,C=L.k,w=L.R,h=L.i;if(h===4)Kv(C,function(n){n!==go&&(a[n]!==void 0||ip(a,n)?w[n]||e(C[n]):(w[n]=!0,Rh(L)))}),Kv(a,function(n){C[n]!==void 0||ip(C,n)||(w[n]=!1,Rh(L))});else if(h===5){if(Q(L)&&(Rh(L),w.length=!0),C.length<a.length)for(var g=C.length;g<a.length;g++)w[g]=!1;else for(var t=a.length;t<C.length;t++)w[t]=!0;for(var r=Math.min(C.length,a.length),s=0;s<r;s++)C.hasOwnProperty(s)||(w[s]=!0),w[s]===void 0&&e(C[s])}}}}(me.p[0]),P(me.p))},K:function(me){return me.i===4?W(me):Q(me)}})}var B5,K0,I3=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",uR=typeof Map<"u",fR=typeof Set<"u",N5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",t6=I3?Symbol.for("immer-nothing"):((B5={})["immer-nothing"]=!0,B5),U5=I3?Symbol.for("immer-draftable"):"__$immer_draftable",go=I3?Symbol.for("immer-state"):"__$immer_state",cR=""+Object.prototype.constructor,op=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(o){return Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o))}:Object.getOwnPropertyNames,r6=Object.getOwnPropertyDescriptors||function(o){var P={};return op(o).forEach(function(W){P[W]=Object.getOwnPropertyDescriptor(o,W)}),P},nb={},J0={get:function(o,P){if(P===go)return o;var W=_v(o);if(!ip(W,P))return function(ce,me,B){var N,e=z5(me,B);return e?"value"in e?e.value:(N=e.get)===null||N===void 0?void 0:N.call(ce.k):void 0}(o,W,P);var Q=W[P];return o.I||!Gc(Q)?Q:Q===Nx(o.t,P)?(Ux(o),o.o[P]=rb(o.A.h,Q,o)):Q},has:function(o,P){return P in _v(o)},ownKeys:function(o){return Reflect.ownKeys(_v(o))},set:function(o,P,W){var Q=z5(_v(o),P);if(Q!=null&&Q.set)return Q.set.call(o.k,W),!0;if(!o.P){var ce=Nx(_v(o),P),me=ce==null?void 0:ce[go];if(me&&me.t===W)return o.o[P]=W,o.R[P]=!1,!0;if(e6(W,ce)&&(W!==void 0||ip(o.t,P)))return!0;Ux(o),Rh(o)}return o.o[P]===W&&(W!==void 0||P in o.o)||Number.isNaN(W)&&Number.isNaN(o.o[P])||(o.o[P]=W,o.R[P]=!0),!0},deleteProperty:function(o,P){return Nx(o.t,P)!==void 0||P in o.t?(o.R[P]=!1,Ux(o),Rh(o)):delete o.R[P],o.o&&delete o.o[P],!0},getOwnPropertyDescriptor:function(o,P){var W=_v(o),Q=Reflect.getOwnPropertyDescriptor(W,P);return Q&&{writable:!0,configurable:o.i!==1||P!=="length",enumerable:Q.enumerable,value:W[P]}},defineProperty:function(){df(11)},getPrototypeOf:function(o){return Object.getPrototypeOf(o.t)},setPrototypeOf:function(){df(12)}},x0={};Kv(J0,function(o,P){x0[o]=function(){return arguments[0]=arguments[0][0],P.apply(this,arguments)}}),x0.deleteProperty=function(o,P){return x0.set.call(this,o,P,void 0)},x0.set=function(o,P,W){return J0.set.call(this,o[0],P,W,o[0])};var hR=function(){function o(W){var Q=this;this.O=N5,this.D=!0,this.produce=function(ce,me,B){if(typeof ce=="function"&&typeof me!="function"){var N=me;me=ce;var e=Q;return function(g){var t=this;g===void 0&&(g=N);for(var r=arguments.length,s=Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=arguments[n];return e.produce(g,function(l){var c;return(c=me).call.apply(c,[t,l].concat(s))})}}var p;if(typeof me!="function"&&df(6),B!==void 0&&typeof B!="function"&&df(7),Gc(ce)){var L=F5(Q),a=rb(Q,ce,void 0),C=!0;try{p=me(a),C=!1}finally{C?um(L):tb(L)}return typeof Promise<"u"&&p instanceof Promise?p.then(function(g){return Ox(L,B),Bx(g,L)},function(g){throw um(L),g}):(Ox(L,B),Bx(p,L))}if(!ce||typeof ce!="object"){if((p=me(ce))===void 0&&(p=ce),p===t6&&(p=void 0),Q.D&&R3(p,!0),B){var w=[],h=[];Jf("Patches").M(ce,p,w,h),B(w,h)}return p}df(21,ce)},this.produceWithPatches=function(ce,me){if(typeof ce=="function")return function(p){for(var L=arguments.length,a=Array(L>1?L-1:0),C=1;C<L;C++)a[C-1]=arguments[C];return Q.produceWithPatches(p,function(w){return ce.apply(void 0,[w].concat(a))})};var B,N,e=Q.produce(ce,me,function(p,L){B=p,N=L});return typeof Promise<"u"&&e instanceof Promise?e.then(function(p){return[p,B,N]}):[e,B,N]},typeof(W==null?void 0:W.useProxies)=="boolean"&&this.setUseProxies(W.useProxies),typeof(W==null?void 0:W.autoFreeze)=="boolean"&&this.setAutoFreeze(W.autoFreeze)}var P=o.prototype;return P.createDraft=function(W){Gc(W)||df(8),$h(W)&&(W=sR(W));var Q=F5(this),ce=rb(this,W,void 0);return ce[go].C=!0,tb(Q),ce},P.finishDraft=function(W,Q){var ce=W&&W[go],me=ce.A;return Ox(me,Q),Bx(void 0,me)},P.setAutoFreeze=function(W){this.D=W},P.setUseProxies=function(W){W&&!N5&&df(20),this.O=W},P.applyPatches=function(W,Q){var ce;for(ce=Q.length-1;ce>=0;ce--){var me=Q[ce];if(me.path.length===0&&me.op==="replace"){W=me.value;break}}ce>-1&&(Q=Q.slice(ce+1));var B=Jf("Patches").$;return $h(W)?B(W,Q):this.produce(W,function(N){return B(N,Q)})},o}(),ou=new hR,n6=ou.produce;ou.produceWithPatches.bind(ou);ou.setAutoFreeze.bind(ou);ou.setUseProxies.bind(ou);ou.applyPatches.bind(ou);ou.createDraft.bind(ou);ou.finishDraft.bind(ou);function Q0(o){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},Q0(o)}function vR(o,P){if(Q0(o)!=="object"||o===null)return o;var W=o[Symbol.toPrimitive];if(W!==void 0){var Q=W.call(o,P||"default");if(Q0(Q)!=="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(o)}function dR(o){var P=vR(o,"string");return Q0(P)==="symbol"?P:String(P)}function pR(o,P,W){return P=dR(P),P in o?Object.defineProperty(o,P,{value:W,enumerable:!0,configurable:!0,writable:!0}):o[P]=W,o}function H5(o,P){var W=Object.keys(o);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(o);P&&(Q=Q.filter(function(ce){return Object.getOwnPropertyDescriptor(o,ce).enumerable})),W.push.apply(W,Q)}return W}function V5(o){for(var P=1;P<arguments.length;P++){var W=arguments[P]!=null?arguments[P]:{};P%2?H5(Object(W),!0).forEach(function(Q){pR(o,Q,W[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(W)):H5(Object(W)).forEach(function(Q){Object.defineProperty(o,Q,Object.getOwnPropertyDescriptor(W,Q))})}return o}function Ks(o){return"Minified Redux error #"+o+"; visit https://redux.js.org/Errors?code="+o+" for the full message or use the non-minified dev environment for full errors. "}var G5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Hx=function(){return Math.random().toString(36).substring(7).split("").join(".")},hm={INIT:"@@redux/INIT"+Hx(),REPLACE:"@@redux/REPLACE"+Hx(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Hx()}};function gR(o){if(typeof o!="object"||o===null)return!1;for(var P=o;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(o)===P}function a6(o,P,W){var Q;if(typeof P=="function"&&typeof W=="function"||typeof W=="function"&&typeof arguments[3]=="function")throw new Error(Ks(0));if(typeof P=="function"&&typeof W>"u"&&(W=P,P=void 0),typeof W<"u"){if(typeof W!="function")throw new Error(Ks(1));return W(a6)(o,P)}if(typeof o!="function")throw new Error(Ks(2));var ce=o,me=P,B=[],N=B,e=!1;function p(){N===B&&(N=B.slice())}function L(){if(e)throw new Error(Ks(3));return me}function a(g){if(typeof g!="function")throw new Error(Ks(4));if(e)throw new Error(Ks(5));var t=!0;return p(),N.push(g),function(){if(t){if(e)throw new Error(Ks(6));t=!1,p();var s=N.indexOf(g);N.splice(s,1),B=null}}}function C(g){if(!gR(g))throw new Error(Ks(7));if(typeof g.type>"u")throw new Error(Ks(8));if(e)throw new Error(Ks(9));try{e=!0,me=ce(me,g)}finally{e=!1}for(var t=B=N,r=0;r<t.length;r++){var s=t[r];s()}return g}function w(g){if(typeof g!="function")throw new Error(Ks(10));ce=g,C({type:hm.REPLACE})}function h(){var g,t=a;return g={subscribe:function(s){if(typeof s!="object"||s===null)throw new Error(Ks(11));function n(){s.next&&s.next(L())}n();var l=t(n);return{unsubscribe:l}}},g[G5]=function(){return this},g}return C({type:hm.INIT}),Q={dispatch:C,subscribe:a,getState:L,replaceReducer:w},Q[G5]=h,Q}function yR(o){Object.keys(o).forEach(function(P){var W=o[P],Q=W(void 0,{type:hm.INIT});if(typeof Q>"u")throw new Error(Ks(12));if(typeof W(void 0,{type:hm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ks(13))})}function mR(o){for(var P=Object.keys(o),W={},Q=0;Q<P.length;Q++){var ce=P[Q];typeof o[ce]=="function"&&(W[ce]=o[ce])}var me=Object.keys(W),B;try{yR(W)}catch(N){B=N}return function(e,p){if(e===void 0&&(e={}),B)throw B;for(var L=!1,a={},C=0;C<me.length;C++){var w=me[C],h=W[w],g=e[w],t=h(g,p);if(typeof t>"u")throw p&&p.type,new Error(Ks(14));a[w]=t,L=L||t!==g}return L=L||me.length!==Object.keys(e).length,L?a:e}}function vm(){for(var o=arguments.length,P=new Array(o),W=0;W<o;W++)P[W]=arguments[W];return P.length===0?function(Q){return Q}:P.length===1?P[0]:P.reduce(function(Q,ce){return function(){return Q(ce.apply(void 0,arguments))}})}function xR(){for(var o=arguments.length,P=new Array(o),W=0;W<o;W++)P[W]=arguments[W];return function(Q){return function(){var ce=Q.apply(void 0,arguments),me=function(){throw new Error(Ks(15))},B={getState:ce.getState,dispatch:function(){return me.apply(void 0,arguments)}},N=P.map(function(e){return e(B)});return me=vm.apply(void 0,N)(ce.dispatch),V5(V5({},ce),{},{dispatch:me})}}}function i6(o){var P=function(Q){var ce=Q.dispatch,me=Q.getState;return function(B){return function(N){return typeof N=="function"?N(ce,me,o):B(N)}}};return P}var o6=i6();o6.withExtraArgument=i6;const W5=o6;var s6=globalThis&&globalThis.__extends||function(){var o=function(P,W){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,ce){Q.__proto__=ce}||function(Q,ce){for(var me in ce)Object.prototype.hasOwnProperty.call(ce,me)&&(Q[me]=ce[me])},o(P,W)};return function(P,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");o(P,W);function Q(){this.constructor=P}P.prototype=W===null?Object.create(W):(Q.prototype=W.prototype,new Q)}}(),bR=globalThis&&globalThis.__generator||function(o,P){var W={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},Q,ce,me,B;return B={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function N(p){return function(L){return e([p,L])}}function e(p){if(Q)throw new TypeError("Generator is already executing.");for(;W;)try{if(Q=1,ce&&(me=p[0]&2?ce.return:p[0]?ce.throw||((me=ce.return)&&me.call(ce),0):ce.next)&&!(me=me.call(ce,p[1])).done)return me;switch(ce=0,me&&(p=[p[0]&2,me.value]),p[0]){case 0:case 1:me=p;break;case 4:return W.label++,{value:p[1],done:!1};case 5:W.label++,ce=p[1],p=[0];continue;case 7:p=W.ops.pop(),W.trys.pop();continue;default:if(me=W.trys,!(me=me.length>0&&me[me.length-1])&&(p[0]===6||p[0]===2)){W=0;continue}if(p[0]===3&&(!me||p[1]>me[0]&&p[1]<me[3])){W.label=p[1];break}if(p[0]===6&&W.label<me[1]){W.label=me[1],me=p;break}if(me&&W.label<me[2]){W.label=me[2],W.ops.push(p);break}me[2]&&W.ops.pop(),W.trys.pop();continue}p=P.call(o,W)}catch(L){p=[6,L],ce=0}finally{Q=me=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},mp=globalThis&&globalThis.__spreadArray||function(o,P){for(var W=0,Q=P.length,ce=o.length;W<Q;W++,ce++)o[ce]=P[W];return o},wR=Object.defineProperty,TR=Object.defineProperties,AR=Object.getOwnPropertyDescriptors,j5=Object.getOwnPropertySymbols,SR=Object.prototype.hasOwnProperty,MR=Object.prototype.propertyIsEnumerable,Y5=function(o,P,W){return P in o?wR(o,P,{enumerable:!0,configurable:!0,writable:!0,value:W}):o[P]=W},Gh=function(o,P){for(var W in P||(P={}))SR.call(P,W)&&Y5(o,W,P[W]);if(j5)for(var Q=0,ce=j5(P);Q<ce.length;Q++){var W=ce[Q];MR.call(P,W)&&Y5(o,W,P[W])}return o},Vx=function(o,P){return TR(o,AR(P))},ER=function(o,P,W){return new Promise(function(Q,ce){var me=function(e){try{N(W.next(e))}catch(p){ce(p)}},B=function(e){try{N(W.throw(e))}catch(p){ce(p)}},N=function(e){return e.done?Q(e.value):Promise.resolve(e.value).then(me,B)};N((W=W.apply(o,P)).next())})},CR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vm:vm.apply(null,arguments)};function LR(o){if(typeof o!="object"||o===null)return!1;var P=Object.getPrototypeOf(o);if(P===null)return!0;for(var W=P;Object.getPrototypeOf(W)!==null;)W=Object.getPrototypeOf(W);return P===W}function Wh(o,P){function W(){for(var Q=[],ce=0;ce<arguments.length;ce++)Q[ce]=arguments[ce];if(P){var me=P.apply(void 0,Q);if(!me)throw new Error("prepareAction did not return an object");return Gh(Gh({type:o,payload:me.payload},"meta"in me&&{meta:me.meta}),"error"in me&&{error:me.error})}return{type:o,payload:Q[0]}}return W.toString=function(){return""+o},W.type=o,W.match=function(Q){return Q.type===o},W}var PR=function(o){s6(P,o);function P(){for(var W=[],Q=0;Q<arguments.length;Q++)W[Q]=arguments[Q];var ce=o.apply(this,W)||this;return Object.setPrototypeOf(ce,P.prototype),ce}return Object.defineProperty(P,Symbol.species,{get:function(){return P},enumerable:!1,configurable:!0}),P.prototype.concat=function(){for(var W=[],Q=0;Q<arguments.length;Q++)W[Q]=arguments[Q];return o.prototype.concat.apply(this,W)},P.prototype.prepend=function(){for(var W=[],Q=0;Q<arguments.length;Q++)W[Q]=arguments[Q];return W.length===1&&Array.isArray(W[0])?new(P.bind.apply(P,mp([void 0],W[0].concat(this)))):new(P.bind.apply(P,mp([void 0],W.concat(this))))},P}(Array),RR=function(o){s6(P,o);function P(){for(var W=[],Q=0;Q<arguments.length;Q++)W[Q]=arguments[Q];var ce=o.apply(this,W)||this;return Object.setPrototypeOf(ce,P.prototype),ce}return Object.defineProperty(P,Symbol.species,{get:function(){return P},enumerable:!1,configurable:!0}),P.prototype.concat=function(){for(var W=[],Q=0;Q<arguments.length;Q++)W[Q]=arguments[Q];return o.prototype.concat.apply(this,W)},P.prototype.prepend=function(){for(var W=[],Q=0;Q<arguments.length;Q++)W[Q]=arguments[Q];return W.length===1&&Array.isArray(W[0])?new(P.bind.apply(P,mp([void 0],W[0].concat(this)))):new(P.bind.apply(P,mp([void 0],W.concat(this))))},P}(Array);function ab(o){return Gc(o)?n6(o,function(){}):o}function DR(o){return typeof o=="boolean"}function IR(){return function(P){return kR(P)}}function kR(o){o===void 0&&(o={});var P=o.thunk,W=P===void 0?!0:P;o.immutableCheck,o.serializableCheck,o.actionCreatorCheck;var Q=new PR;return W&&(DR(W)?Q.push(W5):Q.push(W5.withExtraArgument(W.extraArgument))),Q}var FR=!0;function _R(o){var P=IR(),W=o||{},Q=W.reducer,ce=Q===void 0?void 0:Q,me=W.middleware,B=me===void 0?P():me,N=W.devTools,e=N===void 0?!0:N,p=W.preloadedState,L=p===void 0?void 0:p,a=W.enhancers,C=a===void 0?void 0:a,w;if(typeof ce=="function")w=ce;else if(LR(ce))w=mR(ce);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var h=B;typeof h=="function"&&(h=h(P));var g=xR.apply(void 0,h),t=vm;e&&(t=CR(Gh({trace:!FR},typeof e=="object"&&e)));var r=new RR(g),s=r;Array.isArray(C)?s=mp([g],C):typeof C=="function"&&(s=C(r));var n=t.apply(void 0,s);return a6(w,L,n)}function l6(o){var P={},W=[],Q,ce={addCase:function(me,B){var N=typeof me=="string"?me:me.type;if(!N)throw new Error("`builder.addCase` cannot be called with an empty action type");if(N in P)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return P[N]=B,ce},addMatcher:function(me,B){return W.push({matcher:me,reducer:B}),ce},addDefaultCase:function(me){return Q=me,ce}};return o(ce),[P,W,Q]}function zR(o){return typeof o=="function"}function OR(o,P,W,Q){W===void 0&&(W=[]);var ce=typeof P=="function"?l6(P):[P,W,Q],me=ce[0],B=ce[1],N=ce[2],e;if(zR(o))e=function(){return ab(o())};else{var p=ab(o);e=function(){return p}}function L(a,C){a===void 0&&(a=e());var w=mp([me[C.type]],B.filter(function(h){var g=h.matcher;return g(C)}).map(function(h){var g=h.reducer;return g}));return w.filter(function(h){return!!h}).length===0&&(w=[N]),w.reduce(function(h,g){if(g)if($h(h)){var t=h,r=g(t,C);return r===void 0?h:r}else{if(Gc(h))return n6(h,function(s){return g(s,C)});var r=g(h,C);if(r===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return h},a)}return L.getInitialState=e,L}function BR(o,P){return o+"/"+P}function NR(o){var P=o.name;if(!P)throw new Error("`name` is a required option for createSlice");typeof process<"u";var W=typeof o.initialState=="function"?o.initialState:ab(o.initialState),Q=o.reducers||{},ce=Object.keys(Q),me={},B={},N={};ce.forEach(function(L){var a=Q[L],C=BR(P,L),w,h;"reducer"in a?(w=a.reducer,h=a.prepare):w=a,me[L]=w,B[C]=w,N[L]=h?Wh(C,h):Wh(C)});function e(){var L=typeof o.extraReducers=="function"?l6(o.extraReducers):[o.extraReducers],a=L[0],C=a===void 0?{}:a,w=L[1],h=w===void 0?[]:w,g=L[2],t=g===void 0?void 0:g,r=Gh(Gh({},C),B);return OR(W,function(s){for(var n in r)s.addCase(n,r[n]);for(var l=0,c=h;l<c.length;l++){var f=c[l];s.addMatcher(f.matcher,f.reducer)}t&&s.addDefaultCase(t)})}var p;return{name:P,reducer:function(L,a){return p||(p=e()),p(L,a)},actions:N,caseReducers:me,getInitialState:function(){return p||(p=e()),p.getInitialState()}}}var UR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",HR=function(o){o===void 0&&(o=21);for(var P="",W=o;W--;)P+=UR[Math.random()*64|0];return P},VR=["name","message","stack","code"],Gx=function(){function o(P,W){this.payload=P,this.meta=W}return o}(),Z5=function(){function o(P,W){this.payload=P,this.meta=W}return o}(),GR=function(o){if(typeof o=="object"&&o!==null){for(var P={},W=0,Q=VR;W<Q.length;W++){var ce=Q[W];typeof o[ce]=="string"&&(P[ce]=o[ce])}return P}return{message:String(o)}},WR=function(){function o(P,W,Q){var ce=Wh(P+"/fulfilled",function(p,L,a,C){return{payload:p,meta:Vx(Gh({},C||{}),{arg:a,requestId:L,requestStatus:"fulfilled"})}}),me=Wh(P+"/pending",function(p,L,a){return{payload:void 0,meta:Vx(Gh({},a||{}),{arg:L,requestId:p,requestStatus:"pending"})}}),B=Wh(P+"/rejected",function(p,L,a,C,w){return{payload:C,error:(Q&&Q.serializeError||GR)(p||"Rejected"),meta:Vx(Gh({},w||{}),{arg:a,requestId:L,rejectedWithValue:!!C,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"})}}),N=typeof AbortController<"u"?AbortController:function(){function p(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return p.prototype.abort=function(){},p}();function e(p){return function(L,a,C){var w=Q!=null&&Q.idGenerator?Q.idGenerator(p):HR(),h=new N,g;function t(s){g=s,h.abort()}var r=function(){return ER(this,null,function(){var s,n,l,c,f,m,v;return bR(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),c=(s=Q==null?void 0:Q.condition)==null?void 0:s.call(Q,p,{getState:a,extra:C}),YR(c)?[4,c]:[3,2];case 1:c=A.sent(),A.label=2;case 2:if(c===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return f=new Promise(function(d,u){return h.signal.addEventListener("abort",function(){return u({name:"AbortError",message:g||"Aborted"})})}),L(me(w,p,(n=Q==null?void 0:Q.getPendingMeta)==null?void 0:n.call(Q,{requestId:w,arg:p},{getState:a,extra:C}))),[4,Promise.race([f,Promise.resolve(W(p,{dispatch:L,getState:a,extra:C,requestId:w,signal:h.signal,abort:t,rejectWithValue:function(d,u){return new Gx(d,u)},fulfillWithValue:function(d,u){return new Z5(d,u)}})).then(function(d){if(d instanceof Gx)throw d;return d instanceof Z5?ce(d.payload,w,p,d.meta):ce(d,w,p)})])];case 3:return l=A.sent(),[3,5];case 4:return m=A.sent(),l=m instanceof Gx?B(null,w,p,m.payload,m.meta):B(m,w,p),[3,5];case 5:return v=Q&&!Q.dispatchConditionRejection&&B.match(l)&&l.meta.condition,v||L(l),[2,l]}})})}();return Object.assign(r,{abort:t,requestId:w,arg:p,unwrap:function(){return r.then(jR)}})}}return Object.assign(e,{pending:me,rejected:B,fulfilled:ce,typePrefix:P})}return o.withTypes=function(){return o},o}();function jR(o){if(o.meta&&o.meta.rejectedWithValue)throw o.payload;if(o.error)throw o.error;return o.payload}function YR(o){return o!==null&&typeof o=="object"&&typeof o.then=="function"}var k3="listenerMiddleware";Wh(k3+"/add");Wh(k3+"/removeAll");Wh(k3+"/remove");var X5;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);lR();function u6(o,P){return function(){return o.apply(P,arguments)}}const{toString:ZR}=Object.prototype,{getPrototypeOf:F3}=Object,l1=(o=>P=>{const W=ZR.call(P);return o[W]||(o[W]=W.slice(8,-1).toLowerCase())})(Object.create(null)),ec=o=>(o=o.toLowerCase(),P=>l1(P)===o),u1=o=>P=>typeof P===o,{isArray:Lp}=Array,q0=u1("undefined");function XR(o){return o!==null&&!q0(o)&&o.constructor!==null&&!q0(o.constructor)&&Fu(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const f6=ec("ArrayBuffer");function $R(o){let P;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?P=ArrayBuffer.isView(o):P=o&&o.buffer&&f6(o.buffer),P}const KR=u1("string"),Fu=u1("function"),c6=u1("number"),f1=o=>o!==null&&typeof o=="object",JR=o=>o===!0||o===!1,Ry=o=>{if(l1(o)!=="object")return!1;const P=F3(o);return(P===null||P===Object.prototype||Object.getPrototypeOf(P)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},QR=ec("Date"),qR=ec("File"),eD=ec("Blob"),tD=ec("FileList"),rD=o=>f1(o)&&Fu(o.pipe),nD=o=>{let P;return o&&(typeof FormData=="function"&&o instanceof FormData||Fu(o.append)&&((P=l1(o))==="formdata"||P==="object"&&Fu(o.toString)&&o.toString()==="[object FormData]"))},aD=ec("URLSearchParams"),iD=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vg(o,P,{allOwnKeys:W=!1}={}){if(o===null||typeof o>"u")return;let Q,ce;if(typeof o!="object"&&(o=[o]),Lp(o))for(Q=0,ce=o.length;Q<ce;Q++)P.call(null,o[Q],Q,o);else{const me=W?Object.getOwnPropertyNames(o):Object.keys(o),B=me.length;let N;for(Q=0;Q<B;Q++)N=me[Q],P.call(null,o[N],N,o)}}function h6(o,P){P=P.toLowerCase();const W=Object.keys(o);let Q=W.length,ce;for(;Q-- >0;)if(ce=W[Q],P===ce.toLowerCase())return ce;return null}const v6=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),d6=o=>!q0(o)&&o!==v6;function ib(){const{caseless:o}=d6(this)&&this||{},P={},W=(Q,ce)=>{const me=o&&h6(P,ce)||ce;Ry(P[me])&&Ry(Q)?P[me]=ib(P[me],Q):Ry(Q)?P[me]=ib({},Q):Lp(Q)?P[me]=Q.slice():P[me]=Q};for(let Q=0,ce=arguments.length;Q<ce;Q++)arguments[Q]&&vg(arguments[Q],W);return P}const oD=(o,P,W,{allOwnKeys:Q}={})=>(vg(P,(ce,me)=>{W&&Fu(ce)?o[me]=u6(ce,W):o[me]=ce},{allOwnKeys:Q}),o),sD=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),lD=(o,P,W,Q)=>{o.prototype=Object.create(P.prototype,Q),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:P.prototype}),W&&Object.assign(o.prototype,W)},uD=(o,P,W,Q)=>{let ce,me,B;const N={};if(P=P||{},o==null)return P;do{for(ce=Object.getOwnPropertyNames(o),me=ce.length;me-- >0;)B=ce[me],(!Q||Q(B,o,P))&&!N[B]&&(P[B]=o[B],N[B]=!0);o=W!==!1&&F3(o)}while(o&&(!W||W(o,P))&&o!==Object.prototype);return P},fD=(o,P,W)=>{o=String(o),(W===void 0||W>o.length)&&(W=o.length),W-=P.length;const Q=o.indexOf(P,W);return Q!==-1&&Q===W},cD=o=>{if(!o)return null;if(Lp(o))return o;let P=o.length;if(!c6(P))return null;const W=new Array(P);for(;P-- >0;)W[P]=o[P];return W},hD=(o=>P=>o&&P instanceof o)(typeof Uint8Array<"u"&&F3(Uint8Array)),vD=(o,P)=>{const Q=(o&&o[Symbol.iterator]).call(o);let ce;for(;(ce=Q.next())&&!ce.done;){const me=ce.value;P.call(o,me[0],me[1])}},dD=(o,P)=>{let W;const Q=[];for(;(W=o.exec(P))!==null;)Q.push(W);return Q},pD=ec("HTMLFormElement"),gD=o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(W,Q,ce){return Q.toUpperCase()+ce}),$5=(({hasOwnProperty:o})=>(P,W)=>o.call(P,W))(Object.prototype),yD=ec("RegExp"),p6=(o,P)=>{const W=Object.getOwnPropertyDescriptors(o),Q={};vg(W,(ce,me)=>{let B;(B=P(ce,me,o))!==!1&&(Q[me]=B||ce)}),Object.defineProperties(o,Q)},mD=o=>{p6(o,(P,W)=>{if(Fu(o)&&["arguments","caller","callee"].indexOf(W)!==-1)return!1;const Q=o[W];if(Fu(Q)){if(P.enumerable=!1,"writable"in P){P.writable=!1;return}P.set||(P.set=()=>{throw Error("Can not rewrite read-only method '"+W+"'")})}})},xD=(o,P)=>{const W={},Q=ce=>{ce.forEach(me=>{W[me]=!0})};return Lp(o)?Q(o):Q(String(o).split(P)),W},bD=()=>{},wD=(o,P)=>(o=+o,Number.isFinite(o)?o:P),Wx="abcdefghijklmnopqrstuvwxyz",K5="0123456789",g6={DIGIT:K5,ALPHA:Wx,ALPHA_DIGIT:Wx+Wx.toUpperCase()+K5},TD=(o=16,P=g6.ALPHA_DIGIT)=>{let W="";const{length:Q}=P;for(;o--;)W+=P[Math.random()*Q|0];return W};function AD(o){return!!(o&&Fu(o.append)&&o[Symbol.toStringTag]==="FormData"&&o[Symbol.iterator])}const SD=o=>{const P=new Array(10),W=(Q,ce)=>{if(f1(Q)){if(P.indexOf(Q)>=0)return;if(!("toJSON"in Q)){P[ce]=Q;const me=Lp(Q)?[]:{};return vg(Q,(B,N)=>{const e=W(B,ce+1);!q0(e)&&(me[N]=e)}),P[ce]=void 0,me}}return Q};return W(o,0)},MD=ec("AsyncFunction"),ED=o=>o&&(f1(o)||Fu(o))&&Fu(o.then)&&Fu(o.catch),ra={isArray:Lp,isArrayBuffer:f6,isBuffer:XR,isFormData:nD,isArrayBufferView:$R,isString:KR,isNumber:c6,isBoolean:JR,isObject:f1,isPlainObject:Ry,isUndefined:q0,isDate:QR,isFile:qR,isBlob:eD,isRegExp:yD,isFunction:Fu,isStream:rD,isURLSearchParams:aD,isTypedArray:hD,isFileList:tD,forEach:vg,merge:ib,extend:oD,trim:iD,stripBOM:sD,inherits:lD,toFlatObject:uD,kindOf:l1,kindOfTest:ec,endsWith:fD,toArray:cD,forEachEntry:vD,matchAll:dD,isHTMLForm:pD,hasOwnProperty:$5,hasOwnProp:$5,reduceDescriptors:p6,freezeMethods:mD,toObjectSet:xD,toCamelCase:gD,noop:bD,toFiniteNumber:wD,findKey:h6,global:v6,isContextDefined:d6,ALPHABET:g6,generateString:TD,isSpecCompliantForm:AD,toJSONObject:SD,isAsyncFn:MD,isThenable:ED};function Ri(o,P,W,Q,ce){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",P&&(this.code=P),W&&(this.config=W),Q&&(this.request=Q),ce&&(this.response=ce)}ra.inherits(Ri,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ra.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const y6=Ri.prototype,m6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{m6[o]={value:o}});Object.defineProperties(Ri,m6);Object.defineProperty(y6,"isAxiosError",{value:!0});Ri.from=(o,P,W,Q,ce,me)=>{const B=Object.create(y6);return ra.toFlatObject(o,B,function(e){return e!==Error.prototype},N=>N!=="isAxiosError"),Ri.call(B,o.message,P,W,Q,ce),B.cause=o,B.name=o.name,me&&Object.assign(B,me),B};const CD=null;function ob(o){return ra.isPlainObject(o)||ra.isArray(o)}function x6(o){return ra.endsWith(o,"[]")?o.slice(0,-2):o}function J5(o,P,W){return o?o.concat(P).map(function(ce,me){return ce=x6(ce),!W&&me?"["+ce+"]":ce}).join(W?".":""):P}function LD(o){return ra.isArray(o)&&!o.some(ob)}const PD=ra.toFlatObject(ra,{},null,function(P){return/^is[A-Z]/.test(P)});function c1(o,P,W){if(!ra.isObject(o))throw new TypeError("target must be an object");P=P||new FormData,W=ra.toFlatObject(W,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,t){return!ra.isUndefined(t[g])});const Q=W.metaTokens,ce=W.visitor||L,me=W.dots,B=W.indexes,e=(W.Blob||typeof Blob<"u"&&Blob)&&ra.isSpecCompliantForm(P);if(!ra.isFunction(ce))throw new TypeError("visitor must be a function");function p(h){if(h===null)return"";if(ra.isDate(h))return h.toISOString();if(!e&&ra.isBlob(h))throw new Ri("Blob is not supported. Use a Buffer instead.");return ra.isArrayBuffer(h)||ra.isTypedArray(h)?e&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function L(h,g,t){let r=h;if(h&&!t&&typeof h=="object"){if(ra.endsWith(g,"{}"))g=Q?g:g.slice(0,-2),h=JSON.stringify(h);else if(ra.isArray(h)&&LD(h)||(ra.isFileList(h)||ra.endsWith(g,"[]"))&&(r=ra.toArray(h)))return g=x6(g),r.forEach(function(n,l){!(ra.isUndefined(n)||n===null)&&P.append(B===!0?J5([g],l,me):B===null?g:g+"[]",p(n))}),!1}return ob(h)?!0:(P.append(J5(t,g,me),p(h)),!1)}const a=[],C=Object.assign(PD,{defaultVisitor:L,convertValue:p,isVisitable:ob});function w(h,g){if(!ra.isUndefined(h)){if(a.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));a.push(h),ra.forEach(h,function(r,s){(!(ra.isUndefined(r)||r===null)&&ce.call(P,r,ra.isString(s)?s.trim():s,g,C))===!0&&w(r,g?g.concat(s):[s])}),a.pop()}}if(!ra.isObject(o))throw new TypeError("data must be an object");return w(o),P}function Q5(o){const P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(Q){return P[Q]})}function _3(o,P){this._pairs=[],o&&c1(o,this,P)}const b6=_3.prototype;b6.append=function(P,W){this._pairs.push([P,W])};b6.toString=function(P){const W=P?function(Q){return P.call(this,Q,Q5)}:Q5;return this._pairs.map(function(ce){return W(ce[0])+"="+W(ce[1])},"").join("&")};function RD(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function w6(o,P,W){if(!P)return o;const Q=W&&W.encode||RD,ce=W&&W.serialize;let me;if(ce?me=ce(P,W):me=ra.isURLSearchParams(P)?P.toString():new _3(P,W).toString(Q),me){const B=o.indexOf("#");B!==-1&&(o=o.slice(0,B)),o+=(o.indexOf("?")===-1?"?":"&")+me}return o}class DD{constructor(){this.handlers=[]}use(P,W,Q){return this.handlers.push({fulfilled:P,rejected:W,synchronous:Q?Q.synchronous:!1,runWhen:Q?Q.runWhen:null}),this.handlers.length-1}eject(P){this.handlers[P]&&(this.handlers[P]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(P){ra.forEach(this.handlers,function(Q){Q!==null&&P(Q)})}}const q5=DD,T6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ID=typeof URLSearchParams<"u"?URLSearchParams:_3,kD=typeof FormData<"u"?FormData:null,FD=typeof Blob<"u"?Blob:null,_D={isBrowser:!0,classes:{URLSearchParams:ID,FormData:kD,Blob:FD},protocols:["http","https","file","blob","url","data"]},A6=typeof window<"u"&&typeof document<"u",zD=(o=>A6&&["ReactNative","NativeScript","NS"].indexOf(o)<0)(typeof navigator<"u"&&navigator.product),OD=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),BD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:A6,hasStandardBrowserEnv:zD,hasStandardBrowserWebWorkerEnv:OD},Symbol.toStringTag,{value:"Module"})),Yf={...BD,..._D};function ND(o,P){return c1(o,new Yf.classes.URLSearchParams,Object.assign({visitor:function(W,Q,ce,me){return Yf.isNode&&ra.isBuffer(W)?(this.append(Q,W.toString("base64")),!1):me.defaultVisitor.apply(this,arguments)}},P))}function UD(o){return ra.matchAll(/\w+|\[(\w*)]/g,o).map(P=>P[0]==="[]"?"":P[1]||P[0])}function HD(o){const P={},W=Object.keys(o);let Q;const ce=W.length;let me;for(Q=0;Q<ce;Q++)me=W[Q],P[me]=o[me];return P}function S6(o){function P(W,Q,ce,me){let B=W[me++];const N=Number.isFinite(+B),e=me>=W.length;return B=!B&&ra.isArray(ce)?ce.length:B,e?(ra.hasOwnProp(ce,B)?ce[B]=[ce[B],Q]:ce[B]=Q,!N):((!ce[B]||!ra.isObject(ce[B]))&&(ce[B]=[]),P(W,Q,ce[B],me)&&ra.isArray(ce[B])&&(ce[B]=HD(ce[B])),!N)}if(ra.isFormData(o)&&ra.isFunction(o.entries)){const W={};return ra.forEachEntry(o,(Q,ce)=>{P(UD(Q),ce,W,0)}),W}return null}function VD(o,P,W){if(ra.isString(o))try{return(P||JSON.parse)(o),ra.trim(o)}catch(Q){if(Q.name!=="SyntaxError")throw Q}return(W||JSON.stringify)(o)}const z3={transitional:T6,adapter:["xhr","http"],transformRequest:[function(P,W){const Q=W.getContentType()||"",ce=Q.indexOf("application/json")>-1,me=ra.isObject(P);if(me&&ra.isHTMLForm(P)&&(P=new FormData(P)),ra.isFormData(P))return ce&&ce?JSON.stringify(S6(P)):P;if(ra.isArrayBuffer(P)||ra.isBuffer(P)||ra.isStream(P)||ra.isFile(P)||ra.isBlob(P))return P;if(ra.isArrayBufferView(P))return P.buffer;if(ra.isURLSearchParams(P))return W.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),P.toString();let N;if(me){if(Q.indexOf("application/x-www-form-urlencoded")>-1)return ND(P,this.formSerializer).toString();if((N=ra.isFileList(P))||Q.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return c1(N?{"files[]":P}:P,e&&new e,this.formSerializer)}}return me||ce?(W.setContentType("application/json",!1),VD(P)):P}],transformResponse:[function(P){const W=this.transitional||z3.transitional,Q=W&&W.forcedJSONParsing,ce=this.responseType==="json";if(P&&ra.isString(P)&&(Q&&!this.responseType||ce)){const B=!(W&&W.silentJSONParsing)&&ce;try{return JSON.parse(P)}catch(N){if(B)throw N.name==="SyntaxError"?Ri.from(N,Ri.ERR_BAD_RESPONSE,this,null,this.response):N}}return P}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yf.classes.FormData,Blob:Yf.classes.Blob},validateStatus:function(P){return P>=200&&P<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ra.forEach(["delete","get","head","post","put","patch"],o=>{z3.headers[o]={}});const O3=z3,GD=ra.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WD=o=>{const P={};let W,Q,ce;return o&&o.split(`
`).forEach(function(B){ce=B.indexOf(":"),W=B.substring(0,ce).trim().toLowerCase(),Q=B.substring(ce+1).trim(),!(!W||P[W]&&GD[W])&&(W==="set-cookie"?P[W]?P[W].push(Q):P[W]=[Q]:P[W]=P[W]?P[W]+", "+Q:Q)}),P},eA=Symbol("internals");function u0(o){return o&&String(o).trim().toLowerCase()}function Dy(o){return o===!1||o==null?o:ra.isArray(o)?o.map(Dy):String(o)}function jD(o){const P=Object.create(null),W=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Q;for(;Q=W.exec(o);)P[Q[1]]=Q[2];return P}const YD=o=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim());function jx(o,P,W,Q,ce){if(ra.isFunction(Q))return Q.call(this,P,W);if(ce&&(P=W),!!ra.isString(P)){if(ra.isString(Q))return P.indexOf(Q)!==-1;if(ra.isRegExp(Q))return Q.test(P)}}function ZD(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(P,W,Q)=>W.toUpperCase()+Q)}function XD(o,P){const W=ra.toCamelCase(" "+P);["get","set","has"].forEach(Q=>{Object.defineProperty(o,Q+W,{value:function(ce,me,B){return this[Q].call(this,P,ce,me,B)},configurable:!0})})}class h1{constructor(P){P&&this.set(P)}set(P,W,Q){const ce=this;function me(N,e,p){const L=u0(e);if(!L)throw new Error("header name must be a non-empty string");const a=ra.findKey(ce,L);(!a||ce[a]===void 0||p===!0||p===void 0&&ce[a]!==!1)&&(ce[a||e]=Dy(N))}const B=(N,e)=>ra.forEach(N,(p,L)=>me(p,L,e));return ra.isPlainObject(P)||P instanceof this.constructor?B(P,W):ra.isString(P)&&(P=P.trim())&&!YD(P)?B(WD(P),W):P!=null&&me(W,P,Q),this}get(P,W){if(P=u0(P),P){const Q=ra.findKey(this,P);if(Q){const ce=this[Q];if(!W)return ce;if(W===!0)return jD(ce);if(ra.isFunction(W))return W.call(this,ce,Q);if(ra.isRegExp(W))return W.exec(ce);throw new TypeError("parser must be boolean|regexp|function")}}}has(P,W){if(P=u0(P),P){const Q=ra.findKey(this,P);return!!(Q&&this[Q]!==void 0&&(!W||jx(this,this[Q],Q,W)))}return!1}delete(P,W){const Q=this;let ce=!1;function me(B){if(B=u0(B),B){const N=ra.findKey(Q,B);N&&(!W||jx(Q,Q[N],N,W))&&(delete Q[N],ce=!0)}}return ra.isArray(P)?P.forEach(me):me(P),ce}clear(P){const W=Object.keys(this);let Q=W.length,ce=!1;for(;Q--;){const me=W[Q];(!P||jx(this,this[me],me,P,!0))&&(delete this[me],ce=!0)}return ce}normalize(P){const W=this,Q={};return ra.forEach(this,(ce,me)=>{const B=ra.findKey(Q,me);if(B){W[B]=Dy(ce),delete W[me];return}const N=P?ZD(me):String(me).trim();N!==me&&delete W[me],W[N]=Dy(ce),Q[N]=!0}),this}concat(...P){return this.constructor.concat(this,...P)}toJSON(P){const W=Object.create(null);return ra.forEach(this,(Q,ce)=>{Q!=null&&Q!==!1&&(W[ce]=P&&ra.isArray(Q)?Q.join(", "):Q)}),W}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([P,W])=>P+": "+W).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(P){return P instanceof this?P:new this(P)}static concat(P,...W){const Q=new this(P);return W.forEach(ce=>Q.set(ce)),Q}static accessor(P){const Q=(this[eA]=this[eA]={accessors:{}}).accessors,ce=this.prototype;function me(B){const N=u0(B);Q[N]||(XD(ce,B),Q[N]=!0)}return ra.isArray(P)?P.forEach(me):me(P),this}}h1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ra.reduceDescriptors(h1.prototype,({value:o},P)=>{let W=P[0].toUpperCase()+P.slice(1);return{get:()=>o,set(Q){this[W]=Q}}});ra.freezeMethods(h1);const Bc=h1;function Yx(o,P){const W=this||O3,Q=P||W,ce=Bc.from(Q.headers);let me=Q.data;return ra.forEach(o,function(N){me=N.call(W,me,ce.normalize(),P?P.status:void 0)}),ce.normalize(),me}function M6(o){return!!(o&&o.__CANCEL__)}function dg(o,P,W){Ri.call(this,o??"canceled",Ri.ERR_CANCELED,P,W),this.name="CanceledError"}ra.inherits(dg,Ri,{__CANCEL__:!0});function $D(o,P,W){const Q=W.config.validateStatus;!W.status||!Q||Q(W.status)?o(W):P(new Ri("Request failed with status code "+W.status,[Ri.ERR_BAD_REQUEST,Ri.ERR_BAD_RESPONSE][Math.floor(W.status/100)-4],W.config,W.request,W))}const KD=Yf.hasStandardBrowserEnv?{write(o,P,W,Q,ce,me){const B=[o+"="+encodeURIComponent(P)];ra.isNumber(W)&&B.push("expires="+new Date(W).toGMTString()),ra.isString(Q)&&B.push("path="+Q),ra.isString(ce)&&B.push("domain="+ce),me===!0&&B.push("secure"),document.cookie=B.join("; ")},read(o){const P=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return P?decodeURIComponent(P[3]):null},remove(o){this.write(o,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function JD(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function QD(o,P){return P?o.replace(/\/+$/,"")+"/"+P.replace(/^\/+/,""):o}function E6(o,P){return o&&!JD(P)?QD(o,P):P}const qD=Yf.hasStandardBrowserEnv?function(){const P=/(msie|trident)/i.test(navigator.userAgent),W=document.createElement("a");let Q;function ce(me){let B=me;return P&&(W.setAttribute("href",B),B=W.href),W.setAttribute("href",B),{href:W.href,protocol:W.protocol?W.protocol.replace(/:$/,""):"",host:W.host,search:W.search?W.search.replace(/^\?/,""):"",hash:W.hash?W.hash.replace(/^#/,""):"",hostname:W.hostname,port:W.port,pathname:W.pathname.charAt(0)==="/"?W.pathname:"/"+W.pathname}}return Q=ce(window.location.href),function(B){const N=ra.isString(B)?ce(B):B;return N.protocol===Q.protocol&&N.host===Q.host}}():function(){return function(){return!0}}();function eI(o){const P=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return P&&P[1]||""}function tI(o,P){o=o||10;const W=new Array(o),Q=new Array(o);let ce=0,me=0,B;return P=P!==void 0?P:1e3,function(e){const p=Date.now(),L=Q[me];B||(B=p),W[ce]=e,Q[ce]=p;let a=me,C=0;for(;a!==ce;)C+=W[a++],a=a%o;if(ce=(ce+1)%o,ce===me&&(me=(me+1)%o),p-B<P)return;const w=L&&p-L;return w?Math.round(C*1e3/w):void 0}}function tA(o,P){let W=0;const Q=tI(50,250);return ce=>{const me=ce.loaded,B=ce.lengthComputable?ce.total:void 0,N=me-W,e=Q(N),p=me<=B;W=me;const L={loaded:me,total:B,progress:B?me/B:void 0,bytes:N,rate:e||void 0,estimated:e&&B&&p?(B-me)/e:void 0,event:ce};L[P?"download":"upload"]=!0,o(L)}}const rI=typeof XMLHttpRequest<"u",nI=rI&&function(o){return new Promise(function(W,Q){let ce=o.data;const me=Bc.from(o.headers).normalize();let{responseType:B,withXSRFToken:N}=o,e;function p(){o.cancelToken&&o.cancelToken.unsubscribe(e),o.signal&&o.signal.removeEventListener("abort",e)}let L;if(ra.isFormData(ce)){if(Yf.hasStandardBrowserEnv||Yf.hasStandardBrowserWebWorkerEnv)me.setContentType(!1);else if((L=me.getContentType())!==!1){const[g,...t]=L?L.split(";").map(r=>r.trim()).filter(Boolean):[];me.setContentType([g||"multipart/form-data",...t].join("; "))}}let a=new XMLHttpRequest;if(o.auth){const g=o.auth.username||"",t=o.auth.password?unescape(encodeURIComponent(o.auth.password)):"";me.set("Authorization","Basic "+btoa(g+":"+t))}const C=E6(o.baseURL,o.url);a.open(o.method.toUpperCase(),w6(C,o.params,o.paramsSerializer),!0),a.timeout=o.timeout;function w(){if(!a)return;const g=Bc.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),r={data:!B||B==="text"||B==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:g,config:o,request:a};$D(function(n){W(n),p()},function(n){Q(n),p()},r),a=null}if("onloadend"in a?a.onloadend=w:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(w)},a.onabort=function(){a&&(Q(new Ri("Request aborted",Ri.ECONNABORTED,o,a)),a=null)},a.onerror=function(){Q(new Ri("Network Error",Ri.ERR_NETWORK,o,a)),a=null},a.ontimeout=function(){let t=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const r=o.transitional||T6;o.timeoutErrorMessage&&(t=o.timeoutErrorMessage),Q(new Ri(t,r.clarifyTimeoutError?Ri.ETIMEDOUT:Ri.ECONNABORTED,o,a)),a=null},Yf.hasStandardBrowserEnv&&(N&&ra.isFunction(N)&&(N=N(o)),N||N!==!1&&qD(C))){const g=o.xsrfHeaderName&&o.xsrfCookieName&&KD.read(o.xsrfCookieName);g&&me.set(o.xsrfHeaderName,g)}ce===void 0&&me.setContentType(null),"setRequestHeader"in a&&ra.forEach(me.toJSON(),function(t,r){a.setRequestHeader(r,t)}),ra.isUndefined(o.withCredentials)||(a.withCredentials=!!o.withCredentials),B&&B!=="json"&&(a.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&a.addEventListener("progress",tA(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",tA(o.onUploadProgress)),(o.cancelToken||o.signal)&&(e=g=>{a&&(Q(!g||g.type?new dg(null,o,a):g),a.abort(),a=null)},o.cancelToken&&o.cancelToken.subscribe(e),o.signal&&(o.signal.aborted?e():o.signal.addEventListener("abort",e)));const h=eI(C);if(h&&Yf.protocols.indexOf(h)===-1){Q(new Ri("Unsupported protocol "+h+":",Ri.ERR_BAD_REQUEST,o));return}a.send(ce||null)})},sb={http:CD,xhr:nI};ra.forEach(sb,(o,P)=>{if(o){try{Object.defineProperty(o,"name",{value:P})}catch{}Object.defineProperty(o,"adapterName",{value:P})}});const rA=o=>`- ${o}`,aI=o=>ra.isFunction(o)||o===null||o===!1,C6={getAdapter:o=>{o=ra.isArray(o)?o:[o];const{length:P}=o;let W,Q;const ce={};for(let me=0;me<P;me++){W=o[me];let B;if(Q=W,!aI(W)&&(Q=sb[(B=String(W)).toLowerCase()],Q===void 0))throw new Ri(`Unknown adapter '${B}'`);if(Q)break;ce[B||"#"+me]=Q}if(!Q){const me=Object.entries(ce).map(([N,e])=>`adapter ${N} `+(e===!1?"is not supported by the environment":"is not available in the build"));let B=P?me.length>1?`since :
`+me.map(rA).join(`
`):" "+rA(me[0]):"as no adapter specified";throw new Ri("There is no suitable adapter to dispatch the request "+B,"ERR_NOT_SUPPORT")}return Q},adapters:sb};function Zx(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new dg(null,o)}function nA(o){return Zx(o),o.headers=Bc.from(o.headers),o.data=Yx.call(o,o.transformRequest),["post","put","patch"].indexOf(o.method)!==-1&&o.headers.setContentType("application/x-www-form-urlencoded",!1),C6.getAdapter(o.adapter||O3.adapter)(o).then(function(Q){return Zx(o),Q.data=Yx.call(o,o.transformResponse,Q),Q.headers=Bc.from(Q.headers),Q},function(Q){return M6(Q)||(Zx(o),Q&&Q.response&&(Q.response.data=Yx.call(o,o.transformResponse,Q.response),Q.response.headers=Bc.from(Q.response.headers))),Promise.reject(Q)})}const aA=o=>o instanceof Bc?o.toJSON():o;function xp(o,P){P=P||{};const W={};function Q(p,L,a){return ra.isPlainObject(p)&&ra.isPlainObject(L)?ra.merge.call({caseless:a},p,L):ra.isPlainObject(L)?ra.merge({},L):ra.isArray(L)?L.slice():L}function ce(p,L,a){if(ra.isUndefined(L)){if(!ra.isUndefined(p))return Q(void 0,p,a)}else return Q(p,L,a)}function me(p,L){if(!ra.isUndefined(L))return Q(void 0,L)}function B(p,L){if(ra.isUndefined(L)){if(!ra.isUndefined(p))return Q(void 0,p)}else return Q(void 0,L)}function N(p,L,a){if(a in P)return Q(p,L);if(a in o)return Q(void 0,p)}const e={url:me,method:me,data:me,baseURL:B,transformRequest:B,transformResponse:B,paramsSerializer:B,timeout:B,timeoutMessage:B,withCredentials:B,withXSRFToken:B,adapter:B,responseType:B,xsrfCookieName:B,xsrfHeaderName:B,onUploadProgress:B,onDownloadProgress:B,decompress:B,maxContentLength:B,maxBodyLength:B,beforeRedirect:B,transport:B,httpAgent:B,httpsAgent:B,cancelToken:B,socketPath:B,responseEncoding:B,validateStatus:N,headers:(p,L)=>ce(aA(p),aA(L),!0)};return ra.forEach(Object.keys(Object.assign({},o,P)),function(L){const a=e[L]||ce,C=a(o[L],P[L],L);ra.isUndefined(C)&&a!==N||(W[L]=C)}),W}const L6="1.6.2",B3={};["object","boolean","number","function","string","symbol"].forEach((o,P)=>{B3[o]=function(Q){return typeof Q===o||"a"+(P<1?"n ":" ")+o}});const iA={};B3.transitional=function(P,W,Q){function ce(me,B){return"[Axios v"+L6+"] Transitional option '"+me+"'"+B+(Q?". "+Q:"")}return(me,B,N)=>{if(P===!1)throw new Ri(ce(B," has been removed"+(W?" in "+W:"")),Ri.ERR_DEPRECATED);return W&&!iA[B]&&(iA[B]=!0,console.warn(ce(B," has been deprecated since v"+W+" and will be removed in the near future"))),P?P(me,B,N):!0}};function iI(o,P,W){if(typeof o!="object")throw new Ri("options must be an object",Ri.ERR_BAD_OPTION_VALUE);const Q=Object.keys(o);let ce=Q.length;for(;ce-- >0;){const me=Q[ce],B=P[me];if(B){const N=o[me],e=N===void 0||B(N,me,o);if(e!==!0)throw new Ri("option "+me+" must be "+e,Ri.ERR_BAD_OPTION_VALUE);continue}if(W!==!0)throw new Ri("Unknown option "+me,Ri.ERR_BAD_OPTION)}}const lb={assertOptions:iI,validators:B3},Sh=lb.validators;class dm{constructor(P){this.defaults=P,this.interceptors={request:new q5,response:new q5}}request(P,W){typeof P=="string"?(W=W||{},W.url=P):W=P||{},W=xp(this.defaults,W);const{transitional:Q,paramsSerializer:ce,headers:me}=W;Q!==void 0&&lb.assertOptions(Q,{silentJSONParsing:Sh.transitional(Sh.boolean),forcedJSONParsing:Sh.transitional(Sh.boolean),clarifyTimeoutError:Sh.transitional(Sh.boolean)},!1),ce!=null&&(ra.isFunction(ce)?W.paramsSerializer={serialize:ce}:lb.assertOptions(ce,{encode:Sh.function,serialize:Sh.function},!0)),W.method=(W.method||this.defaults.method||"get").toLowerCase();let B=me&&ra.merge(me.common,me[W.method]);me&&ra.forEach(["delete","get","head","post","put","patch","common"],h=>{delete me[h]}),W.headers=Bc.concat(B,me);const N=[];let e=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(W)===!1||(e=e&&g.synchronous,N.unshift(g.fulfilled,g.rejected))});const p=[];this.interceptors.response.forEach(function(g){p.push(g.fulfilled,g.rejected)});let L,a=0,C;if(!e){const h=[nA.bind(this),void 0];for(h.unshift.apply(h,N),h.push.apply(h,p),C=h.length,L=Promise.resolve(W);a<C;)L=L.then(h[a++],h[a++]);return L}C=N.length;let w=W;for(a=0;a<C;){const h=N[a++],g=N[a++];try{w=h(w)}catch(t){g.call(this,t);break}}try{L=nA.call(this,w)}catch(h){return Promise.reject(h)}for(a=0,C=p.length;a<C;)L=L.then(p[a++],p[a++]);return L}getUri(P){P=xp(this.defaults,P);const W=E6(P.baseURL,P.url);return w6(W,P.params,P.paramsSerializer)}}ra.forEach(["delete","get","head","options"],function(P){dm.prototype[P]=function(W,Q){return this.request(xp(Q||{},{method:P,url:W,data:(Q||{}).data}))}});ra.forEach(["post","put","patch"],function(P){function W(Q){return function(me,B,N){return this.request(xp(N||{},{method:P,headers:Q?{"Content-Type":"multipart/form-data"}:{},url:me,data:B}))}}dm.prototype[P]=W(),dm.prototype[P+"Form"]=W(!0)});const Iy=dm;class N3{constructor(P){if(typeof P!="function")throw new TypeError("executor must be a function.");let W;this.promise=new Promise(function(me){W=me});const Q=this;this.promise.then(ce=>{if(!Q._listeners)return;let me=Q._listeners.length;for(;me-- >0;)Q._listeners[me](ce);Q._listeners=null}),this.promise.then=ce=>{let me;const B=new Promise(N=>{Q.subscribe(N),me=N}).then(ce);return B.cancel=function(){Q.unsubscribe(me)},B},P(function(me,B,N){Q.reason||(Q.reason=new dg(me,B,N),W(Q.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(P){if(this.reason){P(this.reason);return}this._listeners?this._listeners.push(P):this._listeners=[P]}unsubscribe(P){if(!this._listeners)return;const W=this._listeners.indexOf(P);W!==-1&&this._listeners.splice(W,1)}static source(){let P;return{token:new N3(function(ce){P=ce}),cancel:P}}}const oI=N3;function sI(o){return function(W){return o.apply(null,W)}}function lI(o){return ra.isObject(o)&&o.isAxiosError===!0}const ub={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ub).forEach(([o,P])=>{ub[P]=o});const uI=ub;function P6(o){const P=new Iy(o),W=u6(Iy.prototype.request,P);return ra.extend(W,Iy.prototype,P,{allOwnKeys:!0}),ra.extend(W,P,null,{allOwnKeys:!0}),W.create=function(ce){return P6(xp(o,ce))},W}const ts=P6(O3);ts.Axios=Iy;ts.CanceledError=dg;ts.CancelToken=oI;ts.isCancel=M6;ts.VERSION=L6;ts.toFormData=c1;ts.AxiosError=Ri;ts.Cancel=ts.CanceledError;ts.all=function(P){return Promise.all(P)};ts.spread=sI;ts.isAxiosError=lI;ts.mergeConfig=xp;ts.AxiosHeaders=Bc;ts.formToJSON=o=>S6(ra.isHTMLForm(o)?new FormData(o):o);ts.getAdapter=C6.getAdapter;ts.HttpStatusCode=uI;ts.default=ts;const pg=ts;let gg=`${window.location.protocol}//${window.location.hostname}:${window.location.port}/api`;const fI=()=>pg.get(`${gg}/projects/`),cI=o=>pg.get(`${gg}/projects/${o}/models/`),hI=(o,P)=>pg.get(`${gg}/projects/${o}/experiments/${P}/inputs/`),vI=(o,P)=>pg.get(`${gg}/projects/${o}/experiments/${P}/`),dI=(o,P,W)=>pg.put(`${gg}/projects/${o}/experiments/${P}/`,W),pI={data:[],currentProject:{},loaded:!1},R6=WR("projects/fetchProjects",async(o,{rejectWithValue:P})=>{try{let Q=(await fI()).data.data;for(const ce of Q)try{const B=(await cI(ce.id)).data.data;for(let N=0;N<ce.experiments.length;N++){const e=ce.experiments[N];e.id=e.name,e.model=B[N],e.modelDetected=!0;try{const p=await hI(ce.id,e.id);e.inputs=p.data.data.map((L,a)=>{const C=JSON.parse(L);return{id:`${a}`,imageObj:{data:C.data,layout:C.layout}}})}catch(p){console.error("Error fetching inputs:",p)}}}catch(me){console.error("Error fetching models:",me)}return Q}catch(W){return P(W.response.data)}}),D6=NR({name:"projects",initialState:pI,reducers:{setCurrentProject(o,P){const W=P.payload,Q=o.data.find(ce=>ce.id===W);Q&&(o.currentProject=Q)}},extraReducers:o=>{o.addCase(R6.fulfilled,(P,W)=>{P.data=W.payload,P.currentProject=W.payload[0]||{},P.loaded=!0})}}),{setCurrentProject:gI}=D6.actions,yI=D6.reducer,mI=_R({reducer:{projects:yI}});/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eg(){return eg=Object.assign?Object.assign.bind():function(o){for(var P=1;P<arguments.length;P++){var W=arguments[P];for(var Q in W)Object.prototype.hasOwnProperty.call(W,Q)&&(o[Q]=W[Q])}return o},eg.apply(this,arguments)}var Fh;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Fh||(Fh={}));const oA="popstate";function xI(o){o===void 0&&(o={});function P(Q,ce){let{pathname:me,search:B,hash:N}=Q.location;return fb("",{pathname:me,search:B,hash:N},ce.state&&ce.state.usr||null,ce.state&&ce.state.key||"default")}function W(Q,ce){return typeof ce=="string"?ce:pm(ce)}return wI(P,W,null,o)}function es(o,P){if(o===!1||o===null||typeof o>"u")throw new Error(P)}function U3(o,P){if(!o){typeof console<"u"&&console.warn(P);try{throw new Error(P)}catch{}}}function bI(){return Math.random().toString(36).substr(2,8)}function sA(o,P){return{usr:o.state,key:o.key,idx:P}}function fb(o,P,W,Q){return W===void 0&&(W=null),eg({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof P=="string"?Pp(P):P,{state:W,key:P&&P.key||Q||bI()})}function pm(o){let{pathname:P="/",search:W="",hash:Q=""}=o;return W&&W!=="?"&&(P+=W.charAt(0)==="?"?W:"?"+W),Q&&Q!=="#"&&(P+=Q.charAt(0)==="#"?Q:"#"+Q),P}function Pp(o){let P={};if(o){let W=o.indexOf("#");W>=0&&(P.hash=o.substr(W),o=o.substr(0,W));let Q=o.indexOf("?");Q>=0&&(P.search=o.substr(Q),o=o.substr(0,Q)),o&&(P.pathname=o)}return P}function wI(o,P,W,Q){Q===void 0&&(Q={});let{window:ce=document.defaultView,v5Compat:me=!1}=Q,B=ce.history,N=Fh.Pop,e=null,p=L();p==null&&(p=0,B.replaceState(eg({},B.state,{idx:p}),""));function L(){return(B.state||{idx:null}).idx}function a(){N=Fh.Pop;let t=L(),r=t==null?null:t-p;p=t,e&&e({action:N,location:g.location,delta:r})}function C(t,r){N=Fh.Push;let s=fb(g.location,t,r);W&&W(s,t),p=L()+1;let n=sA(s,p),l=g.createHref(s);try{B.pushState(n,"",l)}catch(c){if(c instanceof DOMException&&c.name==="DataCloneError")throw c;ce.location.assign(l)}me&&e&&e({action:N,location:g.location,delta:1})}function w(t,r){N=Fh.Replace;let s=fb(g.location,t,r);W&&W(s,t),p=L();let n=sA(s,p),l=g.createHref(s);B.replaceState(n,"",l),me&&e&&e({action:N,location:g.location,delta:0})}function h(t){let r=ce.location.origin!=="null"?ce.location.origin:ce.location.href,s=typeof t=="string"?t:pm(t);return es(r,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,r)}let g={get action(){return N},get location(){return o(ce,B)},listen(t){if(e)throw new Error("A history only accepts one active listener");return ce.addEventListener(oA,a),e=t,()=>{ce.removeEventListener(oA,a),e=null}},createHref(t){return P(ce,t)},createURL:h,encodeLocation(t){let r=h(t);return{pathname:r.pathname,search:r.search,hash:r.hash}},push:C,replace:w,go(t){return B.go(t)}};return g}var lA;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(lA||(lA={}));function TI(o,P,W){W===void 0&&(W="/");let Q=typeof P=="string"?Pp(P):P,ce=H3(Q.pathname||"/",W);if(ce==null)return null;let me=I6(o);AI(me);let B=null;for(let N=0;B==null&&N<me.length;++N)B=II(me[N],_I(ce));return B}function I6(o,P,W,Q){P===void 0&&(P=[]),W===void 0&&(W=[]),Q===void 0&&(Q="");let ce=(me,B,N)=>{let e={relativePath:N===void 0?me.path||"":N,caseSensitive:me.caseSensitive===!0,childrenIndex:B,route:me};e.relativePath.startsWith("/")&&(es(e.relativePath.startsWith(Q),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+Q+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(Q.length));let p=jh([Q,e.relativePath]),L=W.concat(e);me.children&&me.children.length>0&&(es(me.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),I6(me.children,P,L,p)),!(me.path==null&&!me.index)&&P.push({path:p,score:RI(p,me.index),routesMeta:L})};return o.forEach((me,B)=>{var N;if(me.path===""||!((N=me.path)!=null&&N.includes("?")))ce(me,B);else for(let e of k6(me.path))ce(me,B,e)}),P}function k6(o){let P=o.split("/");if(P.length===0)return[];let[W,...Q]=P,ce=W.endsWith("?"),me=W.replace(/\?$/,"");if(Q.length===0)return ce?[me,""]:[me];let B=k6(Q.join("/")),N=[];return N.push(...B.map(e=>e===""?me:[me,e].join("/"))),ce&&N.push(...B),N.map(e=>o.startsWith("/")&&e===""?"/":e)}function AI(o){o.sort((P,W)=>P.score!==W.score?W.score-P.score:DI(P.routesMeta.map(Q=>Q.childrenIndex),W.routesMeta.map(Q=>Q.childrenIndex)))}const SI=/^:\w+$/,MI=3,EI=2,CI=1,LI=10,PI=-2,uA=o=>o==="*";function RI(o,P){let W=o.split("/"),Q=W.length;return W.some(uA)&&(Q+=PI),P&&(Q+=EI),W.filter(ce=>!uA(ce)).reduce((ce,me)=>ce+(SI.test(me)?MI:me===""?CI:LI),Q)}function DI(o,P){return o.length===P.length&&o.slice(0,-1).every((Q,ce)=>Q===P[ce])?o[o.length-1]-P[P.length-1]:0}function II(o,P){let{routesMeta:W}=o,Q={},ce="/",me=[];for(let B=0;B<W.length;++B){let N=W[B],e=B===W.length-1,p=ce==="/"?P:P.slice(ce.length)||"/",L=kI({path:N.relativePath,caseSensitive:N.caseSensitive,end:e},p);if(!L)return null;Object.assign(Q,L.params);let a=N.route;me.push({params:Q,pathname:jh([ce,L.pathname]),pathnameBase:NI(jh([ce,L.pathnameBase])),route:a}),L.pathnameBase!=="/"&&(ce=jh([ce,L.pathnameBase]))}return me}function kI(o,P){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[W,Q]=FI(o.path,o.caseSensitive,o.end),ce=P.match(W);if(!ce)return null;let me=ce[0],B=me.replace(/(.)\/+$/,"$1"),N=ce.slice(1);return{params:Q.reduce((p,L,a)=>{let{paramName:C,isOptional:w}=L;if(C==="*"){let g=N[a]||"";B=me.slice(0,me.length-g.length).replace(/(.)\/+$/,"$1")}const h=N[a];return w&&!h?p[C]=void 0:p[C]=zI(h||"",C),p},{}),pathname:me,pathnameBase:B,pattern:o}}function FI(o,P,W){P===void 0&&(P=!1),W===void 0&&(W=!0),U3(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let Q=[],ce="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(B,N,e)=>(Q.push({paramName:N,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(Q.push({paramName:"*"}),ce+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):W?ce+="\\/*$":o!==""&&o!=="/"&&(ce+="(?:(?=\\/|$))"),[new RegExp(ce,P?void 0:"i"),Q]}function _I(o){try{return decodeURI(o)}catch(P){return U3(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+P+").")),o}}function zI(o,P){try{return decodeURIComponent(o)}catch(W){return U3(!1,'The value for the URL param "'+P+'" will not be decoded because'+(' the string "'+o+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+W+").")),o}}function H3(o,P){if(P==="/")return o;if(!o.toLowerCase().startsWith(P.toLowerCase()))return null;let W=P.endsWith("/")?P.length-1:P.length,Q=o.charAt(W);return Q&&Q!=="/"?null:o.slice(W)||"/"}function OI(o,P){P===void 0&&(P="/");let{pathname:W,search:Q="",hash:ce=""}=typeof o=="string"?Pp(o):o;return{pathname:W?W.startsWith("/")?W:BI(W,P):P,search:UI(Q),hash:HI(ce)}}function BI(o,P){let W=P.replace(/\/+$/,"").split("/");return o.split("/").forEach(ce=>{ce===".."?W.length>1&&W.pop():ce!=="."&&W.push(ce)}),W.length>1?W.join("/"):"/"}function Xx(o,P,W,Q){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+P+"` field ["+JSON.stringify(Q)+"].  Please separate it out to the ")+("`to."+W+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F6(o){return o.filter((P,W)=>W===0||P.route.path&&P.route.path.length>0)}function _6(o,P,W,Q){Q===void 0&&(Q=!1);let ce;typeof o=="string"?ce=Pp(o):(ce=eg({},o),es(!ce.pathname||!ce.pathname.includes("?"),Xx("?","pathname","search",ce)),es(!ce.pathname||!ce.pathname.includes("#"),Xx("#","pathname","hash",ce)),es(!ce.search||!ce.search.includes("#"),Xx("#","search","hash",ce)));let me=o===""||ce.pathname==="",B=me?"/":ce.pathname,N;if(B==null)N=W;else if(Q){let a=P[P.length-1].replace(/^\//,"").split("/");if(B.startsWith("..")){let C=B.split("/");for(;C[0]==="..";)C.shift(),a.pop();ce.pathname=C.join("/")}N="/"+a.join("/")}else{let a=P.length-1;if(B.startsWith("..")){let C=B.split("/");for(;C[0]==="..";)C.shift(),a-=1;ce.pathname=C.join("/")}N=a>=0?P[a]:"/"}let e=OI(ce,N),p=B&&B!=="/"&&B.endsWith("/"),L=(me||B===".")&&W.endsWith("/");return!e.pathname.endsWith("/")&&(p||L)&&(e.pathname+="/"),e}const jh=o=>o.join("/").replace(/\/\/+/g,"/"),NI=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),UI=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,HI=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function VI(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const z6=["post","put","patch","delete"];new Set(z6);const GI=["get",...z6];new Set(GI);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gm(){return gm=Object.assign?Object.assign.bind():function(o){for(var P=1;P<arguments.length;P++){var W=arguments[P];for(var Q in W)Object.prototype.hasOwnProperty.call(W,Q)&&(o[Q]=W[Q])}return o},gm.apply(this,arguments)}const V3=Er.createContext(null),WI=Er.createContext(null),Rp=Er.createContext(null),v1=Er.createContext(null),nd=Er.createContext({outlet:null,matches:[],isDataRoute:!1}),O6=Er.createContext(null);function jI(o,P){let{relative:W}=P===void 0?{}:P;yg()||es(!1);let{basename:Q,navigator:ce}=Er.useContext(Rp),{hash:me,pathname:B,search:N}=N6(o,{relative:W}),e=B;return Q!=="/"&&(e=B==="/"?Q:jh([Q,B])),ce.createHref({pathname:e,search:N,hash:me})}function yg(){return Er.useContext(v1)!=null}function d1(){return yg()||es(!1),Er.useContext(v1).location}function B6(o){Er.useContext(Rp).static||Er.useLayoutEffect(o)}function YI(){let{isDataRoute:o}=Er.useContext(nd);return o?ik():ZI()}function ZI(){yg()||es(!1);let o=Er.useContext(V3),{basename:P,navigator:W}=Er.useContext(Rp),{matches:Q}=Er.useContext(nd),{pathname:ce}=d1(),me=JSON.stringify(F6(Q).map(e=>e.pathnameBase)),B=Er.useRef(!1);return B6(()=>{B.current=!0}),Er.useCallback(function(e,p){if(p===void 0&&(p={}),!B.current)return;if(typeof e=="number"){W.go(e);return}let L=_6(e,JSON.parse(me),ce,p.relative==="path");o==null&&P!=="/"&&(L.pathname=L.pathname==="/"?P:jh([P,L.pathname])),(p.replace?W.replace:W.push)(L,p.state,p)},[P,W,me,ce,o])}function N6(o,P){let{relative:W}=P===void 0?{}:P,{matches:Q}=Er.useContext(nd),{pathname:ce}=d1(),me=JSON.stringify(F6(Q).map(B=>B.pathnameBase));return Er.useMemo(()=>_6(o,JSON.parse(me),ce,W==="path"),[o,me,ce,W])}function XI(o,P){return $I(o,P)}function $I(o,P,W){yg()||es(!1);let{navigator:Q}=Er.useContext(Rp),{matches:ce}=Er.useContext(nd),me=ce[ce.length-1],B=me?me.params:{};me&&me.pathname;let N=me?me.pathnameBase:"/";me&&me.route;let e=d1(),p;if(P){var L;let g=typeof P=="string"?Pp(P):P;N==="/"||(L=g.pathname)!=null&&L.startsWith(N)||es(!1),p=g}else p=e;let a=p.pathname||"/",C=N==="/"?a:a.slice(N.length)||"/",w=TI(o,{pathname:C}),h=ek(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},B,g.params),pathname:jh([N,Q.encodeLocation?Q.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?N:jh([N,Q.encodeLocation?Q.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),ce,W);return P&&h?Er.createElement(v1.Provider,{value:{location:gm({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Fh.Pop}},h):h}function KI(){let o=ak(),P=VI(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),W=o instanceof Error?o.stack:null,ce={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},me=null;return Er.createElement(Er.Fragment,null,Er.createElement("h2",null,"Unexpected Application Error!"),Er.createElement("h3",{style:{fontStyle:"italic"}},P),W?Er.createElement("pre",{style:ce},W):null,me)}const JI=Er.createElement(KI,null);class QI extends Er.Component{constructor(P){super(P),this.state={location:P.location,revalidation:P.revalidation,error:P.error}}static getDerivedStateFromError(P){return{error:P}}static getDerivedStateFromProps(P,W){return W.location!==P.location||W.revalidation!=="idle"&&P.revalidation==="idle"?{error:P.error,location:P.location,revalidation:P.revalidation}:{error:P.error||W.error,location:W.location,revalidation:P.revalidation||W.revalidation}}componentDidCatch(P,W){console.error("React Router caught the following error during render",P,W)}render(){return this.state.error?Er.createElement(nd.Provider,{value:this.props.routeContext},Er.createElement(O6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qI(o){let{routeContext:P,match:W,children:Q}=o,ce=Er.useContext(V3);return ce&&ce.static&&ce.staticContext&&(W.route.errorElement||W.route.ErrorBoundary)&&(ce.staticContext._deepestRenderedBoundaryId=W.route.id),Er.createElement(nd.Provider,{value:P},Q)}function ek(o,P,W){var Q;if(P===void 0&&(P=[]),W===void 0&&(W=null),o==null){var ce;if((ce=W)!=null&&ce.errors)o=W.matches;else return null}let me=o,B=(Q=W)==null?void 0:Q.errors;if(B!=null){let N=me.findIndex(e=>e.route.id&&(B==null?void 0:B[e.route.id]));N>=0||es(!1),me=me.slice(0,Math.min(me.length,N+1))}return me.reduceRight((N,e,p)=>{let L=e.route.id?B==null?void 0:B[e.route.id]:null,a=null;W&&(a=e.route.errorElement||JI);let C=P.concat(me.slice(0,p+1)),w=()=>{let h;return L?h=a:e.route.Component?h=Er.createElement(e.route.Component,null):e.route.element?h=e.route.element:h=N,Er.createElement(qI,{match:e,routeContext:{outlet:N,matches:C,isDataRoute:W!=null},children:h})};return W&&(e.route.ErrorBoundary||e.route.errorElement||p===0)?Er.createElement(QI,{location:W.location,revalidation:W.revalidation,component:a,error:L,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}var U6=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(U6||{}),ym=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(ym||{});function tk(o){let P=Er.useContext(V3);return P||es(!1),P}function rk(o){let P=Er.useContext(WI);return P||es(!1),P}function nk(o){let P=Er.useContext(nd);return P||es(!1),P}function H6(o){let P=nk(),W=P.matches[P.matches.length-1];return W.route.id||es(!1),W.route.id}function ak(){var o;let P=Er.useContext(O6),W=rk(ym.UseRouteError),Q=H6(ym.UseRouteError);return P||((o=W.errors)==null?void 0:o[Q])}function ik(){let{router:o}=tk(U6.UseNavigateStable),P=H6(ym.UseNavigateStable),W=Er.useRef(!1);return B6(()=>{W.current=!0}),Er.useCallback(function(ce,me){me===void 0&&(me={}),W.current&&(typeof ce=="number"?o.navigate(ce):o.navigate(ce,gm({fromRouteId:P},me)))},[o,P])}function Nd(o){es(!1)}function ok(o){let{basename:P="/",children:W=null,location:Q,navigationType:ce=Fh.Pop,navigator:me,static:B=!1}=o;yg()&&es(!1);let N=P.replace(/^\/*/,"/"),e=Er.useMemo(()=>({basename:N,navigator:me,static:B}),[N,me,B]);typeof Q=="string"&&(Q=Pp(Q));let{pathname:p="/",search:L="",hash:a="",state:C=null,key:w="default"}=Q,h=Er.useMemo(()=>{let g=H3(p,N);return g==null?null:{location:{pathname:g,search:L,hash:a,state:C,key:w},navigationType:ce}},[N,p,L,a,C,w,ce]);return h==null?null:Er.createElement(Rp.Provider,{value:e},Er.createElement(v1.Provider,{children:W,value:h}))}function sk(o){let{children:P,location:W}=o;return XI(cb(P),W)}new Promise(()=>{});function cb(o,P){P===void 0&&(P=[]);let W=[];return Er.Children.forEach(o,(Q,ce)=>{if(!Er.isValidElement(Q))return;let me=[...P,ce];if(Q.type===Er.Fragment){W.push.apply(W,cb(Q.props.children,me));return}Q.type!==Nd&&es(!1),!Q.props.index||!Q.props.children||es(!1);let B={id:Q.props.id||me.join("-"),caseSensitive:Q.props.caseSensitive,element:Q.props.element,Component:Q.props.Component,index:Q.props.index,path:Q.props.path,loader:Q.props.loader,action:Q.props.action,errorElement:Q.props.errorElement,ErrorBoundary:Q.props.ErrorBoundary,hasErrorBoundary:Q.props.ErrorBoundary!=null||Q.props.errorElement!=null,shouldRevalidate:Q.props.shouldRevalidate,handle:Q.props.handle,lazy:Q.props.lazy};Q.props.children&&(B.children=cb(Q.props.children,me)),W.push(B)}),W}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hb(){return hb=Object.assign?Object.assign.bind():function(o){for(var P=1;P<arguments.length;P++){var W=arguments[P];for(var Q in W)Object.prototype.hasOwnProperty.call(W,Q)&&(o[Q]=W[Q])}return o},hb.apply(this,arguments)}function lk(o,P){if(o==null)return{};var W={},Q=Object.keys(o),ce,me;for(me=0;me<Q.length;me++)ce=Q[me],!(P.indexOf(ce)>=0)&&(W[ce]=o[ce]);return W}function uk(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function fk(o,P){return o.button===0&&(!P||P==="_self")&&!uk(o)}const ck=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],hk="startTransition",fA=By[hk];function vk(o){let{basename:P,children:W,future:Q,window:ce}=o,me=Er.useRef();me.current==null&&(me.current=xI({window:ce,v5Compat:!0}));let B=me.current,[N,e]=Er.useState({action:B.action,location:B.location}),{v7_startTransition:p}=Q||{},L=Er.useCallback(a=>{p&&fA?fA(()=>e(a)):e(a)},[e,p]);return Er.useLayoutEffect(()=>B.listen(L),[B,L]),Er.createElement(ok,{basename:P,children:W,location:N.location,navigationType:N.action,navigator:B})}const dk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vb=Er.forwardRef(function(P,W){let{onClick:Q,relative:ce,reloadDocument:me,replace:B,state:N,target:e,to:p,preventScrollReset:L,unstable_viewTransition:a}=P,C=lk(P,ck),{basename:w}=Er.useContext(Rp),h,g=!1;if(typeof p=="string"&&pk.test(p)&&(h=p,dk))try{let n=new URL(window.location.href),l=p.startsWith("//")?new URL(n.protocol+p):new URL(p),c=H3(l.pathname,w);l.origin===n.origin&&c!=null?p=c+l.search+l.hash:g=!0}catch{}let t=jI(p,{relative:ce}),r=gk(p,{replace:B,state:N,target:e,preventScrollReset:L,relative:ce,unstable_viewTransition:a});function s(n){Q&&Q(n),n.defaultPrevented||r(n)}return Er.createElement("a",hb({},C,{href:h||t,onClick:g||me?Q:s,ref:W,target:e}))});var cA;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(cA||(cA={}));var hA;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(hA||(hA={}));function gk(o,P){let{target:W,replace:Q,state:ce,preventScrollReset:me,relative:B,unstable_viewTransition:N}=P===void 0?{}:P,e=YI(),p=d1(),L=N6(o,{relative:B});return Er.useCallback(a=>{if(fk(a,W)){a.preventDefault();let C=Q!==void 0?Q:pm(p)===pm(L);e(o,{replace:C,state:ce,preventScrollReset:me,relative:B,unstable_viewTransition:N})}},[p,e,L,Q,ce,W,o,me,B,N])}function kc(o){return o!==null&&typeof o=="object"&&o.constructor===Object}function V6(o){if(!kc(o))return o;const P={};return Object.keys(o).forEach(W=>{P[W]=V6(o[W])}),P}function nu(o,P,W={clone:!0}){const Q=W.clone?Xr({},o):o;return kc(o)&&kc(P)&&Object.keys(P).forEach(ce=>{ce!=="__proto__"&&(kc(P[ce])&&ce in o&&kc(o[ce])?Q[ce]=nu(o[ce],P[ce],W):W.clone?Q[ce]=kc(P[ce])?V6(P[ce]):P[ce]:Q[ce]=P[ce])}),Q}var G6={exports:{}},yk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mk=yk,xk=mk;function W6(){}function j6(){}j6.resetWarningCache=W6;var bk=function(){function o(Q,ce,me,B,N,e){if(e!==xk){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}o.isRequired=o;function P(){return o}var W={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:P,element:o,elementType:o,instanceOf:P,node:o,objectOf:P,oneOf:P,oneOfType:P,shape:P,exact:P,checkPropTypes:j6,resetWarningCache:W6};return W.PropTypes=W,W};G6.exports=bk();var wk=G6.exports;function bp(o){let P="https://mui.com/production-error/?code="+o;for(let W=1;W<arguments.length;W+=1)P+="&args[]="+encodeURIComponent(arguments[W]);return"Minified MUI error #"+o+"; visit "+P+" for the full message."}function Sa(o){if(typeof o!="string")throw new Error(bp(7));return o.charAt(0).toUpperCase()+o.slice(1)}function db(...o){return o.reduce((P,W)=>W==null?P:function(...ce){P.apply(this,ce),W.apply(this,ce)},()=>{})}function p1(o,P=166){let W;function Q(...ce){const me=()=>{o.apply(this,ce)};clearTimeout(W),W=setTimeout(me,P)}return Q.clear=()=>{clearTimeout(W)},Q}function Tk(o,P){return()=>null}function Y6(o,P){var W,Q;return Er.isValidElement(o)&&P.indexOf((W=o.type.muiName)!=null?W:(Q=o.type)==null||(Q=Q._payload)==null||(Q=Q.value)==null?void 0:Q.muiName)!==-1}function zl(o){return o&&o.ownerDocument||document}function Kh(o){return zl(o).defaultView||window}function Ak(o,P){return()=>null}function mm(o,P){typeof o=="function"?o(P):o&&(o.current=P)}const Sk=typeof window<"u"?Er.useLayoutEffect:Er.useEffect,Jv=Sk;let vA=0;function Mk(o){const[P,W]=Er.useState(o),Q=o||P;return Er.useEffect(()=>{P==null&&(vA+=1,W(`mui-${vA}`))},[P]),Q}const dA=By["useId".toString()];function Z6(o){if(dA!==void 0){const P=dA();return o??P}return Mk(o)}function Ek(o,P,W,Q,ce){return null}function X6({controlled:o,default:P,name:W,state:Q="value"}){const{current:ce}=Er.useRef(o!==void 0),[me,B]=Er.useState(P),N=ce?o:me,e=Er.useCallback(p=>{ce||B(p)},[]);return[N,e]}function Zf(o){const P=Er.useRef(o);return Jv(()=>{P.current=o}),Er.useRef((...W)=>(0,P.current)(...W)).current}function dl(...o){return Er.useMemo(()=>o.every(P=>P==null)?null:P=>{o.forEach(W=>{mm(W,P)})},o)}let g1=!0,pb=!1,pA;const Ck={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Lk(o){const{type:P,tagName:W}=o;return!!(W==="INPUT"&&Ck[P]&&!o.readOnly||W==="TEXTAREA"&&!o.readOnly||o.isContentEditable)}function Pk(o){o.metaKey||o.altKey||o.ctrlKey||(g1=!0)}function $x(){g1=!1}function Rk(){this.visibilityState==="hidden"&&pb&&(g1=!0)}function Dk(o){o.addEventListener("keydown",Pk,!0),o.addEventListener("mousedown",$x,!0),o.addEventListener("pointerdown",$x,!0),o.addEventListener("touchstart",$x,!0),o.addEventListener("visibilitychange",Rk,!0)}function Ik(o){const{target:P}=o;try{return P.matches(":focus-visible")}catch{}return g1||Lk(P)}function G3(){const o=Er.useCallback(ce=>{ce!=null&&Dk(ce.ownerDocument)},[]),P=Er.useRef(!1);function W(){return P.current?(pb=!0,window.clearTimeout(pA),pA=window.setTimeout(()=>{pb=!1},100),P.current=!1,!0):!1}function Q(ce){return Ik(ce)?(P.current=!0,!0):!1}return{isFocusVisibleRef:P,onFocus:Q,onBlur:W,ref:o}}function $6(o){const P=o.documentElement.clientWidth;return Math.abs(window.innerWidth-P)}let Id;function K6(){if(Id)return Id;const o=document.createElement("div"),P=document.createElement("div");return P.style.width="10px",P.style.height="1px",o.appendChild(P),o.dir="rtl",o.style.fontSize="14px",o.style.width="4px",o.style.height="1px",o.style.position="absolute",o.style.top="-1000px",o.style.overflow="scroll",document.body.appendChild(o),Id="reverse",o.scrollLeft>0?Id="default":(o.scrollLeft=1,o.scrollLeft===0&&(Id="negative")),document.body.removeChild(o),Id}function kk(o,P){const W=o.scrollLeft;if(P!=="rtl")return W;switch(K6()){case"negative":return o.scrollWidth-o.clientWidth+W;case"reverse":return o.scrollWidth-o.clientWidth-W;default:return W}}function W3(o,P){const W=Xr({},P);return Object.keys(o).forEach(Q=>{if(Q.toString().match(/^(components|slots)$/))W[Q]=Xr({},o[Q],W[Q]);else if(Q.toString().match(/^(componentsProps|slotProps)$/)){const ce=o[Q]||{},me=P[Q];W[Q]={},!me||!Object.keys(me)?W[Q]=ce:!ce||!Object.keys(ce)?W[Q]=me:(W[Q]=Xr({},me),Object.keys(ce).forEach(B=>{W[Q][B]=W3(ce[B],me[B])}))}else W[Q]===void 0&&(W[Q]=o[Q])}),W}function wi(o,P,W=void 0){const Q={};return Object.keys(o).forEach(ce=>{Q[ce]=o[ce].reduce((me,B)=>{if(B){const N=P(B);N!==""&&me.push(N),W&&W[B]&&me.push(W[B])}return me},[]).join(" ")}),Q}const gA=o=>o,Fk=()=>{let o=gA;return{configure(P){o=P},generate(P){return o(P)},reset(){o=gA}}},_k=Fk(),j3=_k,zk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mi(o,P,W="Mui"){const Q=zk[P];return Q?`${W}-${Q}`:`${j3.generate(o)}-${P}`}function di(o,P,W="Mui"){const Q={};return P.forEach(ce=>{Q[ce]=mi(o,ce,W)}),Q}const Qv="$$material";function J6(o){var P=Object.create(null);return function(W){return P[W]===void 0&&(P[W]=o(W)),P[W]}}var Ok=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Bk=J6(function(o){return Ok.test(o)||o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)<91});function Nk(o){if(o.sheet)return o.sheet;for(var P=0;P<document.styleSheets.length;P++)if(document.styleSheets[P].ownerNode===o)return document.styleSheets[P]}function Uk(o){var P=document.createElement("style");return P.setAttribute("data-emotion",o.key),o.nonce!==void 0&&P.setAttribute("nonce",o.nonce),P.appendChild(document.createTextNode("")),P.setAttribute("data-s",""),P}var Hk=function(){function o(W){var Q=this;this._insertTag=function(ce){var me;Q.tags.length===0?Q.insertionPoint?me=Q.insertionPoint.nextSibling:Q.prepend?me=Q.container.firstChild:me=Q.before:me=Q.tags[Q.tags.length-1].nextSibling,Q.container.insertBefore(ce,me),Q.tags.push(ce)},this.isSpeedy=W.speedy===void 0?!0:W.speedy,this.tags=[],this.ctr=0,this.nonce=W.nonce,this.key=W.key,this.container=W.container,this.prepend=W.prepend,this.insertionPoint=W.insertionPoint,this.before=null}var P=o.prototype;return P.hydrate=function(Q){Q.forEach(this._insertTag)},P.insert=function(Q){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Uk(this));var ce=this.tags[this.tags.length-1];if(this.isSpeedy){var me=Nk(ce);try{me.insertRule(Q,me.cssRules.length)}catch{}}else ce.appendChild(document.createTextNode(Q));this.ctr++},P.flush=function(){this.tags.forEach(function(Q){return Q.parentNode&&Q.parentNode.removeChild(Q)}),this.tags=[],this.ctr=0},o}(),$s="-ms-",xm="-moz-",Vi="-webkit-",Q6="comm",Y3="rule",Z3="decl",Vk="@import",q6="@keyframes",Gk="@layer",Wk=Math.abs,y1=String.fromCharCode,jk=Object.assign;function Yk(o,P){return Rs(o,0)^45?(((P<<2^Rs(o,0))<<2^Rs(o,1))<<2^Rs(o,2))<<2^Rs(o,3):0}function eE(o){return o.trim()}function Zk(o,P){return(o=P.exec(o))?o[0]:o}function Gi(o,P,W){return o.replace(P,W)}function gb(o,P){return o.indexOf(P)}function Rs(o,P){return o.charCodeAt(P)|0}function tg(o,P,W){return o.slice(P,W)}function Gf(o){return o.length}function X3(o){return o.length}function dy(o,P){return P.push(o),o}function Xk(o,P){return o.map(P).join("")}var m1=1,wp=1,tE=0,Ol=0,Qo=0,Dp="";function x1(o,P,W,Q,ce,me,B){return{value:o,root:P,parent:W,type:Q,props:ce,children:me,line:m1,column:wp,length:B,return:""}}function f0(o,P){return jk(x1("",null,null,"",null,null,0),o,{length:-o.length},P)}function $k(){return Qo}function Kk(){return Qo=Ol>0?Rs(Dp,--Ol):0,wp--,Qo===10&&(wp=1,m1--),Qo}function au(){return Qo=Ol<tE?Rs(Dp,Ol++):0,wp++,Qo===10&&(wp=1,m1++),Qo}function Qf(){return Rs(Dp,Ol)}function ky(){return Ol}function mg(o,P){return tg(Dp,o,P)}function rg(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rE(o){return m1=wp=1,tE=Gf(Dp=o),Ol=0,[]}function nE(o){return Dp="",o}function Fy(o){return eE(mg(Ol-1,yb(o===91?o+2:o===40?o+1:o)))}function Jk(o){for(;(Qo=Qf())&&Qo<33;)au();return rg(o)>2||rg(Qo)>3?"":" "}function Qk(o,P){for(;--P&&au()&&!(Qo<48||Qo>102||Qo>57&&Qo<65||Qo>70&&Qo<97););return mg(o,ky()+(P<6&&Qf()==32&&au()==32))}function yb(o){for(;au();)switch(Qo){case o:return Ol;case 34:case 39:o!==34&&o!==39&&yb(Qo);break;case 40:o===41&&yb(o);break;case 92:au();break}return Ol}function qk(o,P){for(;au()&&o+Qo!==47+10;)if(o+Qo===42+42&&Qf()===47)break;return"/*"+mg(P,Ol-1)+"*"+y1(o===47?o:au())}function eF(o){for(;!rg(Qf());)au();return mg(o,Ol)}function tF(o){return nE(_y("",null,null,null,[""],o=rE(o),0,[0],o))}function _y(o,P,W,Q,ce,me,B,N,e){for(var p=0,L=0,a=B,C=0,w=0,h=0,g=1,t=1,r=1,s=0,n="",l=ce,c=me,f=Q,m=n;t;)switch(h=s,s=au()){case 40:if(h!=108&&Rs(m,a-1)==58){gb(m+=Gi(Fy(s),"&","&\f"),"&\f")!=-1&&(r=-1);break}case 34:case 39:case 91:m+=Fy(s);break;case 9:case 10:case 13:case 32:m+=Jk(h);break;case 92:m+=Qk(ky()-1,7);continue;case 47:switch(Qf()){case 42:case 47:dy(rF(qk(au(),ky()),P,W),e);break;default:m+="/"}break;case 123*g:N[p++]=Gf(m)*r;case 125*g:case 59:case 0:switch(s){case 0:case 125:t=0;case 59+L:r==-1&&(m=Gi(m,/\f/g,"")),w>0&&Gf(m)-a&&dy(w>32?mA(m+";",Q,W,a-1):mA(Gi(m," ","")+";",Q,W,a-2),e);break;case 59:m+=";";default:if(dy(f=yA(m,P,W,p,L,ce,N,n,l=[],c=[],a),me),s===123)if(L===0)_y(m,P,f,f,l,me,a,N,c);else switch(C===99&&Rs(m,3)===110?100:C){case 100:case 108:case 109:case 115:_y(o,f,f,Q&&dy(yA(o,f,f,0,0,ce,N,n,ce,l=[],a),c),ce,c,a,N,Q?l:c);break;default:_y(m,f,f,f,[""],c,0,N,c)}}p=L=w=0,g=r=1,n=m="",a=B;break;case 58:a=1+Gf(m),w=h;default:if(g<1){if(s==123)--g;else if(s==125&&g++==0&&Kk()==125)continue}switch(m+=y1(s),s*g){case 38:r=L>0?1:(m+="\f",-1);break;case 44:N[p++]=(Gf(m)-1)*r,r=1;break;case 64:Qf()===45&&(m+=Fy(au())),C=Qf(),L=a=Gf(n=m+=eF(ky())),s++;break;case 45:h===45&&Gf(m)==2&&(g=0)}}return me}function yA(o,P,W,Q,ce,me,B,N,e,p,L){for(var a=ce-1,C=ce===0?me:[""],w=X3(C),h=0,g=0,t=0;h<Q;++h)for(var r=0,s=tg(o,a+1,a=Wk(g=B[h])),n=o;r<w;++r)(n=eE(g>0?C[r]+" "+s:Gi(s,/&\f/g,C[r])))&&(e[t++]=n);return x1(o,P,W,ce===0?Y3:N,e,p,L)}function rF(o,P,W){return x1(o,P,W,Q6,y1($k()),tg(o,2,-2),0)}function mA(o,P,W,Q){return x1(o,P,W,Z3,tg(o,0,Q),tg(o,Q+1,-1),Q)}function sp(o,P){for(var W="",Q=X3(o),ce=0;ce<Q;ce++)W+=P(o[ce],ce,o,P)||"";return W}function nF(o,P,W,Q){switch(o.type){case Gk:if(o.children.length)break;case Vk:case Z3:return o.return=o.return||o.value;case Q6:return"";case q6:return o.return=o.value+"{"+sp(o.children,Q)+"}";case Y3:o.value=o.props.join(",")}return Gf(W=sp(o.children,Q))?o.return=o.value+"{"+W+"}":""}function aF(o){var P=X3(o);return function(W,Q,ce,me){for(var B="",N=0;N<P;N++)B+=o[N](W,Q,ce,me)||"";return B}}function iF(o){return function(P){P.root||(P=P.return)&&o(P)}}var oF=function(P,W,Q){for(var ce=0,me=0;ce=me,me=Qf(),ce===38&&me===12&&(W[Q]=1),!rg(me);)au();return mg(P,Ol)},sF=function(P,W){var Q=-1,ce=44;do switch(rg(ce)){case 0:ce===38&&Qf()===12&&(W[Q]=1),P[Q]+=oF(Ol-1,W,Q);break;case 2:P[Q]+=Fy(ce);break;case 4:if(ce===44){P[++Q]=Qf()===58?"&\f":"",W[Q]=P[Q].length;break}default:P[Q]+=y1(ce)}while(ce=au());return P},lF=function(P,W){return nE(sF(rE(P),W))},xA=new WeakMap,uF=function(P){if(!(P.type!=="rule"||!P.parent||P.length<1)){for(var W=P.value,Q=P.parent,ce=P.column===Q.column&&P.line===Q.line;Q.type!=="rule";)if(Q=Q.parent,!Q)return;if(!(P.props.length===1&&W.charCodeAt(0)!==58&&!xA.get(Q))&&!ce){xA.set(P,!0);for(var me=[],B=lF(W,me),N=Q.props,e=0,p=0;e<B.length;e++)for(var L=0;L<N.length;L++,p++)P.props[p]=me[e]?B[e].replace(/&\f/g,N[L]):N[L]+" "+B[e]}}},fF=function(P){if(P.type==="decl"){var W=P.value;W.charCodeAt(0)===108&&W.charCodeAt(2)===98&&(P.return="",P.value="")}};function aE(o,P){switch(Yk(o,P)){case 5103:return Vi+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vi+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return Vi+o+xm+o+$s+o+o;case 6828:case 4268:return Vi+o+$s+o+o;case 6165:return Vi+o+$s+"flex-"+o+o;case 5187:return Vi+o+Gi(o,/(\w+).+(:[^]+)/,Vi+"box-$1$2"+$s+"flex-$1$2")+o;case 5443:return Vi+o+$s+"flex-item-"+Gi(o,/flex-|-self/,"")+o;case 4675:return Vi+o+$s+"flex-line-pack"+Gi(o,/align-content|flex-|-self/,"")+o;case 5548:return Vi+o+$s+Gi(o,"shrink","negative")+o;case 5292:return Vi+o+$s+Gi(o,"basis","preferred-size")+o;case 6060:return Vi+"box-"+Gi(o,"-grow","")+Vi+o+$s+Gi(o,"grow","positive")+o;case 4554:return Vi+Gi(o,/([^-])(transform)/g,"$1"+Vi+"$2")+o;case 6187:return Gi(Gi(Gi(o,/(zoom-|grab)/,Vi+"$1"),/(image-set)/,Vi+"$1"),o,"")+o;case 5495:case 3959:return Gi(o,/(image-set\([^]*)/,Vi+"$1$`$1");case 4968:return Gi(Gi(o,/(.+:)(flex-)?(.*)/,Vi+"box-pack:$3"+$s+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vi+o+o;case 4095:case 3583:case 4068:case 2532:return Gi(o,/(.+)-inline(.+)/,Vi+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gf(o)-1-P>6)switch(Rs(o,P+1)){case 109:if(Rs(o,P+4)!==45)break;case 102:return Gi(o,/(.+:)(.+)-([^]+)/,"$1"+Vi+"$2-$3$1"+xm+(Rs(o,P+3)==108?"$3":"$2-$3"))+o;case 115:return~gb(o,"stretch")?aE(Gi(o,"stretch","fill-available"),P)+o:o}break;case 4949:if(Rs(o,P+1)!==115)break;case 6444:switch(Rs(o,Gf(o)-3-(~gb(o,"!important")&&10))){case 107:return Gi(o,":",":"+Vi)+o;case 101:return Gi(o,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Vi+(Rs(o,14)===45?"inline-":"")+"box$3$1"+Vi+"$2$3$1"+$s+"$2box$3")+o}break;case 5936:switch(Rs(o,P+11)){case 114:return Vi+o+$s+Gi(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return Vi+o+$s+Gi(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return Vi+o+$s+Gi(o,/[svh]\w+-[tblr]{2}/,"lr")+o}return Vi+o+$s+o+o}return o}var cF=function(P,W,Q,ce){if(P.length>-1&&!P.return)switch(P.type){case Z3:P.return=aE(P.value,P.length);break;case q6:return sp([f0(P,{value:Gi(P.value,"@","@"+Vi)})],ce);case Y3:if(P.length)return Xk(P.props,function(me){switch(Zk(me,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return sp([f0(P,{props:[Gi(me,/:(read-\w+)/,":"+xm+"$1")]})],ce);case"::placeholder":return sp([f0(P,{props:[Gi(me,/:(plac\w+)/,":"+Vi+"input-$1")]}),f0(P,{props:[Gi(me,/:(plac\w+)/,":"+xm+"$1")]}),f0(P,{props:[Gi(me,/:(plac\w+)/,$s+"input-$1")]})],ce)}return""})}},hF=[cF],vF=function(P){var W=P.key;if(W==="css"){var Q=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(Q,function(g){var t=g.getAttribute("data-emotion");t.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var ce=P.stylisPlugins||hF,me={},B,N=[];B=P.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+W+' "]'),function(g){for(var t=g.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)me[t[r]]=!0;N.push(g)});var e,p=[uF,fF];{var L,a=[nF,iF(function(g){L.insert(g)})],C=aF(p.concat(ce,a)),w=function(t){return sp(tF(t),C)};e=function(t,r,s,n){L=s,w(t?t+"{"+r.styles+"}":r.styles),n&&(h.inserted[r.name]=!0)}}var h={key:W,sheet:new Hk({key:W,container:B,nonce:P.nonce,speedy:P.speedy,prepend:P.prepend,insertionPoint:P.insertionPoint}),nonce:P.nonce,inserted:me,registered:{},insert:e};return h.sheet.hydrate(N),h},dF=!0;function pF(o,P,W){var Q="";return W.split(" ").forEach(function(ce){o[ce]!==void 0?P.push(o[ce]+";"):Q+=ce+" "}),Q}var iE=function(P,W,Q){var ce=P.key+"-"+W.name;(Q===!1||dF===!1)&&P.registered[ce]===void 0&&(P.registered[ce]=W.styles)},oE=function(P,W,Q){iE(P,W,Q);var ce=P.key+"-"+W.name;if(P.inserted[W.name]===void 0){var me=W;do P.insert(W===me?"."+ce:"",me,P.sheet,!0),me=me.next;while(me!==void 0)}};function gF(o){for(var P=0,W,Q=0,ce=o.length;ce>=4;++Q,ce-=4)W=o.charCodeAt(Q)&255|(o.charCodeAt(++Q)&255)<<8|(o.charCodeAt(++Q)&255)<<16|(o.charCodeAt(++Q)&255)<<24,W=(W&65535)*1540483477+((W>>>16)*59797<<16),W^=W>>>24,P=(W&65535)*1540483477+((W>>>16)*59797<<16)^(P&65535)*1540483477+((P>>>16)*59797<<16);switch(ce){case 3:P^=(o.charCodeAt(Q+2)&255)<<16;case 2:P^=(o.charCodeAt(Q+1)&255)<<8;case 1:P^=o.charCodeAt(Q)&255,P=(P&65535)*1540483477+((P>>>16)*59797<<16)}return P^=P>>>13,P=(P&65535)*1540483477+((P>>>16)*59797<<16),((P^P>>>15)>>>0).toString(36)}var yF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mF=/[A-Z]|^ms/g,xF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,sE=function(P){return P.charCodeAt(1)===45},bA=function(P){return P!=null&&typeof P!="boolean"},Kx=J6(function(o){return sE(o)?o:o.replace(mF,"-$&").toLowerCase()}),wA=function(P,W){switch(P){case"animation":case"animationName":if(typeof W=="string")return W.replace(xF,function(Q,ce,me){return Wf={name:ce,styles:me,next:Wf},ce})}return yF[P]!==1&&!sE(P)&&typeof W=="number"&&W!==0?W+"px":W};function ng(o,P,W){if(W==null)return"";if(W.__emotion_styles!==void 0)return W;switch(typeof W){case"boolean":return"";case"object":{if(W.anim===1)return Wf={name:W.name,styles:W.styles,next:Wf},W.name;if(W.styles!==void 0){var Q=W.next;if(Q!==void 0)for(;Q!==void 0;)Wf={name:Q.name,styles:Q.styles,next:Wf},Q=Q.next;var ce=W.styles+";";return ce}return bF(o,P,W)}case"function":{if(o!==void 0){var me=Wf,B=W(o);return Wf=me,ng(o,P,B)}break}}if(P==null)return W;var N=P[W];return N!==void 0?N:W}function bF(o,P,W){var Q="";if(Array.isArray(W))for(var ce=0;ce<W.length;ce++)Q+=ng(o,P,W[ce])+";";else for(var me in W){var B=W[me];if(typeof B!="object")P!=null&&P[B]!==void 0?Q+=me+"{"+P[B]+"}":bA(B)&&(Q+=Kx(me)+":"+wA(me,B)+";");else if(Array.isArray(B)&&typeof B[0]=="string"&&(P==null||P[B[0]]===void 0))for(var N=0;N<B.length;N++)bA(B[N])&&(Q+=Kx(me)+":"+wA(me,B[N])+";");else{var e=ng(o,P,B);switch(me){case"animation":case"animationName":{Q+=Kx(me)+":"+e+";";break}default:Q+=me+"{"+e+"}"}}}return Q}var TA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Wf,$3=function(P,W,Q){if(P.length===1&&typeof P[0]=="object"&&P[0]!==null&&P[0].styles!==void 0)return P[0];var ce=!0,me="";Wf=void 0;var B=P[0];B==null||B.raw===void 0?(ce=!1,me+=ng(Q,W,B)):me+=B[0];for(var N=1;N<P.length;N++)me+=ng(Q,W,P[N]),ce&&(me+=B[N]);TA.lastIndex=0;for(var e="",p;(p=TA.exec(me))!==null;)e+="-"+p[1];var L=gF(me)+e;return{name:L,styles:me,next:Wf}},wF=function(P){return P()},lE=By["useInsertionEffect"]?By["useInsertionEffect"]:!1,TF=lE||wF,AA=lE||Er.useLayoutEffect,uE=Er.createContext(typeof HTMLElement<"u"?vF({key:"css"}):null);uE.Provider;var fE=function(P){return Er.forwardRef(function(W,Q){var ce=Er.useContext(uE);return P(W,ce,Q)})},b1=Er.createContext({}),AF=fE(function(o,P){var W=o.styles,Q=$3([W],void 0,Er.useContext(b1)),ce=Er.useRef();return AA(function(){var me=P.key+"-global",B=new P.sheet.constructor({key:me,nonce:P.sheet.nonce,container:P.sheet.container,speedy:P.sheet.isSpeedy}),N=!1,e=document.querySelector('style[data-emotion="'+me+" "+Q.name+'"]');return P.sheet.tags.length&&(B.before=P.sheet.tags[0]),e!==null&&(N=!0,e.setAttribute("data-emotion",me),B.hydrate([e])),ce.current=[B,N],function(){B.flush()}},[P]),AA(function(){var me=ce.current,B=me[0],N=me[1];if(N){me[1]=!1;return}if(Q.next!==void 0&&oE(P,Q.next,!0),B.tags.length){var e=B.tags[B.tags.length-1].nextElementSibling;B.before=e,B.flush()}P.insert("",Q,B,!1)},[P,Q.name]),null});function K3(){for(var o=arguments.length,P=new Array(o),W=0;W<o;W++)P[W]=arguments[W];return $3(P)}var xg=function(){var P=K3.apply(void 0,arguments),W="animation-"+P.name;return{name:W,styles:"@keyframes "+W+"{"+P.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},SF=Bk,MF=function(P){return P!=="theme"},SA=function(P){return typeof P=="string"&&P.charCodeAt(0)>96?SF:MF},MA=function(P,W,Q){var ce;if(W){var me=W.shouldForwardProp;ce=P.__emotion_forwardProp&&me?function(B){return P.__emotion_forwardProp(B)&&me(B)}:me}return typeof ce!="function"&&Q&&(ce=P.__emotion_forwardProp),ce},EF=function(P){var W=P.cache,Q=P.serialized,ce=P.isStringTag;return iE(W,Q,ce),TF(function(){return oE(W,Q,ce)}),null},CF=function o(P,W){var Q=P.__emotion_real===P,ce=Q&&P.__emotion_base||P,me,B;W!==void 0&&(me=W.label,B=W.target);var N=MA(P,W,Q),e=N||SA(ce),p=!e("as");return function(){var L=arguments,a=Q&&P.__emotion_styles!==void 0?P.__emotion_styles.slice(0):[];if(me!==void 0&&a.push("label:"+me+";"),L[0]==null||L[0].raw===void 0)a.push.apply(a,L);else{a.push(L[0][0]);for(var C=L.length,w=1;w<C;w++)a.push(L[w],L[0][w])}var h=fE(function(g,t,r){var s=p&&g.as||ce,n="",l=[],c=g;if(g.theme==null){c={};for(var f in g)c[f]=g[f];c.theme=Er.useContext(b1)}typeof g.className=="string"?n=pF(t.registered,l,g.className):g.className!=null&&(n=g.className+" ");var m=$3(a.concat(l),t.registered,c);n+=t.key+"-"+m.name,B!==void 0&&(n+=" "+B);var v=p&&N===void 0?SA(s):e,A={};for(var d in g)p&&d==="as"||v(d)&&(A[d]=g[d]);return A.className=n,A.ref=r,Er.createElement(Er.Fragment,null,Er.createElement(EF,{cache:t,serialized:m,isStringTag:typeof s=="string"}),Er.createElement(s,A))});return h.displayName=me!==void 0?me:"Styled("+(typeof ce=="string"?ce:ce.displayName||ce.name||"Component")+")",h.defaultProps=P.defaultProps,h.__emotion_real=h,h.__emotion_base=ce,h.__emotion_styles=a,h.__emotion_forwardProp=N,Object.defineProperty(h,"toString",{value:function(){return"."+B}}),h.withComponent=function(g,t){return o(g,Xr({},W,t,{shouldForwardProp:MA(h,t,!0)})).apply(void 0,a)},h}},LF=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],mb=CF.bind();LF.forEach(function(o){mb[o]=mb(o)});function PF(o){return o==null||Object.keys(o).length===0}function RF(o){const{styles:P,defaultTheme:W={}}=o,Q=typeof P=="function"?ce=>P(PF(ce)?W:ce):P;return Or.jsx(AF,{styles:Q})}/**
 * @mui/styled-engine v5.14.20
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function cE(o,P){return mb(o,P)}const DF=(o,P)=>{Array.isArray(o.__emotion_styles)&&(o.__emotion_styles=P(o.__emotion_styles))},IF=["values","unit","step"],kF=o=>{const P=Object.keys(o).map(W=>({key:W,val:o[W]}))||[];return P.sort((W,Q)=>W.val-Q.val),P.reduce((W,Q)=>Xr({},W,{[Q.key]:Q.val}),{})};function FF(o){const{values:P={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:W="px",step:Q=5}=o,ce=Xa(o,IF),me=kF(P),B=Object.keys(me);function N(C){return`@media (min-width:${typeof P[C]=="number"?P[C]:C}${W})`}function e(C){return`@media (max-width:${(typeof P[C]=="number"?P[C]:C)-Q/100}${W})`}function p(C,w){const h=B.indexOf(w);return`@media (min-width:${typeof P[C]=="number"?P[C]:C}${W}) and (max-width:${(h!==-1&&typeof P[B[h]]=="number"?P[B[h]]:w)-Q/100}${W})`}function L(C){return B.indexOf(C)+1<B.length?p(C,B[B.indexOf(C)+1]):N(C)}function a(C){const w=B.indexOf(C);return w===0?N(B[1]):w===B.length-1?e(B[w]):p(C,B[B.indexOf(C)+1]).replace("@media","@media not all and")}return Xr({keys:B,values:me,up:N,down:e,between:p,only:L,not:a,unit:W},ce)}const _F={borderRadius:4},zF=_F;function D0(o,P){return P?nu(o,P,{clone:!1}):o}const J3={xs:0,sm:600,md:900,lg:1200,xl:1536},EA={keys:["xs","sm","md","lg","xl"],up:o=>`@media (min-width:${J3[o]}px)`};function Bl(o,P,W){const Q=o.theme||{};if(Array.isArray(P)){const me=Q.breakpoints||EA;return P.reduce((B,N,e)=>(B[me.up(me.keys[e])]=W(P[e]),B),{})}if(typeof P=="object"){const me=Q.breakpoints||EA;return Object.keys(P).reduce((B,N)=>{if(Object.keys(me.values||J3).indexOf(N)!==-1){const e=me.up(N);B[e]=W(P[N],N)}else{const e=N;B[e]=P[e]}return B},{})}return W(P)}function hE(o={}){var P;return((P=o.keys)==null?void 0:P.reduce((Q,ce)=>{const me=o.up(ce);return Q[me]={},Q},{}))||{}}function vE(o,P){return o.reduce((W,Q)=>{const ce=W[Q];return(!ce||Object.keys(ce).length===0)&&delete W[Q],W},P)}function OF(o,...P){const W=hE(o),Q=[W,...P].reduce((ce,me)=>nu(ce,me),{});return vE(Object.keys(W),Q)}function BF(o,P){if(typeof o!="object")return{};const W={},Q=Object.keys(P);return Array.isArray(o)?Q.forEach((ce,me)=>{me<o.length&&(W[ce]=!0)}):Q.forEach(ce=>{o[ce]!=null&&(W[ce]=!0)}),W}function Wv({values:o,breakpoints:P,base:W}){const Q=W||BF(o,P),ce=Object.keys(Q);if(ce.length===0)return o;let me;return ce.reduce((B,N,e)=>(Array.isArray(o)?(B[N]=o[e]!=null?o[e]:o[me],me=e):typeof o=="object"?(B[N]=o[N]!=null?o[N]:o[me],me=N):B[N]=o,B),{})}function Tp(o,P,W=!0){if(!P||typeof P!="string")return null;if(o&&o.vars&&W){const Q=`vars.${P}`.split(".").reduce((ce,me)=>ce&&ce[me]?ce[me]:null,o);if(Q!=null)return Q}return P.split(".").reduce((Q,ce)=>Q&&Q[ce]!=null?Q[ce]:null,o)}function bm(o,P,W,Q=W){let ce;return typeof o=="function"?ce=o(W):Array.isArray(o)?ce=o[W]||Q:ce=Tp(o,W)||Q,P&&(ce=P(ce,Q,o)),ce}function Wo(o){const{prop:P,cssProperty:W=o.prop,themeKey:Q,transform:ce}=o,me=B=>{if(B[P]==null)return null;const N=B[P],e=B.theme,p=Tp(e,Q)||{};return Bl(B,N,a=>{let C=bm(p,ce,a);return a===C&&typeof a=="string"&&(C=bm(p,ce,`${P}${a==="default"?"":Sa(a)}`,a)),W===!1?C:{[W]:C}})};return me.propTypes={},me.filterProps=[P],me}function NF(o){const P={};return W=>(P[W]===void 0&&(P[W]=o(W)),P[W])}const UF={m:"margin",p:"padding"},HF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},CA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},VF=NF(o=>{if(o.length>2)if(CA[o])o=CA[o];else return[o];const[P,W]=o.split(""),Q=UF[P],ce=HF[W]||"";return Array.isArray(ce)?ce.map(me=>Q+me):[Q+ce]}),Q3=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],q3=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Q3,...q3];function bg(o,P,W,Q){var ce;const me=(ce=Tp(o,P,!1))!=null?ce:W;return typeof me=="number"?B=>typeof B=="string"?B:me*B:Array.isArray(me)?B=>typeof B=="string"?B:me[B]:typeof me=="function"?me:()=>{}}function ew(o){return bg(o,"spacing",8)}function qv(o,P){if(typeof P=="string"||P==null)return P;const W=Math.abs(P),Q=o(W);return P>=0?Q:typeof Q=="number"?-Q:`-${Q}`}function GF(o,P){return W=>o.reduce((Q,ce)=>(Q[ce]=qv(P,W),Q),{})}function WF(o,P,W,Q){if(P.indexOf(W)===-1)return null;const ce=VF(W),me=GF(ce,Q),B=o[W];return Bl(o,B,me)}function dE(o,P){const W=ew(o.theme);return Object.keys(o).map(Q=>WF(o,P,Q,W)).reduce(D0,{})}function Fo(o){return dE(o,Q3)}Fo.propTypes={};Fo.filterProps=Q3;function _o(o){return dE(o,q3)}_o.propTypes={};_o.filterProps=q3;function jF(o=8){if(o.mui)return o;const P=ew({spacing:o}),W=(...Q)=>(Q.length===0?[1]:Q).map(me=>{const B=P(me);return typeof B=="number"?`${B}px`:B}).join(" ");return W.mui=!0,W}function w1(...o){const P=o.reduce((Q,ce)=>(ce.filterProps.forEach(me=>{Q[me]=ce}),Q),{}),W=Q=>Object.keys(Q).reduce((ce,me)=>P[me]?D0(ce,P[me](Q)):ce,{});return W.propTypes={},W.filterProps=o.reduce((Q,ce)=>Q.concat(ce.filterProps),[]),W}function Du(o){return typeof o!="number"?o:`${o}px solid`}function Bu(o,P){return Wo({prop:o,themeKey:"borders",transform:P})}const YF=Bu("border",Du),ZF=Bu("borderTop",Du),XF=Bu("borderRight",Du),$F=Bu("borderBottom",Du),KF=Bu("borderLeft",Du),JF=Bu("borderColor"),QF=Bu("borderTopColor"),qF=Bu("borderRightColor"),e_=Bu("borderBottomColor"),t_=Bu("borderLeftColor"),r_=Bu("outline",Du),n_=Bu("outlineColor"),T1=o=>{if(o.borderRadius!==void 0&&o.borderRadius!==null){const P=bg(o.theme,"shape.borderRadius",4),W=Q=>({borderRadius:qv(P,Q)});return Bl(o,o.borderRadius,W)}return null};T1.propTypes={};T1.filterProps=["borderRadius"];w1(YF,ZF,XF,$F,KF,JF,QF,qF,e_,t_,T1,r_,n_);const A1=o=>{if(o.gap!==void 0&&o.gap!==null){const P=bg(o.theme,"spacing",8),W=Q=>({gap:qv(P,Q)});return Bl(o,o.gap,W)}return null};A1.propTypes={};A1.filterProps=["gap"];const S1=o=>{if(o.columnGap!==void 0&&o.columnGap!==null){const P=bg(o.theme,"spacing",8),W=Q=>({columnGap:qv(P,Q)});return Bl(o,o.columnGap,W)}return null};S1.propTypes={};S1.filterProps=["columnGap"];const M1=o=>{if(o.rowGap!==void 0&&o.rowGap!==null){const P=bg(o.theme,"spacing",8),W=Q=>({rowGap:qv(P,Q)});return Bl(o,o.rowGap,W)}return null};M1.propTypes={};M1.filterProps=["rowGap"];const a_=Wo({prop:"gridColumn"}),i_=Wo({prop:"gridRow"}),o_=Wo({prop:"gridAutoFlow"}),s_=Wo({prop:"gridAutoColumns"}),l_=Wo({prop:"gridAutoRows"}),u_=Wo({prop:"gridTemplateColumns"}),f_=Wo({prop:"gridTemplateRows"}),c_=Wo({prop:"gridTemplateAreas"}),h_=Wo({prop:"gridArea"});w1(A1,S1,M1,a_,i_,o_,s_,l_,u_,f_,c_,h_);function lp(o,P){return P==="grey"?P:o}const v_=Wo({prop:"color",themeKey:"palette",transform:lp}),d_=Wo({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:lp}),p_=Wo({prop:"backgroundColor",themeKey:"palette",transform:lp});w1(v_,d_,p_);function eu(o){return o<=1&&o!==0?`${o*100}%`:o}const g_=Wo({prop:"width",transform:eu}),tw=o=>{if(o.maxWidth!==void 0&&o.maxWidth!==null){const P=W=>{var Q,ce;const me=((Q=o.theme)==null||(Q=Q.breakpoints)==null||(Q=Q.values)==null?void 0:Q[W])||J3[W];return me?((ce=o.theme)==null||(ce=ce.breakpoints)==null?void 0:ce.unit)!=="px"?{maxWidth:`${me}${o.theme.breakpoints.unit}`}:{maxWidth:me}:{maxWidth:eu(W)}};return Bl(o,o.maxWidth,P)}return null};tw.filterProps=["maxWidth"];const y_=Wo({prop:"minWidth",transform:eu}),m_=Wo({prop:"height",transform:eu}),x_=Wo({prop:"maxHeight",transform:eu}),b_=Wo({prop:"minHeight",transform:eu});Wo({prop:"size",cssProperty:"width",transform:eu});Wo({prop:"size",cssProperty:"height",transform:eu});const w_=Wo({prop:"boxSizing"});w1(g_,tw,y_,m_,x_,b_,w_);const T_={border:{themeKey:"borders",transform:Du},borderTop:{themeKey:"borders",transform:Du},borderRight:{themeKey:"borders",transform:Du},borderBottom:{themeKey:"borders",transform:Du},borderLeft:{themeKey:"borders",transform:Du},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Du},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:T1},color:{themeKey:"palette",transform:lp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:lp},backgroundColor:{themeKey:"palette",transform:lp},p:{style:_o},pt:{style:_o},pr:{style:_o},pb:{style:_o},pl:{style:_o},px:{style:_o},py:{style:_o},padding:{style:_o},paddingTop:{style:_o},paddingRight:{style:_o},paddingBottom:{style:_o},paddingLeft:{style:_o},paddingX:{style:_o},paddingY:{style:_o},paddingInline:{style:_o},paddingInlineStart:{style:_o},paddingInlineEnd:{style:_o},paddingBlock:{style:_o},paddingBlockStart:{style:_o},paddingBlockEnd:{style:_o},m:{style:Fo},mt:{style:Fo},mr:{style:Fo},mb:{style:Fo},ml:{style:Fo},mx:{style:Fo},my:{style:Fo},margin:{style:Fo},marginTop:{style:Fo},marginRight:{style:Fo},marginBottom:{style:Fo},marginLeft:{style:Fo},marginX:{style:Fo},marginY:{style:Fo},marginInline:{style:Fo},marginInlineStart:{style:Fo},marginInlineEnd:{style:Fo},marginBlock:{style:Fo},marginBlockStart:{style:Fo},marginBlockEnd:{style:Fo},displayPrint:{cssProperty:!1,transform:o=>({"@media print":{display:o}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:A1},rowGap:{style:M1},columnGap:{style:S1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:eu},maxWidth:{style:tw},minWidth:{transform:eu},height:{transform:eu},maxHeight:{transform:eu},minHeight:{transform:eu},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},E1=T_;function A_(...o){const P=o.reduce((Q,ce)=>Q.concat(Object.keys(ce)),[]),W=new Set(P);return o.every(Q=>W.size===Object.keys(Q).length)}function S_(o,P){return typeof o=="function"?o(P):o}function M_(){function o(W,Q,ce,me){const B={[W]:Q,theme:ce},N=me[W];if(!N)return{[W]:Q};const{cssProperty:e=W,themeKey:p,transform:L,style:a}=N;if(Q==null)return null;if(p==="typography"&&Q==="inherit")return{[W]:Q};const C=Tp(ce,p)||{};return a?a(B):Bl(B,Q,h=>{let g=bm(C,L,h);return h===g&&typeof h=="string"&&(g=bm(C,L,`${W}${h==="default"?"":Sa(h)}`,h)),e===!1?g:{[e]:g}})}function P(W){var Q;const{sx:ce,theme:me={}}=W||{};if(!ce)return null;const B=(Q=me.unstable_sxConfig)!=null?Q:E1;function N(e){let p=e;if(typeof e=="function")p=e(me);else if(typeof e!="object")return e;if(!p)return null;const L=hE(me.breakpoints),a=Object.keys(L);let C=L;return Object.keys(p).forEach(w=>{const h=S_(p[w],me);if(h!=null)if(typeof h=="object")if(B[w])C=D0(C,o(w,h,me,B));else{const g=Bl({theme:me},h,t=>({[w]:t}));A_(g,h)?C[w]=P({sx:h,theme:me}):C=D0(C,g)}else C=D0(C,o(w,h,me,B))}),vE(a,C)}return Array.isArray(ce)?ce.map(N):N(ce)}return P}const pE=M_();pE.filterProps=["sx"];const C1=pE,E_=["breakpoints","palette","spacing","shape"];function wg(o={},...P){const{breakpoints:W={},palette:Q={},spacing:ce,shape:me={}}=o,B=Xa(o,E_),N=FF(W),e=jF(ce);let p=nu({breakpoints:N,direction:"ltr",components:{},palette:Xr({mode:"light"},Q),spacing:e,shape:Xr({},zF,me)},B);return p=P.reduce((L,a)=>nu(L,a),p),p.unstable_sxConfig=Xr({},E1,B==null?void 0:B.unstable_sxConfig),p.unstable_sx=function(a){return C1({sx:a,theme:this})},p}function C_(o){return Object.keys(o).length===0}function gE(o=null){const P=Er.useContext(b1);return!P||C_(P)?o:P}const L_=wg();function L1(o=L_){return gE(o)}function P_({styles:o,themeId:P,defaultTheme:W={}}){const Q=L1(W),ce=typeof o=="function"?o(P&&Q[P]||Q):o;return Or.jsx(RF,{styles:ce})}const R_=["sx"],D_=o=>{var P,W;const Q={systemProps:{},otherProps:{}},ce=(P=o==null||(W=o.theme)==null?void 0:W.unstable_sxConfig)!=null?P:E1;return Object.keys(o).forEach(me=>{ce[me]?Q.systemProps[me]=o[me]:Q.otherProps[me]=o[me]}),Q};function P1(o){const{sx:P}=o,W=Xa(o,R_),{systemProps:Q,otherProps:ce}=D_(W);let me;return Array.isArray(P)?me=[Q,...P]:typeof P=="function"?me=(...B)=>{const N=P(...B);return kc(N)?Xr({},Q,N):Q}:me=Xr({},Q,P),Xr({},ce,{sx:me})}function yE(o){var P,W,Q="";if(typeof o=="string"||typeof o=="number")Q+=o;else if(typeof o=="object")if(Array.isArray(o))for(P=0;P<o.length;P++)o[P]&&(W=yE(o[P]))&&(Q&&(Q+=" "),Q+=W);else for(P in o)o[P]&&(Q&&(Q+=" "),Q+=P);return Q}function Oa(){for(var o,P,W=0,Q="";W<arguments.length;)(o=arguments[W++])&&(P=yE(o))&&(Q&&(Q+=" "),Q+=P);return Q}const I_=["className","component"];function k_(o={}){const{themeId:P,defaultTheme:W,defaultClassName:Q="MuiBox-root",generateClassName:ce}=o,me=cE("div",{shouldForwardProp:N=>N!=="theme"&&N!=="sx"&&N!=="as"})(C1);return Er.forwardRef(function(e,p){const L=L1(W),a=P1(e),{className:C,component:w="div"}=a,h=Xa(a,I_);return Or.jsx(me,Xr({as:w,ref:p,className:Oa(C,ce?ce(Q):Q),theme:P&&L[P]||L},h))})}const F_=["variant"];function LA(o){return o.length===0}function mE(o){const{variant:P}=o,W=Xa(o,F_);let Q=P||"";return Object.keys(W).sort().forEach(ce=>{ce==="color"?Q+=LA(Q)?o[ce]:Sa(o[ce]):Q+=`${LA(Q)?ce:Sa(ce)}${Sa(o[ce].toString())}`}),Q}const __=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function z_(o){return Object.keys(o).length===0}function O_(o){return typeof o=="string"&&o.charCodeAt(0)>96}const B_=(o,P)=>P.components&&P.components[o]&&P.components[o].styleOverrides?P.components[o].styleOverrides:null,wm=o=>{const P={};return o&&o.forEach(W=>{const Q=mE(W.props);P[Q]=W.style}),P},N_=(o,P)=>{let W=[];return P&&P.components&&P.components[o]&&P.components[o].variants&&(W=P.components[o].variants),wm(W)},Tm=(o,P,W)=>{const{ownerState:Q={}}=o,ce=[];return W&&W.forEach(me=>{let B=!0;Object.keys(me.props).forEach(N=>{Q[N]!==me.props[N]&&o[N]!==me.props[N]&&(B=!1)}),B&&ce.push(P[mE(me.props)])}),ce},U_=(o,P,W,Q)=>{var ce;const me=W==null||(ce=W.components)==null||(ce=ce[Q])==null?void 0:ce.variants;return Tm(o,P,me)};function zy(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}const H_=wg(),V_=o=>o&&o.charAt(0).toLowerCase()+o.slice(1);function Oy({defaultTheme:o,theme:P,themeId:W}){return z_(P)?o:P[W]||P}function G_(o){return o?(P,W)=>W[o]:null}const PA=({styledArg:o,props:P,defaultTheme:W,themeId:Q})=>{const ce=o(Xr({},P,{theme:Oy(Xr({},P,{defaultTheme:W,themeId:Q}))}));let me;if(ce&&ce.variants&&(me=ce.variants,delete ce.variants),me){const B=Tm(P,wm(me),me);return[ce,...B]}return ce};function xE(o={}){const{themeId:P,defaultTheme:W=H_,rootShouldForwardProp:Q=zy,slotShouldForwardProp:ce=zy}=o,me=B=>C1(Xr({},B,{theme:Oy(Xr({},B,{defaultTheme:W,themeId:P}))}));return me.__mui_systemSx=!0,(B,N={})=>{DF(B,l=>l.filter(c=>!(c!=null&&c.__mui_systemSx)));const{name:e,slot:p,skipVariantsResolver:L,skipSx:a,overridesResolver:C=G_(V_(p))}=N,w=Xa(N,__),h=L!==void 0?L:p&&p!=="Root"&&p!=="root"||!1,g=a||!1;let t,r=zy;p==="Root"||p==="root"?r=Q:p?r=ce:O_(B)&&(r=void 0);const s=cE(B,Xr({shouldForwardProp:r,label:t},w)),n=(l,...c)=>{const f=c?c.map(d=>{if(typeof d=="function"&&d.__emotion_real!==d)return u=>PA({styledArg:d,props:u,defaultTheme:W,themeId:P});if(kc(d)){let u=d,y;return d&&d.variants&&(y=d.variants,delete u.variants,u=M=>{let S=d;return Tm(M,wm(y),y).forEach(x=>{S=nu(S,x)}),S}),u}return d}):[];let m=l;if(kc(l)){let d;l&&l.variants&&(d=l.variants,delete m.variants,m=u=>{let y=l;return Tm(u,wm(d),d).forEach(S=>{y=nu(y,S)}),y})}else typeof l=="function"&&l.__emotion_real!==l&&(m=d=>PA({styledArg:l,props:d,defaultTheme:W,themeId:P}));e&&C&&f.push(d=>{const u=Oy(Xr({},d,{defaultTheme:W,themeId:P})),y=B_(e,u);if(y){const M={};return Object.entries(y).forEach(([S,R])=>{M[S]=typeof R=="function"?R(Xr({},d,{theme:u})):R}),C(d,M)}return null}),e&&!h&&f.push(d=>{const u=Oy(Xr({},d,{defaultTheme:W,themeId:P}));return U_(d,N_(e,u),u,e)}),g||f.push(me);const v=f.length-c.length;if(Array.isArray(l)&&v>0){const d=new Array(v).fill("");m=[...l,...d],m.raw=[...l.raw,...d]}const A=s(m,...f);return B.muiName&&(A.muiName=B.muiName),A};return s.withConfig&&(n.withConfig=s.withConfig),n}}const W_=xE(),bE=W_;function j_(o){const{theme:P,name:W,props:Q}=o;return!P||!P.components||!P.components[W]||!P.components[W].defaultProps?Q:W3(P.components[W].defaultProps,Q)}function rw({props:o,name:P,defaultTheme:W,themeId:Q}){let ce=L1(W);return Q&&(ce=ce[Q]||ce),j_({theme:ce,name:P,props:o})}function nw(o,P=0,W=1){return Math.min(Math.max(P,o),W)}function Y_(o){o=o.slice(1);const P=new RegExp(`.{1,${o.length>=6?2:1}}`,"g");let W=o.match(P);return W&&W[0].length===1&&(W=W.map(Q=>Q+Q)),W?`rgb${W.length===4?"a":""}(${W.map((Q,ce)=>ce<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function ed(o){if(o.type)return o;if(o.charAt(0)==="#")return ed(Y_(o));const P=o.indexOf("("),W=o.substring(0,P);if(["rgb","rgba","hsl","hsla","color"].indexOf(W)===-1)throw new Error(bp(9,o));let Q=o.substring(P+1,o.length-1),ce;if(W==="color"){if(Q=Q.split(" "),ce=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(ce)===-1)throw new Error(bp(10,ce))}else Q=Q.split(",");return Q=Q.map(me=>parseFloat(me)),{type:W,values:Q,colorSpace:ce}}function R1(o){const{type:P,colorSpace:W}=o;let{values:Q}=o;return P.indexOf("rgb")!==-1?Q=Q.map((ce,me)=>me<3?parseInt(ce,10):ce):P.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),P.indexOf("color")!==-1?Q=`${W} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${P}(${Q})`}function Z_(o){o=ed(o);const{values:P}=o,W=P[0],Q=P[1]/100,ce=P[2]/100,me=Q*Math.min(ce,1-ce),B=(p,L=(p+W/30)%12)=>ce-me*Math.max(Math.min(L-3,9-L,1),-1);let N="rgb";const e=[Math.round(B(0)*255),Math.round(B(8)*255),Math.round(B(4)*255)];return o.type==="hsla"&&(N+="a",e.push(P[3])),R1({type:N,values:e})}function RA(o){o=ed(o);let P=o.type==="hsl"||o.type==="hsla"?ed(Z_(o)).values:o.values;return P=P.map(W=>(o.type!=="color"&&(W/=255),W<=.03928?W/12.92:((W+.055)/1.055)**2.4)),Number((.2126*P[0]+.7152*P[1]+.0722*P[2]).toFixed(3))}function X_(o,P){const W=RA(o),Q=RA(P);return(Math.max(W,Q)+.05)/(Math.min(W,Q)+.05)}function yo(o,P){return o=ed(o),P=nw(P),(o.type==="rgb"||o.type==="hsl")&&(o.type+="a"),o.type==="color"?o.values[3]=`/${P}`:o.values[3]=P,R1(o)}function xb(o,P){if(o=ed(o),P=nw(P),o.type.indexOf("hsl")!==-1)o.values[2]*=1-P;else if(o.type.indexOf("rgb")!==-1||o.type.indexOf("color")!==-1)for(let W=0;W<3;W+=1)o.values[W]*=1-P;return R1(o)}function bb(o,P){if(o=ed(o),P=nw(P),o.type.indexOf("hsl")!==-1)o.values[2]+=(100-o.values[2])*P;else if(o.type.indexOf("rgb")!==-1)for(let W=0;W<3;W+=1)o.values[W]+=(255-o.values[W])*P;else if(o.type.indexOf("color")!==-1)for(let W=0;W<3;W+=1)o.values[W]+=(1-o.values[W])*P;return R1(o)}const $_=Er.createContext(null),wE=$_;function TE(){return Er.useContext(wE)}const K_=typeof Symbol=="function"&&Symbol.for,J_=K_?Symbol.for("mui.nested"):"__THEME_NESTED__";function Q_(o,P){return typeof P=="function"?P(o):Xr({},o,P)}function q_(o){const{children:P,theme:W}=o,Q=TE(),ce=Er.useMemo(()=>{const me=Q===null?W:Q_(Q,W);return me!=null&&(me[J_]=Q!==null),me},[W,Q]);return Or.jsx(wE.Provider,{value:ce,children:P})}const DA={};function IA(o,P,W,Q=!1){return Er.useMemo(()=>{const ce=o&&P[o]||P;if(typeof W=="function"){const me=W(ce),B=o?Xr({},P,{[o]:me}):me;return Q?()=>B:B}return o?Xr({},P,{[o]:W}):Xr({},P,W)},[o,P,W,Q])}function ez(o){const{children:P,theme:W,themeId:Q}=o,ce=gE(DA),me=TE()||DA,B=IA(Q,ce,W),N=IA(Q,me,W,!0);return Or.jsx(q_,{theme:N,children:Or.jsx(b1.Provider,{value:B,children:P})})}const tz=["className","component","disableGutters","fixed","maxWidth","classes"],rz=wg(),nz=bE("div",{name:"MuiContainer",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,P[`maxWidth${Sa(String(W.maxWidth))}`],W.fixed&&P.fixed,W.disableGutters&&P.disableGutters]}}),az=o=>rw({props:o,name:"MuiContainer",defaultTheme:rz}),iz=(o,P)=>{const W=e=>mi(P,e),{classes:Q,fixed:ce,disableGutters:me,maxWidth:B}=o,N={root:["root",B&&`maxWidth${Sa(String(B))}`,ce&&"fixed",me&&"disableGutters"]};return wi(N,W,Q)};function oz(o={}){const{createStyledComponent:P=nz,useThemeProps:W=az,componentName:Q="MuiContainer"}=o,ce=P(({theme:B,ownerState:N})=>Xr({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!N.disableGutters&&{paddingLeft:B.spacing(2),paddingRight:B.spacing(2),[B.breakpoints.up("sm")]:{paddingLeft:B.spacing(3),paddingRight:B.spacing(3)}}),({theme:B,ownerState:N})=>N.fixed&&Object.keys(B.breakpoints.values).reduce((e,p)=>{const L=p,a=B.breakpoints.values[L];return a!==0&&(e[B.breakpoints.up(L)]={maxWidth:`${a}${B.breakpoints.unit}`}),e},{}),({theme:B,ownerState:N})=>Xr({},N.maxWidth==="xs"&&{[B.breakpoints.up("xs")]:{maxWidth:Math.max(B.breakpoints.values.xs,444)}},N.maxWidth&&N.maxWidth!=="xs"&&{[B.breakpoints.up(N.maxWidth)]:{maxWidth:`${B.breakpoints.values[N.maxWidth]}${B.breakpoints.unit}`}}));return Er.forwardRef(function(N,e){const p=W(N),{className:L,component:a="div",disableGutters:C=!1,fixed:w=!1,maxWidth:h="lg"}=p,g=Xa(p,tz),t=Xr({},p,{component:a,disableGutters:C,fixed:w,maxWidth:h}),r=iz(t,Q);return Or.jsx(ce,Xr({as:a,ownerState:t,className:Oa(r.root,L),ref:e},g))})}const sz=["component","direction","spacing","divider","children","className","useFlexGap"],lz=wg(),uz=bE("div",{name:"MuiStack",slot:"Root",overridesResolver:(o,P)=>P.root});function fz(o){return rw({props:o,name:"MuiStack",defaultTheme:lz})}function cz(o,P){const W=Er.Children.toArray(o).filter(Boolean);return W.reduce((Q,ce,me)=>(Q.push(ce),me<W.length-1&&Q.push(Er.cloneElement(P,{key:`separator-${me}`})),Q),[])}const hz=o=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[o],vz=({ownerState:o,theme:P})=>{let W=Xr({display:"flex",flexDirection:"column"},Bl({theme:P},Wv({values:o.direction,breakpoints:P.breakpoints.values}),Q=>({flexDirection:Q})));if(o.spacing){const Q=ew(P),ce=Object.keys(P.breakpoints.values).reduce((e,p)=>((typeof o.spacing=="object"&&o.spacing[p]!=null||typeof o.direction=="object"&&o.direction[p]!=null)&&(e[p]=!0),e),{}),me=Wv({values:o.direction,base:ce}),B=Wv({values:o.spacing,base:ce});typeof me=="object"&&Object.keys(me).forEach((e,p,L)=>{if(!me[e]){const C=p>0?me[L[p-1]]:"column";me[e]=C}}),W=nu(W,Bl({theme:P},B,(e,p)=>o.useFlexGap?{gap:qv(Q,e)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${hz(p?me[p]:o.direction)}`]:qv(Q,e)}}))}return W=OF(P.breakpoints,W),W};function dz(o={}){const{createStyledComponent:P=uz,useThemeProps:W=fz,componentName:Q="MuiStack"}=o,ce=()=>wi({root:["root"]},e=>mi(Q,e),{}),me=P(vz);return Er.forwardRef(function(e,p){const L=W(e),a=P1(L),{component:C="div",direction:w="column",spacing:h=0,divider:g,children:t,className:r,useFlexGap:s=!1}=a,n=Xa(a,sz),l={direction:w,spacing:h,useFlexGap:s},c=ce();return Or.jsx(me,Xr({as:C,ownerState:l,ref:p,className:Oa(c.root,r)},n,{children:g?cz(t,g):t}))})}function pz(o,P){return Xr({toolbar:{minHeight:56,[o.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[o.up("sm")]:{minHeight:64}}},P)}const gz={black:"#000",white:"#fff"},ag=gz,yz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},mz=yz,xz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},kd=xz,bz={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Fd=bz,wz={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},c0=wz,Tz={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_d=Tz,Az={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},zd=Az,Sz={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Od=Sz,Mz=["mode","contrastThreshold","tonalOffset"],kA={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ag.white,default:ag.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Jx={text:{primary:ag.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ag.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function FA(o,P,W,Q){const ce=Q.light||Q,me=Q.dark||Q*1.5;o[P]||(o.hasOwnProperty(W)?o[P]=o[W]:P==="light"?o.light=bb(o.main,ce):P==="dark"&&(o.dark=xb(o.main,me)))}function Ez(o="light"){return o==="dark"?{main:_d[200],light:_d[50],dark:_d[400]}:{main:_d[700],light:_d[400],dark:_d[800]}}function Cz(o="light"){return o==="dark"?{main:kd[200],light:kd[50],dark:kd[400]}:{main:kd[500],light:kd[300],dark:kd[700]}}function Lz(o="light"){return o==="dark"?{main:Fd[500],light:Fd[300],dark:Fd[700]}:{main:Fd[700],light:Fd[400],dark:Fd[800]}}function Pz(o="light"){return o==="dark"?{main:zd[400],light:zd[300],dark:zd[700]}:{main:zd[700],light:zd[500],dark:zd[900]}}function Rz(o="light"){return o==="dark"?{main:Od[400],light:Od[300],dark:Od[700]}:{main:Od[800],light:Od[500],dark:Od[900]}}function Dz(o="light"){return o==="dark"?{main:c0[400],light:c0[300],dark:c0[700]}:{main:"#ed6c02",light:c0[500],dark:c0[900]}}function Iz(o){const{mode:P="light",contrastThreshold:W=3,tonalOffset:Q=.2}=o,ce=Xa(o,Mz),me=o.primary||Ez(P),B=o.secondary||Cz(P),N=o.error||Lz(P),e=o.info||Pz(P),p=o.success||Rz(P),L=o.warning||Dz(P);function a(g){return X_(g,Jx.text.primary)>=W?Jx.text.primary:kA.text.primary}const C=({color:g,name:t,mainShade:r=500,lightShade:s=300,darkShade:n=700})=>{if(g=Xr({},g),!g.main&&g[r]&&(g.main=g[r]),!g.hasOwnProperty("main"))throw new Error(bp(11,t?` (${t})`:"",r));if(typeof g.main!="string")throw new Error(bp(12,t?` (${t})`:"",JSON.stringify(g.main)));return FA(g,"light",s,Q),FA(g,"dark",n,Q),g.contrastText||(g.contrastText=a(g.main)),g},w={dark:Jx,light:kA};return nu(Xr({common:Xr({},ag),mode:P,primary:C({color:me,name:"primary"}),secondary:C({color:B,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:N,name:"error"}),warning:C({color:L,name:"warning"}),info:C({color:e,name:"info"}),success:C({color:p,name:"success"}),grey:mz,contrastThreshold:W,getContrastText:a,augmentColor:C,tonalOffset:Q},w[P]),ce)}const kz=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Fz(o){return Math.round(o*1e5)/1e5}const _A={textTransform:"uppercase"},zA='"Roboto", "Helvetica", "Arial", sans-serif';function _z(o,P){const W=typeof P=="function"?P(o):P,{fontFamily:Q=zA,fontSize:ce=14,fontWeightLight:me=300,fontWeightRegular:B=400,fontWeightMedium:N=500,fontWeightBold:e=700,htmlFontSize:p=16,allVariants:L,pxToRem:a}=W,C=Xa(W,kz),w=ce/14,h=a||(r=>`${r/p*w}rem`),g=(r,s,n,l,c)=>Xr({fontFamily:Q,fontWeight:r,fontSize:h(s),lineHeight:n},Q===zA?{letterSpacing:`${Fz(l/s)}em`}:{},c,L),t={h1:g(me,96,1.167,-1.5),h2:g(me,60,1.2,-.5),h3:g(B,48,1.167,0),h4:g(B,34,1.235,.25),h5:g(B,24,1.334,0),h6:g(N,20,1.6,.15),subtitle1:g(B,16,1.75,.15),subtitle2:g(N,14,1.57,.1),body1:g(B,16,1.5,.15),body2:g(B,14,1.43,.15),button:g(N,14,1.75,.4,_A),caption:g(B,12,1.66,.4),overline:g(B,12,2.66,1,_A),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return nu(Xr({htmlFontSize:p,pxToRem:h,fontFamily:Q,fontSize:ce,fontWeightLight:me,fontWeightRegular:B,fontWeightMedium:N,fontWeightBold:e},t),C,{clone:!1})}const zz=.2,Oz=.14,Bz=.12;function po(...o){return[`${o[0]}px ${o[1]}px ${o[2]}px ${o[3]}px rgba(0,0,0,${zz})`,`${o[4]}px ${o[5]}px ${o[6]}px ${o[7]}px rgba(0,0,0,${Oz})`,`${o[8]}px ${o[9]}px ${o[10]}px ${o[11]}px rgba(0,0,0,${Bz})`].join(",")}const Nz=["none",po(0,2,1,-1,0,1,1,0,0,1,3,0),po(0,3,1,-2,0,2,2,0,0,1,5,0),po(0,3,3,-2,0,3,4,0,0,1,8,0),po(0,2,4,-1,0,4,5,0,0,1,10,0),po(0,3,5,-1,0,5,8,0,0,1,14,0),po(0,3,5,-1,0,6,10,0,0,1,18,0),po(0,4,5,-2,0,7,10,1,0,2,16,1),po(0,5,5,-3,0,8,10,1,0,3,14,2),po(0,5,6,-3,0,9,12,1,0,3,16,2),po(0,6,6,-3,0,10,14,1,0,4,18,3),po(0,6,7,-4,0,11,15,1,0,4,20,3),po(0,7,8,-4,0,12,17,2,0,5,22,4),po(0,7,8,-4,0,13,19,2,0,5,24,4),po(0,7,9,-4,0,14,21,2,0,5,26,4),po(0,8,9,-5,0,15,22,2,0,6,28,5),po(0,8,10,-5,0,16,24,2,0,6,30,5),po(0,8,11,-5,0,17,26,2,0,6,32,5),po(0,9,11,-5,0,18,28,2,0,7,34,6),po(0,9,12,-6,0,19,29,2,0,7,36,6),po(0,10,13,-6,0,20,31,3,0,8,38,7),po(0,10,13,-6,0,21,33,3,0,8,40,7),po(0,10,14,-6,0,22,35,3,0,8,42,7),po(0,11,14,-7,0,23,36,3,0,9,44,8),po(0,11,15,-7,0,24,38,3,0,9,46,8)],Uz=Nz,Hz=["duration","easing","delay"],Vz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},AE={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function OA(o){return`${Math.round(o)}ms`}function Gz(o){if(!o)return 0;const P=o/36;return Math.round((4+15*P**.25+P/5)*10)}function Wz(o){const P=Xr({},Vz,o.easing),W=Xr({},AE,o.duration);return Xr({getAutoHeightDuration:Gz,create:(ce=["all"],me={})=>{const{duration:B=W.standard,easing:N=P.easeInOut,delay:e=0}=me;return Xa(me,Hz),(Array.isArray(ce)?ce:[ce]).map(p=>`${p} ${typeof B=="string"?B:OA(B)} ${N} ${typeof e=="string"?e:OA(e)}`).join(",")}},o,{easing:P,duration:W})}const jz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Yz=jz,Zz=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function aw(o={},...P){const{mixins:W={},palette:Q={},transitions:ce={},typography:me={}}=o,B=Xa(o,Zz);if(o.vars)throw new Error(bp(18));const N=Iz(Q),e=wg(o);let p=nu(e,{mixins:pz(e.breakpoints,W),palette:N,shadows:Uz.slice(),typography:_z(N,me),transitions:Wz(ce),zIndex:Xr({},Yz)});return p=nu(p,B),p=P.reduce((L,a)=>nu(L,a),p),p.unstable_sxConfig=Xr({},E1,B==null?void 0:B.unstable_sxConfig),p.unstable_sx=function(a){return C1({sx:a,theme:this})},p}const Xz=aw(),D1=Xz;function tv(){const o=L1(D1);return o[Qv]||o}function xi({props:o,name:P}){return rw({props:o,name:P,defaultTheme:D1,themeId:Qv})}const Ip=o=>zy(o)&&o!=="classes",$z=xE({themeId:Qv,defaultTheme:D1,rootShouldForwardProp:Ip}),Na=$z,Kz=["theme"];function Jz(o){let{theme:P}=o,W=Xa(o,Kz);const Q=P[Qv];return Or.jsx(ez,Xr({},W,{themeId:Q?Qv:void 0,theme:Q||P}))}const Qz=o=>{let P;return o<1?P=5.11916*o**2:P=4.5*Math.log(o+1)+2,(P/100).toFixed(2)},BA=Qz;const qz=aw({palette:{primary:{main:"#283593",contrastText:"#FFFFFF"},secondary:{main:"#607D8B",contrastText:"#FFFFFF"},error:{main:"#D32F2F"},warning:{main:"#FFA000"},info:{main:"#1976D2"},success:{main:"#388E3C"},background:{default:"#ECEFF1",paper:"#CFD8DC"},text:{primary:"#212121",secondary:"#757575"}},typography:{fontFamily:['"Noto Sans KR"',"Open Sans","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500},h6:{fontSize:"1rem",fontWeight:500}}});function eO(o){return mi("MuiSvgIcon",o)}di("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const tO=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],rO=o=>{const{color:P,fontSize:W,classes:Q}=o,ce={root:["root",P!=="inherit"&&`color${Sa(P)}`,`fontSize${Sa(W)}`]};return wi(ce,eO,Q)},nO=Na("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,W.color!=="inherit"&&P[`color${Sa(W.color)}`],P[`fontSize${Sa(W.fontSize)}`]]}})(({theme:o,ownerState:P})=>{var W,Q,ce,me,B,N,e,p,L,a,C,w,h;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:P.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(W=o.transitions)==null||(Q=W.create)==null?void 0:Q.call(W,"fill",{duration:(ce=o.transitions)==null||(ce=ce.duration)==null?void 0:ce.shorter}),fontSize:{inherit:"inherit",small:((me=o.typography)==null||(B=me.pxToRem)==null?void 0:B.call(me,20))||"1.25rem",medium:((N=o.typography)==null||(e=N.pxToRem)==null?void 0:e.call(N,24))||"1.5rem",large:((p=o.typography)==null||(L=p.pxToRem)==null?void 0:L.call(p,35))||"2.1875rem"}[P.fontSize],color:(a=(C=(o.vars||o).palette)==null||(C=C[P.color])==null?void 0:C.main)!=null?a:{action:(w=(o.vars||o).palette)==null||(w=w.action)==null?void 0:w.active,disabled:(h=(o.vars||o).palette)==null||(h=h.action)==null?void 0:h.disabled,inherit:void 0}[P.color]}}),SE=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiSvgIcon"}),{children:ce,className:me,color:B="inherit",component:N="svg",fontSize:e="medium",htmlColor:p,inheritViewBox:L=!1,titleAccess:a,viewBox:C="0 0 24 24"}=Q,w=Xa(Q,tO),h=Er.isValidElement(ce)&&ce.type==="svg",g=Xr({},Q,{color:B,component:N,fontSize:e,instanceFontSize:P.fontSize,inheritViewBox:L,viewBox:C,hasSvgAsChild:h}),t={};L||(t.viewBox=C);const r=rO(g);return Or.jsxs(nO,Xr({as:N,className:Oa(r.root,me),focusable:"false",color:p,"aria-hidden":a?void 0:!0,role:a?"img":void 0,ref:W},t,w,h&&ce.props,{ownerState:g,children:[h?ce.props.children:ce,a?Or.jsx("title",{children:a}):null]}))});SE.muiName="SvgIcon";const NA=SE;function Nu(o,P){function W(Q,ce){return Or.jsx(NA,Xr({"data-testid":`${P}Icon`,ref:ce},Q,{children:o}))}return W.muiName=NA.muiName,Er.memo(Er.forwardRef(W))}const aO={configure:o=>{j3.configure(o)}},iO=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Sa,createChainedFunction:db,createSvgIcon:Nu,debounce:p1,deprecatedPropType:Tk,isMuiElement:Y6,ownerDocument:zl,ownerWindow:Kh,requirePropFactory:Ak,setRef:mm,unstable_ClassNameGenerator:aO,unstable_useEnhancedEffect:Jv,unstable_useId:Z6,unsupportedProp:Ek,useControlled:X6,useEventCallback:Zf,useForkRef:dl,useIsFocusVisible:G3},Symbol.toStringTag,{value:"Module"}));function wb(o,P){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,ce){return Q.__proto__=ce,Q},wb(o,P)}function ME(o,P){o.prototype=Object.create(P.prototype),o.prototype.constructor=o,wb(o,P)}const UA={disabled:!1},Am=Ds.createContext(null);var oO=function(P){return P.scrollTop},b0="unmounted",zv="exited",Ov="entering",Ud="entered",Tb="exiting",jc=function(o){ME(P,o);function P(Q,ce){var me;me=o.call(this,Q,ce)||this;var B=ce,N=B&&!B.isMounting?Q.enter:Q.appear,e;return me.appearStatus=null,Q.in?N?(e=zv,me.appearStatus=Ov):e=Ud:Q.unmountOnExit||Q.mountOnEnter?e=b0:e=zv,me.state={status:e},me.nextCallback=null,me}P.getDerivedStateFromProps=function(ce,me){var B=ce.in;return B&&me.status===b0?{status:zv}:null};var W=P.prototype;return W.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},W.componentDidUpdate=function(ce){var me=null;if(ce!==this.props){var B=this.state.status;this.props.in?B!==Ov&&B!==Ud&&(me=Ov):(B===Ov||B===Ud)&&(me=Tb)}this.updateStatus(!1,me)},W.componentWillUnmount=function(){this.cancelNextCallback()},W.getTimeouts=function(){var ce=this.props.timeout,me,B,N;return me=B=N=ce,ce!=null&&typeof ce!="number"&&(me=ce.exit,B=ce.enter,N=ce.appear!==void 0?ce.appear:B),{exit:me,enter:B,appear:N}},W.updateStatus=function(ce,me){if(ce===void 0&&(ce=!1),me!==null)if(this.cancelNextCallback(),me===Ov){if(this.props.unmountOnExit||this.props.mountOnEnter){var B=this.props.nodeRef?this.props.nodeRef.current:vy.findDOMNode(this);B&&oO(B)}this.performEnter(ce)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zv&&this.setState({status:b0})},W.performEnter=function(ce){var me=this,B=this.props.enter,N=this.context?this.context.isMounting:ce,e=this.props.nodeRef?[N]:[vy.findDOMNode(this),N],p=e[0],L=e[1],a=this.getTimeouts(),C=N?a.appear:a.enter;if(!ce&&!B||UA.disabled){this.safeSetState({status:Ud},function(){me.props.onEntered(p)});return}this.props.onEnter(p,L),this.safeSetState({status:Ov},function(){me.props.onEntering(p,L),me.onTransitionEnd(C,function(){me.safeSetState({status:Ud},function(){me.props.onEntered(p,L)})})})},W.performExit=function(){var ce=this,me=this.props.exit,B=this.getTimeouts(),N=this.props.nodeRef?void 0:vy.findDOMNode(this);if(!me||UA.disabled){this.safeSetState({status:zv},function(){ce.props.onExited(N)});return}this.props.onExit(N),this.safeSetState({status:Tb},function(){ce.props.onExiting(N),ce.onTransitionEnd(B.exit,function(){ce.safeSetState({status:zv},function(){ce.props.onExited(N)})})})},W.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},W.safeSetState=function(ce,me){me=this.setNextCallback(me),this.setState(ce,me)},W.setNextCallback=function(ce){var me=this,B=!0;return this.nextCallback=function(N){B&&(B=!1,me.nextCallback=null,ce(N))},this.nextCallback.cancel=function(){B=!1},this.nextCallback},W.onTransitionEnd=function(ce,me){this.setNextCallback(me);var B=this.props.nodeRef?this.props.nodeRef.current:vy.findDOMNode(this),N=ce==null&&!this.props.addEndListener;if(!B||N){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var e=this.props.nodeRef?[this.nextCallback]:[B,this.nextCallback],p=e[0],L=e[1];this.props.addEndListener(p,L)}ce!=null&&setTimeout(this.nextCallback,ce)},W.render=function(){var ce=this.state.status;if(ce===b0)return null;var me=this.props,B=me.children;me.in,me.mountOnEnter,me.unmountOnExit,me.appear,me.enter,me.exit,me.timeout,me.addEndListener,me.onEnter,me.onEntering,me.onEntered,me.onExit,me.onExiting,me.onExited,me.nodeRef;var N=Xa(me,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ds.createElement(Am.Provider,{value:null},typeof B=="function"?B(ce,N):Ds.cloneElement(Ds.Children.only(B),N))},P}(Ds.Component);jc.contextType=Am;jc.propTypes={};function Bd(){}jc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bd,onEntering:Bd,onEntered:Bd,onExit:Bd,onExiting:Bd,onExited:Bd};jc.UNMOUNTED=b0;jc.EXITED=zv;jc.ENTERING=Ov;jc.ENTERED=Ud;jc.EXITING=Tb;const iw=jc;function sO(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function ow(o,P){var W=function(me){return P&&Er.isValidElement(me)?P(me):me},Q=Object.create(null);return o&&Er.Children.map(o,function(ce){return ce}).forEach(function(ce){Q[ce.key]=W(ce)}),Q}function lO(o,P){o=o||{},P=P||{};function W(L){return L in P?P[L]:o[L]}var Q=Object.create(null),ce=[];for(var me in o)me in P?ce.length&&(Q[me]=ce,ce=[]):ce.push(me);var B,N={};for(var e in P){if(Q[e])for(B=0;B<Q[e].length;B++){var p=Q[e][B];N[Q[e][B]]=W(p)}N[e]=W(e)}for(B=0;B<ce.length;B++)N[ce[B]]=W(ce[B]);return N}function Hv(o,P,W){return W[P]!=null?W[P]:o.props[P]}function uO(o,P){return ow(o.children,function(W){return Er.cloneElement(W,{onExited:P.bind(null,W),in:!0,appear:Hv(W,"appear",o),enter:Hv(W,"enter",o),exit:Hv(W,"exit",o)})})}function fO(o,P,W){var Q=ow(o.children),ce=lO(P,Q);return Object.keys(ce).forEach(function(me){var B=ce[me];if(Er.isValidElement(B)){var N=me in P,e=me in Q,p=P[me],L=Er.isValidElement(p)&&!p.props.in;e&&(!N||L)?ce[me]=Er.cloneElement(B,{onExited:W.bind(null,B),in:!0,exit:Hv(B,"exit",o),enter:Hv(B,"enter",o)}):!e&&N&&!L?ce[me]=Er.cloneElement(B,{in:!1}):e&&N&&Er.isValidElement(p)&&(ce[me]=Er.cloneElement(B,{onExited:W.bind(null,B),in:p.props.in,exit:Hv(B,"exit",o),enter:Hv(B,"enter",o)}))}}),ce}var cO=Object.values||function(o){return Object.keys(o).map(function(P){return o[P]})},hO={component:"div",childFactory:function(P){return P}},sw=function(o){ME(P,o);function P(Q,ce){var me;me=o.call(this,Q,ce)||this;var B=me.handleExited.bind(sO(me));return me.state={contextValue:{isMounting:!0},handleExited:B,firstRender:!0},me}var W=P.prototype;return W.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},W.componentWillUnmount=function(){this.mounted=!1},P.getDerivedStateFromProps=function(ce,me){var B=me.children,N=me.handleExited,e=me.firstRender;return{children:e?uO(ce,N):fO(ce,B,N),firstRender:!1}},W.handleExited=function(ce,me){var B=ow(this.props.children);ce.key in B||(ce.props.onExited&&ce.props.onExited(me),this.mounted&&this.setState(function(N){var e=Xr({},N.children);return delete e[ce.key],{children:e}}))},W.render=function(){var ce=this.props,me=ce.component,B=ce.childFactory,N=Xa(ce,["component","childFactory"]),e=this.state.contextValue,p=cO(this.state.children).map(B);return delete N.appear,delete N.enter,delete N.exit,me===null?Ds.createElement(Am.Provider,{value:e},p):Ds.createElement(Am.Provider,{value:e},Ds.createElement(me,N,p))},P}(Ds.Component);sw.propTypes={};sw.defaultProps=hO;const vO=sw,EE=o=>o.scrollTop;function Ap(o,P){var W,Q;const{timeout:ce,easing:me,style:B={}}=o;return{duration:(W=B.transitionDuration)!=null?W:typeof ce=="number"?ce:ce[P.mode]||0,easing:(Q=B.transitionTimingFunction)!=null?Q:typeof me=="object"?me[P.mode]:me,delay:B.transitionDelay}}function dO(o){return mi("MuiCollapse",o)}di("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const pO=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],gO=o=>{const{orientation:P,classes:W}=o,Q={root:["root",`${P}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${P}`],wrapperInner:["wrapperInner",`${P}`]};return wi(Q,dO,W)},yO=Na("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,P[W.orientation],W.state==="entered"&&P.entered,W.state==="exited"&&!W.in&&W.collapsedSize==="0px"&&P.hidden]}})(({theme:o,ownerState:P})=>Xr({height:0,overflow:"hidden",transition:o.transitions.create("height")},P.orientation==="horizontal"&&{height:"auto",width:0,transition:o.transitions.create("width")},P.state==="entered"&&Xr({height:"auto",overflow:"visible"},P.orientation==="horizontal"&&{width:"auto"}),P.state==="exited"&&!P.in&&P.collapsedSize==="0px"&&{visibility:"hidden"})),mO=Na("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(o,P)=>P.wrapper})(({ownerState:o})=>Xr({display:"flex",width:"100%"},o.orientation==="horizontal"&&{width:"auto",height:"100%"})),xO=Na("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(o,P)=>P.wrapperInner})(({ownerState:o})=>Xr({width:"100%"},o.orientation==="horizontal"&&{width:"auto",height:"100%"})),CE=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiCollapse"}),{addEndListener:ce,children:me,className:B,collapsedSize:N="0px",component:e,easing:p,in:L,onEnter:a,onEntered:C,onEntering:w,onExit:h,onExited:g,onExiting:t,orientation:r="vertical",style:s,timeout:n=AE.standard,TransitionComponent:l=iw}=Q,c=Xa(Q,pO),f=Xr({},Q,{orientation:r,collapsedSize:N}),m=gO(f),v=tv(),A=Er.useRef(),d=Er.useRef(null),u=Er.useRef(),y=typeof N=="number"?`${N}px`:N,M=r==="horizontal",S=M?"width":"height";Er.useEffect(()=>()=>{clearTimeout(A.current)},[]);const R=Er.useRef(null),x=dl(W,R),E=U=>H=>{if(U){const z=R.current;H===void 0?U(z):U(z,H)}},T=()=>d.current?d.current[M?"clientWidth":"clientHeight"]:0,i=E((U,H)=>{d.current&&M&&(d.current.style.position="absolute"),U.style[S]=y,a&&a(U,H)}),D=E((U,H)=>{const z=T();d.current&&M&&(d.current.style.position="");const{duration:G,easing:Y}=Ap({style:s,timeout:n,easing:p},{mode:"enter"});if(n==="auto"){const J=v.transitions.getAutoHeightDuration(z);U.style.transitionDuration=`${J}ms`,u.current=J}else U.style.transitionDuration=typeof G=="string"?G:`${G}ms`;U.style[S]=`${z}px`,U.style.transitionTimingFunction=Y,w&&w(U,H)}),b=E((U,H)=>{U.style[S]="auto",C&&C(U,H)}),O=E(U=>{U.style[S]=`${T()}px`,h&&h(U)}),F=E(g),V=E(U=>{const H=T(),{duration:z,easing:G}=Ap({style:s,timeout:n,easing:p},{mode:"exit"});if(n==="auto"){const Y=v.transitions.getAutoHeightDuration(H);U.style.transitionDuration=`${Y}ms`,u.current=Y}else U.style.transitionDuration=typeof z=="string"?z:`${z}ms`;U.style[S]=y,U.style.transitionTimingFunction=G,t&&t(U)}),_=U=>{n==="auto"&&(A.current=setTimeout(U,u.current||0)),ce&&ce(R.current,U)};return Or.jsx(l,Xr({in:L,onEnter:i,onEntered:b,onEntering:D,onExit:O,onExited:F,onExiting:V,addEndListener:_,nodeRef:R,timeout:n==="auto"?null:n},c,{children:(U,H)=>Or.jsx(yO,Xr({as:e,className:Oa(m.root,B,{entered:m.entered,exited:!L&&y==="0px"&&m.hidden}[U]),style:Xr({[M?"minWidth":"minHeight"]:y},s),ownerState:Xr({},f,{state:U}),ref:x},H,{children:Or.jsx(mO,{ownerState:Xr({},f,{state:U}),className:m.wrapper,ref:d,children:Or.jsx(xO,{ownerState:Xr({},f,{state:U}),className:m.wrapperInner,children:me})})}))}))});CE.muiSupportAuto=!0;const bO=CE;function wO(o){return mi("MuiPaper",o)}di("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const TO=["className","component","elevation","square","variant"],AO=o=>{const{square:P,elevation:W,variant:Q,classes:ce}=o,me={root:["root",Q,!P&&"rounded",Q==="elevation"&&`elevation${W}`]};return wi(me,wO,ce)},SO=Na("div",{name:"MuiPaper",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,P[W.variant],!W.square&&P.rounded,W.variant==="elevation"&&P[`elevation${W.elevation}`]]}})(({theme:o,ownerState:P})=>{var W;return Xr({backgroundColor:(o.vars||o).palette.background.paper,color:(o.vars||o).palette.text.primary,transition:o.transitions.create("box-shadow")},!P.square&&{borderRadius:o.shape.borderRadius},P.variant==="outlined"&&{border:`1px solid ${(o.vars||o).palette.divider}`},P.variant==="elevation"&&Xr({boxShadow:(o.vars||o).shadows[P.elevation]},!o.vars&&o.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${yo("#fff",BA(P.elevation))}, ${yo("#fff",BA(P.elevation))})`},o.vars&&{backgroundImage:(W=o.vars.overlays)==null?void 0:W[P.elevation]}))}),MO=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiPaper"}),{className:ce,component:me="div",elevation:B=1,square:N=!1,variant:e="elevation"}=Q,p=Xa(Q,TO),L=Xr({},Q,{component:me,elevation:B,square:N,variant:e}),a=AO(L);return Or.jsx(SO,Xr({as:me,ownerState:L,className:Oa(a.root,ce),ref:W},p))}),ad=MO;function EO(o){const{className:P,classes:W,pulsate:Q=!1,rippleX:ce,rippleY:me,rippleSize:B,in:N,onExited:e,timeout:p}=o,[L,a]=Er.useState(!1),C=Oa(P,W.ripple,W.rippleVisible,Q&&W.ripplePulsate),w={width:B,height:B,top:-(B/2)+me,left:-(B/2)+ce},h=Oa(W.child,L&&W.childLeaving,Q&&W.childPulsate);return!N&&!L&&a(!0),Er.useEffect(()=>{if(!N&&e!=null){const g=setTimeout(e,p);return()=>{clearTimeout(g)}}},[e,N,p]),Or.jsx("span",{className:C,style:w,children:Or.jsx("span",{className:h})})}const CO=di("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Lu=CO,LO=["center","classes","className"];let I1=o=>o,HA,VA,GA,WA;const Ab=550,PO=80,RO=xg(HA||(HA=I1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),DO=xg(VA||(VA=I1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),IO=xg(GA||(GA=I1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),kO=Na("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),FO=Na(EO,{name:"MuiTouchRipple",slot:"Ripple"})(WA||(WA=I1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Lu.rippleVisible,RO,Ab,({theme:o})=>o.transitions.easing.easeInOut,Lu.ripplePulsate,({theme:o})=>o.transitions.duration.shorter,Lu.child,Lu.childLeaving,DO,Ab,({theme:o})=>o.transitions.easing.easeInOut,Lu.childPulsate,IO,({theme:o})=>o.transitions.easing.easeInOut),_O=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiTouchRipple"}),{center:ce=!1,classes:me={},className:B}=Q,N=Xa(Q,LO),[e,p]=Er.useState([]),L=Er.useRef(0),a=Er.useRef(null);Er.useEffect(()=>{a.current&&(a.current(),a.current=null)},[e]);const C=Er.useRef(!1),w=Er.useRef(0),h=Er.useRef(null),g=Er.useRef(null);Er.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);const t=Er.useCallback(l=>{const{pulsate:c,rippleX:f,rippleY:m,rippleSize:v,cb:A}=l;p(d=>[...d,Or.jsx(FO,{classes:{ripple:Oa(me.ripple,Lu.ripple),rippleVisible:Oa(me.rippleVisible,Lu.rippleVisible),ripplePulsate:Oa(me.ripplePulsate,Lu.ripplePulsate),child:Oa(me.child,Lu.child),childLeaving:Oa(me.childLeaving,Lu.childLeaving),childPulsate:Oa(me.childPulsate,Lu.childPulsate)},timeout:Ab,pulsate:c,rippleX:f,rippleY:m,rippleSize:v},L.current)]),L.current+=1,a.current=A},[me]),r=Er.useCallback((l={},c={},f=()=>{})=>{const{pulsate:m=!1,center:v=ce||c.pulsate,fakeElement:A=!1}=c;if((l==null?void 0:l.type)==="mousedown"&&C.current){C.current=!1;return}(l==null?void 0:l.type)==="touchstart"&&(C.current=!0);const d=A?null:g.current,u=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};let y,M,S;if(v||l===void 0||l.clientX===0&&l.clientY===0||!l.clientX&&!l.touches)y=Math.round(u.width/2),M=Math.round(u.height/2);else{const{clientX:R,clientY:x}=l.touches&&l.touches.length>0?l.touches[0]:l;y=Math.round(R-u.left),M=Math.round(x-u.top)}if(v)S=Math.sqrt((2*u.width**2+u.height**2)/3),S%2===0&&(S+=1);else{const R=Math.max(Math.abs((d?d.clientWidth:0)-y),y)*2+2,x=Math.max(Math.abs((d?d.clientHeight:0)-M),M)*2+2;S=Math.sqrt(R**2+x**2)}l!=null&&l.touches?h.current===null&&(h.current=()=>{t({pulsate:m,rippleX:y,rippleY:M,rippleSize:S,cb:f})},w.current=setTimeout(()=>{h.current&&(h.current(),h.current=null)},PO)):t({pulsate:m,rippleX:y,rippleY:M,rippleSize:S,cb:f})},[ce,t]),s=Er.useCallback(()=>{r({},{pulsate:!0})},[r]),n=Er.useCallback((l,c)=>{if(clearTimeout(w.current),(l==null?void 0:l.type)==="touchend"&&h.current){h.current(),h.current=null,w.current=setTimeout(()=>{n(l,c)});return}h.current=null,p(f=>f.length>0?f.slice(1):f),a.current=c},[]);return Er.useImperativeHandle(W,()=>({pulsate:s,start:r,stop:n}),[s,r,n]),Or.jsx(kO,Xr({className:Oa(Lu.root,me.root,B),ref:g},N,{children:Or.jsx(vO,{component:null,exit:!0,children:e})}))}),zO=_O;function OO(o){return mi("MuiButtonBase",o)}const BO=di("MuiButtonBase",["root","disabled","focusVisible"]),NO=BO,UO=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],HO=o=>{const{disabled:P,focusVisible:W,focusVisibleClassName:Q,classes:ce}=o,B=wi({root:["root",P&&"disabled",W&&"focusVisible"]},OO,ce);return W&&Q&&(B.root+=` ${Q}`),B},VO=Na("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(o,P)=>P.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${NO.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),GO=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiButtonBase"}),{action:ce,centerRipple:me=!1,children:B,className:N,component:e="button",disabled:p=!1,disableRipple:L=!1,disableTouchRipple:a=!1,focusRipple:C=!1,LinkComponent:w="a",onBlur:h,onClick:g,onContextMenu:t,onDragLeave:r,onFocus:s,onFocusVisible:n,onKeyDown:l,onKeyUp:c,onMouseDown:f,onMouseLeave:m,onMouseUp:v,onTouchEnd:A,onTouchMove:d,onTouchStart:u,tabIndex:y=0,TouchRippleProps:M,touchRippleRef:S,type:R}=Q,x=Xa(Q,UO),E=Er.useRef(null),T=Er.useRef(null),i=dl(T,S),{isFocusVisibleRef:D,onFocus:b,onBlur:O,ref:F}=G3(),[V,_]=Er.useState(!1);p&&V&&_(!1),Er.useImperativeHandle(ce,()=>({focusVisible:()=>{_(!0),E.current.focus()}}),[]);const[U,H]=Er.useState(!1);Er.useEffect(()=>{H(!0)},[]);const z=U&&!L&&!p;Er.useEffect(()=>{V&&C&&!L&&U&&T.current.pulsate()},[L,C,V,U]);function G(Oe,Ue,Le=a){return Zf(we=>(Ue&&Ue(we),!Le&&T.current&&T.current[Oe](we),!0))}const Y=G("start",f),J=G("stop",t),ae=G("stop",r),oe=G("stop",v),he=G("stop",Oe=>{V&&Oe.preventDefault(),m&&m(Oe)}),q=G("start",u),Z=G("stop",A),$=G("stop",d),K=G("stop",Oe=>{O(Oe),D.current===!1&&_(!1),h&&h(Oe)},!1),re=Zf(Oe=>{E.current||(E.current=Oe.currentTarget),b(Oe),D.current===!0&&(_(!0),n&&n(Oe)),s&&s(Oe)}),le=()=>{const Oe=E.current;return e&&e!=="button"&&!(Oe.tagName==="A"&&Oe.href)},te=Er.useRef(!1),ee=Zf(Oe=>{C&&!te.current&&V&&T.current&&Oe.key===" "&&(te.current=!0,T.current.stop(Oe,()=>{T.current.start(Oe)})),Oe.target===Oe.currentTarget&&le()&&Oe.key===" "&&Oe.preventDefault(),l&&l(Oe),Oe.target===Oe.currentTarget&&le()&&Oe.key==="Enter"&&!p&&(Oe.preventDefault(),g&&g(Oe))}),ue=Zf(Oe=>{C&&Oe.key===" "&&T.current&&V&&!Oe.defaultPrevented&&(te.current=!1,T.current.stop(Oe,()=>{T.current.pulsate(Oe)})),c&&c(Oe),g&&Oe.target===Oe.currentTarget&&le()&&Oe.key===" "&&!Oe.defaultPrevented&&g(Oe)});let se=e;se==="button"&&(x.href||x.to)&&(se=w);const ve={};se==="button"?(ve.type=R===void 0?"button":R,ve.disabled=p):(!x.href&&!x.to&&(ve.role="button"),p&&(ve["aria-disabled"]=p));const be=dl(W,F,E),Ee=Xr({},Q,{centerRipple:me,component:e,disabled:p,disableRipple:L,disableTouchRipple:a,focusRipple:C,tabIndex:y,focusVisible:V}),Ae=HO(Ee);return Or.jsxs(VO,Xr({as:se,className:Oa(Ae.root,N),ownerState:Ee,onBlur:K,onClick:g,onContextMenu:J,onFocus:re,onKeyDown:ee,onKeyUp:ue,onMouseDown:Y,onMouseLeave:he,onMouseUp:oe,onDragLeave:ae,onTouchEnd:Z,onTouchMove:$,onTouchStart:q,ref:be,tabIndex:p?-1:y,type:R},ve,x,{children:[B,z?Or.jsx(zO,Xr({ref:i,center:me},M)):null]}))}),Jh=GO;function WO(o){return mi("MuiAlert",o)}const jO=di("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),jA=jO;function YO(o){return mi("MuiIconButton",o)}const ZO=di("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),XO=ZO,$O=["edge","children","className","color","disabled","disableFocusRipple","size"],KO=o=>{const{classes:P,disabled:W,color:Q,edge:ce,size:me}=o,B={root:["root",W&&"disabled",Q!=="default"&&`color${Sa(Q)}`,ce&&`edge${Sa(ce)}`,`size${Sa(me)}`]};return wi(B,YO,P)},JO=Na(Jh,{name:"MuiIconButton",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,W.color!=="default"&&P[`color${Sa(W.color)}`],W.edge&&P[`edge${Sa(W.edge)}`],P[`size${Sa(W.size)}`]]}})(({theme:o,ownerState:P})=>Xr({textAlign:"center",flex:"0 0 auto",fontSize:o.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(o.vars||o).palette.action.active,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest})},!P.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:yo(o.palette.action.active,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},P.edge==="start"&&{marginLeft:P.size==="small"?-3:-12},P.edge==="end"&&{marginRight:P.size==="small"?-3:-12}),({theme:o,ownerState:P})=>{var W;const Q=(W=(o.vars||o).palette)==null?void 0:W[P.color];return Xr({},P.color==="inherit"&&{color:"inherit"},P.color!=="inherit"&&P.color!=="default"&&Xr({color:Q==null?void 0:Q.main},!P.disableRipple&&{"&:hover":Xr({},Q&&{backgroundColor:o.vars?`rgba(${Q.mainChannel} / ${o.vars.palette.action.hoverOpacity})`:yo(Q.main,o.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),P.size==="small"&&{padding:5,fontSize:o.typography.pxToRem(18)},P.size==="large"&&{padding:12,fontSize:o.typography.pxToRem(28)},{[`&.${XO.disabled}`]:{backgroundColor:"transparent",color:(o.vars||o).palette.action.disabled}})}),QO=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiIconButton"}),{edge:ce=!1,children:me,className:B,color:N="default",disabled:e=!1,disableFocusRipple:p=!1,size:L="medium"}=Q,a=Xa(Q,$O),C=Xr({},Q,{edge:ce,color:N,disabled:e,disableFocusRipple:p,size:L}),w=KO(C);return Or.jsx(JO,Xr({className:Oa(w.root,B),centerRipple:!0,focusRipple:!p,disabled:e,ref:W,ownerState:C},a,{children:me}))}),qO=QO,eB=Nu(Or.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),tB=Nu(Or.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),rB=Nu(Or.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),nB=Nu(Or.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),aB=Nu(Or.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),iB=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],oB=o=>{const{variant:P,color:W,severity:Q,classes:ce}=o,me={root:["root",`${P}${Sa(W||Q)}`,`${P}`],icon:["icon"],message:["message"],action:["action"]};return wi(me,WO,ce)},sB=Na(ad,{name:"MuiAlert",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,P[W.variant],P[`${W.variant}${Sa(W.color||W.severity)}`]]}})(({theme:o,ownerState:P})=>{const W=o.palette.mode==="light"?xb:bb,Q=o.palette.mode==="light"?bb:xb,ce=P.color||P.severity;return Xr({},o.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},ce&&P.variant==="standard"&&{color:o.vars?o.vars.palette.Alert[`${ce}Color`]:W(o.palette[ce].light,.6),backgroundColor:o.vars?o.vars.palette.Alert[`${ce}StandardBg`]:Q(o.palette[ce].light,.9),[`& .${jA.icon}`]:o.vars?{color:o.vars.palette.Alert[`${ce}IconColor`]}:{color:o.palette[ce].main}},ce&&P.variant==="outlined"&&{color:o.vars?o.vars.palette.Alert[`${ce}Color`]:W(o.palette[ce].light,.6),border:`1px solid ${(o.vars||o).palette[ce].light}`,[`& .${jA.icon}`]:o.vars?{color:o.vars.palette.Alert[`${ce}IconColor`]}:{color:o.palette[ce].main}},ce&&P.variant==="filled"&&Xr({fontWeight:o.typography.fontWeightMedium},o.vars?{color:o.vars.palette.Alert[`${ce}FilledColor`],backgroundColor:o.vars.palette.Alert[`${ce}FilledBg`]}:{backgroundColor:o.palette.mode==="dark"?o.palette[ce].dark:o.palette[ce].main,color:o.palette.getContrastText(o.palette[ce].main)}))}),lB=Na("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(o,P)=>P.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),uB=Na("div",{name:"MuiAlert",slot:"Message",overridesResolver:(o,P)=>P.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),YA=Na("div",{name:"MuiAlert",slot:"Action",overridesResolver:(o,P)=>P.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ZA={success:Or.jsx(eB,{fontSize:"inherit"}),warning:Or.jsx(tB,{fontSize:"inherit"}),error:Or.jsx(rB,{fontSize:"inherit"}),info:Or.jsx(nB,{fontSize:"inherit"})},fB=Er.forwardRef(function(P,W){var Q,ce,me,B,N,e;const p=xi({props:P,name:"MuiAlert"}),{action:L,children:a,className:C,closeText:w="Close",color:h,components:g={},componentsProps:t={},icon:r,iconMapping:s=ZA,onClose:n,role:l="alert",severity:c="success",slotProps:f={},slots:m={},variant:v="standard"}=p,A=Xa(p,iB),d=Xr({},p,{color:h,severity:c,variant:v}),u=oB(d),y=(Q=(ce=m.closeButton)!=null?ce:g.CloseButton)!=null?Q:qO,M=(me=(B=m.closeIcon)!=null?B:g.CloseIcon)!=null?me:aB,S=(N=f.closeButton)!=null?N:t.closeButton,R=(e=f.closeIcon)!=null?e:t.closeIcon;return Or.jsxs(sB,Xr({role:l,elevation:0,ownerState:d,className:Oa(u.root,C),ref:W},A,{children:[r!==!1?Or.jsx(lB,{ownerState:d,className:u.icon,children:r||s[c]||ZA[c]}):null,Or.jsx(uB,{ownerState:d,className:u.message,children:a}),L!=null?Or.jsx(YA,{ownerState:d,className:u.action,children:L}):null,L==null&&n?Or.jsx(YA,{ownerState:d,className:u.action,children:Or.jsx(y,Xr({size:"small","aria-label":w,title:w,color:"inherit",onClick:n},S,{children:Or.jsx(M,Xr({fontSize:"small"},R))}))}):null]}))}),lw=fB;function cB(o){return mi("MuiTypography",o)}di("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const hB=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],vB=o=>{const{align:P,gutterBottom:W,noWrap:Q,paragraph:ce,variant:me,classes:B}=o,N={root:["root",me,o.align!=="inherit"&&`align${Sa(P)}`,W&&"gutterBottom",Q&&"noWrap",ce&&"paragraph"]};return wi(N,cB,B)},dB=Na("span",{name:"MuiTypography",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,W.variant&&P[W.variant],W.align!=="inherit"&&P[`align${Sa(W.align)}`],W.noWrap&&P.noWrap,W.gutterBottom&&P.gutterBottom,W.paragraph&&P.paragraph]}})(({theme:o,ownerState:P})=>Xr({margin:0},P.variant==="inherit"&&{font:"inherit"},P.variant!=="inherit"&&o.typography[P.variant],P.align!=="inherit"&&{textAlign:P.align},P.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},P.gutterBottom&&{marginBottom:"0.35em"},P.paragraph&&{marginBottom:16})),XA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},pB={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},gB=o=>pB[o]||o,yB=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiTypography"}),ce=gB(Q.color),me=P1(Xr({},Q,{color:ce})),{align:B="inherit",className:N,component:e,gutterBottom:p=!1,noWrap:L=!1,paragraph:a=!1,variant:C="body1",variantMapping:w=XA}=me,h=Xa(me,hB),g=Xr({},me,{align:B,color:ce,className:N,component:e,gutterBottom:p,noWrap:L,paragraph:a,variant:C,variantMapping:w}),t=e||(a?"p":w[C]||XA[C])||"span",r=vB(g);return Or.jsx(dB,Xr({as:t,ref:W,ownerState:g,className:Oa(r.root,N)},h))}),Ci=yB;function mB(o){return mi("MuiAppBar",o)}di("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const xB=["className","color","enableColorOnDark","position"],bB=o=>{const{color:P,position:W,classes:Q}=o,ce={root:["root",`color${Sa(P)}`,`position${Sa(W)}`]};return wi(ce,mB,Q)},py=(o,P)=>o?`${o==null?void 0:o.replace(")","")}, ${P})`:P,wB=Na(ad,{name:"MuiAppBar",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,P[`position${Sa(W.position)}`],P[`color${Sa(W.color)}`]]}})(({theme:o,ownerState:P})=>{const W=o.palette.mode==="light"?o.palette.grey[100]:o.palette.grey[900];return Xr({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},P.position==="fixed"&&{position:"fixed",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},P.position==="absolute"&&{position:"absolute",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0},P.position==="sticky"&&{position:"sticky",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0},P.position==="static"&&{position:"static"},P.position==="relative"&&{position:"relative"},!o.vars&&Xr({},P.color==="default"&&{backgroundColor:W,color:o.palette.getContrastText(W)},P.color&&P.color!=="default"&&P.color!=="inherit"&&P.color!=="transparent"&&{backgroundColor:o.palette[P.color].main,color:o.palette[P.color].contrastText},P.color==="inherit"&&{color:"inherit"},o.palette.mode==="dark"&&!P.enableColorOnDark&&{backgroundColor:null,color:null},P.color==="transparent"&&Xr({backgroundColor:"transparent",color:"inherit"},o.palette.mode==="dark"&&{backgroundImage:"none"})),o.vars&&Xr({},P.color==="default"&&{"--AppBar-background":P.enableColorOnDark?o.vars.palette.AppBar.defaultBg:py(o.vars.palette.AppBar.darkBg,o.vars.palette.AppBar.defaultBg),"--AppBar-color":P.enableColorOnDark?o.vars.palette.text.primary:py(o.vars.palette.AppBar.darkColor,o.vars.palette.text.primary)},P.color&&!P.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":P.enableColorOnDark?o.vars.palette[P.color].main:py(o.vars.palette.AppBar.darkBg,o.vars.palette[P.color].main),"--AppBar-color":P.enableColorOnDark?o.vars.palette[P.color].contrastText:py(o.vars.palette.AppBar.darkColor,o.vars.palette[P.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:P.color==="inherit"?"inherit":"var(--AppBar-color)"},P.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),TB=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiAppBar"}),{className:ce,color:me="primary",enableColorOnDark:B=!1,position:N="fixed"}=Q,e=Xa(Q,xB),p=Xr({},Q,{color:me,position:N,enableColorOnDark:B}),L=bB(p);return Or.jsx(wB,Xr({square:!0,component:"header",ownerState:p,elevation:4,className:Oa(L.root,ce,N==="fixed"&&"mui-fixed"),ref:W},e))}),AB=TB;function LE(o){return typeof o=="string"}function SB(o,P,W){return o===void 0||LE(o)?P:Xr({},P,{ownerState:Xr({},P.ownerState,W)})}function PE(o,P=[]){if(o===void 0)return{};const W={};return Object.keys(o).filter(Q=>Q.match(/^on[A-Z]/)&&typeof o[Q]=="function"&&!P.includes(Q)).forEach(Q=>{W[Q]=o[Q]}),W}function MB(o,P,W){return typeof o=="function"?o(P,W):o}function $A(o){if(o===void 0)return{};const P={};return Object.keys(o).filter(W=>!(W.match(/^on[A-Z]/)&&typeof o[W]=="function")).forEach(W=>{P[W]=o[W]}),P}function EB(o){const{getSlotProps:P,additionalProps:W,externalSlotProps:Q,externalForwardedProps:ce,className:me}=o;if(!P){const w=Oa(W==null?void 0:W.className,me,ce==null?void 0:ce.className,Q==null?void 0:Q.className),h=Xr({},W==null?void 0:W.style,ce==null?void 0:ce.style,Q==null?void 0:Q.style),g=Xr({},W,ce,Q);return w.length>0&&(g.className=w),Object.keys(h).length>0&&(g.style=h),{props:g,internalRef:void 0}}const B=PE(Xr({},ce,Q)),N=$A(Q),e=$A(ce),p=P(B),L=Oa(p==null?void 0:p.className,W==null?void 0:W.className,me,ce==null?void 0:ce.className,Q==null?void 0:Q.className),a=Xr({},p==null?void 0:p.style,W==null?void 0:W.style,ce==null?void 0:ce.style,Q==null?void 0:Q.style),C=Xr({},p,W,e,N);return L.length>0&&(C.className=L),Object.keys(a).length>0&&(C.style=a),{props:C,internalRef:p.ref}}const CB=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function qf(o){var P;const{elementType:W,externalSlotProps:Q,ownerState:ce,skipResolvingSlotProps:me=!1}=o,B=Xa(o,CB),N=me?{}:MB(Q,ce),{props:e,internalRef:p}=EB(Xr({},B,{externalSlotProps:N})),L=dl(p,N==null?void 0:N.ref,(P=o.additionalProps)==null?void 0:P.ref);return SB(W,Xr({},e,{ref:L}),ce)}const LB=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function PB(o){const P=parseInt(o.getAttribute("tabindex")||"",10);return Number.isNaN(P)?o.contentEditable==="true"||(o.nodeName==="AUDIO"||o.nodeName==="VIDEO"||o.nodeName==="DETAILS")&&o.getAttribute("tabindex")===null?0:o.tabIndex:P}function RB(o){if(o.tagName!=="INPUT"||o.type!=="radio"||!o.name)return!1;const P=Q=>o.ownerDocument.querySelector(`input[type="radio"]${Q}`);let W=P(`[name="${o.name}"]:checked`);return W||(W=P(`[name="${o.name}"]`)),W!==o}function DB(o){return!(o.disabled||o.tagName==="INPUT"&&o.type==="hidden"||RB(o))}function IB(o){const P=[],W=[];return Array.from(o.querySelectorAll(LB)).forEach((Q,ce)=>{const me=PB(Q);me===-1||!DB(Q)||(me===0?P.push(Q):W.push({documentOrder:ce,tabIndex:me,node:Q}))}),W.sort((Q,ce)=>Q.tabIndex===ce.tabIndex?Q.documentOrder-ce.documentOrder:Q.tabIndex-ce.tabIndex).map(Q=>Q.node).concat(P)}function kB(){return!0}function FB(o){const{children:P,disableAutoFocus:W=!1,disableEnforceFocus:Q=!1,disableRestoreFocus:ce=!1,getTabbable:me=IB,isEnabled:B=kB,open:N}=o,e=Er.useRef(!1),p=Er.useRef(null),L=Er.useRef(null),a=Er.useRef(null),C=Er.useRef(null),w=Er.useRef(!1),h=Er.useRef(null),g=dl(P.ref,h),t=Er.useRef(null);Er.useEffect(()=>{!N||!h.current||(w.current=!W)},[W,N]),Er.useEffect(()=>{if(!N||!h.current)return;const n=zl(h.current);return h.current.contains(n.activeElement)||(h.current.hasAttribute("tabIndex")||h.current.setAttribute("tabIndex","-1"),w.current&&h.current.focus()),()=>{ce||(a.current&&a.current.focus&&(e.current=!0,a.current.focus()),a.current=null)}},[N]),Er.useEffect(()=>{if(!N||!h.current)return;const n=zl(h.current),l=m=>{t.current=m,!(Q||!B()||m.key!=="Tab")&&n.activeElement===h.current&&m.shiftKey&&(e.current=!0,L.current&&L.current.focus())},c=()=>{const m=h.current;if(m===null)return;if(!n.hasFocus()||!B()||e.current){e.current=!1;return}if(m.contains(n.activeElement)||Q&&n.activeElement!==p.current&&n.activeElement!==L.current)return;if(n.activeElement!==C.current)C.current=null;else if(C.current!==null)return;if(!w.current)return;let v=[];if((n.activeElement===p.current||n.activeElement===L.current)&&(v=me(h.current)),v.length>0){var A,d;const u=!!((A=t.current)!=null&&A.shiftKey&&((d=t.current)==null?void 0:d.key)==="Tab"),y=v[0],M=v[v.length-1];typeof y!="string"&&typeof M!="string"&&(u?M.focus():y.focus())}else m.focus()};n.addEventListener("focusin",c),n.addEventListener("keydown",l,!0);const f=setInterval(()=>{n.activeElement&&n.activeElement.tagName==="BODY"&&c()},50);return()=>{clearInterval(f),n.removeEventListener("focusin",c),n.removeEventListener("keydown",l,!0)}},[W,Q,ce,B,N,me]);const r=n=>{a.current===null&&(a.current=n.relatedTarget),w.current=!0,C.current=n.target;const l=P.props.onFocus;l&&l(n)},s=n=>{a.current===null&&(a.current=n.relatedTarget),w.current=!0};return Or.jsxs(Er.Fragment,{children:[Or.jsx("div",{tabIndex:N?0:-1,onFocus:s,ref:p,"data-testid":"sentinelStart"}),Er.cloneElement(P,{ref:g,onFocus:r}),Or.jsx("div",{tabIndex:N?0:-1,onFocus:s,ref:L,"data-testid":"sentinelEnd"})]})}function _B(o){return typeof o=="function"?o():o}const zB=Er.forwardRef(function(P,W){const{children:Q,container:ce,disablePortal:me=!1}=P,[B,N]=Er.useState(null),e=dl(Er.isValidElement(Q)?Q.ref:null,W);if(Jv(()=>{me||N(_B(ce)||document.body)},[ce,me]),Jv(()=>{if(B&&!me)return mm(W,B),()=>{mm(W,null)}},[W,B,me]),me){if(Er.isValidElement(Q)){const p={ref:e};return Er.cloneElement(Q,p)}return Or.jsx(Er.Fragment,{children:Q})}return Or.jsx(Er.Fragment,{children:B&&Um.createPortal(Q,B)})});function OB(o){const P=zl(o);return P.body===o?Kh(o).innerWidth>P.documentElement.clientWidth:o.scrollHeight>o.clientHeight}function I0(o,P){P?o.setAttribute("aria-hidden","true"):o.removeAttribute("aria-hidden")}function KA(o){return parseInt(Kh(o).getComputedStyle(o).paddingRight,10)||0}function BB(o){const W=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(o.tagName)!==-1,Q=o.tagName==="INPUT"&&o.getAttribute("type")==="hidden";return W||Q}function JA(o,P,W,Q,ce){const me=[P,W,...Q];[].forEach.call(o.children,B=>{const N=me.indexOf(B)===-1,e=!BB(B);N&&e&&I0(B,ce)})}function Qx(o,P){let W=-1;return o.some((Q,ce)=>P(Q)?(W=ce,!0):!1),W}function NB(o,P){const W=[],Q=o.container;if(!P.disableScrollLock){if(OB(Q)){const B=$6(zl(Q));W.push({value:Q.style.paddingRight,property:"padding-right",el:Q}),Q.style.paddingRight=`${KA(Q)+B}px`;const N=zl(Q).querySelectorAll(".mui-fixed");[].forEach.call(N,e=>{W.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight=`${KA(e)+B}px`})}let me;if(Q.parentNode instanceof DocumentFragment)me=zl(Q).body;else{const B=Q.parentElement,N=Kh(Q);me=(B==null?void 0:B.nodeName)==="HTML"&&N.getComputedStyle(B).overflowY==="scroll"?B:Q}W.push({value:me.style.overflow,property:"overflow",el:me},{value:me.style.overflowX,property:"overflow-x",el:me},{value:me.style.overflowY,property:"overflow-y",el:me}),me.style.overflow="hidden"}return()=>{W.forEach(({value:me,el:B,property:N})=>{me?B.style.setProperty(N,me):B.style.removeProperty(N)})}}function UB(o){const P=[];return[].forEach.call(o.children,W=>{W.getAttribute("aria-hidden")==="true"&&P.push(W)}),P}class HB{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(P,W){let Q=this.modals.indexOf(P);if(Q!==-1)return Q;Q=this.modals.length,this.modals.push(P),P.modalRef&&I0(P.modalRef,!1);const ce=UB(W);JA(W,P.mount,P.modalRef,ce,!0);const me=Qx(this.containers,B=>B.container===W);return me!==-1?(this.containers[me].modals.push(P),Q):(this.containers.push({modals:[P],container:W,restore:null,hiddenSiblings:ce}),Q)}mount(P,W){const Q=Qx(this.containers,me=>me.modals.indexOf(P)!==-1),ce=this.containers[Q];ce.restore||(ce.restore=NB(ce,W))}remove(P,W=!0){const Q=this.modals.indexOf(P);if(Q===-1)return Q;const ce=Qx(this.containers,B=>B.modals.indexOf(P)!==-1),me=this.containers[ce];if(me.modals.splice(me.modals.indexOf(P),1),this.modals.splice(Q,1),me.modals.length===0)me.restore&&me.restore(),P.modalRef&&I0(P.modalRef,W),JA(me.container,P.mount,P.modalRef,me.hiddenSiblings,!1),this.containers.splice(ce,1);else{const B=me.modals[me.modals.length-1];B.modalRef&&I0(B.modalRef,!1)}return Q}isTopModal(P){return this.modals.length>0&&this.modals[this.modals.length-1]===P}}function VB(o){return typeof o=="function"?o():o}function GB(o){return o?o.props.hasOwnProperty("in"):!1}const WB=new HB;function jB(o){const{container:P,disableEscapeKeyDown:W=!1,disableScrollLock:Q=!1,manager:ce=WB,closeAfterTransition:me=!1,onTransitionEnter:B,onTransitionExited:N,children:e,onClose:p,open:L,rootRef:a}=o,C=Er.useRef({}),w=Er.useRef(null),h=Er.useRef(null),g=dl(h,a),[t,r]=Er.useState(!L),s=GB(e);let n=!0;(o["aria-hidden"]==="false"||o["aria-hidden"]===!1)&&(n=!1);const l=()=>zl(w.current),c=()=>(C.current.modalRef=h.current,C.current.mount=w.current,C.current),f=()=>{ce.mount(c(),{disableScrollLock:Q}),h.current&&(h.current.scrollTop=0)},m=Zf(()=>{const x=VB(P)||l().body;ce.add(c(),x),h.current&&f()}),v=Er.useCallback(()=>ce.isTopModal(c()),[ce]),A=Zf(x=>{w.current=x,x&&(L&&v()?f():h.current&&I0(h.current,n))}),d=Er.useCallback(()=>{ce.remove(c(),n)},[n,ce]);Er.useEffect(()=>()=>{d()},[d]),Er.useEffect(()=>{L?m():(!s||!me)&&d()},[L,d,s,me,m]);const u=x=>E=>{var T;(T=x.onKeyDown)==null||T.call(x,E),!(E.key!=="Escape"||E.which===229||!v())&&(W||(E.stopPropagation(),p&&p(E,"escapeKeyDown")))},y=x=>E=>{var T;(T=x.onClick)==null||T.call(x,E),E.target===E.currentTarget&&p&&p(E,"backdropClick")};return{getRootProps:(x={})=>{const E=PE(o);delete E.onTransitionEnter,delete E.onTransitionExited;const T=Xr({},E,x);return Xr({role:"presentation"},T,{onKeyDown:u(T),ref:g})},getBackdropProps:(x={})=>{const E=x;return Xr({"aria-hidden":!0},E,{onClick:y(E),open:L})},getTransitionProps:()=>{const x=()=>{r(!1),B&&B()},E=()=>{r(!0),N&&N(),me&&d()};return{onEnter:db(x,e==null?void 0:e.props.onEnter),onExited:db(E,e==null?void 0:e.props.onExited)}},rootRef:g,portalRef:A,isTopModal:v,exited:t,hasTransition:s}}const YB=Nu(Or.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function ZB(o){return mi("MuiChip",o)}const XB=di("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Bi=XB,$B=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],KB=o=>{const{classes:P,disabled:W,size:Q,color:ce,iconColor:me,onDelete:B,clickable:N,variant:e}=o,p={root:["root",e,W&&"disabled",`size${Sa(Q)}`,`color${Sa(ce)}`,N&&"clickable",N&&`clickableColor${Sa(ce)}`,B&&"deletable",B&&`deletableColor${Sa(ce)}`,`${e}${Sa(ce)}`],label:["label",`label${Sa(Q)}`],avatar:["avatar",`avatar${Sa(Q)}`,`avatarColor${Sa(ce)}`],icon:["icon",`icon${Sa(Q)}`,`iconColor${Sa(me)}`],deleteIcon:["deleteIcon",`deleteIcon${Sa(Q)}`,`deleteIconColor${Sa(ce)}`,`deleteIcon${Sa(e)}Color${Sa(ce)}`]};return wi(p,ZB,P)},JB=Na("div",{name:"MuiChip",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o,{color:Q,iconColor:ce,clickable:me,onDelete:B,size:N,variant:e}=W;return[{[`& .${Bi.avatar}`]:P.avatar},{[`& .${Bi.avatar}`]:P[`avatar${Sa(N)}`]},{[`& .${Bi.avatar}`]:P[`avatarColor${Sa(Q)}`]},{[`& .${Bi.icon}`]:P.icon},{[`& .${Bi.icon}`]:P[`icon${Sa(N)}`]},{[`& .${Bi.icon}`]:P[`iconColor${Sa(ce)}`]},{[`& .${Bi.deleteIcon}`]:P.deleteIcon},{[`& .${Bi.deleteIcon}`]:P[`deleteIcon${Sa(N)}`]},{[`& .${Bi.deleteIcon}`]:P[`deleteIconColor${Sa(Q)}`]},{[`& .${Bi.deleteIcon}`]:P[`deleteIcon${Sa(e)}Color${Sa(Q)}`]},P.root,P[`size${Sa(N)}`],P[`color${Sa(Q)}`],me&&P.clickable,me&&Q!=="default"&&P[`clickableColor${Sa(Q)})`],B&&P.deletable,B&&Q!=="default"&&P[`deletableColor${Sa(Q)}`],P[e],P[`${e}${Sa(Q)}`]]}})(({theme:o,ownerState:P})=>{const W=o.palette.mode==="light"?o.palette.grey[700]:o.palette.grey[300];return Xr({maxWidth:"100%",fontFamily:o.typography.fontFamily,fontSize:o.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(o.vars||o).palette.text.primary,backgroundColor:(o.vars||o).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:o.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Bi.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Bi.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:o.vars?o.vars.palette.Chip.defaultAvatarColor:W,fontSize:o.typography.pxToRem(12)},[`& .${Bi.avatarColorPrimary}`]:{color:(o.vars||o).palette.primary.contrastText,backgroundColor:(o.vars||o).palette.primary.dark},[`& .${Bi.avatarColorSecondary}`]:{color:(o.vars||o).palette.secondary.contrastText,backgroundColor:(o.vars||o).palette.secondary.dark},[`& .${Bi.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:o.typography.pxToRem(10)},[`& .${Bi.icon}`]:Xr({marginLeft:5,marginRight:-6},P.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},P.iconColor===P.color&&Xr({color:o.vars?o.vars.palette.Chip.defaultIconColor:W},P.color!=="default"&&{color:"inherit"})),[`& .${Bi.deleteIcon}`]:Xr({WebkitTapHighlightColor:"transparent",color:o.vars?`rgba(${o.vars.palette.text.primaryChannel} / 0.26)`:yo(o.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:o.vars?`rgba(${o.vars.palette.text.primaryChannel} / 0.4)`:yo(o.palette.text.primary,.4)}},P.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},P.color!=="default"&&{color:o.vars?`rgba(${o.vars.palette[P.color].contrastTextChannel} / 0.7)`:yo(o.palette[P.color].contrastText,.7),"&:hover, &:active":{color:(o.vars||o).palette[P.color].contrastText}})},P.size==="small"&&{height:24},P.color!=="default"&&{backgroundColor:(o.vars||o).palette[P.color].main,color:(o.vars||o).palette[P.color].contrastText},P.onDelete&&{[`&.${Bi.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.action.selectedChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:yo(o.palette.action.selected,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}},P.onDelete&&P.color!=="default"&&{[`&.${Bi.focusVisible}`]:{backgroundColor:(o.vars||o).palette[P.color].dark}})},({theme:o,ownerState:P})=>Xr({},P.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.selectedChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:yo(o.palette.action.selected,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity)},[`&.${Bi.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.action.selectedChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:yo(o.palette.action.selected,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)},"&:active":{boxShadow:(o.vars||o).shadows[1]}},P.clickable&&P.color!=="default"&&{[`&:hover, &.${Bi.focusVisible}`]:{backgroundColor:(o.vars||o).palette[P.color].dark}}),({theme:o,ownerState:P})=>Xr({},P.variant==="outlined"&&{backgroundColor:"transparent",border:o.vars?`1px solid ${o.vars.palette.Chip.defaultBorder}`:`1px solid ${o.palette.mode==="light"?o.palette.grey[400]:o.palette.grey[700]}`,[`&.${Bi.clickable}:hover`]:{backgroundColor:(o.vars||o).palette.action.hover},[`&.${Bi.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},[`& .${Bi.avatar}`]:{marginLeft:4},[`& .${Bi.avatarSmall}`]:{marginLeft:2},[`& .${Bi.icon}`]:{marginLeft:4},[`& .${Bi.iconSmall}`]:{marginLeft:2},[`& .${Bi.deleteIcon}`]:{marginRight:5},[`& .${Bi.deleteIconSmall}`]:{marginRight:3}},P.variant==="outlined"&&P.color!=="default"&&{color:(o.vars||o).palette[P.color].main,border:`1px solid ${o.vars?`rgba(${o.vars.palette[P.color].mainChannel} / 0.7)`:yo(o.palette[P.color].main,.7)}`,[`&.${Bi.clickable}:hover`]:{backgroundColor:o.vars?`rgba(${o.vars.palette[P.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:yo(o.palette[P.color].main,o.palette.action.hoverOpacity)},[`&.${Bi.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette[P.color].mainChannel} / ${o.vars.palette.action.focusOpacity})`:yo(o.palette[P.color].main,o.palette.action.focusOpacity)},[`& .${Bi.deleteIcon}`]:{color:o.vars?`rgba(${o.vars.palette[P.color].mainChannel} / 0.7)`:yo(o.palette[P.color].main,.7),"&:hover, &:active":{color:(o.vars||o).palette[P.color].main}}})),QB=Na("span",{name:"MuiChip",slot:"Label",overridesResolver:(o,P)=>{const{ownerState:W}=o,{size:Q}=W;return[P.label,P[`label${Sa(Q)}`]]}})(({ownerState:o})=>Xr({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},o.variant==="outlined"&&{paddingLeft:11,paddingRight:11},o.size==="small"&&{paddingLeft:8,paddingRight:8},o.size==="small"&&o.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function QA(o){return o.key==="Backspace"||o.key==="Delete"}const qB=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiChip"}),{avatar:ce,className:me,clickable:B,color:N="default",component:e,deleteIcon:p,disabled:L=!1,icon:a,label:C,onClick:w,onDelete:h,onKeyDown:g,onKeyUp:t,size:r="medium",variant:s="filled",tabIndex:n,skipFocusWhenDisabled:l=!1}=Q,c=Xa(Q,$B),f=Er.useRef(null),m=dl(f,W),v=i=>{i.stopPropagation(),h&&h(i)},A=i=>{i.currentTarget===i.target&&QA(i)&&i.preventDefault(),g&&g(i)},d=i=>{i.currentTarget===i.target&&(h&&QA(i)?h(i):i.key==="Escape"&&f.current&&f.current.blur()),t&&t(i)},u=B!==!1&&w?!0:B,y=u||h?Jh:e||"div",M=Xr({},Q,{component:y,disabled:L,size:r,color:N,iconColor:Er.isValidElement(a)&&a.props.color||N,onDelete:!!h,clickable:u,variant:s}),S=KB(M),R=y===Jh?Xr({component:e||"div",focusVisibleClassName:S.focusVisible},h&&{disableRipple:!0}):{};let x=null;h&&(x=p&&Er.isValidElement(p)?Er.cloneElement(p,{className:Oa(p.props.className,S.deleteIcon),onClick:v}):Or.jsx(YB,{className:Oa(S.deleteIcon),onClick:v}));let E=null;ce&&Er.isValidElement(ce)&&(E=Er.cloneElement(ce,{className:Oa(S.avatar,ce.props.className)}));let T=null;return a&&Er.isValidElement(a)&&(T=Er.cloneElement(a,{className:Oa(S.icon,a.props.className)})),Or.jsxs(JB,Xr({as:y,className:Oa(S.root,me),disabled:u&&L?!0:void 0,onClick:w,onKeyDown:A,onKeyUp:d,ref:m,tabIndex:l&&L?-1:n,ownerState:M},R,c,{children:[E||T,Or.jsx(QB,{className:Oa(S.label),ownerState:M,children:C}),x]}))}),qx=qB;function eN({props:o,states:P,muiFormControl:W}){return P.reduce((Q,ce)=>(Q[ce]=o[ce],W&&typeof o[ce]>"u"&&(Q[ce]=W[ce]),Q),{})}const tN=Er.createContext(void 0),rN=tN;function RE(){return Er.useContext(rN)}function nN(o){return Or.jsx(P_,Xr({},o,{defaultTheme:D1,themeId:Qv}))}const aN=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],iN={entering:{opacity:1},entered:{opacity:1}},oN=Er.forwardRef(function(P,W){const Q=tv(),ce={enter:Q.transitions.duration.enteringScreen,exit:Q.transitions.duration.leavingScreen},{addEndListener:me,appear:B=!0,children:N,easing:e,in:p,onEnter:L,onEntered:a,onEntering:C,onExit:w,onExited:h,onExiting:g,style:t,timeout:r=ce,TransitionComponent:s=iw}=P,n=Xa(P,aN),l=Er.useRef(null),c=dl(l,N.ref,W),f=S=>R=>{if(S){const x=l.current;R===void 0?S(x):S(x,R)}},m=f(C),v=f((S,R)=>{EE(S);const x=Ap({style:t,timeout:r,easing:e},{mode:"enter"});S.style.webkitTransition=Q.transitions.create("opacity",x),S.style.transition=Q.transitions.create("opacity",x),L&&L(S,R)}),A=f(a),d=f(g),u=f(S=>{const R=Ap({style:t,timeout:r,easing:e},{mode:"exit"});S.style.webkitTransition=Q.transitions.create("opacity",R),S.style.transition=Q.transitions.create("opacity",R),w&&w(S)}),y=f(h),M=S=>{me&&me(l.current,S)};return Or.jsx(s,Xr({appear:B,in:p,nodeRef:l,onEnter:v,onEntered:A,onEntering:m,onExit:u,onExited:y,onExiting:d,addEndListener:M,timeout:r},n,{children:(S,R)=>Er.cloneElement(N,Xr({style:Xr({opacity:0,visibility:S==="exited"&&!p?"hidden":void 0},iN[S],t,N.props.style),ref:c},R))}))}),DE=oN;function sN(o){return mi("MuiBackdrop",o)}di("MuiBackdrop",["root","invisible"]);const lN=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],uN=o=>{const{classes:P,invisible:W}=o;return wi({root:["root",W&&"invisible"]},sN,P)},fN=Na("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,W.invisible&&P.invisible]}})(({ownerState:o})=>Xr({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},o.invisible&&{backgroundColor:"transparent"})),cN=Er.forwardRef(function(P,W){var Q,ce,me;const B=xi({props:P,name:"MuiBackdrop"}),{children:N,className:e,component:p="div",components:L={},componentsProps:a={},invisible:C=!1,open:w,slotProps:h={},slots:g={},TransitionComponent:t=DE,transitionDuration:r}=B,s=Xa(B,lN),n=Xr({},B,{component:p,invisible:C}),l=uN(n),c=(Q=h.root)!=null?Q:a.root;return Or.jsx(t,Xr({in:w,timeout:r},s,{children:Or.jsx(fN,Xr({"aria-hidden":!0},c,{as:(ce=(me=g.root)!=null?me:L.Root)!=null?ce:p,className:Oa(l.root,e,c==null?void 0:c.className),ownerState:Xr({},n,c==null?void 0:c.ownerState),classes:l,ref:W,children:N}))}))}),IE=cN,hN=di("MuiBox",["root"]),vN=hN,dN=aw(),pN=k_({themeId:Qv,defaultTheme:dN,defaultClassName:vN.root,generateClassName:j3.generate}),qa=pN;function gN(o){return mi("MuiButton",o)}const yN=di("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),gy=yN,mN=Er.createContext({}),xN=mN,bN=Er.createContext(void 0),wN=bN,TN=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],AN=o=>{const{color:P,disableElevation:W,fullWidth:Q,size:ce,variant:me,classes:B}=o,N={root:["root",me,`${me}${Sa(P)}`,`size${Sa(ce)}`,`${me}Size${Sa(ce)}`,P==="inherit"&&"colorInherit",W&&"disableElevation",Q&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Sa(ce)}`],endIcon:["endIcon",`iconSize${Sa(ce)}`]},e=wi(N,gN,B);return Xr({},B,e)},kE=o=>Xr({},o.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},o.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},o.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),SN=Na(Jh,{shouldForwardProp:o=>Ip(o)||o==="classes",name:"MuiButton",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,P[W.variant],P[`${W.variant}${Sa(W.color)}`],P[`size${Sa(W.size)}`],P[`${W.variant}Size${Sa(W.size)}`],W.color==="inherit"&&P.colorInherit,W.disableElevation&&P.disableElevation,W.fullWidth&&P.fullWidth]}})(({theme:o,ownerState:P})=>{var W,Q;const ce=o.palette.mode==="light"?o.palette.grey[300]:o.palette.grey[800],me=o.palette.mode==="light"?o.palette.grey.A100:o.palette.grey[700];return Xr({},o.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(o.vars||o).shape.borderRadius,transition:o.transitions.create(["background-color","box-shadow","border-color","color"],{duration:o.transitions.duration.short}),"&:hover":Xr({textDecoration:"none",backgroundColor:o.vars?`rgba(${o.vars.palette.text.primaryChannel} / ${o.vars.palette.action.hoverOpacity})`:yo(o.palette.text.primary,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},P.variant==="text"&&P.color!=="inherit"&&{backgroundColor:o.vars?`rgba(${o.vars.palette[P.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:yo(o.palette[P.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},P.variant==="outlined"&&P.color!=="inherit"&&{border:`1px solid ${(o.vars||o).palette[P.color].main}`,backgroundColor:o.vars?`rgba(${o.vars.palette[P.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:yo(o.palette[P.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},P.variant==="contained"&&{backgroundColor:o.vars?o.vars.palette.Button.inheritContainedHoverBg:me,boxShadow:(o.vars||o).shadows[4],"@media (hover: none)":{boxShadow:(o.vars||o).shadows[2],backgroundColor:(o.vars||o).palette.grey[300]}},P.variant==="contained"&&P.color!=="inherit"&&{backgroundColor:(o.vars||o).palette[P.color].dark,"@media (hover: none)":{backgroundColor:(o.vars||o).palette[P.color].main}}),"&:active":Xr({},P.variant==="contained"&&{boxShadow:(o.vars||o).shadows[8]}),[`&.${gy.focusVisible}`]:Xr({},P.variant==="contained"&&{boxShadow:(o.vars||o).shadows[6]}),[`&.${gy.disabled}`]:Xr({color:(o.vars||o).palette.action.disabled},P.variant==="outlined"&&{border:`1px solid ${(o.vars||o).palette.action.disabledBackground}`},P.variant==="contained"&&{color:(o.vars||o).palette.action.disabled,boxShadow:(o.vars||o).shadows[0],backgroundColor:(o.vars||o).palette.action.disabledBackground})},P.variant==="text"&&{padding:"6px 8px"},P.variant==="text"&&P.color!=="inherit"&&{color:(o.vars||o).palette[P.color].main},P.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},P.variant==="outlined"&&P.color!=="inherit"&&{color:(o.vars||o).palette[P.color].main,border:o.vars?`1px solid rgba(${o.vars.palette[P.color].mainChannel} / 0.5)`:`1px solid ${yo(o.palette[P.color].main,.5)}`},P.variant==="contained"&&{color:o.vars?o.vars.palette.text.primary:(W=(Q=o.palette).getContrastText)==null?void 0:W.call(Q,o.palette.grey[300]),backgroundColor:o.vars?o.vars.palette.Button.inheritContainedBg:ce,boxShadow:(o.vars||o).shadows[2]},P.variant==="contained"&&P.color!=="inherit"&&{color:(o.vars||o).palette[P.color].contrastText,backgroundColor:(o.vars||o).palette[P.color].main},P.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},P.size==="small"&&P.variant==="text"&&{padding:"4px 5px",fontSize:o.typography.pxToRem(13)},P.size==="large"&&P.variant==="text"&&{padding:"8px 11px",fontSize:o.typography.pxToRem(15)},P.size==="small"&&P.variant==="outlined"&&{padding:"3px 9px",fontSize:o.typography.pxToRem(13)},P.size==="large"&&P.variant==="outlined"&&{padding:"7px 21px",fontSize:o.typography.pxToRem(15)},P.size==="small"&&P.variant==="contained"&&{padding:"4px 10px",fontSize:o.typography.pxToRem(13)},P.size==="large"&&P.variant==="contained"&&{padding:"8px 22px",fontSize:o.typography.pxToRem(15)},P.fullWidth&&{width:"100%"})},({ownerState:o})=>o.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${gy.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${gy.disabled}`]:{boxShadow:"none"}}),MN=Na("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.startIcon,P[`iconSize${Sa(W.size)}`]]}})(({ownerState:o})=>Xr({display:"inherit",marginRight:8,marginLeft:-4},o.size==="small"&&{marginLeft:-2},kE(o))),EN=Na("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.endIcon,P[`iconSize${Sa(W.size)}`]]}})(({ownerState:o})=>Xr({display:"inherit",marginRight:-4,marginLeft:8},o.size==="small"&&{marginRight:-2},kE(o))),CN=Er.forwardRef(function(P,W){const Q=Er.useContext(xN),ce=Er.useContext(wN),me=W3(Q,P),B=xi({props:me,name:"MuiButton"}),{children:N,color:e="primary",component:p="button",className:L,disabled:a=!1,disableElevation:C=!1,disableFocusRipple:w=!1,endIcon:h,focusVisibleClassName:g,fullWidth:t=!1,size:r="medium",startIcon:s,type:n,variant:l="text"}=B,c=Xa(B,TN),f=Xr({},B,{color:e,component:p,disabled:a,disableElevation:C,disableFocusRipple:w,fullWidth:t,size:r,type:n,variant:l}),m=AN(f),v=s&&Or.jsx(MN,{className:m.startIcon,ownerState:f,children:s}),A=h&&Or.jsx(EN,{className:m.endIcon,ownerState:f,children:h}),d=ce||"";return Or.jsxs(SN,Xr({ownerState:f,className:Oa(Q.className,m.root,L,d),component:p,disabled:a,focusRipple:!w,focusVisibleClassName:Oa(m.focusVisible,g),ref:W,type:n},c,{classes:m,children:[v,N,A]}))}),zc=CN;function LN(o){return mi("MuiCard",o)}di("MuiCard",["root"]);const PN=["className","raised"],RN=o=>{const{classes:P}=o;return wi({root:["root"]},LN,P)},DN=Na(ad,{name:"MuiCard",slot:"Root",overridesResolver:(o,P)=>P.root})(()=>({overflow:"hidden"})),IN=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiCard"}),{className:ce,raised:me=!1}=Q,B=Xa(Q,PN),N=Xr({},Q,{raised:me}),e=RN(N);return Or.jsx(DN,Xr({className:Oa(e.root,ce),elevation:me?8:void 0,ref:W,ownerState:N},B))}),ig=IN;function kN(o){return mi("MuiCardContent",o)}di("MuiCardContent",["root"]);const FN=["className","component"],_N=o=>{const{classes:P}=o;return wi({root:["root"]},kN,P)},zN=Na("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(o,P)=>P.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ON=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiCardContent"}),{className:ce,component:me="div"}=Q,B=Xa(Q,FN),N=Xr({},Q,{component:me}),e=_N(N);return Or.jsx(zN,Xr({as:me,className:Oa(e.root,ce),ownerState:N,ref:W},B))}),og=ON;function BN(o){return mi("MuiCardHeader",o)}const NN=di("MuiCardHeader",["root","avatar","action","content","title","subheader"]),qA=NN,UN=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],HN=o=>{const{classes:P}=o;return wi({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},BN,P)},VN=Na("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(o,P)=>Xr({[`& .${qA.title}`]:P.title,[`& .${qA.subheader}`]:P.subheader},P.root)})({display:"flex",alignItems:"center",padding:16}),GN=Na("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(o,P)=>P.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),WN=Na("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(o,P)=>P.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),jN=Na("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(o,P)=>P.content})({flex:"1 1 auto"}),YN=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiCardHeader"}),{action:ce,avatar:me,className:B,component:N="div",disableTypography:e=!1,subheader:p,subheaderTypographyProps:L,title:a,titleTypographyProps:C}=Q,w=Xa(Q,UN),h=Xr({},Q,{component:N,disableTypography:e}),g=HN(h);let t=a;t!=null&&t.type!==Ci&&!e&&(t=Or.jsx(Ci,Xr({variant:me?"body2":"h5",className:g.title,component:"span",display:"block"},C,{children:t})));let r=p;return r!=null&&r.type!==Ci&&!e&&(r=Or.jsx(Ci,Xr({variant:me?"body2":"body1",className:g.subheader,color:"text.secondary",component:"span",display:"block"},L,{children:r}))),Or.jsxs(VN,Xr({className:Oa(g.root,B),as:N,ref:W,ownerState:h},w,{children:[me&&Or.jsx(GN,{className:g.avatar,ownerState:h,children:me}),Or.jsxs(jN,{className:g.content,ownerState:h,children:[t,r]}),ce&&Or.jsx(WN,{className:g.action,ownerState:h,children:ce})]}))}),ZN=YN;function XN(o){return mi("PrivateSwitchBase",o)}di("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const $N=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],KN=o=>{const{classes:P,checked:W,disabled:Q,edge:ce}=o,me={root:["root",W&&"checked",Q&&"disabled",ce&&`edge${Sa(ce)}`],input:["input"]};return wi(me,XN,P)},JN=Na(Jh)(({ownerState:o})=>Xr({padding:9,borderRadius:"50%"},o.edge==="start"&&{marginLeft:o.size==="small"?-3:-12},o.edge==="end"&&{marginRight:o.size==="small"?-3:-12})),QN=Na("input",{shouldForwardProp:Ip})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),qN=Er.forwardRef(function(P,W){const{autoFocus:Q,checked:ce,checkedIcon:me,className:B,defaultChecked:N,disabled:e,disableFocusRipple:p=!1,edge:L=!1,icon:a,id:C,inputProps:w,inputRef:h,name:g,onBlur:t,onChange:r,onFocus:s,readOnly:n,required:l=!1,tabIndex:c,type:f,value:m}=P,v=Xa(P,$N),[A,d]=X6({controlled:ce,default:!!N,name:"SwitchBase",state:"checked"}),u=RE(),y=i=>{s&&s(i),u&&u.onFocus&&u.onFocus(i)},M=i=>{t&&t(i),u&&u.onBlur&&u.onBlur(i)},S=i=>{if(i.nativeEvent.defaultPrevented)return;const D=i.target.checked;d(D),r&&r(i,D)};let R=e;u&&typeof R>"u"&&(R=u.disabled);const x=f==="checkbox"||f==="radio",E=Xr({},P,{checked:A,disabled:R,disableFocusRipple:p,edge:L}),T=KN(E);return Or.jsxs(JN,Xr({component:"span",className:Oa(T.root,B),centerRipple:!0,focusRipple:!p,disabled:R,tabIndex:null,role:void 0,onFocus:y,onBlur:M,ownerState:E,ref:W},v,{children:[Or.jsx(QN,Xr({autoFocus:Q,checked:ce,defaultChecked:N,className:T.input,disabled:R,id:x?C:void 0,name:g,onChange:S,readOnly:n,ref:h,required:l,ownerState:E,tabIndex:c,type:f},f==="checkbox"&&m===void 0?{}:{value:m},w)),A?me:a]}))}),eU=qN,tU=Nu(Or.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),rU=Nu(Or.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),nU=Nu(Or.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function aU(o){return mi("MuiCheckbox",o)}const iU=di("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),e2=iU,oU=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],sU=o=>{const{classes:P,indeterminate:W,color:Q,size:ce}=o,me={root:["root",W&&"indeterminate",`color${Sa(Q)}`,`size${Sa(ce)}`]},B=wi(me,aU,P);return Xr({},P,B)},lU=Na(eU,{shouldForwardProp:o=>Ip(o)||o==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,W.indeterminate&&P.indeterminate,P[`size${Sa(W.size)}`],W.color!=="default"&&P[`color${Sa(W.color)}`]]}})(({theme:o,ownerState:P})=>Xr({color:(o.vars||o).palette.text.secondary},!P.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${P.color==="default"?o.vars.palette.action.activeChannel:o.vars.palette[P.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:yo(P.color==="default"?o.palette.action.active:o.palette[P.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},P.color!=="default"&&{[`&.${e2.checked}, &.${e2.indeterminate}`]:{color:(o.vars||o).palette[P.color].main},[`&.${e2.disabled}`]:{color:(o.vars||o).palette.action.disabled}})),uU=Or.jsx(rU,{}),fU=Or.jsx(tU,{}),cU=Or.jsx(nU,{}),hU=Er.forwardRef(function(P,W){var Q,ce;const me=xi({props:P,name:"MuiCheckbox"}),{checkedIcon:B=uU,color:N="primary",icon:e=fU,indeterminate:p=!1,indeterminateIcon:L=cU,inputProps:a,size:C="medium",className:w}=me,h=Xa(me,oU),g=p?L:e,t=p?L:B,r=Xr({},me,{color:N,indeterminate:p,size:C}),s=sU(r);return Or.jsx(lU,Xr({type:"checkbox",inputProps:Xr({"data-indeterminate":p},a),icon:Er.cloneElement(g,{fontSize:(Q=g.props.fontSize)!=null?Q:C}),checkedIcon:Er.cloneElement(t,{fontSize:(ce=t.props.fontSize)!=null?ce:C}),ownerState:r,ref:W,className:Oa(s.root,w)},h,{classes:s}))}),vU=hU;function dU(o){return mi("MuiCircularProgress",o)}di("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const pU=["className","color","disableShrink","size","style","thickness","value","variant"];let k1=o=>o,e4,t4,r4,n4;const Mh=44,gU=xg(e4||(e4=k1`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),yU=xg(t4||(t4=k1`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),mU=o=>{const{classes:P,variant:W,color:Q,disableShrink:ce}=o,me={root:["root",W,`color${Sa(Q)}`],svg:["svg"],circle:["circle",`circle${Sa(W)}`,ce&&"circleDisableShrink"]};return wi(me,dU,P)},xU=Na("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,P[W.variant],P[`color${Sa(W.color)}`]]}})(({ownerState:o,theme:P})=>Xr({display:"inline-block"},o.variant==="determinate"&&{transition:P.transitions.create("transform")},o.color!=="inherit"&&{color:(P.vars||P).palette[o.color].main}),({ownerState:o})=>o.variant==="indeterminate"&&K3(r4||(r4=k1`
      animation: ${0} 1.4s linear infinite;
    `),gU)),bU=Na("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(o,P)=>P.svg})({display:"block"}),wU=Na("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.circle,P[`circle${Sa(W.variant)}`],W.disableShrink&&P.circleDisableShrink]}})(({ownerState:o,theme:P})=>Xr({stroke:"currentColor"},o.variant==="determinate"&&{transition:P.transitions.create("stroke-dashoffset")},o.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:o})=>o.variant==="indeterminate"&&!o.disableShrink&&K3(n4||(n4=k1`
      animation: ${0} 1.4s ease-in-out infinite;
    `),yU)),TU=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiCircularProgress"}),{className:ce,color:me="primary",disableShrink:B=!1,size:N=40,style:e,thickness:p=3.6,value:L=0,variant:a="indeterminate"}=Q,C=Xa(Q,pU),w=Xr({},Q,{color:me,disableShrink:B,size:N,thickness:p,value:L,variant:a}),h=mU(w),g={},t={},r={};if(a==="determinate"){const s=2*Math.PI*((Mh-p)/2);g.strokeDasharray=s.toFixed(3),r["aria-valuenow"]=Math.round(L),g.strokeDashoffset=`${((100-L)/100*s).toFixed(3)}px`,t.transform="rotate(-90deg)"}return Or.jsx(xU,Xr({className:Oa(h.root,ce),style:Xr({width:N,height:N},t,e),ownerState:w,ref:W,role:"progressbar"},r,C,{children:Or.jsx(bU,{className:h.svg,ownerState:w,viewBox:`${Mh/2} ${Mh/2} ${Mh} ${Mh}`,children:Or.jsx(wU,{className:h.circle,style:g,ownerState:w,cx:Mh,cy:Mh,r:(Mh-p)/2,fill:"none",strokeWidth:p})})}))}),uw=TU,AU=oz({createStyledComponent:Na("div",{name:"MuiContainer",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,P[`maxWidth${Sa(String(W.maxWidth))}`],W.fixed&&P.fixed,W.disableGutters&&P.disableGutters]}}),useThemeProps:o=>xi({props:o,name:"MuiContainer"})}),FE=AU,SU=(o,P)=>Xr({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},P&&!o.vars&&{colorScheme:o.palette.mode}),MU=o=>Xr({color:(o.vars||o).palette.text.primary},o.typography.body1,{backgroundColor:(o.vars||o).palette.background.default,"@media print":{backgroundColor:(o.vars||o).palette.common.white}}),EU=(o,P=!1)=>{var W;const Q={};P&&o.colorSchemes&&Object.entries(o.colorSchemes).forEach(([B,N])=>{var e;Q[o.getColorSchemeSelector(B).replace(/\s*&/,"")]={colorScheme:(e=N.palette)==null?void 0:e.mode}});let ce=Xr({html:SU(o,P),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:o.typography.fontWeightBold},body:Xr({margin:0},MU(o),{"&::backdrop":{backgroundColor:(o.vars||o).palette.background.default}})},Q);const me=(W=o.components)==null||(W=W.MuiCssBaseline)==null?void 0:W.styleOverrides;return me&&(ce=[ce,me]),ce};function CU(o){const P=xi({props:o,name:"MuiCssBaseline"}),{children:W,enableColorScheme:Q=!1}=P;return Or.jsxs(Er.Fragment,{children:[Or.jsx(nN,{styles:ce=>EU(ce,Q)}),W]})}function LU(o){return mi("MuiModal",o)}di("MuiModal",["root","hidden","backdrop"]);const PU=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],RU=o=>{const{open:P,exited:W,classes:Q}=o;return wi({root:["root",!P&&W&&"hidden"],backdrop:["backdrop"]},LU,Q)},DU=Na("div",{name:"MuiModal",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,!W.open&&W.exited&&P.hidden]}})(({theme:o,ownerState:P})=>Xr({position:"fixed",zIndex:(o.vars||o).zIndex.modal,right:0,bottom:0,top:0,left:0},!P.open&&P.exited&&{visibility:"hidden"})),IU=Na(IE,{name:"MuiModal",slot:"Backdrop",overridesResolver:(o,P)=>P.backdrop})({zIndex:-1}),kU=Er.forwardRef(function(P,W){var Q,ce,me,B,N,e;const p=xi({name:"MuiModal",props:P}),{BackdropComponent:L=IU,BackdropProps:a,className:C,closeAfterTransition:w=!1,children:h,container:g,component:t,components:r={},componentsProps:s={},disableAutoFocus:n=!1,disableEnforceFocus:l=!1,disableEscapeKeyDown:c=!1,disablePortal:f=!1,disableRestoreFocus:m=!1,disableScrollLock:v=!1,hideBackdrop:A=!1,keepMounted:d=!1,onBackdropClick:u,open:y,slotProps:M,slots:S}=p,R=Xa(p,PU),x=Xr({},p,{closeAfterTransition:w,disableAutoFocus:n,disableEnforceFocus:l,disableEscapeKeyDown:c,disablePortal:f,disableRestoreFocus:m,disableScrollLock:v,hideBackdrop:A,keepMounted:d}),{getRootProps:E,getBackdropProps:T,getTransitionProps:i,portalRef:D,isTopModal:b,exited:O,hasTransition:F}=jB(Xr({},x,{rootRef:W})),V=Xr({},x,{exited:O}),_=RU(V),U={};if(h.props.tabIndex===void 0&&(U.tabIndex="-1"),F){const{onEnter:oe,onExited:he}=i();U.onEnter=oe,U.onExited=he}const H=(Q=(ce=S==null?void 0:S.root)!=null?ce:r.Root)!=null?Q:DU,z=(me=(B=S==null?void 0:S.backdrop)!=null?B:r.Backdrop)!=null?me:L,G=(N=M==null?void 0:M.root)!=null?N:s.root,Y=(e=M==null?void 0:M.backdrop)!=null?e:s.backdrop,J=qf({elementType:H,externalSlotProps:G,externalForwardedProps:R,getSlotProps:E,additionalProps:{ref:W,as:t},ownerState:V,className:Oa(C,G==null?void 0:G.className,_==null?void 0:_.root,!V.open&&V.exited&&(_==null?void 0:_.hidden))}),ae=qf({elementType:z,externalSlotProps:Y,additionalProps:a,getSlotProps:oe=>T(Xr({},oe,{onClick:he=>{u&&u(he),oe!=null&&oe.onClick&&oe.onClick(he)}})),className:Oa(Y==null?void 0:Y.className,a==null?void 0:a.className,_==null?void 0:_.backdrop),ownerState:V});return!d&&!y&&(!F||O)?null:Or.jsx(zB,{ref:D,container:g,disablePortal:f,children:Or.jsxs(H,Xr({},J,{children:[!A&&L?Or.jsx(z,Xr({},ae)):null,Or.jsx(FB,{disableEnforceFocus:l,disableAutoFocus:n,disableRestoreFocus:m,isEnabled:b,open:y,children:Er.cloneElement(h,U)})]}))})}),_E=kU;function FU(o){return mi("MuiDialog",o)}const _U=di("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),t2=_U,zU=Er.createContext({}),zE=zU,OU=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],BU=Na(IE,{name:"MuiDialog",slot:"Backdrop",overrides:(o,P)=>P.backdrop})({zIndex:-1}),NU=o=>{const{classes:P,scroll:W,maxWidth:Q,fullWidth:ce,fullScreen:me}=o,B={root:["root"],container:["container",`scroll${Sa(W)}`],paper:["paper",`paperScroll${Sa(W)}`,`paperWidth${Sa(String(Q))}`,ce&&"paperFullWidth",me&&"paperFullScreen"]};return wi(B,FU,P)},UU=Na(_E,{name:"MuiDialog",slot:"Root",overridesResolver:(o,P)=>P.root})({"@media print":{position:"absolute !important"}}),HU=Na("div",{name:"MuiDialog",slot:"Container",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.container,P[`scroll${Sa(W.scroll)}`]]}})(({ownerState:o})=>Xr({height:"100%","@media print":{height:"auto"},outline:0},o.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},o.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),VU=Na(ad,{name:"MuiDialog",slot:"Paper",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.paper,P[`scrollPaper${Sa(W.scroll)}`],P[`paperWidth${Sa(String(W.maxWidth))}`],W.fullWidth&&P.paperFullWidth,W.fullScreen&&P.paperFullScreen]}})(({theme:o,ownerState:P})=>Xr({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},P.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},P.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!P.maxWidth&&{maxWidth:"calc(100% - 64px)"},P.maxWidth==="xs"&&{maxWidth:o.breakpoints.unit==="px"?Math.max(o.breakpoints.values.xs,444):`max(${o.breakpoints.values.xs}${o.breakpoints.unit}, 444px)`,[`&.${t2.paperScrollBody}`]:{[o.breakpoints.down(Math.max(o.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},P.maxWidth&&P.maxWidth!=="xs"&&{maxWidth:`${o.breakpoints.values[P.maxWidth]}${o.breakpoints.unit}`,[`&.${t2.paperScrollBody}`]:{[o.breakpoints.down(o.breakpoints.values[P.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},P.fullWidth&&{width:"calc(100% - 64px)"},P.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${t2.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),GU=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiDialog"}),ce=tv(),me={enter:ce.transitions.duration.enteringScreen,exit:ce.transitions.duration.leavingScreen},{"aria-describedby":B,"aria-labelledby":N,BackdropComponent:e,BackdropProps:p,children:L,className:a,disableEscapeKeyDown:C=!1,fullScreen:w=!1,fullWidth:h=!1,maxWidth:g="sm",onBackdropClick:t,onClose:r,open:s,PaperComponent:n=ad,PaperProps:l={},scroll:c="paper",TransitionComponent:f=DE,transitionDuration:m=me,TransitionProps:v}=Q,A=Xa(Q,OU),d=Xr({},Q,{disableEscapeKeyDown:C,fullScreen:w,fullWidth:h,maxWidth:g,scroll:c}),u=NU(d),y=Er.useRef(),M=E=>{y.current=E.target===E.currentTarget},S=E=>{y.current&&(y.current=null,t&&t(E),r&&r(E,"backdropClick"))},R=Z6(N),x=Er.useMemo(()=>({titleId:R}),[R]);return Or.jsx(UU,Xr({className:Oa(u.root,a),closeAfterTransition:!0,components:{Backdrop:BU},componentsProps:{backdrop:Xr({transitionDuration:m,as:e},p)},disableEscapeKeyDown:C,onClose:r,open:s,ref:W,onClick:S,ownerState:d},A,{children:Or.jsx(f,Xr({appear:!0,in:s,timeout:m,role:"presentation"},v,{children:Or.jsx(HU,{className:Oa(u.container),onMouseDown:M,ownerState:d,children:Or.jsx(VU,Xr({as:n,elevation:24,role:"dialog","aria-describedby":B,"aria-labelledby":R},l,{className:Oa(u.paper,l.className),ownerState:d,children:Or.jsx(zE.Provider,{value:x,children:L})}))})}))}))}),a4=GU;function WU(o){return mi("MuiDialogActions",o)}di("MuiDialogActions",["root","spacing"]);const jU=["className","disableSpacing"],YU=o=>{const{classes:P,disableSpacing:W}=o;return wi({root:["root",!W&&"spacing"]},WU,P)},ZU=Na("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,!W.disableSpacing&&P.spacing]}})(({ownerState:o})=>Xr({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!o.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),XU=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiDialogActions"}),{className:ce,disableSpacing:me=!1}=Q,B=Xa(Q,jU),N=Xr({},Q,{disableSpacing:me}),e=YU(N);return Or.jsx(ZU,Xr({className:Oa(e.root,ce),ownerState:N,ref:W},B))}),$U=XU;function KU(o){return mi("MuiDialogContent",o)}di("MuiDialogContent",["root","dividers"]);function JU(o){return mi("MuiDialogTitle",o)}const QU=di("MuiDialogTitle",["root"]),qU=QU,eH=["className","dividers"],tH=o=>{const{classes:P,dividers:W}=o;return wi({root:["root",W&&"dividers"]},KU,P)},rH=Na("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,W.dividers&&P.dividers]}})(({theme:o,ownerState:P})=>Xr({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},P.dividers?{padding:"16px 24px",borderTop:`1px solid ${(o.vars||o).palette.divider}`,borderBottom:`1px solid ${(o.vars||o).palette.divider}`}:{[`.${qU.root} + &`]:{paddingTop:0}})),nH=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiDialogContent"}),{className:ce,dividers:me=!1}=Q,B=Xa(Q,eH),N=Xr({},Q,{dividers:me}),e=tH(N);return Or.jsx(rH,Xr({className:Oa(e.root,ce),ownerState:N,ref:W},B))}),i4=nH,aH=["className","id"],iH=o=>{const{classes:P}=o;return wi({root:["root"]},JU,P)},oH=Na(Ci,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(o,P)=>P.root})({padding:"16px 24px",flex:"0 0 auto"}),sH=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiDialogTitle"}),{className:ce,id:me}=Q,B=Xa(Q,aH),N=Q,e=iH(N),{titleId:p=me}=Er.useContext(zE);return Or.jsx(oH,Xr({component:"h2",className:Oa(e.root,ce),ownerState:N,ref:W,variant:"h6",id:me??p},B))}),lH=sH,uH=di("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),o4=uH,fH=dz({createStyledComponent:Na("div",{name:"MuiStack",slot:"Root",overridesResolver:(o,P)=>P.root}),useThemeProps:o=>xi({props:o,name:"MuiStack"})}),cH=fH;function hH(o){return mi("MuiFormControlLabel",o)}const vH=di("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),w0=vH,dH=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],pH=o=>{const{classes:P,disabled:W,labelPlacement:Q,error:ce,required:me}=o,B={root:["root",W&&"disabled",`labelPlacement${Sa(Q)}`,ce&&"error",me&&"required"],label:["label",W&&"disabled"],asterisk:["asterisk",ce&&"error"]};return wi(B,hH,P)},gH=Na("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[{[`& .${w0.label}`]:P.label},P.root,P[`labelPlacement${Sa(W.labelPlacement)}`]]}})(({theme:o,ownerState:P})=>Xr({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${w0.disabled}`]:{cursor:"default"}},P.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},P.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},P.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${w0.label}`]:{[`&.${w0.disabled}`]:{color:(o.vars||o).palette.text.disabled}}})),yH=Na("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(o,P)=>P.asterisk})(({theme:o})=>({[`&.${w0.error}`]:{color:(o.vars||o).palette.error.main}})),mH=Er.forwardRef(function(P,W){var Q,ce;const me=xi({props:P,name:"MuiFormControlLabel"}),{className:B,componentsProps:N={},control:e,disabled:p,disableTypography:L,label:a,labelPlacement:C="end",required:w,slotProps:h={}}=me,g=Xa(me,dH),t=RE(),r=(Q=p??e.props.disabled)!=null?Q:t==null?void 0:t.disabled,s=w??e.props.required,n={disabled:r,required:s};["checked","name","onChange","value","inputRef"].forEach(A=>{typeof e.props[A]>"u"&&typeof me[A]<"u"&&(n[A]=me[A])});const l=eN({props:me,muiFormControl:t,states:["error"]}),c=Xr({},me,{disabled:r,labelPlacement:C,required:s,error:l.error}),f=pH(c),m=(ce=h.typography)!=null?ce:N.typography;let v=a;return v!=null&&v.type!==Ci&&!L&&(v=Or.jsx(Ci,Xr({component:"span"},m,{className:Oa(f.label,m==null?void 0:m.className),children:v}))),Or.jsxs(gH,Xr({className:Oa(f.root,B),ownerState:c,ref:W},g,{children:[Er.cloneElement(e,n),s?Or.jsxs(cH,{display:"block",children:[v,Or.jsxs(yH,{ownerState:c,"aria-hidden":!0,className:f.asterisk,children:[" ","*"]})]}):v]}))}),xH=mH,bH=Er.createContext(),s4=bH;function wH(o){return mi("MuiGrid",o)}const TH=[0,1,2,3,4,5,6,7,8,9,10],AH=["column-reverse","column","row-reverse","row"],SH=["nowrap","wrap-reverse","wrap"],h0=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],MH=di("MuiGrid",["root","container","item","zeroMinWidth",...TH.map(o=>`spacing-xs-${o}`),...AH.map(o=>`direction-xs-${o}`),...SH.map(o=>`wrap-xs-${o}`),...h0.map(o=>`grid-xs-${o}`),...h0.map(o=>`grid-sm-${o}`),...h0.map(o=>`grid-md-${o}`),...h0.map(o=>`grid-lg-${o}`),...h0.map(o=>`grid-xl-${o}`)]),sg=MH,EH=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function up(o){const P=parseFloat(o);return`${P}${String(o).replace(String(P),"")||"px"}`}function CH({theme:o,ownerState:P}){let W;return o.breakpoints.keys.reduce((Q,ce)=>{let me={};if(P[ce]&&(W=P[ce]),!W)return Q;if(W===!0)me={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(W==="auto")me={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const B=Wv({values:P.columns,breakpoints:o.breakpoints.values}),N=typeof B=="object"?B[ce]:B;if(N==null)return Q;const e=`${Math.round(W/N*1e8)/1e6}%`;let p={};if(P.container&&P.item&&P.columnSpacing!==0){const L=o.spacing(P.columnSpacing);if(L!=="0px"){const a=`calc(${e} + ${up(L)})`;p={flexBasis:a,maxWidth:a}}}me=Xr({flexBasis:e,flexGrow:0,maxWidth:e},p)}return o.breakpoints.values[ce]===0?Object.assign(Q,me):Q[o.breakpoints.up(ce)]=me,Q},{})}function LH({theme:o,ownerState:P}){const W=Wv({values:P.direction,breakpoints:o.breakpoints.values});return Bl({theme:o},W,Q=>{const ce={flexDirection:Q};return Q.indexOf("column")===0&&(ce[`& > .${sg.item}`]={maxWidth:"none"}),ce})}function OE({breakpoints:o,values:P}){let W="";Object.keys(P).forEach(ce=>{W===""&&P[ce]!==0&&(W=ce)});const Q=Object.keys(o).sort((ce,me)=>o[ce]-o[me]);return Q.slice(0,Q.indexOf(W))}function PH({theme:o,ownerState:P}){const{container:W,rowSpacing:Q}=P;let ce={};if(W&&Q!==0){const me=Wv({values:Q,breakpoints:o.breakpoints.values});let B;typeof me=="object"&&(B=OE({breakpoints:o.breakpoints.values,values:me})),ce=Bl({theme:o},me,(N,e)=>{var p;const L=o.spacing(N);return L!=="0px"?{marginTop:`-${up(L)}`,[`& > .${sg.item}`]:{paddingTop:up(L)}}:(p=B)!=null&&p.includes(e)?{}:{marginTop:0,[`& > .${sg.item}`]:{paddingTop:0}}})}return ce}function RH({theme:o,ownerState:P}){const{container:W,columnSpacing:Q}=P;let ce={};if(W&&Q!==0){const me=Wv({values:Q,breakpoints:o.breakpoints.values});let B;typeof me=="object"&&(B=OE({breakpoints:o.breakpoints.values,values:me})),ce=Bl({theme:o},me,(N,e)=>{var p;const L=o.spacing(N);return L!=="0px"?{width:`calc(100% + ${up(L)})`,marginLeft:`-${up(L)}`,[`& > .${sg.item}`]:{paddingLeft:up(L)}}:(p=B)!=null&&p.includes(e)?{}:{width:"100%",marginLeft:0,[`& > .${sg.item}`]:{paddingLeft:0}}})}return ce}function DH(o,P,W={}){if(!o||o<=0)return[];if(typeof o=="string"&&!Number.isNaN(Number(o))||typeof o=="number")return[W[`spacing-xs-${String(o)}`]];const Q=[];return P.forEach(ce=>{const me=o[ce];Number(me)>0&&Q.push(W[`spacing-${ce}-${String(me)}`])}),Q}const IH=Na("div",{name:"MuiGrid",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o,{container:Q,direction:ce,item:me,spacing:B,wrap:N,zeroMinWidth:e,breakpoints:p}=W;let L=[];Q&&(L=DH(B,p,P));const a=[];return p.forEach(C=>{const w=W[C];w&&a.push(P[`grid-${C}-${String(w)}`])}),[P.root,Q&&P.container,me&&P.item,e&&P.zeroMinWidth,...L,ce!=="row"&&P[`direction-xs-${String(ce)}`],N!=="wrap"&&P[`wrap-xs-${String(N)}`],...a]}})(({ownerState:o})=>Xr({boxSizing:"border-box"},o.container&&{display:"flex",flexWrap:"wrap",width:"100%"},o.item&&{margin:0},o.zeroMinWidth&&{minWidth:0},o.wrap!=="wrap"&&{flexWrap:o.wrap}),LH,PH,RH,CH);function kH(o,P){if(!o||o<=0)return[];if(typeof o=="string"&&!Number.isNaN(Number(o))||typeof o=="number")return[`spacing-xs-${String(o)}`];const W=[];return P.forEach(Q=>{const ce=o[Q];if(Number(ce)>0){const me=`spacing-${Q}-${String(ce)}`;W.push(me)}}),W}const FH=o=>{const{classes:P,container:W,direction:Q,item:ce,spacing:me,wrap:B,zeroMinWidth:N,breakpoints:e}=o;let p=[];W&&(p=kH(me,e));const L=[];e.forEach(C=>{const w=o[C];w&&L.push(`grid-${C}-${String(w)}`)});const a={root:["root",W&&"container",ce&&"item",N&&"zeroMinWidth",...p,Q!=="row"&&`direction-xs-${String(Q)}`,B!=="wrap"&&`wrap-xs-${String(B)}`,...L]};return wi(a,wH,P)},_H=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiGrid"}),{breakpoints:ce}=tv(),me=P1(Q),{className:B,columns:N,columnSpacing:e,component:p="div",container:L=!1,direction:a="row",item:C=!1,rowSpacing:w,spacing:h=0,wrap:g="wrap",zeroMinWidth:t=!1}=me,r=Xa(me,EH),s=w||h,n=e||h,l=Er.useContext(s4),c=L?N||12:l,f={},m=Xr({},r);ce.keys.forEach(d=>{r[d]!=null&&(f[d]=r[d],delete m[d])});const v=Xr({},me,{columns:c,container:L,direction:a,item:C,rowSpacing:s,columnSpacing:n,wrap:g,zeroMinWidth:t,spacing:h},f,{breakpoints:ce.keys}),A=FH(v);return Or.jsx(s4.Provider,{value:c,children:Or.jsx(IH,Xr({ownerState:v,className:Oa(A.root,B),as:p,ref:W},m))})}),Dh=_H,zH=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Sb(o){return`scale(${o}, ${o**2})`}const OH={entering:{opacity:1,transform:Sb(1)},entered:{opacity:1,transform:"none"}},r2=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),BE=Er.forwardRef(function(P,W){const{addEndListener:Q,appear:ce=!0,children:me,easing:B,in:N,onEnter:e,onEntered:p,onEntering:L,onExit:a,onExited:C,onExiting:w,style:h,timeout:g="auto",TransitionComponent:t=iw}=P,r=Xa(P,zH),s=Er.useRef(),n=Er.useRef(),l=tv(),c=Er.useRef(null),f=dl(c,me.ref,W),m=R=>x=>{if(R){const E=c.current;x===void 0?R(E):R(E,x)}},v=m(L),A=m((R,x)=>{EE(R);const{duration:E,delay:T,easing:i}=Ap({style:h,timeout:g,easing:B},{mode:"enter"});let D;g==="auto"?(D=l.transitions.getAutoHeightDuration(R.clientHeight),n.current=D):D=E,R.style.transition=[l.transitions.create("opacity",{duration:D,delay:T}),l.transitions.create("transform",{duration:r2?D:D*.666,delay:T,easing:i})].join(","),e&&e(R,x)}),d=m(p),u=m(w),y=m(R=>{const{duration:x,delay:E,easing:T}=Ap({style:h,timeout:g,easing:B},{mode:"exit"});let i;g==="auto"?(i=l.transitions.getAutoHeightDuration(R.clientHeight),n.current=i):i=x,R.style.transition=[l.transitions.create("opacity",{duration:i,delay:E}),l.transitions.create("transform",{duration:r2?i:i*.666,delay:r2?E:E||i*.333,easing:T})].join(","),R.style.opacity=0,R.style.transform=Sb(.75),a&&a(R)}),M=m(C),S=R=>{g==="auto"&&(s.current=setTimeout(R,n.current||0)),Q&&Q(c.current,R)};return Er.useEffect(()=>()=>{clearTimeout(s.current)},[]),Or.jsx(t,Xr({appear:ce,in:N,nodeRef:c,onEnter:A,onEntered:d,onEntering:v,onExit:y,onExited:M,onExiting:u,addEndListener:S,timeout:g==="auto"?null:g},r,{children:(R,x)=>Er.cloneElement(me,Xr({style:Xr({opacity:0,transform:Sb(.75),visibility:R==="exited"&&!N?"hidden":void 0},OH[R],h,me.props.style),ref:f},x))}))});BE.muiSupportAuto=!0;const BH=BE;function NH(o){return mi("MuiImageList",o)}di("MuiImageList",["root","masonry","quilted","standard","woven"]);const UH=Er.createContext({}),NE=UH,HH=["children","className","cols","component","rowHeight","gap","style","variant"],VH=o=>{const{classes:P,variant:W}=o;return wi({root:["root",W]},NH,P)},GH=Na("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,P[W.variant]]}})(({ownerState:o})=>Xr({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},o.variant==="masonry"&&{display:"block"})),WH=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiImageList"}),{children:ce,className:me,cols:B=2,component:N="ul",rowHeight:e="auto",gap:p=4,style:L,variant:a="standard"}=Q,C=Xa(Q,HH),w=Er.useMemo(()=>({rowHeight:e,gap:p,variant:a}),[e,p,a]);Er.useEffect(()=>{},[]);const h=Xr(a==="masonry"?{columnCount:B,columnGap:p}:{gridTemplateColumns:`repeat(${B}, 1fr)`,gap:p},L),g=Xr({},Q,{component:N,gap:p,rowHeight:e,variant:a}),t=VH(g);return Or.jsx(GH,Xr({as:N,className:Oa(t.root,t[a],me),ref:W,style:h,ownerState:g},C,{children:Or.jsx(NE.Provider,{value:w,children:ce})}))}),jH=WH;function YH(o){return mi("MuiImageListItem",o)}const ZH=di("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),l4=ZH,XH=["children","className","cols","component","rows","style"],$H=o=>{const{classes:P,variant:W}=o;return wi({root:["root",W],img:["img"]},YH,P)},KH=Na("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[{[`& .${l4.img}`]:P.img},P.root,P[W.variant]]}})(({ownerState:o})=>Xr({display:"block",position:"relative"},o.variant==="standard"&&{display:"flex",flexDirection:"column"},o.variant==="woven"&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${l4.img}`]:Xr({objectFit:"cover",width:"100%",height:"100%",display:"block"},o.variant==="standard"&&{height:"auto",flexGrow:1})})),JH=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiImageListItem"}),{children:ce,className:me,cols:B=1,component:N="li",rows:e=1,style:p}=Q,L=Xa(Q,XH),{rowHeight:a="auto",gap:C,variant:w}=Er.useContext(NE);let h="auto";w==="woven"?h=void 0:a!=="auto"&&(h=a*e+C*(e-1));const g=Xr({},Q,{cols:B,component:N,gap:C,rowHeight:a,rows:e,variant:w}),t=$H(g);return Or.jsx(KH,Xr({as:N,className:Oa(t.root,t[w],me),ref:W,style:Xr({height:h,gridColumnEnd:w!=="masonry"?`span ${B}`:void 0,gridRowEnd:w!=="masonry"?`span ${e}`:void 0,marginBottom:w==="masonry"?C:void 0,breakInside:w==="masonry"?"avoid":void 0},p),ownerState:g},L,{children:Er.Children.map(ce,r=>Er.isValidElement(r)?r.type==="img"||Y6(r,["Image"])?Er.cloneElement(r,{className:Oa(t.img,r.props.className)}):r:null)}))}),u4=JH;function QH(o){return mi("MuiLink",o)}const qH=di("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),eV=qH,UE={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},tV=o=>UE[o]||o,rV=({theme:o,ownerState:P})=>{const W=tV(P.color),Q=Tp(o,`palette.${W}`,!1)||P.color,ce=Tp(o,`palette.${W}Channel`);return"vars"in o&&ce?`rgba(${ce} / 0.4)`:yo(Q,.4)},nV=rV,aV=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],iV=o=>{const{classes:P,component:W,focusVisible:Q,underline:ce}=o,me={root:["root",`underline${Sa(ce)}`,W==="button"&&"button",Q&&"focusVisible"]};return wi(me,QH,P)},oV=Na(Ci,{name:"MuiLink",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,P[`underline${Sa(W.underline)}`],W.component==="button"&&P.button]}})(({theme:o,ownerState:P})=>Xr({},P.underline==="none"&&{textDecoration:"none"},P.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},P.underline==="always"&&Xr({textDecoration:"underline"},P.color!=="inherit"&&{textDecorationColor:nV({theme:o,ownerState:P})},{"&:hover":{textDecorationColor:"inherit"}}),P.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${eV.focusVisible}`]:{outline:"auto"}})),sV=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiLink"}),{className:ce,color:me="primary",component:B="a",onBlur:N,onFocus:e,TypographyClasses:p,underline:L="always",variant:a="inherit",sx:C}=Q,w=Xa(Q,aV),{isFocusVisibleRef:h,onBlur:g,onFocus:t,ref:r}=G3(),[s,n]=Er.useState(!1),l=dl(W,r),c=A=>{g(A),h.current===!1&&n(!1),N&&N(A)},f=A=>{t(A),h.current===!0&&n(!0),e&&e(A)},m=Xr({},Q,{color:me,component:B,focusVisible:s,underline:L,variant:a}),v=iV(m);return Or.jsx(oV,Xr({color:me,className:Oa(v.root,ce),classes:p,component:B,onBlur:c,onFocus:f,ref:l,ownerState:m,variant:a,sx:[...Object.keys(UE).includes(me)?[]:[{color:me}],...Array.isArray(C)?C:[C]]},w))}),lV=sV,uV=Er.createContext({}),Mb=uV;function fV(o){return mi("MuiList",o)}di("MuiList",["root","padding","dense","subheader"]);const cV=["children","className","component","dense","disablePadding","subheader"],hV=o=>{const{classes:P,disablePadding:W,dense:Q,subheader:ce}=o;return wi({root:["root",!W&&"padding",Q&&"dense",ce&&"subheader"]},fV,P)},vV=Na("ul",{name:"MuiList",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,!W.disablePadding&&P.padding,W.dense&&P.dense,W.subheader&&P.subheader]}})(({ownerState:o})=>Xr({listStyle:"none",margin:0,padding:0,position:"relative"},!o.disablePadding&&{paddingTop:8,paddingBottom:8},o.subheader&&{paddingTop:0})),dV=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiList"}),{children:ce,className:me,component:B="ul",dense:N=!1,disablePadding:e=!1,subheader:p}=Q,L=Xa(Q,cV),a=Er.useMemo(()=>({dense:N}),[N]),C=Xr({},Q,{component:B,dense:N,disablePadding:e}),w=hV(C);return Or.jsx(Mb.Provider,{value:a,children:Or.jsxs(vV,Xr({as:B,className:Oa(w.root,me),ref:W,ownerState:C},L,{children:[p,ce]}))})}),pV=dV,gV=di("MuiListItemIcon",["root","alignItemsFlexStart"]),f4=gV,yV=di("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),c4=yV,mV=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function n2(o,P,W){return o===P?o.firstChild:P&&P.nextElementSibling?P.nextElementSibling:W?null:o.firstChild}function h4(o,P,W){return o===P?W?o.firstChild:o.lastChild:P&&P.previousElementSibling?P.previousElementSibling:W?null:o.lastChild}function HE(o,P){if(P===void 0)return!0;let W=o.innerText;return W===void 0&&(W=o.textContent),W=W.trim().toLowerCase(),W.length===0?!1:P.repeating?W[0]===P.keys[0]:W.indexOf(P.keys.join(""))===0}function v0(o,P,W,Q,ce,me){let B=!1,N=ce(o,P,P?W:!1);for(;N;){if(N===o.firstChild){if(B)return!1;B=!0}const e=Q?!1:N.disabled||N.getAttribute("aria-disabled")==="true";if(!N.hasAttribute("tabindex")||!HE(N,me)||e)N=ce(o,N,W);else return N.focus(),!0}return!1}const xV=Er.forwardRef(function(P,W){const{actions:Q,autoFocus:ce=!1,autoFocusItem:me=!1,children:B,className:N,disabledItemsFocusable:e=!1,disableListWrap:p=!1,onKeyDown:L,variant:a="selectedMenu"}=P,C=Xa(P,mV),w=Er.useRef(null),h=Er.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Jv(()=>{ce&&w.current.focus()},[ce]),Er.useImperativeHandle(Q,()=>({adjustStyleForScrollbar:(n,l)=>{const c=!w.current.style.width;if(n.clientHeight<w.current.clientHeight&&c){const f=`${$6(zl(n))}px`;w.current.style[l.direction==="rtl"?"paddingLeft":"paddingRight"]=f,w.current.style.width=`calc(100% + ${f})`}return w.current}}),[]);const g=n=>{const l=w.current,c=n.key,f=zl(l).activeElement;if(c==="ArrowDown")n.preventDefault(),v0(l,f,p,e,n2);else if(c==="ArrowUp")n.preventDefault(),v0(l,f,p,e,h4);else if(c==="Home")n.preventDefault(),v0(l,null,p,e,n2);else if(c==="End")n.preventDefault(),v0(l,null,p,e,h4);else if(c.length===1){const m=h.current,v=c.toLowerCase(),A=performance.now();m.keys.length>0&&(A-m.lastTime>500?(m.keys=[],m.repeating=!0,m.previousKeyMatched=!0):m.repeating&&v!==m.keys[0]&&(m.repeating=!1)),m.lastTime=A,m.keys.push(v);const d=f&&!m.repeating&&HE(f,m);m.previousKeyMatched&&(d||v0(l,f,!1,e,n2,m))?n.preventDefault():m.previousKeyMatched=!1}L&&L(n)},t=dl(w,W);let r=-1;Er.Children.forEach(B,(n,l)=>{if(!Er.isValidElement(n)){r===l&&(r+=1,r>=B.length&&(r=-1));return}n.props.disabled||(a==="selectedMenu"&&n.props.selected||r===-1)&&(r=l),r===l&&(n.props.disabled||n.props.muiSkipListHighlight||n.type.muiSkipListHighlight)&&(r+=1,r>=B.length&&(r=-1))});const s=Er.Children.map(B,(n,l)=>{if(l===r){const c={};return me&&(c.autoFocus=!0),n.props.tabIndex===void 0&&a==="selectedMenu"&&(c.tabIndex=0),Er.cloneElement(n,c)}return n});return Or.jsx(pV,Xr({role:"menu",ref:t,className:N,onKeyDown:g,tabIndex:ce?0:-1},C,{children:s}))}),bV=xV;function wV(o){return mi("MuiPopover",o)}di("MuiPopover",["root","paper"]);const TV=["onEntering"],AV=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],SV=["slotProps"];function v4(o,P){let W=0;return typeof P=="number"?W=P:P==="center"?W=o.height/2:P==="bottom"&&(W=o.height),W}function d4(o,P){let W=0;return typeof P=="number"?W=P:P==="center"?W=o.width/2:P==="right"&&(W=o.width),W}function p4(o){return[o.horizontal,o.vertical].map(P=>typeof P=="number"?`${P}px`:P).join(" ")}function a2(o){return typeof o=="function"?o():o}const MV=o=>{const{classes:P}=o;return wi({root:["root"],paper:["paper"]},wV,P)},EV=Na(_E,{name:"MuiPopover",slot:"Root",overridesResolver:(o,P)=>P.root})({}),VE=Na(ad,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,P)=>P.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),CV=Er.forwardRef(function(P,W){var Q,ce,me;const B=xi({props:P,name:"MuiPopover"}),{action:N,anchorEl:e,anchorOrigin:p={vertical:"top",horizontal:"left"},anchorPosition:L,anchorReference:a="anchorEl",children:C,className:w,container:h,elevation:g=8,marginThreshold:t=16,open:r,PaperProps:s={},slots:n,slotProps:l,transformOrigin:c={vertical:"top",horizontal:"left"},TransitionComponent:f=BH,transitionDuration:m="auto",TransitionProps:{onEntering:v}={},disableScrollLock:A=!1}=B,d=Xa(B.TransitionProps,TV),u=Xa(B,AV),y=(Q=l==null?void 0:l.paper)!=null?Q:s,M=Er.useRef(),S=dl(M,y.ref),R=Xr({},B,{anchorOrigin:p,anchorReference:a,elevation:g,marginThreshold:t,externalPaperSlotProps:y,transformOrigin:c,TransitionComponent:f,transitionDuration:m,TransitionProps:d}),x=MV(R),E=Er.useCallback(()=>{if(a==="anchorPosition")return L;const oe=a2(e),q=(oe&&oe.nodeType===1?oe:zl(M.current).body).getBoundingClientRect();return{top:q.top+v4(q,p.vertical),left:q.left+d4(q,p.horizontal)}},[e,p.horizontal,p.vertical,L,a]),T=Er.useCallback(oe=>({vertical:v4(oe,c.vertical),horizontal:d4(oe,c.horizontal)}),[c.horizontal,c.vertical]),i=Er.useCallback(oe=>{const he={width:oe.offsetWidth,height:oe.offsetHeight},q=T(he);if(a==="none")return{top:null,left:null,transformOrigin:p4(q)};const Z=E();let $=Z.top-q.vertical,K=Z.left-q.horizontal;const re=$+he.height,le=K+he.width,te=Kh(a2(e)),ee=te.innerHeight-t,ue=te.innerWidth-t;if(t!==null&&$<t){const se=$-t;$-=se,q.vertical+=se}else if(t!==null&&re>ee){const se=re-ee;$-=se,q.vertical+=se}if(t!==null&&K<t){const se=K-t;K-=se,q.horizontal+=se}else if(le>ue){const se=le-ue;K-=se,q.horizontal+=se}return{top:`${Math.round($)}px`,left:`${Math.round(K)}px`,transformOrigin:p4(q)}},[e,a,E,T,t]),[D,b]=Er.useState(r),O=Er.useCallback(()=>{const oe=M.current;if(!oe)return;const he=i(oe);he.top!==null&&(oe.style.top=he.top),he.left!==null&&(oe.style.left=he.left),oe.style.transformOrigin=he.transformOrigin,b(!0)},[i]);Er.useEffect(()=>(A&&window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)),[e,A,O]);const F=(oe,he)=>{v&&v(oe,he),O()},V=()=>{b(!1)};Er.useEffect(()=>{r&&O()}),Er.useImperativeHandle(N,()=>r?{updatePosition:()=>{O()}}:null,[r,O]),Er.useEffect(()=>{if(!r)return;const oe=p1(()=>{O()}),he=Kh(e);return he.addEventListener("resize",oe),()=>{oe.clear(),he.removeEventListener("resize",oe)}},[e,r,O]);let _=m;m==="auto"&&!f.muiSupportAuto&&(_=void 0);const U=h||(e?zl(a2(e)).body:void 0),H=(ce=n==null?void 0:n.root)!=null?ce:EV,z=(me=n==null?void 0:n.paper)!=null?me:VE,G=qf({elementType:z,externalSlotProps:Xr({},y,{style:D?y.style:Xr({},y.style,{opacity:0})}),additionalProps:{elevation:g,ref:S},ownerState:R,className:Oa(x.paper,y==null?void 0:y.className)}),Y=qf({elementType:H,externalSlotProps:(l==null?void 0:l.root)||{},externalForwardedProps:u,additionalProps:{ref:W,slotProps:{backdrop:{invisible:!0}},container:U,open:r},ownerState:R,className:Oa(x.root,w)}),{slotProps:J}=Y,ae=Xa(Y,SV);return Or.jsx(H,Xr({},ae,!LE(H)&&{slotProps:J,disableScrollLock:A},{children:Or.jsx(f,Xr({appear:!0,in:r,onEntering:F,onExited:V,timeout:_},d,{children:Or.jsx(z,Xr({},G,{children:C}))}))}))}),LV=CV;function PV(o){return mi("MuiMenu",o)}di("MuiMenu",["root","paper","list"]);const RV=["onEntering"],DV=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],IV={vertical:"top",horizontal:"right"},kV={vertical:"top",horizontal:"left"},FV=o=>{const{classes:P}=o;return wi({root:["root"],paper:["paper"],list:["list"]},PV,P)},_V=Na(LV,{shouldForwardProp:o=>Ip(o)||o==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(o,P)=>P.root})({}),zV=Na(VE,{name:"MuiMenu",slot:"Paper",overridesResolver:(o,P)=>P.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),OV=Na(bV,{name:"MuiMenu",slot:"List",overridesResolver:(o,P)=>P.list})({outline:0}),BV=Er.forwardRef(function(P,W){var Q,ce;const me=xi({props:P,name:"MuiMenu"}),{autoFocus:B=!0,children:N,className:e,disableAutoFocusItem:p=!1,MenuListProps:L={},onClose:a,open:C,PaperProps:w={},PopoverClasses:h,transitionDuration:g="auto",TransitionProps:{onEntering:t}={},variant:r="selectedMenu",slots:s={},slotProps:n={}}=me,l=Xa(me.TransitionProps,RV),c=Xa(me,DV),f=tv(),m=f.direction==="rtl",v=Xr({},me,{autoFocus:B,disableAutoFocusItem:p,MenuListProps:L,onEntering:t,PaperProps:w,transitionDuration:g,TransitionProps:l,variant:r}),A=FV(v),d=B&&!p&&C,u=Er.useRef(null),y=(i,D)=>{u.current&&u.current.adjustStyleForScrollbar(i,f),t&&t(i,D)},M=i=>{i.key==="Tab"&&(i.preventDefault(),a&&a(i,"tabKeyDown"))};let S=-1;Er.Children.map(N,(i,D)=>{Er.isValidElement(i)&&(i.props.disabled||(r==="selectedMenu"&&i.props.selected||S===-1)&&(S=D))});const R=(Q=s.paper)!=null?Q:zV,x=(ce=n.paper)!=null?ce:w,E=qf({elementType:s.root,externalSlotProps:n.root,ownerState:v,className:[A.root,e]}),T=qf({elementType:R,externalSlotProps:x,ownerState:v,className:A.paper});return Or.jsx(_V,Xr({onClose:a,anchorOrigin:{vertical:"bottom",horizontal:m?"right":"left"},transformOrigin:m?IV:kV,slots:{paper:R,root:s.root},slotProps:{root:E,paper:T},open:C,ref:W,transitionDuration:g,TransitionProps:Xr({onEntering:y},l),ownerState:v},c,{classes:h,children:Or.jsx(OV,Xr({onKeyDown:M,actions:u,autoFocus:B&&(S===-1||p),autoFocusItem:d,variant:r},L,{className:Oa(A.list,L.className),children:N}))}))}),g4=BV;function NV(o){return mi("MuiMenuItem",o)}const UV=di("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),d0=UV,HV=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],VV=(o,P)=>{const{ownerState:W}=o;return[P.root,W.dense&&P.dense,W.divider&&P.divider,!W.disableGutters&&P.gutters]},GV=o=>{const{disabled:P,dense:W,divider:Q,disableGutters:ce,selected:me,classes:B}=o,e=wi({root:["root",W&&"dense",P&&"disabled",!ce&&"gutters",Q&&"divider",me&&"selected"]},NV,B);return Xr({},B,e)},WV=Na(Jh,{shouldForwardProp:o=>Ip(o)||o==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:VV})(({theme:o,ownerState:P})=>Xr({},o.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!P.disableGutters&&{paddingLeft:16,paddingRight:16},P.divider&&{borderBottom:`1px solid ${(o.vars||o).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${d0.selected}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:yo(o.palette.primary.main,o.palette.action.selectedOpacity),[`&.${d0.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:yo(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}},[`&.${d0.selected}:hover`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:yo(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:yo(o.palette.primary.main,o.palette.action.selectedOpacity)}},[`&.${d0.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},[`&.${d0.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity},[`& + .${o4.root}`]:{marginTop:o.spacing(1),marginBottom:o.spacing(1)},[`& + .${o4.inset}`]:{marginLeft:52},[`& .${c4.root}`]:{marginTop:0,marginBottom:0},[`& .${c4.inset}`]:{paddingLeft:36},[`& .${f4.root}`]:{minWidth:36}},!P.dense&&{[o.breakpoints.up("sm")]:{minHeight:"auto"}},P.dense&&Xr({minHeight:32,paddingTop:4,paddingBottom:4},o.typography.body2,{[`& .${f4.root} svg`]:{fontSize:"1.25rem"}}))),jV=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiMenuItem"}),{autoFocus:ce=!1,component:me="li",dense:B=!1,divider:N=!1,disableGutters:e=!1,focusVisibleClassName:p,role:L="menuitem",tabIndex:a,className:C}=Q,w=Xa(Q,HV),h=Er.useContext(Mb),g=Er.useMemo(()=>({dense:B||h.dense||!1,disableGutters:e}),[h.dense,B,e]),t=Er.useRef(null);Jv(()=>{ce&&t.current&&t.current.focus()},[ce]);const r=Xr({},Q,{dense:g.dense,divider:N,disableGutters:e}),s=GV(Q),n=dl(t,W);let l;return Q.disabled||(l=a!==void 0?a:-1),Or.jsx(Mb.Provider,{value:g,children:Or.jsx(WV,Xr({ref:n,role:L,tabIndex:l,component:me,focusVisibleClassName:Oa(s.focusVisible,p),className:Oa(s.root,C)},w,{ownerState:r,classes:s}))})}),y4=jV;function YV(o){return mi("MuiTab",o)}const ZV=di("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Iv=ZV,XV=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],$V=o=>{const{classes:P,textColor:W,fullWidth:Q,wrapped:ce,icon:me,label:B,selected:N,disabled:e}=o,p={root:["root",me&&B&&"labelIcon",`textColor${Sa(W)}`,Q&&"fullWidth",ce&&"wrapped",N&&"selected",e&&"disabled"],iconWrapper:["iconWrapper"]};return wi(p,YV,P)},KV=Na(Jh,{name:"MuiTab",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,W.label&&W.icon&&P.labelIcon,P[`textColor${Sa(W.textColor)}`],W.fullWidth&&P.fullWidth,W.wrapped&&P.wrapped]}})(({theme:o,ownerState:P})=>Xr({},o.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},P.label&&{flexDirection:P.iconPosition==="top"||P.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},P.icon&&P.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Iv.iconWrapper}`]:Xr({},P.iconPosition==="top"&&{marginBottom:6},P.iconPosition==="bottom"&&{marginTop:6},P.iconPosition==="start"&&{marginRight:o.spacing(1)},P.iconPosition==="end"&&{marginLeft:o.spacing(1)})},P.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Iv.selected}`]:{opacity:1},[`&.${Iv.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity}},P.textColor==="primary"&&{color:(o.vars||o).palette.text.secondary,[`&.${Iv.selected}`]:{color:(o.vars||o).palette.primary.main},[`&.${Iv.disabled}`]:{color:(o.vars||o).palette.text.disabled}},P.textColor==="secondary"&&{color:(o.vars||o).palette.text.secondary,[`&.${Iv.selected}`]:{color:(o.vars||o).palette.secondary.main},[`&.${Iv.disabled}`]:{color:(o.vars||o).palette.text.disabled}},P.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},P.wrapped&&{fontSize:o.typography.pxToRem(12)})),JV=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiTab"}),{className:ce,disabled:me=!1,disableFocusRipple:B=!1,fullWidth:N,icon:e,iconPosition:p="top",indicator:L,label:a,onChange:C,onClick:w,onFocus:h,selected:g,selectionFollowsFocus:t,textColor:r="inherit",value:s,wrapped:n=!1}=Q,l=Xa(Q,XV),c=Xr({},Q,{disabled:me,disableFocusRipple:B,selected:g,icon:!!e,iconPosition:p,label:!!a,fullWidth:N,textColor:r,wrapped:n}),f=$V(c),m=e&&a&&Er.isValidElement(e)?Er.cloneElement(e,{className:Oa(f.iconWrapper,e.props.className)}):e,v=d=>{!g&&C&&C(d,s),w&&w(d)},A=d=>{t&&!g&&C&&C(d,s),h&&h(d)};return Or.jsxs(KV,Xr({focusRipple:!B,className:Oa(f.root,ce),ref:W,role:"tab","aria-selected":g,disabled:me,onClick:v,onFocus:A,ownerState:c,tabIndex:g?0:-1},l,{children:[p==="top"||p==="start"?Or.jsxs(Er.Fragment,{children:[m,a]}):Or.jsxs(Er.Fragment,{children:[a,m]}),L]}))}),QV=JV;function qV(o){return mi("MuiToolbar",o)}di("MuiToolbar",["root","gutters","regular","dense"]);const eG=["className","component","disableGutters","variant"],tG=o=>{const{classes:P,disableGutters:W,variant:Q}=o;return wi({root:["root",!W&&"gutters",Q]},qV,P)},rG=Na("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,!W.disableGutters&&P.gutters,P[W.variant]]}})(({theme:o,ownerState:P})=>Xr({position:"relative",display:"flex",alignItems:"center"},!P.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}},P.variant==="dense"&&{minHeight:48}),({theme:o,ownerState:P})=>P.variant==="regular"&&o.mixins.toolbar),nG=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiToolbar"}),{className:ce,component:me="div",disableGutters:B=!1,variant:N="regular"}=Q,e=Xa(Q,eG),p=Xr({},Q,{component:me,disableGutters:B,variant:N}),L=tG(p);return Or.jsx(rG,Xr({as:me,className:Oa(L.root,ce),ref:W,ownerState:p},e))}),GE=nG,aG=Nu(Or.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),iG=Nu(Or.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function oG(o){return(1+Math.sin(Math.PI*o-Math.PI/2))/2}function sG(o,P,W,Q={},ce=()=>{}){const{ease:me=oG,duration:B=300}=Q;let N=null;const e=P[o];let p=!1;const L=()=>{p=!0},a=C=>{if(p){ce(new Error("Animation cancelled"));return}N===null&&(N=C);const w=Math.min(1,(C-N)/B);if(P[o]=me(w)*(W-e)+e,w>=1){requestAnimationFrame(()=>{ce(null)});return}requestAnimationFrame(a)};return e===W?(ce(new Error("Element already at target position")),L):(requestAnimationFrame(a),L)}const lG=["onChange"],uG={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function fG(o){const{onChange:P}=o,W=Xa(o,lG),Q=Er.useRef(),ce=Er.useRef(null),me=()=>{Q.current=ce.current.offsetHeight-ce.current.clientHeight};return Jv(()=>{const B=p1(()=>{const e=Q.current;me(),e!==Q.current&&P(Q.current)}),N=Kh(ce.current);return N.addEventListener("resize",B),()=>{B.clear(),N.removeEventListener("resize",B)}},[P]),Er.useEffect(()=>{me(),P(Q.current)},[P]),Or.jsx("div",Xr({style:uG,ref:ce},W))}function cG(o){return mi("MuiTabScrollButton",o)}const hG=di("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),vG=hG,dG=["className","slots","slotProps","direction","orientation","disabled"],pG=o=>{const{classes:P,orientation:W,disabled:Q}=o;return wi({root:["root",W,Q&&"disabled"]},cG,P)},gG=Na(Jh,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.root,W.orientation&&P[W.orientation]]}})(({ownerState:o})=>Xr({width:40,flexShrink:0,opacity:.8,[`&.${vG.disabled}`]:{opacity:0}},o.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${o.isRtl?-90:90}deg)`}})),yG=Er.forwardRef(function(P,W){var Q,ce;const me=xi({props:P,name:"MuiTabScrollButton"}),{className:B,slots:N={},slotProps:e={},direction:p}=me,L=Xa(me,dG),C=tv().direction==="rtl",w=Xr({isRtl:C},me),h=pG(w),g=(Q=N.StartScrollButtonIcon)!=null?Q:aG,t=(ce=N.EndScrollButtonIcon)!=null?ce:iG,r=qf({elementType:g,externalSlotProps:e.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:w}),s=qf({elementType:t,externalSlotProps:e.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:w});return Or.jsx(gG,Xr({component:"div",className:Oa(h.root,B),ref:W,role:null,ownerState:w,tabIndex:null},L,{children:p==="left"?Or.jsx(g,Xr({},r)):Or.jsx(t,Xr({},s))}))}),mG=yG;function xG(o){return mi("MuiTabs",o)}const bG=di("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),i2=bG,wG=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],m4=(o,P)=>o===P?o.firstChild:P&&P.nextElementSibling?P.nextElementSibling:o.firstChild,x4=(o,P)=>o===P?o.lastChild:P&&P.previousElementSibling?P.previousElementSibling:o.lastChild,yy=(o,P,W)=>{let Q=!1,ce=W(o,P);for(;ce;){if(ce===o.firstChild){if(Q)return;Q=!0}const me=ce.disabled||ce.getAttribute("aria-disabled")==="true";if(!ce.hasAttribute("tabindex")||me)ce=W(o,ce);else{ce.focus();return}}},TG=o=>{const{vertical:P,fixed:W,hideScrollbar:Q,scrollableX:ce,scrollableY:me,centered:B,scrollButtonsHideMobile:N,classes:e}=o;return wi({root:["root",P&&"vertical"],scroller:["scroller",W&&"fixed",Q&&"hideScrollbar",ce&&"scrollableX",me&&"scrollableY"],flexContainer:["flexContainer",P&&"flexContainerVertical",B&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",N&&"scrollButtonsHideMobile"],scrollableX:[ce&&"scrollableX"],hideScrollbar:[Q&&"hideScrollbar"]},xG,e)},AG=Na("div",{name:"MuiTabs",slot:"Root",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[{[`& .${i2.scrollButtons}`]:P.scrollButtons},{[`& .${i2.scrollButtons}`]:W.scrollButtonsHideMobile&&P.scrollButtonsHideMobile},P.root,W.vertical&&P.vertical]}})(({ownerState:o,theme:P})=>Xr({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},o.vertical&&{flexDirection:"column"},o.scrollButtonsHideMobile&&{[`& .${i2.scrollButtons}`]:{[P.breakpoints.down("sm")]:{display:"none"}}})),SG=Na("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.scroller,W.fixed&&P.fixed,W.hideScrollbar&&P.hideScrollbar,W.scrollableX&&P.scrollableX,W.scrollableY&&P.scrollableY]}})(({ownerState:o})=>Xr({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},o.fixed&&{overflowX:"hidden",width:"100%"},o.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},o.scrollableX&&{overflowX:"auto",overflowY:"hidden"},o.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),MG=Na("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(o,P)=>{const{ownerState:W}=o;return[P.flexContainer,W.vertical&&P.flexContainerVertical,W.centered&&P.centered]}})(({ownerState:o})=>Xr({display:"flex"},o.vertical&&{flexDirection:"column"},o.centered&&{justifyContent:"center"})),EG=Na("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(o,P)=>P.indicator})(({ownerState:o,theme:P})=>Xr({position:"absolute",height:2,bottom:0,width:"100%",transition:P.transitions.create()},o.indicatorColor==="primary"&&{backgroundColor:(P.vars||P).palette.primary.main},o.indicatorColor==="secondary"&&{backgroundColor:(P.vars||P).palette.secondary.main},o.vertical&&{height:"100%",width:2,right:0})),CG=Na(fG)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),b4={},LG=Er.forwardRef(function(P,W){const Q=xi({props:P,name:"MuiTabs"}),ce=tv(),me=ce.direction==="rtl",{"aria-label":B,"aria-labelledby":N,action:e,centered:p=!1,children:L,className:a,component:C="div",allowScrollButtonsMobile:w=!1,indicatorColor:h="primary",onChange:g,orientation:t="horizontal",ScrollButtonComponent:r=mG,scrollButtons:s="auto",selectionFollowsFocus:n,slots:l={},slotProps:c={},TabIndicatorProps:f={},TabScrollButtonProps:m={},textColor:v="primary",value:A,variant:d="standard",visibleScrollbar:u=!1}=Q,y=Xa(Q,wG),M=d==="scrollable",S=t==="vertical",R=S?"scrollTop":"scrollLeft",x=S?"top":"left",E=S?"bottom":"right",T=S?"clientHeight":"clientWidth",i=S?"height":"width",D=Xr({},Q,{component:C,allowScrollButtonsMobile:w,indicatorColor:h,orientation:t,vertical:S,scrollButtons:s,textColor:v,variant:d,visibleScrollbar:u,fixed:!M,hideScrollbar:M&&!u,scrollableX:M&&!S,scrollableY:M&&S,centered:p&&!M,scrollButtonsHideMobile:!w}),b=TG(D),O=qf({elementType:l.StartScrollButtonIcon,externalSlotProps:c.startScrollButtonIcon,ownerState:D}),F=qf({elementType:l.EndScrollButtonIcon,externalSlotProps:c.endScrollButtonIcon,ownerState:D}),[V,_]=Er.useState(!1),[U,H]=Er.useState(b4),[z,G]=Er.useState(!1),[Y,J]=Er.useState(!1),[ae,oe]=Er.useState(!1),[he,q]=Er.useState({overflow:"hidden",scrollbarWidth:0}),Z=new Map,$=Er.useRef(null),K=Er.useRef(null),re=()=>{const Ne=$.current;let ke;if(Ne){const rt=Ne.getBoundingClientRect();ke={clientWidth:Ne.clientWidth,scrollLeft:Ne.scrollLeft,scrollTop:Ne.scrollTop,scrollLeftNormalized:kk(Ne,ce.direction),scrollWidth:Ne.scrollWidth,top:rt.top,bottom:rt.bottom,left:rt.left,right:rt.right}}let We;if(Ne&&A!==!1){const rt=K.current.children;if(rt.length>0){const et=rt[Z.get(A)];We=et?et.getBoundingClientRect():null}}return{tabsMeta:ke,tabMeta:We}},le=Zf(()=>{const{tabsMeta:Ne,tabMeta:ke}=re();let We=0,rt;if(S)rt="top",ke&&Ne&&(We=ke.top-Ne.top+Ne.scrollTop);else if(rt=me?"right":"left",ke&&Ne){const tt=me?Ne.scrollLeftNormalized+Ne.clientWidth-Ne.scrollWidth:Ne.scrollLeft;We=(me?-1:1)*(ke[rt]-Ne[rt]+tt)}const et={[rt]:We,[i]:ke?ke[i]:0};if(isNaN(U[rt])||isNaN(U[i]))H(et);else{const tt=Math.abs(U[rt]-et[rt]),at=Math.abs(U[i]-et[i]);(tt>=1||at>=1)&&H(et)}}),te=(Ne,{animation:ke=!0}={})=>{ke?sG(R,$.current,Ne,{duration:ce.transitions.duration.standard}):$.current[R]=Ne},ee=Ne=>{let ke=$.current[R];S?ke+=Ne:(ke+=Ne*(me?-1:1),ke*=me&&K6()==="reverse"?-1:1),te(ke)},ue=()=>{const Ne=$.current[T];let ke=0;const We=Array.from(K.current.children);for(let rt=0;rt<We.length;rt+=1){const et=We[rt];if(ke+et[T]>Ne){rt===0&&(ke=Ne);break}ke+=et[T]}return ke},se=()=>{ee(-1*ue())},ve=()=>{ee(ue())},be=Er.useCallback(Ne=>{q({overflow:null,scrollbarWidth:Ne})},[]),Ee=()=>{const Ne={};Ne.scrollbarSizeListener=M?Or.jsx(CG,{onChange:be,className:Oa(b.scrollableX,b.hideScrollbar)}):null;const We=M&&(s==="auto"&&(z||Y)||s===!0);return Ne.scrollButtonStart=We?Or.jsx(r,Xr({slots:{StartScrollButtonIcon:l.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:O},orientation:t,direction:me?"right":"left",onClick:se,disabled:!z},m,{className:Oa(b.scrollButtons,m.className)})):null,Ne.scrollButtonEnd=We?Or.jsx(r,Xr({slots:{EndScrollButtonIcon:l.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:F},orientation:t,direction:me?"left":"right",onClick:ve,disabled:!Y},m,{className:Oa(b.scrollButtons,m.className)})):null,Ne},Ae=Zf(Ne=>{const{tabsMeta:ke,tabMeta:We}=re();if(!(!We||!ke)){if(We[x]<ke[x]){const rt=ke[R]+(We[x]-ke[x]);te(rt,{animation:Ne})}else if(We[E]>ke[E]){const rt=ke[R]+(We[E]-ke[E]);te(rt,{animation:Ne})}}}),Oe=Zf(()=>{M&&s!==!1&&oe(!ae)});Er.useEffect(()=>{const Ne=p1(()=>{$.current&&le()});let ke;const We=tt=>{tt.forEach(at=>{at.removedNodes.forEach(ct=>{var dt;(dt=ke)==null||dt.unobserve(ct)}),at.addedNodes.forEach(ct=>{var dt;(dt=ke)==null||dt.observe(ct)})}),Ne(),Oe()},rt=Kh($.current);rt.addEventListener("resize",Ne);let et;return typeof ResizeObserver<"u"&&(ke=new ResizeObserver(Ne),Array.from(K.current.children).forEach(tt=>{ke.observe(tt)})),typeof MutationObserver<"u"&&(et=new MutationObserver(We),et.observe(K.current,{childList:!0})),()=>{var tt,at;Ne.clear(),rt.removeEventListener("resize",Ne),(tt=et)==null||tt.disconnect(),(at=ke)==null||at.disconnect()}},[le,Oe]),Er.useEffect(()=>{const Ne=Array.from(K.current.children),ke=Ne.length;if(typeof IntersectionObserver<"u"&&ke>0&&M&&s!==!1){const We=Ne[0],rt=Ne[ke-1],et={root:$.current,threshold:.99},tt=gt=>{G(!gt[0].isIntersecting)},at=new IntersectionObserver(tt,et);at.observe(We);const ct=gt=>{J(!gt[0].isIntersecting)},dt=new IntersectionObserver(ct,et);return dt.observe(rt),()=>{at.disconnect(),dt.disconnect()}}},[M,s,ae,L==null?void 0:L.length]),Er.useEffect(()=>{_(!0)},[]),Er.useEffect(()=>{le()}),Er.useEffect(()=>{Ae(b4!==U)},[Ae,U]),Er.useImperativeHandle(e,()=>({updateIndicator:le,updateScrollButtons:Oe}),[le,Oe]);const Ue=Or.jsx(EG,Xr({},f,{className:Oa(b.indicator,f.className),ownerState:D,style:Xr({},U,f.style)}));let Le=0;const we=Er.Children.map(L,Ne=>{if(!Er.isValidElement(Ne))return null;const ke=Ne.props.value===void 0?Le:Ne.props.value;Z.set(ke,Le);const We=ke===A;return Le+=1,Er.cloneElement(Ne,Xr({fullWidth:d==="fullWidth",indicator:We&&!V&&Ue,selected:We,selectionFollowsFocus:n,onChange:g,textColor:v,value:ke},Le===1&&A===!1&&!Ne.props.tabIndex?{tabIndex:0}:{}))}),Ce=Ne=>{const ke=K.current,We=zl(ke).activeElement;if(We.getAttribute("role")!=="tab")return;let et=t==="horizontal"?"ArrowLeft":"ArrowUp",tt=t==="horizontal"?"ArrowRight":"ArrowDown";switch(t==="horizontal"&&me&&(et="ArrowRight",tt="ArrowLeft"),Ne.key){case et:Ne.preventDefault(),yy(ke,We,x4);break;case tt:Ne.preventDefault(),yy(ke,We,m4);break;case"Home":Ne.preventDefault(),yy(ke,null,m4);break;case"End":Ne.preventDefault(),yy(ke,null,x4);break}},Ve=Ee();return Or.jsxs(AG,Xr({className:Oa(b.root,a),ownerState:D,ref:W,as:C},y,{children:[Ve.scrollButtonStart,Ve.scrollbarSizeListener,Or.jsxs(SG,{className:b.scroller,ownerState:D,style:{overflow:he.overflow,[S?`margin${me?"Left":"Right"}`:"marginBottom"]:u?void 0:-he.scrollbarWidth},ref:$,children:[Or.jsx(MG,{"aria-label":B,"aria-labelledby":N,"aria-orientation":t==="vertical"?"vertical":null,className:b.flexContainer,ownerState:D,onKeyDown:Ce,ref:K,role:"tablist",children:we}),V&&Ue]}),Ve.scrollButtonEnd]}))}),PG=LG,RG=()=>Or.jsx(FE,{maxWidth:"lg",children:Or.jsx(qa,{sx:{p:2},children:Or.jsx(Ci,{variant:"h1",children:"404 Not Found"})})}),DG=({experiment:o,showModel:P})=>{const[W,Q]=Er.useState(!!P),[ce,me]=Ds.useState([]),[B,N]=Ds.useState([]),[e,p]=Ds.useState(0),L={color:o.id?"green":"black"};Er.useEffect(()=>{if(o.model.nodes&&o.model.edges){const h=JSON.parse(JSON.stringify(o.model));me(h.nodes),N(h.edges)}},[o]);const a=()=>{Q(!W)};function C(h){const{children:g,value:t,index:r,...s}=h;return Or.jsx("div",{role:"tabpanel",hidden:t!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`,...s,children:t===r&&Or.jsx(qa,{sx:{p:3},children:g})})}const w=(h,g)=>{p(g)};return Or.jsx(qa,{sx:{m:1},children:Or.jsx(qa,{sx:{mt:3,mb:3,ml:1,pb:3,borderBottom:1,minHeight:"600px"},children:Or.jsxs(Dh,{container:!0,spacing:2,children:[Or.jsx(Dh,{item:!0,xs:12,md:3,children:Or.jsx(qa,{sx:{borderRight:1,borderColor:"divider",m:2},children:Or.jsx(Ci,{variant:"h3",children:" SIDEBAR AREA "})})}),Or.jsx(Dh,{item:!0,xs:12,md:9,children:Or.jsx(qa,{sx:{m:1},children:Or.jsxs(ig,{children:[Or.jsx(ZN,{title:o.name}),Or.jsx(GE,{style:L,children:Or.jsx(Ci,{variant:"h6",children:"Model Detected"})}),Or.jsx(og,{children:Or.jsxs(qa,{sx:{m:1},children:[Or.jsxs(Ci,{variant:"body1",children:[" Model: ",o.model.name," "]}),Or.jsx(Ci,{variant:"body1",children:" Recommend Explainers "}),o.explainers.map((h,g)=>Or.jsxs(Ci,{children:[" ",h.name," "]},g)),Or.jsx(qa,{children:Or.jsx(Ci,{variant:"h3",children:" Model architecture was detected successfully "})}),Or.jsx(zc,{onClick:()=>a(),children:" View Model "}),Or.jsxs(bO,{in:W,timeout:"auto",unmountOnExit:!0,children:[Or.jsx(qa,{sx:{m:2},children:Or.jsx(PG,{value:e,onChange:w,children:Or.jsx(QV,{label:"Text View"})})}),Or.jsx(C,{value:e,index:0,children:ce.map((h,g)=>Or.jsxs(Ci,{component:"div",children:[" ",h.operator," "]},g))})]})]})})]})})})]})})})},w4=()=>{const o=Kf(me=>me.projects.loaded),P=Kf(me=>me.projects.data),W=Kf(me=>me.projects.currentProject.id),Q=P==null?void 0:P.find(me=>me.id===W),ce=Q==null?void 0:Q.experiments.every(me=>!me.id);return!o||!P?Or.jsx(qa,{sx:{p:2,maxWidth:1400},children:Or.jsx(qa,{sx:{m:5,minHeight:"50px"},children:Or.jsx(ig,{children:Or.jsx(og,{children:Or.jsx(qa,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:Or.jsx(uw,{})})})})})}):Or.jsxs(qa,{sx:{p:2,maxWidth:1400},children:[Or.jsx(Ci,{variant:"h1",children:" Model Architecture Information "}),Or.jsx(Ci,{variant:"h6",children:" 3 models are detected "}),ce?Or.jsx(qa,{sx:{m:5,minHeight:"50px"},children:Or.jsx(ig,{children:Or.jsx(og,{children:Or.jsx(lw,{severity:"warning",children:"No available experiment. Try Again."})})})}):Q==null?void 0:Q.experiments.map((me,B)=>Or.jsx(DG,{experiment:me,showModel:B===0},B)),Or.jsxs(qa,{sx:{mt:1,textAlign:"right"},children:[Or.jsx(Ci,{sx:{mb:1},children:"설명 알고리즘 적용하기"}),Or.jsx(zc,{variant:"contained",color:"primary",component:vb,to:"/model-explanation",children:"Model Explanation"})]})]})};var fw={},WE={exports:{}};(function(o){function P(W){return W&&W.__esModule?W:{default:W}}o.exports=P,o.exports.__esModule=!0,o.exports.default=o.exports})(WE);var IG=WE.exports,o2={};const kG=VL(iO);var T4;function FG(){return T4||(T4=1,function(o){"use client";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"default",{enumerable:!0,get:function(){return P.createSvgIcon}});var P=kG}(o2)),o2}var _G=IG;Object.defineProperty(fw,"__esModule",{value:!0});var jE=fw.default=void 0,zG=_G(FG()),OG=Or,BG=(0,zG.default)((0,OG.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");jE=fw.default=BG;var YE={},ZE={};(function(o){function P(c){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},P(c)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=l;var W=B(Er),Q=ce(wk);function ce(c){return c&&c.__esModule?c:{default:c}}function me(c){if(typeof WeakMap!="function")return null;var f=new WeakMap,m=new WeakMap;return(me=function(A){return A?m:f})(c)}function B(c,f){if(!f&&c&&c.__esModule)return c;if(c===null||P(c)!=="object"&&typeof c!="function")return{default:c};var m=me(f);if(m&&m.has(c))return m.get(c);var v={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in c)if(d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)){var u=A?Object.getOwnPropertyDescriptor(c,d):null;u&&(u.get||u.set)?Object.defineProperty(v,d,u):v[d]=c[d]}return v.default=c,m&&m.set(c,v),v}function N(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function e(c,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}function p(c,f,m){return f&&e(c.prototype,f),m&&e(c,m),Object.defineProperty(c,"prototype",{writable:!1}),c}function L(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&a(c,f)}function a(c,f){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,A){return v.__proto__=A,v},a(c,f)}function C(c){var f=g();return function(){var v=t(c),A;if(f){var d=t(this).constructor;A=Reflect.construct(v,arguments,d)}else A=v.apply(this,arguments);return w(this,A)}}function w(c,f){if(f&&(P(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(c)}function h(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t(c){return t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},t(c)}var r=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],s=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function l(c){var f=function(m){L(A,m);var v=C(A);function A(d){var u;return N(this,A),u=v.call(this,d),u.p=Promise.resolve(),u.resizeHandler=null,u.handlers={},u.syncWindowResize=u.syncWindowResize.bind(h(u)),u.syncEventHandlers=u.syncEventHandlers.bind(h(u)),u.attachUpdateEvents=u.attachUpdateEvents.bind(h(u)),u.getRef=u.getRef.bind(h(u)),u.handleUpdate=u.handleUpdate.bind(h(u)),u.figureCallback=u.figureCallback.bind(h(u)),u.updatePlotly=u.updatePlotly.bind(h(u)),u}return p(A,[{key:"updatePlotly",value:function(u,y,M){var S=this;this.p=this.p.then(function(){if(!S.unmounting){if(!S.el)throw new Error("Missing element reference");return c.react(S.el,{data:S.props.data,layout:S.props.layout,config:S.props.config,frames:S.props.frames})}}).then(function(){S.unmounting||(S.syncWindowResize(u),S.syncEventHandlers(),S.figureCallback(y),M&&S.attachUpdateEvents())}).catch(function(R){S.props.onError&&S.props.onError(R)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(u){this.unmounting=!1;var y=u.frames&&u.frames.length?u.frames.length:0,M=this.props.frames&&this.props.frames.length?this.props.frames.length:0,S=!(u.layout===this.props.layout&&u.data===this.props.data&&u.config===this.props.config&&M===y),R=u.revision!==void 0,x=u.revision!==this.props.revision;!S&&(!R||R&&!x)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),c.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var u=this;!this.el||!this.el.removeListener||s.forEach(function(y){u.el.on(y,u.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var u=this;!this.el||!this.el.removeListener||s.forEach(function(y){u.el.removeListener(y,u.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(u){if(typeof u=="function"){var y=this.el,M=y.data,S=y.layout,R=this.el._transitionData?this.el._transitionData._frames:null,x={data:M,layout:S,frames:R};u(x,this.el)}}},{key:"syncWindowResize",value:function(u){var y=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return c.Plots.resize(y.el)},window.addEventListener("resize",this.resizeHandler),u&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(u){this.el=u,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var u=this;r.forEach(function(y){var M=u.props["on"+y],S=u.handlers[y],R=!!S;M&&!R?u.addEventHandler(y,M):!M&&R?u.removeEventHandler(y):M&&R&&M!==S&&(u.removeEventHandler(y),u.addEventHandler(y,M))})}},{key:"addEventHandler",value:function(u,y){this.handlers[u]=y,this.el.on(this.getPlotlyEventName(u),this.handlers[u])}},{key:"removeEventHandler",value:function(u){this.el.removeListener(this.getPlotlyEventName(u),this.handlers[u]),delete this.handlers[u]}},{key:"getPlotlyEventName",value:function(u){return"plotly_"+u.toLowerCase()}},{key:"render",value:function(){return W.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),A}(W.Component);return f.propTypes={data:Q.default.arrayOf(Q.default.object),config:Q.default.object,layout:Q.default.object,frames:Q.default.arrayOf(Q.default.object),revision:Q.default.number,onInitialized:Q.default.func,onPurge:Q.default.func,onError:Q.default.func,onUpdate:Q.default.func,debug:Q.default.bool,style:Q.default.object,className:Q.default.string,useResizeHandler:Q.default.bool,divId:Q.default.string},r.forEach(function(m){f.propTypes["on"+m]=Q.default.func}),f.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},f}})(ZE);var XE={exports:{}};(function(o,P){(function(Q,ce){o.exports=ce()})(self,function(){return function(){var W={98847:function(B,N,e){var p=e(71828),L={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in L){var C=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(C,L[a])}},98222:function(B,N,e){B.exports=e(82887)},27206:function(B,N,e){B.exports=e(60822)},59893:function(B,N,e){B.exports=e(23381)},5224:function(B,N,e){B.exports=e(83832)},59509:function(B,N,e){B.exports=e(72201)},75557:function(B,N,e){B.exports=e(91815)},40338:function(B,N,e){B.exports=e(21462)},35080:function(B,N,e){B.exports=e(51319)},61396:function(B,N,e){B.exports=e(57516)},40549:function(B,N,e){B.exports=e(98128)},49866:function(B,N,e){B.exports=e(99442)},36089:function(B,N,e){B.exports=e(93740)},19548:function(B,N,e){B.exports=e(8729)},35831:function(B,N,e){B.exports=e(93814)},61039:function(B,N,e){B.exports=e(14382)},97040:function(B,N,e){B.exports=e(51759)},77986:function(B,N,e){B.exports=e(10421)},24296:function(B,N,e){B.exports=e(43102)},58872:function(B,N,e){B.exports=e(92165)},29626:function(B,N,e){B.exports=e(3325)},65591:function(B,N,e){B.exports=e(36071)},69738:function(B,N,e){B.exports=e(43905)},92650:function(B,N,e){B.exports=e(35902)},35630:function(B,N,e){B.exports=e(69816)},73434:function(B,N,e){B.exports=e(94507)},27909:function(B,N,e){var p=e(19548);p.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),B.exports=p},46163:function(B,N,e){B.exports=e(15154)},96881:function(B,N,e){B.exports=e(64943)},50581:function(B,N,e){B.exports=e(21164)},55334:function(B,N,e){B.exports=e(54186)},65317:function(B,N,e){B.exports=e(94873)},10021:function(B,N,e){B.exports=e(67618)},54201:function(B,N,e){B.exports=e(58810)},5861:function(B,N,e){B.exports=e(20593)},16122:function(B,N,e){B.exports=e(29396)},83043:function(B,N,e){B.exports=e(13551)},48131:function(B,N,e){B.exports=e(46858)},47582:function(B,N,e){B.exports=e(17988)},21641:function(B,N,e){B.exports=e(68868)},96268:function(B,N,e){B.exports=e(20467)},19440:function(B,N,e){B.exports=e(91271)},99488:function(B,N,e){B.exports=e(21461)},97393:function(B,N,e){B.exports=e(85956)},25743:function(B,N,e){B.exports=e(52979)},66398:function(B,N,e){B.exports=e(32275)},17280:function(B,N,e){B.exports=e(6419)},77900:function(B,N,e){B.exports=e(61510)},81299:function(B,N,e){B.exports=e(87619)},93005:function(B,N,e){B.exports=e(93601)},40344:function(B,N,e){B.exports=e(96595)},47645:function(B,N,e){B.exports=e(70954)},6197:function(B,N,e){B.exports=e(47462)},4534:function(B,N,e){B.exports=e(17659)},85461:function(B,N,e){B.exports=e(19990)},82884:function(B){B.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(B,N,e){var p=e(82884),L=e(41940),a=e(85555),C=e(44467).templatedArray;e(24695),B.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:L({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(B,N,e){var p=e(71828),L=e(89298),a=e(92605).draw;B.exports=function(g){var t=g._fullLayout,r=p.filterVisible(t.annotations);if(r.length&&g._fullData.length)return p.syncOrAsync([a,C],g)};function C(h){var g=h._fullLayout;p.filterVisible(g.annotations).forEach(function(t){var r=L.getFromId(h,t.xref),s=L.getFromId(h,t.yref),n=L.getRefType(t.xref),l=L.getRefType(t.yref);t._extremes={},n==="range"&&w(t,r),l==="range"&&w(t,s)})}function w(h,g){var t=g._id,r=t.charAt(0),s=h[r],n=h["a"+r],l=h[r+"ref"],c=h["a"+r+"ref"],f=h["_"+r+"padplus"],m=h["_"+r+"padminus"],v={x:1,y:-1}[r]*h[r+"shift"],A=3*h.arrowsize*h.arrowwidth||0,d=A+v,u=A-v,y=3*h.startarrowsize*h.arrowwidth||0,M=y+v,S=y-v,R;if(c===l){var x=L.findExtremes(g,[g.r2c(s)],{ppadplus:d,ppadminus:u}),E=L.findExtremes(g,[g.r2c(n)],{ppadplus:Math.max(f,M),ppadminus:Math.max(m,S)});R={min:[x.min[0],E.min[0]],max:[x.max[0],E.max[0]]}}else M=n?M+n:M,S=n?S-n:S,R=L.findExtremes(g,[g.r2c(s)],{ppadplus:Math.max(f,d,M),ppadminus:Math.max(m,u,S)});h._extremes[t]=R}},44317:function(B,N,e){var p=e(71828),L=e(73972),a=e(44467).arrayEditor;B.exports={hasClickToShow:C,onClick:w};function C(t,r){var s=h(t,r);return s.on.length>0||s.explicitOff.length>0}function w(t,r){var s=h(t,r),n=s.on,l=s.off.concat(s.explicitOff),c={},f=t._fullLayout.annotations,m,v;if(n.length||l.length){for(m=0;m<n.length;m++)v=a(t.layout,"annotations",f[n[m]]),v.modifyItem("visible",!0),p.extendFlat(c,v.getUpdateObj());for(m=0;m<l.length;m++)v=a(t.layout,"annotations",f[l[m]]),v.modifyItem("visible",!1),p.extendFlat(c,v.getUpdateObj());return L.call("update",t,{},c)}}function h(t,r){var s=t._fullLayout.annotations,n=[],l=[],c=[],f=(r||[]).length,m,v,A,d,u,y,M,S;for(m=0;m<s.length;m++)if(A=s[m],d=A.clicktoshow,d){for(v=0;v<f;v++)if(u=r[v],y=u.xaxis,M=u.yaxis,y._id===A.xref&&M._id===A.yref&&y.d2r(u.x)===g(A._xclick,y)&&M.d2r(u.y)===g(A._yclick,M)){A.visible?d==="onout"?S=l:S=c:S=n,S.push(m);break}v===f&&A.visible&&d==="onout"&&l.push(m)}return{on:n,off:l,explicitOff:c}}function g(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(B,N,e){var p=e(71828),L=e(7901);B.exports=function(C,w,h,g){g("opacity");var t=g("bgcolor"),r=g("bordercolor"),s=L.opacity(r);g("borderpad");var n=g("borderwidth"),l=g("showarrow");g("text",l?" ":h._dfltTitle.annotation),g("textangle"),p.coerceFont(g,"font",h.font),g("width"),g("align");var c=g("height");if(c&&g("valign"),l){var f=g("arrowside"),m,v;f.indexOf("end")!==-1&&(m=g("arrowhead"),v=g("arrowsize")),f.indexOf("start")!==-1&&(g("startarrowhead",m),g("startarrowsize",v)),g("arrowcolor",s?w.bordercolor:L.defaultLine),g("arrowwidth",(s&&n||1)*2),g("standoff"),g("startstandoff")}var A=g("hovertext"),d=h.hoverlabel||{};if(A){var u=g("hoverlabel.bgcolor",d.bgcolor||(L.opacity(t)?L.rgb(t):L.defaultLine)),y=g("hoverlabel.bordercolor",d.bordercolor||L.contrast(u));p.coerceFont(g,"hoverlabel.font",{family:d.font.family,size:d.font.size,color:d.font.color||y})}g("captureevents",!!A)}},94128:function(B,N,e){var p=e(92770),L=e(58163);B.exports=function(C,w,h,g){w=w||{};var t=h==="log"&&w.type==="linear",r=h==="linear"&&w.type==="log";if(!(t||r))return;var s=C._fullLayout.annotations,n=w._id.charAt(0),l,c;function f(v){var A=l[v],d=null;t?d=L(A,w.range):d=Math.pow(10,A),p(d)||(d=null),g(c+v,d)}for(var m=0;m<s.length;m++)l=s[m],c="annotations["+m+"].",l[n+"ref"]===w._id&&f(n),l["a"+n+"ref"]===w._id&&f("a"+n)}},84046:function(B,N,e){var p=e(71828),L=e(89298),a=e(85501),C=e(25625),w=e(50215);B.exports=function(t,r){a(t,r,{name:"annotations",handleItemDefaults:h})};function h(g,t,r){function s(T,i){return p.coerce(g,t,w,T,i)}var n=s("visible"),l=s("clicktoshow");if(n||l){C(g,t,r,s);for(var c=t.showarrow,f=["x","y"],m=[-10,-30],v={_fullLayout:r},A=0;A<2;A++){var d=f[A],u=L.coerceRef(g,t,v,d,"","paper");if(u!=="paper"){var y=L.getFromId(v,u);y._annIndices.push(t._index)}if(L.coercePosition(t,v,s,u,d,.5),c){var M="a"+d,S=L.coerceRef(g,t,v,M,"pixel",["pixel","paper"]);S!=="pixel"&&S!==u&&(S=t[M]="pixel");var R=S==="pixel"?m[A]:.4;L.coercePosition(t,v,s,S,M,R)}s(d+"anchor"),s(d+"shift")}if(p.noneOrAll(g,t,["x","y"]),c&&p.noneOrAll(g,t,["ax","ay"]),l){var x=s("xclick"),E=s("yclick");t._xclick=x===void 0?t.x:L.cleanPosition(x,v,t.xref),t._yclick=E===void 0?t.y:L.cleanPosition(E,v,t.yref)}}}},92605:function(B,N,e){var p=e(39898),L=e(73972),a=e(74875),C=e(71828),w=C.strTranslate,h=e(89298),g=e(7901),t=e(91424),r=e(30211),s=e(63893),n=e(6964),l=e(28569),c=e(44467).arrayEditor,f=e(13011);B.exports={draw:m,drawOne:v,drawRaw:d};function m(u){var y=u._fullLayout;y._infolayer.selectAll(".annotation").remove();for(var M=0;M<y.annotations.length;M++)y.annotations[M].visible&&v(u,M);return a.previousPromises(u)}function v(u,y){var M=u._fullLayout,S=M.annotations[y]||{},R=h.getFromId(u,S.xref),x=h.getFromId(u,S.yref);R&&R.setScale(),x&&x.setScale(),d(u,S,y,!1,R,x)}function A(u,y,M,S,R){var x=R[M],E=R[M+"ref"],T=M.indexOf("y")!==-1,i=h.getRefType(E)==="domain",D=T?S.h:S.w;return u?i?x+(T?-y:y)/u._length:u.p2r(u.r2p(x)+y):x+(T?-y:y)/D}function d(u,y,M,S,R,x){var E=u._fullLayout,T=u._fullLayout._size,i=u._context.edits,D,b;S?(D="annotation-"+S,b=S+".annotations"):(D="annotation",b="annotations");var O=c(u.layout,b,y),F=O.modifyBase,V=O.modifyItem,_=O.getUpdateObj;E._infolayer.selectAll("."+D+'[data-index="'+M+'"]').remove();var U="clip"+E._uid+"_ann"+M;if(!y._input||y.visible===!1){p.selectAll("#"+U).remove();return}var H={x:{},y:{}},z=+y.textangle||0,G=E._infolayer.append("g").classed(D,!0).attr("data-index",String(M)).style("opacity",y.opacity),Y=G.append("g").classed("annotation-text-g",!0),J=i[y.showarrow?"annotationTail":"annotationPosition"],ae=y.captureevents||i.annotationText||J;function oe(be){var Ee={index:M,annotation:y._input,fullAnnotation:y,event:be};return S&&(Ee.subplotId=S),Ee}var he=Y.append("g").style("pointer-events",ae?"all":null).call(n,"pointer").on("click",function(){u._dragging=!1,u.emit("plotly_clickannotation",oe(p.event))});y.hovertext&&he.on("mouseover",function(){var be=y.hoverlabel,Ee=be.font,Ae=this.getBoundingClientRect(),Oe=u.getBoundingClientRect();r.loneHover({x0:Ae.left-Oe.left,x1:Ae.right-Oe.left,y:(Ae.top+Ae.bottom)/2-Oe.top,text:y.hovertext,color:be.bgcolor,borderColor:be.bordercolor,fontFamily:Ee.family,fontSize:Ee.size,fontColor:Ee.color},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:u})}).on("mouseout",function(){r.loneUnhover(E._hoverlayer.node())});var q=y.borderwidth,Z=y.borderpad,$=q+Z,K=he.append("rect").attr("class","bg").style("stroke-width",q+"px").call(g.stroke,y.bordercolor).call(g.fill,y.bgcolor),re=y.width||y.height,le=E._topclips.selectAll("#"+U).data(re?[0]:[]);le.enter().append("clipPath").classed("annclip",!0).attr("id",U).append("rect"),le.exit().remove();var te=y.font,ee=E._meta?C.templateString(y.text,E._meta):y.text,ue=he.append("text").classed("annotation-text",!0).text(ee);function se(be){return be.call(t.font,te).attr({"text-anchor":{left:"start",right:"end"}[y.align]||"middle"}),s.convertToTspans(be,u,ve),be}function ve(){var be=ue.selectAll("a");if(be.size()===1&&be.text()===ue.text()){var Ee=he.insert("a",":first-child").attr({"xlink:xlink:href":be.attr("xlink:href"),"xlink:xlink:show":be.attr("xlink:show")}).style({cursor:"pointer"});Ee.node().appendChild(K.node())}var Ae=he.select(".annotation-text-math-group"),Oe=!Ae.empty(),Ue=t.bBox((Oe?Ae:ue).node()),Le=Ue.width,we=Ue.height,Ce=y.width||Le,Ve=y.height||we,Ne=Math.round(Ce+2*$),ke=Math.round(Ve+2*$);function We(mr,ur){return ur==="auto"&&(mr<.3333333333333333?ur="left":mr>.6666666666666666?ur="right":ur="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ur]}for(var rt=!1,et=["x","y"],tt=0;tt<et.length;tt++){var at=et[tt],ct=y[at+"ref"]||at,dt=y["a"+at+"ref"],gt={x:R,y:x}[at],Et=(z+(at==="x"?0:-90))*Math.PI/180,Ct=Ne*Math.cos(Et),Vt=ke*Math.sin(Et),Je=Math.abs(Ct)+Math.abs(Vt),_e=y[at+"anchor"],Fe=y[at+"shift"]*(at==="x"?1:-1),Be=H[at],De,Te,xe,Me,Pe,He=h.getRefType(ct);if(gt&&He!=="domain"){var Ke=gt.r2fraction(y[at]);(Ke<0||Ke>1)&&(dt===ct?(Ke=gt.r2fraction(y["a"+at]),(Ke<0||Ke>1)&&(rt=!0)):rt=!0),De=gt._offset+gt.r2p(y[at]),Me=.5}else{var qe=He==="domain";at==="x"?(xe=y[at],De=qe?gt._offset+gt._length*xe:De=T.l+T.w*xe):(xe=1-y[at],De=qe?gt._offset+gt._length*xe:De=T.t+T.h*xe),Me=y.showarrow?.5:xe}if(y.showarrow){Be.head=De;var vt=y["a"+at];if(Pe=Ct*We(.5,y.xanchor)-Vt*We(.5,y.yanchor),dt===ct){var bt=h.getRefType(dt);bt==="domain"?(at==="y"&&(vt=1-vt),Be.tail=gt._offset+gt._length*vt):bt==="paper"?at==="y"?(vt=1-vt,Be.tail=T.t+T.h*vt):Be.tail=T.l+T.w*vt:Be.tail=gt._offset+gt.r2p(vt),Te=Pe}else Be.tail=De+vt,Te=Pe+vt;Be.text=Be.tail+Pe;var Wt=E[at==="x"?"width":"height"];if(ct==="paper"&&(Be.head=C.constrain(Be.head,1,Wt-1)),dt==="pixel"){var qt=-Math.max(Be.tail-3,Be.text),At=Math.min(Be.tail+3,Be.text)-Wt;qt>0?(Be.tail+=qt,Be.text+=qt):At>0&&(Be.tail-=At,Be.text-=At)}Be.tail+=Fe,Be.head+=Fe}else Pe=Je*We(Me,_e),Te=Pe,Be.text=De+Pe;Be.text+=Fe,Pe+=Fe,Te+=Fe,y["_"+at+"padplus"]=Je/2+Te,y["_"+at+"padminus"]=Je/2-Te,y["_"+at+"size"]=Je,y["_"+at+"shift"]=Pe}if(rt){he.remove();return}var zt=0,Kt=0;if(y.align!=="left"&&(zt=(Ce-Le)*(y.align==="center"?.5:1)),y.valign!=="top"&&(Kt=(Ve-we)*(y.valign==="middle"?.5:1)),Oe)Ae.select("svg").attr({x:$+zt-1,y:$+Kt}).call(t.setClipUrl,re?U:null,u);else{var Sr=$+Kt-Ue.top,yt=$+zt-Ue.left;ue.call(s.positionText,yt,Sr).call(t.setClipUrl,re?U:null,u)}le.select("rect").call(t.setRect,$,$,Ce,Ve),K.call(t.setRect,q/2,q/2,Ne-q,ke-q),he.call(t.setTranslate,Math.round(H.x.text-Ne/2),Math.round(H.y.text-ke/2)),Y.attr({transform:"rotate("+z+","+H.x.text+","+H.y.text+")"});var Zt=function(mr,ur){G.selectAll(".annotation-arrow-g").remove();var pt=H.x.head,st=H.y.head,xt=H.x.tail+mr,St=H.y.tail+ur,Dt=H.x.text+mr,Rt=H.y.text+ur,Bt=C.rotationXYMatrix(z,Dt,Rt),Nt=C.apply2DTransform(Bt),Xt=C.apply2DTransform2(Bt),lr=+K.attr("width"),sr=+K.attr("height"),dr=Dt-.5*lr,Ye=dr+lr,je=Rt-.5*sr,It=je+sr,kt=[[dr,je,dr,It],[dr,It,Ye,It],[Ye,It,Ye,je],[Ye,je,dr,je]].map(Xt);if(!kt.reduce(function(_r,gn){return _r^!!C.segmentsIntersect(pt,st,pt+1e6,st+1e6,gn[0],gn[1],gn[2],gn[3])},!1)){kt.forEach(function(_r){var gn=C.segmentsIntersect(xt,St,pt,st,_r[0],_r[1],_r[2],_r[3]);gn&&(xt=gn.x,St=gn.y)});var jt=y.arrowwidth,tr=y.arrowcolor,or=y.arrowside,rr=G.append("g").style({opacity:g.opacity(tr)}).classed("annotation-arrow-g",!0),_t=rr.append("path").attr("d","M"+xt+","+St+"L"+pt+","+st).style("stroke-width",jt+"px").call(g.stroke,g.rgb(tr));if(f(_t,or,y),i.annotationPosition&&_t.node().parentNode&&!S){var hr=pt,gr=st;if(y.standoff){var pr=Math.sqrt(Math.pow(pt-xt,2)+Math.pow(st-St,2));hr+=y.standoff*(xt-pt)/pr,gr+=y.standoff*(St-st)/pr}var vr=rr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(xt-hr)+","+(St-gr),transform:w(hr,gr)}).style("stroke-width",jt+6+"px").call(g.stroke,"rgba(0,0,0,0)").call(g.fill,"rgba(0,0,0,0)"),Gr,Fr;l.init({element:vr.node(),gd:u,prepFn:function(){var _r=t.getTranslate(he);Gr=_r.x,Fr=_r.y,R&&R.autorange&&F(R._name+".autorange",!0),x&&x.autorange&&F(x._name+".autorange",!0)},moveFn:function(_r,gn){var tn=Nt(Gr,Fr),Bn=tn[0]+_r,An=tn[1]+gn;he.call(t.setTranslate,Bn,An),V("x",A(R,_r,"x",T,y)),V("y",A(x,gn,"y",T,y)),y.axref===y.xref&&V("ax",A(R,_r,"ax",T,y)),y.ayref===y.yref&&V("ay",A(x,gn,"ay",T,y)),rr.attr("transform",w(_r,gn)),Y.attr({transform:"rotate("+z+","+Bn+","+An+")"})},doneFn:function(){L.call("_guiRelayout",u,_());var _r=document.querySelector(".js-notes-box-panel");_r&&_r.redraw(_r.selectedObj)}})}}};if(y.showarrow&&Zt(0,0),J){var $t;l.init({element:he.node(),gd:u,prepFn:function(){$t=Y.attr("transform")},moveFn:function(mr,ur){var pt="pointer";if(y.showarrow)y.axref===y.xref?V("ax",A(R,mr,"ax",T,y)):V("ax",y.ax+mr),y.ayref===y.yref?V("ay",A(x,ur,"ay",T.w,y)):V("ay",y.ay+ur),Zt(mr,ur);else{if(S)return;var st,xt;if(R)st=A(R,mr,"x",T,y);else{var St=y._xsize/T.w,Dt=y.x+(y._xshift-y.xshift)/T.w-St/2;st=l.align(Dt+mr/T.w,St,0,1,y.xanchor)}if(x)xt=A(x,ur,"y",T,y);else{var Rt=y._ysize/T.h,Bt=y.y-(y._yshift+y.yshift)/T.h-Rt/2;xt=l.align(Bt-ur/T.h,Rt,0,1,y.yanchor)}V("x",st),V("y",xt),(!R||!x)&&(pt=l.getCursor(R?.5:st,x?.5:xt,y.xanchor,y.yanchor))}Y.attr({transform:w(mr,ur)+$t}),n(he,pt)},clickFn:function(mr,ur){y.captureevents&&u.emit("plotly_clickannotation",oe(ur))},doneFn:function(){n(he),L.call("_guiRelayout",u,_());var mr=document.querySelector(".js-notes-box-panel");mr&&mr.redraw(mr.selectedObj)}})}}i.annotationText?ue.call(s.makeEditable,{delegate:he,gd:u}).call(se).on("edit",function(be){y.text=be,this.call(se),V("text",be),R&&R.autorange&&F(R._name+".autorange",!0),x&&x.autorange&&F(x._name+".autorange",!0),L.call("_guiRelayout",u,_())}):ue.call(se)}},13011:function(B,N,e){var p=e(39898),L=e(7901),a=e(82884),C=e(71828),w=C.strScale,h=C.strRotate,g=C.strTranslate;B.exports=function(r,s,n){var l=r.node(),c=a[n.arrowhead||0],f=a[n.startarrowhead||0],m=(n.arrowwidth||1)*(n.arrowsize||1),v=(n.arrowwidth||1)*(n.startarrowsize||1),A=s.indexOf("start")>=0,d=s.indexOf("end")>=0,u=c.backoff*m+n.standoff,y=f.backoff*v+n.startstandoff,M,S,R,x;if(l.nodeName==="line"){M={x:+r.attr("x1"),y:+r.attr("y1")},S={x:+r.attr("x2"),y:+r.attr("y2")};var E=M.x-S.x,T=M.y-S.y;if(R=Math.atan2(T,E),x=R+Math.PI,u&&y&&u+y>Math.sqrt(E*E+T*T)){Y();return}if(u){if(u*u>E*E+T*T){Y();return}var i=u*Math.cos(R),D=u*Math.sin(R);S.x+=i,S.y+=D,r.attr({x2:S.x,y2:S.y})}if(y){if(y*y>E*E+T*T){Y();return}var b=y*Math.cos(R),O=y*Math.sin(R);M.x-=b,M.y-=O,r.attr({x1:M.x,y1:M.y})}}else if(l.nodeName==="path"){var F=l.getTotalLength(),V="";if(F<u+y){Y();return}var _=l.getPointAtLength(0),U=l.getPointAtLength(.1);R=Math.atan2(_.y-U.y,_.x-U.x),M=l.getPointAtLength(Math.min(y,F)),V="0px,"+y+"px,";var H=l.getPointAtLength(F),z=l.getPointAtLength(F-.1);x=Math.atan2(H.y-z.y,H.x-z.x),S=l.getPointAtLength(Math.max(0,F-u));var G=V?y+u:u;V+=F-G+"px,"+F+"px",r.style("stroke-dasharray",V)}function Y(){r.style("stroke-dasharray","0px,100px")}function J(ae,oe,he,q){ae.path&&(ae.noRotate&&(he=0),p.select(l.parentNode).append("path").attr({class:r.attr("class"),d:ae.path,transform:g(oe.x,oe.y)+h(he*180/Math.PI)+w(q)}).style({fill:L.rgb(n.arrowcolor),"stroke-width":0}))}A&&J(f,M,R,v),d&&J(c,S,x,m)}},32745:function(B,N,e){var p=e(92605),L=e(44317);B.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:L.hasClickToShow,onClick:L.onClick,convertCoords:e(94128)}},26997:function(B,N,e){var p=e(50215),L=e(30962).overrideAll,a=e(44467).templatedArray;B.exports=L(a("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},5485:function(B,N,e){var p=e(71828),L=e(89298);B.exports=function(w){for(var h=w.fullSceneLayout,g=h.annotations,t=0;t<g.length;t++)a(g[t],w);w.fullLayout._infolayer.selectAll(".annotation-"+w.id).remove()};function a(C,w){var h=w.fullSceneLayout,g=h.domain,t=w.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},p.extendFlat(C._xa,r),L.setConvert(C._xa),C._xa._offset=t.l+g.x[0]*t.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*t.w*(g.x[1]-g.x[0])},C._ya={},p.extendFlat(C._ya,r),L.setConvert(C._ya),C._ya._offset=t.t+(1-g.y[1])*t.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*t.h*(g.y[1]-g.y[0])}}},20226:function(B,N,e){var p=e(71828),L=e(89298),a=e(85501),C=e(25625),w=e(26997);B.exports=function(t,r,s){a(t,r,{name:"annotations",handleItemDefaults:h,fullLayout:s.fullLayout})};function h(g,t,r,s){function n(f,m){return p.coerce(g,t,w,f,m)}function l(f){var m=f+"axis",v={_fullLayout:{}};return v._fullLayout[m]=r[m],L.coercePosition(t,v,n,f,f,.5)}var c=n("visible");c&&(C(g,t,s.fullLayout,n),l("x"),l("y"),l("z"),p.noneOrAll(g,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),p.noneOrAll(g,t,["ax","ay"])))}},82188:function(B,N,e){var p=e(92605).drawRaw,L=e(63538),a=["x","y","z"];B.exports=function(w){for(var h=w.fullSceneLayout,g=w.dataScale,t=h.annotations,r=0;r<t.length;r++){for(var s=t[r],n=!1,l=0;l<3;l++){var c=a[l],f=s[c],m=h[c+"axis"],v=m.r2fraction(f);if(v<0||v>1){n=!0;break}}n?w.fullLayout._infolayer.select(".annotation-"+w.id+'[data-index="'+r+'"]').remove():(s._pdata=L(w.glplot.cameraParams,[h.xaxis.r2l(s.x)*g[0],h.yaxis.r2l(s.y)*g[1],h.zaxis.r2l(s.z)*g[2]]),p(w.graphDiv,s,r,w.id,s._xa,s._ya))}}},2468:function(B,N,e){var p=e(73972),L=e(71828);B.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:a,convert:e(5485),draw:e(82188)};function a(C,w){var h=p.subplotsRegistry.gl3d;if(h)for(var g=h.attrRegex,t=Object.keys(C),r=0;r<t.length;r++){var s=t[r];g.test(s)&&(C[s].annotations||[]).length&&(L.pushUnique(w._basePlotModules,h),L.pushUnique(w._subplots.gl3d,s))}}},7561:function(B,N,e){B.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(B,N,e){var p=e(7561),L=e(71828),a=e(50606),C=a.EPOCHJD,w=a.ONEDAY,h={valType:"enumerated",values:L.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},g=function(R,x,E,T){var i={};return i[E]=h,L.coerce(R,x,i,E,T)},t=function(R,x,E,T){for(var i=0;i<E.length;i++)g(R,x,E[i]+"calendar",T.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},s={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},l="##",c={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:l,w:l,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function f(R,x,E){for(var T=Math.floor((x+.05)/w)+C,i=v(E).fromJD(T),D=0,b,O,F,V,_;(D=R.indexOf("%",D))!==-1;)b=R.charAt(D+1),b==="0"||b==="-"||b==="_"?(F=3,O=R.charAt(D+2),b==="_"&&(b="-")):(O=b,b="0",F=2),V=c[O],V?(V===l?_=l:_=i.formatDate(V[b]),R=R.substr(0,D)+_+R.substr(D+F),D+=_.length):D+=F;return R}var m={};function v(R){var x=m[R];return x||(x=m[R]=p.instance(R),x)}function A(R){return L.extendFlat({},h,{description:R})}function d(R){return"Sets the calendar system to use with `"+R+"` date data."}var u={xcalendar:A(d("x"))},y=L.extendFlat({},u,{ycalendar:A(d("y"))}),M=L.extendFlat({},y,{zcalendar:A(d("z"))}),S=A(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));B.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:y,bar:y,box:y,heatmap:y,contour:y,histogram:y,histogram2d:y,histogram2dcontour:y,scatter3d:M,surface:M,mesh3d:M,scattergl:y,ohlc:u,candlestick:u},layout:{calendar:A(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:S},yaxis:{calendar:S},scene:{xaxis:{calendar:S},yaxis:{calendar:S},zaxis:{calendar:S}},polar:{radialaxis:{calendar:S}}},transforms:{filter:{valuecalendar:A(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:A(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:h,handleDefaults:g,handleTraceDefaults:t,CANONICAL_SUNDAY:s,CANONICAL_TICK:r,DFLTRANGE:n,getCal:v,worldCalFmt:f}},22399:function(B,N){N.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],N.defaultLine="#444",N.lightLine="#eee",N.background="#fff",N.borderLine="#BEC8D9",N.lightFraction=90.9090909090909},7901:function(B,N,e){var p=e(84267),L=e(92770),a=e(73627).isTypedArray,C=B.exports={},w=e(22399);C.defaults=w.defaults;var h=C.defaultLine=w.defaultLine;C.lightLine=w.lightLine;var g=C.background=w.background;C.tinyRGB=function(r){var s=r.toRgb();return"rgb("+Math.round(s.r)+", "+Math.round(s.g)+", "+Math.round(s.b)+")"},C.rgb=function(r){return C.tinyRGB(p(r))},C.opacity=function(r){return r?p(r).getAlpha():0},C.addOpacity=function(r,s){var n=p(r).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+s+")"},C.combine=function(r,s){var n=p(r).toRgb();if(n.a===1)return p(r).toRgbString();var l=p(s||g).toRgb(),c=l.a===1?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a},f={r:c.r*(1-n.a)+n.r*n.a,g:c.g*(1-n.a)+n.g*n.a,b:c.b*(1-n.a)+n.b*n.a};return p(f).toRgbString()},C.contrast=function(r,s,n){var l=p(r);l.getAlpha()!==1&&(l=p(C.combine(r,g)));var c=l.isDark()?s?l.lighten(s):g:n?l.darken(n):h;return c.toString()},C.stroke=function(r,s){var n=p(s);r.style({stroke:C.tinyRGB(n),"stroke-opacity":n.getAlpha()})},C.fill=function(r,s){var n=p(s);r.style({fill:C.tinyRGB(n),"fill-opacity":n.getAlpha()})},C.clean=function(r){if(!(!r||typeof r!="object")){var s=Object.keys(r),n,l,c,f;for(n=0;n<s.length;n++)if(c=s[n],f=r[c],c.substr(c.length-5)==="color")if(Array.isArray(f))for(l=0;l<f.length;l++)f[l]=t(f[l]);else r[c]=t(f);else if(c.substr(c.length-10)==="colorscale"&&Array.isArray(f))for(l=0;l<f.length;l++)Array.isArray(f[l])&&(f[l][1]=t(f[l][1]));else if(Array.isArray(f)){var m=f[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(l=0;l<f.length;l++)C.clean(f[l])}else f&&typeof f=="object"&&!a(f)&&C.clean(f)}};function t(r){if(L(r)||typeof r!="string")return r;var s=r.trim();if(s.substr(0,3)!=="rgb")return r;var n=s.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return r;var l=n[1].trim().split(/\s*[\s,]\s*/),c=s.charAt(3)==="a"&&l.length===4;if(!c&&l.length!==3)return r;for(var f=0;f<l.length;f++){if(!l[f].length||(l[f]=Number(l[f]),!(l[f]>=0)))return r;if(f===3)l[f]>1&&(l[f]=1);else if(l[f]>=1)return r}var m=Math.round(l[0]*255)+", "+Math.round(l[1]*255)+", "+Math.round(l[2]*255);return c?"rgba("+m+", "+l[3]+")":"rgb("+m+")"}},63583:function(B,N,e){var p=e(13838),L=e(41940),a=e(1426).extendFlat,C=e(30962).overrideAll;B.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:a({},p.ticks,{dflt:""}),ticklabeloverflow:a({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:L({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:L({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(B){B.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(B,N,e){var p=e(71828),L=e(44467),a=e(26218),C=e(38701),w=e(96115),h=e(89426),g=e(63583);B.exports=function(r,s,n){var l=L.newContainer(s,"colorbar"),c=r.colorbar||{};function f(H,z){return p.coerce(c,l,g,H,z)}var m=n.margin||{t:0,b:0,l:0,r:0},v=n.width-m.l-m.r,A=n.height-m.t-m.b,d=f("orientation"),u=d==="v",y=f("thicknessmode");f("thickness",y==="fraction"?30/(u?v:A):30);var M=f("lenmode");f("len",M==="fraction"?1:u?A:v);var S=f("yref"),R=f("xref"),x=S==="paper",E=R==="paper",T,i,D,b="left";u?(D="middle",b=E?"left":"right",T=E?1.02:1,i=.5):(D=x?"bottom":"top",b="center",T=.5,i=x?1.02:1),p.coerce(c,l,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:T}},"x"),p.coerce(c,l,{y:{valType:"number",min:x?-2:0,max:x?3:1,dflt:i}},"y"),f("xanchor",b),f("xpad"),f("yanchor",D),f("ypad"),p.noneOrAll(c,l,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor");var O=p.coerce(c,l,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:u?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");f("ticklabeloverflow",O.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(c,l,f,"linear");var F=n.font,V={outerTicks:!1,font:F};O.indexOf("inside")!==-1&&(V.bgColor="black"),h(c,l,f,"linear",V),w(c,l,f,"linear",V),C(c,l,f,"linear",V),f("title.text",n._dfltTitle.colorbar);var _=l.showticklabels?l.tickfont:F,U=p.extendFlat({},_,{color:F.color,size:p.bigFont(_.size)});p.coerceFont(f,"title.font",U),f("title.side",u?"top":"right")}},98981:function(B,N,e){var p=e(39898),L=e(84267),a=e(74875),C=e(73972),w=e(89298),h=e(28569),g=e(71828),t=g.strTranslate,r=e(1426).extendFlat,s=e(6964),n=e(91424),l=e(7901),c=e(92998),f=e(63893),m=e(52075).flipScale,v=e(71453),A=e(52830),d=e(13838),u=e(18783),y=u.LINE_SPACING,M=u.FROM_TL,S=u.FROM_BR,R=e(30939).cn;function x(O){var F=O._fullLayout,V=F._infolayer.selectAll("g."+R.colorbar).data(E(O),function(_){return _._id});V.enter().append("g").attr("class",function(_){return _._id}).classed(R.colorbar,!0),V.each(function(_){var U=p.select(this);g.ensureSingle(U,"rect",R.cbbg),g.ensureSingle(U,"g",R.cbfills),g.ensureSingle(U,"g",R.cblines),g.ensureSingle(U,"g",R.cbaxis,function(z){z.classed(R.crisp,!0)}),g.ensureSingle(U,"g",R.cbtitleunshift,function(z){z.append("g").classed(R.cbtitle,!0)}),g.ensureSingle(U,"rect",R.cboutline);var H=T(U,_,O);H&&H.then&&(O._promises||[]).push(H),O._context.edits.colorbarPosition&&i(U,_,O)}),V.exit().each(function(_){a.autoMargin(O,_._id)}).remove(),V.order()}function E(O){var F=O._fullLayout,V=O.calcdata,_=[],U,H,z,G;function Y(te){return r(te,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function J(){typeof G.calc=="function"?G.calc(O,z,U):(U._fillgradient=H.reversescale?m(H.colorscale):H.colorscale,U._zrange=[H[G.min],H[G.max]])}for(var ae=0;ae<V.length;ae++){var oe=V[ae];if(z=oe[0].trace,!!z._module){var he=z._module.colorbar;if(z.visible===!0&&he)for(var q=Array.isArray(he),Z=q?he:[he],$=0;$<Z.length;$++){G=Z[$];var K=G.container;H=K?z[K]:z,H&&H.showscale&&(U=Y(H.colorbar),U._id="cb"+z.uid+(q&&K?"-"+K:""),U._traceIndex=z.index,U._propPrefix=(K?K+".":"")+"colorbar.",U._meta=z._meta,J(),_.push(U))}}}for(var re in F._colorAxes)if(H=F[re],H.showscale){var le=F._colorAxes[re];U=Y(H.colorbar),U._id="cb"+re,U._propPrefix=re+".colorbar.",U._meta=F._meta,G={min:"cmin",max:"cmax"},le[0]!=="heatmap"&&(z=le[1],G.calc=z._module.colorbar.calc),J(),_.push(U)}return _}function T(O,F,V){var _=F.orientation==="v",U=F.len,H=F.lenmode,z=F.thickness,G=F.thicknessmode,Y=F.outlinewidth,J=F.borderwidth,ae=F.bgcolor,oe=F.xanchor,he=F.yanchor,q=F.xpad,Z=F.ypad,$=F.x,K=_?F.y:1-F.y,re=F.yref==="paper",le=F.xref==="paper",te=V._fullLayout,ee=te._size,ue=F._fillcolor,se=F._line,ve=F.title,be=ve.side,Ee=F._zrange||p.extent((typeof ue=="function"?ue:se.color).domain()),Ae=typeof se.color=="function"?se.color:function(){return se.color},Oe=typeof ue=="function"?ue:function(){return ue},Ue=F._levels,Le=D(V,F,Ee),we=Le.fill,Ce=Le.line,Ve=Math.round(z*(G==="fraction"?_?ee.w:ee.h:1)),Ne=Ve/(_?ee.w:ee.h),ke=Math.round(U*(H==="fraction"?_?ee.h:ee.w:1)),We=ke/(_?ee.h:ee.w),rt=le?ee.w:V._fullLayout.width,et=re?ee.h:V._fullLayout.height,tt=Math.round(_?$*rt+q:K*et+Z),at={center:.5,right:1}[oe]||0,ct={top:1,middle:.5}[he]||0,dt=_?$-at*Ne:K-ct*Ne,gt=_?K-ct*We:$-at*We,Et=Math.round(_?et*(1-gt):rt*gt);F._lenFrac=We,F._thickFrac=Ne,F._uFrac=dt,F._vFrac=gt;var Ct=F._axis=b(V,F,Ee);Ct.position=Ne+(_?$+q/ee.w:K+Z/ee.h);var Vt=["top","bottom"].indexOf(be)!==-1;if(_&&Vt&&(Ct.title.side=be,Ct.titlex=$+q/ee.w,Ct.titley=gt+(ve.side==="top"?We-Z/ee.h:Z/ee.h)),!_&&!Vt&&(Ct.title.side=be,Ct.titley=K+Z/ee.h,Ct.titlex=gt+q/ee.w),se.color&&F.tickmode==="auto"){Ct.tickmode="linear",Ct.tick0=Ue.start;var Je=Ue.size,_e=g.constrain(ke/50,4,15)+1,Fe=(Ee[1]-Ee[0])/((F.nticks||_e)*Je);if(Fe>1){var Be=Math.pow(10,Math.floor(Math.log(Fe)/Math.LN10));Je*=Be*g.roundUp(Fe/Be,[2,5,10]),(Math.abs(Ue.start)/Ue.size+1e-6)%1<2e-6&&(Ct.tick0=0)}Ct.dtick=Je}Ct.domain=_?[gt+Z/ee.h,gt+We-Z/ee.h]:[gt+q/ee.w,gt+We-q/ee.w],Ct.setScale(),O.attr("transform",t(Math.round(ee.l),Math.round(ee.t)));var De=O.select("."+R.cbtitleunshift).attr("transform",t(-Math.round(ee.l),-Math.round(ee.t))),Te=Ct.ticklabelposition,xe=Ct.title.font.size,Me=O.select("."+R.cbaxis),Pe,He=0,Ke=0;function qe(At,zt){var Kt={propContainer:Ct,propName:F._propPrefix+"title",traceIndex:F._traceIndex,_meta:F._meta,placeholder:te._dfltTitle.colorbar,containerGroup:O.select("."+R.cbtitle)},Sr=At.charAt(0)==="h"?At.substr(1):"h"+At;O.selectAll("."+Sr+",."+Sr+"-math-group").remove(),c.draw(V,At,r(Kt,zt||{}))}function vt(){if(_&&Vt||!_&&!Vt){var At,zt;be==="top"&&(At=q+ee.l+rt*$,zt=Z+ee.t+et*(1-gt-We)+3+xe*.75),be==="bottom"&&(At=q+ee.l+rt*$,zt=Z+ee.t+et*(1-gt)-3-xe*.25),be==="right"&&(zt=Z+ee.t+et*K+3+xe*.75,At=q+ee.l+rt*gt),qe(Ct._id+"title",{attributes:{x:At,y:zt,"text-anchor":_?"start":"middle"}})}}function bt(){if(_&&!Vt||!_&&Vt){var At=Ct.position||0,zt=Ct._offset+Ct._length/2,Kt,Sr;if(be==="right")Sr=zt,Kt=ee.l+rt*At+10+xe*(Ct.showticklabels?1:.5);else if(Kt=zt,be==="bottom"&&(Sr=ee.t+et*At+10+(Te.indexOf("inside")===-1?Ct.tickfont.size:0)+(Ct.ticks!=="intside"&&F.ticklen||0)),be==="top"){var yt=ve.text.split("<br>").length;Sr=ee.t+et*At+10-Ve-y*xe*yt}qe((_?"h":"v")+Ct._id+"title",{avoid:{selection:p.select(V).selectAll("g."+Ct._id+"tick"),side:be,offsetTop:_?0:ee.t,offsetLeft:_?ee.l:0,maxShift:_?te.width:te.height},attributes:{x:Kt,y:Sr,"text-anchor":"middle"},transform:{rotate:_?-90:0,offset:0}})}}function Wt(){if(!_&&!Vt||_&&Vt){var At=O.select("."+R.cbtitle),zt=At.select("text"),Kt=[-Y/2,Y/2],Sr=At.select(".h"+Ct._id+"title-math-group").node(),yt=15.6;zt.node()&&(yt=parseInt(zt.node().style.fontSize,10)*y);var Zt;if(Sr?(Zt=n.bBox(Sr),Ke=Zt.width,He=Zt.height,He>yt&&(Kt[1]-=(He-yt)/2)):zt.node()&&!zt.classed(R.jsPlaceholder)&&(Zt=n.bBox(zt.node()),Ke=Zt.width,He=Zt.height),_){if(He){if(He+=5,be==="top")Ct.domain[1]-=He/ee.h,Kt[1]*=-1;else{Ct.domain[0]+=He/ee.h;var $t=f.lineCount(zt);Kt[1]+=(1-$t)*yt}At.attr("transform",t(Kt[0],Kt[1])),Ct.setScale()}}else Ke&&(be==="right"&&(Ct.domain[0]+=(Ke+xe/2)/ee.w),At.attr("transform",t(Kt[0],Kt[1])),Ct.setScale())}O.selectAll("."+R.cbfills+",."+R.cblines).attr("transform",_?t(0,Math.round(ee.h*(1-Ct.domain[1]))):t(Math.round(ee.w*Ct.domain[0]),0)),Me.attr("transform",_?t(0,Math.round(-ee.t)):t(Math.round(-ee.l),0));var mr=O.select("."+R.cbfills).selectAll("rect."+R.cbfill).attr("style","").data(we);mr.enter().append("rect").classed(R.cbfill,!0).attr("style",""),mr.exit().remove();var ur=Ee.map(Ct.c2p).map(Math.round).sort(function(Dt,Rt){return Dt-Rt});mr.each(function(Dt,Rt){var Bt=[Rt===0?Ee[0]:(we[Rt]+we[Rt-1])/2,Rt===we.length-1?Ee[1]:(we[Rt]+we[Rt+1])/2].map(Ct.c2p).map(Math.round);_&&(Bt[1]=g.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,ur[0],ur[1]));var Nt=p.select(this).attr(_?"x":"y",tt).attr(_?"y":"x",p.min(Bt)).attr(_?"width":"height",Math.max(Ve,2)).attr(_?"height":"width",Math.max(p.max(Bt)-p.min(Bt),2));if(F._fillgradient)n.gradient(Nt,V,F._id,_?"vertical":"horizontalreversed",F._fillgradient,"fill");else{var Xt=Oe(Dt).replace("e-","");Nt.attr("fill",L(Xt).toHexString())}});var pt=O.select("."+R.cblines).selectAll("path."+R.cbline).data(se.color&&se.width?Ce:[]);pt.enter().append("path").classed(R.cbline,!0),pt.exit().remove(),pt.each(function(Dt){var Rt=tt,Bt=Math.round(Ct.c2p(Dt))+se.width/2%1;p.select(this).attr("d","M"+(_?Rt+","+Bt:Bt+","+Rt)+(_?"h":"v")+Ve).call(n.lineGroupStyle,se.width,Ae(Dt),se.dash)}),Me.selectAll("g."+Ct._id+"tick,path").remove();var st=tt+Ve+(Y||0)/2-(F.ticks==="outside"?1:0),xt=w.calcTicks(Ct),St=w.getTickSigns(Ct)[2];return w.drawTicks(V,Ct,{vals:Ct.ticks==="inside"?w.clipEnds(Ct,xt):xt,layer:Me,path:w.makeTickPath(Ct,st,St),transFn:w.makeTransTickFn(Ct)}),w.drawLabels(V,Ct,{vals:xt,layer:Me,transFn:w.makeTransTickLabelFn(Ct),labelFns:w.makeLabelFns(Ct,st)})}function qt(){var At,zt=Ve+Y/2;Te.indexOf("inside")===-1&&(At=n.bBox(Me.node()),zt+=_?At.width:At.height),Pe=De.select("text");var Kt=0,Sr=_&&be==="top",yt=!_&&be==="right",Zt=0;if(Pe.node()&&!Pe.classed(R.jsPlaceholder)){var $t,mr=De.select(".h"+Ct._id+"title-math-group").node();mr&&(_&&Vt||!_&&!Vt)?(At=n.bBox(mr),Kt=At.width,$t=At.height):(At=n.bBox(De.node()),Kt=At.right-ee.l-(_?tt:Et),$t=At.bottom-ee.t-(_?Et:tt),!_&&be==="top"&&(zt+=At.height,Zt=At.height)),yt&&(Pe.attr("transform",t(Kt/2+xe/2,0)),Kt*=2),zt=Math.max(zt,_?Kt:$t)}var ur=(_?q:Z)*2+zt+J+Y/2,pt=0;!_&&ve.text&&he==="bottom"&&K<=0&&(pt=ur/2,ur+=pt,Zt+=pt),te._hColorbarMoveTitle=pt,te._hColorbarMoveCBTitle=Zt;var st=J+Y,xt=(_?tt:Et)-st/2-(_?q:0),St=(_?Et:tt)-(_?ke:Z+Zt-pt);O.select("."+R.cbbg).attr("x",xt).attr("y",St).attr(_?"width":"height",Math.max(ur-pt,2)).attr(_?"height":"width",Math.max(ke+st,2)).call(l.fill,ae).call(l.stroke,F.bordercolor).style("stroke-width",J);var Dt=yt?Math.max(Kt-10,0):0;O.selectAll("."+R.cboutline).attr("x",(_?tt:Et+q)+Dt).attr("y",(_?Et+Z-ke:tt)+(Sr?He:0)).attr(_?"width":"height",Math.max(Ve,2)).attr(_?"height":"width",Math.max(ke-(_?2*Z+He:2*q+Dt),2)).call(l.stroke,F.outlinecolor).style({fill:"none","stroke-width":Y});var Rt=_?at*ur:0,Bt=_?0:(1-ct)*ur-Zt;if(Rt=le?ee.l-Rt:-Rt,Bt=re?ee.t-Bt:-Bt,O.attr("transform",t(Rt,Bt)),!_&&(J||L(ae).getAlpha()&&!L.equals(te.paper_bgcolor,ae))){var Nt=Me.selectAll("text"),Xt=Nt[0].length,lr=O.select("."+R.cbbg).node(),sr=n.bBox(lr),dr=n.getTranslate(O),Ye=2;Nt.each(function(gr,pr){var vr=0,Gr=Xt-1;if(pr===vr||pr===Gr){var Fr=n.bBox(this),_r=n.getTranslate(this),gn;if(pr===Gr){var tn=Fr.right+_r.x,Bn=sr.right+dr.x+Et-J-Ye+$;gn=Bn-tn,gn>0&&(gn=0)}else if(pr===vr){var An=Fr.left+_r.x,Mr=sr.left+dr.x+Et+J+Ye;gn=Mr-An,gn<0&&(gn=0)}gn&&(Xt<3?this.setAttribute("transform","translate("+gn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var je={},It=M[oe],kt=S[oe],jt=M[he],tr=S[he],or=ur-Ve;_?(H==="pixels"?(je.y=K,je.t=ke*jt,je.b=ke*tr):(je.t=je.b=0,je.yt=K+U*jt,je.yb=K-U*tr),G==="pixels"?(je.x=$,je.l=ur*It,je.r=ur*kt):(je.l=or*It,je.r=or*kt,je.xl=$-z*It,je.xr=$+z*kt)):(H==="pixels"?(je.x=$,je.l=ke*It,je.r=ke*kt):(je.l=je.r=0,je.xl=$+U*It,je.xr=$-U*kt),G==="pixels"?(je.y=1-K,je.t=ur*jt,je.b=ur*tr):(je.t=or*jt,je.b=or*tr,je.yt=K-z*jt,je.yb=K+z*tr));var rr=F.y<.5?"b":"t",_t=F.x<.5?"l":"r";V._fullLayout._reservedMargin[F._id]={};var hr={r:te.width-xt-Rt,l:xt+je.r,b:te.height-St-Bt,t:St+je.b};le&&re?a.autoMargin(V,F._id,je):le?V._fullLayout._reservedMargin[F._id][rr]=hr[rr]:re||_?V._fullLayout._reservedMargin[F._id][_t]=hr[_t]:V._fullLayout._reservedMargin[F._id][rr]=hr[rr]}return g.syncOrAsync([a.previousPromises,vt,Wt,bt,a.previousPromises,qt],V)}function i(O,F,V){var _=F.orientation==="v",U=V._fullLayout,H=U._size,z,G,Y;h.init({element:O.node(),gd:V,prepFn:function(){z=O.attr("transform"),s(O)},moveFn:function(J,ae){O.attr("transform",z+t(J,ae)),G=h.align((_?F._uFrac:F._vFrac)+J/H.w,_?F._thickFrac:F._lenFrac,0,1,F.xanchor),Y=h.align((_?F._vFrac:1-F._uFrac)-ae/H.h,_?F._lenFrac:F._thickFrac,0,1,F.yanchor);var oe=h.getCursor(G,Y,F.xanchor,F.yanchor);s(O,oe)},doneFn:function(){if(s(O),G!==void 0&&Y!==void 0){var J={};J[F._propPrefix+"x"]=G,J[F._propPrefix+"y"]=Y,F._traceIndex!==void 0?C.call("_guiRestyle",V,J,F._traceIndex):C.call("_guiRelayout",V,J)}}})}function D(O,F,V){var _=F._levels,U=[],H=[],z,G,Y=_.end+_.size/100,J=_.size,ae=1.001*V[0]-.001*V[1],oe=1.001*V[1]-.001*V[0];for(G=0;G<1e5&&(z=_.start+G*J,!(J>0?z>=Y:z<=Y));G++)z>ae&&z<oe&&U.push(z);if(F._fillgradient)H=[0];else if(typeof F._fillcolor=="function"){var he=F._filllevels;if(he)for(Y=he.end+he.size/100,J=he.size,G=0;G<1e5&&(z=he.start+G*J,!(J>0?z>=Y:z<=Y));G++)z>V[0]&&z<V[1]&&H.push(z);else H=U.map(function(q){return q-_.size/2}),H.push(H[H.length-1]+_.size)}else F._fillcolor&&typeof F._fillcolor=="string"&&(H=[0]);return _.size<0&&(U.reverse(),H.reverse()),{line:U,fill:H}}function b(O,F,V){var _=O._fullLayout,U=F.orientation==="v",H={type:"linear",range:V,tickmode:F.tickmode,nticks:F.nticks,tick0:F.tick0,dtick:F.dtick,tickvals:F.tickvals,ticktext:F.ticktext,ticks:F.ticks,ticklen:F.ticklen,tickwidth:F.tickwidth,tickcolor:F.tickcolor,showticklabels:F.showticklabels,labelalias:F.labelalias,ticklabelposition:F.ticklabelposition,ticklabeloverflow:F.ticklabeloverflow,ticklabelstep:F.ticklabelstep,tickfont:F.tickfont,tickangle:F.tickangle,tickformat:F.tickformat,exponentformat:F.exponentformat,minexponent:F.minexponent,separatethousands:F.separatethousands,showexponent:F.showexponent,showtickprefix:F.showtickprefix,tickprefix:F.tickprefix,showticksuffix:F.showticksuffix,ticksuffix:F.ticksuffix,title:F.title,showline:!0,anchor:"free",side:U?"right":"bottom",position:1},z=U?"y":"x",G={type:"linear",_id:z+F._id},Y={letter:z,font:_.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:_.calendar};function J(ae,oe){return g.coerce(H,G,d,ae,oe)}return v(H,G,J,Y,_),A(H,G,J,Y),G}B.exports={draw:x}},76228:function(B,N,e){var p=e(71828);B.exports=function(a){return p.isPlainObject(a.colorbar)}},12311:function(B,N,e){B.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(B,N,e){var p=e(63583),L=e(30587).counter,a=e(78607),C=e(63282).scales;a(C),B.exports=function(h,g){h=h||"",g=g||{};var t=g.cLetter||"c";"onlyIfNumerical"in g&&g.onlyIfNumerical;var r="noScale"in g?g.noScale:h==="marker.line",s="showScaleDflt"in g?g.showScaleDflt:t==="z",n=typeof g.colorscaleDflt=="string"?C[g.colorscaleDflt]:null,l=g.editTypeOverride||"",c;"colorAttr"in g?(c=g.colorAttr,g.colorAttr):c={z:"z",c:"color"}[t];var f=t+"auto",m=t+"min",v=t+"max",A=t+"mid",d={};d[m]=d[v]=void 0;var u={};u[f]=!1;var y={};return c==="color"&&(y.color={valType:"color",arrayOk:!0,editType:l||"style"},g.anim&&(y.color.anim=!0)),y[f]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:d},y[m]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:u},y[v]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:u},y[A]={valType:"number",dflt:null,editType:"calc",impliedEdits:d},y.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},y.autocolorscale={valType:"boolean",dflt:g.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},y.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(y.showscale={valType:"boolean",dflt:s,editType:"calc"},y.colorbar=p),g.noColorAxis||(y.coloraxis={valType:"subplotid",regex:L("coloraxis"),dflt:null,editType:"calc"}),y}},78803:function(B,N,e){var p=e(92770),L=e(71828),a=e(52075).extractOpts;B.exports=function(w,h,g){var t=w._fullLayout,r=g.vals,s=g.containerStr,n=s?L.nestedProperty(h,s).get():h,l=a(n),c=l.auto!==!1,f=l.min,m=l.max,v=l.mid,A=function(){return L.aggNums(Math.min,null,r)},d=function(){return L.aggNums(Math.max,null,r)};if(f===void 0?f=A():c&&(n._colorAx&&p(f)?f=Math.min(f,A()):f=A()),m===void 0?m=d():c&&(n._colorAx&&p(m)?m=Math.max(m,d()):m=d()),c&&v!==void 0&&(m-v>v-f?f=v-(m-v):m-v<v-f&&(m=v+(v-f))),f===m&&(f-=.5,m+=.5),l._sync("min",f),l._sync("max",m),l.autocolorscale){var u;f*m<0?u=t.colorscale.diverging:f>=0?u=t.colorscale.sequential:u=t.colorscale.sequentialminus,l._sync("colorscale",u)}}},33046:function(B,N,e){var p=e(71828),L=e(52075).hasColorscale,a=e(52075).extractOpts;B.exports=function(w,h){function g(f,m){var v=f["_"+m];v!==void 0&&(f[m]=v)}function t(f,m){var v=m.container?p.nestedProperty(f,m.container).get():f;if(v)if(v.coloraxis)v._colorAx=h[v.coloraxis];else{var A=a(v),d=A.auto;(d||A.min===void 0)&&g(v,m.min),(d||A.max===void 0)&&g(v,m.max),A.autocolorscale&&g(v,"colorscale")}}for(var r=0;r<w.length;r++){var s=w[r],n=s._module.colorbar;if(n)if(Array.isArray(n))for(var l=0;l<n.length;l++)t(s,n[l]);else t(s,n);L(s,"marker.line")&&t(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var c in h._colorAxes)t(h[c],{min:"cmin",max:"cmax"})}},1586:function(B,N,e){var p=e(92770),L=e(71828),a=e(76228),C=e(62499),w=e(63282).isValid,h=e(73972).traceIs;function g(t,r){var s=r.slice(0,r.length-1);return r?L.nestedProperty(t,s).get()||{}:t}B.exports=function t(r,s,n,l,c){var f=c.prefix,m=c.cLetter,v="_module"in s,A=g(r,f),d=g(s,f),u=g(s._template||{},f)||{},y=function(){return delete r.coloraxis,delete s.coloraxis,t(r,s,n,l,c)};if(v){var M=n._colorAxes||{},S=l(f+"coloraxis");if(S){var R=h(s,"contour")&&L.nestedProperty(s,"contours.coloring").get()||"heatmap",x=M[S];x?(x[2].push(y),x[0]!==R&&(x[0]=!1,L.warn(["Ignoring coloraxis:",S,"setting","as it is linked to incompatible colorscales."].join(" ")))):M[S]=[R,s,[y]];return}}var E=A[m+"min"],T=A[m+"max"],i=p(E)&&p(T)&&E<T,D=l(f+m+"auto",!i);D?l(f+m+"mid"):(l(f+m+"min"),l(f+m+"max"));var b=A.colorscale,O=u.colorscale,F;if(b!==void 0&&(F=!w(b)),O!==void 0&&(F=!w(O)),l(f+"autocolorscale",F),l(f+"colorscale"),l(f+"reversescale"),f!=="marker.line."){var V;f&&v&&(V=a(A));var _=l(f+"showscale",V);_&&(f&&u&&(d._template=u),C(A,d,n))}}},52075:function(B,N,e){var p=e(39898),L=e(84267),a=e(92770),C=e(71828),w=e(7901),h=e(63282).isValid;function g(v,A,d){var u=A?C.nestedProperty(v,A).get()||{}:v,y=u[d||"color"],M=!1;if(C.isArrayOrTypedArray(y)){for(var S=0;S<y.length;S++)if(a(y[S])){M=!0;break}}return C.isPlainObject(u)&&(M||u.showscale===!0||a(u.cmin)&&a(u.cmax)||h(u.colorscale)||C.isPlainObject(u.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function s(v){var A=v._colorAx,d=A||v,u={},y,M,S;for(M=0;M<t.length;M++)S=t[M],u[S]=d[S];if(A)for(y="c",M=0;M<r.length;M++)S=r[M],u[S]=d["c"+S];else{var R;for(M=0;M<r.length;M++){if(S=r[M],R="c"+S,R in d){u[S]=d[R];continue}R="z"+S,R in d&&(u[S]=d[R])}y=R.charAt(0)}return u._sync=function(x,E){var T=r.indexOf(x)!==-1?y+x:x;d[T]=d["_"+T]=E},u}function n(v){for(var A=s(v),d=A.min,u=A.max,y=A.reversescale?l(A.colorscale):A.colorscale,M=y.length,S=new Array(M),R=new Array(M),x=0;x<M;x++){var E=y[x];S[x]=d+E[0]*(u-d),R[x]=E[1]}return{domain:S,range:R}}function l(v){for(var A=v.length,d=new Array(A),u=A-1,y=0;u>=0;u--,y++){var M=v[u];d[y]=[1-M[0],M[1]]}return d}function c(v,A){A=A||{};for(var d=v.domain,u=v.range,y=u.length,M=new Array(y),S=0;S<y;S++){var R=L(u[S]).toRgb();M[S]=[R.r,R.g,R.b,R.a]}var x=p.scale.linear().domain(d).range(M).clamp(!0),E=A.noNumericCheck,T=A.returnArray,i;return E&&T?i=x:E?i=function(D){return m(x(D))}:T?i=function(D){return a(D)?x(D):L(D).isValid()?D:w.defaultLine}:i=function(D){return a(D)?m(x(D)):L(D).isValid()?D:w.defaultLine},i.domain=x.domain,i.range=function(){return u},i}function f(v,A){return c(n(v),A)}function m(v){var A={r:v[0],g:v[1],b:v[2],a:v[3]};return L(A).toRgbString()}B.exports={hasColorscale:g,extractOpts:s,extractScale:n,flipScale:l,makeColorScaleFunc:c,makeColorScaleFuncFromTrace:f}},21081:function(B,N,e){var p=e(63282),L=e(52075);B.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:L.hasColorscale,extractOpts:L.extractOpts,extractScale:L.extractScale,flipScale:L.flipScale,makeColorScaleFunc:L.makeColorScaleFunc,makeColorScaleFuncFromTrace:L.makeColorScaleFuncFromTrace}},72673:function(B,N,e){var p=e(1426).extendFlat,L=e(50693),a=e(63282).scales;B.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},L("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(B,N,e){var p=e(71828),L=e(44467),a=e(72673),C=e(1586);B.exports=function(h,g){function t(v,A){return p.coerce(h,g,a,v,A)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=g._colorAxes,s,n;function l(v,A){return p.coerce(s,n,a.coloraxis,v,A)}for(var c in r){var f=r[c];if(f[0])s=h[c]||{},n=L.newContainer(g,c,"coloraxis"),n._name=c,C(s,n,g,l,{prefix:"",cLetter:"c"});else{for(var m=0;m<f[2].length;m++)f[2][m]();delete g._colorAxes[c]}}}},63282:function(B,N,e){var p=e(84267),L={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=L.RdBu;function C(g,t){if(t||(t=a),!g)return t;function r(){try{g=L[g]||JSON.parse(g)}catch{g=t}}return typeof g=="string"&&(r(),typeof g=="string"&&r()),w(g)?g:t}function w(g){var t=0;if(!Array.isArray(g)||g.length<2||!g[0]||!g[g.length-1]||+g[0][0]!=0||+g[g.length-1][0]!=1)return!1;for(var r=0;r<g.length;r++){var s=g[r];if(s.length!==2||+s[0]<t||!p(s[1]).isValid())return!1;t=+s[0]}return!0}function h(g){return L[g]!==void 0?!0:w(g)}B.exports={scales:L,defaultScale:a,get:C,isValid:h}},92807:function(B){B.exports=function(e,p,L,a,C){var w=(e-L)/(a-L),h=w+p/(a-L),g=(w+h)/2;return C==="left"||C==="bottom"?w:C==="center"||C==="middle"?g:C==="right"||C==="top"?h:w<.6666666666666666-g?w:h>1.3333333333333333-g?h:g}},70461:function(B,N,e){var p=e(71828),L=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];B.exports=function(C,w,h,g){return h==="left"?C=0:h==="center"?C=1:h==="right"?C=2:C=p.constrain(Math.floor(C*3),0,2),g==="bottom"?w=0:g==="middle"?w=1:g==="top"?w=2:w=p.constrain(Math.floor(w*3),0,2),L[w][C]}},64505:function(B,N){N.selectMode=function(e){return e==="lasso"||e==="select"},N.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},N.openMode=function(e){return e==="drawline"||e==="drawopenpath"},N.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},N.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},N.selectingOrDrawing=function(e){return N.freeMode(e)||N.rectMode(e)}},28569:function(B,N,e){var p=e(48956),L=e(57035),a=e(38520),C=e(71828).removeElement,w=e(85555),h=B.exports={};h.align=e(92807),h.getCursor=e(70461);var g=e(26041);h.unhover=g.wrapped,h.unhoverRaw=g.raw,h.init=function(n){var l=n.gd,c=1,f=l._context.doubleClickDelay,m=n.element,v,A,d,u,y,M,S,R;l._mouseDownTime||(l._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=T,a?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=T,m.addEventListener("touchstart",T,{passive:!1})):m.ontouchstart=T;function x(b,O,F){return Math.abs(b)<F&&(b=0),Math.abs(O)<F&&(O=0),[b,O]}var E=n.clampFn||x;function T(b){l._dragged=!1,l._dragging=!0;var O=r(b);v=O[0],A=O[1],S=b.target,M=b,R=b.buttons===2||b.ctrlKey,typeof b.clientX>"u"&&typeof b.clientY>"u"&&(b.clientX=v,b.clientY=A),d=new Date().getTime(),d-l._mouseDownTime<f?c+=1:(c=1,l._mouseDownTime=d),n.prepFn&&n.prepFn(b,v,A),L&&!R?(y=t(),y.style.cursor=window.getComputedStyle(m).cursor):L||(y=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",D),document.addEventListener("touchend",D),n.dragmode!==!1&&(b.preventDefault(),document.addEventListener("mousemove",i),document.addEventListener("touchmove",i,{passive:!1}))}function i(b){b.preventDefault();var O=r(b),F=n.minDrag||w.MINDRAG,V=E(O[0]-v,O[1]-A,F),_=V[0],U=V[1];(_||U)&&(l._dragged=!0,h.unhover(l,b)),l._dragged&&n.moveFn&&!R&&(l._dragdata={element:m,dx:_,dy:U},n.moveFn(_,U))}function D(b){if(delete l._dragdata,n.dragmode!==!1&&(b.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i)),document.removeEventListener("mouseup",D),document.removeEventListener("touchend",D),L?C(y):u&&(y.documentElement.style.cursor=u,u=null),!l._dragging){l._dragged=!1;return}if(l._dragging=!1,new Date().getTime()-l._mouseDownTime>f&&(c=Math.max(c-1,1)),l._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(c,M),!R){var O;try{O=new MouseEvent("click",b)}catch{var F=r(b);O=document.createEvent("MouseEvents"),O.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,F[0],F[1],b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}S.dispatchEvent(O)}l._dragging=!1,l._dragged=!1}};function t(){var s=document.createElement("div");s.className="dragcover";var n=s.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(s),s}h.coverSlip=t;function r(s){return p(s.changedTouches?s.changedTouches[0]:s,document.body)}},26041:function(B,N,e){var p=e(11086),L=e(79990),a=e(24401).getGraphDiv,C=e(26675),w=B.exports={};w.wrapped=function(h,g,t){h=a(h),h._fullLayout&&L.clear(h._fullLayout._uid+C.HOVERID),w.raw(h,g,t)},w.raw=function(g,t){var r=g._fullLayout,s=g._hoverdata;t||(t={}),!(t.target&&!g._dragged&&p.triggerHandler(g,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),g._hoverdata=void 0,t.target&&s&&g.emit("plotly_unhover",{event:t,points:s}))}},79952:function(B,N){N.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},N.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(B,N,e){var p=e(39898),L=e(71828),a=L.numberFormat,C=e(92770),w=e(84267),h=e(73972),g=e(7901),t=e(21081),r=L.strTranslate,s=e(63893),n=e(77922),l=e(18783),c=l.LINE_SPACING,f=e(37822).DESELECTDIM,m=e(34098),v=e(39984),A=e(23469).appendArrayPointValue,d=B.exports={};d.font=function(Le,we,Ce,Ve){L.isPlainObject(we)&&(Ve=we.color,Ce=we.size,we=we.family),we&&Le.style("font-family",we),Ce+1&&Le.style("font-size",Ce+"px"),Ve&&Le.call(g.fill,Ve)},d.setPosition=function(Le,we,Ce){Le.attr("x",we).attr("y",Ce)},d.setSize=function(Le,we,Ce){Le.attr("width",we).attr("height",Ce)},d.setRect=function(Le,we,Ce,Ve,Ne){Le.call(d.setPosition,we,Ce).call(d.setSize,Ve,Ne)},d.translatePoint=function(Le,we,Ce,Ve){var Ne=Ce.c2p(Le.x),ke=Ve.c2p(Le.y);if(C(Ne)&&C(ke)&&we.node())we.node().nodeName==="text"?we.attr("x",Ne).attr("y",ke):we.attr("transform",r(Ne,ke));else return!1;return!0},d.translatePoints=function(Le,we,Ce){Le.each(function(Ve){var Ne=p.select(this);d.translatePoint(Ve,Ne,we,Ce)})},d.hideOutsideRangePoint=function(Le,we,Ce,Ve,Ne,ke){we.attr("display",Ce.isPtWithinRange(Le,Ne)&&Ve.isPtWithinRange(Le,ke)?null:"none")},d.hideOutsideRangePoints=function(Le,we){if(we._hasClipOnAxisFalse){var Ce=we.xaxis,Ve=we.yaxis;Le.each(function(Ne){var ke=Ne[0].trace,We=ke.xcalendar,rt=ke.ycalendar,et=h.traceIs(ke,"bar-like")?".bartext":".point,.textpoint";Le.selectAll(et).each(function(tt){d.hideOutsideRangePoint(tt,p.select(this),Ce,Ve,We,rt)})})}},d.crispRound=function(Le,we,Ce){return!we||!C(we)?Ce||0:Le._context.staticPlot?we:we<1?1:Math.round(we)},d.singleLineStyle=function(Le,we,Ce,Ve,Ne){we.style("fill","none");var ke=(((Le||[])[0]||{}).trace||{}).line||{},We=Ce||ke.width||0,rt=Ne||ke.dash||"";g.stroke(we,Ve||ke.color),d.dashLine(we,rt,We)},d.lineGroupStyle=function(Le,we,Ce,Ve){Le.style("fill","none").each(function(Ne){var ke=(((Ne||[])[0]||{}).trace||{}).line||{},We=we||ke.width||0,rt=Ve||ke.dash||"";p.select(this).call(g.stroke,Ce||ke.color).call(d.dashLine,rt,We)})},d.dashLine=function(Le,we,Ce){Ce=+Ce||0,we=d.dashStyle(we,Ce),Le.style({"stroke-dasharray":we,"stroke-width":Ce+"px"})},d.dashStyle=function(Le,we){we=+we||1;var Ce=Math.max(we,3);return Le==="solid"?Le="":Le==="dot"?Le=Ce+"px,"+Ce+"px":Le==="dash"?Le=3*Ce+"px,"+3*Ce+"px":Le==="longdash"?Le=5*Ce+"px,"+5*Ce+"px":Le==="dashdot"?Le=3*Ce+"px,"+Ce+"px,"+Ce+"px,"+Ce+"px":Le==="longdashdot"&&(Le=5*Ce+"px,"+2*Ce+"px,"+Ce+"px,"+2*Ce+"px"),Le};function u(Le,we,Ce){var Ve=we.fillpattern,Ne=Ve&&d.getPatternAttr(Ve.shape,0,"");if(Ne){var ke=d.getPatternAttr(Ve.bgcolor,0,null),We=d.getPatternAttr(Ve.fgcolor,0,null),rt=Ve.fgopacity,et=d.getPatternAttr(Ve.size,0,8),tt=d.getPatternAttr(Ve.solidity,0,.3),at=we.uid;d.pattern(Le,"point",Ce,at,Ne,et,tt,void 0,Ve.fillmode,ke,We,rt)}else we.fillcolor&&Le.call(g.fill,we.fillcolor)}d.singleFillStyle=function(Le,we){var Ce=p.select(Le.node()),Ve=Ce.data(),Ne=((Ve[0]||[])[0]||{}).trace||{};u(Le,Ne,we)},d.fillGroupStyle=function(Le,we){Le.style("stroke-width",0).each(function(Ce){var Ve=p.select(this);Ce[0].trace&&u(Ve,Ce[0].trace,we)})};var y=e(90998);d.symbolNames=[],d.symbolFuncs=[],d.symbolBackOffs=[],d.symbolNeedLines={},d.symbolNoDot={},d.symbolNoFill={},d.symbolList=[],Object.keys(y).forEach(function(Le){var we=y[Le],Ce=we.n;d.symbolList.push(Ce,String(Ce),Le,Ce+100,String(Ce+100),Le+"-open"),d.symbolNames[Ce]=Le,d.symbolFuncs[Ce]=we.f,d.symbolBackOffs[Ce]=we.backoff||0,we.needLine&&(d.symbolNeedLines[Ce]=!0),we.noDot?d.symbolNoDot[Ce]=!0:d.symbolList.push(Ce+200,String(Ce+200),Le+"-dot",Ce+300,String(Ce+300),Le+"-open-dot"),we.noFill&&(d.symbolNoFill[Ce]=!0)});var M=d.symbolNames.length,S="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";d.symbolNumber=function(Le){if(C(Le))Le=+Le;else if(typeof Le=="string"){var we=0;Le.indexOf("-open")>0&&(we=100,Le=Le.replace("-open","")),Le.indexOf("-dot")>0&&(we+=200,Le=Le.replace("-dot","")),Le=d.symbolNames.indexOf(Le),Le>=0&&(Le+=we)}return Le%100>=M||Le>=400?0:Math.floor(Math.max(Le,0))};function R(Le,we,Ce,Ve){var Ne=Le%100;return d.symbolFuncs[Ne](we,Ce,Ve)+(Le>=200?S:"")}var x={x1:1,x2:0,y1:0,y2:0},E={x1:0,x2:0,y1:1,y2:0},T=a("~f"),i={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:x},horizontalreversed:{node:"linearGradient",attrs:x,reversed:!0},vertical:{node:"linearGradient",attrs:E},verticalreversed:{node:"linearGradient",attrs:E,reversed:!0}};d.gradient=function(Le,we,Ce,Ve,Ne,ke){for(var We=Ne.length,rt=i[Ve],et=new Array(We),tt=0;tt<We;tt++)rt.reversed?et[We-1-tt]=[T((1-Ne[tt][0])*100),Ne[tt][1]]:et[tt]=[T(Ne[tt][0]*100),Ne[tt][1]];var at=we._fullLayout,ct="g"+at._uid+"-"+Ce,dt=at._defs.select(".gradients").selectAll("#"+ct).data([Ve+et.join(";")],L.identity);dt.exit().remove(),dt.enter().append(rt.node).each(function(){var gt=p.select(this);rt.attrs&&gt.attr(rt.attrs),gt.attr("id",ct);var Et=gt.selectAll("stop").data(et);Et.exit().remove(),Et.enter().append("stop"),Et.each(function(Ct){var Vt=w(Ct[1]);p.select(this).attr({offset:Ct[0]+"%","stop-color":g.tinyRGB(Vt),"stop-opacity":Vt.getAlpha()})})}),Le.style(ke,Z(ct,we)).style(ke+"-opacity",null),Le.classed("gradient_filled",!0)},d.pattern=function(Le,we,Ce,Ve,Ne,ke,We,rt,et,tt,at,ct){var dt=we==="legend";rt&&(et==="overlay"?(tt=rt,at=g.contrast(tt)):(tt=void 0,at=rt));var gt=Ce._fullLayout,Et="p"+gt._uid+"-"+Ve,Ct,Vt,Je=function(vt,bt,Wt,qt,At){return qt+(At-qt)*(vt-bt)/(Wt-bt)},_e,Fe,Be,De,Te={},xe=w(at),Me=g.tinyRGB(xe),Pe=xe.getAlpha(),He=ct*Pe;switch(Ne){case"/":Ct=ke*Math.sqrt(2),Vt=ke*Math.sqrt(2),_e="M-"+Ct/4+","+Vt/4+"l"+Ct/2+",-"+Vt/2+"M0,"+Vt+"L"+Ct+",0M"+Ct/4*3+","+Vt/4*5+"l"+Ct/2+",-"+Vt/2,Fe=We*ke,De="path",Te={d:_e,opacity:He,stroke:Me,"stroke-width":Fe+"px"};break;case"\\":Ct=ke*Math.sqrt(2),Vt=ke*Math.sqrt(2),_e="M"+Ct/4*3+",-"+Vt/4+"l"+Ct/2+","+Vt/2+"M0,0L"+Ct+","+Vt+"M-"+Ct/4+","+Vt/4*3+"l"+Ct/2+","+Vt/2,Fe=We*ke,De="path",Te={d:_e,opacity:He,stroke:Me,"stroke-width":Fe+"px"};break;case"x":Ct=ke*Math.sqrt(2),Vt=ke*Math.sqrt(2),_e="M-"+Ct/4+","+Vt/4+"l"+Ct/2+",-"+Vt/2+"M0,"+Vt+"L"+Ct+",0M"+Ct/4*3+","+Vt/4*5+"l"+Ct/2+",-"+Vt/2+"M"+Ct/4*3+",-"+Vt/4+"l"+Ct/2+","+Vt/2+"M0,0L"+Ct+","+Vt+"M-"+Ct/4+","+Vt/4*3+"l"+Ct/2+","+Vt/2,Fe=ke-ke*Math.sqrt(1-We),De="path",Te={d:_e,opacity:He,stroke:Me,"stroke-width":Fe+"px"};break;case"|":Ct=ke,Vt=ke,De="path",_e="M"+Ct/2+",0L"+Ct/2+","+Vt,Fe=We*ke,De="path",Te={d:_e,opacity:He,stroke:Me,"stroke-width":Fe+"px"};break;case"-":Ct=ke,Vt=ke,De="path",_e="M0,"+Vt/2+"L"+Ct+","+Vt/2,Fe=We*ke,De="path",Te={d:_e,opacity:He,stroke:Me,"stroke-width":Fe+"px"};break;case"+":Ct=ke,Vt=ke,De="path",_e="M"+Ct/2+",0L"+Ct/2+","+Vt+"M0,"+Vt/2+"L"+Ct+","+Vt/2,Fe=ke-ke*Math.sqrt(1-We),De="path",Te={d:_e,opacity:He,stroke:Me,"stroke-width":Fe+"px"};break;case".":Ct=ke,Vt=ke,We<Math.PI/4?Be=Math.sqrt(We*ke*ke/Math.PI):Be=Je(We,Math.PI/4,1,ke/2,ke/Math.sqrt(2)),De="circle",Te={cx:Ct/2,cy:Vt/2,r:Be,opacity:He,fill:Me};break}var Ke=[Ne||"noSh",tt||"noBg",at||"noFg",ke,We].join(";"),qe=gt._defs.select(".patterns").selectAll("#"+Et).data([Ke],L.identity);qe.exit().remove(),qe.enter().append("pattern").each(function(){var vt=p.select(this);if(vt.attr({id:Et,width:Ct+"px",height:Vt+"px",patternUnits:"userSpaceOnUse",patternTransform:dt?"scale(0.8)":""}),tt){var bt=w(tt),Wt=g.tinyRGB(bt),qt=bt.getAlpha(),At=vt.selectAll("rect").data([0]);At.exit().remove(),At.enter().append("rect").attr({width:Ct+"px",height:Vt+"px",fill:Wt,"fill-opacity":qt})}var zt=vt.selectAll(De).data([0]);zt.exit().remove(),zt.enter().append(De).attr(Te)}),Le.style("fill",Z(Et,Ce)).style("fill-opacity",null),Le.classed("pattern_filled",!0)},d.initGradients=function(Le){var we=Le._fullLayout,Ce=L.ensureSingle(we._defs,"g","gradients");Ce.selectAll("linearGradient,radialGradient").remove(),p.select(Le).selectAll(".gradient_filled").classed("gradient_filled",!1)},d.initPatterns=function(Le){var we=Le._fullLayout,Ce=L.ensureSingle(we._defs,"g","patterns");Ce.selectAll("pattern").remove(),p.select(Le).selectAll(".pattern_filled").classed("pattern_filled",!1)},d.getPatternAttr=function(Le,we,Ce){return Le&&L.isArrayOrTypedArray(Le)?we<Le.length?Le[we]:Ce:Le},d.pointStyle=function(Le,we,Ce,Ve){if(Le.size()){var Ne=d.makePointStyleFns(we);Le.each(function(ke){d.singlePointStyle(ke,p.select(this),we,Ne,Ce,Ve)})}},d.singlePointStyle=function(Le,we,Ce,Ve,Ne,ke){var We=Ce.marker,rt=We.line;if(ke&&ke.i>=0&&Le.i===void 0&&(Le.i=ke.i),we.style("opacity",Ve.selectedOpacityFn?Ve.selectedOpacityFn(Le):Le.mo===void 0?We.opacity:Le.mo),Ve.ms2mrc){var et;Le.ms==="various"||We.size==="various"?et=3:et=Ve.ms2mrc(Le.ms),Le.mrc=et,Ve.selectedSizeFn&&(et=Le.mrc=Ve.selectedSizeFn(Le));var tt=d.symbolNumber(Le.mx||We.symbol)||0;Le.om=tt%200>=100;var at=Ue(Le,Ce),ct=re(Le,Ce);we.attr("d",R(tt,et,at,ct))}var dt=!1,gt,Et,Ct;if(Le.so)Ct=rt.outlierwidth,Et=rt.outliercolor,gt=We.outliercolor;else{var Vt=(rt||{}).width;Ct=(Le.mlw+1||Vt+1||(Le.trace?(Le.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Le?Et=Le.mlcc=Ve.lineScale(Le.mlc):L.isArrayOrTypedArray(rt.color)?Et=g.defaultLine:Et=rt.color,L.isArrayOrTypedArray(We.color)&&(gt=g.defaultLine,dt=!0),"mc"in Le?gt=Le.mcc=Ve.markerScale(Le.mc):gt=We.color||We.colors||"rgba(0,0,0,0)",Ve.selectedColorFn&&(gt=Ve.selectedColorFn(Le))}if(Le.om)we.call(g.stroke,gt).style({"stroke-width":(Ct||1)+"px",fill:"none"});else{we.style("stroke-width",(Le.isBlank?0:Ct)+"px");var Je=We.gradient,_e=Le.mgt;_e?dt=!0:_e=Je&&Je.type,L.isArrayOrTypedArray(_e)&&(_e=_e[0],i[_e]||(_e=0));var Fe=We.pattern,Be=Fe&&d.getPatternAttr(Fe.shape,Le.i,"");if(_e&&_e!=="none"){var De=Le.mgc;De?dt=!0:De=Je.color;var Te=Ce.uid;dt&&(Te+="-"+Le.i),d.gradient(we,Ne,Te,_e,[[0,De],[1,gt]],"fill")}else if(Be){var xe=!1,Me=Fe.fgcolor;!Me&&ke&&ke.color&&(Me=ke.color,xe=!0);var Pe=d.getPatternAttr(Me,Le.i,ke&&ke.color||null),He=d.getPatternAttr(Fe.bgcolor,Le.i,null),Ke=Fe.fgopacity,qe=d.getPatternAttr(Fe.size,Le.i,8),vt=d.getPatternAttr(Fe.solidity,Le.i,.3);xe=xe||Le.mcc||L.isArrayOrTypedArray(Fe.shape)||L.isArrayOrTypedArray(Fe.bgcolor)||L.isArrayOrTypedArray(Fe.fgcolor)||L.isArrayOrTypedArray(Fe.size)||L.isArrayOrTypedArray(Fe.solidity);var bt=Ce.uid;xe&&(bt+="-"+Le.i),d.pattern(we,"point",Ne,bt,Be,qe,vt,Le.mcc,Fe.fillmode,He,Pe,Ke)}else L.isArrayOrTypedArray(gt)?g.fill(we,gt[Le.i]):g.fill(we,gt);Ct&&g.stroke(we,Et)}},d.makePointStyleFns=function(Le){var we={},Ce=Le.marker;return we.markerScale=d.tryColorscale(Ce,""),we.lineScale=d.tryColorscale(Ce,"line"),h.traceIs(Le,"symbols")&&(we.ms2mrc=m.isBubble(Le)?v(Le):function(){return(Ce.size||6)/2}),Le.selectedpoints&&L.extendFlat(we,d.makeSelectedPointStyleFns(Le)),we},d.makeSelectedPointStyleFns=function(Le){var we={},Ce=Le.selected||{},Ve=Le.unselected||{},Ne=Le.marker||{},ke=Ce.marker||{},We=Ve.marker||{},rt=Ne.opacity,et=ke.opacity,tt=We.opacity,at=et!==void 0,ct=tt!==void 0;(L.isArrayOrTypedArray(rt)||at||ct)&&(we.selectedOpacityFn=function(Be){var De=Be.mo===void 0?Ne.opacity:Be.mo;return Be.selected?at?et:De:ct?tt:f*De});var dt=Ne.color,gt=ke.color,Et=We.color;(gt||Et)&&(we.selectedColorFn=function(Be){var De=Be.mcc||dt;return Be.selected?gt||De:Et||De});var Ct=Ne.size,Vt=ke.size,Je=We.size,_e=Vt!==void 0,Fe=Je!==void 0;return h.traceIs(Le,"symbols")&&(_e||Fe)&&(we.selectedSizeFn=function(Be){var De=Be.mrc||Ct/2;return Be.selected?_e?Vt/2:De:Fe?Je/2:De}),we},d.makeSelectedTextStyleFns=function(Le){var we={},Ce=Le.selected||{},Ve=Le.unselected||{},Ne=Le.textfont||{},ke=Ce.textfont||{},We=Ve.textfont||{},rt=Ne.color,et=ke.color,tt=We.color;return we.selectedTextColorFn=function(at){var ct=at.tc||rt;return at.selected?et||ct:tt||(et?ct:g.addOpacity(ct,f))},we},d.selectedPointStyle=function(Le,we){if(!(!Le.size()||!we.selectedpoints)){var Ce=d.makeSelectedPointStyleFns(we),Ve=we.marker||{},Ne=[];Ce.selectedOpacityFn&&Ne.push(function(ke,We){ke.style("opacity",Ce.selectedOpacityFn(We))}),Ce.selectedColorFn&&Ne.push(function(ke,We){g.fill(ke,Ce.selectedColorFn(We))}),Ce.selectedSizeFn&&Ne.push(function(ke,We){var rt=We.mx||Ve.symbol||0,et=Ce.selectedSizeFn(We);ke.attr("d",R(d.symbolNumber(rt),et,Ue(We,we),re(We,we))),We.mrc2=et}),Ne.length&&Le.each(function(ke){for(var We=p.select(this),rt=0;rt<Ne.length;rt++)Ne[rt](We,ke)})}},d.tryColorscale=function(Le,we){var Ce=we?L.nestedProperty(Le,we).get():Le;if(Ce){var Ve=Ce.color;if((Ce.colorscale||Ce._colorAx)&&L.isArrayOrTypedArray(Ve))return t.makeColorScaleFuncFromTrace(Ce)}return L.identity};var D={start:1,end:-1,middle:0,bottom:1,top:-1};function b(Le,we,Ce,Ve,Ne){var ke=p.select(Le.node().parentNode),We=we.indexOf("top")!==-1?"top":we.indexOf("bottom")!==-1?"bottom":"middle",rt=we.indexOf("left")!==-1?"end":we.indexOf("right")!==-1?"start":"middle",et=Ve?Ve/.8+1:0,tt=(s.lineCount(Le)-1)*c+1,at=D[rt]*et,ct=Ce*.75+D[We]*et+(D[We]-1)*tt*Ce/2;Le.attr("text-anchor",rt),Ne||ke.attr("transform",r(at,ct))}function O(Le,we){var Ce=Le.ts||we.textfont.size;return C(Ce)&&Ce>0?Ce:0}d.textPointStyle=function(Le,we,Ce){if(Le.size()){var Ve;if(we.selectedpoints){var Ne=d.makeSelectedTextStyleFns(we);Ve=Ne.selectedTextColorFn}var ke=we.texttemplate,We=Ce._fullLayout;Le.each(function(rt){var et=p.select(this),tt=ke?L.extractOption(rt,we,"txt","texttemplate"):L.extractOption(rt,we,"tx","text");if(!tt&&tt!==0){et.remove();return}if(ke){var at=we._module.formatLabels,ct=at?at(rt,we,We):{},dt={};A(dt,we,rt.i);var gt=we._meta||{};tt=L.texttemplateString(tt,ct,We._d3locale,dt,rt,gt)}var Et=rt.tp||we.textposition,Ct=O(rt,we),Vt=Ve?Ve(rt):rt.tc||we.textfont.color;et.call(d.font,rt.tf||we.textfont.family,Ct,Vt).text(tt).call(s.convertToTspans,Ce).call(b,Et,Ct,rt.mrc)})}},d.selectedTextStyle=function(Le,we){if(!(!Le.size()||!we.selectedpoints)){var Ce=d.makeSelectedTextStyleFns(we);Le.each(function(Ve){var Ne=p.select(this),ke=Ce.selectedTextColorFn(Ve),We=Ve.tp||we.textposition,rt=O(Ve,we);g.fill(Ne,ke);var et=h.traceIs(we,"bar-like");b(Ne,We,rt,Ve.mrc2||Ve.mrc,et)})}};var F=.5;d.smoothopen=function(Le,we){if(Le.length<3)return"M"+Le.join("L");var Ce="M"+Le[0],Ve=[],Ne;for(Ne=1;Ne<Le.length-1;Ne++)Ve.push(G(Le[Ne-1],Le[Ne],Le[Ne+1],we));for(Ce+="Q"+Ve[0][0]+" "+Le[1],Ne=2;Ne<Le.length-1;Ne++)Ce+="C"+Ve[Ne-2][1]+" "+Ve[Ne-1][0]+" "+Le[Ne];return Ce+="Q"+Ve[Le.length-3][1]+" "+Le[Le.length-1],Ce},d.smoothclosed=function(Le,we){if(Le.length<3)return"M"+Le.join("L")+"Z";var Ce="M"+Le[0],Ve=Le.length-1,Ne=[G(Le[Ve],Le[0],Le[1],we)],ke;for(ke=1;ke<Ve;ke++)Ne.push(G(Le[ke-1],Le[ke],Le[ke+1],we));for(Ne.push(G(Le[Ve-1],Le[Ve],Le[0],we)),ke=1;ke<=Ve;ke++)Ce+="C"+Ne[ke-1][1]+" "+Ne[ke][0]+" "+Le[ke];return Ce+="C"+Ne[Ve][1]+" "+Ne[0][0]+" "+Le[0]+"Z",Ce};var V,_;function U(Le,we,Ce){return Ce&&(Le=ae(Le)),we?z(Le[1]):H(Le[0])}function H(Le){var we=p.round(Le,2);return V=we,we}function z(Le){var we=p.round(Le,2);return _=we,we}function G(Le,we,Ce,Ve){var Ne=Le[0]-we[0],ke=Le[1]-we[1],We=Ce[0]-we[0],rt=Ce[1]-we[1],et=Math.pow(Ne*Ne+ke*ke,F/2),tt=Math.pow(We*We+rt*rt,F/2),at=(tt*tt*Ne-et*et*We)*Ve,ct=(tt*tt*ke-et*et*rt)*Ve,dt=3*tt*(et+tt),gt=3*et*(et+tt);return[[H(we[0]+(dt&&at/dt)),z(we[1]+(dt&&ct/dt))],[H(we[0]-(gt&&at/gt)),z(we[1]-(gt&&ct/gt))]]}var Y={hv:function(Le,we,Ce){return"H"+H(we[0])+"V"+U(we,1,Ce)},vh:function(Le,we,Ce){return"V"+z(we[1])+"H"+U(we,0,Ce)},hvh:function(Le,we,Ce){return"H"+H((Le[0]+we[0])/2)+"V"+z(we[1])+"H"+U(we,0,Ce)},vhv:function(Le,we,Ce){return"V"+z((Le[1]+we[1])/2)+"H"+H(we[0])+"V"+U(we,1,Ce)}},J=function(Le,we,Ce){return"L"+U(we,0,Ce)+","+U(we,1,Ce)};d.steps=function(Le){var we=Y[Le]||J;return function(Ce){for(var Ve="M"+H(Ce[0][0])+","+z(Ce[0][1]),Ne=Ce.length,ke=1;ke<Ne;ke++)Ve+=we(Ce[ke-1],Ce[ke],ke===Ne-1);return Ve}};function ae(Le,we){var Ce=Le.backoff,Ve=Le.trace,Ne=Le.d,ke=Le.i;if(Ce&&Ve&&Ve.marker&&Ve.marker.angle%360===0&&Ve.line&&Ve.line.shape!=="spline"){var We=L.isArrayOrTypedArray(Ce),rt=Le,et=we?we[0]:V||0,tt=we?we[1]:_||0,at=rt[0],ct=rt[1],dt=at-et,gt=ct-tt,Et=Math.atan2(gt,dt),Ct=We?Ce[ke]:Ce;if(Ct==="auto"){var Vt=rt.i;Ve.type==="scatter"&&Vt--;var Je=rt.marker,_e=Je.symbol;L.isArrayOrTypedArray(_e)&&(_e=_e[Vt]);var Fe=Je.size;L.isArrayOrTypedArray(Fe)&&(Fe=Fe[Vt]),Ct=Je?d.symbolBackOffs[d.symbolNumber(_e)]*Fe:0,Ct+=d.getMarkerStandoff(Ne[Vt],Ve)||0}var Be=at-Ct*Math.cos(Et),De=ct-Ct*Math.sin(Et);(Be<=at&&Be>=et||Be>=at&&Be<=et)&&(De<=ct&&De>=tt||De>=ct&&De<=tt)&&(Le=[Be,De])}return Le}d.applyBackoff=ae,d.makeTester=function(){var Le=L.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(Ce){Ce.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),we=L.ensureSingle(Le,"path","js-reference-point",function(Ce){Ce.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});d.tester=Le,d.testref=we},d.savedBBoxes={};var oe=0,he=1e4;d.bBox=function(Le,we,Ce){Ce||(Ce=q(Le));var Ve;if(Ce){if(Ve=d.savedBBoxes[Ce],Ve)return L.extendFlat({},Ve)}else if(Le.childNodes.length===1){var Ne=Le.childNodes[0];if(Ce=q(Ne),Ce){var ke=+Ne.getAttribute("x")||0,We=+Ne.getAttribute("y")||0,rt=Ne.getAttribute("transform");if(!rt){var et=d.bBox(Ne,!1,Ce);return ke&&(et.left+=ke,et.right+=ke),We&&(et.top+=We,et.bottom+=We),et}if(Ce+="~"+ke+"~"+We+"~"+rt,Ve=d.savedBBoxes[Ce],Ve)return L.extendFlat({},Ve)}}var tt,at;we?tt=Le:(at=d.tester.node(),tt=Le.cloneNode(!0),at.appendChild(tt)),p.select(tt).attr("transform",null).call(s.positionText,0,0);var ct=tt.getBoundingClientRect(),dt=d.testref.node().getBoundingClientRect();we||at.removeChild(tt);var gt={height:ct.height,width:ct.width,left:ct.left-dt.left,top:ct.top-dt.top,right:ct.right-dt.left,bottom:ct.bottom-dt.top};return oe>=he&&(d.savedBBoxes={},oe=0),Ce&&(d.savedBBoxes[Ce]=gt),oe++,L.extendFlat({},gt)};function q(Le){var we=Le.getAttribute("data-unformatted");if(we!==null)return we+Le.getAttribute("data-math")+Le.getAttribute("text-anchor")+Le.getAttribute("style")}d.setClipUrl=function(Le,we,Ce){Le.attr("clip-path",Z(we,Ce))};function Z(Le,we){if(!Le)return null;var Ce=we._context,Ve=Ce._exportedPlot?"":Ce._baseUrl||"";return Ve?"url('"+Ve+"#"+Le+"')":"url(#"+Le+")"}d.getTranslate=function(Le){var we=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ce=Le.attr?"attr":"getAttribute",Ve=Le[Ce]("transform")||"",Ne=Ve.replace(we,function(ke,We,rt){return[We,rt].join(" ")}).split(" ");return{x:+Ne[0]||0,y:+Ne[1]||0}},d.setTranslate=function(Le,we,Ce){var Ve=/(\btranslate\(.*?\);?)/,Ne=Le.attr?"attr":"getAttribute",ke=Le.attr?"attr":"setAttribute",We=Le[Ne]("transform")||"";return we=we||0,Ce=Ce||0,We=We.replace(Ve,"").trim(),We+=r(we,Ce),We=We.trim(),Le[ke]("transform",We),We},d.getScale=function(Le){var we=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ce=Le.attr?"attr":"getAttribute",Ve=Le[Ce]("transform")||"",Ne=Ve.replace(we,function(ke,We,rt){return[We,rt].join(" ")}).split(" ");return{x:+Ne[0]||1,y:+Ne[1]||1}},d.setScale=function(Le,we,Ce){var Ve=/(\bscale\(.*?\);?)/,Ne=Le.attr?"attr":"getAttribute",ke=Le.attr?"attr":"setAttribute",We=Le[Ne]("transform")||"";return we=we||1,Ce=Ce||1,We=We.replace(Ve,"").trim(),We+="scale("+we+","+Ce+")",We=We.trim(),Le[ke]("transform",We),We};var $=/\s*sc.*/;d.setPointGroupScale=function(Le,we,Ce){if(we=we||1,Ce=Ce||1,!!Le){var Ve=we===1&&Ce===1?"":"scale("+we+","+Ce+")";Le.each(function(){var Ne=(this.getAttribute("transform")||"").replace($,"");Ne+=Ve,Ne=Ne.trim(),this.setAttribute("transform",Ne)})}};var K=/translate\([^)]*\)\s*$/;d.setTextPointsScale=function(Le,we,Ce){Le&&Le.each(function(){var Ve,Ne=p.select(this),ke=Ne.select("text");if(ke.node()){var We=parseFloat(ke.attr("x")||0),rt=parseFloat(ke.attr("y")||0),et=(Ne.attr("transform")||"").match(K);we===1&&Ce===1?Ve=[]:Ve=[r(We,rt),"scale("+we+","+Ce+")",r(-We,-rt)],et&&Ve.push(et),Ne.attr("transform",Ve.join(""))}})};function re(Le,we){var Ce;return Le&&(Ce=Le.mf),Ce===void 0&&(Ce=we.marker&&we.marker.standoff||0),!we._geo&&!we._xA?-Ce:Ce}d.getMarkerStandoff=re;var le=Math.atan2,te=Math.cos,ee=Math.sin;function ue(Le,we){var Ce=we[0],Ve=we[1];return[Ce*te(Le)-Ve*ee(Le),Ce*ee(Le)+Ve*te(Le)]}var se,ve,be,Ee,Ae,Oe;function Ue(Le,we){var Ce=Le.ma;Ce===void 0&&(Ce=we.marker.angle||0);var Ve,Ne,ke=we.marker.angleref;if(ke==="previous"||ke==="north"){if(we._geo){var We=we._geo.project(Le.lonlat);Ve=We[0],Ne=We[1]}else{var rt=we._xA,et=we._yA;if(rt&&et)Ve=rt.c2p(Le.x),Ne=et.c2p(Le.y);else return 90}if(we._geo){var tt=Le.lonlat[0],at=Le.lonlat[1],ct=we._geo.project([tt,at+1e-5]),dt=we._geo.project([tt+1e-5,at]),gt=le(dt[1]-Ne,dt[0]-Ve),Et=le(ct[1]-Ne,ct[0]-Ve),Ct;if(ke==="north")Ct=Ce/180*Math.PI;else if(ke==="previous"){var Vt=tt/180*Math.PI,Je=at/180*Math.PI,_e=se/180*Math.PI,Fe=ve/180*Math.PI,Be=_e-Vt,De=te(Fe)*ee(Be),Te=ee(Fe)*te(Je)-te(Fe)*ee(Je)*te(Be);Ct=-le(De,Te)-Math.PI,se=tt,ve=at}var xe=ue(gt,[te(Ct),0]),Me=ue(Et,[ee(Ct),0]);Ce=le(xe[1]+Me[1],xe[0]+Me[0])/Math.PI*180,ke==="previous"&&!(Oe===we.uid&&Le.i===Ae+1)&&(Ce=null)}if(ke==="previous"&&!we._geo)if(Oe===we.uid&&Le.i===Ae+1&&C(Ve)&&C(Ne)){var Pe=Ve-be,He=Ne-Ee,Ke=we.line&&we.line.shape||"",qe=Ke.slice(Ke.length-1);qe==="h"&&(He=0),qe==="v"&&(Pe=0),Ce+=le(He,Pe)/Math.PI*180+90}else Ce=null}return be=Ve,Ee=Ne,Ae=Le.i,Oe=we.uid,Ce}d.getMarkerAngle=Ue},90998:function(B,N,e){var p=e(95616),L=e(39898).round,a="M0,0Z",C=Math.sqrt(2),w=Math.sqrt(3),h=Math.PI,g=Math.cos,t=Math.sin;B.exports={circle:{n:0,f:function(m,v,A){if(r(v))return a;var d=L(m,2),u="M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z";return A?f(v,A,u):u}},square:{n:1,f:function(m,v,A){if(r(v))return a;var d=L(m,2);return f(v,A,"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")}},diamond:{n:2,f:function(m,v,A){if(r(v))return a;var d=L(m*1.3,2);return f(v,A,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"Z")}},cross:{n:3,f:function(m,v,A){if(r(v))return a;var d=L(m*.4,2),u=L(m*1.2,2);return f(v,A,"M"+u+","+d+"H"+d+"V"+u+"H-"+d+"V"+d+"H-"+u+"V-"+d+"H-"+d+"V-"+u+"H"+d+"V-"+d+"H"+u+"Z")}},x:{n:4,f:function(m,v,A){if(r(v))return a;var d=L(m*.8/C,2),u="l"+d+","+d,y="l"+d+",-"+d,M="l-"+d+",-"+d,S="l-"+d+","+d;return f(v,A,"M0,"+d+u+y+M+y+M+S+M+S+u+S+u+"Z")}},"triangle-up":{n:5,f:function(m,v,A){if(r(v))return a;var d=L(m*2/w,2),u=L(m/2,2),y=L(m,2);return f(v,A,"M-"+d+","+u+"H"+d+"L0,-"+y+"Z")}},"triangle-down":{n:6,f:function(m,v,A){if(r(v))return a;var d=L(m*2/w,2),u=L(m/2,2),y=L(m,2);return f(v,A,"M-"+d+",-"+u+"H"+d+"L0,"+y+"Z")}},"triangle-left":{n:7,f:function(m,v,A){if(r(v))return a;var d=L(m*2/w,2),u=L(m/2,2),y=L(m,2);return f(v,A,"M"+u+",-"+d+"V"+d+"L-"+y+",0Z")}},"triangle-right":{n:8,f:function(m,v,A){if(r(v))return a;var d=L(m*2/w,2),u=L(m/2,2),y=L(m,2);return f(v,A,"M-"+u+",-"+d+"V"+d+"L"+y+",0Z")}},"triangle-ne":{n:9,f:function(m,v,A){if(r(v))return a;var d=L(m*.6,2),u=L(m*1.2,2);return f(v,A,"M-"+u+",-"+d+"H"+d+"V"+u+"Z")}},"triangle-se":{n:10,f:function(m,v,A){if(r(v))return a;var d=L(m*.6,2),u=L(m*1.2,2);return f(v,A,"M"+d+",-"+u+"V"+d+"H-"+u+"Z")}},"triangle-sw":{n:11,f:function(m,v,A){if(r(v))return a;var d=L(m*.6,2),u=L(m*1.2,2);return f(v,A,"M"+u+","+d+"H-"+d+"V-"+u+"Z")}},"triangle-nw":{n:12,f:function(m,v,A){if(r(v))return a;var d=L(m*.6,2),u=L(m*1.2,2);return f(v,A,"M-"+d+","+u+"V-"+d+"H"+u+"Z")}},pentagon:{n:13,f:function(m,v,A){if(r(v))return a;var d=L(m*.951,2),u=L(m*.588,2),y=L(-m,2),M=L(m*-.309,2),S=L(m*.809,2);return f(v,A,"M"+d+","+M+"L"+u+","+S+"H-"+u+"L-"+d+","+M+"L0,"+y+"Z")}},hexagon:{n:14,f:function(m,v,A){if(r(v))return a;var d=L(m,2),u=L(m/2,2),y=L(m*w/2,2);return f(v,A,"M"+y+",-"+u+"V"+u+"L0,"+d+"L-"+y+","+u+"V-"+u+"L0,-"+d+"Z")}},hexagon2:{n:15,f:function(m,v,A){if(r(v))return a;var d=L(m,2),u=L(m/2,2),y=L(m*w/2,2);return f(v,A,"M-"+u+","+y+"H"+u+"L"+d+",0L"+u+",-"+y+"H-"+u+"L-"+d+",0Z")}},octagon:{n:16,f:function(m,v,A){if(r(v))return a;var d=L(m*.924,2),u=L(m*.383,2);return f(v,A,"M-"+u+",-"+d+"H"+u+"L"+d+",-"+u+"V"+u+"L"+u+","+d+"H-"+u+"L-"+d+","+u+"V-"+u+"Z")}},star:{n:17,f:function(m,v,A){if(r(v))return a;var d=m*1.4,u=L(d*.225,2),y=L(d*.951,2),M=L(d*.363,2),S=L(d*.588,2),R=L(-d,2),x=L(d*-.309,2),E=L(d*.118,2),T=L(d*.809,2),i=L(d*.382,2);return f(v,A,"M"+u+","+x+"H"+y+"L"+M+","+E+"L"+S+","+T+"L0,"+i+"L-"+S+","+T+"L-"+M+","+E+"L-"+y+","+x+"H-"+u+"L0,"+R+"Z")}},hexagram:{n:18,f:function(m,v,A){if(r(v))return a;var d=L(m*.66,2),u=L(m*.38,2),y=L(m*.76,2);return f(v,A,"M-"+y+",0l-"+u+",-"+d+"h"+y+"l"+u+",-"+d+"l"+u+","+d+"h"+y+"l-"+u+","+d+"l"+u+","+d+"h-"+y+"l-"+u+","+d+"l-"+u+",-"+d+"h-"+y+"Z")}},"star-triangle-up":{n:19,f:function(m,v,A){if(r(v))return a;var d=L(m*w*.8,2),u=L(m*.8,2),y=L(m*1.6,2),M=L(m*4,2),S="A "+M+","+M+" 0 0 1 ";return f(v,A,"M-"+d+","+u+S+d+","+u+S+"0,-"+y+S+"-"+d+","+u+"Z")}},"star-triangle-down":{n:20,f:function(m,v,A){if(r(v))return a;var d=L(m*w*.8,2),u=L(m*.8,2),y=L(m*1.6,2),M=L(m*4,2),S="A "+M+","+M+" 0 0 1 ";return f(v,A,"M"+d+",-"+u+S+"-"+d+",-"+u+S+"0,"+y+S+d+",-"+u+"Z")}},"star-square":{n:21,f:function(m,v,A){if(r(v))return a;var d=L(m*1.1,2),u=L(m*2,2),y="A "+u+","+u+" 0 0 1 ";return f(v,A,"M-"+d+",-"+d+y+"-"+d+","+d+y+d+","+d+y+d+",-"+d+y+"-"+d+",-"+d+"Z")}},"star-diamond":{n:22,f:function(m,v,A){if(r(v))return a;var d=L(m*1.4,2),u=L(m*1.9,2),y="A "+u+","+u+" 0 0 1 ";return f(v,A,"M-"+d+",0"+y+"0,"+d+y+d+",0"+y+"0,-"+d+y+"-"+d+",0Z")}},"diamond-tall":{n:23,f:function(m,v,A){if(r(v))return a;var d=L(m*.7,2),u=L(m*1.4,2);return f(v,A,"M0,"+u+"L"+d+",0L0,-"+u+"L-"+d+",0Z")}},"diamond-wide":{n:24,f:function(m,v,A){if(r(v))return a;var d=L(m*1.4,2),u=L(m*.7,2);return f(v,A,"M0,"+u+"L"+d+",0L0,-"+u+"L-"+d+",0Z")}},hourglass:{n:25,f:function(m,v,A){if(r(v))return a;var d=L(m,2);return f(v,A,"M"+d+","+d+"H-"+d+"L"+d+",-"+d+"H-"+d+"Z")},noDot:!0},bowtie:{n:26,f:function(m,v,A){if(r(v))return a;var d=L(m,2);return f(v,A,"M"+d+","+d+"V-"+d+"L-"+d+","+d+"V-"+d+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,v,A){if(r(v))return a;var d=L(m,2);return f(v,A,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,v,A){if(r(v))return a;var d=L(m,2),u=L(m/C,2);return f(v,A,"M"+u+","+u+"L-"+u+",-"+u+"M"+u+",-"+u+"L-"+u+","+u+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,v,A){if(r(v))return a;var d=L(m,2);return f(v,A,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,v,A){if(r(v))return a;var d=L(m,2);return f(v,A,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,v,A){if(r(v))return a;var d=L(m*1.3,2);return f(v,A,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM0,-"+d+"V"+d+"M-"+d+",0H"+d)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,v,A){if(r(v))return a;var d=L(m*1.3,2),u=L(m*.65,2);return f(v,A,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM-"+u+",-"+u+"L"+u+","+u+"M-"+u+","+u+"L"+u+",-"+u)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,v,A){if(r(v))return a;var d=L(m*1.4,2);return f(v,A,"M0,"+d+"V-"+d+"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,v,A){if(r(v))return a;var d=L(m,2);return f(v,A,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,v,A){if(r(v))return a;var d=L(m*1.2,2),u=L(m*.85,2);return f(v,A,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+u+","+u+"L-"+u+",-"+u+"M"+u+",-"+u+"L-"+u+","+u)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,v,A){if(r(v))return a;var d=L(m/2,2),u=L(m,2);return f(v,A,"M"+d+","+u+"V-"+u+"M"+(d-u)+",-"+u+"V"+u+"M"+u+","+d+"H-"+u+"M-"+u+","+(d-u)+"H"+u)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,v,A){if(r(v))return a;var d=L(m*1.2,2),u=L(m*1.6,2),y=L(m*.8,2);return f(v,A,"M-"+d+","+y+"L0,0M"+d+","+y+"L0,0M0,-"+u+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,v,A){if(r(v))return a;var d=L(m*1.2,2),u=L(m*1.6,2),y=L(m*.8,2);return f(v,A,"M-"+d+",-"+y+"L0,0M"+d+",-"+y+"L0,0M0,"+u+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,v,A){if(r(v))return a;var d=L(m*1.2,2),u=L(m*1.6,2),y=L(m*.8,2);return f(v,A,"M"+y+","+d+"L0,0M"+y+",-"+d+"L0,0M-"+u+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,v,A){if(r(v))return a;var d=L(m*1.2,2),u=L(m*1.6,2),y=L(m*.8,2);return f(v,A,"M-"+y+","+d+"L0,0M-"+y+",-"+d+"L0,0M"+u+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,v,A){if(r(v))return a;var d=L(m*1.4,2);return f(v,A,"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,v,A){if(r(v))return a;var d=L(m*1.4,2);return f(v,A,"M0,"+d+"V-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,v,A){if(r(v))return a;var d=L(m,2);return f(v,A,"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,v,A){if(r(v))return a;var d=L(m,2);return f(v,A,"M"+d+","+d+"L-"+d+",-"+d)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,v,A){if(r(v))return a;var d=L(m,2),u=L(m*2,2);return f(v,A,"M0,0L-"+d+","+u+"H"+d+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,v,A){if(r(v))return a;var d=L(m,2),u=L(m*2,2);return f(v,A,"M0,0L-"+d+",-"+u+"H"+d+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,v,A){if(r(v))return a;var d=L(m*2,2),u=L(m,2);return f(v,A,"M0,0L"+d+",-"+u+"V"+u+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,v,A){if(r(v))return a;var d=L(m*2,2),u=L(m,2);return f(v,A,"M0,0L-"+d+",-"+u+"V"+u+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,v,A){if(r(v))return a;var d=L(m,2),u=L(m*2,2);return f(v,A,"M-"+d+",0H"+d+"M0,0L-"+d+","+u+"H"+d+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,v,A){if(r(v))return a;var d=L(m,2),u=L(m*2,2);return f(v,A,"M-"+d+",0H"+d+"M0,0L-"+d+",-"+u+"H"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,v,A){if(r(v))return a;var d=L(m*2,2),u=L(m,2);return f(v,A,"M0,-"+u+"V"+u+"M0,0L"+d+",-"+u+"V"+u+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,v,A){if(r(v))return a;var d=L(m*2,2),u=L(m,2);return f(v,A,"M0,-"+u+"V"+u+"M0,0L-"+d+",-"+u+"V"+u+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,v,A){if(r(v))return a;var d=h/2.5,u=2*m*g(d),y=2*m*t(d);return f(v,A,"M0,0L"+-u+","+y+"L"+u+","+y+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,v,A){if(r(v))return a;var d=h/4,u=2*m*g(d),y=2*m*t(d);return f(v,A,"M0,0L"+-u+","+y+"A "+2*m+","+2*m+" 0 0 1 "+u+","+y+"Z")},backoff:.4,noDot:!0}};function r(m){return m===null}var s,n,l,c;function f(m,v,A){if((!m||m%360===0)&&!v)return A;if(l===m&&c===v&&s===A)return n;l=m,c=v,s=A;function d(F,V){var _=g(F),U=t(F),H=V[0],z=V[1]+(v||0);return[H*_-z*U,H*U+z*_]}for(var u=m/180*h,y=0,M=0,S=p(A),R="",x=0;x<S.length;x++){var E=S[x],T=E[0],i=y,D=M;if(T==="M"||T==="L")y=+E[1],M=+E[2];else if(T==="m"||T==="l")y+=+E[1],M+=+E[2];else if(T==="H")y=+E[1];else if(T==="h")y+=+E[1];else if(T==="V")M=+E[1];else if(T==="v")M+=+E[1];else if(T==="A"){y=+E[1],M=+E[2];var b=d(u,[+E[6],+E[7]]);E[6]=b[0],E[7]=b[1],E[3]=+E[3]+m}(T==="H"||T==="V")&&(T="L"),(T==="h"||T==="v")&&(T="l"),(T==="m"||T==="l")&&(y-=i,M-=D);var O=d(u,[y,M]);(T==="H"||T==="V")&&(T="L"),(T==="M"||T==="L"||T==="m"||T==="l")&&(E[1]=O[0],E[2]=O[1]),E[0]=T,R+=E[0]+E.slice(1).join(",")}return n=R,R}},25673:function(B){B.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(B,N,e){var p=e(92770),L=e(73972),a=e(89298),C=e(71828),w=e(45827);B.exports=function(t){for(var r=t.calcdata,s=0;s<r.length;s++){var n=r[s],l=n[0].trace;if(l.visible===!0&&L.traceIs(l,"errorBarsOK")){var c=a.getFromId(t,l.xaxis),f=a.getFromId(t,l.yaxis);h(n,l,c,"x"),h(n,l,f,"y")}}};function h(g,t,r,s){var n=t["error_"+s]||{},l=n.visible&&["linear","log"].indexOf(r.type)!==-1,c=[];if(l){for(var f=w(n),m=0;m<g.length;m++){var v=g[m],A=v.i;if(A===void 0)A=m;else if(A===null)continue;var d=v[s];if(p(r.c2l(d))){var u=f(d,A);if(p(u[0])&&p(u[1])){var y=v[s+"s"]=d-u[0],M=v[s+"h"]=d+u[1];c.push(y,M)}}}var S=r._id,R=t._extremes[S],x=a.findExtremes(r,c,C.extendFlat({tozero:R.opts.tozero},{padded:!0}));R.min=R.min.concat(x.min),R.max=R.max.concat(x.max)}}},45827:function(B){B.exports=function(p){var L=p.type,a=p.symmetric;if(L==="data"){var C=p.array||[];if(a)return function(r,s){var n=+C[s];return[n,n]};var w=p.arrayminus||[];return function(r,s){var n=+C[s],l=+w[s];return!isNaN(n)||!isNaN(l)?[l||0,n||0]:[NaN,NaN]}}else{var h=N(L,p.value),g=N(L,p.valueminus);return a||p.valueminus===void 0?function(r){var s=h(r);return[s,s]}:function(r){return[g(r),h(r)]}}};function N(e,p){if(e==="percent")return function(L){return Math.abs(L*p/100)};if(e==="constant")return function(){return Math.abs(p)};if(e==="sqrt")return function(L){return Math.sqrt(Math.abs(L))}}},97587:function(B,N,e){var p=e(92770),L=e(73972),a=e(71828),C=e(44467),w=e(25673);B.exports=function(h,g,t,r){var s="error_"+r.axis,n=C.newContainer(g,s),l=h[s]||{};function c(y,M){return a.coerce(l,n,w,y,M)}var f=l.array!==void 0||l.value!==void 0||l.type==="sqrt",m=c("visible",f);if(m!==!1){var v=c("type","array"in l?"data":"percent"),A=!0;v!=="sqrt"&&(A=c("symmetric",!((v==="data"?"arrayminus":"valueminus")in l))),v==="data"?(c("array"),c("traceref"),A||(c("arrayminus"),c("tracerefminus"))):(v==="percent"||v==="constant")&&(c("value"),A||c("valueminus"));var d="copy_"+r.inherit+"style";if(r.inherit){var u=g["error_"+r.inherit];(u||{}).visible&&c(d,!(l.color||p(l.thickness)||p(l.width)))}(!r.inherit||!n[d])&&(c("color",t),c("thickness"),c("width",L.traceIs(g,"gl3d")?0:4))}}},37369:function(B,N,e){var p=e(71828),L=e(30962).overrideAll,a=e(25673),C={error_x:p.extendFlat({},a),error_y:p.extendFlat({},a)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var w={error_x:p.extendFlat({},a),error_y:p.extendFlat({},a),error_z:p.extendFlat({},a)};delete w.error_x.copy_ystyle,delete w.error_y.copy_ystyle,delete w.error_z.copy_ystyle,delete w.error_z.copy_zstyle,B.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:L(w,"calc","nested"),scattergl:L(C,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:h};function h(g,t,r){(t.error_y||{}).visible&&(r.yerr=g.yh-g.y,t.error_y.symmetric||(r.yerrneg=g.y-g.ys)),(t.error_x||{}).visible&&(r.xerr=g.xh-g.x,t.error_x.symmetric||(r.xerrneg=g.x-g.xs))}},19398:function(B,N,e){var p=e(39898),L=e(92770),a=e(91424),C=e(34098);B.exports=function(g,t,r,s){var n,l=r.xaxis,c=r.yaxis,f=s&&s.duration>0,m=g._context.staticPlot;t.each(function(v){var A=v[0].trace,d=A.error_x||{},u=A.error_y||{},y;A.ids&&(y=function(x){return x.id});var M=C.hasMarkers(A)&&A.marker.maxdisplayed>0;!u.visible&&!d.visible&&(v=[]);var S=p.select(this).selectAll("g.errorbar").data(v,y);if(S.exit().remove(),!!v.length){d.visible||S.selectAll("path.xerror").remove(),u.visible||S.selectAll("path.yerror").remove(),S.style("opacity",1);var R=S.enter().append("g").classed("errorbar",!0);f&&R.style("opacity",0).transition().duration(s.duration).style("opacity",1),a.setClipUrl(S,r.layerClipId,g),S.each(function(x){var E=p.select(this),T=w(x,l,c);if(!(M&&!x.vis)){var i,D=E.select("path.yerror");if(u.visible&&L(T.x)&&L(T.yh)&&L(T.ys)){var b=u.width;i="M"+(T.x-b)+","+T.yh+"h"+2*b+"m-"+b+",0V"+T.ys,T.noYS||(i+="m-"+b+",0h"+2*b),n=!D.size(),n?D=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):f&&(D=D.transition().duration(s.duration).ease(s.easing)),D.attr("d",i)}else D.remove();var O=E.select("path.xerror");if(d.visible&&L(T.y)&&L(T.xh)&&L(T.xs)){var F=(d.copy_ystyle?u:d).width;i="M"+T.xh+","+(T.y-F)+"v"+2*F+"m0,-"+F+"H"+T.xs,T.noXS||(i+="m0,-"+F+"v"+2*F),n=!O.size(),n?O=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):f&&(O=O.transition().duration(s.duration).ease(s.easing)),O.attr("d",i)}else O.remove()}})}})};function w(h,g,t){var r={x:g.c2p(h.x),y:t.c2p(h.y)};return h.yh!==void 0&&(r.yh=t.c2p(h.yh),r.ys=t.c2p(h.ys),L(r.ys)||(r.noYS=!0,r.ys=t.c2p(h.ys,!0))),h.xh!==void 0&&(r.xh=g.c2p(h.xh),r.xs=g.c2p(h.xs),L(r.xs)||(r.noXS=!0,r.xs=g.c2p(h.xs,!0))),r}},62662:function(B,N,e){var p=e(39898),L=e(7901);B.exports=function(C){C.each(function(w){var h=w[0].trace,g=h.error_y||{},t=h.error_x||{},r=p.select(this);r.selectAll("path.yerror").style("stroke-width",g.thickness+"px").call(L.stroke,g.color),t.copy_ystyle&&(t=g),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(L.stroke,t.color)})}},77914:function(B,N,e){var p=e(41940),L=e(528).hoverlabel,a=e(1426).extendFlat;B.exports={hoverlabel:{bgcolor:a({},L.bgcolor,{arrayOk:!0}),bordercolor:a({},L.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:a({},L.align,{arrayOk:!0}),namelength:a({},L.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(B,N,e){var p=e(71828),L=e(73972);B.exports=function(w){var h=w.calcdata,g=w._fullLayout;function t(c){return function(f){return p.coerceHoverinfo({hoverinfo:f},{_module:c._module},g)}}for(var r=0;r<h.length;r++){var s=h[r],n=s[0].trace;if(!L.traceIs(n,"pie-like")){var l=L.traceIs(n,"2dMap")?a:p.fillArray;l(n.hoverinfo,s,"hi",t(n)),n.hovertemplate&&l(n.hovertemplate,s,"ht"),n.hoverlabel&&(l(n.hoverlabel.bgcolor,s,"hbg"),l(n.hoverlabel.bordercolor,s,"hbc"),l(n.hoverlabel.font.size,s,"hts"),l(n.hoverlabel.font.color,s,"htc"),l(n.hoverlabel.font.family,s,"htf"),l(n.hoverlabel.namelength,s,"hnl"),l(n.hoverlabel.align,s,"hta"))}}};function a(C,w,h,g){g=g||p.identity,Array.isArray(C)&&(w[0][h]=g(C))}},75914:function(B,N,e){var p=e(73972),L=e(88335).hover;B.exports=function(C,w,h){var g=p.getComponentMethod("annotations","onClick")(C,C._hoverdata);h!==void 0&&L(C,w,h,!0);function t(){C.emit("plotly_click",{points:C._hoverdata,event:w})}C._hoverdata&&w&&w.target&&(g&&g.then?g.then(t):t(),w.stopImmediatePropagation&&w.stopImmediatePropagation())}},26675:function(B){B.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(B,N,e){var p=e(71828),L=e(77914),a=e(38048);B.exports=function(w,h,g,t){function r(n,l){return p.coerce(w,h,L,n,l)}var s=p.extendFlat({},t.hoverlabel);h.hovertemplate&&(s.namelength=-1),a(w,h,r,s)}},23469:function(B,N,e){var p=e(71828);N.getSubplot=function(g){return g.subplot||g.xaxis+g.yaxis||g.geo},N.isTraceInSubplots=function(g,t){if(g.type==="splom"){for(var r=g.xaxes||[],s=g.yaxes||[],n=0;n<r.length;n++)for(var l=0;l<s.length;l++)if(t.indexOf(r[n]+s[l])!==-1)return!0;return!1}return t.indexOf(N.getSubplot(g))!==-1},N.flat=function(g,t){for(var r=new Array(g.length),s=0;s<g.length;s++)r[s]=t;return r},N.p2c=function(g,t){for(var r=new Array(g.length),s=0;s<g.length;s++)r[s]=g[s].p2c(t);return r},N.getDistanceFunction=function(g,t,r,s){return g==="closest"?s||N.quadrature(t,r):g.charAt(0)==="x"?t:r},N.getClosest=function(g,t,r){if(r.index!==!1)r.index>=0&&r.index<g.length?r.distance=0:r.index=!1;else for(var s=0;s<g.length;s++){var n=t(g[s]);n<=r.distance&&(r.index=s,r.distance=n)}return r},N.inbox=function(g,t,r){return g*t<0||g===0?r:1/0},N.quadrature=function(g,t){return function(r){var s=g(r),n=t(r);return Math.sqrt(s*s+n*n)}},N.makeEventData=function(g,t,r){var s="index"in g?g.index:g.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:s};if(t._indexToPoints){var l=t._indexToPoints[s];l.length===1?n.pointIndex=l[0]:n.pointIndices=l}else n.pointIndex=s;return t._module.eventData?n=t._module.eventData(n,g,t,r,s):("xVal"in g?n.x=g.xVal:"x"in g&&(n.x=g.x),"yVal"in g?n.y=g.yVal:"y"in g&&(n.y=g.y),g.xa&&(n.xaxis=g.xa),g.ya&&(n.yaxis=g.ya),g.zLabelVal!==void 0&&(n.z=g.zLabelVal)),N.appendArrayPointValue(n,t,s),n},N.appendArrayPointValue=function(g,t,r){var s=t._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var l=s[n],c=a(l);if(g[c]===void 0){var f=p.nestedProperty(t,l).get(),m=C(f,r);m!==void 0&&(g[c]=m)}}},N.appendArrayMultiPointValues=function(g,t,r){var s=t._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var l=s[n],c=a(l);if(g[c]===void 0){for(var f=p.nestedProperty(t,l).get(),m=new Array(r.length),v=0;v<r.length;v++)m[v]=C(f,r[v]);g[c]=m}}};var L={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(g){return L[g]||g}function C(g,t){if(Array.isArray(t)){if(Array.isArray(g)&&Array.isArray(g[t[0]]))return g[t[0]][t[1]]}else return g[t]}var w={x:!0,y:!0},h={"x unified":!0,"y unified":!0};N.isUnifiedHover=function(g){return typeof g!="string"?!1:!!h[g]},N.isXYhover=function(g){return typeof g!="string"?!1:!!w[g]}},88335:function(B,N,e){var p=e(39898),L=e(92770),a=e(84267),C=e(71828),w=C.strTranslate,h=C.strRotate,g=e(11086),t=e(63893),r=e(39918),s=e(91424),n=e(7901),l=e(28569),c=e(89298),f=e(73972),m=e(23469),v=e(26675),A=e(99017),d=e(43969),u=v.YANGLE,y=Math.PI*u/180,M=1/Math.sin(y),S=Math.cos(y),R=Math.sin(y),x=v.HOVERARROWSIZE,E=v.HOVERTEXTPAD,T={box:!0,ohlc:!0,violin:!0,candlestick:!0},i={scatter:!0,scattergl:!0,splom:!0};N.hover=function(le,te,ee,ue){le=C.getGraphDiv(le);var se=te.target;C.throttle(le._fullLayout._uid+v.HOVERID,v.HOVERMINTIME,function(){D(le,te,ee,ue,se)})},N.loneHover=function(le,te){var ee=!0;Array.isArray(le)||(ee=!1,le=[le]);var ue=te.gd,se=Z(ue),ve=$(ue),be=le.map(function(Ne){var ke=Ne._x0||Ne.x0||Ne.x||0,We=Ne._x1||Ne.x1||Ne.x||0,rt=Ne._y0||Ne.y0||Ne.y||0,et=Ne._y1||Ne.y1||Ne.y||0,tt=Ne.eventData;if(tt){var at=Math.min(ke,We),ct=Math.max(ke,We),dt=Math.min(rt,et),gt=Math.max(rt,et),Et=Ne.trace;if(f.traceIs(Et,"gl3d")){var Ct=ue._fullLayout[Et.scene]._scene.container,Vt=Ct.offsetLeft,Je=Ct.offsetTop;at+=Vt,ct+=Vt,dt+=Je,gt+=Je}tt.bbox={x0:at+ve,x1:ct+ve,y0:dt+se,y1:gt+se},te.inOut_bbox&&te.inOut_bbox.push(tt.bbox)}else tt=!1;return{color:Ne.color||n.defaultLine,x0:Ne.x0||Ne.x||0,x1:Ne.x1||Ne.x||0,y0:Ne.y0||Ne.y||0,y1:Ne.y1||Ne.y||0,xLabel:Ne.xLabel,yLabel:Ne.yLabel,zLabel:Ne.zLabel,text:Ne.text,name:Ne.name,idealAlign:Ne.idealAlign,borderColor:Ne.borderColor,fontFamily:Ne.fontFamily,fontSize:Ne.fontSize,fontColor:Ne.fontColor,nameLength:Ne.nameLength,textAlign:Ne.textAlign,trace:Ne.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ne.hovertemplate||!1,hovertemplateLabels:Ne.hovertemplateLabels||!1,eventData:tt}}),Ee=!1,Ae=F(be,{gd:ue,hovermode:"closest",rotateLabels:Ee,bgColor:te.bgColor||n.background,container:p.select(te.container),outerContainer:te.outerContainer||te.container}),Oe=Ae.hoverLabels,Ue=5,Le=0,we=0;Oe.sort(function(Ne,ke){return Ne.y0-ke.y0}).each(function(Ne,ke){var We=Ne.y0-Ne.by/2;We-Ue<Le?Ne.offset=Le-We+Ue:Ne.offset=0,Le=We+Ne.by+Ne.offset,ke===te.anchorIndex&&(we=Ne.offset)}).each(function(Ne){Ne.offset-=we});var Ce=ue._fullLayout._invScaleX,Ve=ue._fullLayout._invScaleY;return z(Oe,Ee,Ce,Ve),ee?Oe:Oe.node()};function D(re,le,te,ee,ue){te||(te="xy");var se=Array.isArray(te)?te:[te],ve=re._fullLayout,be=ve._plots||[],Ee=be[te],Ae=ve._has("cartesian");if(Ee){var Oe=Ee.overlays.map(function(Cr){return Cr.id});se=se.concat(Oe)}for(var Ue=se.length,Le=new Array(Ue),we=new Array(Ue),Ce=!1,Ve=0;Ve<Ue;Ve++){var Ne=se[Ve];if(be[Ne])Ce=!0,Le[Ve]=be[Ne].xaxis,we[Ve]=be[Ne].yaxis;else if(ve[Ne]&&ve[Ne]._subplot){var ke=ve[Ne]._subplot;Le[Ve]=ke.xaxis,we[Ve]=ke.yaxis}else{C.warn("Unrecognized subplot: "+Ne);return}}var We=le.hovermode||ve.hovermode;if(We&&!Ce&&(We="closest"),["x","y","closest","x unified","y unified"].indexOf(We)===-1||!re.calcdata||re.querySelector(".zoombox")||re._dragging)return l.unhoverRaw(re,le);var rt=ve.hoverdistance;rt===-1&&(rt=1/0);var et=ve.spikedistance;et===-1&&(et=1/0);var tt=[],at=[],ct,dt,gt,Et,Ct,Vt,Je,_e,Fe,Be,De,Te,xe,Me={hLinePoint:null,vLinePoint:null},Pe=!1;if(Array.isArray(le))for(We="array",gt=0;gt<le.length;gt++)Ct=re.calcdata[le[gt].curveNumber||0],Ct&&(Vt=Ct[0].trace,Ct[0].trace.hoverinfo!=="skip"&&(at.push(Ct),Vt.orientation==="h"&&(Pe=!0)));else{for(Et=0;Et<re.calcdata.length;Et++)Ct=re.calcdata[Et],Vt=Ct[0].trace,Vt.hoverinfo!=="skip"&&m.isTraceInSubplots(Vt,se)&&(at.push(Ct),Vt.orientation==="h"&&(Pe=!0));var He=!ue,Ke,qe;if(He)"xpx"in le?Ke=le.xpx:Ke=Le[0]._length/2,"ypx"in le?qe=le.ypx:qe=we[0]._length/2;else{if(g.triggerHandler(re,"plotly_beforehover",le)===!1)return;var vt=ue.getBoundingClientRect();Ke=le.clientX-vt.left,qe=le.clientY-vt.top,ve._calcInverseTransform(re);var bt=C.apply3DTransform(ve._invTransform)(Ke,qe);if(Ke=bt[0],qe=bt[1],Ke<0||Ke>Le[0]._length||qe<0||qe>we[0]._length)return l.unhoverRaw(re,le)}if(le.pointerX=Ke+Le[0]._offset,le.pointerY=qe+we[0]._offset,"xval"in le?ct=m.flat(se,le.xval):ct=m.p2c(Le,Ke),"yval"in le?dt=m.flat(se,le.yval):dt=m.p2c(we,qe),!L(ct[0])||!L(dt[0]))return C.warn("Fx.hover failed",le,re),l.unhoverRaw(re,le)}var Wt=1/0;function qt(Cr,jr){for(Et=0;Et<at.length;Et++)if(Ct=at[Et],!(!Ct||!Ct[0]||!Ct[0].trace)&&(Vt=Ct[0].trace,!(Vt.visible!==!0||Vt._length===0)&&["carpet","contourcarpet"].indexOf(Vt._module.name)===-1)){if(Vt.type==="splom"?(_e=0,Je=se[_e]):(Je=m.getSubplot(Vt),_e=se.indexOf(Je)),Fe=We,m.isUnifiedHover(Fe)&&(Fe=Fe.charAt(0)),Te={cd:Ct,trace:Vt,xa:Le[_e],ya:we[_e],maxHoverDistance:rt,maxSpikeDistance:et,index:!1,distance:Math.min(Wt,rt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Vt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ve[Je]&&(Te.subplot=ve[Je]._subplot),ve._splomScenes&&ve._splomScenes[Vt.uid]&&(Te.scene=ve._splomScenes[Vt.uid]),xe=tt.length,Fe==="array"){var Hr=le[Et];"pointNumber"in Hr?(Te.index=Hr.pointNumber,Fe="closest"):(Fe="","xval"in Hr&&(Be=Hr.xval,Fe="x"),"yval"in Hr&&(De=Hr.yval,Fe=Fe?"closest":"y"))}else Cr!==void 0&&jr!==void 0?(Be=Cr,De=jr):(Be=ct[_e],De=dt[_e]);if(rt!==0)if(Vt._module&&Vt._module.hoverPoints){var on=Vt._module.hoverPoints(Te,Be,De,Fe,{finiteRange:!0,hoverLayer:ve._hoverlayer});if(on)for(var yn,xn=0;xn<on.length;xn++)yn=on[xn],L(yn.x0)&&L(yn.y0)&&tt.push(G(yn,We))}else C.log("Unrecognized trace type in hover:",Vt);if(We==="closest"&&tt.length>xe&&(tt.splice(0,xe),Wt=tt[0].distance),Ae&&et!==0&&tt.length===0){Te.distance=et,Te.index=!1;var Rn=Vt._module.hoverPoints(Te,Be,De,"closest",{hoverLayer:ve._hoverlayer});if(Rn&&(Rn=Rn.filter(function(Qn){return Qn.spikeDistance<=et})),Rn&&Rn.length){var _n,sa=Rn.filter(function(Qn){return Qn.xa.showspikes&&Qn.xa.spikesnap!=="hovered data"});if(sa.length){var Zn=sa[0];L(Zn.x0)&&L(Zn.y0)&&(_n=zt(Zn),(!Me.vLinePoint||Me.vLinePoint.spikeDistance>_n.spikeDistance)&&(Me.vLinePoint=_n))}var qn=Rn.filter(function(Qn){return Qn.ya.showspikes&&Qn.ya.spikesnap!=="hovered data"});if(qn.length){var jn=qn[0];L(jn.x0)&&L(jn.y0)&&(_n=zt(jn),(!Me.hLinePoint||Me.hLinePoint.spikeDistance>_n.spikeDistance)&&(Me.hLinePoint=_n))}}}}}qt();function At(Cr,jr,Hr){for(var on=null,yn=1/0,xn,Rn=0;Rn<Cr.length;Rn++)xn=Cr[Rn].spikeDistance,Hr&&Rn===0&&(xn=-1/0),xn<=yn&&xn<=jr&&(on=Cr[Rn],yn=xn);return on}function zt(Cr){return Cr?{xa:Cr.xa,ya:Cr.ya,x:Cr.xSpike!==void 0?Cr.xSpike:(Cr.x0+Cr.x1)/2,y:Cr.ySpike!==void 0?Cr.ySpike:(Cr.y0+Cr.y1)/2,distance:Cr.distance,spikeDistance:Cr.spikeDistance,curveNumber:Cr.trace.index,color:Cr.color,pointNumber:Cr.index}:null}var Kt={fullLayout:ve,container:ve._hoverlayer,event:le},Sr=re._spikepoints,yt={vLinePoint:Me.vLinePoint,hLinePoint:Me.hLinePoint};re._spikepoints=yt;var Zt=function(){tt.sort(function(Cr,jr){return Cr.distance-jr.distance}),tt=he(tt,We)};Zt();var $t=We.charAt(0),mr=($t==="x"||$t==="y")&&tt[0]&&i[tt[0].trace.type];if(Ae&&et!==0&&tt.length!==0){var ur=tt.filter(function(Cr){return Cr.ya.showspikes}),pt=At(ur,et,mr);Me.hLinePoint=zt(pt);var st=tt.filter(function(Cr){return Cr.xa.showspikes}),xt=At(st,et,mr);Me.vLinePoint=zt(xt)}if(tt.length===0){var St=l.unhoverRaw(re,le);return Ae&&(Me.hLinePoint!==null||Me.vLinePoint!==null)&&ae(Sr)&&Y(re,Me,Kt),St}if(Ae&&ae(Sr)&&Y(re,Me,Kt),m.isXYhover(Fe)&&tt[0].length!==0&&tt[0].trace.type!=="splom"){var Dt=tt[0];T[Dt.trace.type]?tt=tt.filter(function(Cr){return Cr.trace.index===Dt.trace.index}):tt=[Dt];var Rt=tt.length,Bt=q("x",Dt,ve),Nt=q("y",Dt,ve);qt(Bt,Nt);var Xt=[],lr={},sr=0,dr=function(Cr){var jr=T[Cr.trace.type]?b(Cr):Cr.trace.index;if(!lr[jr])sr++,lr[jr]=sr,Xt.push(Cr);else{var Hr=lr[jr]-1,on=Xt[Hr];Hr>0&&Math.abs(Cr.distance)<Math.abs(on.distance)&&(Xt[Hr]=Cr)}},Ye;for(Ye=0;Ye<Rt;Ye++)dr(tt[Ye]);for(Ye=tt.length-1;Ye>Rt-1;Ye--)dr(tt[Ye]);tt=Xt,Zt()}var je=re._hoverdata,It=[],kt=Z(re),jt=$(re);for(gt=0;gt<tt.length;gt++){var tr=tt[gt],or=m.makeEventData(tr,tr.trace,tr.cd);if(tr.hovertemplate!==!1){var rr=!1;tr.cd[tr.index]&&tr.cd[tr.index].ht&&(rr=tr.cd[tr.index].ht),tr.hovertemplate=rr||tr.trace.hovertemplate||!1}if(tr.xa&&tr.ya){var _t=tr.x0+tr.xa._offset,hr=tr.x1+tr.xa._offset,gr=tr.y0+tr.ya._offset,pr=tr.y1+tr.ya._offset,vr=Math.min(_t,hr),Gr=Math.max(_t,hr),Fr=Math.min(gr,pr),_r=Math.max(gr,pr);or.bbox={x0:vr+jt,x1:Gr+jt,y0:Fr+kt,y1:_r+kt}}tr.eventData=[or],It.push(or)}re._hoverdata=It;var gn=We==="y"&&(at.length>1||tt.length>1)||We==="closest"&&Pe&&tt.length>1,tn=n.combine(ve.plot_bgcolor||n.background,ve.paper_bgcolor),Bn=F(tt,{gd:re,hovermode:We,rotateLabels:gn,bgColor:tn,container:ve._hoverlayer,outerContainer:ve._paper.node(),commonLabelOpts:ve.hoverlabel,hoverdistance:ve.hoverdistance}),An=Bn.hoverLabels;if(m.isUnifiedHover(We)||(_(An,gn,ve,Bn.commonLabelBoundingBox),z(An,gn,ve._invScaleX,ve._invScaleY)),ue&&ue.tagName){var Mr=f.getComponentMethod("annotations","hasClickToShow")(re,It);r(p.select(ue),Mr?"pointer":"")}!ue||ee||!J(re,le,je)||(je&&re.emit("plotly_unhover",{event:le,points:je}),re.emit("plotly_hover",{event:le,points:re._hoverdata,xaxes:Le,yaxes:we,xvals:ct,yvals:dt}))}function b(re){return[re.trace.index,re.index,re.x0,re.y0,re.name,re.attr,re.xa?re.xa._id:"",re.ya?re.ya._id:""].join(",")}var O=/<extra>([\s\S]*)<\/extra>/;function F(re,le){var te=le.gd,ee=te._fullLayout,ue=le.hovermode,se=le.rotateLabels,ve=le.bgColor,be=le.container,Ee=le.outerContainer,Ae=le.commonLabelOpts||{};if(re.length===0)return[[]];var Oe=le.fontFamily||v.HOVERFONT,Ue=le.fontSize||v.HOVERFONTSIZE,Le=re[0],we=Le.xa,Ce=Le.ya,Ve=ue.charAt(0),Ne=Ve+"Label",ke=Le[Ne];if(ke===void 0&&we.type==="multicategory")for(var We=0;We<re.length&&(ke=re[We][Ne],ke===void 0);We++);var rt=K(te,Ee),et=rt.top,tt=rt.width,at=rt.height,ct=ke!==void 0&&Le.distance<=le.hoverdistance&&(ue==="x"||ue==="y");if(ct){var dt=!0,gt,Et;for(gt=0;gt<re.length;gt++)if(dt&&re[gt].zLabel===void 0&&(dt=!1),Et=re[gt].hoverinfo||re[gt].trace.hoverinfo,Et){var Ct=Array.isArray(Et)?Et:Et.split("+");if(Ct.indexOf("all")===-1&&Ct.indexOf(ue)===-1){ct=!1;break}}dt&&(ct=!1)}var Vt=be.selectAll("g.axistext").data(ct?[0]:[]);Vt.enter().append("g").classed("axistext",!0),Vt.exit().remove();var Je={minX:0,maxX:0,minY:0,maxY:0};if(Vt.each(function(){var Rt=p.select(this),Bt=C.ensureSingle(Rt,"path","",function(Fr){Fr.style({"stroke-width":"1px"})}),Nt=C.ensureSingle(Rt,"text","",function(Fr){Fr.attr("data-notex",1)}),Xt=Ae.bgcolor||n.defaultLine,lr=Ae.bordercolor||n.contrast(Xt),sr=n.contrast(Xt),dr={family:Ae.font.family||Oe,size:Ae.font.size||Ue,color:Ae.font.color||sr};Bt.style({fill:Xt,stroke:lr}),Nt.text(ke).call(s.font,dr).call(t.positionText,0,0).call(t.convertToTspans,te),Rt.attr("transform","");var Ye=K(te,Nt.node()),je,It;if(ue==="x"){var kt=we.side==="top"?"-":"";Nt.attr("text-anchor","middle").call(t.positionText,0,we.side==="top"?et-Ye.bottom-x-E:et-Ye.top+x+E),je=we._offset+(Le.x0+Le.x1)/2,It=Ce._offset+(we.side==="top"?0:Ce._length);var jt=Ye.width/2+E;je<jt?(je=jt,Bt.attr("d","M-"+(jt-x)+",0L-"+(jt-x*2)+","+kt+x+"H"+jt+"v"+kt+(E*2+Ye.height)+"H-"+jt+"V"+kt+x+"Z")):je>ee.width-jt?(je=ee.width-jt,Bt.attr("d","M"+(jt-x)+",0L"+jt+","+kt+x+"v"+kt+(E*2+Ye.height)+"H-"+jt+"V"+kt+x+"H"+(jt-x*2)+"Z")):Bt.attr("d","M0,0L"+x+","+kt+x+"H"+jt+"v"+kt+(E*2+Ye.height)+"H-"+jt+"V"+kt+x+"H-"+x+"Z"),Je.minX=je-jt,Je.maxX=je+jt,we.side==="top"?(Je.minY=It-(E*2+Ye.height),Je.maxY=It-E):(Je.minY=It+E,Je.maxY=It+(E*2+Ye.height))}else{var tr,or,rr;Ce.side==="right"?(tr="start",or=1,rr="",je=we._offset+we._length):(tr="end",or=-1,rr="-",je=we._offset),It=Ce._offset+(Le.y0+Le.y1)/2,Nt.attr("text-anchor",tr),Bt.attr("d","M0,0L"+rr+x+","+x+"V"+(E+Ye.height/2)+"h"+rr+(E*2+Ye.width)+"V-"+(E+Ye.height/2)+"H"+rr+x+"V-"+x+"Z"),Je.minY=It-(E+Ye.height/2),Je.maxY=It+(E+Ye.height/2),Ce.side==="right"?(Je.minX=je+x,Je.maxX=je+x+(E*2+Ye.width)):(Je.minX=je-x-(E*2+Ye.width),Je.maxX=je-x);var _t=Ye.height/2,hr=et-Ye.top-_t,gr="clip"+ee._uid+"commonlabel"+Ce._id,pr;if(je<Ye.width+2*E+x){pr="M-"+(x+E)+"-"+_t+"h-"+(Ye.width-E)+"V"+_t+"h"+(Ye.width-E)+"Z";var vr=Ye.width-je+E;t.positionText(Nt,vr,hr),tr==="end"&&Nt.selectAll("tspan").each(function(){var Fr=p.select(this),_r=s.tester.append("text").text(Fr.text()).call(s.font,dr),gn=K(te,_r.node());Math.round(gn.width)<Math.round(Ye.width)&&Fr.attr("x",vr-gn.width),_r.remove()})}else t.positionText(Nt,or*(E+x),hr),pr=null;var Gr=ee._topclips.selectAll("#"+gr).data(pr?[0]:[]);Gr.enter().append("clipPath").attr("id",gr).append("path"),Gr.exit().remove(),Gr.select("path").attr("d",pr),s.setClipUrl(Nt,pr?gr:null,te)}Rt.attr("transform",w(je,It))}),m.isUnifiedHover(ue)){be.selectAll("g.hovertext").remove();var _e=re.filter(function(Rt){return Rt.hoverinfo!=="none"});if(_e.length===0)return[];var Fe=ee.hoverlabel,Be=Fe.font,De={showlegend:!0,legend:{title:{text:ke,font:Be},font:Be,bgcolor:Fe.bgcolor,bordercolor:Fe.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ee.legend?ee.legend.traceorder:void 0,orientation:"v"}},Te={font:Be};A(De,Te,te._fullData);var xe=Te.legend;xe.entries=[];for(var Me=0;Me<_e.length;Me++){var Pe=_e[Me];if(Pe.hoverinfo!=="none"){var He=V(Pe,!0,ue,ee,ke),Ke=He[0],qe=He[1];Pe.name=qe,qe!==""?Pe.text=qe+" : "+Ke:Pe.text=Ke;var vt=Pe.cd[Pe.index];vt&&(vt.mc&&(Pe.mc=vt.mc),vt.mcc&&(Pe.mc=vt.mcc),vt.mlc&&(Pe.mlc=vt.mlc),vt.mlcc&&(Pe.mlc=vt.mlcc),vt.mlw&&(Pe.mlw=vt.mlw),vt.mrc&&(Pe.mrc=vt.mrc),vt.dir&&(Pe.dir=vt.dir)),Pe._distinct=!0,xe.entries.push([Pe])}}xe.entries.sort(function(Rt,Bt){return Rt[0].trace.index-Bt[0].trace.index}),xe.layer=be,xe._inHover=!0,xe._groupTitleFont=Fe.grouptitlefont,d(te,xe);var bt=be.select("g.legend"),Wt=K(te,bt.node()),qt=Wt.width+2*E,At=Wt.height+2*E,zt=_e[0],Kt=(zt.x0+zt.x1)/2,Sr=(zt.y0+zt.y1)/2,yt=!(f.traceIs(zt.trace,"bar-like")||f.traceIs(zt.trace,"box-violin")),Zt,$t;Ve==="y"?yt?($t=Sr-E,Zt=Sr+E):($t=Math.min.apply(null,_e.map(function(Rt){return Math.min(Rt.y0,Rt.y1)})),Zt=Math.max.apply(null,_e.map(function(Rt){return Math.max(Rt.y0,Rt.y1)}))):$t=Zt=C.mean(_e.map(function(Rt){return(Rt.y0+Rt.y1)/2}))-At/2;var mr,ur;Ve==="x"?yt?(mr=Kt+E,ur=Kt-E):(mr=Math.max.apply(null,_e.map(function(Rt){return Math.max(Rt.x0,Rt.x1)})),ur=Math.min.apply(null,_e.map(function(Rt){return Math.min(Rt.x0,Rt.x1)}))):mr=ur=C.mean(_e.map(function(Rt){return(Rt.x0+Rt.x1)/2}))-qt/2;var pt=we._offset,st=Ce._offset;Zt+=st,mr+=pt,ur+=pt-qt,$t+=st-At;var xt,St;return mr+qt<tt&&mr>=0?xt=mr:ur+qt<tt&&ur>=0?xt=ur:pt+qt<tt?xt=pt:mr-Kt<Kt-ur+qt?xt=tt-qt:xt=0,xt+=E,Zt+At<at&&Zt>=0?St=Zt:$t+At<at&&$t>=0?St=$t:st+At<at?St=st:Zt-Sr<Sr-$t+At?St=at-At:St=0,St+=E,bt.attr("transform",w(xt-1,St-1)),bt}var Dt=be.selectAll("g.hovertext").data(re,function(Rt){return b(Rt)});return Dt.enter().append("g").classed("hovertext",!0).each(function(){var Rt=p.select(this);Rt.append("rect").call(n.fill,n.addOpacity(ve,.8)),Rt.append("text").classed("name",!0),Rt.append("path").style("stroke-width","1px"),Rt.append("text").classed("nums",!0).call(s.font,Oe,Ue)}),Dt.exit().remove(),Dt.each(function(Rt){var Bt=p.select(this).attr("transform",""),Nt=Rt.color;Array.isArray(Nt)&&(Nt=Nt[Rt.eventData[0].pointNumber]);var Xt=Rt.bgcolor||Nt,lr=n.combine(n.opacity(Xt)?Xt:n.defaultLine,ve),sr=n.combine(n.opacity(Nt)?Nt:n.defaultLine,ve),dr=Rt.borderColor||n.contrast(lr),Ye=V(Rt,ct,ue,ee,ke,Bt),je=Ye[0],It=Ye[1],kt=Bt.select("text.nums").call(s.font,Rt.fontFamily||Oe,Rt.fontSize||Ue,Rt.fontColor||dr).text(je).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,te),jt=Bt.select("text.name"),tr=0,or=0;if(It&&It!==je){jt.call(s.font,Rt.fontFamily||Oe,Rt.fontSize||Ue,sr).text(It).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,te);var rr=K(te,jt.node());tr=rr.width+2*E,or=rr.height+2*E}else jt.remove(),Bt.select("rect").remove();Bt.select("path").style({fill:lr,stroke:dr});var _t=Rt.xa._offset+(Rt.x0+Rt.x1)/2,hr=Rt.ya._offset+(Rt.y0+Rt.y1)/2,gr=Math.abs(Rt.x1-Rt.x0),pr=Math.abs(Rt.y1-Rt.y0),vr=K(te,kt.node()),Gr=vr.width/ee._invScaleX,Fr=vr.height/ee._invScaleY;Rt.ty0=(et-vr.top)/ee._invScaleY,Rt.bx=Gr+2*E,Rt.by=Math.max(Fr+2*E,or),Rt.anchor="start",Rt.txwidth=Gr,Rt.tx2width=tr,Rt.offset=0;var _r=(Gr+x+E+tr)*ee._invScaleX,gn,tn;if(se)Rt.pos=_t,gn=hr+pr/2+_r<=at,tn=hr-pr/2-_r>=0,(Rt.idealAlign==="top"||!gn)&&tn?(hr-=pr/2,Rt.anchor="end"):gn?(hr+=pr/2,Rt.anchor="start"):Rt.anchor="middle",Rt.crossPos=hr;else{if(Rt.pos=hr,gn=_t+gr/2+_r<=tt,tn=_t-gr/2-_r>=0,(Rt.idealAlign==="left"||!gn)&&tn)_t-=gr/2,Rt.anchor="end";else if(gn)_t+=gr/2,Rt.anchor="start";else{Rt.anchor="middle";var Bn=_r/2,An=_t+Bn-tt,Mr=_t-Bn;An>0&&(_t-=An),Mr<0&&(_t+=-Mr)}Rt.crossPos=_t}kt.attr("text-anchor",Rt.anchor),tr&&jt.attr("text-anchor",Rt.anchor),Bt.attr("transform",w(_t,hr)+(se?h(u):""))}),{hoverLabels:Dt,commonLabelBoundingBox:Je}}function V(re,le,te,ee,ue,se){var ve="",be="";re.nameOverride!==void 0&&(re.name=re.nameOverride),re.name&&(re.trace._meta&&(re.name=C.templateString(re.name,re.trace._meta)),ve=oe(re.name,re.nameLength));var Ee=te.charAt(0),Ae=Ee==="x"?"y":"x";re.zLabel!==void 0?(re.xLabel!==void 0&&(be+="x: "+re.xLabel+"<br>"),re.yLabel!==void 0&&(be+="y: "+re.yLabel+"<br>"),re.trace.type!=="choropleth"&&re.trace.type!=="choroplethmapbox"&&(be+=(be?"z: ":"")+re.zLabel)):le&&re[Ee+"Label"]===ue?be=re[Ae+"Label"]||"":re.xLabel===void 0?re.yLabel!==void 0&&re.trace.type!=="scattercarpet"&&(be=re.yLabel):re.yLabel===void 0?be=re.xLabel:be="("+re.xLabel+", "+re.yLabel+")",(re.text||re.text===0)&&!Array.isArray(re.text)&&(be+=(be?"<br>":"")+re.text),re.extraText!==void 0&&(be+=(be?"<br>":"")+re.extraText),se&&be===""&&!re.hovertemplate&&(ve===""&&se.remove(),be=ve);var Oe=re.hovertemplate||!1;if(Oe){var Ue=re.hovertemplateLabels||re;re[Ee+"Label"]!==ue&&(Ue[Ee+"other"]=Ue[Ee+"Val"],Ue[Ee+"otherLabel"]=Ue[Ee+"Label"]),be=C.hovertemplateString(Oe,Ue,ee._d3locale,re.eventData[0]||{},re.trace._meta),be=be.replace(O,function(Le,we){return ve=oe(we,re.nameLength),""})}return[be,ve]}function _(re,le,te,ee){var ue=le?"xa":"ya",se=le?"ya":"xa",ve=0,be=1,Ee=re.size(),Ae=new Array(Ee),Oe=0,Ue=ee.minX,Le=ee.maxX,we=ee.minY,Ce=ee.maxY,Ve=function(Be){return Be*te._invScaleX},Ne=function(Be){return Be*te._invScaleY};re.each(function(Be){var De=Be[ue],Te=Be[se],xe=De._id.charAt(0)==="x",Me=De.range;Oe===0&&Me&&Me[0]>Me[1]!==xe&&(be=-1);var Pe=0,He=xe?te.width:te.height;if(te.hovermode==="x"||te.hovermode==="y"){var Ke=U(Be,le),qe=Be.anchor,vt=qe==="end"?-1:1,bt,Wt;if(qe==="middle")bt=Be.crossPos+(xe?Ne(Ke.y-Be.by/2):Ve(Be.bx/2+Be.tx2width/2)),Wt=bt+(xe?Ne(Be.by):Ve(Be.bx));else if(xe)bt=Be.crossPos+Ne(x+Ke.y)-Ne(Be.by/2-x),Wt=bt+Ne(Be.by);else{var qt=Ve(vt*x+Ke.x),At=qt+Ve(vt*Be.bx);bt=Be.crossPos+Math.min(qt,At),Wt=Be.crossPos+Math.max(qt,At)}xe?we!==void 0&&Ce!==void 0&&Math.min(Wt,Ce)-Math.max(bt,we)>1&&(Te.side==="left"?(Pe=Te._mainLinePosition,He=te.width):He=Te._mainLinePosition):Ue!==void 0&&Le!==void 0&&Math.min(Wt,Le)-Math.max(bt,Ue)>1&&(Te.side==="top"?(Pe=Te._mainLinePosition,He=te.height):He=Te._mainLinePosition)}Ae[Oe++]=[{datum:Be,traceIndex:Be.trace.index,dp:0,pos:Be.pos,posref:Be.posref,size:Be.by*(xe?M:1)/2,pmin:Pe,pmax:He}]}),Ae.sort(function(Be,De){return Be[0].posref-De[0].posref||be*(De[0].traceIndex-Be[0].traceIndex)});var ke,We,rt,et,tt,at,ct;function dt(Be){var De=Be[0],Te=Be[Be.length-1];if(We=De.pmin-De.pos-De.dp+De.size,rt=Te.pos+Te.dp+Te.size-De.pmax,We>.01){for(tt=Be.length-1;tt>=0;tt--)Be[tt].dp+=We;ke=!1}if(!(rt<.01)){if(We<-.01){for(tt=Be.length-1;tt>=0;tt--)Be[tt].dp-=rt;ke=!1}if(ke){var xe=0;for(et=0;et<Be.length;et++)at=Be[et],at.pos+at.dp+at.size>De.pmax&&xe++;for(et=Be.length-1;et>=0&&!(xe<=0);et--)at=Be[et],at.pos>De.pmax-1&&(at.del=!0,xe--);for(et=0;et<Be.length&&!(xe<=0);et++)if(at=Be[et],at.pos<De.pmin+1)for(at.del=!0,xe--,rt=at.size*2,tt=Be.length-1;tt>=0;tt--)Be[tt].dp-=rt;for(et=Be.length-1;et>=0&&!(xe<=0);et--)at=Be[et],at.pos+at.dp+at.size>De.pmax&&(at.del=!0,xe--)}}}for(;!ke&&ve<=Ee;){for(ve++,ke=!0,et=0;et<Ae.length-1;){var gt=Ae[et],Et=Ae[et+1],Ct=gt[gt.length-1],Vt=Et[0];if(We=Ct.pos+Ct.dp+Ct.size-Vt.pos-Vt.dp+Vt.size,We>.01&&Ct.pmin===Vt.pmin&&Ct.pmax===Vt.pmax){for(tt=Et.length-1;tt>=0;tt--)Et[tt].dp+=We;for(gt.push.apply(gt,Et),Ae.splice(et+1,1),ct=0,tt=gt.length-1;tt>=0;tt--)ct+=gt[tt].dp;for(rt=ct/gt.length,tt=gt.length-1;tt>=0;tt--)gt[tt].dp-=rt;ke=!1}else et++}Ae.forEach(dt)}for(et=Ae.length-1;et>=0;et--){var Je=Ae[et];for(tt=Je.length-1;tt>=0;tt--){var _e=Je[tt],Fe=_e.datum;Fe.offset=_e.dp,Fe.del=_e.del}}}function U(re,le){var te=0,ee=re.offset;return le&&(ee*=-R,te=re.offset*S),{x:te,y:ee}}function H(re){var le={start:1,end:-1,middle:0}[re.anchor],te=le*(x+E),ee=te+le*(re.txwidth+E),ue=re.anchor==="middle";return ue&&(te-=re.tx2width/2,ee+=re.txwidth/2+E),{alignShift:le,textShiftX:te,text2ShiftX:ee}}function z(re,le,te,ee){var ue=function(ve){return ve*te},se=function(ve){return ve*ee};re.each(function(ve){var be=p.select(this);if(ve.del)return be.remove();var Ee=be.select("text.nums"),Ae=ve.anchor,Oe=Ae==="end"?-1:1,Ue=H(ve),Le=U(ve,le),we=Le.x,Ce=Le.y,Ve=Ae==="middle";be.select("path").attr("d",Ve?"M-"+ue(ve.bx/2+ve.tx2width/2)+","+se(Ce-ve.by/2)+"h"+ue(ve.bx)+"v"+se(ve.by)+"h-"+ue(ve.bx)+"Z":"M0,0L"+ue(Oe*x+we)+","+se(x+Ce)+"v"+se(ve.by/2-x)+"h"+ue(Oe*ve.bx)+"v-"+se(ve.by)+"H"+ue(Oe*x+we)+"V"+se(Ce-x)+"Z");var Ne=we+Ue.textShiftX,ke=Ce+ve.ty0-ve.by/2+E,We=ve.textAlign||"auto";We!=="auto"&&(We==="left"&&Ae!=="start"?(Ee.attr("text-anchor","start"),Ne=Ve?-ve.bx/2-ve.tx2width/2+E:-ve.bx-E):We==="right"&&Ae!=="end"&&(Ee.attr("text-anchor","end"),Ne=Ve?ve.bx/2-ve.tx2width/2-E:ve.bx+E)),Ee.call(t.positionText,ue(Ne),se(ke)),ve.tx2width&&(be.select("text.name").call(t.positionText,ue(Ue.text2ShiftX+Ue.alignShift*E+we),se(Ce+ve.ty0-ve.by/2+E)),be.select("rect").call(s.setRect,ue(Ue.text2ShiftX+(Ue.alignShift-1)*ve.tx2width/2+we),se(Ce-ve.by/2-1),ue(ve.tx2width),se(ve.by+2)))})}function G(re,le){var te=re.index,ee=re.trace||{},ue=re.cd[0],se=re.cd[te]||{};function ve(Le){return Le||L(Le)&&Le===0}var be=Array.isArray(te)?function(Le,we){var Ce=C.castOption(ue,te,Le);return ve(Ce)?Ce:C.extractOption({},ee,"",we)}:function(Le,we){return C.extractOption(se,ee,Le,we)};function Ee(Le,we,Ce){var Ve=be(we,Ce);ve(Ve)&&(re[Le]=Ve)}if(Ee("hoverinfo","hi","hoverinfo"),Ee("bgcolor","hbg","hoverlabel.bgcolor"),Ee("borderColor","hbc","hoverlabel.bordercolor"),Ee("fontFamily","htf","hoverlabel.font.family"),Ee("fontSize","hts","hoverlabel.font.size"),Ee("fontColor","htc","hoverlabel.font.color"),Ee("nameLength","hnl","hoverlabel.namelength"),Ee("textAlign","hta","hoverlabel.align"),re.posref=le==="y"||le==="closest"&&ee.orientation==="h"?re.xa._offset+(re.x0+re.x1)/2:re.ya._offset+(re.y0+re.y1)/2,re.x0=C.constrain(re.x0,0,re.xa._length),re.x1=C.constrain(re.x1,0,re.xa._length),re.y0=C.constrain(re.y0,0,re.ya._length),re.y1=C.constrain(re.y1,0,re.ya._length),re.xLabelVal!==void 0&&(re.xLabel="xLabel"in re?re.xLabel:c.hoverLabelText(re.xa,re.xLabelVal,ee.xhoverformat),re.xVal=re.xa.c2d(re.xLabelVal)),re.yLabelVal!==void 0&&(re.yLabel="yLabel"in re?re.yLabel:c.hoverLabelText(re.ya,re.yLabelVal,ee.yhoverformat),re.yVal=re.ya.c2d(re.yLabelVal)),re.zLabelVal!==void 0&&re.zLabel===void 0&&(re.zLabel=String(re.zLabelVal)),!isNaN(re.xerr)&&!(re.xa.type==="log"&&re.xerr<=0)){var Ae=c.tickText(re.xa,re.xa.c2l(re.xerr),"hover").text;re.xerrneg!==void 0?re.xLabel+=" +"+Ae+" / -"+c.tickText(re.xa,re.xa.c2l(re.xerrneg),"hover").text:re.xLabel+=" ± "+Ae,le==="x"&&(re.distance+=1)}if(!isNaN(re.yerr)&&!(re.ya.type==="log"&&re.yerr<=0)){var Oe=c.tickText(re.ya,re.ya.c2l(re.yerr),"hover").text;re.yerrneg!==void 0?re.yLabel+=" +"+Oe+" / -"+c.tickText(re.ya,re.ya.c2l(re.yerrneg),"hover").text:re.yLabel+=" ± "+Oe,le==="y"&&(re.distance+=1)}var Ue=re.hoverinfo||re.trace.hoverinfo;return Ue&&Ue!=="all"&&(Ue=Array.isArray(Ue)?Ue:Ue.split("+"),Ue.indexOf("x")===-1&&(re.xLabel=void 0),Ue.indexOf("y")===-1&&(re.yLabel=void 0),Ue.indexOf("z")===-1&&(re.zLabel=void 0),Ue.indexOf("text")===-1&&(re.text=void 0),Ue.indexOf("name")===-1&&(re.name=void 0)),re}function Y(re,le,te){var ee=te.container,ue=te.fullLayout,se=ue._size,ve=te.event,be=!!le.hLinePoint,Ee=!!le.vLinePoint,Ae,Oe;if(ee.selectAll(".spikeline").remove(),!!(Ee||be)){var Ue=n.combine(ue.plot_bgcolor,ue.paper_bgcolor);if(be){var Le=le.hLinePoint,we,Ce;Ae=Le&&Le.xa,Oe=Le&&Le.ya;var Ve=Oe.spikesnap;Ve==="cursor"?(we=ve.pointerX,Ce=ve.pointerY):(we=Ae._offset+Le.x,Ce=Oe._offset+Le.y);var Ne=a.readability(Le.color,Ue)<1.5?n.contrast(Ue):Le.color,ke=Oe.spikemode,We=Oe.spikethickness,rt=Oe.spikecolor||Ne,et=c.getPxPosition(re,Oe),tt,at;if(ke.indexOf("toaxis")!==-1||ke.indexOf("across")!==-1){if(ke.indexOf("toaxis")!==-1&&(tt=et,at=we),ke.indexOf("across")!==-1){var ct=Oe._counterDomainMin,dt=Oe._counterDomainMax;Oe.anchor==="free"&&(ct=Math.min(ct,Oe.position),dt=Math.max(dt,Oe.position)),tt=se.l+ct*se.w,at=se.l+dt*se.w}ee.insert("line",":first-child").attr({x1:tt,x2:at,y1:Ce,y2:Ce,"stroke-width":We,stroke:rt,"stroke-dasharray":s.dashStyle(Oe.spikedash,We)}).classed("spikeline",!0).classed("crisp",!0),ee.insert("line",":first-child").attr({x1:tt,x2:at,y1:Ce,y2:Ce,"stroke-width":We+2,stroke:Ue}).classed("spikeline",!0).classed("crisp",!0)}ke.indexOf("marker")!==-1&&ee.insert("circle",":first-child").attr({cx:et+(Oe.side!=="right"?We:-We),cy:Ce,r:We,fill:rt}).classed("spikeline",!0)}if(Ee){var gt=le.vLinePoint,Et,Ct;Ae=gt&&gt.xa,Oe=gt&&gt.ya;var Vt=Ae.spikesnap;Vt==="cursor"?(Et=ve.pointerX,Ct=ve.pointerY):(Et=Ae._offset+gt.x,Ct=Oe._offset+gt.y);var Je=a.readability(gt.color,Ue)<1.5?n.contrast(Ue):gt.color,_e=Ae.spikemode,Fe=Ae.spikethickness,Be=Ae.spikecolor||Je,De=c.getPxPosition(re,Ae),Te,xe;if(_e.indexOf("toaxis")!==-1||_e.indexOf("across")!==-1){if(_e.indexOf("toaxis")!==-1&&(Te=De,xe=Ct),_e.indexOf("across")!==-1){var Me=Ae._counterDomainMin,Pe=Ae._counterDomainMax;Ae.anchor==="free"&&(Me=Math.min(Me,Ae.position),Pe=Math.max(Pe,Ae.position)),Te=se.t+(1-Pe)*se.h,xe=se.t+(1-Me)*se.h}ee.insert("line",":first-child").attr({x1:Et,x2:Et,y1:Te,y2:xe,"stroke-width":Fe,stroke:Be,"stroke-dasharray":s.dashStyle(Ae.spikedash,Fe)}).classed("spikeline",!0).classed("crisp",!0),ee.insert("line",":first-child").attr({x1:Et,x2:Et,y1:Te,y2:xe,"stroke-width":Fe+2,stroke:Ue}).classed("spikeline",!0).classed("crisp",!0)}_e.indexOf("marker")!==-1&&ee.insert("circle",":first-child").attr({cx:Et,cy:De-(Ae.side!=="top"?Fe:-Fe),r:Fe,fill:Be}).classed("spikeline",!0)}}}function J(re,le,te){if(!te||te.length!==re._hoverdata.length)return!0;for(var ee=te.length-1;ee>=0;ee--){var ue=te[ee],se=re._hoverdata[ee];if(ue.curveNumber!==se.curveNumber||String(ue.pointNumber)!==String(se.pointNumber)||String(ue.pointNumbers)!==String(se.pointNumbers))return!0}return!1}function ae(re,le){return!le||le.vLinePoint!==re._spikepoints.vLinePoint||le.hLinePoint!==re._spikepoints.hLinePoint}function oe(re,le){return t.plainText(re||"",{len:le,allowedTags:["br","sub","sup","b","i","em"]})}function he(re,le){for(var te=le.charAt(0),ee=[],ue=[],se=[],ve=0;ve<re.length;ve++){var be=re[ve];f.traceIs(be.trace,"bar-like")||f.traceIs(be.trace,"box-violin")?se.push(be):be.trace[te+"period"]?ue.push(be):ee.push(be)}return ee.concat(ue).concat(se)}function q(re,le,te){var ee=le[re+"a"],ue=le[re+"Val"],se=le.cd[0];if(ee.type==="category"||ee.type==="multicategory")ue=ee._categoriesMap[ue];else if(ee.type==="date"){var ve=le.trace[re+"periodalignment"];if(ve){var be=le.cd[le.index],Ee=be[re+"Start"];Ee===void 0&&(Ee=be[re]);var Ae=be[re+"End"];Ae===void 0&&(Ae=be[re]);var Oe=Ae-Ee;ve==="end"?ue+=Oe:ve==="middle"&&(ue+=Oe/2)}ue=ee.d2c(ue)}return se&&se.t&&se.t.posLetter===ee._id&&(te.boxmode==="group"||te.violinmode==="group")&&(ue+=se.t.dPos),ue}function Z(re){return re.offsetTop+re.clientTop}function $(re){return re.offsetLeft+re.clientLeft}function K(re,le){var te=re._fullLayout,ee=le.getBoundingClientRect(),ue=ee.left,se=ee.top,ve=ue+ee.width,be=se+ee.height,Ee=C.apply3DTransform(te._invTransform)(ue,se),Ae=C.apply3DTransform(te._invTransform)(ve,be),Oe=Ee[0],Ue=Ee[1],Le=Ae[0],we=Ae[1];return{x:Oe,y:Ue,width:Le-Oe,height:we-Ue,top:Math.min(Ue,we),left:Math.min(Oe,Le),right:Math.max(Oe,Le),bottom:Math.max(Ue,we)}}},38048:function(B,N,e){var p=e(71828),L=e(7901),a=e(23469).isUnifiedHover;B.exports=function(w,h,g,t){t=t||{};var r=h.legend;function s(n){t.font[n]||(t.font[n]=r?h.legend.font[n]:h.font[n])}h&&a(h.hovermode)&&(t.font||(t.font={}),s("size"),s("family"),s("color"),r?(t.bgcolor||(t.bgcolor=L.combine(h.legend.bgcolor,h.paper_bgcolor)),t.bordercolor||(t.bordercolor=h.legend.bordercolor)):t.bgcolor||(t.bgcolor=h.paper_bgcolor)),g("hoverlabel.bgcolor",t.bgcolor),g("hoverlabel.bordercolor",t.bordercolor),g("hoverlabel.namelength",t.namelength),p.coerceFont(g,"hoverlabel.font",t.font),g("hoverlabel.align",t.align)}},98212:function(B,N,e){var p=e(71828),L=e(528);B.exports=function(C,w){function h(g,t){return w[g]!==void 0?w[g]:p.coerce(C,w,L,g,t)}return h("clickmode"),h("hovermode")}},30211:function(B,N,e){var p=e(39898),L=e(71828),a=e(28569),C=e(23469),w=e(528),h=e(88335);B.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:w},attributes:e(77914),layoutAttributes:w,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:h.hover,unhover:a.unhover,loneHover:h.loneHover,loneUnhover:g,click:e(75914)};function g(s){var n=L.isD3Selection(s)?s:p.select(s);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function t(s,n,l){return L.castOption(s,n,"hoverlabel."+l)}function r(s,n,l){function c(f){return L.coerceHoverinfo({hoverinfo:f},{_module:s._module},n)}return L.castOption(s,l,"hoverinfo",c)}},528:function(B,N,e){var p=e(26675),L=e(41940),a=L({editType:"none"});a.family.dflt=p.HOVERFONT,a.size.dflt=p.HOVERFONTSIZE,B.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:L({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(B,N,e){var p=e(71828),L=e(528),a=e(98212),C=e(38048);B.exports=function(h,g){function t(f,m){return p.coerce(h,g,L,f,m)}var r=a(h,g);r&&(t("hoverdistance"),t("spikedistance"));var s=t("dragmode");s==="select"&&t("selectdirection");var n=g._has("mapbox"),l=g._has("geo"),c=g._basePlotModules.length;g.dragmode==="zoom"&&((n||l)&&c===1||n&&l&&c===2)&&(g.dragmode="pan"),C(h,g,t),p.coerceFont(t,"hoverlabel.grouptitlefont",g.hoverlabel.font)}},22774:function(B,N,e){var p=e(71828),L=e(38048),a=e(528);B.exports=function(w,h){function g(t,r){return p.coerce(w,h,a,t,r)}L(w,h,g)}},83312:function(B,N,e){var p=e(71828),L=e(30587).counter,a=e(27670).Y,C=e(85555).idRegex,w=e(44467),h={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[L("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function g(l,c,f){var m=c[f+"axes"],v=Object.keys((l._splomAxes||{})[f]||{});if(Array.isArray(m))return m;if(v.length)return v}function t(l,c){var f=l.grid||{},m=g(c,f,"x"),v=g(c,f,"y");if(!l.grid&&!m&&!v)return;var A=Array.isArray(f.subplots)&&Array.isArray(f.subplots[0]),d=Array.isArray(m),u=Array.isArray(v),y=d&&m!==f.xaxes&&u&&v!==f.yaxes,M,S;A?(M=f.subplots.length,S=f.subplots[0].length):(u&&(M=v.length),d&&(S=m.length));var R=w.newContainer(c,"grid");function x(U,H){return p.coerce(f,R,h,U,H)}var E=x("rows",M),T=x("columns",S);if(!(E*T>1)){delete c.grid;return}if(!A&&!d&&!u){var i=x("pattern")==="independent";i&&(A=!0)}R._hasSubplotGrid=A;var D=x("roworder"),b=D==="top to bottom",O=A?.2:.1,F=A?.3:.1,V,_;y&&c._splomGridDflt&&(V=c._splomGridDflt.xside,_=c._splomGridDflt.yside),R._domains={x:r("x",x,O,V,T),y:r("y",x,F,_,E,b)}}function r(l,c,f,m,v,A){var d=c(l+"gap",f),u=c("domain."+l);c(l+"side",m);for(var y=new Array(v),M=u[0],S=(u[1]-M)/(v-d),R=S*(1-d),x=0;x<v;x++){var E=M+S*x;y[A?v-1-x:x]=[E,E+R]}return y}function s(l,c){var f=c.grid;if(!(!f||!f._domains)){var m=l.grid||{},v=c._subplots,A=f._hasSubplotGrid,d=f.rows,u=f.columns,y=f.pattern==="independent",M,S,R,x,E,T,i,D=f._axisMap={};if(A){var b=m.subplots||[];T=f.subplots=new Array(d);var O=1;for(M=0;M<d;M++){var F=T[M]=new Array(u),V=b[M]||[];for(S=0;S<u;S++)if(y?(E=O===1?"xy":"x"+O+"y"+O,O++):E=V[S],F[S]="",v.cartesian.indexOf(E)!==-1){if(i=E.indexOf("y"),R=E.slice(0,i),x=E.slice(i),D[R]!==void 0&&D[R]!==S||D[x]!==void 0&&D[x]!==M)continue;F[S]=E,D[R]=S,D[x]=M}}}else{var _=g(c,m,"x"),U=g(c,m,"y");f.xaxes=n(_,v.xaxis,u,D,"x"),f.yaxes=n(U,v.yaxis,d,D,"y")}var H=f._anchors={},z=f.roworder==="top to bottom";for(var G in D){var Y=G.charAt(0),J=f[Y+"side"],ae,oe,he;if(J.length<8)H[G]="free";else if(Y==="x"){if(J.charAt(0)==="t"===z?(ae=0,oe=1,he=d):(ae=d-1,oe=-1,he=-1),A){var q=D[G];for(M=ae;M!==he;M+=oe)if(E=T[M][q],!!E&&(i=E.indexOf("y"),E.slice(0,i)===G)){H[G]=E.slice(i);break}}else for(M=ae;M!==he;M+=oe)if(x=f.yaxes[M],v.cartesian.indexOf(G+x)!==-1){H[G]=x;break}}else if(J.charAt(0)==="l"?(ae=0,oe=1,he=u):(ae=u-1,oe=-1,he=-1),A){var Z=D[G];for(M=ae;M!==he;M+=oe)if(E=T[Z][M],!!E&&(i=E.indexOf("y"),E.slice(i)===G)){H[G]=E.slice(0,i);break}}else for(M=ae;M!==he;M+=oe)if(R=f.xaxes[M],v.cartesian.indexOf(R+G)!==-1){H[G]=R;break}}}}function n(l,c,f,m,v){var A=new Array(f),d;function u(y,M){c.indexOf(M)!==-1&&m[M]===void 0?(A[y]=M,m[M]=y):A[y]=""}if(Array.isArray(l))for(d=0;d<f;d++)u(d,l[d]);else for(u(0,v),d=1;d<f;d++)u(d,v+(d+1));return A}B.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h}},layoutAttributes:h,sizeDefaults:t,contentDefaults:s}},69819:function(B,N,e){var p=e(85555),L=e(44467).templatedArray;e(24695),B.exports=L("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(B,N,e){var p=e(92770),L=e(58163);B.exports=function(C,w,h,g){w=w||{};var t=h==="log"&&w.type==="linear",r=h==="linear"&&w.type==="log";if(t||r){for(var s=C._fullLayout.images,n=w._id.charAt(0),l,c,f=0;f<s.length;f++)if(l=s[f],c="images["+f+"].",l[n+"ref"]===w._id){var m=l[n],v=l["size"+n],A=null,d=null;if(t){A=L(m,w.range);var u=v/Math.pow(10,A)/2;d=2*Math.log(u+Math.sqrt(1+u*u))/Math.LN10}else A=Math.pow(10,m),d=A*(Math.pow(10,v/2)-Math.pow(10,-v/2));p(A)?p(d)||(d=null):(A=null,d=null),g(c+n,A),g(c+"size"+n,d)}}}},81603:function(B,N,e){var p=e(71828),L=e(89298),a=e(85501),C=e(69819),w="images";B.exports=function(t,r){var s={name:w,handleItemDefaults:h};a(t,r,s)};function h(g,t,r){function s(u,y){return p.coerce(g,t,C,u,y)}var n=s("source"),l=s("visible",!!n);if(!l)return t;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var c={_fullLayout:r},f=["x","y"],m=0;m<2;m++){var v=f[m],A=L.coerceRef(g,t,c,v,"paper",void 0);if(A!=="paper"){var d=L.getFromId(c,A);d._imgIndices.push(t._index)}L.coercePosition(t,c,s,A,v,0)}return t}},80750:function(B,N,e){var p=e(39898),L=e(91424),a=e(89298),C=e(41675),w=e(77922);B.exports=function(g){var t=g._fullLayout,r=[],s={},n=[],l,c;for(c=0;c<t.images.length;c++){var f=t.images[c];if(f.visible)if(f.layer==="below"&&f.xref!=="paper"&&f.yref!=="paper"){l=C.ref2id(f.xref)+C.ref2id(f.yref);var m=t._plots[l];if(!m){n.push(f);continue}m.mainplot&&(l=m.mainplot.id),s[l]||(s[l]=[]),s[l].push(f)}else f.layer==="above"?r.push(f):n.push(f)}var v={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function A(x){var E=p.select(this);if(this._imgSrc!==x.source)if(E.attr("xmlns",w.svg),x.source&&x.source.slice(0,5)==="data:")E.attr("xlink:href",x.source),this._imgSrc=x.source;else{var T=new Promise((function(i){var D=new Image;this.img=D,D.setAttribute("crossOrigin","anonymous"),D.onerror=b,D.onload=function(){var O=document.createElement("canvas");O.width=this.width,O.height=this.height;var F=O.getContext("2d",{willReadFrequently:!0});F.drawImage(this,0,0);var V=O.toDataURL("image/png");E.attr("xlink:href",V),i()},E.on("error",b),D.src=x.source,this._imgSrc=x.source;function b(){E.remove(),i()}}).bind(this));g._promises.push(T)}}function d(x){var E=p.select(this),T=a.getFromId(g,x.xref),i=a.getFromId(g,x.yref),D=a.getRefType(x.xref)==="domain",b=a.getRefType(x.yref)==="domain",O=t._size,F,V;T!==void 0?F=typeof x.xref=="string"&&D?T._length*x.sizex:Math.abs(T.l2p(x.sizex)-T.l2p(0)):F=x.sizex*O.w,i!==void 0?V=typeof x.yref=="string"&&b?i._length*x.sizey:Math.abs(i.l2p(x.sizey)-i.l2p(0)):V=x.sizey*O.h;var _=F*v.x[x.xanchor].offset,U=V*v.y[x.yanchor].offset,H=v.x[x.xanchor].sizing+v.y[x.yanchor].sizing,z,G;switch(T!==void 0?z=typeof x.xref=="string"&&D?T._length*x.x+T._offset:T.r2p(x.x)+T._offset:z=x.x*O.w+O.l,z+=_,i!==void 0?G=typeof x.yref=="string"&&b?i._length*(1-x.y)+i._offset:i.r2p(x.y)+i._offset:G=O.h-x.y*O.h+O.t,G+=U,x.sizing){case"fill":H+=" slice";break;case"stretch":H="none";break}E.attr({x:z,y:G,width:F,height:V,preserveAspectRatio:H,opacity:x.opacity});var Y=T&&a.getRefType(x.xref)!=="domain"?T._id:"",J=i&&a.getRefType(x.yref)!=="domain"?i._id:"",ae=Y+J;L.setClipUrl(E,ae?"clip"+t._uid+ae:null,g)}var u=t._imageLowerLayer.selectAll("image").data(n),y=t._imageUpperLayer.selectAll("image").data(r);u.enter().append("image"),y.enter().append("image"),u.exit().remove(),y.exit().remove(),u.each(function(x){A.bind(this)(x),d.bind(this)(x)}),y.each(function(x){A.bind(this)(x),d.bind(this)(x)});var M=Object.keys(t._plots);for(c=0;c<M.length;c++){l=M[c];var S=t._plots[l];if(S.imagelayer){var R=S.imagelayer.selectAll("image").data(s[l]||[]);R.enter().append("image"),R.exit().remove(),R.each(function(x){A.bind(this)(x),d.bind(this)(x)})}}}},68804:function(B,N,e){B.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(B,N,e){var p=e(41940),L=e(22399);B.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(B){B.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(B,N,e){var p=e(73972),L=e(71828),a=e(44467),C=e(9012),w=e(33030),h=e(10820),g=e(10130);function t(r,s,n,l){var c=s[r]||{},f=a.newContainer(n,r);function m(he,q){return L.coerce(c,f,w,he,q)}var v=L.coerceFont(m,"font",n.font);m("bgcolor",n.paper_bgcolor),m("bordercolor");var A=m("visible");if(A){for(var d,u=function(he,q){var Z=d._input,$=d;return L.coerce(Z,$,C,he,q)},y=n.font||{},M=L.coerceFont(m,"grouptitlefont",L.extendFlat({},y,{size:Math.round(y.size*1.1)})),S=0,R=!1,x="normal",E=(n.shapes||[]).filter(function(he){return he.showlegend}),T=l.concat(E).filter(function(he){return r===(he.legend||"legend")}),i=0;i<T.length;i++)if(d=T[i],!!d.visible){var D=d._isShape;(d.showlegend||d._dfltShowLegend&&!(d._module&&d._module.attributes&&d._module.attributes.showlegend&&d._module.attributes.showlegend.dflt===!1))&&(S++,d.showlegend&&(R=!0,(!D&&p.traceIs(d,"pie-like")||d._input.showlegend===!0)&&S++),L.coerceFont(u,"legendgrouptitle.font",M)),(!D&&p.traceIs(d,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(d.fill)!==-1)&&(x=g.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),d.legendgroup!==void 0&&d.legendgroup!==""&&(x=g.isReversed({traceorder:x})?"reversed+grouped":"grouped")}var b=L.coerce(s,n,h,"showlegend",R&&S>(r==="legend"?1:0));if(b===!1&&(n[r]=void 0),!(b===!1&&!c.uirevision)&&(m("uirevision",n.uirevision),b!==!1)){m("borderwidth");var O=m("orientation"),F=m("yref"),V=m("xref"),_=O==="h",U=F==="paper",H=V==="paper",z,G,Y,J="left";_?(z=0,p.getComponentMethod("rangeslider","isVisible")(s.xaxis)?U?(G=1.1,Y="bottom"):(G=1,Y="top"):U?(G=-.1,Y="top"):(G=0,Y="bottom")):(G=1,Y="auto",H?z=1.02:(z=1,J="right")),L.coerce(c,f,{x:{valType:"number",editType:"legend",min:H?-2:0,max:H?3:1,dflt:z}},"x"),L.coerce(c,f,{y:{valType:"number",editType:"legend",min:U?-2:0,max:U?3:1,dflt:G}},"y"),m("traceorder",x),g.isGrouped(n[r])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",J),m("yanchor",Y),m("valign"),L.noneOrAll(c,f,["x","y"]);var ae=m("title.text");if(ae){m("title.side",_?"left":"top");var oe=L.extendFlat({},v,{size:L.bigFont(v.size)});L.coerceFont(m,"title.font",oe)}}}}B.exports=function(s,n,l){var c,f=l.slice(),m=n.shapes;if(m)for(c=0;c<m.length;c++){var v=m[c];if(v.showlegend){var A={_input:v._input,visible:v.visible,showlegend:v.showlegend,legend:v.legend};f.push(A)}}var d=["legend"];for(c=0;c<f.length;c++)L.pushUnique(d,f[c].legend);for(n._legends=[],c=0;c<d.length;c++){var u=d[c];t(u,s,n,f),n[u]&&n[u].visible&&(n[u]._id=u),n._legends.push(u)}}},43969:function(B,N,e){var p=e(39898),L=e(71828),a=e(74875),C=e(73972),w=e(11086),h=e(28569),g=e(91424),t=e(7901),r=e(63893),s=e(85167),n=e(14928),l=e(18783),c=l.LINE_SPACING,f=l.FROM_TL,m=l.FROM_BR,v=e(82424),A=e(53630),d=e(10130),u=1,y=/^legend[0-9]*$/;B.exports=function(G,Y){if(Y)S(G,Y);else{var J=G._fullLayout,ae=J._legends,oe=J._infolayer.selectAll('[class^="legend"]');oe.each(function(){var $=p.select(this),K=$.attr("class"),re=K.split(" ")[0];re.match(y)&&ae.indexOf(re)===-1&&$.remove()});for(var he=0;he<ae.length;he++){var q=ae[he],Z=G._fullLayout[q];S(G,Z)}}};function M(z,G,Y){if(!(G.title.side!=="top center"&&G.title.side!=="top right")){var J=G.title.font,ae=J.size*c,oe=0,he=z.node(),q=g.bBox(he).width;G.title.side==="top center"?oe=.5*(G._width-2*Y-2*n.titlePad-q):G.title.side==="top right"&&(oe=G._width-2*Y-2*n.titlePad-q),r.positionText(z,Y+n.titlePad+oe,Y+ae)}}function S(z,G){var Y=G||{},J=z._fullLayout,ae=H(Y),oe,he,q=Y._inHover;if(q?(he=Y.layer,oe="hover"):(he=J._infolayer,oe=ae),!!he){oe+=J._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var Z;if(q){if(!Y.entries)return;Z=v(Y.entries,Y)}else{for(var $=(z.calcdata||[]).slice(),K=J.shapes,re=0;re<K.length;re++){var le=K[re];if(le.showlegend){var te={_isShape:!0,_fullInput:le,index:le._index,name:le.name||le.label.text||"shape "+le._index,legend:le.legend,legendgroup:le.legendgroup,legendgrouptitle:le.legendgrouptitle,legendrank:le.legendrank,legendwidth:le.legendwidth,showlegend:le.showlegend,visible:le.visible,opacity:le.opacity,mode:le.type==="line"?"lines":"markers",line:le.line,marker:{line:le.line,color:le.fillcolor,size:12,symbol:le.type==="rect"?"square":le.type==="circle"?"circle":"hexagon2"}};$.push([{trace:te}])}}Z=J.showlegend&&v($,Y,J._legends.length>1)}var ee=J.hiddenlabels||[];if(!q&&(!J.showlegend||!Z.length))return he.selectAll("."+ae).remove(),J._topdefs.select("#"+oe).remove(),a.autoMargin(z,ae);var ue=L.ensureSingle(he,"g",ae,function(we){q||we.attr("pointer-events","all")}),se=L.ensureSingleById(J._topdefs,"clipPath",oe,function(we){we.append("rect")}),ve=L.ensureSingle(ue,"rect","bg",function(we){we.attr("shape-rendering","crispEdges")});ve.call(t.stroke,Y.bordercolor).call(t.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px");var be=L.ensureSingle(ue,"g","scrollbox"),Ee=Y.title;Y._titleWidth=0,Y._titleHeight=0;var Ae;Ee.text?(Ae=L.ensureSingle(be,"text",ae+"titletext"),Ae.attr("text-anchor","start").call(g.font,Ee.font).text(Ee.text),D(Ae,be,z,Y,u)):be.selectAll("."+ae+"titletext").remove();var Oe=L.ensureSingle(ue,"rect","scrollbar",function(we){we.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),Ue=be.selectAll("g.groups").data(Z);Ue.enter().append("g").attr("class","groups"),Ue.exit().remove();var Le=Ue.selectAll("g.traces").data(L.identity);Le.enter().append("g").attr("class","traces"),Le.exit().remove(),Le.style("opacity",function(we){var Ce=we[0].trace;return C.traceIs(Ce,"pie-like")?ee.indexOf(we[0].label)!==-1?.5:1:Ce.visible==="legendonly"?.5:1}).each(function(){p.select(this).call(E,z,Y)}).call(A,z,Y).each(function(){q||p.select(this).call(i,z,ae)}),L.syncOrAsync([a.previousPromises,function(){return F(z,Ue,Le,Y)},function(){var we=J._size,Ce=Y.borderwidth,Ve=Y.xref==="paper",Ne=Y.yref==="paper";if(Ee.text&&M(Ae,Y,Ce),!q){var ke,We;Ve?ke=we.l+we.w*Y.x-f[_(Y)]*Y._width:ke=J.width*Y.x-f[_(Y)]*Y._width,Ne?We=we.t+we.h*(1-Y.y)-f[U(Y)]*Y._effHeight:We=J.height*(1-Y.y)-f[U(Y)]*Y._effHeight;var rt=V(z,ae,ke,We);if(rt)return;if(J.margin.autoexpand){var et=ke,tt=We;ke=Ve?L.constrain(ke,0,J.width-Y._width):et,We=Ne?L.constrain(We,0,J.height-Y._effHeight):tt,ke!==et&&L.log("Constrain "+ae+".x to make legend fit inside graph"),We!==tt&&L.log("Constrain "+ae+".y to make legend fit inside graph")}g.setTranslate(ue,ke,We)}if(Oe.on(".drag",null),ue.on("wheel",null),q||Y._height<=Y._maxHeight||z._context.staticPlot){var at=Y._effHeight;q&&(at=Y._height),ve.attr({width:Y._width-Ce,height:at-Ce,x:Ce/2,y:Ce/2}),g.setTranslate(be,0,0),se.select("rect").attr({width:Y._width-2*Ce,height:at-2*Ce,x:Ce,y:Ce}),g.setClipUrl(be,oe,z),g.setRect(Oe,0,0,0,0),delete Y._scrollY}else{var ct=Math.max(n.scrollBarMinHeight,Y._effHeight*Y._effHeight/Y._height),dt=Y._effHeight-ct-2*n.scrollBarMargin,gt=Y._height-Y._effHeight,Et=dt/gt,Ct=Math.min(Y._scrollY||0,gt);ve.attr({width:Y._width-2*Ce+n.scrollBarWidth+n.scrollBarMargin,height:Y._effHeight-Ce,x:Ce/2,y:Ce/2}),se.select("rect").attr({width:Y._width-2*Ce+n.scrollBarWidth+n.scrollBarMargin,height:Y._effHeight-2*Ce,x:Ce,y:Ce+Ct}),g.setClipUrl(be,oe,z),xe(Ct,ct,Et),ue.on("wheel",function(){Ct=L.constrain(Y._scrollY+p.event.deltaY/dt*gt,0,gt),xe(Ct,ct,Et),Ct!==0&&Ct!==gt&&p.event.preventDefault()});var Vt,Je,_e,Fe=function(qe,vt,bt){var Wt=(bt-vt)/Et+qe;return L.constrain(Wt,0,gt)},Be=function(qe,vt,bt){var Wt=(vt-bt)/Et+qe;return L.constrain(Wt,0,gt)},De=p.behavior.drag().on("dragstart",function(){var qe=p.event.sourceEvent;qe.type==="touchstart"?Vt=qe.changedTouches[0].clientY:Vt=qe.clientY,_e=Ct}).on("drag",function(){var qe=p.event.sourceEvent;qe.buttons===2||qe.ctrlKey||(qe.type==="touchmove"?Je=qe.changedTouches[0].clientY:Je=qe.clientY,Ct=Fe(_e,Vt,Je),xe(Ct,ct,Et))});Oe.call(De);var Te=p.behavior.drag().on("dragstart",function(){var qe=p.event.sourceEvent;qe.type==="touchstart"&&(Vt=qe.changedTouches[0].clientY,_e=Ct)}).on("drag",function(){var qe=p.event.sourceEvent;qe.type==="touchmove"&&(Je=qe.changedTouches[0].clientY,Ct=Be(_e,Vt,Je),xe(Ct,ct,Et))});be.call(Te)}function xe(qe,vt,bt){Y._scrollY=z._fullLayout[ae]._scrollY=qe,g.setTranslate(be,0,-qe),g.setRect(Oe,Y._width,n.scrollBarMargin+qe*bt,n.scrollBarWidth,vt),se.select("rect").attr("y",Ce+qe)}if(z._context.edits.legendPosition){var Me,Pe,He,Ke;ue.classed("cursor-move",!0),h.init({element:ue.node(),gd:z,prepFn:function(){var qe=g.getTranslate(ue);He=qe.x,Ke=qe.y},moveFn:function(qe,vt){var bt=He+qe,Wt=Ke+vt;g.setTranslate(ue,bt,Wt),Me=h.align(bt,Y._width,we.l,we.l+we.w,Y.xanchor),Pe=h.align(Wt+Y._height,-Y._height,we.t+we.h,we.t,Y.yanchor)},doneFn:function(){if(Me!==void 0&&Pe!==void 0){var qe={};qe[ae+".x"]=Me,qe[ae+".y"]=Pe,C.call("_guiRelayout",z,qe)}},clickFn:function(qe,vt){var bt=he.selectAll("g.traces").filter(function(){var Wt=this.getBoundingClientRect();return vt.clientX>=Wt.left&&vt.clientX<=Wt.right&&vt.clientY>=Wt.top&&vt.clientY<=Wt.bottom});bt.size()>0&&x(z,ue,bt,qe,vt)}})}}],z)}}function R(z,G,Y){var J=z[0],ae=J.width,oe=G.entrywidthmode,he=J.trace.legendwidth||G.entrywidth;return oe==="fraction"?G._maxWidth*he:Y+(he||ae)}function x(z,G,Y,J,ae){var oe=Y.data()[0][0].trace,he={event:ae,node:Y.node(),curveNumber:oe.index,expandedIndex:oe._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};oe._group&&(he.group=oe._group),C.traceIs(oe,"pie-like")&&(he.label=Y.datum()[0].label);var q=w.triggerHandler(z,"plotly_legendclick",he);if(J===1){if(q===!1)return;G._clickTimeout=setTimeout(function(){z._fullLayout&&s(Y,z,J)},z._context.doubleClickDelay)}else if(J===2){G._clickTimeout&&clearTimeout(G._clickTimeout),z._legendMouseDownTime=0;var Z=w.triggerHandler(z,"plotly_legenddoubleclick",he);Z!==!1&&q!==!1&&s(Y,z,J)}}function E(z,G,Y){var J=H(Y),ae=z.data()[0][0],oe=ae.trace,he=C.traceIs(oe,"pie-like"),q=!Y._inHover&&G._context.edits.legendText&&!he,Z=Y._maxNameLength,$,K;ae.groupTitle?($=ae.groupTitle.text,K=ae.groupTitle.font):(K=Y.font,Y.entries?$=ae.text:($=he?ae.label:oe.name,oe._meta&&($=L.templateString($,oe._meta))));var re=L.ensureSingle(z,"text",J+"text");re.attr("text-anchor","start").call(g.font,K).text(q?T($,Z):$);var le=Y.itemwidth+n.itemGap*2;r.positionText(re,le,0),q?re.call(r.makeEditable,{gd:G,text:$}).call(D,z,G,Y).on("edit",function(te){this.text(T(te,Z)).call(D,z,G,Y);var ee=ae.trace._fullInput||{},ue={};if(C.hasTransform(ee,"groupby")){var se=C.getTransformIndices(ee,"groupby"),ve=se[se.length-1],be=L.keyedContainer(ee,"transforms["+ve+"].styles","target","value.name");be.set(ae.trace._group,te),ue=be.constructUpdate()}else ue.name=te;return ee._isShape?C.call("_guiRelayout",G,"shapes["+oe.index+"].name",ue.name):C.call("_guiRestyle",G,ue,oe.index)}):D(re,z,G,Y)}function T(z,G){var Y=Math.max(4,G);if(z&&z.trim().length>=Y/2)return z;z=z||"";for(var J=Y-z.length;J>0;J--)z+=" ";return z}function i(z,G,Y){var J=G._context.doubleClickDelay,ae,oe=1,he=L.ensureSingle(z,"rect",Y+"toggle",function(q){G._context.staticPlot||q.style("cursor","pointer").attr("pointer-events","all"),q.call(t.fill,"rgba(0,0,0,0)")});G._context.staticPlot||(he.on("mousedown",function(){ae=new Date().getTime(),ae-G._legendMouseDownTime<J?oe+=1:(oe=1,G._legendMouseDownTime=ae)}),he.on("mouseup",function(){if(!(G._dragged||G._editing)){var q=G._fullLayout[Y];new Date().getTime()-G._legendMouseDownTime>J&&(oe=Math.max(oe-1,1)),x(G,q,z,oe,p.event)}}))}function D(z,G,Y,J,ae){J._inHover&&z.attr("data-notex",!0),r.convertToTspans(z,Y,function(){b(G,Y,J,ae)})}function b(z,G,Y,J){var ae=z.data()[0][0];if(!Y._inHover&&ae&&!ae.trace.showlegend){z.remove();return}var oe=z.select("g[class*=math-group]"),he=oe.node(),q=H(Y);Y||(Y=G._fullLayout[q]);var Z=Y.borderwidth,$;J===u?$=Y.title.font:ae.groupTitle?$=ae.groupTitle.font:$=Y.font;var K=$.size*c,re,le;if(he){var te=g.bBox(he);re=te.height,le=te.width,J===u?g.setTranslate(oe,Z,Z+re*.75):g.setTranslate(oe,0,re*.25)}else{var ee="."+q+(J===u?"title":"")+"text",ue=z.select(ee),se=r.lineCount(ue),ve=ue.node();if(re=K*se,le=ve?g.bBox(ve).width:0,J===u)Y.title.side==="left"&&(le+=n.itemGap*2),r.positionText(ue,Z+n.titlePad,Z+K);else{var be=n.itemGap*2+Y.itemwidth;ae.groupTitle&&(be=n.itemGap,le-=Y.itemwidth),r.positionText(ue,be,-K*((se-1)/2-.3))}}J===u?(Y._titleWidth=le,Y._titleHeight=re):(ae.lineHeight=K,ae.height=Math.max(re,16)+3,ae.width=le)}function O(z){var G=0,Y=0,J=z.title.side;return J&&(J.indexOf("left")!==-1&&(G=z._titleWidth),J.indexOf("top")!==-1&&(Y=z._titleHeight)),[G,Y]}function F(z,G,Y,J){var ae=z._fullLayout,oe=H(J);J||(J=ae[oe]);var he=ae._size,q=d.isVertical(J),Z=d.isGrouped(J),$=J.entrywidthmode==="fraction",K=J.borderwidth,re=2*K,le=n.itemGap,te=J.itemwidth+le*2,ee=2*(K+le),ue=U(J),se=J.y<0||J.y===0&&ue==="top",ve=J.y>1||J.y===1&&ue==="bottom",be=J.tracegroupgap,Ee={};J._maxHeight=Math.max(se||ve?ae.height/2:he.h,30);var Ae=0;J._width=0,J._height=0;var Oe=O(J);if(q)Y.each(function(_e){var Fe=_e[0].height;g.setTranslate(this,K+Oe[0],K+Oe[1]+J._height+Fe/2+le),J._height+=Fe,J._width=Math.max(J._width,_e[0].width)}),Ae=te+J._width,J._width+=le+te+re,J._height+=ee,Z&&(G.each(function(_e,Fe){g.setTranslate(this,0,Fe*J.tracegroupgap)}),J._height+=(J._lgroupsLength-1)*J.tracegroupgap);else{var Ue=_(J),Le=J.x<0||J.x===0&&Ue==="right",we=J.x>1||J.x===1&&Ue==="left",Ce=ve||se,Ve=ae.width/2;J._maxWidth=Math.max(Le?Ce&&Ue==="left"?he.l+he.w:Ve:we?Ce&&Ue==="right"?he.r+he.w:Ve:he.w,2*te);var Ne=0,ke=0;Y.each(function(_e){var Fe=R(_e,J,te);Ne=Math.max(Ne,Fe),ke+=Fe}),Ae=null;var We=0;if(Z){var rt=0,et=0,tt=0;G.each(function(){var _e=0,Fe=0;p.select(this).selectAll("g.traces").each(function(De){var Te=R(De,J,te),xe=De[0].height;g.setTranslate(this,Oe[0],Oe[1]+K+le+xe/2+Fe),Fe+=xe,_e=Math.max(_e,Te),Ee[De[0].trace.legendgroup]=_e});var Be=_e+le;et>0&&Be+K+et>J._maxWidth?(We=Math.max(We,et),et=0,tt+=rt+be,rt=Fe):rt=Math.max(rt,Fe),g.setTranslate(this,et,tt),et+=Be}),J._width=Math.max(We,et)+K,J._height=tt+rt+ee}else{var at=Y.size(),ct=ke+re+(at-1)*le<J._maxWidth,dt=0,gt=0,Et=0,Ct=0;Y.each(function(_e){var Fe=_e[0].height,Be=R(_e,J,te),De=ct?Be:Ne;$||(De+=le),De+K+gt-le>=J._maxWidth&&(We=Math.max(We,Ct),gt=0,Et+=dt,J._height+=dt,dt=0),g.setTranslate(this,Oe[0]+K+gt,Oe[1]+K+Et+Fe/2+le),Ct=gt+Be+le,gt+=De,dt=Math.max(dt,Fe)}),ct?(J._width=gt+re,J._height=dt+ee):(J._width=Math.max(We,Ct)+re,J._height+=dt+ee)}}J._width=Math.ceil(Math.max(J._width+Oe[0],J._titleWidth+2*(K+n.titlePad))),J._height=Math.ceil(Math.max(J._height+Oe[1],J._titleHeight+2*(K+n.itemGap))),J._effHeight=Math.min(J._height,J._maxHeight);var Vt=z._context.edits,Je=Vt.legendText||Vt.legendPosition;Y.each(function(_e){var Fe=p.select(this).select("."+oe+"toggle"),Be=_e[0].height,De=_e[0].trace.legendgroup,Te=R(_e,J,te);Z&&De!==""&&(Te=Ee[De]);var xe=Je?te:Ae||Te;!q&&!$&&(xe+=le/2),g.setRect(Fe,0,-Be/2,xe,Be)})}function V(z,G,Y,J){var ae=z._fullLayout,oe=ae[G],he=_(oe),q=U(oe),Z=oe.xref==="paper",$=oe.yref==="paper";z._fullLayout._reservedMargin[G]={};var K=oe.y<.5?"b":"t",re=oe.x<.5?"l":"r",le={r:ae.width-Y,l:Y+oe._width,b:ae.height-J,t:J+oe._effHeight};if(Z&&$)return a.autoMargin(z,G,{x:oe.x,y:oe.y,l:oe._width*f[he],r:oe._width*m[he],b:oe._effHeight*m[q],t:oe._effHeight*f[q]});Z?z._fullLayout._reservedMargin[G][K]=le[K]:$||oe.orientation==="v"?z._fullLayout._reservedMargin[G][re]=le[re]:z._fullLayout._reservedMargin[G][K]=le[K]}function _(z){return L.isRightAnchor(z)?"right":L.isCenterAnchor(z)?"center":"left"}function U(z){return L.isBottomAnchor(z)?"bottom":L.isMiddleAnchor(z)?"middle":"top"}function H(z){return z._id||"legend"}},82424:function(B,N,e){var p=e(73972),L=e(10130);B.exports=function(C,w,h){var g=w._inHover,t=L.isGrouped(w),r=L.isReversed(w),s={},n=[],l=!1,c={},f=0,m=0,v,A;function d(z,G,Y){if(w.visible!==!1&&!(h&&z!==w._id))if(G===""||!L.isGrouped(w)){var J="~~i"+f;n.push(J),s[J]=[Y],f++}else n.indexOf(G)===-1?(n.push(G),l=!0,s[G]=[Y]):s[G].push(Y)}for(v=0;v<C.length;v++){var u=C[v],y=u[0],M=y.trace,S=M.legend,R=M.legendgroup;if(!(!g&&(!M.visible||!M.showlegend)))if(p.traceIs(M,"pie-like"))for(c[R]||(c[R]={}),A=0;A<u.length;A++){var x=u[A].label;c[R][x]||(d(S,R,{label:x,color:u[A].color,i:u[A].i,trace:M,pts:u[A].pts}),c[R][x]=!0,m=Math.max(m,(x||"").length))}else d(S,R,y),m=Math.max(m,(M.name||"").length)}if(!n.length)return[];var E=!l||!t,T=[];for(v=0;v<n.length;v++){var i=s[n[v]];E?T.push(i[0]):T.push(i)}for(E&&(T=[T]),v=0;v<T.length;v++){var D=1/0;for(A=0;A<T[v].length;A++){var b=T[v][A].trace.legendrank;D>b&&(D=b)}T[v][0]._groupMinRank=D,T[v][0]._preGroupSort=v}var O=function(z,G){return z[0]._groupMinRank-G[0]._groupMinRank||z[0]._preGroupSort-G[0]._preGroupSort},F=function(z,G){return z.trace.legendrank-G.trace.legendrank||z._preSort-G._preSort};for(T.forEach(function(z,G){z[0]._preGroupSort=G}),T.sort(O),v=0;v<T.length;v++){T[v].forEach(function(z,G){z._preSort=G}),T[v].sort(F);var V=T[v][0].trace,_=null;for(A=0;A<T[v].length;A++){var U=T[v][A].trace.legendgrouptitle;if(U&&U.text){_=U,g&&(U.font=w._groupTitleFont);break}}if(r&&T[v].reverse(),_){var H=!1;for(A=0;A<T[v].length;A++)if(p.traceIs(T[v][A].trace,"pie-like")){H=!0;break}T[v].unshift({i:-1,groupTitle:_,noClick:H,trace:{showlegend:V.showlegend,legendgroup:V.legendgroup,visible:w.groupclick==="toggleitem"?!0:V.visible}})}for(A=0;A<T[v].length;A++)T[v][A]=[T[v][A]]}return w._lgroupsLength=T.length,w._maxNameLength=m,T}},85167:function(B,N,e){var p=e(73972),L=e(71828),a=L.pushUnique,C=!0;B.exports=function(h,g,t){var r=g._fullLayout;if(g._dragged||g._editing)return;var s=r.legend.itemclick,n=r.legend.itemdoubleclick,l=r.legend.groupclick;t===1&&s==="toggle"&&n==="toggleothers"&&C&&g.data&&g._context.showTips&&L.notifier(L._(g,"Double-click on legend to isolate one trace"),"long"),C=!1;var c;if(t===1?c=s:t===2&&(c=n),!c)return;var f=l==="togglegroup",m=r.hiddenlabels?r.hiddenlabels.slice():[],v=h.data()[0][0];if(v.groupTitle&&v.noClick)return;var A=g._fullData,d=(r.shapes||[]).filter(function(Ve){return Ve.showlegend}),u=A.concat(d),y=v.trace;y._isShape&&(y=y._fullInput);var M=y.legendgroup,S,R,x,E,T,i,D={},b=[],O=[],F=[];function V(Ve,Ne){var ke=b.indexOf(Ve),We=D.visible;return We||(We=D.visible=[]),b.indexOf(Ve)===-1&&(b.push(Ve),ke=b.length-1),We[ke]=Ne,ke}var _=(r.shapes||[]).map(function(Ve){return Ve._input}),U=!1;function H(Ve,Ne){_[Ve].visible=Ne,U=!0}function z(Ve,Ne){if(!(v.groupTitle&&!f)){var ke=Ve._fullInput||Ve,We=ke._isShape,rt=ke.index;if(rt===void 0&&(rt=ke._index),p.hasTransform(ke,"groupby")){var et=O[rt];if(!et){var tt=p.getTransformIndices(ke,"groupby"),at=tt[tt.length-1];et=L.keyedContainer(ke,"transforms["+at+"].styles","target","value.visible"),O[rt]=et}var ct=et.get(Ve._group);ct===void 0&&(ct=!0),ct!==!1&&et.set(Ve._group,Ne),F[rt]=V(rt,ke.visible!==!1)}else{var dt=ke.visible===!1?!1:Ne;We?H(rt,dt):V(rt,dt)}}}var G=y.legend,Y=y._fullInput,J=Y&&Y._isShape;if(!J&&p.traceIs(y,"pie-like")){var ae=v.label,oe=m.indexOf(ae);if(c==="toggle")oe===-1?m.push(ae):m.splice(oe,1);else if(c==="toggleothers"){var he=oe!==-1,q=[];for(S=0;S<g.calcdata.length;S++){var Z=g.calcdata[S];for(R=0;R<Z.length;R++){var $=Z[R],K=$.label;G===Z[0].trace.legend&&ae!==K&&(m.indexOf(K)===-1&&(he=!0),a(m,K),q.push(K))}}if(!he)for(var re=0;re<q.length;re++){var le=m.indexOf(q[re]);le!==-1&&m.splice(le,1)}}p.call("_guiRelayout",g,"hiddenlabels",m)}else{var te=M&&M.length,ee=[],ue;if(te)for(S=0;S<u.length;S++)ue=u[S],ue.visible&&ue.legendgroup===M&&ee.push(S);if(c==="toggle"){var se;switch(y.visible){case!0:se="legendonly";break;case!1:se=!1;break;case"legendonly":se=!0;break}if(te)if(f)for(S=0;S<u.length;S++){var ve=u[S];ve.visible!==!1&&ve.legendgroup===M&&z(ve,se)}else z(y,se);else z(y,se)}else if(c==="toggleothers"){var be,Ee,Ae,Oe,Ue,Le=!0;for(S=0;S<u.length;S++)if(Ue=u[S],be=Ue===y,Ae=Ue.showlegend!==!0,!(be||Ae)&&(Ee=te&&Ue.legendgroup===M,!Ee&&Ue.legend===G&&Ue.visible===!0&&!p.traceIs(Ue,"notLegendIsolatable"))){Le=!1;break}for(S=0;S<u.length;S++)if(Ue=u[S],!(Ue.visible===!1||Ue.legend!==G)&&!p.traceIs(Ue,"notLegendIsolatable"))switch(y.visible){case"legendonly":z(Ue,!0);break;case!0:Oe=Le?!0:"legendonly",be=Ue===y,Ae=Ue.showlegend!==!0&&!Ue.legendgroup,Ee=be||te&&Ue.legendgroup===M,z(Ue,Ee||Ae?!0:Oe);break}}for(S=0;S<O.length;S++)if(x=O[S],!!x){var we=x.constructUpdate(),Ce=Object.keys(we);for(R=0;R<Ce.length;R++)E=Ce[R],i=D[E]=D[E]||[],i[F[S]]=we[E]}for(T=Object.keys(D),S=0;S<T.length;S++)for(E=T[S],R=0;R<b.length;R++)D[E].hasOwnProperty(R)||(D[E][R]=void 0);U?p.call("_guiUpdate",g,D,{shapes:_},b):p.call("_guiRestyle",g,D,b)}}},10130:function(B,N){N.isGrouped=function(p){return(p.traceorder||"").indexOf("grouped")!==-1},N.isVertical=function(p){return p.orientation!=="h"},N.isReversed=function(p){return(p.traceorder||"").indexOf("reversed")!==-1}},2199:function(B,N,e){B.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(B,N,e){var p=e(39898),L=e(73972),a=e(71828),C=a.strTranslate,w=e(91424),h=e(7901),g=e(52075).extractOpts,t=e(34098),r=e(63463),s=e(53581).castOption,n=e(14928),l=12,c=5,f=2,m=10,v=5;B.exports=function(M,S,R){var x=S._fullLayout;R||(R=x.legend);var E=R.itemsizing==="constant",T=R.itemwidth,i=(T+n.itemGap*2)/2,D=C(i,0),b=function(q,Z,$,K){var re;if(q+1)re=q;else if(Z&&Z.width>0)re=Z.width;else return 0;return E?K:Math.min(re,$)};M.each(function(q){var Z=p.select(this),$=a.ensureSingle(Z,"g","layers");$.style("opacity",q[0].trace.opacity);var K=R.valign,re=q[0].lineHeight,le=q[0].height;if(K==="middle"||!re||!le)$.attr("transform",null);else{var te={top:1,bottom:-1}[K],ee=te*(.5*(re-le+3));$.attr("transform",C(0,ee))}var ue=$.selectAll("g.legendfill").data([q]);ue.enter().append("g").classed("legendfill",!0);var se=$.selectAll("g.legendlines").data([q]);se.enter().append("g").classed("legendlines",!0);var ve=$.selectAll("g.legendsymbols").data([q]);ve.enter().append("g").classed("legendsymbols",!0),ve.selectAll("g.legendpoints").data([q]).enter().append("g").classed("legendpoints",!0)}).each(he).each(V).each(U).each(_).each(z).each(ae).each(J).each(O).each(F).each(G).each(Y);function O(q){var Z=d(q),$=Z.showFill,K=Z.showLine,re=Z.showGradientLine,le=Z.showGradientFill,te=Z.anyFill,ee=Z.anyLine,ue=q[0],se=ue.trace,ve,be,Ee=g(se),Ae=Ee.colorscale,Oe=Ee.reversescale,Ue=function(We){if(We.size())if($)w.fillGroupStyle(We,S);else{var rt="legendfill-"+se.uid;w.gradient(We,S,rt,A(Oe),Ae,"fill")}},Le=function(We){if(We.size()){var rt="legendline-"+se.uid;w.lineGroupStyle(We),w.gradient(We,S,rt,A(Oe),Ae,"stroke")}},we=t.hasMarkers(se)||!te?"M5,0":ee?"M5,-2":"M5,-3",Ce=p.select(this),Ve=Ce.select(".legendfill").selectAll("path").data($||le?[q]:[]);if(Ve.enter().append("path").classed("js-fill",!0),Ve.exit().remove(),Ve.attr("d",we+"h"+T+"v6h-"+T+"z").call(Ue),K||re){var Ne=b(void 0,se.line,m,c);be=a.minExtend(se,{line:{width:Ne}}),ve=[a.minExtend(ue,{trace:be})]}var ke=Ce.select(".legendlines").selectAll("path").data(K||re?[ve]:[]);ke.enter().append("path").classed("js-line",!0),ke.exit().remove(),ke.attr("d",we+(re?"l"+T+",0.0001":"h"+T)).call(K?w.lineGroupStyle:Le)}function F(q){var Z=d(q),$=Z.anyFill,K=Z.anyLine,re=Z.showLine,le=Z.showMarker,te=q[0],ee=te.trace,ue=!le&&!K&&!$&&t.hasText(ee),se,ve;function be(Ve,Ne,ke,We){var rt=a.nestedProperty(ee,Ve).get(),et=a.isArrayOrTypedArray(rt)&&Ne?Ne(rt):rt;if(E&&et&&We!==void 0&&(et=We),ke){if(et<ke[0])return ke[0];if(et>ke[1])return ke[1]}return et}function Ee(Ve){return te._distinct&&te.index&&Ve[te.index]?Ve[te.index]:Ve[0]}if(le||ue||re){var Ae={},Oe={};if(le){Ae.mc=be("marker.color",Ee),Ae.mx=be("marker.symbol",Ee),Ae.mo=be("marker.opacity",a.mean,[.2,1]),Ae.mlc=be("marker.line.color",Ee),Ae.mlw=be("marker.line.width",a.mean,[0,5],f),Oe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ue=be("marker.size",a.mean,[2,16],l);Ae.ms=Ue,Oe.marker.size=Ue}re&&(Oe.line={width:be("line.width",Ee,[0,10],c)}),ue&&(Ae.tx="Aa",Ae.tp=be("textposition",Ee),Ae.ts=10,Ae.tc=be("textfont.color",Ee),Ae.tf=be("textfont.family",Ee)),se=[a.minExtend(te,Ae)],ve=a.minExtend(ee,Oe),ve.selectedpoints=null,ve.texttemplate=null}var Le=p.select(this).select("g.legendpoints"),we=Le.selectAll("path.scatterpts").data(le?se:[]);we.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",D),we.exit().remove(),we.call(w.pointStyle,ve,S),le&&(se[0].mrc=3);var Ce=Le.selectAll("g.pointtext").data(ue?se:[]);Ce.enter().append("g").classed("pointtext",!0).append("text").attr("transform",D),Ce.exit().remove(),Ce.selectAll("text").call(w.textPointStyle,ve,S)}function V(q){var Z=q[0].trace,$=Z.type==="waterfall";if(q[0]._distinct&&$){var K=q[0].trace[q[0].dir].marker;return q[0].mc=K.color,q[0].mlw=K.line.width,q[0].mlc=K.line.color,H(q,this,"waterfall")}var re=[];Z.visible&&$&&(re=q[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var le=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(re);le.enter().append("path").classed("legendwaterfall",!0).attr("transform",D).style("stroke-miterlimit",1),le.exit().remove(),le.each(function(te){var ee=p.select(this),ue=Z[te[0]].marker,se=b(void 0,ue.line,v,f);ee.attr("d",te[1]).style("stroke-width",se+"px").call(h.fill,ue.color),se&&ee.call(h.stroke,ue.line.color)})}function _(q){H(q,this)}function U(q){H(q,this,"funnel")}function H(q,Z,$){var K=q[0].trace,re=K.marker||{},le=re.line||{},te=$?K.visible&&K.type===$:L.traceIs(K,"bar"),ee=p.select(Z).select("g.legendpoints").selectAll("path.legend"+$).data(te?[q]:[]);ee.enter().append("path").classed("legend"+$,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",D),ee.exit().remove(),ee.each(function(ue){var se=p.select(this),ve=ue[0],be=b(ve.mlw,re.line,v,f);se.style("stroke-width",be+"px");var Ee=ve.mcc;if(!R._inHover&&"mc"in ve){var Ae=g(re),Oe=Ae.mid;Oe===void 0&&(Oe=(Ae.max+Ae.min)/2),Ee=w.tryColorscale(re,"")(Oe)}var Ue=Ee||ve.mc||re.color,Le=re.pattern,we=Le&&w.getPatternAttr(Le.shape,0,"");if(we){var Ce=w.getPatternAttr(Le.bgcolor,0,null),Ve=w.getPatternAttr(Le.fgcolor,0,null),Ne=Le.fgopacity,ke=u(Le.size,8,10),We=u(Le.solidity,.5,1),rt="legend-"+K.uid;se.call(w.pattern,"legend",S,rt,we,ke,We,Ee,Le.fillmode,Ce,Ve,Ne)}else se.call(h.fill,Ue);be&&h.stroke(se,ve.mlc||le.color)})}function z(q){var Z=q[0].trace,$=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Z.visible&&L.traceIs(Z,"box-violin")?[q]:[]);$.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",D),$.exit().remove(),$.each(function(){var K=p.select(this);if((Z.boxpoints==="all"||Z.points==="all")&&h.opacity(Z.fillcolor)===0&&h.opacity((Z.line||{}).color)===0){var re=a.minExtend(Z,{marker:{size:E?l:a.constrain(Z.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});$.call(w.pointStyle,re,S)}else{var le=b(void 0,Z.line,v,f);K.style("stroke-width",le+"px").call(h.fill,Z.fillcolor),le&&h.stroke(K,Z.line.color)}})}function G(q){var Z=q[0].trace,$=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Z.visible&&Z.type==="candlestick"?[q,q]:[]);$.enter().append("path").classed("legendcandle",!0).attr("d",function(K,re){return re?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",D).style("stroke-miterlimit",1),$.exit().remove(),$.each(function(K,re){var le=p.select(this),te=Z[re?"increasing":"decreasing"],ee=b(void 0,te.line,v,f);le.style("stroke-width",ee+"px").call(h.fill,te.fillcolor),ee&&h.stroke(le,te.line.color)})}function Y(q){var Z=q[0].trace,$=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Z.visible&&Z.type==="ohlc"?[q,q]:[]);$.enter().append("path").classed("legendohlc",!0).attr("d",function(K,re){return re?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",D).style("stroke-miterlimit",1),$.exit().remove(),$.each(function(K,re){var le=p.select(this),te=Z[re?"increasing":"decreasing"],ee=b(void 0,te.line,v,f);le.style("fill","none").call(w.dashLine,te.line.dash,ee),ee&&h.stroke(le,te.line.color)})}function J(q){oe(q,this,"pie")}function ae(q){oe(q,this,"funnelarea")}function oe(q,Z,$){var K=q[0],re=K.trace,le=$?re.visible&&re.type===$:L.traceIs(re,$),te=p.select(Z).select("g.legendpoints").selectAll("path.legend"+$).data(le?[q]:[]);if(te.enter().append("path").classed("legend"+$,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",D),te.exit().remove(),te.size()){var ee=re.marker||{},ue=b(s(ee.line.width,K.pts),ee.line,v,f),se="pieLike",ve=a.minExtend(re,{marker:{line:{width:ue}}},se),be=a.minExtend(K,{trace:ve},se);r(te,be,ve,S)}}function he(q){var Z=q[0].trace,$,K=[];if(Z.visible)switch(Z.type){case"histogram2d":case"heatmap":K=[["M-15,-2V4H15V-2Z"]],$=!0;break;case"choropleth":case"choroplethmapbox":K=[["M-6,-6V6H6V-6Z"]],$=!0;break;case"densitymapbox":K=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],$="radial";break;case"cone":K=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],$=!1;break;case"streamtube":K=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],$=!1;break;case"surface":K=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],$=!0;break;case"mesh3d":K=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],$=!1;break;case"volume":K=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],$=!0;break;case"isosurface":K=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],$=!1;break}var re=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(K);re.enter().append("path").classed("legend3dandfriends",!0).attr("transform",D).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(le,te){var ee=p.select(this),ue=g(Z),se=ue.colorscale,ve=ue.reversescale,be=function(Ue){if(Ue.size()){var Le="legendfill-"+Z.uid;w.gradient(Ue,S,Le,A(ve,$==="radial"),se,"fill")}},Ee;if(se){if(!$){var Oe=se.length;Ee=te===0?se[ve?Oe-1:0][1]:te===1?se[ve?0:Oe-1][1]:se[Math.floor((Oe-1)/2)][1]}}else{var Ae=Z.vertexcolor||Z.facecolor||Z.color;Ee=a.isArrayOrTypedArray(Ae)?Ae[te]||Ae[0]:Ae}ee.attr("d",le[0]),Ee?ee.call(h.fill,Ee):ee.call(be)})}};function A(y,M){var S=M?"radial":"horizontal";return S+(y?"":"reversed")}function d(y){var M=y[0].trace,S=M.contours,R=t.hasLines(M),x=t.hasMarkers(M),E=M.visible&&M.fill&&M.fill!=="none",T=!1,i=!1;if(S){var D=S.coloring;D==="lines"?T=!0:R=D==="none"||D==="heatmap"||S.showlines,S.type==="constraint"?E=S._operation!=="=":(D==="fill"||D==="heatmap")&&(i=!0)}return{showMarker:x,showLine:R,showFill:E,showGradientLine:T,showGradientFill:i,anyLine:R||T,anyFill:E||i}}function u(y,M,S){return y&&a.isArrayOrTypedArray(y)?M:y>S?S:y}},42068:function(B,N,e){e(93348),B.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(B,N,e){var p=e(73972),L=e(74875),a=e(41675),C=e(24255),w=e(34031).eraseActiveShape,h=e(71828),g=h._,t=B.exports={};t.toImage={name:"toImage",title:function(y){var M=y._context.toImageButtonOptions||{},S=M.format||"png";return S==="png"?g(y,"Download plot as a png"):g(y,"Download plot")},icon:C.camera,click:function(y){var M=y._context.toImageButtonOptions,S={format:M.format||"png"};h.notifier(g(y,"Taking snapshot - this may take a few seconds"),"long"),S.format!=="svg"&&h.isIE()&&(h.notifier(g(y,"IE only supports svg.  Changing format to svg."),"long"),S.format="svg"),["filename","width","height","scale"].forEach(function(R){R in M&&(S[R]=M[R])}),p.call("downloadImage",y,S).then(function(R){h.notifier(g(y,"Snapshot succeeded")+" - "+R,"long")}).catch(function(){h.notifier(g(y,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(y){return g(y,"Edit in Chart Studio")},icon:C.disk,click:function(y){L.sendDataToCloud(y)}},t.editInChartStudio={name:"editInChartStudio",title:function(y){return g(y,"Edit in Chart Studio")},icon:C.pencil,click:function(y){L.sendDataToCloud(y)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(y){return g(y,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(y){return g(y,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(y){return g(y,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(y){return g(y,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(y){return g(y,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(y){return g(y,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:r},t.drawline={name:"drawline",title:function(y){return g(y,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:r},t.drawrect={name:"drawrect",title:function(y){return g(y,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(y){return g(y,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(y){return g(y,"Erase active shape")},icon:C.eraseshape,click:w},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(y){return g(y,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(y){return g(y,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(y){return g(y,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(y){return g(y,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(y){return g(y,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(y){return g(y,"Compare data on hover")},attr:"hovermode",val:function(y){return y._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:r};function r(y,M){var S=M.currentTarget,R=S.getAttribute("data-attr"),x=S.getAttribute("data-val")||!0,E=y._fullLayout,T={},i=a.list(y,null,!0),D=E._cartesianSpikesEnabled,b,O;if(R==="zoom"){var F=x==="in"?.5:2,V=(1+F)/2,_=(1-F)/2,U;for(O=0;O<i.length;O++)if(b=i[O],!b.fixedrange)if(U=b._name,x==="auto")T[U+".autorange"]=!0;else if(x==="reset")b._rangeInitial0===void 0&&b._rangeInitial1===void 0?T[U+".autorange"]=!0:b._rangeInitial0===void 0?(T[U+".autorange"]=b._autorangeInitial,T[U+".range"]=[null,b._rangeInitial1]):b._rangeInitial1===void 0?(T[U+".range"]=[b._rangeInitial0,null],T[U+".autorange"]=b._autorangeInitial):T[U+".range"]=[b._rangeInitial0,b._rangeInitial1],b._showSpikeInitial!==void 0&&(T[U+".showspikes"]=b._showSpikeInitial,D==="on"&&!b._showSpikeInitial&&(D="off"));else{var H=[b.r2l(b.range[0]),b.r2l(b.range[1])],z=[V*H[0]+_*H[1],V*H[1]+_*H[0]];T[U+".range[0]"]=b.l2r(z[0]),T[U+".range[1]"]=b.l2r(z[1])}}else R==="hovermode"&&(x==="x"||x==="y")&&(x=E._isHoriz?"y":"x",S.setAttribute("data-val",x)),T[R]=x;E._cartesianSpikesEnabled=D,p.call("_guiRelayout",y,T)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(y){return g(y,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:s},t.pan3d={name:"pan3d",_cat:"pan",title:function(y){return g(y,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:s},t.orbitRotation={name:"orbitRotation",title:function(y){return g(y,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:s},t.tableRotation={name:"tableRotation",title:function(y){return g(y,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:s};function s(y,M){for(var S=M.currentTarget,R=S.getAttribute("data-attr"),x=S.getAttribute("data-val")||!0,E=y._fullLayout._subplots.gl3d||[],T={},i=R.split("."),D=0;D<E.length;D++)T[E[D]+"."+i[1]]=x;var b=x==="pan"?x:"zoom";T.dragmode=b,p.call("_guiRelayout",y,T)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(y){return g(y,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(y){return g(y,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:n};function n(y,M){for(var S=M.currentTarget,R=S.getAttribute("data-attr"),x=R==="resetLastSave",E=R==="resetDefault",T=y._fullLayout,i=T._subplots.gl3d||[],D={},b=0;b<i.length;b++){var O=i[b],F=O+".camera",V=O+".aspectratio",_=O+".aspectmode",U=T[O]._scene,H;x?(D[F+".up"]=U.viewInitial.up,D[F+".eye"]=U.viewInitial.eye,D[F+".center"]=U.viewInitial.center,H=!0):E&&(D[F+".up"]=null,D[F+".eye"]=null,D[F+".center"]=null,H=!0),H&&(D[V+".x"]=U.viewInitial.aspectratio.x,D[V+".y"]=U.viewInitial.aspectratio.y,D[V+".z"]=U.viewInitial.aspectratio.z,D[_]=U.viewInitial.aspectmode)}p.call("_guiRelayout",y,D)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(y){return g(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c};function l(y,M){var S=M.currentTarget,R=S._previousVal,x=y._fullLayout,E=x._subplots.gl3d||[],T=["xaxis","yaxis","zaxis"],i={},D={};if(R)D=R,S._previousVal=null;else{for(var b=0;b<E.length;b++){var O=E[b],F=x[O],V=O+".hovermode";i[V]=F.hovermode,D[V]=!1;for(var _=0;_<3;_++){var U=T[_],H=O+"."+U+".showspikes";D[H]=!1,i[H]=F[U].showspikes}}S._previousVal=i}return D}function c(y,M){var S=l(y,M);p.call("_guiRelayout",y,S)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(y){return g(y,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:f},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(y){return g(y,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:f},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(y){return g(y,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:f},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(y){return g(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:v};function f(y,M){for(var S=M.currentTarget,R=S.getAttribute("data-attr"),x=S.getAttribute("data-val")||!0,E=y._fullLayout,T=E._subplots.geo||[],i=0;i<T.length;i++){var D=T[i],b=E[D];if(R==="zoom"){var O=b.projection.scale,F=x==="in"?2*O:.5*O;p.call("_guiRelayout",y,D+".projection.scale",F)}}R==="reset"&&u(y,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(y){return g(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:v},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(y){return g(y,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:v};function m(y){var M=y._fullLayout;return M.hovermode?!1:M._has("cartesian")?M._isHoriz?"y":"x":"closest"}function v(y){var M=m(y);p.call("_guiRelayout",y,"hovermode",M)}t.resetViewSankey={name:"resetSankeyGroup",title:function(y){return g(y,"Reset view")},icon:C.home,click:function(y){for(var M={"node.groups":[],"node.x":[],"node.y":[]},S=0;S<y._fullData.length;S++){var R=y._fullData[S]._viewInitial;M["node.groups"].push(R.node.groups.slice()),M["node.x"].push(R.node.x.slice()),M["node.y"].push(R.node.y.slice())}p.call("restyle",y,M)}},t.toggleHover={name:"toggleHover",title:function(y){return g(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(y,M){var S=l(y,M);S.hovermode=m(y),p.call("_guiRelayout",y,S)}},t.resetViews={name:"resetViews",title:function(y){return g(y,"Reset views")},icon:C.home,click:function(y,M){var S=M.currentTarget;S.setAttribute("data-attr","zoom"),S.setAttribute("data-val","reset"),r(y,M),S.setAttribute("data-attr","resetLastSave"),n(y,M),u(y,"geo"),u(y,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(y){return g(y,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(y){var M=y._fullLayout,S=M._cartesianSpikesEnabled;M._cartesianSpikesEnabled=S==="on"?"off":"on",p.call("_guiRelayout",y,A(y))}};function A(y){for(var M=y._fullLayout,S=M._cartesianSpikesEnabled==="on",R=a.list(y,null,!0),x={},E=0;E<R.length;E++){var T=R[E];x[T._name+".showspikes"]=S?!0:T._showSpikeInitial}return x}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(y){return g(y,"Reset view")},attr:"reset",icon:C.home,click:function(y){u(y,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(y){return g(y,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:d},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(y){return g(y,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:d};function d(y,M){for(var S=M.currentTarget,R=S.getAttribute("data-val"),x=y._fullLayout,E=x._subplots.mapbox||[],T=1.05,i={},D=0;D<E.length;D++){var b=E[D],O=x[b].zoom,F=R==="in"?T*O:O/T;i[b+".zoom"]=F}p.call("_guiRelayout",y,i)}function u(y,M){for(var S=y._fullLayout,R=S._subplots[M]||[],x={},E=0;E<R.length;E++)for(var T=R[E],i=S[T]._subplot,D=i.viewInitial,b=Object.keys(D),O=0;O<b.length;O++){var F=b[O];x[T+"."+F]=D[F]}p.call("_guiRelayout",y,x)}},93348:function(B,N,e){var p=e(26023),L=Object.keys(p),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),w=[],h=function(g){if(C.indexOf(g._cat||g.name)===-1){var t=g.name,r=(g._cat||g.name).toLowerCase();w.indexOf(t)===-1&&w.push(t),w.indexOf(r)===-1&&w.push(r)}};L.forEach(function(g){h(p[g])}),w.sort(),B.exports={DRAW_MODES:a,backButtons:C,foreButtons:w}},35750:function(B,N,e){var p=e(71828),L=e(7901),a=e(44467),C=e(42068);B.exports=function(h,g){var t=h.modebar||{},r=a.newContainer(g,"modebar");function s(l,c){return p.coerce(t,r,C,l,c)}s("orientation"),s("bgcolor",L.addOpacity(g.paper_bgcolor,.5));var n=L.contrast(L.rgb(g.modebar.bgcolor));s("color",L.addOpacity(n,.3)),s("activecolor",L.addOpacity(n,.7)),s("uirevision",g.uirevision),s("add"),s("remove")}},64168:function(B,N,e){B.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(B,N,e){var p=e(41675),L=e(34098),a=e(73972),C=e(23469).isUnifiedHover,w=e(37676),h=e(26023),g=e(93348).DRAW_MODES,t=e(71828).extendDeep;B.exports=function(v){var A=v._fullLayout,d=v._context,u=A._modeBar;if(!d.displayModeBar&&!d.watermark){u&&(u.destroy(),delete A._modeBar);return}if(!Array.isArray(d.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(d.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var y=d.modeBarButtons,M;Array.isArray(y)&&y.length?M=f(y):!d.displayModeBar&&d.watermark?M=[]:M=r(v),u?u.update(v,M):A._modeBar=w(v,M)};function r(m){var v=m._fullLayout,A=m._fullData,d=m._context;function u(te,ee){if(typeof ee=="string"){if(ee.toLowerCase()===te.toLowerCase())return!0}else{var ue=ee.name,se=ee._cat||ee.name;if(ue===te||se===te.toLowerCase())return!0}return!1}var y=v.modebar.add;typeof y=="string"&&(y=[y]);var M=v.modebar.remove;typeof M=="string"&&(M=[M]);var S=d.modeBarButtonsToAdd.concat(y.filter(function(te){for(var ee=0;ee<d.modeBarButtonsToRemove.length;ee++)if(u(te,d.modeBarButtonsToRemove[ee]))return!1;return!0})),R=d.modeBarButtonsToRemove.concat(M.filter(function(te){for(var ee=0;ee<d.modeBarButtonsToAdd.length;ee++)if(u(te,d.modeBarButtonsToAdd[ee]))return!1;return!0})),x=v._has("cartesian"),E=v._has("gl3d"),T=v._has("geo"),i=v._has("pie"),D=v._has("funnelarea"),b=v._has("gl2d"),O=v._has("ternary"),F=v._has("mapbox"),V=v._has("polar"),_=v._has("smith"),U=v._has("sankey"),H=s(v),z=C(v.hovermode),G=[];function Y(te){if(te.length){for(var ee=[],ue=0;ue<te.length;ue++){for(var se=te[ue],ve=h[se],be=ve.name.toLowerCase(),Ee=(ve._cat||ve.name).toLowerCase(),Ae=!1,Oe=0;Oe<R.length;Oe++){var Ue=R[Oe].toLowerCase();if(Ue===be||Ue===Ee){Ae=!0;break}}Ae||ee.push(h[se])}G.push(ee)}}var J=["toImage"];d.showEditInChartStudio?J.push("editInChartStudio"):d.showSendToCloud&&J.push("sendDataToCloud"),Y(J);var ae=[],oe=[],he=[],q=[];(x||b||i||D||O)+T+E+F+V+_>1?(oe=["toggleHover"],he=["resetViews"]):T?(ae=["zoomInGeo","zoomOutGeo"],oe=["hoverClosestGeo"],he=["resetGeo"]):E?(oe=["hoverClosest3d"],he=["resetCameraDefault3d","resetCameraLastSave3d"]):F?(ae=["zoomInMapbox","zoomOutMapbox"],oe=["toggleHover"],he=["resetViewMapbox"]):b?oe=["hoverClosestGl2d"]:i?oe=["hoverClosestPie"]:U?(oe=["hoverClosestCartesian","hoverCompareCartesian"],he=["resetViewSankey"]):oe=["toggleHover"],x&&(oe=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(l(A)||z)&&(oe=[]),(x||b)&&!H&&(ae=["zoomIn2d","zoomOut2d","autoScale2d"],he[0]!=="resetViews"&&(he=["resetScale2d"])),E?q=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||b)&&!H||O?q=["zoom2d","pan2d"]:F||T?q=["pan2d"]:V&&(q=["zoom2d"]),n(A)&&q.push("select2d","lasso2d");var Z=[],$=function(te){Z.indexOf(te)===-1&&oe.indexOf(te)!==-1&&Z.push(te)};if(Array.isArray(S)){for(var K=[],re=0;re<S.length;re++){var le=S[re];typeof le=="string"?(le=le.toLowerCase(),g.indexOf(le)!==-1?(v._has("mapbox")||v._has("cartesian"))&&q.push(le):le==="togglespikelines"?$("toggleSpikelines"):le==="togglehover"?$("toggleHover"):le==="hovercompare"?$("hoverCompareCartesian"):le==="hoverclosest"?($("hoverClosestCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie")):le==="v1hovermode"&&($("toggleHover"),$("hoverClosestCartesian"),$("hoverCompareCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie"))):K.push(le)}S=K}return Y(q),Y(ae.concat(he)),Y(Z),c(G,S)}function s(m){for(var v=p.list({_fullLayout:m},null,!0),A=0;A<v.length;A++)if(!v[A].fixedrange)return!1;return!0}function n(m){for(var v=!1,A=0;A<m.length&&!v;A++){var d=m[A];!d._module||!d._module.selectPoints||(a.traceIs(d,"scatter-like")?(L.hasMarkers(d)||L.hasText(d))&&(v=!0):a.traceIs(d,"box-violin")?(d.boxpoints==="all"||d.points==="all")&&(v=!0):v=!0)}return v}function l(m){for(var v=0;v<m.length;v++)if(!a.traceIs(m[v],"noHover"))return!1;return!0}function c(m,v){if(v.length)if(Array.isArray(v[0]))for(var A=0;A<v.length;A++)m.push(v[A]);else m.push(v);return m}function f(m){for(var v=t([],m),A=0;A<v.length;A++)for(var d=v[A],u=0;u<d.length;u++){var y=d[u];if(typeof y=="string")if(h[y]!==void 0)v[A][u]=h[y];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return v}},37676:function(B,N,e){var p=e(39898),L=e(92770),a=e(71828),C=e(24255),w=e(11506).version,h=new DOMParser;function g(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var t=g.prototype;t.update=function(n,l){this.graphInfo=n;var c=this.graphInfo._context,f=this.graphInfo._fullLayout,m="modebar-"+f._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",c.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),f.modebar.orientation==="v"&&(this.element.className+=" vertical",l=l.reverse());var v=f.modebar,A=c.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(m),a.addRelatedStyleRule(m,A+"#"+m+" .modebar-group","background-color: "+v.bgcolor),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+v.color),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+v.activecolor),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+v.activecolor);var d=!this.hasButtons(l),u=this.hasLogo!==c.displaylogo,y=this.locale!==c.locale;if(this.locale=c.locale,(d||u||y)&&(this.removeAllButtons(),this.updateButtons(l),c.watermark||c.displaylogo)){var M=this.getLogo();c.watermark&&(M.className=M.className+" watermark"),f.modebar.orientation==="v"?this.element.insertBefore(M,this.element.childNodes[0]):this.element.appendChild(M),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(n){var l=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(c){var f=l.createGroup();c.forEach(function(m){var v=m.name;if(!v)throw new Error("must provide button 'name' in button config");if(l.buttonsNames.indexOf(v)!==-1)throw new Error("button name '"+v+"' is taken");l.buttonsNames.push(v);var A=l.createButton(m);l.buttonElements.push(A),f.appendChild(A)}),l.element.appendChild(f)})},t.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},t.createButton=function(n){var l=this,c=document.createElement("a");c.setAttribute("rel","tooltip"),c.className="modebar-btn";var f=n.title;f===void 0?f=n.name:typeof f=="function"&&(f=f(this.graphInfo)),(f||f===0)&&c.setAttribute("data-title",f),n.attr!==void 0&&c.setAttribute("data-attr",n.attr);var m=n.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),c.setAttribute("data-val",m));var v=n.click;if(typeof v!="function")throw new Error("must provide button 'click' function in button config");c.addEventListener("click",function(d){n.click(l.graphInfo,d),l.updateActiveButton(d.currentTarget)}),c.setAttribute("data-toggle",n.toggle||!1),n.toggle&&p.select(c).classed("active",!0);var A=n.icon;return typeof A=="function"?c.appendChild(A()):c.appendChild(this.createIcon(A||C.question)),c.setAttribute("data-gravity",n.gravity||"n"),c},t.createIcon=function(n){var l=L(n.height)?Number(n.height):n.ascent-n.descent,c="http://www.w3.org/2000/svg",f;if(n.path){f=document.createElementNS(c,"svg"),f.setAttribute("viewBox",[0,0,n.width,l].join(" ")),f.setAttribute("class","icon");var m=document.createElementNS(c,"path");m.setAttribute("d",n.path),n.transform?m.setAttribute("transform",n.transform):n.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),f.appendChild(m)}if(n.svg){var v=h.parseFromString(n.svg,"application/xml");f=v.childNodes[0]}return f.setAttribute("height","1em"),f.setAttribute("width","1em"),f},t.updateActiveButton=function(n){var l=this.graphInfo._fullLayout,c=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(f){var m=f.getAttribute("data-val")||!0,v=f.getAttribute("data-attr"),A=f.getAttribute("data-toggle")==="true",d=p.select(f);if(A)v===c&&d.classed("active",!d.classed("active"));else{var u=v===null?v:a.nestedProperty(l,v).get();d.classed("active",u===m)}})},t.hasButtons=function(n){var l=this.buttons;if(!l||n.length!==l.length)return!1;for(var c=0;c<n.length;++c){if(n[c].length!==l[c].length)return!1;for(var f=0;f<n[c].length;f++)if(n[c][f].name!==l[c][f].name)return!1}return!0};function r(n){return n+" (v"+w+")"}t.getLogo=function(){var n=this.createGroup(),l=document.createElement("a");return l.href="https://plotly.com/",l.target="_blank",l.setAttribute("data-title",r(a._(this.graphInfo,"Produced with Plotly.js"))),l.className="modebar-btn plotlyjsicon modebar-btn--logo",l.appendChild(this.createIcon(C.newplotlylogo)),n.appendChild(l),n},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function s(n,l){var c=n._fullLayout,f=new g({graphInfo:n,container:c._modebardiv.node(),buttons:l});return c._privateplot&&p.select(f.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),f}B.exports=s},37113:function(B,N,e){var p=e(41940),L=e(22399),a=e(44467).templatedArray,C=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});B.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:L.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(B){B.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(B,N,e){var p=e(71828),L=e(7901),a=e(44467),C=e(85501),w=e(37113),h=e(89573);B.exports=function(s,n,l,c,f){var m=s.rangeselector||{},v=a.newContainer(n,"rangeselector");function A(S,R){return p.coerce(m,v,w,S,R)}var d=C(m,v,{name:"buttons",handleItemDefaults:g,calendar:f}),u=A("visible",d.length>0);if(u){var y=t(n,l,c);A("x",y[0]),A("y",y[1]),p.noneOrAll(s,n,["x","y"]),A("xanchor"),A("yanchor"),p.coerceFont(A,"font",l.font);var M=A("bgcolor");A("activecolor",L.contrast(M,h.lightAmount,h.darkAmount)),A("bordercolor"),A("borderwidth")}};function g(r,s,n,l){var c=l.calendar;function f(A,d){return p.coerce(r,s,w.buttons,A,d)}var m=f("visible");if(m){var v=f("step");v!=="all"&&(c&&c!=="gregorian"&&(v==="month"||v==="year")?s.stepmode="backward":f("stepmode"),f("count")),f("label")}}function t(r,s,n){for(var l=n.filter(function(v){return s[v].anchor===r._id}),c=0,f=0;f<l.length;f++){var m=s[l[f]].domain;m&&(c=Math.max(m[1],c))}return[r.domain[0],c+h.yPad]}},21598:function(B,N,e){var p=e(39898),L=e(73972),a=e(74875),C=e(7901),w=e(91424),h=e(71828),g=h.strTranslate,t=e(63893),r=e(41675),s=e(18783),n=s.LINE_SPACING,l=s.FROM_TL,c=s.FROM_BR,f=e(89573),m=e(70565);B.exports=function(E){var T=E._fullLayout,i=T._infolayer.selectAll(".rangeselector").data(v(E),A);i.enter().append("g").classed("rangeselector",!0),i.exit().remove(),i.style({cursor:"pointer","pointer-events":"all"}),i.each(function(D){var b=p.select(this),O=D,F=O.rangeselector,V=b.selectAll("g.button").data(h.filterVisible(F.buttons));V.enter().append("g").classed("button",!0),V.exit().remove(),V.each(function(_){var U=p.select(this),H=m(O,_);_._isActive=d(O,_,H),U.call(u,F,_),U.call(M,F,_,E),U.on("click",function(){E._dragged||L.call("_guiRelayout",E,H)}),U.on("mouseover",function(){_._isHovered=!0,U.call(u,F,_)}),U.on("mouseout",function(){_._isHovered=!1,U.call(u,F,_)})}),R(E,V,F,O._name,b)})};function v(x){for(var E=r.list(x,"x",!0),T=[],i=0;i<E.length;i++){var D=E[i];D.rangeselector&&D.rangeselector.visible&&T.push(D)}return T}function A(x){return x._id}function d(x,E,T){if(E.step==="all")return x.autorange===!0;var i=Object.keys(T);return x.range[0]===T[i[0]]&&x.range[1]===T[i[1]]}function u(x,E,T){var i=h.ensureSingle(x,"rect","selector-rect",function(D){D.attr("shape-rendering","crispEdges")});i.attr({rx:f.rx,ry:f.ry}),i.call(C.stroke,E.bordercolor).call(C.fill,y(E,T)).style("stroke-width",E.borderwidth+"px")}function y(x,E){return E._isActive||E._isHovered?x.activecolor:x.bgcolor}function M(x,E,T,i){function D(O){t.convertToTspans(O,i)}var b=h.ensureSingle(x,"text","selector-text",function(O){O.attr("text-anchor","middle")});b.call(w.font,E.font).text(S(T,i._fullLayout._meta)).call(D)}function S(x,E){return x.label?E?h.templateString(x.label,E):x.label:x.step==="all"?"all":x.count+x.step.charAt(0)}function R(x,E,T,i,D){var b=0,O=0,F=T.borderwidth;E.each(function(){var G=p.select(this),Y=G.select(".selector-text"),J=T.font.size*n,ae=Math.max(J*t.lineCount(Y),16)+3;O=Math.max(O,ae)}),E.each(function(){var G=p.select(this),Y=G.select(".selector-rect"),J=G.select(".selector-text"),ae=J.node()&&w.bBox(J.node()).width,oe=T.font.size*n,he=t.lineCount(J),q=Math.max(ae+10,f.minButtonWidth);G.attr("transform",g(F+b,F)),Y.attr({x:0,y:0,width:q,height:O}),t.positionText(J,q/2,O/2-(he-1)*oe/2+3),b+=q+5});var V=x._fullLayout._size,_=V.l+V.w*T.x,U=V.t+V.h*(1-T.y),H="left";h.isRightAnchor(T)&&(_-=b,H="right"),h.isCenterAnchor(T)&&(_-=b/2,H="center");var z="top";h.isBottomAnchor(T)&&(U-=O,z="bottom"),h.isMiddleAnchor(T)&&(U-=O/2,z="middle"),b=Math.ceil(b),O=Math.ceil(O),_=Math.round(_),U=Math.round(U),a.autoMargin(x,i+"-range-selector",{x:T.x,y:T.y,l:b*l[H],r:b*c[H],b:O*c[z],t:O*l[z]}),D.attr("transform",g(_,U))}},70565:function(B,N,e){var p=e(81041),L=e(71828).titleCase;B.exports=function(w,h){var g=w._name,t={};if(h.step==="all")t[g+".autorange"]=!0;else{var r=a(w,h);t[g+".range[0]"]=r[0],t[g+".range[1]"]=r[1]}return t};function a(C,w){var h=C.range,g=new Date(C.r2l(h[1])),t=w.step,r=p["utc"+L(t)],s=w.count,n;switch(w.stepmode){case"backward":n=C.l2r(+r.offset(g,-s));break;case"todate":var l=r.offset(g,-s);n=C.l2r(+r.ceil(l));break}var c=h[1];return[n,c]}},97218:function(B,N,e){B.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(B,N,e){var p=e(22399);B.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(B,N,e){var p=e(41675).list,L=e(71739).getAutoRange,a=e(73251);B.exports=function(w){for(var h=p(w,"x",!0),g=0;g<h.length;g++){var t=h[g],r=t[a.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=L(w,t))}}},73251:function(B){B.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(B,N,e){var p=e(71828),L=e(44467),a=e(41675),C=e(75148),w=e(47850);B.exports=function(g,t,r){var s=g[r],n=t[r];if(!(s.rangeslider||t._requestRangeslider[n._id]))return;p.isPlainObject(s.rangeslider)||(s.rangeslider={});var l=s.rangeslider,c=L.newContainer(n,"rangeslider");function f(i,D){return p.coerce(l,c,C,i,D)}var m,v;function A(i,D){return p.coerce(m,v,w,i,D)}var d=f("visible");if(d){f("bgcolor",t.plot_bgcolor),f("bordercolor"),f("borderwidth"),f("thickness"),f("autorange",!n.isValidRange(l.range)),f("range");var u=t._subplots;if(u)for(var y=u.cartesian.filter(function(i){return i.substr(0,i.indexOf("y"))===a.name2id(r)}).map(function(i){return i.substr(i.indexOf("y"),i.length)}),M=p.simpleMap(y,a.id2name),S=0;S<M.length;S++){var R=M[S];m=l[R]||{},v=L.newContainer(c,R,"yaxis");var x=t[R],E;m.range&&x.isValidRange(m.range)&&(E="fixed");var T=A("rangemode",E);T!=="match"&&A("range",x.range.slice())}c._input=l}}},72413:function(B,N,e){var p=e(39898),L=e(73972),a=e(74875),C=e(71828),w=C.strTranslate,h=e(91424),g=e(7901),t=e(92998),r=e(93612),s=e(41675),n=e(28569),l=e(6964),c=e(73251);B.exports=function(x){for(var E=x._fullLayout,T=E._rangeSliderData,i=0;i<T.length;i++){var D=T[i][c.name];D._clipId=D._id+"-"+E._uid}function b(F){return F._name}var O=E._infolayer.selectAll("g."+c.containerClassName).data(T,b);O.exit().each(function(F){var V=F[c.name];E._topdefs.select("#"+V._clipId).remove()}).remove(),T.length!==0&&(O.enter().append("g").classed(c.containerClassName,!0).attr("pointer-events","all"),O.each(function(F){var V=p.select(this),_=F[c.name],U=E[s.id2name(F.anchor)],H=_[s.id2name(F.anchor)];if(_.range){var z=C.simpleMap(_.range,F.r2l),G=C.simpleMap(F.range,F.r2l),Y;G[0]<G[1]?Y=[Math.min(z[0],G[0]),Math.max(z[1],G[1])]:Y=[Math.max(z[0],G[0]),Math.min(z[1],G[1])],_.range=_._input.range=C.simpleMap(Y,F.l2r)}F.cleanRange("rangeslider.range");var J=E._size,ae=F.domain;_._width=J.w*(ae[1]-ae[0]);var oe=Math.round(J.l+J.w*ae[0]),he=Math.round(J.t+J.h*(1-F._counterDomainMin)+(F.side==="bottom"?F._depth:0)+_._offsetShift+c.extraPad);V.attr("transform",w(oe,he)),_._rl=C.simpleMap(_.range,F.r2l);var q=_._rl[0],Z=_._rl[1],$=Z-q;if(_.p2d=function(Ee){return Ee/_._width*$+q},_.d2p=function(Ee){return(Ee-q)/$*_._width},F.rangebreaks){var K=F.locateBreaks(q,Z);if(K.length){var re,le,te=0;for(re=0;re<K.length;re++)le=K[re],te+=le.max-le.min;var ee=_._width/(Z-q-te),ue=[-ee*q];for(re=0;re<K.length;re++)le=K[re],ue.push(ue[ue.length-1]-ee*(le.max-le.min));for(_.d2p=function(Ee){for(var Ae=ue[0],Oe=0;Oe<K.length;Oe++){var Ue=K[Oe];if(Ee>=Ue.max)Ae=ue[Oe+1];else if(Ee<Ue.min)break}return Ae+ee*Ee},re=0;re<K.length;re++)le=K[re],le.pmin=_.d2p(le.min),le.pmax=_.d2p(le.max);_.p2d=function(Ee){for(var Ae=ue[0],Oe=0;Oe<K.length;Oe++){var Ue=K[Oe];if(Ee>=Ue.pmax)Ae=ue[Oe+1];else if(Ee<Ue.pmin)break}return(Ee-Ae)/ee}}}if(H.rangemode!=="match"){var se=U.r2l(H.range[0]),ve=U.r2l(H.range[1]),be=ve-se;_.d2pOppAxis=function(Ee){return(Ee-se)/be*_._height}}V.call(A,x,F,_).call(d,x,F,_).call(u,x,F,_).call(M,x,F,_,H).call(S,x,F,_).call(R,x,F,_),f(V,x,F,_),v(V,x,F,_,U,H),F.side==="bottom"&&t.draw(x,F._id+"title",{propContainer:F,propName:F._name+".title",placeholder:E._dfltTitle.x,attributes:{x:F._offset+F._length/2,y:he+_._height+_._offsetShift+10+1.5*F.title.font.size,"text-anchor":"middle"}})}))};function f(x,E,T,i){if(E._context.staticPlot)return;var D=x.select("rect."+c.slideBoxClassName).node(),b=x.select("rect."+c.grabAreaMinClassName).node(),O=x.select("rect."+c.grabAreaMaxClassName).node();function F(){var V=p.event,_=V.target,U=V.clientX||V.touches[0].clientX,H=U-x.node().getBoundingClientRect().left,z=i.d2p(T._rl[0]),G=i.d2p(T._rl[1]),Y=n.coverSlip();this.addEventListener("touchmove",J),this.addEventListener("touchend",ae),Y.addEventListener("mousemove",J),Y.addEventListener("mouseup",ae);function J(oe){var he=oe.clientX||oe.touches[0].clientX,q=+he-U,Z,$,K;switch(_){case D:if(K="ew-resize",z+q>T._length||G+q<0)return;Z=z+q,$=G+q;break;case b:if(K="col-resize",z+q>T._length)return;Z=z+q,$=G;break;case O:if(K="col-resize",G+q<0)return;Z=z,$=G+q;break;default:K="ew-resize",Z=H,$=H+q;break}if($<Z){var re=$;$=Z,Z=re}i._pixelMin=Z,i._pixelMax=$,l(p.select(Y),K),m(x,E,T,i)}function ae(){Y.removeEventListener("mousemove",J),Y.removeEventListener("mouseup",ae),this.removeEventListener("touchmove",J),this.removeEventListener("touchend",ae),C.removeElement(Y)}}x.on("mousedown",F),x.on("touchstart",F)}function m(x,E,T,i){function D(F){return T.l2r(C.constrain(F,i._rl[0],i._rl[1]))}var b=D(i.p2d(i._pixelMin)),O=D(i.p2d(i._pixelMax));window.requestAnimationFrame(function(){L.call("_guiRelayout",E,T._name+".range",[b,O])})}function v(x,E,T,i,D,b){var O=c.handleWidth/2;function F(oe){return C.constrain(oe,0,i._width)}function V(oe){return C.constrain(oe,0,i._height)}function _(oe){return C.constrain(oe,-O,i._width+O)}var U=F(i.d2p(T._rl[0])),H=F(i.d2p(T._rl[1]));if(x.select("rect."+c.slideBoxClassName).attr("x",U).attr("width",H-U),x.select("rect."+c.maskMinClassName).attr("width",U),x.select("rect."+c.maskMaxClassName).attr("x",H).attr("width",i._width-H),b.rangemode!=="match"){var z=i._height-V(i.d2pOppAxis(D._rl[1])),G=i._height-V(i.d2pOppAxis(D._rl[0]));x.select("rect."+c.maskMinOppAxisClassName).attr("x",U).attr("height",z).attr("width",H-U),x.select("rect."+c.maskMaxOppAxisClassName).attr("x",U).attr("y",G).attr("height",i._height-G).attr("width",H-U),x.select("rect."+c.slideBoxClassName).attr("y",z).attr("height",G-z)}var Y=.5,J=Math.round(_(U-O))-Y,ae=Math.round(_(H-O))+Y;x.select("g."+c.grabberMinClassName).attr("transform",w(J,Y)),x.select("g."+c.grabberMaxClassName).attr("transform",w(ae,Y))}function A(x,E,T,i){var D=C.ensureSingle(x,"rect",c.bgClassName,function(V){V.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),b=i.borderwidth%2===0?i.borderwidth:i.borderwidth-1,O=-i._offsetShift,F=h.crispRound(E,i.borderwidth);D.attr({width:i._width+b,height:i._height+b,transform:w(O,O),"stroke-width":F}).call(g.stroke,i.bordercolor).call(g.fill,i.bgcolor)}function d(x,E,T,i){var D=E._fullLayout,b=C.ensureSingleById(D._topdefs,"clipPath",i._clipId,function(O){O.append("rect").attr({x:0,y:0})});b.select("rect").attr({width:i._width,height:i._height})}function u(x,E,T,i){var D=E.calcdata,b=x.selectAll("g."+c.rangePlotClassName).data(T._subplotsWith,C.identity);b.enter().append("g").attr("class",function(F){return c.rangePlotClassName+" "+F}).call(h.setClipUrl,i._clipId,E),b.order(),b.exit().remove();var O;b.each(function(F,V){var _=p.select(this),U=V===0,H=s.getFromId(E,F,"y"),z=H._name,G=i[z],Y={data:[],layout:{xaxis:{type:T.type,domain:[0,1],range:i.range.slice(),calendar:T.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:E._context};T.rangebreaks&&(Y.layout.xaxis.rangebreaks=T.rangebreaks),Y.layout[z]={type:H.type,domain:[0,1],range:G.rangemode!=="match"?G.range.slice():H.range.slice(),calendar:H.calendar},H.rangebreaks&&(Y.layout[z].rangebreaks=H.rangebreaks),a.supplyDefaults(Y);var J=Y._fullLayout.xaxis,ae=Y._fullLayout[z];J.clearCalc(),J.setScale(),ae.clearCalc(),ae.setScale();var oe={id:F,plotgroup:_,xaxis:J,yaxis:ae,isRangePlot:!0};U?O=oe:(oe.mainplot="xy",oe.mainplotinfo=O),r.rangePlot(E,oe,y(D,F))})}function y(x,E){for(var T=[],i=0;i<x.length;i++){var D=x[i],b=D[0].trace;b.xaxis+b.yaxis===E&&T.push(D)}return T}function M(x,E,T,i,D){var b=C.ensureSingle(x,"rect",c.maskMinClassName,function(_){_.attr({x:0,y:0,"shape-rendering":"crispEdges"})});b.attr("height",i._height).call(g.fill,c.maskColor);var O=C.ensureSingle(x,"rect",c.maskMaxClassName,function(_){_.attr({y:0,"shape-rendering":"crispEdges"})});if(O.attr("height",i._height).call(g.fill,c.maskColor),D.rangemode!=="match"){var F=C.ensureSingle(x,"rect",c.maskMinOppAxisClassName,function(_){_.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",i._width).call(g.fill,c.maskOppAxisColor);var V=C.ensureSingle(x,"rect",c.maskMaxOppAxisClassName,function(_){_.attr({y:0,"shape-rendering":"crispEdges"})});V.attr("width",i._width).style("border-top",c.maskOppBorder).call(g.fill,c.maskOppAxisColor)}}function S(x,E,T,i){if(!E._context.staticPlot){var D=C.ensureSingle(x,"rect",c.slideBoxClassName,function(b){b.attr({y:0,cursor:c.slideBoxCursor,"shape-rendering":"crispEdges"})});D.attr({height:i._height,fill:c.slideBoxFill})}}function R(x,E,T,i){var D=C.ensureSingle(x,"g",c.grabberMinClassName),b=C.ensureSingle(x,"g",c.grabberMaxClassName),O={x:0,width:c.handleWidth,rx:c.handleRadius,fill:g.background,stroke:g.defaultLine,"stroke-width":c.handleStrokeWidth,"shape-rendering":"crispEdges"},F={y:Math.round(i._height/4),height:Math.round(i._height/2)},V=C.ensureSingle(D,"rect",c.handleMinClassName,function(G){G.attr(O)});V.attr(F);var _=C.ensureSingle(b,"rect",c.handleMaxClassName,function(G){G.attr(O)});_.attr(F);var U={width:c.grabAreaWidth,x:0,y:0,fill:c.grabAreaFill,cursor:E._context.staticPlot?void 0:c.grabAreaCursor},H=C.ensureSingle(D,"rect",c.grabAreaMinClassName,function(G){G.attr(U)});H.attr("height",i._height);var z=C.ensureSingle(b,"rect",c.grabAreaMaxClassName,function(G){G.attr(U)});z.attr("height",i._height)}},549:function(B,N,e){var p=e(41675),L=e(63893),a=e(73251),C=e(18783).LINE_SPACING,w=a.name;function h(g){var t=g&&g[w];return t&&t.visible}N.isVisible=h,N.makeData=function(g){var t=p.list({_fullLayout:g},"x",!0),r=g.margin,s=[];if(!g._has("gl2d"))for(var n=0;n<t.length;n++){var l=t[n];if(h(l)){s.push(l);var c=l[w];c._id=w+l._id,c._height=(g.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}g._rangeSliderData=s},N.autoMarginOpts=function(g,t){var r=g._fullLayout,s=t[w],n=t._id.charAt(0),l=0,c=0;if(t.side==="bottom"&&(l=t._depth,t.title.text!==r._dfltTitle[n])){c=1.5*t.title.font.size+10+s._offsetShift;var f=(t.title.text.match(L.BR_TAG_ALL)||[]).length;c+=f*t.title.font.size*C}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:s._height+l+Math.max(r.margin.b,c),pad:a.extraPad+s._offsetShift*2}}},13137:function(B,N,e){var p=e(71828),L=e(75148),a=e(47850),C=e(549);B.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},L,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},47850:function(B){B.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(B,N,e){var p=e(50215),L=e(82196).line,a=e(79952).P,C=e(1426).extendFlat,w=e(30962).overrideAll,h=e(44467).templatedArray;e(24695),B.exports=w(h("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},p.xref,{}),yref:C({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:L.color,width:C({},L.width,{min:1,dflt:1}),dash:C({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(B){B.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(B,N,e){var p=e(71828),L=e(89298),a=e(85501),C=e(8389),w=e(30477);B.exports=function(t,r){a(t,r,{name:"selections",handleItemDefaults:h});for(var s=r.selections,n=0;n<s.length;n++){var l=s[n];l&&l.path===void 0&&(l.x0===void 0||l.x1===void 0||l.y0===void 0||l.y1===void 0)&&(r.selections[n]=null)}};function h(g,t,r){function s(b,O){return p.coerce(g,t,C,b,O)}var n=s("path"),l=n?"path":"rect",c=s("type",l),f=c!=="path";f&&delete t.path,s("opacity"),s("line.color"),s("line.width"),s("line.dash");for(var m=["x","y"],v=0;v<2;v++){var A=m[v],d={_fullLayout:r},u,y,M,S=L.coerceRef(g,t,d,A);if(u=L.getFromId(d,S),u._selectionIndices.push(t._index),M=w.rangeToShapePosition(u),y=w.shapePositionToRange(u),f){var R=A+"0",x=A+"1",E=g[R],T=g[x];g[R]=y(g[R],!0),g[x]=y(g[x],!0),L.coercePosition(t,d,s,S,R),L.coercePosition(t,d,s,S,x);var i=t[R],D=t[x];i!==void 0&&D!==void 0&&(t[R]=M(i),t[x]=M(D),g[R]=E,g[x]=T)}}f&&p.noneOrAll(g,t,["x0","x1","y0","y1"])}},32485:function(B,N,e){var p=e(60165).readPaths,L=e(42359),a=e(51873).clearOutlineControllers,C=e(7901),w=e(91424),h=e(44467).arrayEditor,g=e(30477),t=g.getPathString;B.exports={draw:r,drawOne:n,activateLastSelection:f};function r(v){var A=v._fullLayout;a(v),A._selectionLayer.selectAll("path").remove();for(var d in A._plots){var u=A._plots[d].selectionLayer;u&&u.selectAll("path").remove()}for(var y=0;y<A.selections.length;y++)n(v,y)}function s(v){return v._context.editSelection}function n(v,A){v._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+A+'"]').remove();var d=g.makeSelectionsOptionsAndPlotinfo(v,A),u=d.options,y=d.plotinfo;if(!u._input)return;M(v._fullLayout._selectionLayer);function M(S){var R=t(v,u),x={"data-index":A,"fill-rule":"evenodd",d:R},E=u.opacity,T="rgba(0,0,0,0)",i=u.line.color||C.contrast(v._fullLayout.plot_bgcolor),D=u.line.width,b=u.line.dash;D||(D=5,b="solid");var O=s(v)&&v._fullLayout._activeSelectionIndex===A;O&&(T=v._fullLayout.activeselection.fillcolor,E=v._fullLayout.activeselection.opacity);for(var F=[],V=1;V>=0;V--){var _=S.append("path").attr(x).style("opacity",V?.1:E).call(C.stroke,i).call(C.fill,T).call(w.dashLine,V?"solid":b,V?4+D:D);if(l(_,v,u),O){var U=h(v.layout,"selections",u);_.style({cursor:"move"});var H={element:_.node(),plotinfo:y,gd:v,editHelpers:U,isActiveSelection:!0},z=p(R,v);L(z,_,H)}else _.style("pointer-events",V?"all":"none");F[V]=_}var G=F[0],Y=F[1];Y.node().addEventListener("click",function(){return c(v,G)})}}function l(v,A,d){var u=d.xref+d.yref;w.setClipUrl(v,"clip"+A._fullLayout._uid+u,A)}function c(v,A){if(s(v)){var d=A.node(),u=+d.getAttribute("data-index");if(u>=0){if(u===v._fullLayout._activeSelectionIndex){m(v);return}v._fullLayout._activeSelectionIndex=u,v._fullLayout._deactivateSelection=m,r(v)}}}function f(v){if(s(v)){var A=v._fullLayout.selections.length-1;v._fullLayout._activeSelectionIndex=A,v._fullLayout._deactivateSelection=m,r(v)}}function m(v){if(s(v)){var A=v._fullLayout._activeSelectionIndex;A>=0&&(a(v),delete v._fullLayout._activeSelectionIndex,r(v))}}},53777:function(B,N,e){var p=e(79952).P,L=e(1426).extendFlat;B.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:L({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(B){B.exports=function(e,p,L){L("newselection.mode");var a=L("newselection.line.width");a&&(L("newselection.line.color"),L("newselection.line.dash")),L("activeselection.fillcolor"),L("activeselection.opacity")}},35855:function(B,N,e){var p=e(64505),L=p.selectMode,a=e(51873),C=a.clearOutline,w=e(60165),h=w.readPaths,g=w.writePaths,t=w.fixDatesForPaths;B.exports=function(s,n){if(s.length){var l=s[0][0];if(l){var c=l.getAttribute("d"),f=n.gd,m=f._fullLayout.newselection,v=n.plotinfo,A=v.xaxis,d=v.yaxis,u=n.isActiveSelection,y=n.dragmode,M=(f.layout||{}).selections||[];if(!L(y)&&u!==void 0){var S=f._fullLayout._activeSelectionIndex;if(S<M.length)switch(f._fullLayout.selections[S].type){case"rect":y="select";break;case"path":y="lasso";break}}var R=h(c,f,v,u),x={xref:A._id,yref:d._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},E;R.length===1&&(E=R[0]),E&&E.length===5&&y==="select"?(x.type="rect",x.x0=E[0][1],x.y0=E[0][2],x.x1=E[2][1],x.y1=E[2][2]):(x.type="path",A&&d&&t(R,A,d),x.path=g(R),E=null),C(f);for(var T=n.editHelpers,i=(T||{}).modifyItem,D=[],b=0;b<M.length;b++){var O=f._fullLayout.selections[b];if(!O){D[b]=O;continue}if(D[b]=O._input,u!==void 0&&b===f._fullLayout._activeSelectionIndex){var F=x;switch(O.type){case"rect":i("x0",F.x0),i("x1",F.x1),i("y0",F.y0),i("y1",F.y1);break;case"path":i("path",F.path);break}}}return u===void 0?(D.push(x),D):T?T.getUpdateObj():{}}}}},75549:function(B,N,e){var p=e(71828).strTranslate;function L(h,g){switch(h.type){case"log":return h.p2d(g);case"date":return h.p2r(g,0,h.calendar);default:return h.p2r(g)}}function a(h,g){switch(h.type){case"log":return h.d2p(g);case"date":return h.r2p(g,0,h.calendar);default:return h.r2p(g)}}function C(h){var g=h._id.charAt(0)==="y"?1:0;return function(t){return L(h,t[g])}}function w(h){return p(h.xaxis._offset,h.yaxis._offset)}B.exports={p2r:L,r2p:a,axValue:C,getTransform:w}},47322:function(B,N,e){var p=e(32485),L=e(3937);B.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:L.reselect,prepSelect:L.prepSelect,clearOutline:L.clearOutline,clearSelectionsCache:L.clearSelectionsCache,selectOnClick:L.selectOnClick}},3937:function(B,N,e){var p=e(52142),L=e(38258),a=e(73972),C=e(91424).dashStyle,w=e(7901),h=e(30211),g=e(23469).makeEventData,t=e(64505),r=t.freeMode,s=t.rectMode,n=t.drawMode,l=t.openMode,c=t.selectMode,f=e(30477),m=e(21459),v=e(42359),A=e(51873).clearOutline,d=e(60165),u=d.handleEllipse,y=d.readPaths,M=e(90551).newShapes,S=e(35855),R=e(32485).activateLastSelection,x=e(71828),E=x.sorterAsc,T=e(61082),i=e(79990),D=e(41675).getFromId,b=e(33306),O=e(61549).redrawReglTraces,F=e(34122),V=F.MINSELECT,_=T.filter,U=T.tester,H=e(75549),z=H.p2r,G=H.axValue,Y=H.getTransform;function J(Be){return Be.subplot!==void 0}function ae(Be,De,Te,xe,Me){var Pe=!J(xe),He=r(Me),Ke=s(Me),qe=l(Me),vt=n(Me),bt=c(Me),Wt=Me==="drawline",qt=Me==="drawcircle",At=Wt||qt,zt=xe.gd,Kt=zt._fullLayout,Sr=bt&&Kt.newselection.mode==="immediate"&&Pe,yt=Kt._zoomlayer,Zt=xe.element.getBoundingClientRect(),$t=xe.plotinfo,mr=Y($t),ur=De-Zt.left,pt=Te-Zt.top;Kt._calcInverseTransform(zt);var st=x.apply3DTransform(Kt._invTransform)(ur,pt);ur=st[0],pt=st[1];var xt=Kt._invScaleX,St=Kt._invScaleY,Dt=ur,Rt=pt,Bt="M"+ur+","+pt,Nt=xe.xaxes[0],Xt=xe.yaxes[0],lr=Nt._length,sr=Xt._length,dr=Be.altKey&&!(n(Me)&&qe),Ye,je,It,kt,jt,tr,or;K(Be,zt,xe),He&&(Ye=_([[ur,pt]],F.BENDPX));var rr=yt.selectAll("path.select-outline-"+$t.id).data([1]),_t=vt?Kt.newshape:Kt.newselection;vt&&(xe.hasText=_t.label.text||_t.label.texttemplate);var hr=vt&&!qe?_t.fillcolor:"rgba(0,0,0,0)",gr=_t.line.color||(Pe?w.contrast(zt._fullLayout.plot_bgcolor):"#7f7f7f");rr.enter().append("path").attr("class","select-outline select-outline-"+$t.id).style({opacity:vt?_t.opacity/2:1,"stroke-dasharray":C(_t.line.dash,_t.line.width),"stroke-width":_t.line.width+"px","shape-rendering":"crispEdges"}).call(w.stroke,gr).call(w.fill,hr).attr("fill-rule","evenodd").classed("cursor-move",!!vt).attr("transform",mr).attr("d",Bt+"Z");var pr=yt.append("path").attr("class","zoombox-corners").style({fill:w.background,stroke:w.defaultLine,"stroke-width":1}).attr("transform",mr).attr("d","M0,0Z");if(vt&&xe.hasText){var vr=yt.select(".label-temp");vr.empty()&&(vr=yt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Gr=Kt._uid+F.SELECTID,Fr=[],_r=ue(zt,xe.xaxes,xe.yaxes,xe.subplot);Sr&&!Be.shiftKey&&(xe._clearSubplotSelections=function(){if(Pe){var tn=Nt._id,Bn=Xt._id;et(zt,tn,Bn,_r);for(var An=(zt.layout||{}).selections||[],Mr=[],Cr=!1,jr=0;jr<An.length;jr++){var Hr=Kt.selections[jr];Hr.xref!==tn||Hr.yref!==Bn?Mr.push(An[jr]):Cr=!0}Cr&&(zt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",zt,{selections:Mr}))}});var gn=Vt(xe);xe.moveFn=function(tn,Bn){xe._clearSubplotSelections&&(xe._clearSubplotSelections(),xe._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(lr,xt*tn+ur)),Rt=Math.max(0,Math.min(sr,St*Bn+pt));var An=Math.abs(Dt-ur),Mr=Math.abs(Rt-pt);if(Ke){var Cr,jr,Hr;if(bt){var on=Kt.selectdirection;switch(on==="any"?Mr<Math.min(An*.6,V)?Cr="h":An<Math.min(Mr*.6,V)?Cr="v":Cr="d":Cr=on,Cr){case"h":jr=qt?sr/2:0,Hr=sr;break;case"v":jr=qt?lr/2:0,Hr=lr;break}}if(vt)switch(Kt.newshape.drawdirection){case"vertical":Cr="h",jr=qt?sr/2:0,Hr=sr;break;case"horizontal":Cr="v",jr=qt?lr/2:0,Hr=lr;break;case"ortho":An<Mr?(Cr="h",jr=pt,Hr=Rt):(Cr="v",jr=ur,Hr=Dt);break;default:Cr="d"}Cr==="h"?(kt=At?u(qt,[Dt,jr],[Dt,Hr]):[[ur,jr],[ur,Hr],[Dt,Hr],[Dt,jr]],kt.xmin=At?Dt:Math.min(ur,Dt),kt.xmax=At?Dt:Math.max(ur,Dt),kt.ymin=Math.min(jr,Hr),kt.ymax=Math.max(jr,Hr),pr.attr("d","M"+kt.xmin+","+(pt-V)+"h-4v"+2*V+"h4ZM"+(kt.xmax-1)+","+(pt-V)+"h4v"+2*V+"h-4Z")):Cr==="v"?(kt=At?u(qt,[jr,Rt],[Hr,Rt]):[[jr,pt],[jr,Rt],[Hr,Rt],[Hr,pt]],kt.xmin=Math.min(jr,Hr),kt.xmax=Math.max(jr,Hr),kt.ymin=At?Rt:Math.min(pt,Rt),kt.ymax=At?Rt:Math.max(pt,Rt),pr.attr("d","M"+(ur-V)+","+kt.ymin+"v-4h"+2*V+"v4ZM"+(ur-V)+","+(kt.ymax-1)+"v4h"+2*V+"v-4Z")):Cr==="d"&&(kt=At?u(qt,[ur,pt],[Dt,Rt]):[[ur,pt],[ur,Rt],[Dt,Rt],[Dt,pt]],kt.xmin=Math.min(ur,Dt),kt.xmax=Math.max(ur,Dt),kt.ymin=Math.min(pt,Rt),kt.ymax=Math.max(pt,Rt),pr.attr("d","M0,0Z"))}else He&&(Ye.addPt([Dt,Rt]),kt=Ye.filtered);if(xe.selectionDefs&&xe.selectionDefs.length?(It=we(xe.mergedPolygons,kt,dr),kt.subtract=dr,je=$(xe.selectionDefs.concat([kt]))):(It=[kt],je=U(kt)),v(Ve(It,qe),rr,xe),bt){var yn=ke(zt,!1),xn=yn.eventData?yn.eventData.points.slice():[];yn=ke(zt,!1,je,_r,xe),je=yn.selectionTesters,or=yn.eventData;var Rn;Ye?Rn=Ye.filtered:Rn=gt(It),i.throttle(Gr,F.SELECTDELAY,function(){Fr=Ne(je,_r);for(var _n=Fr.slice(),sa=0;sa<xn.length;sa++){for(var Zn=xn[sa],qn=!1,jn=0;jn<_n.length;jn++)if(_n[jn].curveNumber===Zn.curveNumber&&_n[jn].pointNumber===Zn.pointNumber){qn=!0;break}qn||_n.push(Zn)}_n.length&&(or||(or={}),or.points=_n),gn(or,Rn),Je(zt,or)})}},xe.clickFn=function(tn,Bn){if(pr.remove(),zt._fullLayout._activeShapeIndex>=0){zt._fullLayout._deactivateShape(zt);return}if(!vt){var An=Kt.clickmode;i.done(Gr).then(function(){if(i.clear(Gr),tn===2){for(rr.remove(),jt=0;jt<_r.length;jt++)tr=_r[jt],tr._module.selectPoints(tr,!1);if(Ue(zt,_r),te(xe),Fe(zt),_r.length){var Mr=_r[0].xaxis,Cr=_r[0].yaxis;if(Mr&&Cr){for(var jr=[],Hr=zt._fullLayout.selections,on=0;on<Hr.length;on++){var yn=Hr[on];yn&&(yn.xref!==Mr._id||yn.yref!==Cr._id)&&jr.push(yn)}jr.length<Hr.length&&(zt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",zt,{selections:jr}))}}}else An.indexOf("select")>-1&&oe(Bn,zt,xe.xaxes,xe.yaxes,xe.subplot,xe,rr),An==="event"&&_e(zt,void 0);h.click(zt,Bn,$t.id)}).catch(x.error)}},xe.doneFn=function(){pr.remove(),i.done(Gr).then(function(){i.clear(Gr),!Sr&&kt&&xe.selectionDefs&&(kt.subtract=dr,xe.selectionDefs.push(kt),xe.mergedPolygons.length=0,[].push.apply(xe.mergedPolygons,It)),(Sr||vt)&&te(xe,Sr),xe.doneFnCompleted&&xe.doneFnCompleted(Fr),bt&&_e(zt,or)}).catch(x.error)}}function oe(Be,De,Te,xe,Me,Pe,He){var Ke=De._hoverdata,qe=De._fullLayout,vt=qe.clickmode,bt=vt.indexOf("event")>-1,Wt=[],qt,At,zt,Kt,Sr,yt,Zt,$t,mr,ur;if(ve(Ke)){K(Be,De,Pe),qt=ue(De,Te,xe,Me);var pt=be(Ke,qt),st=pt.pointNumbers.length>0;if(st?Ae(qt,pt):Oe(qt)&&(Zt=Ee(pt))){for(He&&He.remove(),ur=0;ur<qt.length;ur++)At=qt[ur],At._module.selectPoints(At,!1);Ue(De,qt),te(Pe),bt&&Fe(De)}else{$t=Be.shiftKey&&(Zt!==void 0?Zt:Ee(pt)),zt=he(pt.pointNumber,pt.searchInfo,$t);var xt=Pe.selectionDefs.concat([zt]);for(Kt=$(xt),ur=0;ur<qt.length;ur++)if(Sr=qt[ur]._module.selectPoints(qt[ur],Kt),yt=Ce(Sr,qt[ur]),Wt.length)for(var St=0;St<yt.length;St++)Wt.push(yt[St]);else Wt=yt;if(mr={points:Wt},Ue(De,qt,mr),zt&&Pe&&Pe.selectionDefs.push(zt),He){var Dt=Pe.mergedPolygons,Rt=l(Pe.dragmode);v(Ve(Dt,Rt),He,Pe)}bt&&_e(De,mr)}}}function he(Be,De,Te){return{pointNumber:Be,searchInfo:De,subtract:!!Te}}function q(Be){return"pointNumber"in Be&&"searchInfo"in Be}function Z(Be){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(De,Te,xe,Me){var Pe=Be.searchInfo.cd[0].trace._expandedIndex,He=Me.cd[0].trace._expandedIndex;return He===Pe&&xe===Be.pointNumber},isRect:!1,degenerate:!1,subtract:!!Be.subtract}}function $(Be){if(!Be.length)return;for(var De=[],Te=q(Be[0])?0:Be[0][0][0],xe=Te,Me=q(Be[0])?0:Be[0][0][1],Pe=Me,He=0;He<Be.length;He++)if(q(Be[He]))De.push(Z(Be[He]));else{var Ke=U(Be[He]);Ke.subtract=!!Be[He].subtract,De.push(Ke),Te=Math.min(Te,Ke.xmin),xe=Math.max(xe,Ke.xmax),Me=Math.min(Me,Ke.ymin),Pe=Math.max(Pe,Ke.ymax)}function qe(vt,bt,Wt,qt){for(var At=!1,zt=0;zt<De.length;zt++)De[zt].contains(vt,bt,Wt,qt)&&(At=!De[zt].subtract);return At}return{xmin:Te,xmax:xe,ymin:Me,ymax:Pe,pts:[],contains:qe,isRect:!1,degenerate:!1}}function K(Be,De,Te){var xe=De._fullLayout,Me=Te.plotinfo,Pe=Te.dragmode,He=xe._lastSelectedSubplot&&xe._lastSelectedSubplot===Me.id,Ke=(Be.shiftKey||Be.altKey)&&!(n(Pe)&&l(Pe));He&&Ke&&Me.selection&&Me.selection.selectionDefs&&!Te.selectionDefs?(Te.selectionDefs=Me.selection.selectionDefs,Te.mergedPolygons=Me.selection.mergedPolygons):(!Ke||!Me.selection)&&te(Te),He||(A(De),xe._lastSelectedSubplot=Me.id)}function re(Be){return Be._fullLayout._activeShapeIndex>=0}function le(Be){return Be._fullLayout._activeSelectionIndex>=0}function te(Be,De){var Te=Be.dragmode,xe=Be.plotinfo,Me=Be.gd;re(Me)&&Me._fullLayout._deactivateShape(Me),le(Me)&&Me._fullLayout._deactivateSelection(Me);var Pe=Me._fullLayout,He=Pe._zoomlayer,Ke=n(Te),qe=c(Te);if(Ke||qe){var vt=He.selectAll(".select-outline-"+xe.id);if(vt&&Me._fullLayout._outlining){var bt;Ke&&(bt=M(vt,Be)),bt&&a.call("_guiRelayout",Me,{shapes:bt});var Wt;qe&&!J(Be)&&(Wt=S(vt,Be)),Wt&&(Me._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Me,{selections:Wt}).then(function(){De&&R(Me)})),Me._fullLayout._outlining=!1}}xe.selection={},xe.selection.selectionDefs=Be.selectionDefs=[],xe.selection.mergedPolygons=Be.mergedPolygons=[]}function ee(Be){return Be._id}function ue(Be,De,Te,xe){if(!Be.calcdata)return[];var Me=[],Pe=De.map(ee),He=Te.map(ee),Ke,qe,vt;for(vt=0;vt<Be.calcdata.length;vt++)if(Ke=Be.calcdata[vt],qe=Ke[0].trace,!(qe.visible!==!0||!qe._module||!qe._module.selectPoints))if(J({subplot:xe})&&(qe.subplot===xe||qe.geo===xe))Me.push(se(qe._module,Ke,De[0],Te[0]));else if(qe.type==="splom"){if(qe._xaxes[Pe[0]]&&qe._yaxes[He[0]]){var bt=se(qe._module,Ke,De[0],Te[0]);bt.scene=Be._fullLayout._splomScenes[qe.uid],Me.push(bt)}}else if(qe.type==="sankey"){var Wt=se(qe._module,Ke,De[0],Te[0]);Me.push(Wt)}else{if(Pe.indexOf(qe.xaxis)===-1||He.indexOf(qe.yaxis)===-1)continue;Me.push(se(qe._module,Ke,D(Be,qe.xaxis),D(Be,qe.yaxis)))}return Me}function se(Be,De,Te,xe){return{_module:Be,cd:De,xaxis:Te,yaxis:xe}}function ve(Be){return Be&&Array.isArray(Be)&&Be[0].hoverOnBox!==!0}function be(Be,De){var Te=Be[0],xe=-1,Me=[],Pe,He;for(He=0;He<De.length;He++)if(Pe=De[He],Te.fullData._expandedIndex===Pe.cd[0].trace._expandedIndex){if(Te.hoverOnBox===!0)break;Te.pointNumber!==void 0?xe=Te.pointNumber:Te.binNumber!==void 0&&(xe=Te.binNumber,Me=Te.pointNumbers);break}return{pointNumber:xe,pointNumbers:Me,searchInfo:Pe}}function Ee(Be){var De=Be.searchInfo.cd[0].trace,Te=Be.pointNumber,xe=Be.pointNumbers,Me=xe.length>0,Pe=Me?xe[0]:Te;return De.selectedpoints?De.selectedpoints.indexOf(Pe)>-1:!1}function Ae(Be,De){var Te=[],xe,Me,Pe,He;for(He=0;He<Be.length;He++)xe=Be[He],xe.cd[0].trace.selectedpoints&&xe.cd[0].trace.selectedpoints.length>0&&Te.push(xe);if(Te.length===1&&(Pe=Te[0]===De.searchInfo,Pe&&(Me=De.searchInfo.cd[0].trace,Me.selectedpoints.length===De.pointNumbers.length))){for(He=0;He<De.pointNumbers.length;He++)if(Me.selectedpoints.indexOf(De.pointNumbers[He])<0)return!1;return!0}return!1}function Oe(Be){var De=0,Te,xe,Me;for(Me=0;Me<Be.length;Me++)if(Te=Be[Me],xe=Te.cd[0].trace,xe.selectedpoints&&(xe.selectedpoints.length>1||(De+=xe.selectedpoints.length,De>1)))return!1;return De===1}function Ue(Be,De,Te){var xe;for(xe=0;xe<De.length;xe++){var Me=De[xe].cd[0].trace._fullInput,Pe=Be._fullLayout._tracePreGUI[Me.uid]||{};Pe.selectedpoints===void 0&&(Pe.selectedpoints=Me._input.selectedpoints||null)}var He;if(Te){var Ke=Te.points||[];for(xe=0;xe<De.length;xe++)He=De[xe].cd[0].trace,He._input.selectedpoints=He._fullInput.selectedpoints=[],He._fullInput!==He&&(He.selectedpoints=[]);for(var qe=0;qe<Ke.length;qe++){var vt=Ke[qe],bt=vt.data,Wt=vt.fullData,qt=vt.pointIndex,At=vt.pointIndices;At?([].push.apply(bt.selectedpoints,At),He._fullInput!==He&&[].push.apply(Wt.selectedpoints,At)):(bt.selectedpoints.push(qt),He._fullInput!==He&&Wt.selectedpoints.push(qt))}}else for(xe=0;xe<De.length;xe++)He=De[xe].cd[0].trace,delete He.selectedpoints,delete He._input.selectedpoints,He._fullInput!==He&&delete He._fullInput.selectedpoints;Le(Be,De)}function Le(Be,De){for(var Te=!1,xe=0;xe<De.length;xe++){var Me=De[xe],Pe=Me.cd;a.traceIs(Pe[0].trace,"regl")&&(Te=!0);var He=Me._module,Ke=He.styleOnSelect||He.style;Ke&&(Ke(Be,Pe,Pe[0].node3),Pe[0].nodeRangePlot3&&Ke(Be,Pe,Pe[0].nodeRangePlot3))}Te&&(b(Be),O(Be))}function we(Be,De,Te){for(var xe=Te?p.difference:p.union,Me=xe({regions:Be},{regions:[De]}),Pe=Me.regions.reverse(),He=0;He<Pe.length;He++){var Ke=Pe[He];Ke.subtract=ct(Ke,Pe.slice(0,He))}return Pe}function Ce(Be,De){if(Array.isArray(Be))for(var Te=De.cd,xe=De.cd[0].trace,Me=0;Me<Be.length;Me++)Be[Me]=g(Be[Me],xe,Te);return Be}function Ve(Be,De){for(var Te=[],xe=0;xe<Be.length;xe++){Te[xe]=[];for(var Me=0;Me<Be[xe].length;Me++){Te[xe][Me]=[],Te[xe][Me][0]=Me?"L":"M";for(var Pe=0;Pe<Be[xe][Me].length;Pe++)Te[xe][Me].push(Be[xe][Me][Pe])}De||Te[xe].push(["Z",Te[xe][0][1],Te[xe][0][2]])}return Te}function Ne(Be,De){for(var Te=[],xe,Me,Pe=0;Pe<De.length;Pe++){var He=De[Pe];Me=He._module.selectPoints(He,Be),xe=Ce(Me,He),Te=Te.concat(xe)}return Te}function ke(Be,De,Te,xe,Me){var Pe=!!xe,He,Ke,qe;Me&&(He=Me.plotinfo,Ke=Me.xaxes[0]._id,qe=Me.yaxes[0]._id);var vt=[],bt=[],Wt=at(Be),qt=Be._fullLayout;if(He){var At=qt._zoomlayer,zt=qt.dragmode,Kt=n(zt),Sr=c(zt);if(Kt||Sr){var yt=D(Be,Ke,"x"),Zt=D(Be,qe,"y");if(yt&&Zt){var $t=At.selectAll(".select-outline-"+He.id);if($t&&Be._fullLayout._outlining&&$t.length){for(var mr=$t[0][0],ur=mr.getAttribute("d"),pt=y(ur,Be,He),st=[],xt=0;xt<pt.length;xt++){for(var St=pt[xt],Dt=[],Rt=0;Rt<St.length;Rt++)Dt.push([dt(yt,St[Rt][1]),dt(Zt,St[Rt][2])]);Dt.xref=Ke,Dt.yref=qe,Dt.subtract=ct(Dt,st),st.push(Dt)}Wt=Wt.concat(st)}}}}var Bt=Ke&&qe?[Ke+qe]:qt._subplots.cartesian;We(Be);for(var Nt={},Xt=0;Xt<Bt.length;Xt++){var lr=Bt[Xt],sr=lr.indexOf("y"),dr=lr.slice(0,sr),Ye=lr.slice(sr),je=Ke&&qe?Te:void 0;if(je=tt(Wt,dr,Ye,je),je){var It=xe;if(!Pe){var kt=D(Be,dr,"x"),jt=D(Be,Ye,"y");It=ue(Be,[kt],[jt],lr);for(var tr=0;tr<It.length;tr++){var or=It[tr],rr=or.cd[0],_t=rr.trace;if(or._module.name==="scattergl"&&!rr.t.xpx){var hr=_t.x,gr=_t.y,pr=_t._length;rr.t.xpx=[],rr.t.ypx=[];for(var vr=0;vr<pr;vr++)rr.t.xpx[vr]=kt.c2p(hr[vr]),rr.t.ypx[vr]=jt.c2p(gr[vr])}or._module.name==="splom"&&(Nt[_t.uid]||(Nt[_t.uid]=!0))}}var Gr=Ne(je,It);vt=vt.concat(Gr),bt=bt.concat(It)}}var Fr={points:vt};Ue(Be,bt,Fr);var _r=qt.clickmode,gn=_r.indexOf("event")>-1&&De;if(!He&&De){var tn=at(Be,!0);if(tn.length){var Bn=tn[0].xref,An=tn[0].yref;if(Bn&&An){var Mr=gt(tn),Cr=Ct([D(Be,Bn,"x"),D(Be,An,"y")]);Cr(Fr,Mr)}}Be._fullLayout._noEmitSelectedAtStart?Be._fullLayout._noEmitSelectedAtStart=!1:gn&&_e(Be,Fr),qt._reselect=!1}if(!He&&qt._deselect){var jr=qt._deselect;Ke=jr.xref,qe=jr.yref,rt(Ke,qe,bt)||et(Be,Ke,qe,xe),gn&&(Fr.points.length?_e(Be,Fr):Fe(Be)),qt._deselect=!1}return{eventData:Fr,selectionTesters:Te}}function We(Be){var De=Be.calcdata;if(De)for(var Te=0;Te<De.length;Te++){var xe=De[Te][0],Me=xe.trace,Pe=Be._fullLayout._splomScenes;if(Pe){var He=Pe[Me.uid];He&&(He.selectBatch=[])}}}function rt(Be,De,Te){for(var xe=0;xe<Te.length;xe++){var Me=Te[xe];if(Me.xaxis&&Me.xaxis._id===Be&&Me.yaxis&&Me.yaxis._id===De)return!0}return!1}function et(Be,De,Te,xe){xe=ue(Be,[D(Be,De,"x")],[D(Be,Te,"y")],De+Te);for(var Me=0;Me<xe.length;Me++){var Pe=xe[Me];Pe._module.selectPoints(Pe,!1)}Ue(Be,xe)}function tt(Be,De,Te,xe){for(var Me,Pe=0;Pe<Be.length;Pe++){var He=Be[Pe];if(!(De!==He.xref||Te!==He.yref))if(Me){var Ke=!!He.subtract;Me=we(Me,He,Ke),xe=$(Me)}else Me=[He],xe=U(He)}return xe}function at(Be,De){for(var Te=[],xe=Be._fullLayout,Me=xe.selections,Pe=Me.length,He=0;He<Pe;He++)if(!(De&&He!==xe._activeSelectionIndex)){var Ke=Me[He];if(Ke){var qe=Ke.xref,vt=Ke.yref,bt=D(Be,qe,"x"),Wt=D(Be,vt,"y"),qt,At,zt,Kt,Sr;if(Ke.type==="rect"){Sr=[];var yt=dt(bt,Ke.x0),Zt=dt(bt,Ke.x1),$t=dt(Wt,Ke.y0),mr=dt(Wt,Ke.y1);Sr=[[yt,$t],[yt,mr],[Zt,mr],[Zt,$t]],qt=Math.min(yt,Zt),At=Math.max(yt,Zt),zt=Math.min($t,mr),Kt=Math.max($t,mr),Sr.xmin=qt,Sr.xmax=At,Sr.ymin=zt,Sr.ymax=Kt,Sr.xref=qe,Sr.yref=vt,Sr.subtract=!1,Sr.isRect=!0,Te.push(Sr)}else if(Ke.type==="path")for(var ur=Ke.path.split("Z"),pt=[],st=0;st<ur.length;st++){var xt=ur[st];if(xt){xt+="Z";var St=f.extractPathCoords(xt,m.paramIsX,"raw"),Dt=f.extractPathCoords(xt,m.paramIsY,"raw");qt=1/0,At=-1/0,zt=1/0,Kt=-1/0,Sr=[];for(var Rt=0;Rt<St.length;Rt++){var Bt=dt(bt,St[Rt]),Nt=dt(Wt,Dt[Rt]);Sr.push([Bt,Nt]),qt=Math.min(Bt,qt),At=Math.max(Bt,At),zt=Math.min(Nt,zt),Kt=Math.max(Nt,Kt)}Sr.xmin=qt,Sr.xmax=At,Sr.ymin=zt,Sr.ymax=Kt,Sr.xref=qe,Sr.yref=vt,Sr.subtract=ct(Sr,pt),pt.push(Sr),Te.push(Sr)}}}}return Te}function ct(Be,De){for(var Te=!1,xe=0;xe<De.length;xe++)for(var Me=De[xe],Pe=0;Pe<Be.length;Pe++)if(L(Be[Pe],Me)){Te=!Te;break}return Te}function dt(Be,De){return Be.type==="date"&&(De=De.replace("_"," ")),Be.type==="log"?Be.c2p(De):Be.r2p(De,null,Be.calendar)}function gt(Be){for(var De=Be.length,Te=[],xe=0;xe<De;xe++){var Me=Be[xe];Te=Te.concat(Me),Te=Te.concat([Me[0]])}return Et(Te)}function Et(Be){return Be.isRect=Be.length===5&&Be[0][0]===Be[4][0]&&Be[0][1]===Be[4][1]&&Be[0][0]===Be[1][0]&&Be[2][0]===Be[3][0]&&Be[0][1]===Be[3][1]&&Be[1][1]===Be[2][1]||Be[0][1]===Be[1][1]&&Be[2][1]===Be[3][1]&&Be[0][0]===Be[3][0]&&Be[1][0]===Be[2][0],Be.isRect&&(Be.xmin=Math.min(Be[0][0],Be[2][0]),Be.xmax=Math.max(Be[0][0],Be[2][0]),Be.ymin=Math.min(Be[0][1],Be[2][1]),Be.ymax=Math.max(Be[0][1],Be[2][1])),Be}function Ct(Be){return function(De,Te){for(var xe,Me,Pe=0;Pe<Be.length;Pe++){var He=Be[Pe],Ke=He._id,qe=Ke.charAt(0);if(Te.isRect){xe||(xe={});var vt=Te[qe+"min"],bt=Te[qe+"max"];vt!==void 0&&bt!==void 0&&(xe[Ke]=[z(He,vt),z(He,bt)].sort(E))}else Me||(Me={}),Me[Ke]=Te.map(G(He))}xe&&(De.range=xe),Me&&(De.lassoPoints=Me)}}function Vt(Be){var De=Be.plotinfo;return De.fillRangeItems||Ct(Be.xaxes.concat(Be.yaxes))}function Je(Be,De){Be.emit("plotly_selecting",De)}function _e(Be,De){De&&(De.selections=(Be.layout||{}).selections||[]),Be.emit("plotly_selected",De)}function Fe(Be){Be.emit("plotly_deselect",null)}B.exports={reselect:ke,prepSelect:ae,clearOutline:A,clearSelectionsCache:te,selectOnClick:oe}},89827:function(B,N,e){var p=e(50215),L=e(41940),a=e(82196).line,C=e(79952).P,w=e(1426).extendFlat,h=e(44467).templatedArray;e(24695);var g=e(9012),t=e(5386).R,r=e(37281);B.exports=h("shape",{visible:w({},g.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:w({},g.legend,{editType:"calc+arraydraw"}),legendgroup:w({},g.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:w({},g.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:L({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:w({},g.legendrank,{editType:"calc+arraydraw"}),legendwidth:w({},g.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:w({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:w({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:w({},a.color,{editType:"arraydraw"}),width:w({},a.width,{editType:"calc+arraydraw"}),dash:w({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(r)}),font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(B,N,e){var p=e(71828),L=e(89298),a=e(21459),C=e(30477);B.exports=function(s){var n=s._fullLayout,l=p.filterVisible(n.shapes);if(!(!l.length||!s._fullData.length))for(var c=0;c<l.length;c++){var f=l[c];f._extremes={};var m,v,A=L.getRefType(f.xref),d=L.getRefType(f.yref);if(f.xref!=="paper"&&A!=="domain"){var u=f.xsizemode==="pixel"?f.xanchor:f.x0,y=f.xsizemode==="pixel"?f.xanchor:f.x1;m=L.getFromId(s,f.xref),v=t(m,u,y,f.path,a.paramIsX),v&&(f._extremes[m._id]=L.findExtremes(m,v,w(f)))}if(f.yref!=="paper"&&d!=="domain"){var M=f.ysizemode==="pixel"?f.yanchor:f.y0,S=f.ysizemode==="pixel"?f.yanchor:f.y1;m=L.getFromId(s,f.yref),v=t(m,M,S,f.path,a.paramIsY),v&&(f._extremes[m._id]=L.findExtremes(m,v,h(f)))}}};function w(r){return g(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function h(r){return g(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function g(r,s,n,l,c,f){var m=r/2,v=f;if(s==="pixel"){var A=c?C.extractPathCoords(c,f?a.paramIsY:a.paramIsX):[n,l],d=p.aggNums(Math.max,null,A),u=p.aggNums(Math.min,null,A),y=u<0?Math.abs(u)+m:m,M=d>0?d+m:m;return{ppad:m,ppadplus:v?y:M,ppadminus:v?M:y}}else return{ppad:m}}function t(r,s,n,l,c){var f=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(s!==void 0)return[f(s),f(n)];if(l){var m=1/0,v=-1/0,A=l.match(a.segmentRE),d,u,y,M,S;for(r.type==="date"&&(f=C.decodeDate(f)),d=0;d<A.length;d++)u=A[d],y=c[u.charAt(0)].drawn,y!==void 0&&(M=A[d].substr(1).match(a.paramRE),!(!M||M.length<y)&&(S=f(M[y]),S<m&&(m=S),S>v&&(v=S)));if(v>=m)return[m,v]}}},21459:function(B){B.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(B,N,e){var p=e(71828),L=e(89298),a=e(85501),C=e(89827),w=e(30477);B.exports=function(r,s){a(r,s,{name:"shapes",handleItemDefaults:g})};function h(t,r){return t?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function g(t,r,s){function n(q,Z){return p.coerce(t,r,C,q,Z)}r._isShape=!0;var l=n("visible");if(l){var c=n("showlegend");c&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),p.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var f=n("path"),m=f?"path":"rect",v=n("type",m),A=v!=="path";A&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var d=n("line.width");d&&(n("line.color"),n("line.dash"));for(var u=n("xsizemode"),y=n("ysizemode"),M=["x","y"],S=0;S<2;S++){var R=M[S],x=R+"anchor",E=R==="x"?u:y,T={_fullLayout:s},i,D,b,O=L.coerceRef(t,r,T,R,void 0,"paper"),F=L.getRefType(O);if(F==="range"?(i=L.getFromId(T,O),i._shapeIndices.push(r._index),b=w.rangeToShapePosition(i),D=w.shapePositionToRange(i)):D=b=p.identity,A){var V=.25,_=.75,U=R+"0",H=R+"1",z=t[U],G=t[H];t[U]=D(t[U],!0),t[H]=D(t[H],!0),E==="pixel"?(n(U,0),n(H,10)):(L.coercePosition(r,T,n,O,U,V),L.coercePosition(r,T,n,O,H,_)),r[U]=b(r[U]),r[H]=b(r[H]),t[U]=z,t[H]=G}if(E==="pixel"){var Y=t[x];t[x]=D(t[x],!0),L.coercePosition(r,T,n,O,x,.25),r[x]=b(r[x]),t[x]=Y}}A&&p.noneOrAll(t,r,["x0","x1","y0","y1"]);var J=v==="line",ae,oe;if(A&&(ae=n("label.texttemplate")),ae||(oe=n("label.text")),oe||ae){n("label.textangle");var he=n("label.textposition",J?"middle":"middle center");n("label.xanchor"),n("label.yanchor",h(J,he)),n("label.padding"),p.coerceFont(n,"label.font",s.font)}}}},48100:function(B,N,e){var p=e(71828),L=e(89298),a=e(63893),C=e(91424),w=e(60165).readPaths,h=e(30477),g=h.getPathString,t=e(37281),r=e(18783).FROM_TL;B.exports=function(c,f,m,v){if(v.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var A;if(m.label.texttemplate){var d={};if(m.type!=="path"){var u=L.getFromId(c,m.xref),y=L.getFromId(c,m.yref);for(var M in t){var S=t[M](m,u,y);S!==void 0&&(d[M]=S)}}A=p.texttemplateStringForShapes(m.label.texttemplate,{},c._fullLayout._d3locale,d)}else A=m.label.text;var R={"data-index":f},x=m.label.font,E={"data-notex":1},T=v.append("g").attr(R).classed("shape-label",!0),i=T.append("text").attr(E).classed("shape-label-text",!0).text(A),D,b,O,F;if(m.path){var V=g(c,m),_=w(V,c);D=1/0,O=1/0,b=-1/0,F=-1/0;for(var U=0;U<_.length;U++)for(var H=0;H<_[U].length;H++)for(var z=_[U][H],G=1;G<z.length;G+=2){var Y=z[G],J=z[G+1];D=Math.min(D,Y),b=Math.max(b,Y),O=Math.min(O,J),F=Math.max(F,J)}}else{var ae=L.getFromId(c,m.xref),oe=L.getRefType(m.xref),he=L.getFromId(c,m.yref),q=L.getRefType(m.yref),Z=h.getDataToPixel(c,ae,!1,oe),$=h.getDataToPixel(c,he,!0,q);D=Z(m.x0),b=Z(m.x1),O=$(m.y0),F=$(m.y1)}var K=m.label.textangle;K==="auto"&&(m.type==="line"?K=s(D,O,b,F):K=0),i.call(function(se){return se.call(C.font,x).attr({}),a.convertToTspans(se,c),se});var re=C.bBox(i.node()),le=n(D,O,b,F,m,K,re),te=le.textx,ee=le.texty,ue=le.xanchor;i.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ue],y:ee,x:te,transform:"rotate("+K+","+te+","+ee+")"}).call(a.positionText,te,ee)}};function s(l,c,f,m){var v,A;return A=Math.abs(f-l),f>=l?v=c-m:v=m-c,-180/Math.PI*Math.atan2(v,A)}function n(l,c,f,m,v,A,d){var u=v.label.textposition,y=v.label.textangle,M=v.label.padding,S=v.type,R=Math.PI/180*A,x=Math.sin(R),E=Math.cos(R),T=v.label.xanchor,i=v.label.yanchor,D,b,O,F;if(S==="line"){u==="start"?(D=l,b=c):u==="end"?(D=f,b=m):(D=(l+f)/2,b=(c+m)/2),T==="auto"&&(u==="start"?y==="auto"?f>l?T="left":f<l?T="right":T="center":f>l?T="right":f<l?T="left":T="center":u==="end"?y==="auto"?f>l?T="right":f<l?T="left":T="center":f>l?T="left":f<l?T="right":T="center":T="center");var V={left:1,center:0,right:-1},_={bottom:-1,middle:0,top:1};if(y==="auto"){var U=_[i];O=-M*x*U,F=M*E*U}else{var H=V[T],z=_[i];O=M*H,F=M*z}D=D+O,b=b+F}else O=M+3,u.indexOf("right")!==-1?(D=Math.max(l,f)-O,T==="auto"&&(T="right")):u.indexOf("left")!==-1?(D=Math.min(l,f)+O,T==="auto"&&(T="left")):(D=(l+f)/2,T==="auto"&&(T="center")),u.indexOf("top")!==-1?b=Math.min(c,m):u.indexOf("bottom")!==-1?b=Math.max(c,m):b=(c+m)/2,F=M,i==="bottom"?b=b-F:i==="top"&&(b=b+F);var G=r[i],Y=v.label.font.size,J=d.height,ae=(J*G-Y)*x,oe=-(J*G-Y)*E;return{textx:D+ae,texty:b+oe,xanchor:T}}},42359:function(B,N,e){var p=e(71828),L=p.strTranslate,a=e(28569),C=e(64505),w=C.drawMode,h=C.selectMode,g=e(73972),t=e(7901),r=e(89995),s=r.i000,n=r.i090,l=r.i180,c=r.i270,f=e(51873),m=f.clearOutlineControllers,v=e(60165),A=v.pointsOnRectangle,d=v.pointsOnEllipse,u=v.writePaths,y=e(90551).newShapes,M=e(90551).createShapeObj,S=e(35855),R=e(48100);B.exports=function i(D,b,O,F){F||(F=0);var V=O.gd;function _(){i(D,b,O,F++),(d(D[0])||O.hasText)&&U({redrawing:!0})}function U(we){var Ce={};O.isActiveShape!==void 0&&(O.isActiveShape=!1,Ce=y(b,O)),O.isActiveSelection!==void 0&&(O.isActiveSelection=!1,Ce=S(b,O),V._fullLayout._reselect=!0),Object.keys(Ce).length&&g.call((we||{}).redrawing?"relayout":"_guiRelayout",V,Ce)}var H=V._fullLayout,z=H._zoomlayer,G=O.dragmode,Y=w(G),J=h(G);(Y||J)&&(V._fullLayout._outlining=!0),m(V),b.attr("d",u(D));var ae,oe,he,q,Z;if(!F&&(O.isActiveShape||O.isActiveSelection)){Z=x([],D);var $=z.append("g").attr("class","outline-controllers");ve($),Le()}if(Y&&O.hasText){var K=z.select(".label-temp"),re=M(b,O,O.dragmode);R(V,"label-temp",re,K)}function le(we){he=+we.srcElement.getAttribute("data-i"),q=+we.srcElement.getAttribute("data-j"),ae[he][q].moveFn=te}function te(we,Ce){if(D.length){var Ve=Z[he][q][1],Ne=Z[he][q][2],ke=D[he],We=ke.length;if(A(ke)){var rt=we,et=Ce;if(O.isActiveSelection){var tt=E(ke,q);tt[1]===ke[q][1]?et=0:rt=0}for(var at=0;at<We;at++)if(at!==q){var ct=ke[at];ct[1]===ke[q][1]&&(ct[1]=Ve+rt),ct[2]===ke[q][2]&&(ct[2]=Ne+et)}if(ke[q][1]=Ve+rt,ke[q][2]=Ne+et,!A(ke))for(var dt=0;dt<We;dt++)for(var gt=0;gt<ke[dt].length;gt++)ke[dt][gt]=Z[he][dt][gt]}else ke[q][1]=Ve+we,ke[q][2]=Ne+Ce;_()}}function ee(){U()}function ue(){if(D.length&&D[he]&&D[he].length){for(var we=[],Ce=0;Ce<D[he].length;Ce++)Ce!==q&&we.push(D[he][Ce]);we.length>1&&!(we.length===2&&we[1][0]==="Z")&&(q===0&&(we[0][0]="M"),D[he]=we,_(),U())}}function se(we,Ce){if(we===2){he=+Ce.srcElement.getAttribute("data-i"),q=+Ce.srcElement.getAttribute("data-j");var Ve=D[he];!A(Ve)&&!d(Ve)&&ue()}}function ve(we){ae=[];for(var Ce=0;Ce<D.length;Ce++){var Ve=D[Ce],Ne=A(Ve),ke=!Ne&&d(Ve);ae[Ce]=[];for(var We=Ve.length,rt=0;rt<We;rt++)if(Ve[rt][0]!=="Z"&&!(ke&&rt!==s&&rt!==n&&rt!==l&&rt!==c)){var et=Ne&&O.isActiveSelection,tt;et&&(tt=E(Ve,rt));var at=Ve[rt][1],ct=Ve[rt][2],dt=we.append(et?"rect":"circle").attr("data-i",Ce).attr("data-j",rt).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(et){var gt=tt[1]-at,Et=tt[2]-ct,Ct=Et?5:Math.max(Math.min(25,Math.abs(gt)-5),5),Vt=gt?5:Math.max(Math.min(25,Math.abs(Et)-5),5);dt.classed(Et?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ct).attr("height",Vt).attr("x",at-Ct/2).attr("y",ct-Vt/2).attr("transform",L(gt/2,Et/2))}else dt.classed("cursor-grab",!0).attr("r",5).attr("cx",at).attr("cy",ct);ae[Ce][rt]={element:dt.node(),gd:V,prepFn:le,doneFn:ee,clickFn:se},a.init(ae[Ce][rt])}}}function be(we,Ce){if(D.length)for(var Ve=0;Ve<D.length;Ve++)for(var Ne=0;Ne<D[Ve].length;Ne++)for(var ke=0;ke+2<D[Ve][Ne].length;ke+=2)D[Ve][Ne][ke+1]=Z[Ve][Ne][ke+1]+we,D[Ve][Ne][ke+2]=Z[Ve][Ne][ke+2]+Ce}function Ee(we,Ce){be(we,Ce),_()}function Ae(we){he=+we.srcElement.getAttribute("data-i"),he||(he=0),oe[he].moveFn=Ee}function Oe(){U()}function Ue(we){we===2&&T(V)}function Le(){if(oe=[],!!D.length){var we=0;oe[we]={element:b[0][0],gd:V,prepFn:Ae,doneFn:Oe,clickFn:Ue},a.init(oe[we])}}};function x(i,D){for(var b=0;b<D.length;b++){var O=D[b];i[b]=[];for(var F=0;F<O.length;F++){i[b][F]=[];for(var V=0;V<O[F].length;V++)i[b][F][V]=O[F][V]}}return i}function E(i,D){var b=i[D][1],O=i[D][2],F=i.length,V,_,U;return V=(D+1)%F,_=i[V][1],U=i[V][2],_===b&&U===O&&(V=(D+2)%F,_=i[V][1],U=i[V][2]),[V,_,U]}function T(i){if(h(i._fullLayout.dragmode)){m(i);var D=i._fullLayout._activeSelectionIndex,b=(i.layout||{}).selections||[];if(D<b.length){for(var O=[],F=0;F<b.length;F++)F!==D&&O.push(b[F]);delete i._fullLayout._activeSelectionIndex;var V=i._fullLayout.selections[D];i._fullLayout._deselect={xref:V.xref,yref:V.yref},g.call("_guiRelayout",i,{selections:O})}}}},34031:function(B,N,e){var p=e(39898),L=e(73972),a=e(71828),C=e(89298),w=e(60165).readPaths,h=e(42359),g=e(48100),t=e(51873).clearOutlineControllers,r=e(7901),s=e(91424),n=e(44467).arrayEditor,l=e(28569),c=e(6964),f=e(21459),m=e(30477),v=m.getPathString;B.exports={draw:A,drawOne:y,eraseActiveShape:T,drawLabel:g};function A(i){var D=i._fullLayout;D._shapeUpperLayer.selectAll("path").remove(),D._shapeLowerLayer.selectAll("path").remove(),D._shapeUpperLayer.selectAll("text").remove(),D._shapeLowerLayer.selectAll("text").remove();for(var b in D._plots){var O=D._plots[b].shapelayer;O&&(O.selectAll("path").remove(),O.selectAll("text").remove())}for(var F=0;F<D.shapes.length;F++)D.shapes[F].visible===!0&&y(i,F)}function d(i){return!!i._fullLayout._outlining}function u(i){return!i._context.edits.shapePosition}function y(i,D){i._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+D+'"]').remove();var b=m.makeShapesOptionsAndPlotinfo(i,D),O=b.options,F=b.plotinfo;if(!O._input||O.visible!==!0)return;if(O.layer!=="below")_(i._fullLayout._shapeUpperLayer);else if(O.xref==="paper"||O.yref==="paper")_(i._fullLayout._shapeLowerLayer);else if(F._hadPlotinfo){var V=F.mainplotinfo||F;_(V.shapelayer)}else _(i._fullLayout._shapeLowerLayer);function _(U){var H=v(i,O),z={"data-index":D,"fill-rule":O.fillrule,d:H},G=O.opacity,Y=O.fillcolor,J=O.line.width?O.line.color:"rgba(0,0,0,0)",ae=O.line.width,oe=O.line.dash;!ae&&O.editable===!0&&(ae=5,oe="solid");var he=H[H.length-1]!=="Z",q=u(i)&&O.editable&&i._fullLayout._activeShapeIndex===D;q&&(Y=he?"rgba(0,0,0,0)":i._fullLayout.activeshape.fillcolor,G=i._fullLayout.activeshape.opacity);var Z=U.append("g").classed("shape-group",!0).attr({"data-index":D}),$=Z.append("path").attr(z).style("opacity",G).call(r.stroke,J).call(r.fill,Y).call(s.dashLine,oe,ae);M(Z,i,O),g(i,D,O,Z);var K;if((q||i._context.edits.shapePosition)&&(K=n(i.layout,"shapes",O)),q){$.style({cursor:"move"});var re={element:$.node(),plotinfo:F,gd:i,editHelpers:K,hasText:O.label.text||O.label.texttemplate,isActiveShape:!0},le=w(H,i);h(le,$,re)}else i._context.edits.shapePosition?S(i,$,O,D,U,K):O.editable===!0&&$.style("pointer-events",he||r.opacity(Y)*G<=.5?"stroke":"all");$.node().addEventListener("click",function(){return x(i,$)})}}function M(i,D,b){var O=(b.xref+b.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(i,O?"clip"+D._fullLayout._uid+O:null,D)}function S(i,D,b,O,F,V){var _=10,U=10,H=b.xsizemode==="pixel",z=b.ysizemode==="pixel",G=b.type==="line",Y=b.type==="path",J=V.modifyItem,ae,oe,he,q,Z,$,K,re,le,te,ee,ue,se,ve,be,Ee=p.select(D.node().parentNode),Ae=C.getFromId(i,b.xref),Oe=C.getRefType(b.xref),Ue=C.getFromId(i,b.yref),Le=C.getRefType(b.yref),we=m.getDataToPixel(i,Ae,!1,Oe),Ce=m.getDataToPixel(i,Ue,!0,Le),Ve=m.getPixelToData(i,Ae,!1,Oe),Ne=m.getPixelToData(i,Ue,!0,Le),ke=et(),We={element:ke.node(),gd:i,prepFn:ct,doneFn:dt,clickFn:gt},rt;l.init(We),ke.node().onmousemove=at;function et(){return G?tt():D}function tt(){var Fe=10,Be=Math.max(b.line.width,Fe),De=F.append("g").attr("data-index",O).attr("drag-helper",!0);De.append("path").attr("d",D.attr("d")).style({cursor:"move","stroke-width":Be,"stroke-opacity":"0"});var Te={"fill-opacity":"0"},xe=Math.max(Be/2,Fe);return De.append("circle").attr({"data-line-point":"start-point",cx:H?we(b.xanchor)+b.x0:we(b.x0),cy:z?Ce(b.yanchor)-b.y0:Ce(b.y0),r:xe}).style(Te).classed("cursor-grab",!0),De.append("circle").attr({"data-line-point":"end-point",cx:H?we(b.xanchor)+b.x1:we(b.x1),cy:z?Ce(b.yanchor)-b.y1:Ce(b.y1),r:xe}).style(Te).classed("cursor-grab",!0),De}function at(Fe){if(d(i)){rt=null;return}if(G)Fe.target.tagName==="path"?rt="move":rt=Fe.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Be=We.element.getBoundingClientRect(),De=Be.right-Be.left,Te=Be.bottom-Be.top,xe=Fe.clientX-Be.left,Me=Fe.clientY-Be.top,Pe=!Y&&De>_&&Te>U&&!Fe.shiftKey?l.getCursor(xe/De,1-Me/Te):"move";c(D,Pe),rt=Pe.split("-")[0]}}function ct(Fe){d(i)||(H&&(Z=we(b.xanchor)),z&&($=Ce(b.yanchor)),b.type==="path"?be=b.path:(ae=H?b.x0:we(b.x0),oe=z?b.y0:Ce(b.y0),he=H?b.x1:we(b.x1),q=z?b.y1:Ce(b.y1)),ae<he?(le=ae,se="x0",te=he,ve="x1"):(le=he,se="x1",te=ae,ve="x0"),!z&&oe<q||z&&oe>q?(K=oe,ee="y0",re=q,ue="y1"):(K=q,ee="y1",re=oe,ue="y0"),at(Fe),Vt(F,b),_e(D,b,i),We.moveFn=rt==="move"?Et:Ct,We.altKey=Fe.altKey)}function dt(){d(i)||(c(D),Je(F),M(D,i,b),L.call("_guiRelayout",i,V.getUpdateObj()))}function gt(){d(i)||Je(F)}function Et(Fe,Be){if(b.type==="path"){var De=function(Me){return Me},Te=De,xe=De;H?J("xanchor",b.xanchor=Ve(Z+Fe)):(Te=function(Pe){return Ve(we(Pe)+Fe)},Ae&&Ae.type==="date"&&(Te=m.encodeDate(Te))),z?J("yanchor",b.yanchor=Ne($+Be)):(xe=function(Pe){return Ne(Ce(Pe)+Be)},Ue&&Ue.type==="date"&&(xe=m.encodeDate(xe))),J("path",b.path=R(be,Te,xe))}else H?J("xanchor",b.xanchor=Ve(Z+Fe)):(J("x0",b.x0=Ve(ae+Fe)),J("x1",b.x1=Ve(he+Fe))),z?J("yanchor",b.yanchor=Ne($+Be)):(J("y0",b.y0=Ne(oe+Be)),J("y1",b.y1=Ne(q+Be)));D.attr("d",v(i,b)),Vt(F,b),g(i,O,b,Ee)}function Ct(Fe,Be){if(Y){var De=function(yt){return yt},Te=De,xe=De;H?J("xanchor",b.xanchor=Ve(Z+Fe)):(Te=function(Zt){return Ve(we(Zt)+Fe)},Ae&&Ae.type==="date"&&(Te=m.encodeDate(Te))),z?J("yanchor",b.yanchor=Ne($+Be)):(xe=function(Zt){return Ne(Ce(Zt)+Be)},Ue&&Ue.type==="date"&&(xe=m.encodeDate(xe))),J("path",b.path=R(be,Te,xe))}else if(G){if(rt==="resize-over-start-point"){var Me=ae+Fe,Pe=z?oe-Be:oe+Be;J("x0",b.x0=H?Me:Ve(Me)),J("y0",b.y0=z?Pe:Ne(Pe))}else if(rt==="resize-over-end-point"){var He=he+Fe,Ke=z?q-Be:q+Be;J("x1",b.x1=H?He:Ve(He)),J("y1",b.y1=z?Ke:Ne(Ke))}}else{var qe=function(yt){return rt.indexOf(yt)!==-1},vt=qe("n"),bt=qe("s"),Wt=qe("w"),qt=qe("e"),At=vt?K+Be:K,zt=bt?re+Be:re,Kt=Wt?le+Fe:le,Sr=qt?te+Fe:te;z&&(vt&&(At=K-Be),bt&&(zt=re-Be)),(!z&&zt-At>U||z&&At-zt>U)&&(J(ee,b[ee]=z?At:Ne(At)),J(ue,b[ue]=z?zt:Ne(zt))),Sr-Kt>_&&(J(se,b[se]=H?Kt:Ve(Kt)),J(ve,b[ve]=H?Sr:Ve(Sr)))}D.attr("d",v(i,b)),Vt(F,b),g(i,O,b,Ee)}function Vt(Fe,Be){(H||z)&&De();function De(){var Te=Be.type!=="path",xe=Fe.selectAll(".visual-cue").data([0]),Me=1;xe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Me}).classed("visual-cue",!0);var Pe=we(H?Be.xanchor:a.midRange(Te?[Be.x0,Be.x1]:m.extractPathCoords(Be.path,f.paramIsX))),He=Ce(z?Be.yanchor:a.midRange(Te?[Be.y0,Be.y1]:m.extractPathCoords(Be.path,f.paramIsY)));if(Pe=m.roundPositionForSharpStrokeRendering(Pe,Me),He=m.roundPositionForSharpStrokeRendering(He,Me),H&&z){var Ke="M"+(Pe-1-Me)+","+(He-1-Me)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";xe.attr("d",Ke)}else if(H){var qe="M"+(Pe-1-Me)+","+(He-9-Me)+"v18 h2 v-18 Z";xe.attr("d",qe)}else{var vt="M"+(Pe-9-Me)+","+(He-1-Me)+"h18 v2 h-18 Z";xe.attr("d",vt)}}}function Je(Fe){Fe.selectAll(".visual-cue").remove()}function _e(Fe,Be,De){var Te=Be.xref,xe=Be.yref,Me=C.getFromId(De,Te),Pe=C.getFromId(De,xe),He="";Te!=="paper"&&!Me.autorange&&(He+=Te),xe!=="paper"&&!Pe.autorange&&(He+=xe),s.setClipUrl(Fe,He?"clip"+De._fullLayout._uid+He:null,De)}}function R(i,D,b){return i.replace(f.segmentRE,function(O){var F=0,V=O.charAt(0),_=f.paramIsX[V],U=f.paramIsY[V],H=f.numParams[V],z=O.substr(1).replace(f.paramRE,function(G){return F>=H||(_[F]?G=D(G):U[F]&&(G=b(G)),F++),G});return V+z})}function x(i,D){if(u(i)){var b=D.node(),O=+b.getAttribute("data-index");if(O>=0){if(O===i._fullLayout._activeShapeIndex){E(i);return}i._fullLayout._activeShapeIndex=O,i._fullLayout._deactivateShape=E,A(i)}}}function E(i){if(u(i)){var D=i._fullLayout._activeShapeIndex;D>=0&&(t(i),delete i._fullLayout._activeShapeIndex,A(i))}}function T(i){if(u(i)){t(i);var D=i._fullLayout._activeShapeIndex,b=(i.layout||{}).shapes||[];if(D<b.length){for(var O=[],F=0;F<b.length;F++)F!==D&&O.push(b[F]);return delete i._fullLayout._activeShapeIndex,L.call("_guiRelayout",i,{shapes:O})}}}},29241:function(B,N,e){var p=e(30962).overrideAll,L=e(9012),a=e(41940),C=e(79952).P,w=e(1426).extendFlat,h=e(5386).R,g=e(37281);B.exports=p({newshape:{visible:w({},L.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:w({},L.legend,{}),legendgroup:w({},L.legendgroup,{}),legendgrouptitle:{text:w({},L.legendgrouptitle.text,{}),font:a({})},legendrank:w({},L.legendrank,{}),legendwidth:w({},L.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:w({},C,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:w({},L.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:h({newshape:!0},{keys:Object.keys(g)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(B){var N=32;B.exports={CIRCLE_SIDES:N,i000:0,i090:N/4,i180:N/2,i270:N/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(B,N,e){var p=e(7901),L=e(71828);function a(C,w){return C?"bottom":w.indexOf("top")!==-1?"top":w.indexOf("bottom")!==-1?"bottom":"middle"}B.exports=function(w,h,g){g("newshape.visible"),g("newshape.name"),g("newshape.showlegend"),g("newshape.legend"),g("newshape.legendwidth"),g("newshape.legendgroup"),g("newshape.legendgrouptitle.text"),L.coerceFont(g,"newshape.legendgrouptitle.font"),g("newshape.legendrank"),g("newshape.drawdirection"),g("newshape.layer"),g("newshape.fillcolor"),g("newshape.fillrule"),g("newshape.opacity");var t=g("newshape.line.width");if(t){var r=(w||{}).plot_bgcolor||"#FFF";g("newshape.line.color",p.contrast(r)),g("newshape.line.dash")}var s=w.dragmode==="drawline",n=g("newshape.label.text"),l=g("newshape.label.texttemplate");if(n||l){g("newshape.label.textangle");var c=g("newshape.label.textposition",s?"middle":"middle center");g("newshape.label.xanchor"),g("newshape.label.yanchor",a(s,c)),g("newshape.label.padding"),L.coerceFont(g,"newshape.label.font",h.font)}g("activeshape.fillcolor"),g("activeshape.opacity")}},60165:function(B,N,e){var p=e(95616),L=e(89995),a=L.CIRCLE_SIDES,C=L.SQRT2,w=e(75549),h=w.p2r,g=w.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];N.writePaths=function(l){var c=l.length;if(!c)return"M0,0Z";for(var f="",m=0;m<c;m++)for(var v=l[m].length,A=0;A<v;A++){var d=l[m][A][0];if(d==="Z")f+="Z";else for(var u=l[m][A].length,y=0;y<u;y++){var M=y;d==="Q"||d==="S"?M=r[y]:d==="C"&&(M=t[y]),f+=l[m][A][M],y>0&&y<u-1&&(f+=",")}}return f},N.readPaths=function(l,c,f,m){var v=p(l),A=[],d=-1,u=function(){d++,A[d]=[]},y,M=0,S=0,R,x,E=function(){R=M,x=S};E();for(var T=0;T<v.length;T++){var i=[],D,b,O,F,V=v[T][0],_=V;switch(V){case"M":u(),M=+v[T][1],S=+v[T][2],i.push([_,M,S]),E();break;case"Q":case"S":D=+v[T][1],O=+v[T][2],M=+v[T][3],S=+v[T][4],i.push([_,M,S,D,O]);break;case"C":D=+v[T][1],O=+v[T][2],b=+v[T][3],F=+v[T][4],M=+v[T][5],S=+v[T][6],i.push([_,M,S,D,O,b,F]);break;case"T":case"L":M=+v[T][1],S=+v[T][2],i.push([_,M,S]);break;case"H":_="L",M=+v[T][1],i.push([_,M,S]);break;case"V":_="L",S=+v[T][1],i.push([_,M,S]);break;case"A":_="L";var U=+v[T][1],H=+v[T][2];+v[T][4]||(U=-U,H=-H);var z=M-U,G=S;for(y=1;y<=a/2;y++){var Y=2*Math.PI*y/a;i.push([_,z+U*Math.cos(Y),G+H*Math.sin(Y)])}break;case"Z":(M!==R||S!==x)&&(M=R,S=x,i.push([_,M,S]));break}for(var J=(f||{}).domain,ae=c._fullLayout._size,oe=f&&f.xsizemode==="pixel",he=f&&f.ysizemode==="pixel",q=m===!1,Z=0;Z<i.length;Z++){for(y=0;y+2<7;y+=2){var $=i[Z][y+1],K=i[Z][y+2];$===void 0||K===void 0||(M=$,S=K,f&&(f.xaxis&&f.xaxis.p2r?(q&&($-=f.xaxis._offset),oe?$=g(f.xaxis,f.xanchor)+$:$=h(f.xaxis,$)):(q&&($-=ae.l),J?$=J.x[0]+$/ae.w:$=$/ae.w),f.yaxis&&f.yaxis.p2r?(q&&(K-=f.yaxis._offset),he?K=g(f.yaxis,f.yanchor)-K:K=h(f.yaxis,K)):(q&&(K-=ae.t),J?K=J.y[1]-K/ae.h:K=1-K/ae.h)),i[Z][y+1]=$,i[Z][y+2]=K)}A[d].push(i[Z].slice())}}return A};function s(l,c){return Math.abs(l-c)<=1e-6}function n(l,c){var f=c[1]-l[1],m=c[2]-l[2];return Math.sqrt(f*f+m*m)}N.pointsOnRectangle=function(l){var c=l.length;if(c!==5)return!1;for(var f=1;f<3;f++){var m=l[0][f]-l[1][f],v=l[3][f]-l[2][f];if(!s(m,v))return!1;var A=l[0][f]-l[3][f],d=l[1][f]-l[2][f];if(!s(A,d))return!1}return!s(l[0][1],l[1][1])&&!s(l[0][1],l[3][1])?!1:!!(n(l[0],l[1])*n(l[0],l[3]))},N.pointsOnEllipse=function(l){var c=l.length;if(c!==a+1)return!1;c=a;for(var f=0;f<c;f++){var m=(c*2-f)%c,v=(c/2+m)%c,A=(c/2+f)%c;if(!s(n(l[f],l[A]),n(l[m],l[v])))return!1}return!0},N.handleEllipse=function(l,c,f){if(!l)return[c,f];var m=N.ellipseOver({x0:c[0],y0:c[1],x1:f[0],y1:f[1]}),v=(m.x1+m.x0)/2,A=(m.y1+m.y0)/2,d=(m.x1-m.x0)/2,u=(m.y1-m.y0)/2;d||(d=u=u/C),u||(u=d=d/C);for(var y=[],M=0;M<a;M++){var S=M*2*Math.PI/a;y.push([v+d*Math.cos(S),A+u*Math.sin(S)])}return y},N.ellipseOver=function(l){var c=l.x0,f=l.y0,m=l.x1,v=l.y1,A=m-c,d=v-f;c-=A,f-=d;var u=(c+m)/2,y=(f+v)/2,M=C;return A*=M,d*=M,{x0:u-A,y0:y-d,x1:u+A,y1:y+d}},N.fixDatesForPaths=function(l,c,f){var m=c.type==="date",v=f.type==="date";if(!m&&!v)return l;for(var A=0;A<l.length;A++)for(var d=0;d<l[A].length;d++)for(var u=0;u+2<l[A][d].length;u+=2)m&&(l[A][d][u+1]=l[A][d][u+1].replace(" ","_")),v&&(l[A][d][u+2]=l[A][d][u+2].replace(" ","_"));return l}},90551:function(B,N,e){var p=e(64505),L=p.drawMode,a=p.openMode,C=e(89995),w=C.i000,h=C.i090,g=C.i180,t=C.i270,r=C.cos45,s=C.sin45,n=e(75549),l=n.p2r,c=n.r2p,f=e(51873),m=f.clearOutline,v=e(60165),A=v.readPaths,d=v.writePaths,u=v.ellipseOver,y=v.fixDatesForPaths;function M(R,x){if(R.length){var E=R[0][0];if(E){var T=x.gd,i=x.isActiveShape,D=x.dragmode,b=(T.layout||{}).shapes||[];if(!L(D)&&i!==void 0){var O=T._fullLayout._activeShapeIndex;if(O<b.length)switch(T._fullLayout.shapes[O].type){case"rect":D="drawrect";break;case"circle":D="drawcircle";break;case"line":D="drawline";break;case"path":var F=b[O].path||"";F[F.length-1]==="Z"?D="drawclosedpath":D="drawopenpath";break}}var V=S(R,x,D);m(T);for(var _=x.editHelpers,U=(_||{}).modifyItem,H=[],z=0;z<b.length;z++){var G=T._fullLayout.shapes[z];if(H[z]=G._input,i!==void 0&&z===T._fullLayout._activeShapeIndex){var Y=V;switch(G.type){case"line":case"rect":case"circle":U("x0",Y.x0),U("x1",Y.x1),U("y0",Y.y0),U("y1",Y.y1);break;case"path":U("path",Y.path);break}}}return i===void 0?(H.push(V),H):_?_.getUpdateObj():{}}}}function S(R,x,E){var T=R[0][0],i=x.gd,D=T.getAttribute("d"),b=i._fullLayout.newshape,O=x.plotinfo,F=x.isActiveShape,V=O.xaxis,_=O.yaxis,U=!!O.domain||!O.xaxis,H=!!O.domain||!O.yaxis,z=a(E),G=A(D,i,O,F),Y={editable:!0,visible:b.visible,name:b.name,showlegend:b.showlegend,legend:b.legend,legendwidth:b.legendwidth,legendgroup:b.legendgroup,legendgrouptitle:{text:b.legendgrouptitle.text,font:b.legendgrouptitle.font},legendrank:b.legendrank,label:b.label,xref:U?"paper":V._id,yref:H?"paper":_._id,layer:b.layer,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};z||(Y.fillcolor=b.fillcolor,Y.fillrule=b.fillrule);var J;if(G.length===1&&(J=G[0]),J&&J.length===5&&E==="drawrect")Y.type="rect",Y.x0=J[0][1],Y.y0=J[0][2],Y.x1=J[2][1],Y.y1=J[2][2];else if(J&&E==="drawline")Y.type="line",Y.x0=J[0][1],Y.y0=J[0][2],Y.x1=J[1][1],Y.y1=J[1][2];else if(J&&E==="drawcircle"){Y.type="circle";var ae=J[w][1],oe=J[h][1],he=J[g][1],q=J[t][1],Z=J[w][2],$=J[h][2],K=J[g][2],re=J[t][2],le=O.xaxis&&(O.xaxis.type==="date"||O.xaxis.type==="log"),te=O.yaxis&&(O.yaxis.type==="date"||O.yaxis.type==="log");le&&(ae=c(O.xaxis,ae),oe=c(O.xaxis,oe),he=c(O.xaxis,he),q=c(O.xaxis,q)),te&&(Z=c(O.yaxis,Z),$=c(O.yaxis,$),K=c(O.yaxis,K),re=c(O.yaxis,re));var ee=(oe+q)/2,ue=(Z+K)/2,se=(q-oe+he-ae)/2,ve=(re-$+K-Z)/2,be=u({x0:ee,y0:ue,x1:ee+se*r,y1:ue+ve*s});le&&(be.x0=l(O.xaxis,be.x0),be.x1=l(O.xaxis,be.x1)),te&&(be.y0=l(O.yaxis,be.y0),be.y1=l(O.yaxis,be.y1)),Y.x0=be.x0,Y.y0=be.y0,Y.x1=be.x1,Y.y1=be.y1}else Y.type="path",V&&_&&y(G,V,_),Y.path=d(G),J=null;return Y}B.exports={newShapes:M,createShapeObj:S}},51873:function(B){function N(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".outline-controllers").remove()}function e(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".select-outline").remove(),p._fullLayout._outlining=!1}B.exports={clearOutlineControllers:N,clearOutline:e}},30477:function(B,N,e){var p=e(21459),L=e(71828),a=e(89298);N.rangeToShapePosition=function(w){return w.type==="log"?w.r2d:function(h){return h}},N.shapePositionToRange=function(w){return w.type==="log"?w.d2r:function(h){return h}},N.decodeDate=function(w){return function(h){return h.replace&&(h=h.replace("_"," ")),w(h)}},N.encodeDate=function(w){return function(h){return w(h).replace(" ","_")}},N.extractPathCoords=function(w,h,g){var t=[],r=w.match(p.segmentRE);return r.forEach(function(s){var n=h[s.charAt(0)].drawn;if(n!==void 0){var l=s.substr(1).match(p.paramRE);if(!(!l||l.length<n)){var c=l[n],f=g?c:L.cleanNumber(c);t.push(f)}}}),t},N.getDataToPixel=function(w,h,g,t){var r=w._fullLayout._size,s;if(h)if(t==="domain")s=function(l){return h._length*(g?1-l:l)+h._offset};else{var n=N.shapePositionToRange(h);s=function(l){return h._offset+h.r2p(n(l,!0))},h.type==="date"&&(s=N.decodeDate(s))}else g?s=function(l){return r.t+r.h*(1-l)}:s=function(l){return r.l+r.w*l};return s},N.getPixelToData=function(w,h,g,t){var r=w._fullLayout._size,s;if(h)if(t==="domain")s=function(l){var c=(l-h._offset)/h._length;return g?1-c:c};else{var n=N.rangeToShapePosition(h);s=function(l){return n(h.p2r(l-h._offset))}}else g?s=function(l){return 1-(l-r.t)/r.h}:s=function(l){return(l-r.l)/r.w};return s},N.roundPositionForSharpStrokeRendering=function(w,h){var g=Math.round(h%2)===1,t=Math.round(w);return g?t+.5:t},N.makeShapesOptionsAndPlotinfo=function(w,h){var g=w._fullLayout.shapes[h]||{},t=w._fullLayout._plots[g.xref+g.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},g.xref&&g.xref!=="paper"&&(t.xaxis=w._fullLayout[g.xref+"axis"]),g.yref&&g.yref!=="paper"&&(t.yaxis=w._fullLayout[g.yref+"axis"])),t.xsizemode=g.xsizemode,t.ysizemode=g.ysizemode,t.xanchor=g.xanchor,t.yanchor=g.yanchor,{options:g,plotinfo:t}},N.makeSelectionsOptionsAndPlotinfo=function(w,h){var g=w._fullLayout.selections[h]||{},t=w._fullLayout._plots[g.xref+g.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},g.xref&&(t.xaxis=w._fullLayout[g.xref+"axis"]),g.yref&&(t.yaxis=w._fullLayout[g.yref+"axis"])),{options:g,plotinfo:t}},N.getPathString=function(w,h){var g=h.type,t=a.getRefType(h.xref),r=a.getRefType(h.yref),s=a.getFromId(w,h.xref),n=a.getFromId(w,h.yref),l=w._fullLayout._size,c,f,m,v,A,d,u,y;if(s?t==="domain"?f=function(O){return s._offset+s._length*O}:(c=N.shapePositionToRange(s),f=function(O){return s._offset+s.r2p(c(O,!0))}):f=function(O){return l.l+l.w*O},n?r==="domain"?v=function(O){return n._offset+n._length*(1-O)}:(m=N.shapePositionToRange(n),v=function(O){return n._offset+n.r2p(m(O,!0))}):v=function(O){return l.t+l.h*(1-O)},g==="path")return s&&s.type==="date"&&(f=N.decodeDate(f)),n&&n.type==="date"&&(v=N.decodeDate(v)),C(h,f,v);if(h.xsizemode==="pixel"){var M=f(h.xanchor);A=M+h.x0,d=M+h.x1}else A=f(h.x0),d=f(h.x1);if(h.ysizemode==="pixel"){var S=v(h.yanchor);u=S-h.y0,y=S-h.y1}else u=v(h.y0),y=v(h.y1);if(g==="line")return"M"+A+","+u+"L"+d+","+y;if(g==="rect")return"M"+A+","+u+"H"+d+"V"+y+"H"+A+"Z";var R=(A+d)/2,x=(u+y)/2,E=Math.abs(R-A),T=Math.abs(x-u),i="A"+E+","+T,D=R+E+","+x,b=R+","+(x-T);return"M"+D+i+" 0 1,1 "+b+i+" 0 0,1 "+D+"Z"};function C(w,h,g){var t=w.path,r=w.xsizemode,s=w.ysizemode,n=w.xanchor,l=w.yanchor;return t.replace(p.segmentRE,function(c){var f=0,m=c.charAt(0),v=p.paramIsX[m],A=p.paramIsY[m],d=p.numParams[m],u=c.substr(1).replace(p.paramRE,function(y){return v[f]?r==="pixel"?y=h(n)+Number(y):y=h(y):A[f]&&(s==="pixel"?y=g(l)-Number(y):y=g(y)),f++,f>d&&(y="X"),y});return f>d&&(u=u.replace(/[\s,]*X.*/,""),L.log("Ignoring extra params in segment "+c)),m+u})}},89853:function(B,N,e){var p=e(34031);B.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:p.draw,drawOne:p.drawOne}},37281:function(B){function N(c,f){return f?f.d2l(c):c}function e(c,f){return f?f.l2d(c):c}function p(c){return c.x0}function L(c){return c.x1}function a(c){return c.y0}function C(c){return c.y1}function w(c,f){return N(c.x1,f)-N(c.x0,f)}function h(c,f,m){return N(c.y1,m)-N(c.y0,m)}function g(c,f){return Math.abs(w(c,f))}function t(c,f,m){return Math.abs(h(c,f,m))}function r(c,f,m){return c.type!=="line"?void 0:Math.sqrt(Math.pow(w(c,f),2)+Math.pow(h(c,f,m),2))}function s(c,f){return e((N(c.x1,f)+N(c.x0,f))/2,f)}function n(c,f,m){return e((N(c.y1,m)+N(c.y0,m))/2,m)}function l(c,f,m){return c.type!=="line"?void 0:h(c,f,m)/w(c,f)}B.exports={x0:p,x1:L,y0:a,y1:C,slope:l,dx:w,dy:h,width:g,height:t,length:r,xcenter:s,ycenter:n}},75067:function(B,N,e){var p=e(41940),L=e(35025),a=e(1426).extendDeepAll,C=e(30962).overrideAll,w=e(85594),h=e(44467).templatedArray,g=e(98292),t=h("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});B.exports=C(h("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(L({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:w.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:g.gripBgActiveColor},bgcolor:{valType:"color",dflt:g.railBgColor},bordercolor:{valType:"color",dflt:g.railBorderColor},borderwidth:{valType:"number",min:0,dflt:g.railBorderWidth},ticklen:{valType:"number",min:0,dflt:g.tickLength},tickcolor:{valType:"color",dflt:g.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:g.minorTickLength}}),"arraydraw","from-root")},98292:function(B){B.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(B,N,e){var p=e(71828),L=e(85501),a=e(75067),C=e(98292),w=C.name,h=a.steps;B.exports=function(s,n){L(s,n,{name:w,handleItemDefaults:g})};function g(r,s,n){function l(y,M){return p.coerce(r,s,a,y,M)}for(var c=L(r,s,{name:"steps",handleItemDefaults:t}),f=0,m=0;m<c.length;m++)c[m].visible&&f++;var v;if(f<2?v=s.visible=!1:v=l("visible"),!!v){s._stepCount=f;var A=s._visibleSteps=p.filterVisible(c),d=l("active");(c[d]||{}).visible||(s.active=A[0]._index),l("x"),l("y"),p.noneOrAll(r,s,["x","y"]),l("xanchor"),l("yanchor"),l("len"),l("lenmode"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),p.coerceFont(l,"font",n.font);var u=l("currentvalue.visible");u&&(l("currentvalue.xanchor"),l("currentvalue.prefix"),l("currentvalue.suffix"),l("currentvalue.offset"),p.coerceFont(l,"currentvalue.font",s.font)),l("transition.duration"),l("transition.easing"),l("bgcolor"),l("activebgcolor"),l("bordercolor"),l("borderwidth"),l("ticklen"),l("tickwidth"),l("tickcolor"),l("minorticklen")}}function t(r,s){function n(f,m){return p.coerce(r,s,h,f,m)}var l;if(r.method!=="skip"&&!Array.isArray(r.args)?l=s.visible=!1:l=n("visible"),l){n("method"),n("args");var c=n("label","step-"+s._index);n("value",c),n("execute")}}},44504:function(B,N,e){var p=e(39898),L=e(74875),a=e(7901),C=e(91424),w=e(71828),h=w.strTranslate,g=e(63893),t=e(44467).arrayEditor,r=e(98292),s=e(18783),n=s.LINE_SPACING,l=s.FROM_TL,c=s.FROM_BR;B.exports=function(U){var H=U._context.staticPlot,z=U._fullLayout,G=m(z,U),Y=z._infolayer.selectAll("g."+r.containerClassName).data(G.length>0?[0]:[]);Y.enter().append("g").classed(r.containerClassName,!0).style("cursor",H?null:"ew-resize");function J(q){q._commandObserver&&(q._commandObserver.remove(),delete q._commandObserver),L.autoMargin(U,f(q))}if(Y.exit().each(function(){p.select(this).selectAll("g."+r.groupClassName).each(J)}).remove(),G.length!==0){var ae=Y.selectAll("g."+r.groupClassName).data(G,v);ae.enter().append("g").classed(r.groupClassName,!0),ae.exit().each(J).remove();for(var oe=0;oe<G.length;oe++){var he=G[oe];A(U,he)}ae.each(function(q){var Z=p.select(this);i(q),L.manageCommandObserver(U,q,q._visibleSteps,function($){var K=Z.data()[0];K.active!==$.index&&(K._dragging||x(U,Z,K,$.index,!1,!0))}),d(U,p.select(this),q)})}};function f(_){return r.autoMarginIdRoot+_._index}function m(_,U){for(var H=_[r.name],z=[],G=0;G<H.length;G++){var Y=H[G];Y.visible&&(Y._gd=U,z.push(Y))}return z}function v(_){return _._index}function A(_,U){var H=C.tester.selectAll("g."+r.labelGroupClass).data(U._visibleSteps);H.enter().append("g").classed(r.labelGroupClass,!0);var z=0,G=0;H.each(function(re){var le=p.select(this),te=M(le,{step:re},U),ee=te.node();if(ee){var ue=C.bBox(ee);G=Math.max(G,ue.height),z=Math.max(z,ue.width)}}),H.remove();var Y=U._dims={};Y.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var J=_._fullLayout._size;Y.lx=J.l+J.w*U.x,Y.ly=J.t+J.h*(1-U.y),U.lenmode==="fraction"?Y.outerLength=Math.round(J.w*U.len):Y.outerLength=U.len,Y.inputAreaStart=0,Y.inputAreaLength=Math.round(Y.outerLength-U.pad.l-U.pad.r);var ae=Y.inputAreaLength-2*r.stepInset,oe=ae/(U._stepCount-1),he=z+r.labelPadding;if(Y.labelStride=Math.max(1,Math.ceil(he/oe)),Y.labelHeight=G,Y.currentValueMaxWidth=0,Y.currentValueHeight=0,Y.currentValueTotalHeight=0,Y.currentValueMaxLines=1,U.currentvalue.visible){var q=C.tester.append("g");H.each(function(re){var le=u(q,U,re.label),te=le.node()&&C.bBox(le.node())||{width:0,height:0},ee=g.lineCount(le);Y.currentValueMaxWidth=Math.max(Y.currentValueMaxWidth,Math.ceil(te.width)),Y.currentValueHeight=Math.max(Y.currentValueHeight,Math.ceil(te.height)),Y.currentValueMaxLines=Math.max(Y.currentValueMaxLines,ee)}),Y.currentValueTotalHeight=Y.currentValueHeight+U.currentvalue.offset,q.remove()}Y.height=Y.currentValueTotalHeight+r.tickOffset+U.ticklen+r.labelOffset+Y.labelHeight+U.pad.t+U.pad.b;var Z="left";w.isRightAnchor(U)&&(Y.lx-=Y.outerLength,Z="right"),w.isCenterAnchor(U)&&(Y.lx-=Y.outerLength/2,Z="center");var $="top";w.isBottomAnchor(U)&&(Y.ly-=Y.height,$="bottom"),w.isMiddleAnchor(U)&&(Y.ly-=Y.height/2,$="middle"),Y.outerLength=Math.ceil(Y.outerLength),Y.height=Math.ceil(Y.height),Y.lx=Math.round(Y.lx),Y.ly=Math.round(Y.ly);var K={y:U.y,b:Y.height*c[$],t:Y.height*l[$]};U.lenmode==="fraction"?(K.l=0,K.xl=U.x-U.len*l[Z],K.r=0,K.xr=U.x+U.len*c[Z]):(K.x=U.x,K.l=Y.outerLength*l[Z],K.r=Y.outerLength*c[Z]),L.autoMargin(_,f(U),K)}function d(_,U,H){(H.steps[H.active]||{}).visible||(H.active=H._visibleSteps[0]._index),U.call(u,H).call(V,H).call(S,H).call(T,H).call(F,_,H).call(y,_,H);var z=H._dims;C.setTranslate(U,z.lx+H.pad.l,z.ly+H.pad.t),U.call(D,H,!1),U.call(u,H)}function u(_,U,H){if(U.currentvalue.visible){var z=U._dims,G,Y;switch(U.currentvalue.xanchor){case"right":G=z.inputAreaLength-r.currentValueInset-z.currentValueMaxWidth,Y="left";break;case"center":G=z.inputAreaLength*.5,Y="middle";break;default:G=r.currentValueInset,Y="left"}var J=w.ensureSingle(_,"text",r.labelClass,function($){$.attr({"text-anchor":Y,"data-notex":1})}),ae=U.currentvalue.prefix?U.currentvalue.prefix:"";if(typeof H=="string")ae+=H;else{var oe=U.steps[U.active].label,he=U._gd._fullLayout._meta;he&&(oe=w.templateString(oe,he)),ae+=oe}U.currentvalue.suffix&&(ae+=U.currentvalue.suffix),J.call(C.font,U.currentvalue.font).text(ae).call(g.convertToTspans,U._gd);var q=g.lineCount(J),Z=(z.currentValueMaxLines+1-q)*U.currentvalue.font.size*n;return g.positionText(J,G,Z),J}}function y(_,U,H){var z=w.ensureSingle(_,"rect",r.gripRectClass,function(G){G.call(E,U,_,H).style("pointer-events","all")});z.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(a.stroke,H.bordercolor).call(a.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px")}function M(_,U,H){var z=w.ensureSingle(_,"text",r.labelClass,function(J){J.attr({"text-anchor":"middle","data-notex":1})}),G=U.step.label,Y=H._gd._fullLayout._meta;return Y&&(G=w.templateString(G,Y)),z.call(C.font,H.font).text(G).call(g.convertToTspans,H._gd),z}function S(_,U){var H=w.ensureSingle(_,"g",r.labelsClass),z=U._dims,G=H.selectAll("g."+r.labelGroupClass).data(z.labelSteps);G.enter().append("g").classed(r.labelGroupClass,!0),G.exit().remove(),G.each(function(Y){var J=p.select(this);J.call(M,Y,U),C.setTranslate(J,b(U,Y.fraction),r.tickOffset+U.ticklen+U.font.size*n+r.labelOffset+z.currentValueTotalHeight)})}function R(_,U,H,z,G){var Y=Math.round(z*(H._stepCount-1)),J=H._visibleSteps[Y]._index;J!==H.active&&x(_,U,H,J,!0,G)}function x(_,U,H,z,G,Y){var J=H.active;H.active=z,t(_.layout,r.name,H).applyUpdate("active",z);var ae=H.steps[H.active];U.call(D,H,Y),U.call(u,H),_.emit("plotly_sliderchange",{slider:H,step:H.steps[H.active],interaction:G,previousActive:J}),ae&&ae.method&&G&&(U._nextMethod?(U._nextMethod.step=ae,U._nextMethod.doCallback=G,U._nextMethod.doTransition=Y):(U._nextMethod={step:ae,doCallback:G,doTransition:Y},U._nextMethodRaf=window.requestAnimationFrame(function(){var oe=U._nextMethod.step;oe.method&&(oe.execute&&L.executeAPICommand(_,oe.method,oe.args),U._nextMethod=null,U._nextMethodRaf=null)})))}function E(_,U,H){if(U._context.staticPlot)return;var z=H.node(),G=p.select(U);function Y(){return H.data()[0]}function J(){var ae=Y();U.emit("plotly_sliderstart",{slider:ae});var oe=H.select("."+r.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),oe.call(a.fill,ae.activebgcolor);var he=O(ae,p.mouse(z)[0]);R(U,H,ae,he,!0),ae._dragging=!0;function q(){var $=Y(),K=O($,p.mouse(z)[0]);R(U,H,$,K,!1)}G.on("mousemove",q),G.on("touchmove",q);function Z(){var $=Y();$._dragging=!1,oe.call(a.fill,$.bgcolor),G.on("mouseup",null),G.on("mousemove",null),G.on("touchend",null),G.on("touchmove",null),U.emit("plotly_sliderend",{slider:$,step:$.steps[$.active]})}G.on("mouseup",Z),G.on("touchend",Z)}_.on("mousedown",J),_.on("touchstart",J)}function T(_,U){var H=_.selectAll("rect."+r.tickRectClass).data(U._visibleSteps),z=U._dims;H.enter().append("rect").classed(r.tickRectClass,!0),H.exit().remove(),H.attr({width:U.tickwidth+"px","shape-rendering":"crispEdges"}),H.each(function(G,Y){var J=Y%z.labelStride===0,ae=p.select(this);ae.attr({height:J?U.ticklen:U.minorticklen}).call(a.fill,U.tickcolor),C.setTranslate(ae,b(U,Y/(U._stepCount-1))-.5*U.tickwidth,(J?r.tickOffset:r.minorTickOffset)+z.currentValueTotalHeight)})}function i(_){var U=_._dims;U.labelSteps=[];for(var H=_._stepCount,z=0;z<H;z+=U.labelStride)U.labelSteps.push({fraction:z/(H-1),step:_._visibleSteps[z]})}function D(_,U,H){for(var z=_.select("rect."+r.gripRectClass),G=0,Y=0;Y<U._stepCount;Y++)if(U._visibleSteps[Y]._index===U.active){G=Y;break}var J=b(U,G/(U._stepCount-1));if(!U._invokingCommand){var ae=z;H&&U.transition.duration>0&&(ae=ae.transition().duration(U.transition.duration).ease(U.transition.easing)),ae.attr("transform",h(J-r.gripWidth*.5,U._dims.currentValueTotalHeight))}}function b(_,U){var H=_._dims;return H.inputAreaStart+r.stepInset+(H.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,U))}function O(_,U){var H=_._dims;return Math.min(1,Math.max(0,(U-r.stepInset-H.inputAreaStart)/(H.inputAreaLength-2*r.stepInset-2*H.inputAreaStart)))}function F(_,U,H){var z=H._dims,G=w.ensureSingle(_,"rect",r.railTouchRectClass,function(Y){Y.call(E,U,_,H).style("pointer-events","all")});G.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,r.tickOffset+H.ticklen+z.labelHeight)}).call(a.fill,H.bgcolor).attr("opacity",0),C.setTranslate(G,0,z.currentValueTotalHeight)}function V(_,U){var H=U._dims,z=H.inputAreaLength-r.railInset*2,G=w.ensureSingle(_,"rect",r.railRectClass);G.attr({width:z,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,U.bordercolor).call(a.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px"),C.setTranslate(G,r.railInset,(H.inputAreaWidth-r.railWidth)*.5+H.currentValueTotalHeight)}},23243:function(B,N,e){var p=e(98292);B.exports={moduleType:"component",name:p.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(B,N,e){var p=e(39898),L=e(92770),a=e(74875),C=e(73972),w=e(71828),h=w.strTranslate,g=e(91424),t=e(7901),r=e(63893),s=e(37822),n=e(18783).OPPOSITE_SIDE,l=/ [XY][0-9]* /;function c(f,m,v){var A=v.propContainer,d=v.propName,u=v.placeholder,y=v.traceIndex,M=v.avoid||{},S=v.attributes,R=v.transform,x=v.containerGroup,E=f._fullLayout,T=1,i=!1,D=A.title,b=(D&&D.text?D.text:"").trim(),O=D&&D.font?D.font:{},F=O.family,V=O.size,_=O.color,U;d==="title.text"?U="titleText":d.indexOf("axis")!==-1?U="axisTitleText":d.indexOf("colorbar"!==-1)&&(U="colorbarTitleText");var H=f._context.edits[U];b===""?T=0:b.replace(l," % ")===u.replace(l," % ")&&(T=.2,i=!0,H||(b="")),v._meta?b=w.templateString(b,v._meta):E._meta&&(b=w.templateString(b,E._meta));var z=b||H,G;x||(x=w.ensureSingle(E._infolayer,"g","g-"+m),G=E._hColorbarMoveTitle);var Y=x.selectAll("text").data(z?[0]:[]);if(Y.enter().append("text"),Y.text(b).attr("class",m),Y.exit().remove(),!z)return x;function J(q){w.syncOrAsync([ae,oe],q)}function ae(q){var Z;return!R&&G&&(R={}),R?(Z="",R.rotate&&(Z+="rotate("+[R.rotate,S.x,S.y]+")"),(R.offset||G)&&(Z+=h(0,(R.offset||0)-(G||0)))):Z=null,q.attr("transform",Z),q.style({"font-family":F,"font-size":p.round(V,2)+"px",fill:t.rgb(_),opacity:T*t.opacity(_),"font-weight":a.fontWeight}).attr(S).call(r.convertToTspans,f),a.previousPromises(f)}function oe(q){var Z=p.select(q.node().parentNode);if(M&&M.selection&&M.side&&b){Z.attr("transform",null);var $=n[M.side],K=M.side==="left"||M.side==="top"?-1:1,re=L(M.pad)?M.pad:2,le=g.bBox(Z.node()),te={t:0,b:0,l:0,r:0},ee=f._fullLayout._reservedMargin;for(var ue in ee)for(var se in ee[ue]){var ve=ee[ue][se];te[se]=Math.max(te[se],ve)}var be={left:te.l,top:te.t,right:E.width-te.r,bottom:E.height-te.b},Ee=M.maxShift||K*(be[M.side]-le[M.side]),Ae=0;if(Ee<0)Ae=Ee;else{var Oe=M.offsetLeft||0,Ue=M.offsetTop||0;le.left-=Oe,le.right-=Oe,le.top-=Ue,le.bottom-=Ue,M.selection.each(function(){var we=g.bBox(this);w.bBoxIntersect(le,we,re)&&(Ae=Math.max(Ae,K*(we[M.side]-le[$])+re))}),Ae=Math.min(Ee,Ae),A._titleScoot=Math.abs(Ae)}if(Ae>0||Ee<0){var Le={left:[-Ae,0],right:[Ae,0],top:[0,-Ae],bottom:[0,Ae]}[M.side];Z.attr("transform",h(Le[0],Le[1]))}}}Y.call(J);function he(){T=0,i=!0,Y.text(u).on("mouseover.opacity",function(){p.select(this).transition().duration(s.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(s.HIDE_PLACEHOLDER).style("opacity",0)})}return H&&(b?Y.on(".opacity",null):he(),Y.call(r.makeEditable,{gd:f}).on("edit",function(q){y!==void 0?C.call("_guiRestyle",f,d,q,y):C.call("_guiRelayout",f,d,q)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(J)}).on("input",function(q){this.text(q||" ").call(r.positionText,S.x,S.y)})),Y.classed("js-placeholder",i),x}B.exports={draw:c}},7163:function(B,N,e){var p=e(41940),L=e(22399),a=e(1426).extendFlat,C=e(30962).overrideAll,w=e(35025),h=e(44467).templatedArray,g=h("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});B.exports=C(h("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:g,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(w({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:L.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(B){B.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},64897:function(B,N,e){var p=e(71828),L=e(85501),a=e(7163),C=e(75909),w=C.name,h=a.buttons;B.exports=function(s,n){var l={name:w,handleItemDefaults:g};L(s,n,l)};function g(r,s,n){function l(m,v){return p.coerce(r,s,a,m,v)}var c=L(r,s,{name:"buttons",handleItemDefaults:t}),f=l("visible",c.length>0);f&&(l("active"),l("direction"),l("type"),l("showactive"),l("x"),l("y"),p.noneOrAll(r,s,["x","y"]),l("xanchor"),l("yanchor"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),p.coerceFont(l,"font",n.font),l("bgcolor",n.paper_bgcolor),l("bordercolor"),l("borderwidth"))}function t(r,s){function n(c,f){return p.coerce(r,s,h,c,f)}var l=n("visible",r.method==="skip"||Array.isArray(r.args));l&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},13689:function(B,N,e){var p=e(39898),L=e(74875),a=e(7901),C=e(91424),w=e(71828),h=e(63893),g=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),s=e(25849);B.exports=function(O){var F=O._fullLayout,V=w.filterVisible(F[r.name]);function _(oe){L.autoMargin(O,T(oe))}var U=F._menulayer.selectAll("g."+r.containerClassName).data(V.length>0?[0]:[]);if(U.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),U.exit().each(function(){p.select(this).selectAll("g."+r.headerGroupClassName).each(_)}).remove(),V.length!==0){var H=U.selectAll("g."+r.headerGroupClassName).data(V,n);H.enter().append("g").classed(r.headerGroupClassName,!0);for(var z=w.ensureSingle(U,"g",r.dropdownButtonGroupClassName,function(oe){oe.style("pointer-events","all")}),G=0;G<V.length;G++){var Y=V[G];E(O,Y)}var J="updatemenus"+F._uid,ae=new s(O,z,J);H.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(D)),H.exit().each(function(oe){z.call(D),_(oe)}).remove(),H.each(function(oe){var he=p.select(this),q=oe.type==="dropdown"?z:null;L.manageCommandObserver(O,oe,oe.buttons,function(Z){f(O,oe,oe.buttons[Z.index],he,q,ae,Z.index,!0)}),oe.type==="dropdown"?(m(O,he,z,ae,oe),c(z,oe)&&v(O,he,z,ae,oe)):v(O,he,null,null,oe)})}};function n(b){return b._index}function l(b){return+b.attr(r.menuIndexAttrName)==-1}function c(b,O){return+b.attr(r.menuIndexAttrName)===O._index}function f(b,O,F,V,_,U,H,z){O.active=H,g(b.layout,r.name,O).applyUpdate("active",H),O.type==="buttons"?v(b,V,null,null,O):O.type==="dropdown"&&(_.attr(r.menuIndexAttrName,"-1"),m(b,V,_,U,O),z||v(b,V,_,U,O))}function m(b,O,F,V,_){var U=w.ensureSingle(O,"g",r.headerClassName,function(oe){oe.style("pointer-events","all")}),H=_._dims,z=_.active,G=_.buttons[z]||r.blankHeaderOpts,Y={y:_.pad.t,yPad:0,x:_.pad.l,xPad:0,index:0},J={width:H.headerWidth,height:H.headerHeight};U.call(u,_,G,b).call(i,_,Y,J);var ae=w.ensureSingle(O,"text",r.headerArrowClassName,function(oe){oe.attr("text-anchor","end").call(C.font,_.font).text(r.arrowSymbol[_.direction])});ae.attr({x:H.headerWidth-r.arrowOffsetX+_.pad.l,y:H.headerHeight/2+r.textOffsetY+_.pad.t}),U.on("click",function(){F.call(D,String(c(F,_)?-1:_._index)),v(b,O,F,V,_)}),U.on("mouseover",function(){U.call(R)}),U.on("mouseout",function(){U.call(x,_)}),C.setTranslate(O,H.lx,H.ly)}function v(b,O,F,V,_){F||(F=O,F.attr("pointer-events","all"));var U=!l(F)||_.type==="buttons"?_.buttons:[],H=_.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,z=F.selectAll("g."+H).data(w.filterVisible(U)),G=z.enter().append("g").classed(H,!0),Y=z.exit();_.type==="dropdown"?(G.attr("opacity","0").transition().attr("opacity","1"),Y.transition().attr("opacity","0").remove()):Y.remove();var J=0,ae=0,oe=_._dims,he=["up","down"].indexOf(_.direction)!==-1;_.type==="dropdown"&&(he?ae=oe.headerHeight+r.gapButtonHeader:J=oe.headerWidth+r.gapButtonHeader),_.type==="dropdown"&&_.direction==="up"&&(ae=-r.gapButtonHeader+r.gapButton-oe.openHeight),_.type==="dropdown"&&_.direction==="left"&&(J=-r.gapButtonHeader+r.gapButton-oe.openWidth);var q={x:oe.lx+J+_.pad.l,y:oe.ly+ae+_.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},Z={l:q.x+_.borderwidth,t:q.y+_.borderwidth};z.each(function($,K){var re=p.select(this);re.call(u,_,$,b).call(i,_,q),re.on("click",function(){p.event.defaultPrevented||($.execute&&($.args2&&_.active===K?(f(b,_,$,O,F,V,-1),L.executeAPICommand(b,$.method,$.args2)):(f(b,_,$,O,F,V,K),L.executeAPICommand(b,$.method,$.args))),b.emit("plotly_buttonclicked",{menu:_,button:$,active:_.active}))}),re.on("mouseover",function(){re.call(R)}),re.on("mouseout",function(){re.call(x,_),z.call(S,_)})}),z.call(S,_),he?(Z.w=Math.max(oe.openWidth,oe.headerWidth),Z.h=q.y-Z.t):(Z.w=q.x-Z.l,Z.h=Math.max(oe.openHeight,oe.headerHeight)),Z.direction=_.direction,V&&(z.size()?A(b,O,F,V,_,Z):d(V))}function A(b,O,F,V,_,U){var H=_.direction,z=H==="up"||H==="down",G=_._dims,Y=_.active,J,ae,oe;if(z)for(ae=0,oe=0;oe<Y;oe++)ae+=G.heights[oe]+r.gapButton;else for(J=0,oe=0;oe<Y;oe++)J+=G.widths[oe]+r.gapButton;V.enable(U,J,ae),V.hbar&&V.hbar.attr("opacity","0").transition().attr("opacity","1"),V.vbar&&V.vbar.attr("opacity","0").transition().attr("opacity","1")}function d(b){var O=!!b.hbar,F=!!b.vbar;O&&b.hbar.transition().attr("opacity","0").each("end",function(){O=!1,F||b.disable()}),F&&b.vbar.transition().attr("opacity","0").each("end",function(){F=!1,O||b.disable()})}function u(b,O,F,V){b.call(y,O).call(M,O,F,V)}function y(b,O){var F=w.ensureSingle(b,"rect",r.itemRectClassName,function(V){V.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});F.call(a.stroke,O.bordercolor).call(a.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function M(b,O,F,V){var _=w.ensureSingle(b,"text",r.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),U=F.label,H=V._fullLayout._meta;H&&(U=w.templateString(U,H)),_.call(C.font,O.font).text(U).call(h.convertToTspans,V)}function S(b,O){var F=O.active;b.each(function(V,_){var U=p.select(this);_===F&&O.showactive&&U.select("rect."+r.itemRectClassName).call(a.fill,r.activeColor)})}function R(b){b.select("rect."+r.itemRectClassName).call(a.fill,r.hoverColor)}function x(b,O){b.select("rect."+r.itemRectClassName).call(a.fill,O.bgcolor)}function E(b,O){var F=O._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},V=C.tester.selectAll("g."+r.dropdownButtonClassName).data(w.filterVisible(O.buttons));V.enter().append("g").classed(r.dropdownButtonClassName,!0);var _=["up","down"].indexOf(O.direction)!==-1;V.each(function(J,ae){var oe=p.select(this);oe.call(u,O,J,b);var he=oe.select("."+r.itemTextClassName),q=he.node()&&C.bBox(he.node()).width,Z=Math.max(q+r.textPadX,r.minWidth),$=O.font.size*t,K=h.lineCount(he),re=Math.max($*K,r.minHeight)+r.textOffsetY;re=Math.ceil(re),Z=Math.ceil(Z),F.widths[ae]=Z,F.heights[ae]=re,F.height1=Math.max(F.height1,re),F.width1=Math.max(F.width1,Z),_?(F.totalWidth=Math.max(F.totalWidth,Z),F.openWidth=F.totalWidth,F.totalHeight+=re+r.gapButton,F.openHeight+=re+r.gapButton):(F.totalWidth+=Z+r.gapButton,F.openWidth+=Z+r.gapButton,F.totalHeight=Math.max(F.totalHeight,re),F.openHeight=F.totalHeight)}),_?F.totalHeight-=r.gapButton:F.totalWidth-=r.gapButton,F.headerWidth=F.width1+r.arrowPadX,F.headerHeight=F.height1,O.type==="dropdown"&&(_?(F.width1+=r.arrowPadX,F.totalHeight=F.height1):F.totalWidth=F.width1,F.totalWidth+=r.arrowPadX),V.remove();var U=F.totalWidth+O.pad.l+O.pad.r,H=F.totalHeight+O.pad.t+O.pad.b,z=b._fullLayout._size;F.lx=z.l+z.w*O.x,F.ly=z.t+z.h*(1-O.y);var G="left";w.isRightAnchor(O)&&(F.lx-=U,G="right"),w.isCenterAnchor(O)&&(F.lx-=U/2,G="center");var Y="top";w.isBottomAnchor(O)&&(F.ly-=H,Y="bottom"),w.isMiddleAnchor(O)&&(F.ly-=H/2,Y="middle"),F.totalWidth=Math.ceil(F.totalWidth),F.totalHeight=Math.ceil(F.totalHeight),F.lx=Math.round(F.lx),F.ly=Math.round(F.ly),L.autoMargin(b,T(O),{x:O.x,y:O.y,l:U*({right:1,center:.5}[G]||0),r:U*({left:1,center:.5}[G]||0),b:H*({top:1,middle:.5}[Y]||0),t:H*({bottom:1,middle:.5}[Y]||0)})}function T(b){return r.autoMarginIdRoot+b._index}function i(b,O,F,V){V=V||{};var _=b.select("."+r.itemRectClassName),U=b.select("."+r.itemTextClassName),H=O.borderwidth,z=F.index,G=O._dims;C.setTranslate(b,H+F.x,H+F.y);var Y=["up","down"].indexOf(O.direction)!==-1,J=V.height||(Y?G.heights[z]:G.height1);_.attr({x:0,y:0,width:V.width||(Y?G.width1:G.widths[z]),height:J});var ae=O.font.size*t,oe=h.lineCount(U),he=(oe-1)*ae/2;h.positionText(U,r.textOffsetX,J/2-he+r.textOffsetY),Y?F.y+=G.heights[z]+F.yPad:F.x+=G.widths[z]+F.xPad,F.index++}function D(b,O){b.attr(r.menuIndexAttrName,O||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(B,N,e){var p=e(75909);B.exports={moduleType:"component",name:p.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(B,N,e){B.exports=w;var p=e(39898),L=e(7901),a=e(91424),C=e(71828);function w(h,g,t){this.gd=h,this.container=g,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}w.barWidth=2,w.barLength=20,w.barRadius=2,w.barPad=1,w.barColor="#808BA4",w.prototype.enable=function(g,t,r){var s=this.gd._fullLayout,n=s.width,l=s.height;this.position=g;var c=this.position.l,f=this.position.w,m=this.position.t,v=this.position.h,A=this.position.direction,d=A==="down",u=A==="left",y=A==="right",M=A==="up",S=f,R=v,x,E,T,i;!d&&!u&&!y&&!M&&(this.position.direction="down",d=!0);var D=d||M;D?(x=c,E=x+S,d?(T=m,i=Math.min(T+R,l),R=i-T):(i=m+R,T=Math.max(i-R,0),R=i-T)):(T=m,i=T+R,u?(E=c+S,x=Math.max(E-S,0),S=E-x):(x=c,E=Math.min(x+S,n),S=E-x)),this._box={l:x,t:T,w:S,h:R};var b=f>S,O=w.barLength+2*w.barPad,F=w.barWidth+2*w.barPad,V=c,_=m+v;_+F>l&&(_=l-F);var U=this.container.selectAll("rect.scrollbar-horizontal").data(b?[0]:[]);U.exit().on(".drag",null).remove(),U.enter().append("rect").classed("scrollbar-horizontal",!0).call(L.fill,w.barColor),b?(this.hbar=U.attr({rx:w.barRadius,ry:w.barRadius,x:V,y:_,width:O,height:F}),this._hbarXMin=V+O/2,this._hbarTranslateMax=S-O):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var H=v>R,z=w.barWidth+2*w.barPad,G=w.barLength+2*w.barPad,Y=c+f,J=m;Y+z>n&&(Y=n-z);var ae=this.container.selectAll("rect.scrollbar-vertical").data(H?[0]:[]);ae.exit().on(".drag",null).remove(),ae.enter().append("rect").classed("scrollbar-vertical",!0).call(L.fill,w.barColor),H?(this.vbar=ae.attr({rx:w.barRadius,ry:w.barRadius,x:Y,y:J,width:z,height:G}),this._vbarYMin=J+G/2,this._vbarTranslateMax=R-G):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var oe=this.id,he=x-.5,q=H?E+z+.5:E+.5,Z=T-.5,$=b?i+F+.5:i+.5,K=s._topdefs.selectAll("#"+oe).data(b||H?[0]:[]);if(K.exit().remove(),K.enter().append("clipPath").attr("id",oe).append("rect"),b||H?(this._clipRect=K.select("rect").attr({x:Math.floor(he),y:Math.floor(Z),width:Math.ceil(q)-Math.floor(he),height:Math.ceil($)-Math.floor(Z)}),this.container.call(a.setClipUrl,oe,this.gd),this.bg.attr({x:c,y:m,width:f,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),b||H){var re=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(re);var le=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));b&&this.hbar.on(".drag",null).call(le),H&&this.vbar.on(".drag",null).call(le)}this.setTranslate(t,r)},w.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},w.prototype._onBoxDrag=function(){var g=this.translateX,t=this.translateY;this.hbar&&(g-=p.event.dx),this.vbar&&(t-=p.event.dy),this.setTranslate(g,t)},w.prototype._onBoxWheel=function(){var g=this.translateX,t=this.translateY;this.hbar&&(g+=p.event.deltaY),this.vbar&&(t+=p.event.deltaY),this.setTranslate(g,t)},w.prototype._onBarDrag=function(){var g=this.translateX,t=this.translateY;if(this.hbar){var r=g+this._hbarXMin,s=r+this._hbarTranslateMax,n=C.constrain(p.event.x,r,s),l=(n-r)/(s-r),c=this.position.w-this._box.w;g=l*c}if(this.vbar){var f=t+this._vbarYMin,m=f+this._vbarTranslateMax,v=C.constrain(p.event.y,f,m),A=(v-f)/(m-f),d=this.position.h-this._box.h;t=A*d}this.setTranslate(g,t)},w.prototype.setTranslate=function(g,t){var r=this.position.w-this._box.w,s=this.position.h-this._box.h;if(g=C.constrain(g||0,0,r),t=C.constrain(t||0,0,s),this.translateX=g,this.translateY=t,this.container.call(a.setTranslate,this._box.l-this.position.l-g,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+g-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var n=g/r;this.hbar.call(a.setTranslate,g+n*this._hbarTranslateMax,t)}if(this.vbar){var l=t/s;this.vbar.call(a.setTranslate,g,t+l*this._vbarTranslateMax)}}},18783:function(B){B.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(B){B.exports={axisRefDescription:function(N,e,p){return["If set to a",N,"axis id (e.g. *"+N+"* or","*"+N+"2*), the `"+N+"` position refers to a",N,"coordinate. If set to *paper*, the `"+N+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+p+"). If set to a",N,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+N+"2 domain* refers to the domain of the second",N," axis and a",N,"position of 0.5 refers to the","point between the",e,"and the",p,"of the domain of the","second",N,"axis."].join(" ")}}},22372:function(B){B.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},31562:function(B){B.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(B){B.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(B){B.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(B){B.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},37822:function(B){B.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(B){B.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},32396:function(B,N){N.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],N.STYLE=N.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(B,N){N.xmlns="http://www.w3.org/2000/xmlns/",N.svg="http://www.w3.org/2000/svg",N.xlink="http://www.w3.org/1999/xlink",N.svgAttrs={xmlns:N.svg,"xmlns:xlink":N.xlink}},8729:function(B,N,e){N.version=e(11506).version,e(7417),e(98847);for(var p=e(73972),L=N.register=p.register,a=e(10641),C=Object.keys(a),w=0;w<C.length;w++){var h=C[w];h.charAt(0)!=="_"&&(N[h]=a[h]),L({moduleType:"apiMethod",name:h,fn:a[h]})}L(e(67368)),L([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),L([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(L(window.PlotlyLocales),delete window.PlotlyLocales),N.Icons=e(24255);var g=e(30211),t=e(74875);N.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},N.Fx={hover:g.hover,unhover:g.unhover,loneHover:g.loneHover,loneUnhover:g.loneUnhover},N.Snapshot=e(44511),N.PlotSchema=e(86281)},24255:function(B){B.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(B,N){N.isLeftAnchor=function(p){return p.xanchor==="left"||p.xanchor==="auto"&&p.x<=.3333333333333333},N.isCenterAnchor=function(p){return p.xanchor==="center"||p.xanchor==="auto"&&p.x>.3333333333333333&&p.x<.6666666666666666},N.isRightAnchor=function(p){return p.xanchor==="right"||p.xanchor==="auto"&&p.x>=.6666666666666666},N.isTopAnchor=function(p){return p.yanchor==="top"||p.yanchor==="auto"&&p.y>=.6666666666666666},N.isMiddleAnchor=function(p){return p.yanchor==="middle"||p.yanchor==="auto"&&p.y>.3333333333333333&&p.y<.6666666666666666},N.isBottomAnchor=function(p){return p.yanchor==="bottom"||p.yanchor==="auto"&&p.y<=.3333333333333333}},26348:function(B,N,e){var p=e(64872),L=p.mod,a=p.modHalf,C=Math.PI,w=2*C;function h(A){return A/180*C}function g(A){return A/C*180}function t(A){return Math.abs(A[1]-A[0])>w-1e-14}function r(A,d){return a(d-A,w)}function s(A,d){return Math.abs(r(A,d))}function n(A,d){if(t(d))return!0;var u,y;d[0]<d[1]?(u=d[0],y=d[1]):(u=d[1],y=d[0]),u=L(u,w),y=L(y,w),u>y&&(y+=w);var M=L(A,w),S=M+w;return M>=u&&M<=y||S>=u&&S<=y}function l(A,d,u,y){if(!n(d,y))return!1;var M,S;return u[0]<u[1]?(M=u[0],S=u[1]):(M=u[1],S=u[0]),A>=M&&A<=S}function c(A,d,u,y,M,S,R){M=M||0,S=S||0;var x=t([u,y]),E,T,i,D,b;x?(E=0,T=C,i=w):u<y?(E=u,i=y):(E=y,i=u),A<d?(D=A,b=d):(D=d,b=A);function O(U,H){return[U*Math.cos(H)+M,S-U*Math.sin(H)]}var F=Math.abs(i-E)<=C?0:1;function V(U,H,z){return"A"+[U,U]+" "+[0,F,z]+" "+O(U,H)}var _;return x?D===null?_="M"+O(b,E)+V(b,T,0)+V(b,i,0)+"Z":_="M"+O(D,E)+V(D,T,0)+V(D,i,0)+"ZM"+O(b,E)+V(b,T,1)+V(b,i,1)+"Z":D===null?(_="M"+O(b,E)+V(b,i,0),R&&(_+="L0,0Z")):_="M"+O(D,E)+"L"+O(b,E)+V(b,i,0)+"L"+O(D,i)+V(D,E,1)+"Z",_}function f(A,d,u,y,M){return c(null,A,d,u,y,M,0)}function m(A,d,u,y,M){return c(null,A,d,u,y,M,1)}function v(A,d,u,y,M,S){return c(A,d,u,y,M,S,1)}B.exports={deg2rad:h,rad2deg:g,angleDelta:r,angleDist:s,isFullCircle:t,isAngleInsideSector:n,isPtInsideSector:l,pathArc:f,pathSector:m,pathAnnulus:v}},73627:function(B,N){var e=Array.isArray,p=ArrayBuffer,L=DataView;function a(g){return p.isView(g)&&!(g instanceof L)}N.isTypedArray=a;function C(g){return e(g)||a(g)}N.isArrayOrTypedArray=C;function w(g){return!C(g[0])}N.isArray1D=w,N.ensureArray=function(g,t){return e(g)||(g=[]),g.length=t,g},N.concat=function(){var g=[],t=!0,r=0,s,n,l,c,f,m,v,A;for(l=0;l<arguments.length;l++)c=arguments[l],m=c.length,m&&(n?g.push(c):(n=c,f=m),e(c)?s=!1:(t=!1,r?s!==c.constructor&&(s=!1):s=c.constructor),r+=m);if(!r)return[];if(!g.length)return n;if(t)return n.concat.apply(n,g);if(s){for(v=new s(r),v.set(n),l=0;l<g.length;l++)c=g[l],v.set(c,f),f+=c.length;return v}for(v=new Array(r),A=0;A<n.length;A++)v[A]=n[A];for(l=0;l<g.length;l++){for(c=g[l],A=0;A<c.length;A++)v[f+A]=c[A];f+=A}return v},N.maxRowLength=function(g){return h(g,Math.max,0)},N.minRowLength=function(g){return h(g,Math.min,1/0)};function h(g,t,r){if(C(g))if(C(g[0])){for(var s=r,n=0;n<g.length;n++)s=t(s,g[n].length);return s}else return g.length;return 0}},95218:function(B,N,e){var p=e(92770),L=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;B.exports=function(w){return typeof w=="string"&&(w=w.replace(a,"")),p(w)?Number(w):L}},33306:function(B){B.exports=function(e){var p=e._fullLayout;p._glcanvas&&p._glcanvas.size()&&p._glcanvas.each(function(L){L.regl&&L.regl.clear({color:!0,depth:!0})})}},86367:function(B){B.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(B,N,e){var p=e(92770),L=e(84267),a=e(9012),C=e(63282),w=e(7901),h=e(37822).DESELECTDIM,g=e(65487),t=e(30587).counter,r=e(64872).modHalf,s=e(73627).isArrayOrTypedArray;N.valObjectMeta={data_array:{coerceFunction:function(l,c,f){s(l)?c.set(l):f!==void 0&&c.set(f)}},enumerated:{coerceFunction:function(l,c,f,m){m.coerceNumber&&(l=+l),m.values.indexOf(l)===-1?c.set(f):c.set(l)},validateFunction:function(l,c){c.coerceNumber&&(l=+l);for(var f=c.values,m=0;m<f.length;m++){var v=String(f[m]);if(v.charAt(0)==="/"&&v.charAt(v.length-1)==="/"){var A=new RegExp(v.substr(1,v.length-2));if(A.test(l))return!0}else if(l===f[m])return!0}return!1}},boolean:{coerceFunction:function(l,c,f){l===!0||l===!1?c.set(l):c.set(f)}},number:{coerceFunction:function(l,c,f,m){!p(l)||m.min!==void 0&&l<m.min||m.max!==void 0&&l>m.max?c.set(f):c.set(+l)}},integer:{coerceFunction:function(l,c,f,m){l%1||!p(l)||m.min!==void 0&&l<m.min||m.max!==void 0&&l>m.max?c.set(f):c.set(+l)}},string:{coerceFunction:function(l,c,f,m){if(typeof l!="string"){var v=typeof l=="number";m.strict===!0||!v?c.set(f):c.set(String(l))}else m.noBlank&&!l?c.set(f):c.set(l)}},color:{coerceFunction:function(l,c,f){L(l).isValid()?c.set(l):c.set(f)}},colorlist:{coerceFunction:function(l,c,f){function m(v){return L(v).isValid()}!Array.isArray(l)||!l.length?c.set(f):l.every(m)?c.set(l):c.set(f)}},colorscale:{coerceFunction:function(l,c,f){c.set(C.get(l,f))}},angle:{coerceFunction:function(l,c,f){l==="auto"?c.set("auto"):p(l)?c.set(r(+l,360)):c.set(f)}},subplotid:{coerceFunction:function(l,c,f,m){var v=m.regex||t(f);if(typeof l=="string"&&v.test(l)){c.set(l);return}c.set(f)},validateFunction:function(l,c){var f=c.dflt;return l===f?!0:typeof l!="string"?!1:!!t(f).test(l)}},flaglist:{coerceFunction:function(l,c,f,m){if((m.extras||[]).indexOf(l)!==-1){c.set(l);return}if(typeof l!="string"){c.set(f);return}for(var v=l.split("+"),A=0;A<v.length;){var d=v[A];m.flags.indexOf(d)===-1||v.indexOf(d)<A?v.splice(A,1):A++}v.length?c.set(v.join("+")):c.set(f)}},any:{coerceFunction:function(l,c,f){l===void 0?c.set(f):c.set(l)}},info_array:{coerceFunction:function(l,c,f,m){function v(O,F,V){var _,U={set:function(H){_=H}};return V===void 0&&(V=F.dflt),N.valObjectMeta[F.valType].coerceFunction(O,U,V,F),_}var A=m.dimensions===2||m.dimensions==="1-2"&&Array.isArray(l)&&Array.isArray(l[0]);if(!Array.isArray(l)){c.set(f);return}var d=m.items,u=[],y=Array.isArray(d),M=y&&A&&Array.isArray(d[0]),S=A&&y&&!M,R=y&&!S?d.length:l.length,x,E,T,i,D,b;if(f=Array.isArray(f)?f:[],A)for(x=0;x<R;x++)for(u[x]=[],T=Array.isArray(l[x])?l[x]:[],S?D=d.length:y?D=d[x].length:D=T.length,E=0;E<D;E++)S?i=d[E]:y?i=d[x][E]:i=d,b=v(T[E],i,(f[x]||[])[E]),b!==void 0&&(u[x][E]=b);else for(x=0;x<R;x++)b=v(l[x],y?d[x]:d,f[x]),b!==void 0&&(u[x]=b);c.set(u)},validateFunction:function(l,c){if(!Array.isArray(l))return!1;var f=c.items,m=Array.isArray(f),v=c.dimensions===2;if(!c.freeLength&&l.length!==f.length)return!1;for(var A=0;A<l.length;A++)if(v){if(!Array.isArray(l[A])||!c.freeLength&&l[A].length!==f[A].length)return!1;for(var d=0;d<l[A].length;d++)if(!n(l[A][d],m?f[A][d]:f))return!1}else if(!n(l[A],m?f[A]:f))return!1;return!0}}},N.coerce=function(l,c,f,m,v){var A=g(f,m).get(),d=g(l,m),u=g(c,m),y=d.get(),M=c._template;if(y===void 0&&M&&(y=g(M,m).get(),M=0),v===void 0&&(v=A.dflt),A.arrayOk&&s(y))return u.set(y),y;var S=N.valObjectMeta[A.valType].coerceFunction;S(y,u,v,A);var R=u.get();return M&&R===v&&!n(y,A)&&(y=g(M,m).get(),S(y,u,v,A),R=u.get()),R},N.coerce2=function(l,c,f,m,v){var A=g(l,m),d=N.coerce(l,c,f,m,v),u=A.get();return u!=null?d:!1},N.coerceFont=function(l,c,f){var m={};return f=f||{},m.family=l(c+".family",f.family),m.size=l(c+".size",f.size),m.color=l(c+".color",f.color),m},N.coercePattern=function(l,c,f,m){var v=l(c+".shape");if(v){l(c+".solidity"),l(c+".size");var A=l(c+".fillmode"),d=A==="overlay";if(!m){var u=l(c+".bgcolor",d?f:void 0);l(c+".fgcolor",d?w.contrast(u):f)}l(c+".fgopacity",d?.5:1)}},N.coerceHoverinfo=function(l,c,f){var m=c._module.attributes,v=m.hoverinfo?m:a,A=v.hoverinfo,d;if(f._dataLength===1){var u=A.dflt==="all"?A.flags.slice():A.dflt.split("+");u.splice(u.indexOf("name"),1),d=u.join("+")}return N.coerce(l,c,v,"hoverinfo",d)},N.coerceSelectionMarkerOpacity=function(l,c){if(l.marker){var f=l.marker.opacity;if(f!==void 0){var m,v;!s(f)&&!l.selected&&!l.unselected&&(m=f,v=h*f),c("selected.marker.opacity",m),c("unselected.marker.opacity",v)}}};function n(l,c){var f=N.valObjectMeta[c.valType];if(c.arrayOk&&s(l))return!0;if(f.validateFunction)return f.validateFunction(l,c);var m={},v=m,A={set:function(d){v=d}};return f.coerceFunction(l,A,m,c),v!==m}N.validate=n},41631:function(B,N,e){var p=e(84096).i$,L=e(92770),a=e(47769),C=e(64872).mod,w=e(50606),h=w.BADNUM,g=w.ONEDAY,t=w.ONEHOUR,r=w.ONEMIN,s=w.ONESEC,n=w.EPOCHJD,l=e(73972),c=e(84096).g0,f=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,v=new Date().getFullYear()-70;function A(_){return _&&l.componentsRegistry.calendars&&typeof _=="string"&&_!=="gregorian"}N.dateTick0=function(_,U){var H=d(_,!!U);if(U<2)return H;var z=N.dateTime2ms(H,_);return z+=g*(U-1),N.ms2DateTime(z,0,_)};function d(_,U){return A(_)?U?l.getComponentMethod("calendars","CANONICAL_SUNDAY")[_]:l.getComponentMethod("calendars","CANONICAL_TICK")[_]:U?"2000-01-02":"2000-01-01"}N.dfltRange=function(_){return A(_)?l.getComponentMethod("calendars","DFLTRANGE")[_]:["2000-01-01","2001-01-01"]},N.isJSDate=function(_){return typeof _=="object"&&_!==null&&typeof _.getTime=="function"};var u,y;N.dateTime2ms=function(_,U){if(N.isJSDate(_)){var H=_.getTimezoneOffset()*r,z=(_.getUTCMinutes()-_.getMinutes())*r+(_.getUTCSeconds()-_.getSeconds())*s+(_.getUTCMilliseconds()-_.getMilliseconds());if(z){var G=3*r;H=H-G/2+C(z-H+G/2,G)}return _=Number(_)-H,_>=u&&_<=y?_:h}if(typeof _!="string"&&typeof _!="number")return h;_=String(_);var Y=A(U),J=_.charAt(0);Y&&(J==="G"||J==="g")&&(_=_.substr(1),U="");var ae=Y&&U.substr(0,7)==="chinese",oe=_.match(ae?m:f);if(!oe)return h;var he=oe[1],q=oe[3]||"1",Z=Number(oe[5]||1),$=Number(oe[7]||0),K=Number(oe[9]||0),re=Number(oe[11]||0);if(Y){if(he.length===2)return h;he=Number(he);var le;try{var te=l.getComponentMethod("calendars","getCal")(U);if(ae){var ee=q.charAt(q.length-1)==="i";q=parseInt(q,10),le=te.newDate(he,te.toMonthIndex(he,q,ee),Z)}else le=te.newDate(he,Number(q),Z)}catch{return h}return le?(le.toJD()-n)*g+$*t+K*r+re*s:h}he.length===2?he=(Number(he)+2e3-v)%100+v:he=Number(he),q-=1;var ue=new Date(Date.UTC(2e3,q,Z,$,K));return ue.setUTCFullYear(he),ue.getUTCMonth()!==q||ue.getUTCDate()!==Z?h:ue.getTime()+re*s},u=N.MIN_MS=N.dateTime2ms("-9999"),y=N.MAX_MS=N.dateTime2ms("9999-12-31 23:59:59.9999"),N.isDateTime=function(_,U){return N.dateTime2ms(_,U)!==h};function M(_,U){return String(_+Math.pow(10,U)).substr(1)}var S=90*g,R=3*t,x=5*r;N.ms2DateTime=function(_,U,H){if(typeof _!="number"||!(_>=u&&_<=y))return h;U||(U=0);var z=Math.floor(C(_+.05,1)*10),G=Math.round(_-z/10),Y,J,ae,oe,he,q;if(A(H)){var Z=Math.floor(G/g)+n,$=Math.floor(C(_,g));try{Y=l.getComponentMethod("calendars","getCal")(H).fromJD(Z).formatDate("yyyy-mm-dd")}catch{Y=c("G%Y-%m-%d")(new Date(G))}if(Y.charAt(0)==="-")for(;Y.length<11;)Y="-0"+Y.substr(1);else for(;Y.length<10;)Y="0"+Y;J=U<S?Math.floor($/t):0,ae=U<S?Math.floor($%t/r):0,oe=U<R?Math.floor($%r/s):0,he=U<x?$%s*10+z:0}else q=new Date(G),Y=c("%Y-%m-%d")(q),J=U<S?q.getUTCHours():0,ae=U<S?q.getUTCMinutes():0,oe=U<R?q.getUTCSeconds():0,he=U<x?q.getUTCMilliseconds()*10+z:0;return E(Y,J,ae,oe,he)},N.ms2DateTimeLocal=function(_){if(!(_>=u+g&&_<=y-g))return h;var U=Math.floor(C(_+.05,1)*10),H=new Date(Math.round(_-U/10)),z=p("%Y-%m-%d")(H),G=H.getHours(),Y=H.getMinutes(),J=H.getSeconds(),ae=H.getUTCMilliseconds()*10+U;return E(z,G,Y,J,ae)};function E(_,U,H,z,G){if((U||H||z||G)&&(_+=" "+M(U,2)+":"+M(H,2),(z||G)&&(_+=":"+M(z,2),G))){for(var Y=4;G%10===0;)Y-=1,G/=10;_+="."+M(G,Y)}return _}N.cleanDate=function(_,U,H){if(_===h)return U;if(N.isJSDate(_)||typeof _=="number"&&isFinite(_)){if(A(H))return a.error("JS Dates and milliseconds are incompatible with world calendars",_),U;if(_=N.ms2DateTimeLocal(+_),!_&&U!==void 0)return U}else if(!N.isDateTime(_,H))return a.error("unrecognized date",_),U;return _};var T=/%\d?f/g,i=/%h/g,D={1:"1",2:"1",3:"2",4:"2"};function b(_,U,H,z){_=_.replace(T,function(Y){var J=Math.min(+Y.charAt(1)||6,6),ae=(U/1e3%1+2).toFixed(J).substr(2).replace(/0+$/,"")||"0";return ae});var G=new Date(Math.floor(U+.05));if(_=_.replace(i,function(){return D[H("%q")(G)]}),A(z))try{_=l.getComponentMethod("calendars","worldCalFmt")(_,U,z)}catch{return"Invalid"}return H(_)(G)}var O=[59,59.9,59.99,59.999,59.9999];function F(_,U){var H=C(_+.05,g),z=M(Math.floor(H/t),2)+":"+M(C(Math.floor(H/r),60),2);if(U!=="M"){L(U)||(U=0);var G=Math.min(C(_/s,60),O[U]),Y=(100+G).toFixed(U).substr(1);U>0&&(Y=Y.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+Y}return z}N.formatDate=function(_,U,H,z,G,Y){if(G=A(G)&&G,!U)if(H==="y")U=Y.year;else if(H==="m")U=Y.month;else if(H==="d")U=Y.dayMonth+`
`+Y.year;else return F(_,H)+`
`+b(Y.dayMonthYear,_,z,G);return b(U,_,z,G)};var V=3*g;N.incrementMonth=function(_,U,H){H=A(H)&&H;var z=C(_,g);if(_=Math.round(_-z),H)try{var G=Math.round(_/g)+n,Y=l.getComponentMethod("calendars","getCal")(H),J=Y.fromJD(G);return U%12?Y.add(J,U,"m"):Y.add(J,U/12,"y"),(J.toJD()-n)*g+z}catch{a.error("invalid ms "+_+" in calendar "+H)}var ae=new Date(_+V);return ae.setUTCMonth(ae.getUTCMonth()+U)+z-V},N.findExactDates=function(_,U){for(var H=0,z=0,G=0,Y=0,J,ae,oe=A(U)&&l.getComponentMethod("calendars","getCal")(U),he=0;he<_.length;he++){if(ae=_[he],!L(ae)){Y++;continue}if(!(ae%g))if(oe)try{J=oe.fromJD(ae/g+n),J.day()===1?J.month()===1?H++:z++:G++}catch{}else J=new Date(ae),J.getUTCDate()===1?J.getUTCMonth()===0?H++:z++:G++}z+=H,G+=z;var q=_.length-Y;return{exactYears:H/q,exactMonths:z/q,exactDays:G/q}}},24401:function(B,N,e){var p=e(39898),L=e(47769),a=e(35657),C=e(79576);function w(v){var A;if(typeof v=="string"){if(A=document.getElementById(v),A===null)throw new Error("No DOM element with id '"+v+"' exists on the page.");return A}else if(v==null)throw new Error("DOM element provided is null or undefined");return v}function h(v){var A=p.select(v);return A.node()instanceof HTMLElement&&A.size()&&A.classed("js-plotly-plot")}function g(v){var A=v&&v.parentNode;A&&A.removeChild(v)}function t(v,A){r("global",v,A)}function r(v,A,d){var u="plotly.js-style-"+v,y=document.getElementById(u);y||(y=document.createElement("style"),y.setAttribute("id",u),y.appendChild(document.createTextNode("")),document.head.appendChild(y));var M=y.sheet;M.insertRule?M.insertRule(A+"{"+d+"}",0):M.addRule?M.addRule(A,d,0):L.warn("addStyleRule failed")}function s(v){var A="plotly.js-style-"+v,d=document.getElementById(A);d&&g(d)}function n(v){var A=c(v),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return A.forEach(function(u){var y=l(u);if(y){var M=a.convertCssMatrix(y);d=C.multiply(d,d,M)}}),d}function l(v){var A=window.getComputedStyle(v,null),d=A.getPropertyValue("-webkit-transform")||A.getPropertyValue("-moz-transform")||A.getPropertyValue("-ms-transform")||A.getPropertyValue("-o-transform")||A.getPropertyValue("transform");return d==="none"?null:d.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(u){return+u})}function c(v){for(var A=[];f(v);)A.push(v),v=v.parentNode;return A}function f(v){return v&&(v instanceof Element||v instanceof HTMLElement)}function m(v,A){return v&&A&&v.top===A.top&&v.left===A.left&&v.right===A.right&&v.bottom===A.bottom}B.exports={getGraphDiv:w,isPlotDiv:h,removeElement:g,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:s,getFullTransformMatrix:n,getElementTransformMatrix:l,getElementAndAncestors:c,equalDomRects:m}},11086:function(B,N,e){var p=e(15398).EventEmitter,L={init:function(a){if(a._ev instanceof p)return a;var C=new p,w=new p;return a._ev=C,a._internalEv=w,a.on=C.on.bind(C),a.once=C.once.bind(C),a.removeListener=C.removeListener.bind(C),a.removeAllListeners=C.removeAllListeners.bind(C),a._internalOn=w.on.bind(w),a._internalOnce=w.once.bind(w),a._removeInternalListener=w.removeListener.bind(w),a._removeAllInternalListeners=w.removeAllListeners.bind(w),a.emit=function(h,g){typeof jQuery<"u"&&jQuery(a).trigger(h,g),C.emit(h,g),w.emit(h,g)},a},triggerHandler:function(a,C,w){var h,g;typeof jQuery<"u"&&(h=jQuery(a).triggerHandler(C,w));var t=a._ev;if(!t)return h;var r=t._events[C];if(!r)return h;function s(l){if(l.listener){if(t.removeListener(C,l.listener),!l.fired)return l.fired=!0,l.listener.apply(t,[w])}else return l.apply(t,[w])}r=Array.isArray(r)?r:[r];var n;for(n=0;n<r.length-1;n++)s(r[n]);return g=s(r[n]),h!==void 0?h:g},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};B.exports=L},1426:function(B,N,e){var p=e(41965),L=Array.isArray;function a(w,h){var g,t;for(g=0;g<w.length;g++){if(t=w[g],t!==null&&typeof t=="object")return!1;t!==void 0&&(h[g]=t)}return!0}N.extendFlat=function(){return C(arguments,!1,!1,!1)},N.extendDeep=function(){return C(arguments,!0,!1,!1)},N.extendDeepAll=function(){return C(arguments,!0,!0,!1)},N.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(w,h,g,t){var r=w[0],s=w.length,n,l,c,f,m,v,A;if(s===2&&L(r)&&L(w[1])&&r.length===0){if(A=a(w[1],r),A)return r;r.splice(0,r.length)}for(var d=1;d<s;d++){n=w[d];for(l in n)c=r[l],f=n[l],t&&L(f)?r[l]=f:h&&f&&(p(f)||(m=L(f)))?(m?(m=!1,v=c&&L(c)?c:[]):v=c&&p(c)?c:{},r[l]=C([v,f],h,g,t)):(typeof f<"u"||g)&&(r[l]=f)}return r}},75744:function(B){B.exports=function(e){for(var p={},L=[],a=0,C=0;C<e.length;C++){var w=e[C];p[w]!==1&&(p[w]=1,L[a++]=w)}return L}},76756:function(B){B.exports=function(a){for(var C=p(a)?e:N,w=[],h=0;h<a.length;h++){var g=a[h];C(g)&&w.push(g)}return w};function N(L){return L.visible===!0}function e(L){var a=L[0].trace;return a.visible===!0&&a._length!==0}function p(L){return Array.isArray(L)&&Array.isArray(L[0])&&L[0][0]&&L[0][0].trace}},41327:function(B,N,e){var p=e(39898),L=e(24138),a=e(30774),C=e(29261),w=e(85268),h=e(23389),g=e(47769),t=e(41965),r=e(65487),s=e(61082),n=Object.keys(L),l={"ISO-3":h,"USA-states":h,"country names":c};function c(M){for(var S=0;S<n.length;S++){var R=n[S],x=new RegExp(L[R]);if(x.test(M.trim().toLowerCase()))return R}return g.log("Unrecognized country name: "+M+"."),!1}function f(M,S,R){if(!S||typeof S!="string")return!1;var x=l[M](S),E,T,i;if(x){if(M==="USA-states")for(E=[],i=0;i<R.length;i++)T=R[i],T.properties&&T.properties.gu&&T.properties.gu==="USA"&&E.push(T);else E=R;for(i=0;i<E.length;i++)if(T=E[i],T.id===x)return T;g.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(M){var S=M.geometry,R=S.coordinates,x=M.id,E=[],T,i,D,b;function O(F){for(var V=0;V<F.length-1;V++)if(F[V][0]>0&&F[V+1][0]<0)return V;return null}switch(x==="RUS"||x==="FJI"?T=function(F){var V;if(O(F)===null)V=F;else for(V=new Array(F.length),b=0;b<F.length;b++)V[b]=[F[b][0]<0?F[b][0]+360:F[b][0],F[b][1]];E.push(s.tester(V))}:x==="ATA"?T=function(F){var V=O(F);if(V===null)return E.push(s.tester(F));var _=new Array(F.length+1),U=0;for(b=0;b<F.length;b++)b>V?_[U++]=[F[b][0]+360,F[b][1]]:b===V?(_[U++]=F[b],_[U++]=[F[b][0],-90]):_[U++]=F[b];var H=s.tester(_);H.pts.pop(),E.push(H)}:T=function(F){E.push(s.tester(F))},S.type){case"MultiPolygon":for(i=0;i<R.length;i++)for(D=0;D<R[i].length;D++)T(R[i][D]);break;case"Polygon":for(i=0;i<R.length;i++)T(R[i]);break}return E}function v(M){var S=M.geojson,R=window.PlotlyGeoAssets||{},x=typeof S=="string"?R[S]:S;return t(x)?x:(g.error("Oops ... something went wrong when fetching "+S),!1)}function A(M){var S=M[0].trace,R=v(S);if(!R)return!1;var x={},E=[],T;for(T=0;T<S._length;T++){var i=M[T];(i.loc||i.loc===0)&&(x[i.loc]=i)}function D(F){var V=r(F,S.featureidkey||"id").get(),_=x[V];if(_){var U=F.geometry;if(U.type==="Polygon"||U.type==="MultiPolygon"){var H={type:"Feature",id:V,geometry:U,properties:{}};H.properties.ct=d(H),_.fIn=F,_.fOut=H,E.push(H)}else g.log(["Location",_.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[V]}switch(R.type){case"FeatureCollection":var b=R.features;for(T=0;T<b.length;T++)D(b[T]);break;case"Feature":D(R);break;default:return g.warn(["Invalid GeoJSON type",(R.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var O in x)g.log(["Location *"+O+"*","does not have a matching feature with id-key","*"+S.featureidkey+"*."].join(" "));return E}function d(M){var S=M.geometry,R;if(S.type==="MultiPolygon")for(var x=S.coordinates,E=0,T=0;T<x.length;T++){var i={type:"Polygon",coordinates:x[T]},D=a.default(i);D>E&&(E=D,R=i)}else R=S;return C.default(R).geometry.coordinates}function u(M){var S=window.PlotlyGeoAssets||{},R=[];function x(b){return new Promise(function(O,F){p.json(b,function(V,_){if(V){delete S[b];var U=V.status===404?'GeoJSON at URL "'+b+'" does not exist.':"Unexpected error while fetching from "+b;return F(new Error(U))}return S[b]=_,O(_)})})}function E(b){return new Promise(function(O,F){var V=0,_=setInterval(function(){if(S[b]&&S[b]!=="pending")return clearInterval(_),O(S[b]);if(V>100)return clearInterval(_),F("Unexpected error while fetching from "+b);V++},50)})}for(var T=0;T<M.length;T++){var i=M[T][0].trace,D=i.geojson;typeof D=="string"&&(S[D]?S[D]==="pending"&&R.push(E(D)):(S[D]="pending",R.push(x(D))))}return R}function y(M){return w.default(M)}B.exports={locationToFeature:f,feature2polygons:m,getTraceGeojson:v,extractTraceFeature:A,fetchTraceGeoData:u,computeBbox:y}},18214:function(B,N,e){var p=e(50606).BADNUM;N.calcTraceToLineCoords=function(L){for(var a=L[0].trace,C=a.connectgaps,w=[],h=[],g=0;g<L.length;g++){var t=L[g],r=t.lonlat;r[0]!==p?h.push(r):!C&&h.length>0&&(w.push(h),h=[])}return h.length>0&&w.push(h),w},N.makeLine=function(L){return L.length===1?{type:"LineString",coordinates:L[0]}:{type:"MultiLineString",coordinates:L}},N.makePolygon=function(L){if(L.length===1)return{type:"Polygon",coordinates:L};for(var a=new Array(L.length),C=0;C<L.length;C++)a[C]=[L[C]];return{type:"MultiPolygon",coordinates:a}},N.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(B,N,e){var p=e(64872).mod;N.segmentsIntersect=L;function L(g,t,r,s,n,l,c,f){var m=r-g,v=n-g,A=c-n,d=s-t,u=l-t,y=f-l,M=m*y-A*d;if(M===0)return null;var S=(v*y-A*u)/M,R=(v*d-m*u)/M;return R<0||R>1||S<0||S>1?null:{x:g+m*S,y:t+d*S}}N.segmentDistance=function(t,r,s,n,l,c,f,m){if(L(t,r,s,n,l,c,f,m))return 0;var v=s-t,A=n-r,d=f-l,u=m-c,y=v*v+A*A,M=d*d+u*u,S=Math.min(a(v,A,y,l-t,c-r),a(v,A,y,f-t,m-r),a(d,u,M,t-l,r-c),a(d,u,M,s-l,n-c));return Math.sqrt(S)};function a(g,t,r,s,n){var l=s*g+n*t;if(l<0)return s*s+n*n;if(l>r){var c=s-g,f=n-t;return c*c+f*f}else{var m=s*t-n*g;return m*m/r}}var C,w,h;N.getTextLocation=function(t,r,s,n){if((t!==w||n!==h)&&(C={},w=t,h=n),C[s])return C[s];var l=t.getPointAtLength(p(s-n/2,r)),c=t.getPointAtLength(p(s+n/2,r)),f=Math.atan((c.y-l.y)/(c.x-l.x)),m=t.getPointAtLength(p(s,r)),v=(m.x*4+l.x+c.x)/6,A=(m.y*4+l.y+c.y)/6,d={x:v,y:A,theta:f};return C[s]=d,d},N.clearLocationCache=function(){w=null},N.getVisibleSegment=function(t,r,s){var n=r.left,l=r.right,c=r.top,f=r.bottom,m=0,v=t.getTotalLength(),A=v,d,u;function y(S){var R=t.getPointAtLength(S);S===0?d=R:S===v&&(u=R);var x=R.x<n?n-R.x:R.x>l?R.x-l:0,E=R.y<c?c-R.y:R.y>f?R.y-f:0;return Math.sqrt(x*x+E*E)}for(var M=y(m);M;){if(m+=M+s,m>A)return;M=y(m)}for(M=y(A);M;){if(A-=M+s,m>A)return;M=y(A)}return{min:m,max:A,len:A-m,total:v,isClosed:m===0&&A===v&&Math.abs(d.x-u.x)<.1&&Math.abs(d.y-u.y)<.1}},N.findPointOnPath=function(t,r,s,n){n=n||{};for(var l=n.pathLength||t.getTotalLength(),c=n.tolerance||.001,f=n.iterationLimit||30,m=t.getPointAtLength(0)[s]>t.getPointAtLength(l)[s]?-1:1,v=0,A=0,d=l,u,y,M;v<f;){if(u=(A+d)/2,y=t.getPointAtLength(u),M=y[s]-r,Math.abs(M)<c)return y;m*M>0?d=u:A=u,v++}return y}},81697:function(B,N,e){var p=e(92770),L=e(84267),a=e(25075),C=e(21081),w=e(22399).defaultLine,h=e(73627).isArrayOrTypedArray,g=a(w),t=1;function r(f,m){var v=f;return v[3]*=m,v}function s(f){if(p(f))return g;var m=a(f);return m.length?m:g}function n(f){return p(f)?f:t}function l(f,m,v){var A=f.color,d=h(A),u=h(m),y=C.extractOpts(f),M=[],S,R,x,E,T;if(y.colorscale!==void 0?S=C.makeColorScaleFuncFromTrace(f):S=s,d?R=function(D,b){return D[b]===void 0?g:a(S(D[b]))}:R=s,u?x=function(D,b){return D[b]===void 0?t:n(D[b])}:x=n,d||u)for(var i=0;i<v;i++)E=R(A,i),T=x(m,i),M[i]=r(E,T);else M=r(a(A),m);return M}function c(f){var m=C.extractOpts(f),v=m.colorscale;return m.reversescale&&(v=C.flipScale(m.colorscale)),v.map(function(A){var d=A[0],u=L(A[1]),y=u.toRgb();return{index:d,rgb:[y.r,y.g,y.b,y.a]}})}B.exports={formatColor:l,parseColorScale:c}},28984:function(B,N,e){var p=e(23389);function L(a){return[a]}B.exports={keyFun:function(a){return a.key},repeat:L,descend:p,wrap:L,unwrap:function(a){return a[0]}}},23389:function(B){B.exports=function(e){return e}},39240:function(B){B.exports=function(e,p){if(!p)return e;var L=1/Math.abs(p),a=L>1?(L*e+L*p)/L:e+p,C=String(a).length;if(C>16){var w=String(p).length,h=String(e).length;if(C>=h+w){var g=parseFloat(a).toPrecision(12);g.indexOf("e+")===-1&&(a=+g)}}return a}},71828:function(B,N,e){var p=e(39898),L=e(84096).g0,a=e(60721).WU,C=e(92770),w=e(50606),h=w.FP_SAFE,g=-h,t=w.BADNUM,r=B.exports={};r.adjustFormat=function(le){return!le||/^\d[.]\df/.test(le)||/[.]\d%/.test(le)?le:le==="0.f"?"~f":/^\d%/.test(le)?"~%":/^\ds/.test(le)?"~s":!/^[~,.0$]/.test(le)&&/[&fps]/.test(le)?"~"+le:le};var s={};r.warnBadFormat=function(re){var le=String(re);s[le]||(s[le]=1,r.warn('encountered bad format: "'+le+'"'))},r.noFormat=function(re){return String(re)},r.numberFormat=function(re){var le;try{le=a(r.adjustFormat(re))}catch{return r.warnBadFormat(re),r.noFormat}return le},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var n=e(73627);r.isTypedArray=n.isTypedArray,r.isArrayOrTypedArray=n.isArrayOrTypedArray,r.isArray1D=n.isArray1D,r.ensureArray=n.ensureArray,r.concat=n.concat,r.maxRowLength=n.maxRowLength,r.minRowLength=n.minRowLength;var l=e(64872);r.mod=l.mod,r.modHalf=l.modHalf;var c=e(96554);r.valObjectMeta=c.valObjectMeta,r.coerce=c.coerce,r.coerce2=c.coerce2,r.coerceFont=c.coerceFont,r.coercePattern=c.coercePattern,r.coerceHoverinfo=c.coerceHoverinfo,r.coerceSelectionMarkerOpacity=c.coerceSelectionMarkerOpacity,r.validate=c.validate;var f=e(41631);r.dateTime2ms=f.dateTime2ms,r.isDateTime=f.isDateTime,r.ms2DateTime=f.ms2DateTime,r.ms2DateTimeLocal=f.ms2DateTimeLocal,r.cleanDate=f.cleanDate,r.isJSDate=f.isJSDate,r.formatDate=f.formatDate,r.incrementMonth=f.incrementMonth,r.dateTick0=f.dateTick0,r.dfltRange=f.dfltRange,r.findExactDates=f.findExactDates,r.MIN_MS=f.MIN_MS,r.MAX_MS=f.MAX_MS;var m=e(65888);r.findBin=m.findBin,r.sorterAsc=m.sorterAsc,r.sorterDes=m.sorterDes,r.distinctVals=m.distinctVals,r.roundUp=m.roundUp,r.sort=m.sort,r.findIndexOfMin=m.findIndexOfMin,r.sortObjectKeys=e(78607);var v=e(80038);r.aggNums=v.aggNums,r.len=v.len,r.mean=v.mean,r.median=v.median,r.midRange=v.midRange,r.variance=v.variance,r.stdev=v.stdev,r.interp=v.interp;var A=e(35657);r.init2dArray=A.init2dArray,r.transposeRagged=A.transposeRagged,r.dot=A.dot,r.translationMatrix=A.translationMatrix,r.rotationMatrix=A.rotationMatrix,r.rotationXYMatrix=A.rotationXYMatrix,r.apply3DTransform=A.apply3DTransform,r.apply2DTransform=A.apply2DTransform,r.apply2DTransform2=A.apply2DTransform2,r.convertCssMatrix=A.convertCssMatrix,r.inverseTransformMatrix=A.inverseTransformMatrix;var d=e(26348);r.deg2rad=d.deg2rad,r.rad2deg=d.rad2deg,r.angleDelta=d.angleDelta,r.angleDist=d.angleDist,r.isFullCircle=d.isFullCircle,r.isAngleInsideSector=d.isAngleInsideSector,r.isPtInsideSector=d.isPtInsideSector,r.pathArc=d.pathArc,r.pathSector=d.pathSector,r.pathAnnulus=d.pathAnnulus;var u=e(99863);r.isLeftAnchor=u.isLeftAnchor,r.isCenterAnchor=u.isCenterAnchor,r.isRightAnchor=u.isRightAnchor,r.isTopAnchor=u.isTopAnchor,r.isMiddleAnchor=u.isMiddleAnchor,r.isBottomAnchor=u.isBottomAnchor;var y=e(87642);r.segmentsIntersect=y.segmentsIntersect,r.segmentDistance=y.segmentDistance,r.getTextLocation=y.getTextLocation,r.clearLocationCache=y.clearLocationCache,r.getVisibleSegment=y.getVisibleSegment,r.findPointOnPath=y.findPointOnPath;var M=e(1426);r.extendFlat=M.extendFlat,r.extendDeep=M.extendDeep,r.extendDeepAll=M.extendDeepAll,r.extendDeepNoArrays=M.extendDeepNoArrays;var S=e(47769);r.log=S.log,r.warn=S.warn,r.error=S.error;var R=e(30587);r.counterRegex=R.counter;var x=e(79990);r.throttle=x.throttle,r.throttleDone=x.done,r.clearThrottle=x.clear;var E=e(24401);r.getGraphDiv=E.getGraphDiv,r.isPlotDiv=E.isPlotDiv,r.removeElement=E.removeElement,r.addStyleRule=E.addStyleRule,r.addRelatedStyleRule=E.addRelatedStyleRule,r.deleteRelatedStyleRule=E.deleteRelatedStyleRule,r.getFullTransformMatrix=E.getFullTransformMatrix,r.getElementTransformMatrix=E.getElementTransformMatrix,r.getElementAndAncestors=E.getElementAndAncestors,r.equalDomRects=E.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(le){return C(le)?(le=Number(le),le>h||le<g?t:le):t},r.isIndex=function(re,le){return le!==void 0&&re>=le?!1:C(re)&&re>=0&&re%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(re,le){for(var te=new Array(le),ee=0;ee<le;ee++)te[ee]=re;return te},r.swapAttrs=function(re,le,te,ee){te||(te="x"),ee||(ee="y");for(var ue=0;ue<le.length;ue++){var se=le[ue],ve=r.nestedProperty(re,se.replace("?",te)),be=r.nestedProperty(re,se.replace("?",ee)),Ee=ve.get();ve.set(be.get()),be.set(Ee)}},r.raiseToTop=function(le){le.parentNode.appendChild(le)},r.cancelTransition=function(re){return re.transition().duration(0)},r.constrain=function(re,le,te){return le>te?Math.max(te,Math.min(le,re)):Math.max(le,Math.min(te,re))},r.bBoxIntersect=function(re,le,te){return te=te||0,re.left<=le.right+te&&le.left<=re.right+te&&re.top<=le.bottom+te&&le.top<=re.bottom+te},r.simpleMap=function(re,le,te,ee,ue){for(var se=re.length,ve=new Array(se),be=0;be<se;be++)ve[be]=le(re[be],te,ee,ue);return ve},r.randstr=function re(le,te,ee,ue){if(ee||(ee=16),te===void 0&&(te=24),te<=0)return"0";var se=Math.log(Math.pow(2,te))/Math.log(ee),ve="",be,Ee,Ae;for(be=2;se===1/0;be*=2)se=Math.log(Math.pow(2,te/be))/Math.log(ee)*be;var Oe=se-Math.floor(se);for(be=0;be<Math.floor(se);be++)Ae=Math.floor(Math.random()*ee).toString(ee),ve=Ae+ve;Oe&&(Ee=Math.pow(ee,Oe),Ae=Math.floor(Math.random()*Ee).toString(ee),ve=Ae+ve);var Ue=parseInt(ve,ee);return le&&le[ve]||Ue!==1/0&&Ue>=Math.pow(2,te)?ue>10?(r.warn("randstr failed uniqueness"),ve):re(le,te,ee,(ue||0)+1):ve},r.OptionControl=function(re,le){re||(re={}),le||(le="opt");var te={};return te.optionList=[],te._newoption=function(ee){ee[le]=re,te[ee.name]=ee,te.optionList.push(ee)},te["_"+le]=re,te},r.smooth=function(re,le){if(le=Math.round(le)||0,le<2)return re;var te=re.length,ee=2*te,ue=2*le-1,se=new Array(ue),ve=new Array(te),be,Ee,Ae,Oe;for(be=0;be<ue;be++)se[be]=(1-Math.cos(Math.PI*(be+1)/le))/(2*le);for(be=0;be<te;be++){for(Oe=0,Ee=0;Ee<ue;Ee++)Ae=be+Ee+1-le,Ae<-te?Ae-=ee*Math.round(Ae/ee):Ae>=ee&&(Ae-=ee*Math.floor(Ae/ee)),Ae<0?Ae=-1-Ae:Ae>=te&&(Ae=ee-1-Ae),Oe+=re[Ae]*se[Ee];ve[be]=Oe}return ve},r.syncOrAsync=function(re,le,te){var ee,ue;function se(){return r.syncOrAsync(re,le,te)}for(;re.length;)if(ue=re.splice(0,1)[0],ee=ue(le),ee&&ee.then)return ee.then(se);return te&&te(le)},r.stripTrailingSlash=function(re){return re.substr(-1)==="/"?re.substr(0,re.length-1):re},r.noneOrAll=function(re,le,te){if(re){var ee=!1,ue=!0,se,ve;for(se=0;se<te.length;se++)ve=re[te[se]],ve!=null?ee=!0:ue=!1;if(ee&&!ue)for(se=0;se<te.length;se++)re[te[se]]=le[te[se]]}},r.mergeArray=function(re,le,te,ee){var ue=typeof ee=="function";if(r.isArrayOrTypedArray(re))for(var se=Math.min(re.length,le.length),ve=0;ve<se;ve++){var be=re[ve];le[ve][te]=ue?ee(be):be}},r.mergeArrayCastPositive=function(re,le,te){return r.mergeArray(re,le,te,function(ee){var ue=+ee;return isFinite(ue)&&ue>0?ue:0})},r.fillArray=function(re,le,te,ee){if(ee=ee||r.identity,r.isArrayOrTypedArray(re))for(var ue=0;ue<le.length;ue++)le[ue][te]=ee(re[ue])},r.castOption=function(re,le,te,ee){ee=ee||r.identity;var ue=r.nestedProperty(re,te).get();return r.isArrayOrTypedArray(ue)?Array.isArray(le)&&r.isArrayOrTypedArray(ue[le[0]])?ee(ue[le[0]][le[1]]):ee(ue[le]):ue},r.extractOption=function(re,le,te,ee){if(te in re)return re[te];var ue=r.nestedProperty(le,ee).get();if(!Array.isArray(ue))return ue};function T(re){var le={};for(var te in re)for(var ee=re[te],ue=0;ue<ee.length;ue++)le[ee[ue]]=+te;return le}r.tagSelected=function(re,le,te){var ee=le.selectedpoints,ue=le._indexToPoints,se;ue&&(se=T(ue));function ve(Ue){return Ue!==void 0&&Ue<re.length}for(var be=0;be<ee.length;be++){var Ee=ee[be];if(r.isIndex(Ee)||r.isArrayOrTypedArray(Ee)&&r.isIndex(Ee[0])&&r.isIndex(Ee[1])){var Ae=se?se[Ee]:Ee,Oe=te?te[Ae]:Ae;ve(Oe)&&(re[Oe].selected=1)}}},r.selIndices2selPoints=function(re){var le=re.selectedpoints,te=re._indexToPoints;if(te){for(var ee=T(te),ue=[],se=0;se<le.length;se++){var ve=le[se];if(r.isIndex(ve)){var be=ee[ve];r.isIndex(be)&&ue.push(be)}}return ue}else return le},r.getTargetArray=function(re,le){var te=le.target;if(typeof te=="string"&&te){var ee=r.nestedProperty(re,te).get();return Array.isArray(ee)?ee:!1}else if(Array.isArray(te))return te;return!1};function i(re,le,te){var ee={};typeof le!="object"&&(le={});var ue=te==="pieLike"?-1:3,se=Object.keys(re),ve,be,Ee;for(ve=0;ve<se.length;ve++)be=se[ve],Ee=re[be],!(be.charAt(0)==="_"||typeof Ee=="function")&&(be==="module"?ee[be]=Ee:Array.isArray(Ee)?be==="colorscale"||ue===-1?ee[be]=Ee.slice():ee[be]=Ee.slice(0,ue):r.isTypedArray(Ee)?ue===-1?ee[be]=Ee.subarray():ee[be]=Ee.subarray(0,ue):Ee&&typeof Ee=="object"?ee[be]=i(re[be],le[be],te):ee[be]=Ee);for(se=Object.keys(le),ve=0;ve<se.length;ve++)be=se[ve],Ee=le[be],(typeof Ee!="object"||!(be in ee)||typeof ee[be]!="object")&&(ee[be]=Ee);return ee}r.minExtend=i,r.titleCase=function(re){return re.charAt(0).toUpperCase()+re.substr(1)},r.containsAny=function(re,le){for(var te=0;te<le.length;te++)if(re.indexOf(le[te])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var D=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return D.test(window.navigator.userAgent)};var b=/iPad|iPhone|iPod/;r.isIOS=function(){return b.test(window.navigator.userAgent)};var O=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var re=O.exec(window.navigator.userAgent);if(re&&re.length===2){var le=parseInt(re[1]);if(!isNaN(le))return le}return null},r.isD3Selection=function(re){return re instanceof p.selection},r.ensureSingle=function(re,le,te,ee){var ue=re.select(le+(te?"."+te:""));if(ue.size())return ue;var se=re.append(le);return te&&se.classed(te,!0),ee&&se.call(ee),se},r.ensureSingleById=function(re,le,te,ee){var ue=re.select(le+"#"+te);if(ue.size())return ue;var se=re.append(le).attr("id",te);return ee&&se.call(ee),se},r.objectFromPath=function(re,le){for(var te=re.split("."),ee,ue=ee={},se=0;se<te.length;se++){var ve=te[se],be=null,Ee=te[se].match(/(.*)\[([0-9]+)\]/);Ee?(ve=Ee[1],be=Ee[2],ee=ee[ve]=[],se===te.length-1?ee[be]=le:ee[be]={},ee=ee[be]):(se===te.length-1?ee[ve]=le:ee[ve]={},ee=ee[ve])}return ue};var F=/^([^\[\.]+)\.(.+)?/,V=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function _(re){return re.slice(0,2)==="__"}r.expandObjectPaths=function(re){var le,te,ee,ue,se,ve,be;if(typeof re=="object"&&!Array.isArray(re)){for(te in re)if(re.hasOwnProperty(te))if(le=te.match(F)){if(ue=re[te],ee=le[1],_(ee))continue;delete re[te],re[ee]=r.extendDeepNoArrays(re[ee]||{},r.objectFromPath(te,r.expandObjectPaths(ue))[ee])}else if(le=te.match(V)){if(ue=re[te],ee=le[1],_(ee))continue;if(se=parseInt(le[2]),delete re[te],re[ee]=re[ee]||[],le[3]===".")be=le[4],ve=re[ee][se]=re[ee][se]||{},r.extendDeepNoArrays(ve,r.objectFromPath(be,r.expandObjectPaths(ue)));else{if(_(ee))continue;re[ee][se]=r.expandObjectPaths(ue)}}else{if(_(te))continue;re[te]=r.expandObjectPaths(re[te])}}return re},r.numSeparate=function(re,le,te){if(te||(te=!1),typeof le!="string"||le.length===0)throw new Error("Separator string required for formatting!");typeof re=="number"&&(re=String(re));var ee=/(\d+)(\d{3})/,ue=le.charAt(0),se=le.charAt(1),ve=re.split("."),be=ve[0],Ee=ve.length>1?ue+ve[1]:"";if(se&&(ve.length>1||be.length>4||te))for(;ee.test(be);)be=be.replace(ee,"$1"+se+"$2");return be+Ee},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var U=/^\w*$/;r.templateString=function(re,le){var te={};return re.replace(r.TEMPLATE_STRING_REGEX,function(ee,ue){var se;return U.test(ue)?se=le[ue]:(te[ue]=te[ue]||r.nestedProperty(le,ue).get,se=te[ue]()),r.isValidTextValue(se)?se:""})};var H={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return oe.apply(H,arguments)};var z={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return oe.apply(z,arguments)};var G=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Y(re){var le=re.match(G);return le?{key:le[1],op:le[2],number:Number(le[3])}:{key:re,op:null,number:null}}var J={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return oe.apply(J,arguments)};var ae=/^[:|\|]/;function oe(re,le,te){var ee=this,ue=arguments;le||(le={});var se={};return re.replace(r.TEMPLATE_STRING_REGEX,function(ve,be,Ee){var Ae=be==="xother"||be==="yother",Oe=be==="_xother"||be==="_yother",Ue=be==="_xother_"||be==="_yother_",Le=be==="xother_"||be==="yother_",we=Ae||Oe||Le||Ue,Ce=be;(Oe||Ue)&&(Ce=Ce.substring(1)),(Le||Ue)&&(Ce=Ce.substring(0,Ce.length-1));var Ve=null,Ne=null;if(ee.parseMultDiv){var ke=Y(Ce);Ce=ke.key,Ve=ke.op,Ne=ke.number}var We;if(we){if(We=le[Ce],We===void 0)return""}else{var rt,et;for(et=3;et<ue.length;et++)if(rt=ue[et],!!rt){if(rt.hasOwnProperty(Ce)){We=rt[Ce];break}if(U.test(Ce)||(We=r.nestedProperty(rt,Ce).get(),We=se[Ce]||r.nestedProperty(rt,Ce).get(),We&&(se[Ce]=We)),We!==void 0)break}}if(We!==void 0&&(Ve==="*"&&(We*=Ne),Ve==="/"&&(We/=Ne)),We===void 0&&ee)return ee.count<ee.max&&(r.warn("Variable '"+Ce+"' in "+ee.name+" could not be found!"),We=ve),ee.count===ee.max&&r.warn("Too many "+ee.name+" warnings - additional warnings will be suppressed"),ee.count++,ve;if(Ee){var tt;if(Ee[0]===":"&&(tt=te?te.numberFormat:r.numberFormat,We=tt(Ee.replace(ae,""))(We)),Ee[0]==="|"){tt=te?te.timeFormat:L;var at=r.dateTime2ms(We);We=r.formatDate(at,Ee.replace(ae,""),!1,tt)}}else{var ct=Ce+"Label";le.hasOwnProperty(ct)&&(We=le[ct])}return we&&(We="("+We+")",(Oe||Ue)&&(We=" "+We),(Le||Ue)&&(We=We+" ")),We})}var he=48,q=57;r.subplotSort=function(re,le){for(var te=Math.min(re.length,le.length)+1,ee=0,ue=0,se=0;se<te;se++){var ve=re.charCodeAt(se)||0,be=le.charCodeAt(se)||0,Ee=ve>=he&&ve<=q,Ae=be>=he&&be<=q;if(Ee&&(ee=10*ee+ve-he),Ae&&(ue=10*ue+be-he),!Ee||!Ae){if(ee!==ue)return ee-ue;if(ve!==be)return ve-be}}return ue-ee};var Z=2e9;r.seedPseudoRandom=function(){Z=2e9},r.pseudoRandom=function(){var re=Z;return Z=(69069*Z+1)%4294967296,Math.abs(Z-re)<429496729?r.pseudoRandom():Z/4294967296},r.fillText=function(re,le,te){var ee=Array.isArray(te)?function(ve){te.push(ve)}:function(ve){te.text=ve},ue=r.extractOption(re,le,"htx","hovertext");if(r.isValidTextValue(ue))return ee(ue);var se=r.extractOption(re,le,"tx","text");if(r.isValidTextValue(se))return ee(se)},r.isValidTextValue=function(re){return re||re===0},r.formatPercent=function(re,le){le=le||0;for(var te=(Math.round(100*re*Math.pow(10,le))*Math.pow(.1,le)).toFixed(le)+"%",ee=0;ee<le;ee++)te.indexOf(".")!==-1&&(te=te.replace("0%","%"),te=te.replace(".%","%"));return te},r.isHidden=function(re){var le=window.getComputedStyle(re).display;return!le||le==="none"},r.strTranslate=function(re,le){return re||le?"translate("+re+","+le+")":""},r.strRotate=function(re){return re?"rotate("+re+")":""},r.strScale=function(re){return re!==1?"scale("+re+")":""},r.getTextTransform=function(re){var le=re.noCenter,te=re.textX,ee=re.textY,ue=re.targetX,se=re.targetY,ve=re.anchorX||0,be=re.anchorY||0,Ee=re.rotate,Ae=re.scale;return Ae?Ae>1&&(Ae=1):Ae=0,r.strTranslate(ue-Ae*(te+ve),se-Ae*(ee+be))+r.strScale(Ae)+(Ee?"rotate("+Ee+(le?"":" "+te+" "+ee)+")":"")},r.setTransormAndDisplay=function(re,le){re.attr("transform",r.getTextTransform(le)),re.style("display",le.scale?null:"none")},r.ensureUniformFontSize=function(re,le){var te=r.extendFlat({},le);return te.size=Math.max(le.size,re._fullLayout.uniformtext.minsize||0),te},r.join2=function(re,le,te){var ee=re.length;return ee>1?re.slice(0,-1).join(le)+te+re[ee-1]:re.join(le)},r.bigFont=function(re){return Math.round(1.2*re)};var $=r.getFirefoxVersion(),K=$!==null&&$<86;r.getPositionFromD3Event=function(){return K?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},41965:function(B){B.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(B,N,e){var p=e(65487),L=/^\w*$/,a=0,C=1,w=2,h=3,g=4;B.exports=function(r,s,n,l){n=n||"name",l=l||"value";var c,f,m,v={};s&&s.length?(m=p(r,s),f=m.get()):f=r,s=s||"";var A={};if(f)for(c=0;c<f.length;c++)A[f[c][n]]=c;var d=L.test(l),u={set:function(y,M){var S=M===null?g:a;if(!f){if(!m||S===g)return;f=[],m.set(f)}var R=A[y];if(R===void 0){if(S===g)return;S=S|h,R=f.length,A[y]=R}else M!==(d?f[R][l]:p(f[R],l).get())&&(S=S|w);var x=f[R]=f[R]||{};return x[n]=y,d?x[l]=M:p(x,l).set(M),M!==null&&(S=S&~g),v[R]=v[R]|S,u},get:function(y){if(f){var M=A[y];if(M!==void 0)return d?f[M][l]:p(f[M],l).get()}},rename:function(y,M){var S=A[y];return S===void 0||(v[S]=v[S]|C,A[M]=S,delete A[y],f[S][n]=M),u},remove:function(y){var M=A[y];if(M===void 0)return u;var S=f[M];if(Object.keys(S).length>2)return v[M]=v[M]|w,u.set(y,null);if(d){for(c=M;c<f.length;c++)v[c]=v[c]|h;for(c=M;c<f.length;c++)A[f[c][n]]--;f.splice(M,1),delete A[y]}else p(S,l).set(null),v[M]=v[M]|w|g;return u},constructUpdate:function(){for(var y,M,S={},R=Object.keys(v),x=0;x<R.length;x++)M=R[x],y=s+"["+M+"]",f[M]?(v[M]&C&&(S[y+"."+n]=f[M][n]),v[M]&w&&(d?S[y+"."+l]=v[M]&g?null:f[M][l]:S[y+"."+l]=v[M]&g?null:p(f[M],l).get())):S[y]=null;return S}};return u}},15867:function(B,N,e){var p=e(73972);B.exports=function(a,C){for(var w=a._context.locale,h=0;h<2;h++){for(var g=a._context.locales,t=0;t<2;t++){var r=(g[w]||{}).dictionary;if(r){var s=r[C];if(s)return s}g=p.localeRegistry}var n=w.split("-")[0];if(n===w)break;w=n}return C}},47769:function(B,N,e){var p=e(72075).dfltConfig,L=e(75046),a=B.exports={};a.log=function(){var C;if(p.logging>1){var w=["LOG:"];for(C=0;C<arguments.length;C++)w.push(arguments[C]);console.trace.apply(console,w)}if(p.notifyOnLogging>1){var h=[];for(C=0;C<arguments.length;C++)h.push(arguments[C]);L(h.join("<br>"),"long")}},a.warn=function(){var C;if(p.logging>0){var w=["WARN:"];for(C=0;C<arguments.length;C++)w.push(arguments[C]);console.trace.apply(console,w)}if(p.notifyOnLogging>0){var h=[];for(C=0;C<arguments.length;C++)h.push(arguments[C]);L(h.join("<br>"),"stick")}},a.error=function(){var C;if(p.logging>0){var w=["ERROR:"];for(C=0;C<arguments.length;C++)w.push(arguments[C]);console.error.apply(console,w)}if(p.notifyOnLogging>0){var h=[];for(C=0;C<arguments.length;C++)h.push(arguments[C]);L(h.join("<br>"),"stick")}}},77310:function(B,N,e){var p=e(39898);B.exports=function(a,C,w){var h=a.selectAll("g."+w.replace(/\s/g,".")).data(C,function(t){return t[0].trace.uid});h.exit().remove(),h.enter().append("g").attr("class",w),h.order();var g=a.classed("rangeplot")?"nodeRangePlot3":"node3";return h.each(function(t){t[0][g]=p.select(this)}),h}},35657:function(B,N,e){var p=e(79576);N.init2dArray=function(L,a){for(var C=new Array(L),w=0;w<L;w++)C[w]=new Array(a);return C},N.transposeRagged=function(L){var a=0,C=L.length,w,h;for(w=0;w<C;w++)a=Math.max(a,L[w].length);var g=new Array(a);for(w=0;w<a;w++)for(g[w]=new Array(C),h=0;h<C;h++)g[w][h]=L[h][w];return g},N.dot=function(L,a){if(!(L.length&&a.length)||L.length!==a.length)return null;var C=L.length,w,h;if(L[0].length)for(w=new Array(C),h=0;h<C;h++)w[h]=N.dot(L[h],a);else if(a[0].length){var g=N.transposeRagged(a);for(w=new Array(g.length),h=0;h<g.length;h++)w[h]=N.dot(L,g[h])}else for(w=0,h=0;h<C;h++)w+=L[h]*a[h];return w},N.translationMatrix=function(L,a){return[[1,0,L],[0,1,a],[0,0,1]]},N.rotationMatrix=function(L){var a=L*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},N.rotationXYMatrix=function(L,a,C){return N.dot(N.dot(N.translationMatrix(a,C),N.rotationMatrix(L)),N.translationMatrix(-a,-C))},N.apply3DTransform=function(L){return function(){var a=arguments,C=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return N.dot(L,[C[0],C[1],C[2],1]).slice(0,3)}},N.apply2DTransform=function(L){return function(){var a=arguments;a.length===3&&(a=a[0]);var C=arguments.length===1?a[0]:[a[0],a[1]];return N.dot(L,[C[0],C[1],1]).slice(0,2)}},N.apply2DTransform2=function(L){var a=N.apply2DTransform(L);return function(C){return a(C.slice(0,2)).concat(a(C.slice(2,4)))}},N.convertCssMatrix=function(L){if(L){var a=L.length;if(a===16)return L;if(a===6)return[L[0],L[1],0,0,L[2],L[3],0,0,0,0,1,0,L[4],L[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},N.inverseTransformMatrix=function(L){var a=[];return p.invert(a,L),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(B){function N(p,L){var a=p%L;return a<0?a+L:a}function e(p,L){return Math.abs(p)>L/2?p-Math.round(p/L)*L:p}B.exports={mod:N,modHalf:e}},65487:function(B,N,e){var p=e(92770),L=e(73627).isArrayOrTypedArray;B.exports=function(l,c){if(p(c))c=String(c);else if(typeof c!="string"||c.substr(c.length-4)==="[-1]")throw"bad property string";var f=c.split("."),m,v,A,d;for(d=0;d<f.length;d++)if(String(f[d]).slice(0,2)==="__")throw"bad property string";for(d=0;d<f.length;){if(m=String(f[d]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])f[d]=m[1];else if(d===0)f.splice(0,1);else throw"bad property string";for(v=m[2].substr(1,m[2].length-2).split("]["),A=0;A<v.length;A++)d++,f.splice(d,0,Number(v[A]))}d++}return typeof l!="object"?s(l,c,f):{set:h(l,f,c),get:a(l,f),astr:c,parts:f,obj:l}};function a(n,l){return function(){var c=n,f,m,v,A,d;for(A=0;A<l.length-1;A++){if(f=l[A],f===-1){for(m=!0,v=[],d=0;d<c.length;d++)v[d]=a(c[d],l.slice(A+1))(),v[d]!==v[0]&&(m=!1);return m?v[0]:v}if(typeof f=="number"&&!L(c)||(c=c[f],typeof c!="object"||c===null))return}if(!(typeof c!="object"||c===null)&&(v=c[l[A]],v!==null))return v}}var C=/(^|\.)args\[/;function w(n,l){return n===void 0||n===null&&!l.match(C)}function h(n,l,c){return function(f){var m=n,v="",A=w(f,c),d,u;for(u=0;u<l.length-1;u++){if(d=l[u],typeof d=="number"&&!L(m))throw"array index but container is not an array";if(d===-1){if(A=!t(m,l.slice(u+1),f,c),A)break;return}if(!r(m,d,l[u+1],A))break;if(m=m[d],typeof m!="object"||m===null)throw"container is not an object";v=g(v,d)}if(A){if(u===l.length-1&&(delete m[l[u]],Array.isArray(m)&&+l[u]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[l[u]]=f}}function g(n,l){var c=l;return p(l)?c="["+l+"]":n&&(c="."+l),n+c}function t(n,l,c,f){var m=L(c),v=!0,A=c,d=f.replace("-1",0),u=m?!1:w(c,d),y=l[0],M;for(M=0;M<n.length;M++)d=f.replace("-1",M),m&&(A=c[M%c.length],u=w(A,d)),u&&(v=!1),r(n,M,y,u)&&h(n[M],l,f.replace("-1",M))(A);return v}function r(n,l,c,f){if(n[l]===void 0){if(f)return!1;typeof c=="number"?n[l]=[]:n[l]={}}return!0}function s(n,l,c){return{set:function(){throw"bad container"},get:function(){},astr:l,parts:c,obj:n}}},64213:function(B){B.exports=function(){}},75046:function(B,N,e){var p=e(39898),L=e(92770),a=[];B.exports=function(C,w){if(a.indexOf(C)!==-1)return;a.push(C);var h=1e3;L(w)?h=w:w==="long"&&(h=3e3);var g=p.select("body").selectAll(".plotly-notifier").data([0]);g.enter().append("div").classed("plotly-notifier",!0);var t=g.selectAll(".notifier-note").data(a);function r(s){s.duration(700).style("opacity",0).each("end",function(n){var l=a.indexOf(n);l!==-1&&a.splice(l,1),p.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var n=p.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(r)});for(var l=n.append("p"),c=s.split(/<br\s*\/?>/g),f=0;f<c.length;f++)f&&l.append("br"),l.append("span").text(c[f]);w==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(h).call(r)})}},39918:function(B,N,e){var p=e(6964),L="data-savedcursor",a="!!";B.exports=function(w,h){var g=w.attr(L);if(h){if(!g){for(var t=(w.attr("class")||"").split(" "),r=0;r<t.length;r++){var s=t[r];s.indexOf("cursor-")===0&&w.attr(L,s.substr(7)).classed(s,!1)}w.attr(L)||w.attr(L,a)}p(w,h)}else g&&(w.attr(L,null),g===a?p(w):p(w,g))}},61082:function(B,N,e){var p=e(35657).dot,L=e(50606).BADNUM,a=B.exports={};a.tester=function(w){var h=w.slice(),g=h[0][0],t=g,r=h[0][1],s=r,n;for((h[h.length-1][0]!==h[0][0]||h[h.length-1][1]!==h[0][1])&&h.push(h[0]),n=1;n<h.length;n++)g=Math.min(g,h[n][0]),t=Math.max(t,h[n][0]),r=Math.min(r,h[n][1]),s=Math.max(s,h[n][1]);var l=!1,c;h.length===5&&(h[0][0]===h[1][0]?h[2][0]===h[3][0]&&h[0][1]===h[3][1]&&h[1][1]===h[2][1]&&(l=!0,c=function(d){return d[0]===h[0][0]}):h[0][1]===h[1][1]&&h[2][1]===h[3][1]&&h[0][0]===h[3][0]&&h[1][0]===h[2][0]&&(l=!0,c=function(d){return d[1]===h[0][1]}));function f(d,u){var y=d[0],M=d[1];return!(y===L||y<g||y>t||M===L||M<r||M>s||u&&c(d))}function m(d,u){var y=d[0],M=d[1];if(y===L||y<g||y>t||M===L||M<r||M>s)return!1;var S=h.length,R=h[0][0],x=h[0][1],E=0,T,i,D,b,O;for(T=1;T<S;T++)if(i=R,D=x,R=h[T][0],x=h[T][1],b=Math.min(i,R),!(y<b||y>Math.max(i,R)||M>Math.max(D,x)))if(M<Math.min(D,x))y!==b&&E++;else{if(R===i?O=M:O=D+(y-i)*(x-D)/(R-i),M===O)return!(T===1&&u);M<=O&&y!==b&&E++}return E%2===1}var v=!0,A=h[0];for(n=1;n<h.length;n++)if(A[0]!==h[n][0]||A[1]!==h[n][1]){v=!1;break}return{xmin:g,xmax:t,ymin:r,ymax:s,pts:h,contains:l?f:m,isRect:l,degenerate:v}},a.isSegmentBent=function(w,h,g,t){var r=w[h],s=[w[g][0]-r[0],w[g][1]-r[1]],n=p(s,s),l=Math.sqrt(n),c=[-s[1]/l,s[0]/l],f,m,v;for(f=h+1;f<g;f++)if(m=[w[f][0]-r[0],w[f][1]-r[1]],v=p(m,s),v<0||v>n||Math.abs(p(m,c))>t)return!0;return!1},a.filter=function(w,h){var g=[w[0]],t=0,r=0;function s(l){w.push(l);var c=g.length,f=t;g.splice(r+1);for(var m=f+1;m<w.length;m++)(m===w.length-1||a.isSegmentBent(w,f,m+1,h))&&(g.push(w[m]),g.length<c-2&&(t=m,r=g.length-1),f=m)}if(w.length>1){var n=w.pop();s(n)}return{addPt:s,raw:w,filtered:g}}},79749:function(B,N,e){var p=e(58617),L=e(98580);B.exports=function(C,w,h){var g=C._fullLayout,t=!0;return g._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(h);return}if(!(r.pick&&!g._has("parcoords"))){try{r.regl=L({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:w||[],cachedCode:h||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(s){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:s,layer:r.key})},!1)}}),t||p({container:g._glcontainer.node()}),t}},45142:function(B,N,e){var p=e(92770),L=e(35791);B.exports=function(w){var h;if(w&&w.hasOwnProperty("userAgent")?h=w.userAgent:h=a(),typeof h!="string")return!0;var g=L({ua:{headers:{"user-agent":h}},tablet:!0,featureDetect:!1});if(!g)for(var t=h.split(" "),r=1;r<t.length;r++){var s=t[r];if(s.indexOf("Safari")!==-1)for(var n=r-1;n>-1;n--){var l=t[n];if(l.substr(0,8)==="Version/"){var c=l.substr(8).split(".")[0];if(p(c)&&(c=+c),c>=13)return!0}}}return g};function a(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},75138:function(B){B.exports=function(e,p){if(p instanceof RegExp){for(var L=p.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===L)return e;e.push(p)}else(p||p===0)&&e.indexOf(p)===-1&&e.push(p);return e}},10847:function(B,N,e){var p=e(71828),L=e(72075).dfltConfig;function a(w,h){for(var g=[],t,r=0;r<h.length;r++)t=h[r],t===w?g[r]=t:typeof t=="object"?g[r]=Array.isArray(t)?p.extendDeep([],t):p.extendDeepAll({},t):g[r]=t;return g}var C={};C.add=function(w,h,g,t,r){var s,n;if(w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},n=w.undoQueue.index,w.autoplay){w.undoQueue.inSequence||(w.autoplay=!1);return}!w.undoQueue.sequence||w.undoQueue.beginSequence?(s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},w.undoQueue.queue.splice(n,w.undoQueue.queue.length-n,s),w.undoQueue.index+=1):s=w.undoQueue.queue[n-1],w.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(h),s.undo.args.unshift(g),s.redo.calls.push(t),s.redo.args.push(r)),w.undoQueue.queue.length>L.queueLength&&(w.undoQueue.queue.shift(),w.undoQueue.index--)},C.startSequence=function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!0,w.undoQueue.beginSequence=!0},C.stopSequence=function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!1,w.undoQueue.beginSequence=!1},C.undo=function(h){var g,t;if(!(h.undoQueue===void 0||isNaN(h.undoQueue.index)||h.undoQueue.index<=0)){for(h.undoQueue.index--,g=h.undoQueue.queue[h.undoQueue.index],h.undoQueue.inSequence=!0,t=0;t<g.undo.calls.length;t++)C.plotDo(h,g.undo.calls[t],g.undo.args[t]);h.undoQueue.inSequence=!1,h.autoplay=!1}},C.redo=function(h){var g,t;if(!(h.undoQueue===void 0||isNaN(h.undoQueue.index)||h.undoQueue.index>=h.undoQueue.queue.length)){for(g=h.undoQueue.queue[h.undoQueue.index],h.undoQueue.inSequence=!0,t=0;t<g.redo.calls.length;t++)C.plotDo(h,g.redo.calls[t],g.redo.args[t]);h.undoQueue.inSequence=!1,h.autoplay=!1,h.undoQueue.index++}},C.plotDo=function(w,h,g){w.autoplay=!0,g=a(w,g),h.apply(null,g)},B.exports=C},30587:function(B,N){N.counter=function(e,p,L,a){var C=(p||"")+(L?"":"$"),w=a===!1?"":"^";return e==="xy"?new RegExp(w+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(w+e+"([2-9]|[1-9][0-9]+)?"+C)}},6962:function(B){var N=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;B.exports=function(p,L){for(;L;){var a=p.match(N);if(a)p=a[1];else if(p.match(e))p="";else throw new Error("bad relativeAttr call:"+[p,L]);if(L.charAt(0)==="^")L=L.slice(1);else break}return p&&L.charAt(0)!=="["?p+"."+L:p+L}},51332:function(B,N,e){var p=e(73627).isArrayOrTypedArray,L=e(41965);B.exports=function a(C,w){for(var h in w){var g=w[h],t=C[h];if(t!==g)if(h.charAt(0)==="_"||typeof g=="function"){if(h in C)continue;C[h]=g}else if(p(g)&&p(t)&&L(g[0])){if(h==="customdata"||h==="ids")continue;for(var r=Math.min(g.length,t.length),s=0;s<r;s++)t[s]!==g[s]&&L(g[s])&&L(t[s])&&a(t[s],g[s])}else L(g)&&L(t)&&(a(t,g),Object.keys(t).length||delete C[h])}}},65888:function(B,N,e){var p=e(92770),L=e(47769),a=e(23389),C=e(50606).BADNUM,w=1e-9;N.findBin=function(s,n,l){if(p(n.start))return l?Math.ceil((s-n.start)/n.size-w)-1:Math.floor((s-n.start)/n.size+w);var c=0,f=n.length,m=0,v=f>1?(n[f-1]-n[0])/(f-1):1,A,d;for(v>=0?d=l?h:g:d=l?r:t,s+=v*w*(l?-1:1)*(v>=0?1:-1);c<f&&m++<100;)A=Math.floor((c+f)/2),d(n[A],s)?c=A+1:f=A;return m>90&&L.log("Long binary search..."),c-1};function h(s,n){return s<n}function g(s,n){return s<=n}function t(s,n){return s>n}function r(s,n){return s>=n}N.sorterAsc=function(s,n){return s-n},N.sorterDes=function(s,n){return n-s},N.distinctVals=function(s){var n=s.slice();n.sort(N.sorterAsc);var l;for(l=n.length-1;l>-1&&n[l]===C;l--);for(var c=n[l]-n[0]||1,f=c/(l||1)/1e4,m=[],v,A=0;A<=l;A++){var d=n[A],u=d-v;v===void 0?(m.push(d),v=d):u>f&&(c=Math.min(c,u),m.push(d),v=d)}return{vals:m,minDiff:c}},N.roundUp=function(s,n,l){for(var c=0,f=n.length-1,m,v=0,A=l?0:1,d=l?1:0,u=l?Math.ceil:Math.floor;c<f&&v++<100;)m=u((c+f)/2),n[m]<=s?c=m+A:f=m-d;return n[c]},N.sort=function(s,n){for(var l=0,c=0,f=1;f<s.length;f++){var m=n(s[f],s[f-1]);if(m<0?l=1:m>0&&(c=1),l&&c)return s.sort(n)}return c?s:s.reverse()},N.findIndexOfMin=function(s,n){n=n||a;for(var l=1/0,c,f=0;f<s.length;f++){var m=n(s[f]);m<l&&(l=m,c=f)}return c}},6964:function(B){B.exports=function(e,p){(e.attr("class")||"").split(" ").forEach(function(L){L.indexOf("cursor-")===0&&e.classed(L,!1)}),p&&e.classed("cursor-"+p,!0)}},58617:function(B,N,e){var p=e(7901),L=function(){};B.exports=function(C){for(var w in C)typeof C[w]=="function"&&(C[w]=L);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var h=document.createElement("div");h.className="no-webgl",h.style.cursor="pointer",h.style.fontSize="24px",h.style.color=p.defaults[0],h.style.position="absolute",h.style.left=h.style.top="0px",h.style.width=h.style.height="100%",h.style["background-color"]=p.lightLine,h.style["z-index"]=30;var g=document.createElement("p");return g.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",g.style.position="relative",g.style.top="50%",g.style.left="50%",g.style.height="30%",g.style.width="50%",g.style.margin="-15% 0 0 -25%",h.appendChild(g),C.container.appendChild(h),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(B){B.exports=function(e){return Object.keys(e).sort()}},80038:function(B,N,e){var p=e(92770),L=e(73627).isArrayOrTypedArray;N.aggNums=function(a,C,w,h){var g,t;if((!h||h>w.length)&&(h=w.length),p(C)||(C=!1),L(w[0])){for(t=new Array(h),g=0;g<h;g++)t[g]=N.aggNums(a,C,w[g]);w=t}for(g=0;g<h;g++)p(C)?p(w[g])&&(C=a(+C,+w[g])):C=w[g];return C},N.len=function(a){return N.aggNums(function(C){return C+1},0,a)},N.mean=function(a,C){return C||(C=N.len(a)),N.aggNums(function(w,h){return w+h},0,a)/C},N.midRange=function(a){if(!(a===void 0||a.length===0))return(N.aggNums(Math.max,null,a)+N.aggNums(Math.min,null,a))/2},N.variance=function(a,C,w){return C||(C=N.len(a)),p(w)||(w=N.mean(a,C)),N.aggNums(function(h,g){return h+Math.pow(g-w,2)},0,a)/C},N.stdev=function(a,C,w){return Math.sqrt(N.variance(a,C,w))},N.median=function(a){var C=a.slice().sort();return N.interp(C,.5)},N.interp=function(a,C){if(!p(C))throw"n should be a finite number";if(C=C*a.length-.5,C<0)return a[0];if(C>a.length-1)return a[a.length-1];var w=C%1;return w*a[Math.ceil(C)]+(1-w)*a[Math.floor(C)]}},78614:function(B,N,e){var p=e(25075);function L(a){return a?p(a):[0,0,0,1]}B.exports=L},3883:function(B,N,e){var p=e(32396),L=e(91424),a=e(71828),C=null;function w(){if(C!==null)return C;C=!1;var h=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!h){var g=Array.from(p.CSS_DECLARATIONS).reverse(),t=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof t=="function")C=g.some(function(l){return t.apply(null,l)});else{var r=L.tester.append("image").attr("style",p.STYLE),s=window.getComputedStyle(r.node()),n=s.imageRendering;C=g.some(function(l){var c=l[1];return n===c||n===c.toLowerCase()}),r.remove()}}return C}B.exports=w},63893:function(B,N,e){var p=e(39898),L=e(71828),a=L.strTranslate,C=e(77922),w=e(18783).LINE_SPACING,h=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;N.convertToTspans=function(H,z,G){var Y=H.text(),J=!H.attr("data-notex")&&z&&z._context.typesetMath&&typeof MathJax<"u"&&Y.match(h),ae=p.select(H.node().parentNode);if(ae.empty())return;var oe=H.attr("class")?H.attr("class").split(" ")[0]:"text";oe+="-math",ae.selectAll("svg."+oe).remove(),ae.selectAll("g."+oe+"-group").remove(),H.style("display",null).attr({"data-unformatted":Y,"data-math":"N"});function he(){ae.empty()||(oe=H.attr("class")+"-math",ae.select("svg."+oe).remove()),H.text("").style("white-space","pre");var q=F(H.node(),Y);q&&H.style("pointer-events","all"),N.positionText(H),G&&G.call(H)}return J?(z&&z._promises||[]).push(new Promise(function(q){H.style("display","none");var Z=parseInt(H.node().style.fontSize,10),$={fontSize:Z};n(J[2],$,function(K,re,le){ae.selectAll("svg."+oe).remove(),ae.selectAll("g."+oe+"-group").remove();var te=K&&K.select("svg");if(!te||!te.node()){he(),q();return}var ee=ae.append("g").classed(oe+"-group",!0).attr({"pointer-events":"none","data-unformatted":Y,"data-math":"Y"});ee.node().appendChild(te.node()),re&&re.node()&&te.node().insertBefore(re.node().cloneNode(!0),te.node().firstChild);var ue=le.width,se=le.height;te.attr({class:oe,height:se,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ve=H.node().style.fill||"black",be=te.select("g");be.attr({fill:ve,stroke:ve});var Ee=be.node().getBoundingClientRect(),Ae=Ee.width,Oe=Ee.height;(Ae>ue||Oe>se)&&(te.style("overflow","hidden"),Ee=te.node().getBoundingClientRect(),Ae=Ee.width,Oe=Ee.height);var Ue=+H.attr("x"),Le=+H.attr("y"),we=Z||H.node().getBoundingClientRect().height,Ce=-we/4;if(oe[0]==="y")ee.attr({transform:"rotate("+[-90,Ue,Le]+")"+a(-Ae/2,Ce-Oe/2)});else if(oe[0]==="l")Le=Ce-Oe/2;else if(oe[0]==="a"&&oe.indexOf("atitle")!==0)Ue=0,Le=Ce;else{var Ve=H.attr("text-anchor");Ue=Ue-Ae*(Ve==="middle"?.5:Ve==="end"?1:0),Le=Le+Ce-Oe/2}te.attr({x:Ue,y:Le}),G&&G.call(H,ee),q(ee)})})):he(),H};var g=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(H){return H.replace(g,"\\lt ").replace(t,"\\gt ")}var s=[["$","$"],["\\(","\\)"]];function n(H,z,G){var Y=parseInt((MathJax.version||"").split(".")[0]);if(Y!==2&&Y!==3){L.warn("No MathJax version:",MathJax.version);return}var J,ae,oe,he,q=function(){return ae=L.extendDeepAll({},MathJax.Hub.config),oe=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},Z=function(){ae=L.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s},$=function(){if(J=MathJax.Hub.config.menuSettings.renderer,J!=="SVG")return MathJax.Hub.setRenderer("SVG")},K=function(){J=MathJax.config.startup.output,J!=="svg"&&(MathJax.config.startup.output="svg")},re=function(){var ve="math-output-"+L.randstr({},64);he=p.select("body").append("div").attr({id:ve}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(r(H));var be=he.node();return Y===2?MathJax.Hub.Typeset(be):MathJax.typeset([be])},le=function(){var ve=he.select(Y===2?".MathJax_SVG":".MathJax"),be=!ve.empty()&&he.select("svg").node();if(!be)L.log("There was an error in the tex syntax.",H),G();else{var Ee=be.getBoundingClientRect(),Ae;Y===2?Ae=p.select("body").select("#MathJax_SVG_glyphs"):Ae=ve.select("defs"),G(ve,Ae,Ee)}he.remove()},te=function(){if(J!=="SVG")return MathJax.Hub.setRenderer(J)},ee=function(){J!=="svg"&&(MathJax.config.startup.output=J)},ue=function(){return oe!==void 0&&(MathJax.Hub.processSectionDelay=oe),MathJax.Hub.Config(ae)},se=function(){MathJax.config=ae};Y===2?MathJax.Hub.Queue(q,$,re,le,te,ue):Y===3&&(Z(),K(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){re(),le(),ee(),se()}))}var l={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},c={sub:"0.3em",sup:"-0.6em"},f={sub:"-0.21em",sup:"0.42em"},m="​",v=["http:","https:","mailto:","",void 0,":"],A=N.NEWLINES=/(\r\n?|\n)/g,d=/(<[^<>]*>)/,u=/<(\/?)([^ >]*)(\s+(.*))?>/i,y=/<br(\s+.*)?>/i;N.BR_TAG_ALL=/<br(\s+.*)?>/gi;var M=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,S=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,R=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(H,z){if(!H)return null;var G=H.match(z),Y=G&&(G[3]||G[4]);return Y&&b(Y)}var T=/(^|;)\s*color:/;N.plainText=function(H,z){z=z||{};for(var G=z.len!==void 0&&z.len!==-1?z.len:1/0,Y=z.allowedTags!==void 0?z.allowedTags:["br"],J="...",ae=J.length,oe=H.split(d),he=[],q="",Z=0,$=0;$<oe.length;$++){var K=oe[$],re=K.match(u),le=re&&re[2].toLowerCase();if(le)Y.indexOf(le)!==-1&&(he.push(K),q=le);else{var te=K.length;if(Z+te<G)he.push(K),Z+=te;else if(Z<G){var ee=G-Z;q&&(q!=="br"||ee<=ae||te<=ae)&&he.pop(),G>ae?he.push(K.substr(0,ee-ae)+J):he.push(K.substr(0,ee));break}q=""}}return he.join("")};var i={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},D=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function b(H){return H.replace(D,function(z,G){var Y;return G.charAt(0)==="#"?Y=O(G.charAt(1)==="x"?parseInt(G.substr(2),16):parseInt(G.substr(1),10)):Y=i[G],Y||z})}N.convertEntities=b;function O(H){if(!(H>1114111)){var z=String.fromCodePoint;if(z)return z(H);var G=String.fromCharCode;return H<=65535?G(H):G((H>>10)+55232,H%1024+56320)}}function F(H,z){z=z.replace(A," ");var G=!1,Y=[],J,ae=-1;function oe(){ae++;var Oe=document.createElementNS(C.svg,"tspan");p.select(Oe).attr({class:"line",dy:ae*w+"em"}),H.appendChild(Oe),J=Oe;var Ue=Y;if(Y=[{node:Oe}],Ue.length>1)for(var Le=1;Le<Ue.length;Le++)he(Ue[Le])}function he(Oe){var Ue=Oe.type,Le={},we;if(Ue==="a"){we="a";var Ce=Oe.target,Ve=Oe.href,Ne=Oe.popup;Ve&&(Le={"xlink:xlink:show":Ce==="_blank"||Ce.charAt(0)!=="_"?"new":"replace",target:Ce,"xlink:xlink:href":Ve},Ne&&(Le.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ne+'");return false;'))}else we="tspan";Oe.style&&(Le.style=Oe.style);var ke=document.createElementNS(C.svg,we);if(Ue==="sup"||Ue==="sub"){q(J,m),J.appendChild(ke);var We=document.createElementNS(C.svg,"tspan");q(We,m),p.select(We).attr("dy",f[Ue]),Le.dy=c[Ue],J.appendChild(ke),J.appendChild(We)}else J.appendChild(ke);p.select(ke).attr(Le),J=Oe.node=ke,Y.push(Oe)}function q(Oe,Ue){Oe.appendChild(document.createTextNode(Ue))}function Z(Oe){if(Y.length===1){L.log("Ignoring unexpected end tag </"+Oe+">.",z);return}var Ue=Y.pop();Oe!==Ue.type&&L.log("Start tag <"+Ue.type+"> doesnt match end tag <"+Oe+">. Pretending it did match.",z),J=Y[Y.length-1].node}var $=y.test(z);$?oe():(J=H,Y=[{node:H}]);for(var K=z.split(d),re=0;re<K.length;re++){var le=K[re],te=le.match(u),ee=te&&te[2].toLowerCase(),ue=l[ee];if(ee==="br")oe();else if(ue===void 0)q(J,b(le));else if(te[1])Z(ee);else{var se=te[4],ve={type:ee},be=E(se,M);if(be?(be=be.replace(T,"$1 fill:"),ue&&(be+=";"+ue)):ue&&(be=ue),be&&(ve.style=be),ee==="a"){G=!0;var Ee=E(se,S);if(Ee){var Ae=V(Ee);Ae&&(ve.href=Ae,ve.target=E(se,R)||"_blank",ve.popup=E(se,x))}}he(ve)}}return G}function V(H){var z=encodeURI(decodeURI(H)),G=document.createElement("a"),Y=document.createElement("a");G.href=H,Y.href=z;var J=G.protocol,ae=Y.protocol;return v.indexOf(J)!==-1&&v.indexOf(ae)!==-1?z:""}N.sanitizeHTML=function(z){z=z.replace(A," ");for(var G=document.createElement("p"),Y=G,J=[],ae=z.split(d),oe=0;oe<ae.length;oe++){var he=ae[oe],q=he.match(u),Z=q&&q[2].toLowerCase();if(Z in l)if(q[1])J.length&&(Y=J.pop());else{var $=q[4],K=E($,M),re=K?{style:K}:{};if(Z==="a"){var le=E($,S);if(le){var te=V(le);if(te){re.href=te;var ee=E($,R);ee&&(re.target=ee)}}}var ue=document.createElement(Z);Y.appendChild(ue),p.select(ue).attr(re),Y=ue,J.push(ue)}else Y.appendChild(document.createTextNode(b(he)))}var se="innerHTML";return G[se]},N.lineCount=function(z){return z.selectAll("tspan.line").size()||1},N.positionText=function(z,G,Y){return z.each(function(){var J=p.select(this);function ae(q,Z){return Z===void 0?(Z=J.attr(q),Z===null&&(J.attr(q,0),Z=0)):J.attr(q,Z),Z}var oe=ae("x",G),he=ae("y",Y);this.nodeName==="text"&&J.selectAll("tspan.line").attr({x:oe,y:he})})};function _(H,z,G){var Y=G.horizontalAlign,J=G.verticalAlign||"top",ae=H.node().getBoundingClientRect(),oe=z.node().getBoundingClientRect(),he,q,Z;return J==="bottom"?q=function(){return ae.bottom-he.height}:J==="middle"?q=function(){return ae.top+(ae.height-he.height)/2}:q=function(){return ae.top},Y==="right"?Z=function(){return ae.right-he.width}:Y==="center"?Z=function(){return ae.left+(ae.width-he.width)/2}:Z=function(){return ae.left},function(){he=this.node().getBoundingClientRect();var $=Z()-oe.left,K=q()-oe.top,re=G.gd||{};if(G.gd){re._fullLayout._calcInverseTransform(re);var le=L.apply3DTransform(re._fullLayout._invTransform)($,K);$=le[0],K=le[1]}return this.style({top:K+"px",left:$+"px","z-index":1e3}),this}}var U="1px ";N.makeTextShadow=function(H){var z=U,G=U,Y=U;return z+G+Y+H+", -"+z+"-"+G+Y+H+", "+z+"-"+G+Y+H+", -"+z+G+Y+H},N.makeEditable=function(H,z){var G=z.gd,Y=z.delegate,J=p.dispatch("edit","input","cancel"),ae=Y||H;if(H.style({"pointer-events":Y?"none":"all"}),H.size()!==1)throw new Error("boo");function oe(){q(),H.style({opacity:0});var Z=ae.attr("class"),$;Z?$="."+Z.split(" ")[0]+"-math-group":$="[class*=-math-group]",$&&p.select(H.node().parentNode).select($).style({opacity:0})}function he(Z){var $=Z.node(),K=document.createRange();K.selectNodeContents($);var re=window.getSelection();re.removeAllRanges(),re.addRange(K),$.focus()}function q(){var Z=p.select(G),$=Z.select(".svg-container"),K=$.append("div"),re=H.node().style,le=parseFloat(re.fontSize||12),te=z.text;te===void 0&&(te=H.attr("data-unformatted")),K.classed("plugin-editable editable",!0).style({position:"absolute","font-family":re.fontFamily||"Arial","font-size":le,color:z.fill||re.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-le/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(te).call(_(H,$,z)).on("blur",function(){G._editing=!1,H.text(this.textContent).style({opacity:1});var ee=p.select(this).attr("class"),ue;ee?ue="."+ee.split(" ")[0]+"-math-group":ue="[class*=-math-group]",ue&&p.select(H.node().parentNode).select(ue).style({opacity:0});var se=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),J.edit.call(H,se)}).on("focus",function(){var ee=this;G._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===ee)return!1;document.activeElement===K.node()&&K.node().blur()})}).on("keyup",function(){p.event.which===27?(G._editing=!1,H.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),J.cancel.call(H,this.textContent)):(J.input.call(H,this.textContent),p.select(this).call(_(H,$,z)))}).on("keydown",function(){p.event.which===13&&this.blur()}).call(he)}return z.immediate?oe():ae.on("click",oe),p.rebind(H,J,"on")}},79990:function(B,N){var e={};N.throttle=function(a,C,w){var h=e[a],g=Date.now();if(!h){for(var t in e)e[t].ts<g-6e4&&delete e[t];h=e[a]={ts:0,timer:null}}p(h);function r(){w(),h.ts=Date.now(),h.onDone&&(h.onDone(),h.onDone=null)}if(g>h.ts+C){r();return}h.timer=setTimeout(function(){r(),h.timer=null},C)},N.done=function(L){var a=e[L];return!a||!a.timer?Promise.resolve():new Promise(function(C){var w=a.onDone;a.onDone=function(){w&&w(),C(),a.onDone=null}})},N.clear=function(L){if(L)p(e[L]),delete e[L];else for(var a in e)N.clear(a)};function p(L){L&&L.timer!==null&&(clearTimeout(L.timer),L.timer=null)}},58163:function(B,N,e){var p=e(92770);B.exports=function(a,C){if(a>0)return Math.log(a)/Math.LN10;var w=Math.log(Math.min(C[0],C[1]))/Math.LN10;return p(w)||(w=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),w}},90973:function(B,N,e){var p=B.exports={},L=e(78776).locationmodeToLayer,a=e(96892).zL;p.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},p.getTopojsonPath=function(C,w){return C+w+".json"},p.getTopojsonFeatures=function(C,w){var h=L[C.locationmode],g=w.objects[h];return a(w,g).features}},37815:function(B){B.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(B){B.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(B,N,e){var p=e(73972);B.exports=function(a){for(var C=p.layoutArrayContainers,w=p.layoutArrayRegexes,h=a.split("[")[0],g,t,r=0;r<w.length;r++)if(t=a.match(w[r]),t&&t.index===0){g=t[0];break}if(g||(g=C[C.indexOf(h)]),!g)return!1;var s=a.substr(g.length);return s?(t=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:g,index:Number(t[1]),property:t[3]||""}:!1):{array:g,index:"",property:""}}},30962:function(B,N,e){var p=e(1426).extendFlat,L=e(41965),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},C={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},w=a.flags.slice().concat(["fullReplot"]),h=C.flags.slice().concat("layoutReplot");B.exports={traces:a,layout:C,traceFlags:function(){return g(w)},layoutFlags:function(){return g(h)},update:function(s,n){var l=n.editType;if(l&&l!=="none")for(var c=l.split("+"),f=0;f<c.length;f++)s[c[f]]=!0},overrideAll:t};function g(s){for(var n={},l=0;l<s.length;l++)n[s[l]]=!1;return n}function t(s,n,l){var c=p({},s);for(var f in c){var m=c[f];L(m)&&(c[f]=r(m,n,l,f))}return l==="from-root"&&(c.editType=n),c}function r(s,n,l,c){if(s.valType){var f=p({},s);if(f.editType=n,Array.isArray(s.items)){f.items=new Array(s.items.length);for(var m=0;m<s.items.length;m++)f.items[m]=r(s.items[m],n)}return f}else return t(s,n,c.charAt(0)==="_"?"nested":"from-root")}},58377:function(B,N,e){var p=e(92770),L=e(27812),a=e(73972),C=e(71828),w=e(74875),h=e(41675),g=e(7901),t=h.cleanId,r=h.getFromTrace,s=a.traceIs;N.clearPromiseQueue=function(y){Array.isArray(y._promises)&&y._promises.length>0&&C.log("Clearing previous rejected promises from queue."),y._promises=[]},N.cleanLayout=function(y){var M,S;y||(y={}),y.xaxis1&&(y.xaxis||(y.xaxis=y.xaxis1),delete y.xaxis1),y.yaxis1&&(y.yaxis||(y.yaxis=y.yaxis1),delete y.yaxis1),y.scene1&&(y.scene||(y.scene=y.scene1),delete y.scene1);var R=(w.subplotsRegistry.cartesian||{}).attrRegex,x=(w.subplotsRegistry.polar||{}).attrRegex,E=(w.subplotsRegistry.ternary||{}).attrRegex,T=(w.subplotsRegistry.gl3d||{}).attrRegex,i=Object.keys(y);for(M=0;M<i.length;M++){var D=i[M];if(R&&R.test(D)){var b=y[D];b.anchor&&b.anchor!=="free"&&(b.anchor=t(b.anchor)),b.overlaying&&(b.overlaying=t(b.overlaying)),b.type||(b.isdate?b.type="date":b.islog?b.type="log":b.isdate===!1&&b.islog===!1&&(b.type="linear")),(b.autorange==="withzero"||b.autorange==="tozero")&&(b.autorange=!0,b.rangemode="tozero"),b.insiderange&&delete b.range,delete b.islog,delete b.isdate,delete b.categories,v(b,"domain")&&delete b.domain,b.autotick!==void 0&&(b.tickmode===void 0&&(b.tickmode=b.autotick?"auto":"linear"),delete b.autotick),l(b)}else if(x&&x.test(D)){var O=y[D];l(O.radialaxis)}else if(E&&E.test(D)){var F=y[D];l(F.aaxis),l(F.baxis),l(F.caxis)}else if(T&&T.test(D)){var V=y[D],_=V.cameraposition;if(Array.isArray(_)&&_[0].length===4){var U=_[0],H=_[1],z=_[2],G=L([],U),Y=[];for(S=0;S<3;++S)Y[S]=H[S]+z*G[2+4*S];V.camera={eye:{x:Y[0],y:Y[1],z:Y[2]},center:{x:H[0],y:H[1],z:H[2]},up:{x:0,y:0,z:1}},delete V.cameraposition}l(V.xaxis),l(V.yaxis),l(V.zaxis)}}var J=Array.isArray(y.annotations)?y.annotations.length:0;for(M=0;M<J;M++){var ae=y.annotations[M];C.isPlainObject(ae)&&(ae.ref&&(ae.ref==="paper"?(ae.xref="paper",ae.yref="paper"):ae.ref==="data"&&(ae.xref="x",ae.yref="y"),delete ae.ref),n(ae,"xref"),n(ae,"yref"))}var oe=Array.isArray(y.shapes)?y.shapes.length:0;for(M=0;M<oe;M++){var he=y.shapes[M];C.isPlainObject(he)&&(n(he,"xref"),n(he,"yref"))}var q=Array.isArray(y.images)?y.images.length:0;for(M=0;M<q;M++){var Z=y.images[M];C.isPlainObject(Z)&&(n(Z,"xref"),n(Z,"yref"))}var $=y.legend;return $&&($.x>3?($.x=1.02,$.xanchor="left"):$.x<-2&&($.x=-.02,$.xanchor="right"),$.y>3?($.y=1.02,$.yanchor="bottom"):$.y<-2&&($.y=-.02,$.yanchor="top")),l(y),y.dragmode==="rotate"&&(y.dragmode="orbit"),g.clean(y),y.template&&y.template.layout&&N.cleanLayout(y.template.layout),y};function n(y,M){var S=y[M],R=M.charAt(0);S&&S!=="paper"&&(y[M]=t(S,R,!0))}function l(y){y&&((typeof y.title=="string"||typeof y.title=="number")&&(y.title={text:y.title}),M("titlefont","font"),M("titleposition","position"),M("titleside","side"),M("titleoffset","offset"));function M(S,R){var x=y[S],E=y.title&&y.title[R];x&&!E&&(y.title||(y.title={}),y.title[R]=y[S],delete y[S])}}N.cleanData=function(y){for(var M=0;M<y.length;M++){var S=y[M],R;if(S.type==="histogramy"&&"xbins"in S&&!("ybins"in S)&&(S.ybins=S.xbins,delete S.xbins),S.error_y&&"opacity"in S.error_y){var x=g.defaults,E=S.error_y.color||(s(S,"bar")?g.defaultLine:x[M%x.length]);S.error_y.color=g.addOpacity(g.rgb(E),g.opacity(E)*S.error_y.opacity),delete S.error_y.opacity}if("bardir"in S&&(S.bardir==="h"&&(s(S,"bar")||S.type.substr(0,9)==="histogram")&&(S.orientation="h",N.swapXYData(S)),delete S.bardir),S.type==="histogramy"&&N.swapXYData(S),(S.type==="histogramx"||S.type==="histogramy")&&(S.type="histogram"),"scl"in S&&!("colorscale"in S)&&(S.colorscale=S.scl,delete S.scl),"reversescl"in S&&!("reversescale"in S)&&(S.reversescale=S.reversescl,delete S.reversescl),S.xaxis&&(S.xaxis=t(S.xaxis,"x")),S.yaxis&&(S.yaxis=t(S.yaxis,"y")),s(S,"gl3d")&&S.scene&&(S.scene=w.subplotsRegistry.gl3d.cleanId(S.scene)),!s(S,"pie-like")&&!s(S,"bar-like"))if(Array.isArray(S.textposition))for(R=0;R<S.textposition.length;R++)S.textposition[R]=m(S.textposition[R]);else S.textposition&&(S.textposition=m(S.textposition));var T=a.getModule(S);if(T&&T.colorbar){var i=T.colorbar.container,D=i?S[i]:S;D&&D.colorscale&&(D.colorscale==="YIGnBu"&&(D.colorscale="YlGnBu"),D.colorscale==="YIOrRd"&&(D.colorscale="YlOrRd"))}if(S.type==="surface"&&C.isPlainObject(S.contours)){var b=["x","y","z"];for(R=0;R<b.length;R++){var O=S.contours[b[R]];C.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if(S.type==="candlestick"||S.type==="ohlc"){var F=(S.increasing||{}).showlegend!==!1,V=(S.decreasing||{}).showlegend!==!1,_=c(S.increasing),U=c(S.decreasing);if(_!==!1&&U!==!1){var H=f(_,U,F,V);H&&(S.name=H)}else(_||U)&&!S.name&&(S.name=_||U)}if(Array.isArray(S.transforms)){var z=S.transforms;for(R=0;R<z.length;R++){var G=z[R];if(C.isPlainObject(G))switch(G.type){case"filter":G.filtersrc&&(G.target=G.filtersrc,delete G.filtersrc),G.calendar&&(G.valuecalendar||(G.valuecalendar=G.calendar),delete G.calendar);break;case"groupby":if(G.styles=G.styles||G.style,G.styles&&!Array.isArray(G.styles)){var Y=G.styles,J=Object.keys(Y);G.styles=[];for(var ae=0;ae<J.length;ae++)G.styles.push({target:J[ae],value:Y[J[ae]]})}break}}}v(S,"line")&&delete S.line,"marker"in S&&(v(S.marker,"line")&&delete S.marker.line,v(S,"marker")&&delete S.marker),g.clean(S),S.autobinx&&(delete S.autobinx,delete S.xbins),S.autobiny&&(delete S.autobiny,delete S.ybins),l(S),S.colorbar&&l(S.colorbar),S.marker&&S.marker.colorbar&&l(S.marker.colorbar),S.line&&S.line.colorbar&&l(S.line.colorbar),S.aaxis&&l(S.aaxis),S.baxis&&l(S.baxis)}};function c(y){if(!C.isPlainObject(y))return!1;var M=y.name;return delete y.name,delete y.showlegend,(typeof M=="string"||typeof M=="number")&&String(M)}function f(y,M,S,R){if(S&&!R)return y;if(R&&!S||!y.trim())return M;if(!M.trim())return y;var x=Math.min(y.length,M.length),E;for(E=0;E<x&&y.charAt(E)===M.charAt(E);E++);var T=y.substr(0,E);return T.trim()}function m(y){var M="middle",S="center";return typeof y=="string"&&(y.indexOf("top")!==-1?M="top":y.indexOf("bottom")!==-1&&(M="bottom"),y.indexOf("left")!==-1?S="left":y.indexOf("right")!==-1&&(S="right")),M+" "+S}function v(y,M){return M in y&&typeof y[M]=="object"&&Object.keys(y[M]).length===0}N.swapXYData=function(y){var M;if(C.swapAttrs(y,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(y.z)&&Array.isArray(y.z[0])&&(y.transpose?delete y.transpose:y.transpose=!0),y.error_x&&y.error_y){var S=y.error_y,R="copy_ystyle"in S?S.copy_ystyle:!(S.color||S.thickness||S.width);C.swapAttrs(y,["error_?.copy_ystyle"]),R&&C.swapAttrs(y,["error_?.color","error_?.thickness","error_?.width"])}if(typeof y.hoverinfo=="string"){var x=y.hoverinfo.split("+");for(M=0;M<x.length;M++)x[M]==="x"?x[M]="y":x[M]==="y"&&(x[M]="x");y.hoverinfo=x.join("+")}},N.coerceTraceIndices=function(y,M){if(p(M))return[M];if(!Array.isArray(M)||!M.length)return y.data.map(function(x,E){return E});if(Array.isArray(M)){for(var S=[],R=0;R<M.length;R++)C.isIndex(M[R],y.data.length)?S.push(M[R]):C.warn("trace index (",M[R],") is not a number or is out of bounds");return S}return M},N.manageArrayContainers=function(y,M,S){var R=y.obj,x=y.parts,E=x.length,T=x[E-1],i=p(T);if(i&&M===null){var D=x.slice(0,E-1).join("."),b=C.nestedProperty(R,D).get();b.splice(T,1)}else i&&y.get()===void 0&&y.get()===void 0&&(S[y.astr]=null),y.set(M)};var A=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function d(y){var M=y.search(A);if(M>0)return y.substr(0,M)}N.hasParent=function(y,M){for(var S=d(M);S;){if(S in y)return!0;S=d(S)}return!1};var u=["x","y","z"];N.clearAxisTypes=function(y,M,S){for(var R=0;R<M.length;R++)for(var x=y._fullData[R],E=0;E<3;E++){var T=r(y,x,u[E]);if(T&&T.type!=="log"){var i=T._name,D=T._id.substr(1);if(D.substr(0,5)==="scene"){if(S[D]!==void 0)continue;i=D+"."+i}var b=i+".type";S[i]===void 0&&S[b]===void 0&&C.nestedProperty(y.layout,b).set(null)}}}},10641:function(B,N,e){var p=e(72391);N._doPlot=p._doPlot,N.newPlot=p.newPlot,N.restyle=p.restyle,N.relayout=p.relayout,N.redraw=p.redraw,N.update=p.update,N._guiRestyle=p._guiRestyle,N._guiRelayout=p._guiRelayout,N._guiUpdate=p._guiUpdate,N._storeDirectGUIEdit=p._storeDirectGUIEdit,N.react=p.react,N.extendTraces=p.extendTraces,N.prependTraces=p.prependTraces,N.addTraces=p.addTraces,N.deleteTraces=p.deleteTraces,N.moveTraces=p.moveTraces,N.purge=p.purge,N.addFrames=p.addFrames,N.deleteFrames=p.deleteFrames,N.animate=p.animate,N.setPlotConfig=p.setPlotConfig;var L=e(24401).getGraphDiv,a=e(34031).eraseActiveShape;N.deleteActiveShape=function(w){return a(L(w))},N.toImage=e(403),N.validate=e(84936),N.downloadImage=e(7239);var C=e(96318);N.makeTemplate=C.makeTemplate,N.validateTemplate=C.validateTemplate},6611:function(B,N,e){var p=e(41965),L=e(64213),a=e(47769),C=e(65888).sorterAsc,w=e(73972);N.containerArrayMatch=e(14458);var h=N.isAddVal=function(r){return r==="add"||p(r)},g=N.isRemoveVal=function(r){return r===null||r==="remove"};N.applyContainerArrayChanges=function(r,s,n,l,c){var f=s.astr,m=w.getComponentMethod(f,"supplyLayoutDefaults"),v=w.getComponentMethod(f,"draw"),A=w.getComponentMethod(f,"drawOne"),d=l.replot||l.recalc||m===L||v===L,u=r.layout,y=r._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",f);var M=n[""][""];if(g(M))s.set(null);else if(Array.isArray(M))s.set(M);else return a.warn("Unrecognized full array edit value",f,M),!0;return d?!1:(m(u,y),v(r),!0)}var S=Object.keys(n).map(Number).sort(C),R=s.get(),x=R||[],E=c(y,f).get(),T=[],i=-1,D=x.length,b,O,F,V,_,U,H,z;for(b=0;b<S.length;b++){if(F=S[b],V=n[F],_=Object.keys(V),U=V[""],H=h(U),F<0||F>x.length-(H?0:1)){a.warn("index out of range",f,F);continue}if(U!==void 0)_.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",f,F),g(U)?T.push(F):H?(U==="add"&&(U={}),x.splice(F,0,U),E&&E.splice(F,0,{})):a.warn("Unrecognized full object edit value",f,F,U),i===-1&&(i=F);else for(O=0;O<_.length;O++)z=f+"["+F+"].",c(x[F],_[O],z).set(V[_[O]])}for(b=T.length-1;b>=0;b--)x.splice(T[b],1),E&&E.splice(T[b],1);if(x.length?R||s.set(x):s.set(null),d)return!1;if(m(u,y),A!==L){var G;if(i===-1)G=S;else{for(D=Math.max(x.length,D),G=[],b=0;b<S.length&&(F=S[b],!(F>=i));b++)G.push(F);for(b=i;b<D;b++)G.push(b)}for(b=0;b<G.length;b++)A(r,G[b])}else v(r);return!0}},72391:function(B,N,e){var p=e(39898),L=e(92770),a=e(57035),C=e(71828),w=C.nestedProperty,h=e(11086),g=e(10847),t=e(73972),r=e(86281),s=e(74875),n=e(89298),l=e(23608),c=e(13838),f=e(91424),m=e(7901),v=e(4305).initInteractions,A=e(77922),d=e(47322).clearOutline,u=e(72075).dfltConfig,y=e(6611),M=e(58377),S=e(61549),R=e(30962),x=e(85555).AX_NAME_PATTERN,E=0,T=5;function i(Pe,He,Ke,qe){var vt;if(Pe=C.getGraphDiv(Pe),h.init(Pe),C.isPlainObject(He)){var bt=He;He=bt.data,Ke=bt.layout,qe=bt.config,vt=bt.frames}var Wt=h.triggerHandler(Pe,"plotly_beforeplot",[He,Ke,qe]);if(Wt===!1)return Promise.reject();!He&&!Ke&&!C.isPlotDiv(Pe)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Pe);function qt(){if(vt)return N.addFrames(Pe,vt)}V(Pe,qe),Ke||(Ke={}),p.select(Pe).classed("js-plotly-plot",!0),f.makeTester(),Array.isArray(Pe._promises)||(Pe._promises=[]);var At=(Pe.data||[]).length===0&&Array.isArray(He);Array.isArray(He)&&(M.cleanData(He),At?Pe.data=He:Pe.data.push.apply(Pe.data,He),Pe.empty=!1),(!Pe.layout||At)&&(Pe.layout=M.cleanLayout(Ke)),s.supplyDefaults(Pe);var zt=Pe._fullLayout,Kt=zt._has("cartesian");zt._replotting=!0,(At||zt._shouldCreateBgLayer)&&(Me(Pe),zt._shouldCreateBgLayer&&delete zt._shouldCreateBgLayer),f.initGradients(Pe),f.initPatterns(Pe),At&&n.saveShowSpikeInitial(Pe);var Sr=!Pe.calcdata||Pe.calcdata.length!==(Pe._fullData||[]).length;Sr&&s.doCalcdata(Pe);for(var yt=0;yt<Pe.calcdata.length;yt++)Pe.calcdata[yt][0].trace=Pe._fullData[yt];Pe._context.responsive?Pe._responsiveChartHandler||(Pe._responsiveChartHandler=function(){C.isHidden(Pe)||s.resize(Pe)},window.addEventListener("resize",Pe._responsiveChartHandler)):C.clearResponsive(Pe);var Zt=C.extendFlat({},zt._size),$t=0;function mr(){for(var Bt=zt._basePlotModules,Nt=0;Nt<Bt.length;Nt++)Bt[Nt].drawFramework&&Bt[Nt].drawFramework(Pe);!zt._glcanvas&&zt._has("gl")&&(zt._glcanvas=zt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),zt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Xt=Pe._context.plotGlPixelRatio;if(zt._glcanvas){zt._glcanvas.attr("width",zt.width*Xt).attr("height",zt.height*Xt).style("width",zt.width+"px").style("height",zt.height+"px");var lr=zt._glcanvas.data()[0].regl;if(lr&&(Math.floor(zt.width*Xt)!==lr._gl.drawingBufferWidth||Math.floor(zt.height*Xt)!==lr._gl.drawingBufferHeight)){var sr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if($t)C.error(sr);else return C.log(sr+" Clearing graph and plotting again."),s.cleanPlot([],{},Pe._fullData,zt),s.supplyDefaults(Pe),zt=Pe._fullLayout,s.doCalcdata(Pe),$t++,mr()}}return zt.modebar.orientation==="h"?zt._modebardiv.style("height",null).style("width","100%"):zt._modebardiv.style("width",null).style("height",zt.height+"px"),s.previousPromises(Pe)}function ur(){if(s.clearAutoMarginIds(Pe),S.drawMarginPushers(Pe),n.allowAutoMargin(Pe),Pe._fullLayout.title.text&&Pe._fullLayout.title.automargin&&s.allowAutoMargin(Pe,"title.automargin"),zt._has("pie"))for(var Bt=Pe._fullData,Nt=0;Nt<Bt.length;Nt++){var Xt=Bt[Nt];Xt.type==="pie"&&Xt.automargin&&s.allowAutoMargin(Pe,"pie."+Xt.uid+".automargin")}return s.doAutoMargin(Pe),s.previousPromises(Pe)}function pt(){if(s.didMarginChange(Zt,zt._size))return C.syncOrAsync([ur,S.layoutStyles],Pe)}function st(){if(!Sr){xt();return}return C.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),xt],Pe)}function xt(){Pe._transitioning||(S.doAutoRangeAndConstraints(Pe),At&&n.saveRangeInitial(Pe),t.getComponentMethod("rangeslider","calcAutorange")(Pe))}function St(){return n.draw(Pe,At?"":"redraw")}var Dt=[s.previousPromises,qt,mr,ur,pt];Kt&&Dt.push(st),Dt.push(S.layoutStyles),Kt&&Dt.push(St,function(Nt){var Xt=Nt._fullLayout._insideTickLabelsUpdaterange;if(Xt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,Ee(Nt,Xt).then(function(){n.saveRangeInitial(Nt,!0)})}),Dt.push(S.drawData,S.finalDraw,v,s.addLinks,s.rehover,s.redrag,s.reselect,s.doAutoMargin,s.previousPromises);var Rt=C.syncOrAsync(Dt,Pe);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return D(Pe),Pe})}function D(Pe){var He=Pe._fullLayout;He._redrawFromAutoMarginCount?He._redrawFromAutoMarginCount--:Pe.emit("plotly_afterplot")}function b(Pe){return C.extendFlat(u,Pe)}function O(Pe,He){try{Pe._fullLayout._paper.style("background",He)}catch(Ke){C.error(Ke)}}function F(Pe,He){var Ke=m.combine(He,"white");O(Pe,Ke)}function V(Pe,He){if(!Pe._context){Pe._context=C.extendDeep({},u);var Ke=p.select("base");Pe._context._baseUrl=Ke.size()&&Ke.attr("href")?window.location.href.split("#")[0]:""}var qe=Pe._context,vt,bt,Wt;if(He){for(bt=Object.keys(He),vt=0;vt<bt.length;vt++)Wt=bt[vt],!(Wt==="editable"||Wt==="edits")&&Wt in qe&&(Wt==="setBackground"&&He[Wt]==="opaque"?qe[Wt]=F:qe[Wt]=He[Wt]);He.plot3dPixelRatio&&!qe.plotGlPixelRatio&&(qe.plotGlPixelRatio=qe.plot3dPixelRatio);var qt=He.editable;if(qt!==void 0)for(qe.editable=qt,bt=Object.keys(qe.edits),vt=0;vt<bt.length;vt++)qe.edits[bt[vt]]=qt;if(He.edits)for(bt=Object.keys(He.edits),vt=0;vt<bt.length;vt++)Wt=bt[vt],Wt in qe.edits&&(qe.edits[Wt]=He.edits[Wt]);qe._exportedPlot=He._exportedPlot}qe.staticPlot&&(qe.editable=!1,qe.edits={},qe.autosizable=!1,qe.scrollZoom=!1,qe.doubleClick=!1,qe.showTips=!1,qe.showLink=!1,qe.displayModeBar=!1),qe.displayModeBar==="hover"&&!a&&(qe.displayModeBar=!0),(qe.setBackground==="transparent"||typeof qe.setBackground!="function")&&(qe.setBackground=O),qe._hasZeroHeight=qe._hasZeroHeight||Pe.clientHeight===0,qe._hasZeroWidth=qe._hasZeroWidth||Pe.clientWidth===0;var At=qe.scrollZoom,zt=qe._scrollZoom={};if(At===!0)zt.cartesian=1,zt.gl3d=1,zt.geo=1,zt.mapbox=1;else if(typeof At=="string"){var Kt=At.split("+");for(vt=0;vt<Kt.length;vt++)zt[Kt[vt]]=1}else At!==!1&&(zt.gl3d=1,zt.geo=1,zt.mapbox=1)}function _(Pe){if(Pe=C.getGraphDiv(Pe),!C.isPlotDiv(Pe))throw new Error("This element is not a Plotly plot: "+Pe);return M.cleanData(Pe.data),M.cleanLayout(Pe.layout),Pe.calcdata=void 0,N._doPlot(Pe).then(function(){return Pe.emit("plotly_redraw"),Pe})}function U(Pe,He,Ke,qe){return Pe=C.getGraphDiv(Pe),s.cleanPlot([],{},Pe._fullData||[],Pe._fullLayout||{}),s.purge(Pe),N._doPlot(Pe,He,Ke,qe)}function H(Pe,He){var Ke=He+1,qe=[],vt,bt;for(vt=0;vt<Pe.length;vt++)bt=Pe[vt],bt<0?qe.push(Ke+bt):qe.push(bt);return qe}function z(Pe,He,Ke){var qe,vt;for(qe=0;qe<He.length;qe++){if(vt=He[qe],vt!==parseInt(vt,10))throw new Error("all values in "+Ke+" must be integers");if(vt>=Pe.data.length||vt<-Pe.data.length)throw new Error(Ke+" must be valid indices for gd.data.");if(He.indexOf(vt,qe+1)>-1||vt>=0&&He.indexOf(-Pe.data.length+vt)>-1||vt<0&&He.indexOf(Pe.data.length+vt)>-1)throw new Error("each index in "+Ke+" must be unique.")}}function G(Pe,He,Ke){if(!Array.isArray(Pe.data))throw new Error("gd.data must be an array.");if(typeof He>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(He)||(He=[He]),z(Pe,He,"currentIndices"),typeof Ke<"u"&&!Array.isArray(Ke)&&(Ke=[Ke]),typeof Ke<"u"&&z(Pe,Ke,"newIndices"),typeof Ke<"u"&&He.length!==Ke.length)throw new Error("current and new indices must be of equal length.")}function Y(Pe,He,Ke){var qe,vt;if(!Array.isArray(Pe.data))throw new Error("gd.data must be an array.");if(typeof He>"u")throw new Error("traces must be defined.");for(Array.isArray(He)||(He=[He]),qe=0;qe<He.length;qe++)if(vt=He[qe],typeof vt!="object"||Array.isArray(vt)||vt===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ke<"u"&&!Array.isArray(Ke)&&(Ke=[Ke]),typeof Ke<"u"&&Ke.length!==He.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function J(Pe,He,Ke,qe){var vt=C.isPlainObject(qe);if(!Array.isArray(Pe.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(He))throw new Error("update must be a key:value object");if(typeof Ke>"u")throw new Error("indices must be an integer or array of integers");z(Pe,Ke,"indices");for(var bt in He){if(!Array.isArray(He[bt])||He[bt].length!==Ke.length)throw new Error("attribute "+bt+" must be an array of length equal to indices array length");if(vt&&(!(bt in qe)||!Array.isArray(qe[bt])||qe[bt].length!==He[bt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ae(Pe,He,Ke,qe){var vt=C.isPlainObject(qe),bt=[],Wt,qt,At,zt,Kt;Array.isArray(Ke)||(Ke=[Ke]),Ke=H(Ke,Pe.data.length-1);for(var Sr in He)for(var yt=0;yt<Ke.length;yt++){if(Wt=Pe.data[Ke[yt]],At=w(Wt,Sr),qt=At.get(),zt=He[Sr][yt],!C.isArrayOrTypedArray(zt))throw new Error("attribute: "+Sr+" index: "+yt+" must be an array");if(!C.isArrayOrTypedArray(qt))throw new Error("cannot extend missing or non-array attribute: "+Sr);if(qt.constructor!==zt.constructor)throw new Error("cannot extend array with an array of a different type: "+Sr);Kt=vt?qe[Sr][yt]:qe,L(Kt)||(Kt=-1),bt.push({prop:At,target:qt,insert:zt,maxp:Math.floor(Kt)})}return bt}function oe(Pe,He,Ke,qe,vt){J(Pe,He,Ke,qe);for(var bt=ae(Pe,He,Ke,qe),Wt={},qt={},At=0;At<bt.length;At++){var zt=bt[At].prop,Kt=bt[At].maxp,Sr=vt(bt[At].target,bt[At].insert,Kt);zt.set(Sr[0]),Array.isArray(Wt[zt.astr])||(Wt[zt.astr]=[]),Wt[zt.astr].push(Sr[1]),Array.isArray(qt[zt.astr])||(qt[zt.astr]=[]),qt[zt.astr].push(bt[At].target.length)}return{update:Wt,maxPoints:qt}}function he(Pe,He){var Ke=new Pe.constructor(Pe.length+He.length);return Ke.set(Pe),Ke.set(He,Pe.length),Ke}function q(Pe,He,Ke,qe){Pe=C.getGraphDiv(Pe);function vt(At,zt,Kt){var Sr,yt;if(C.isTypedArray(At))if(Kt<0){var Zt=new At.constructor(0),$t=he(At,zt);Kt<0?(Sr=$t,yt=Zt):(Sr=Zt,yt=$t)}else if(Sr=new At.constructor(Kt),yt=new At.constructor(At.length+zt.length-Kt),Kt===zt.length)Sr.set(zt),yt.set(At);else if(Kt<zt.length){var mr=zt.length-Kt;Sr.set(zt.subarray(mr)),yt.set(At),yt.set(zt.subarray(0,mr),At.length)}else{var ur=Kt-zt.length,pt=At.length-ur;Sr.set(At.subarray(pt)),Sr.set(zt,ur),yt.set(At.subarray(0,pt))}else Sr=At.concat(zt),yt=Kt>=0&&Kt<Sr.length?Sr.splice(0,Sr.length-Kt):[];return[Sr,yt]}var bt=oe(Pe,He,Ke,qe,vt),Wt=N.redraw(Pe),qt=[Pe,bt.update,Ke,bt.maxPoints];return g.add(Pe,N.prependTraces,qt,q,arguments),Wt}function Z(Pe,He,Ke,qe){Pe=C.getGraphDiv(Pe);function vt(At,zt,Kt){var Sr,yt;if(C.isTypedArray(At))if(Kt<=0){var Zt=new At.constructor(0),$t=he(zt,At);Kt<0?(Sr=$t,yt=Zt):(Sr=Zt,yt=$t)}else if(Sr=new At.constructor(Kt),yt=new At.constructor(At.length+zt.length-Kt),Kt===zt.length)Sr.set(zt),yt.set(At);else if(Kt<zt.length){var mr=zt.length-Kt;Sr.set(zt.subarray(0,mr)),yt.set(zt.subarray(mr)),yt.set(At,mr)}else{var ur=Kt-zt.length;Sr.set(zt),Sr.set(At.subarray(0,ur),zt.length),yt.set(At.subarray(ur))}else Sr=zt.concat(At),yt=Kt>=0&&Kt<Sr.length?Sr.splice(Kt,Sr.length):[];return[Sr,yt]}var bt=oe(Pe,He,Ke,qe,vt),Wt=N.redraw(Pe),qt=[Pe,bt.update,Ke,bt.maxPoints];return g.add(Pe,N.extendTraces,qt,Z,arguments),Wt}function $(Pe,He,Ke){Pe=C.getGraphDiv(Pe);var qe=[],vt=N.deleteTraces,bt=$,Wt=[Pe,qe],qt=[Pe,He],At,zt;for(Y(Pe,He,Ke),Array.isArray(He)||(He=[He]),He=He.map(function(Kt){return C.extendFlat({},Kt)}),M.cleanData(He),At=0;At<He.length;At++)Pe.data.push(He[At]);for(At=0;At<He.length;At++)qe.push(-He.length+At);if(typeof Ke>"u")return zt=N.redraw(Pe),g.add(Pe,vt,Wt,bt,qt),zt;Array.isArray(Ke)||(Ke=[Ke]);try{G(Pe,qe,Ke)}catch(Kt){throw Pe.data.splice(Pe.data.length-He.length,He.length),Kt}return g.startSequence(Pe),g.add(Pe,vt,Wt,bt,qt),zt=N.moveTraces(Pe,qe,Ke),g.stopSequence(Pe),zt}function K(Pe,He){Pe=C.getGraphDiv(Pe);var Ke=[],qe=N.addTraces,vt=K,bt=[Pe,Ke,He],Wt=[Pe,He],qt,At;if(typeof He>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(He)||(He=[He]),z(Pe,He,"indices"),He=H(He,Pe.data.length-1),He.sort(C.sorterDes),qt=0;qt<He.length;qt+=1)At=Pe.data.splice(He[qt],1)[0],Ke.push(At);var zt=N.redraw(Pe);return g.add(Pe,qe,bt,vt,Wt),zt}function re(Pe,He,Ke){Pe=C.getGraphDiv(Pe);var qe=[],vt=[],bt=re,Wt=re,qt=[Pe,Ke,He],At=[Pe,He,Ke],zt;if(G(Pe,He,Ke),He=Array.isArray(He)?He:[He],typeof Ke>"u")for(Ke=[],zt=0;zt<He.length;zt++)Ke.push(-He.length+zt);for(Ke=Array.isArray(Ke)?Ke:[Ke],He=H(He,Pe.data.length-1),Ke=H(Ke,Pe.data.length-1),zt=0;zt<Pe.data.length;zt++)He.indexOf(zt)===-1&&qe.push(Pe.data[zt]);for(zt=0;zt<He.length;zt++)vt.push({newIndex:Ke[zt],trace:Pe.data[He[zt]]});for(vt.sort(function(Sr,yt){return Sr.newIndex-yt.newIndex}),zt=0;zt<vt.length;zt+=1)qe.splice(vt[zt].newIndex,0,vt[zt].trace);Pe.data=qe;var Kt=N.redraw(Pe);return g.add(Pe,bt,qt,Wt,At),Kt}function le(Pe,He,Ke,qe){Pe=C.getGraphDiv(Pe),M.clearPromiseQueue(Pe);var vt={};if(typeof He=="string")vt[He]=Ke;else if(C.isPlainObject(He))vt=C.extendFlat({},He),qe===void 0&&(qe=Ke);else return C.warn("Restyle fail.",He,Ke,qe),Promise.reject();Object.keys(vt).length&&(Pe.changed=!0);var bt=M.coerceTraceIndices(Pe,qe),Wt=ve(Pe,vt,bt),qt=Wt.flags;qt.calc&&(Pe.calcdata=void 0),qt.clearAxisTypes&&M.clearAxisTypes(Pe,bt,{});var At=[];qt.fullReplot?At.push(N._doPlot):(At.push(s.previousPromises),s.supplyDefaults(Pe),qt.markerSize&&(s.doCalcdata(Pe),Oe(At)),qt.style&&At.push(S.doTraceStyle),qt.colorbars&&At.push(S.doColorBars),At.push(D)),At.push(s.rehover,s.redrag,s.reselect),g.add(Pe,le,[Pe,Wt.undoit,Wt.traces],le,[Pe,Wt.redoit,Wt.traces]);var zt=C.syncOrAsync(At,Pe);return(!zt||!zt.then)&&(zt=Promise.resolve()),zt.then(function(){return Pe.emit("plotly_restyle",Wt.eventData),Pe})}function te(Pe){return Pe===void 0?null:Pe}function ee(Pe,He){return He?function(Ke,qe,vt){var bt=w(Ke,qe),Wt=bt.set;return bt.set=function(qt){var At=(vt||"")+qe;ue(At,bt.get(),qt,Pe),Wt(qt)},bt}:w}function ue(Pe,He,Ke,qe){if(Array.isArray(He)||Array.isArray(Ke))for(var vt=Array.isArray(He)?He:[],bt=Array.isArray(Ke)?Ke:[],Wt=Math.max(vt.length,bt.length),qt=0;qt<Wt;qt++)ue(Pe+"["+qt+"]",vt[qt],bt[qt],qe);else if(C.isPlainObject(He)||C.isPlainObject(Ke)){var At=C.isPlainObject(He)?He:{},zt=C.isPlainObject(Ke)?Ke:{},Kt=C.extendFlat({},At,zt);for(var Sr in Kt)ue(Pe+"."+Sr,At[Sr],zt[Sr],qe)}else qe[Pe]===void 0&&(qe[Pe]=te(He))}function se(Pe,He,Ke){for(var qe in Ke){var vt=w(Pe,qe);ue(qe,vt.get(),Ke[qe],He)}}function ve(Pe,He,Ke){var qe=Pe._fullLayout,vt=Pe._fullData,bt=Pe.data,Wt=qe._guiEditing,qt=ee(qe._preGUI,Wt),At=C.extendDeepAll({},He),zt;be(He);var Kt=R.traceFlags(),Sr={},yt={},Zt;function $t(){return Ke.map(function(){})}function mr(An){var Mr=n.id2name(An);Zt.indexOf(Mr)===-1&&Zt.push(Mr)}function ur(An){return"LAYOUT"+An+".autorange"}function pt(An){return"LAYOUT"+An+".range"}function st(An){for(var Mr=An;Mr<vt.length;Mr++)if(vt[Mr]._input===bt[An])return vt[Mr]}function xt(An,Mr,Cr){if(Array.isArray(An)){An.forEach(function(yn){xt(yn,Mr,Cr)});return}if(!(An in He||M.hasParent(He,An))){var jr;if(An.substr(0,6)==="LAYOUT")jr=qt(Pe.layout,An.replace("LAYOUT",""));else{var Hr=Ke[Cr],on=qe._tracePreGUI[st(Hr)._fullInput.uid];jr=ee(on,Wt)(bt[Hr],An)}An in yt||(yt[An]=$t()),yt[An][Cr]===void 0&&(yt[An][Cr]=te(jr.get())),Mr!==void 0&&jr.set(Mr)}}function St(An){return function(Mr){return vt[Mr][An]}}function Dt(An){return function(Mr,Cr){return Mr===!1?vt[Ke[Cr]][An]:null}}for(var Rt in He){if(M.hasParent(He,Rt))throw new Error("cannot set "+Rt+" and a parent attribute simultaneously");var Bt=He[Rt],Nt,Xt,lr,sr,dr,Ye;if((Rt==="autobinx"||Rt==="autobiny")&&(Rt=Rt.charAt(Rt.length-1)+"bins",Array.isArray(Bt)?Bt=Bt.map(Dt(Rt)):Bt===!1?Bt=Ke.map(St(Rt)):Bt=null),Sr[Rt]=Bt,Rt.substr(0,6)==="LAYOUT"){lr=qt(Pe.layout,Rt.replace("LAYOUT","")),yt[Rt]=[te(lr.get())],lr.set(Array.isArray(Bt)?Bt[0]:Bt),Kt.calc=!0;continue}for(yt[Rt]=$t(),zt=0;zt<Ke.length;zt++){Nt=bt[Ke[zt]],Xt=st(Ke[zt]);var je=qe._tracePreGUI[Xt._fullInput.uid];if(lr=ee(je,Wt)(Nt,Rt),sr=lr.get(),dr=Array.isArray(Bt)?Bt[zt%Bt.length]:Bt,dr!==void 0){var It=lr.parts[lr.parts.length-1],kt=Rt.substr(0,Rt.length-It.length-1),jt=kt?kt+".":"",tr=kt?w(Xt,kt).get():Xt;if(Ye=r.getTraceValObject(Xt,lr.parts),Ye&&Ye.impliedEdits&&dr!==null)for(var or in Ye.impliedEdits)xt(C.relativeAttr(Rt,or),Ye.impliedEdits[or],zt);else if((It==="thicknessmode"||It==="lenmode")&&sr!==dr&&(dr==="fraction"||dr==="pixels")&&tr){var rr=qe._size,_t=tr.orient,hr=_t==="top"||_t==="bottom";if(It==="thicknessmode"){var gr=hr?rr.h:rr.w;xt(jt+"thickness",tr.thickness*(dr==="fraction"?1/gr:gr),zt)}else{var pr=hr?rr.w:rr.h;xt(jt+"len",tr.len*(dr==="fraction"?1/pr:pr),zt)}}else if(Rt==="type"&&(dr==="pie"!=(sr==="pie")||dr==="funnelarea"!=(sr==="funnelarea"))){var vr="x",Gr="y";(dr==="bar"||sr==="bar")&&Nt.orientation==="h"&&(vr="y",Gr="x"),C.swapAttrs(Nt,["?","?src"],"labels",vr),C.swapAttrs(Nt,["d?","?0"],"label",vr),C.swapAttrs(Nt,["?","?src"],"values",Gr),sr==="pie"||sr==="funnelarea"?(w(Nt,"marker.color").set(w(Nt,"marker.colors").get()),qe._pielayer.selectAll("g.trace").remove()):t.traceIs(Nt,"cartesian")&&w(Nt,"marker.colors").set(w(Nt,"marker.color").get())}yt[Rt][zt]=te(sr);var Fr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Fr.indexOf(Rt)!==-1){if(Rt==="orientation"){lr.set(dr);var _r=Nt.x&&!Nt.y?"h":"v";if((lr.get()||_r)===Xt.orientation)continue}else Rt==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Xt.orientation]);M.swapXYData(Nt),Kt.calc=Kt.clearAxisTypes=!0}else s.dataArrayContainers.indexOf(lr.parts[0])!==-1?(M.manageArrayContainers(lr,dr,yt),Kt.calc=!0):(Ye?Ye.arrayOk&&!t.traceIs(Xt,"regl")&&(C.isArrayOrTypedArray(dr)||C.isArrayOrTypedArray(sr))?Kt.calc=!0:R.update(Kt,Ye):Kt.calc=!0,lr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Rt)!==-1&&n.swap(Pe,Ke),Rt==="orientationaxes"){var gn=w(Pe.layout,"hovermode"),tn=gn.get();tn==="x"?gn.set("y"):tn==="y"?gn.set("x"):tn==="x unified"?gn.set("y unified"):tn==="y unified"&&gn.set("x unified")}if(["orientation","type"].indexOf(Rt)!==-1){for(Zt=[],zt=0;zt<Ke.length;zt++){var Bn=bt[Ke[zt]];t.traceIs(Bn,"cartesian")&&(mr(Bn.xaxis||"x"),mr(Bn.yaxis||"y"))}xt(Zt.map(ur),!0,0),xt(Zt.map(pt),[0,1],0)}}return(Kt.calc||Kt.plot)&&(Kt.fullReplot=!0),{flags:Kt,undoit:yt,redoit:Sr,traces:Ke,eventData:C.extendDeepNoArrays([],[At,Ke])}}function be(Pe){var He=C.counterRegex("axis",".title",!1,!1),Ke=/colorbar\.title$/,qe=Object.keys(Pe),vt,bt,Wt;for(vt=0;vt<qe.length;vt++)bt=qe[vt],Wt=Pe[bt],(bt==="title"||He.test(bt)||Ke.test(bt))&&(typeof Wt=="string"||typeof Wt=="number")?qt(bt,bt.replace("title","title.text")):bt.indexOf("titlefont")>-1&&bt.indexOf("grouptitlefont")===-1?qt(bt,bt.replace("titlefont","title.font")):bt.indexOf("titleposition")>-1?qt(bt,bt.replace("titleposition","title.position")):bt.indexOf("titleside")>-1?qt(bt,bt.replace("titleside","title.side")):bt.indexOf("titleoffset")>-1&&qt(bt,bt.replace("titleoffset","title.offset"));function qt(At,zt){Pe[zt]=Pe[At],delete Pe[At]}}function Ee(Pe,He,Ke){Pe=C.getGraphDiv(Pe),M.clearPromiseQueue(Pe);var qe={};if(typeof He=="string")qe[He]=Ke;else if(C.isPlainObject(He))qe=C.extendFlat({},He);else return C.warn("Relayout fail.",He,Ke),Promise.reject();Object.keys(qe).length&&(Pe.changed=!0);var vt=Ce(Pe,qe),bt=vt.flags;bt.calc&&(Pe.calcdata=void 0);var Wt=[s.previousPromises];bt.layoutReplot?Wt.push(S.layoutReplot):Object.keys(qe).length&&(Ae(Pe,bt,vt)||s.supplyDefaults(Pe),bt.legend&&Wt.push(S.doLegend),bt.layoutstyle&&Wt.push(S.layoutStyles),bt.axrange&&Oe(Wt,vt.rangesAltered),bt.ticks&&Wt.push(S.doTicksRelayout),bt.modebar&&Wt.push(S.doModeBar),bt.camera&&Wt.push(S.doCamera),bt.colorbars&&Wt.push(S.doColorBars),Wt.push(D)),Wt.push(s.rehover,s.redrag,s.reselect),g.add(Pe,Ee,[Pe,vt.undoit],Ee,[Pe,vt.redoit]);var qt=C.syncOrAsync(Wt,Pe);return(!qt||!qt.then)&&(qt=Promise.resolve(Pe)),qt.then(function(){return Pe.emit("plotly_relayout",vt.eventData),Pe})}function Ae(Pe,He,Ke){var qe=Pe._fullLayout;if(!He.axrange)return!1;for(var vt in He)if(vt!=="axrange"&&He[vt])return!1;var bt,Wt,qt=function(Zt,$t){return C.coerce(bt,Wt,c,Zt,$t)},At={};for(var zt in Ke.rangesAltered){var Kt=n.id2name(zt);if(bt=Pe.layout[Kt],Wt=qe[Kt],l(bt,Wt,qt,At),Wt._matchGroup){for(var Sr in Wt._matchGroup)if(Sr!==zt){var yt=qe[n.id2name(Sr)];yt.autorange=Wt.autorange,yt.range=Wt.range.slice(),yt._input.range=Wt.range.slice()}}}return!0}function Oe(Pe,He){var Ke=He?function(qe){var vt=[],bt=!0;for(var Wt in He){var qt=n.getFromId(qe,Wt);if(vt.push(Wt),(qt.ticklabelposition||"").indexOf("inside")!==-1&&qt._anchorAxis&&vt.push(qt._anchorAxis._id),qt._matchGroup)for(var At in qt._matchGroup)He[At]||vt.push(At)}return n.draw(qe,vt,{skipTitle:bt})}:function(qe){return n.draw(qe,"redraw")};Pe.push(d,S.doAutoRangeAndConstraints,Ke,S.drawData,S.finalDraw)}var Ue=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Le=/^[xyz]axis[0-9]*\.autorange$/,we=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ce(Pe,He){var Ke=Pe.layout,qe=Pe._fullLayout,vt=qe._guiEditing,bt=ee(qe._preGUI,vt),Wt=Object.keys(He),qt=n.list(Pe),At=C.extendDeepAll({},He),zt={},Kt,Sr,yt;for(be(He),Wt=Object.keys(He),Sr=0;Sr<Wt.length;Sr++)if(Wt[Sr].indexOf("allaxes")===0){for(yt=0;yt<qt.length;yt++){var Zt=qt[yt]._id.substr(1),$t=Zt.indexOf("scene")!==-1?Zt+".":"",mr=Wt[Sr].replace("allaxes",$t+qt[yt]._name);He[mr]||(He[mr]=He[Wt[Sr]])}delete He[Wt[Sr]]}var ur=R.layoutFlags(),pt={},st={};function xt(on,yn){if(Array.isArray(on)){on.forEach(function(Rn){xt(Rn,yn)});return}if(!(on in He||M.hasParent(He,on))){var xn=bt(Ke,on);on in st||(st[on]=te(xn.get())),yn!==void 0&&xn.set(yn)}}var St={},Dt;function Rt(on){var yn=n.name2id(on.split(".")[0]);return St[yn]=1,yn}for(var Bt in He){if(M.hasParent(He,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");for(var Nt=bt(Ke,Bt),Xt=He[Bt],lr=Nt.parts.length,sr=lr-1;sr>0&&typeof Nt.parts[sr]!="string";)sr--;var dr=Nt.parts[sr],Ye=Nt.parts[sr-1]+"."+dr,je=Nt.parts.slice(0,sr).join("."),It=w(Pe.layout,je).get(),kt=w(qe,je).get(),jt=Nt.get();if(Xt!==void 0){pt[Bt]=Xt,st[Bt]=dr==="reverse"?Xt:te(jt);var tr=r.getLayoutValObject(qe,Nt.parts);if(tr&&tr.impliedEdits&&Xt!==null)for(var or in tr.impliedEdits)xt(C.relativeAttr(Bt,or),tr.impliedEdits[or]);if(["width","height"].indexOf(Bt)!==-1)if(Xt){xt("autosize",null);var rr=Bt==="height"?"width":"height";xt(rr,qe[rr])}else qe[Bt]=Pe._initialAutoSize[Bt];else if(Bt==="autosize")xt("width",Xt?null:qe.width),xt("height",Xt?null:qe.height);else if(Ye.match(Ue))Rt(Ye),w(qe,je+"._inputRange").set(null);else if(Ye.match(Le)){Rt(Ye),w(qe,je+"._inputRange").set(null);var _t=w(qe,je).get();_t._inputDomain&&(_t._input.domain=_t._inputDomain.slice())}else Ye.match(we)&&w(qe,je+"._inputDomain").set(null);if(dr==="type"){Dt=It;var hr=kt.type==="linear"&&Xt==="log",gr=kt.type==="log"&&Xt==="linear";if(hr||gr){if(!Dt||!Dt.range)xt(je+".autorange",!0);else if(kt.autorange)hr&&(Dt.range=Dt.range[1]>Dt.range[0]?[1,2]:[2,1]);else{var pr=Dt.range[0],vr=Dt.range[1];hr?(pr<=0&&vr<=0&&xt(je+".autorange",!0),pr<=0?pr=vr/1e6:vr<=0&&(vr=pr/1e6),xt(je+".range[0]",Math.log(pr)/Math.LN10),xt(je+".range[1]",Math.log(vr)/Math.LN10)):(xt(je+".range[0]",Math.pow(10,pr)),xt(je+".range[1]",Math.pow(10,vr)))}Array.isArray(qe._subplots.polar)&&qe._subplots.polar.length&&qe[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete qe[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(Pe,kt,Xt,xt),t.getComponentMethod("images","convertCoords")(Pe,kt,Xt,xt)}else xt(je+".autorange",!0),xt(je+".range",null);w(qe,je+"._inputRange").set(null)}else if(dr.match(x)){var Gr=w(qe,Bt).get(),Fr=(Xt||{}).type;(!Fr||Fr==="-")&&(Fr="linear"),t.getComponentMethod("annotations","convertCoords")(Pe,Gr,Fr,xt),t.getComponentMethod("images","convertCoords")(Pe,Gr,Fr,xt)}var _r=y.containerArrayMatch(Bt);if(_r){Kt=_r.array,Sr=_r.index;var gn=_r.property,tn=tr||{editType:"calc"};Sr!==""&&gn===""&&(y.isAddVal(Xt)?st[Bt]=null:y.isRemoveVal(Xt)?st[Bt]=(w(Ke,Kt).get()||[])[Sr]:C.warn("unrecognized full object value",He)),R.update(ur,tn),zt[Kt]||(zt[Kt]={});var Bn=zt[Kt][Sr];Bn||(Bn=zt[Kt][Sr]={}),Bn[gn]=Xt,delete He[Bt]}else dr==="reverse"?(It.range?It.range.reverse():(xt(je+".autorange",!0),It.range=[1,0]),kt.autorange?ur.calc=!0:ur.plot=!0):(Bt==="dragmode"&&(Xt===!1&&jt!==!1||Xt!==!1&&jt===!1)||qe._has("scatter-like")&&qe._has("regl")&&Bt==="dragmode"&&(Xt==="lasso"||Xt==="select")&&!(jt==="lasso"||jt==="select")||qe._has("gl2d")?ur.plot=!0:tr?R.update(ur,tr):ur.calc=!0,Nt.set(Xt))}}for(Kt in zt){var An=y.applyContainerArrayChanges(Pe,bt(Ke,Kt),zt[Kt],ur,bt);An||(ur.plot=!0)}for(var Mr in St){Dt=n.getFromId(Pe,Mr);var Cr=Dt&&Dt._constraintGroup;if(Cr){ur.calc=!0;for(var jr in Cr)St[jr]||(n.getFromId(Pe,jr)._constraintShrinkable=!0)}}(Ve(Pe)||He.height||He.width)&&(ur.plot=!0);var Hr=qe.shapes;for(Sr=0;Sr<Hr.length;Sr++)if(Hr[Sr].showlegend){ur.calc=!0;break}return(ur.plot||ur.calc)&&(ur.layoutReplot=!0),{flags:ur,rangesAltered:St,undoit:st,redoit:pt,eventData:At}}function Ve(Pe){var He=Pe._fullLayout,Ke=He.width,qe=He.height;return Pe.layout.autosize&&s.plotAutoSize(Pe,Pe.layout,He),He.width!==Ke||He.height!==qe}function Ne(Pe,He,Ke,qe){Pe=C.getGraphDiv(Pe),M.clearPromiseQueue(Pe),C.isPlainObject(He)||(He={}),C.isPlainObject(Ke)||(Ke={}),Object.keys(He).length&&(Pe.changed=!0),Object.keys(Ke).length&&(Pe.changed=!0);var vt=M.coerceTraceIndices(Pe,qe),bt=ve(Pe,C.extendFlat({},He),vt),Wt=bt.flags,qt=Ce(Pe,C.extendFlat({},Ke)),At=qt.flags;(Wt.calc||At.calc)&&(Pe.calcdata=void 0),Wt.clearAxisTypes&&M.clearAxisTypes(Pe,vt,Ke);var zt=[];At.layoutReplot?zt.push(S.layoutReplot):Wt.fullReplot?zt.push(N._doPlot):(zt.push(s.previousPromises),Ae(Pe,At,qt)||s.supplyDefaults(Pe),Wt.style&&zt.push(S.doTraceStyle),(Wt.colorbars||At.colorbars)&&zt.push(S.doColorBars),At.legend&&zt.push(S.doLegend),At.layoutstyle&&zt.push(S.layoutStyles),At.axrange&&Oe(zt,qt.rangesAltered),At.ticks&&zt.push(S.doTicksRelayout),At.modebar&&zt.push(S.doModeBar),At.camera&&zt.push(S.doCamera),zt.push(D)),zt.push(s.rehover,s.redrag,s.reselect),g.add(Pe,Ne,[Pe,bt.undoit,qt.undoit,bt.traces],Ne,[Pe,bt.redoit,qt.redoit,bt.traces]);var Kt=C.syncOrAsync(zt,Pe);return(!Kt||!Kt.then)&&(Kt=Promise.resolve(Pe)),Kt.then(function(){return Pe.emit("plotly_update",{data:bt.eventData,layout:qt.eventData}),Pe})}function ke(Pe){return function(Ke){Ke._fullLayout._guiEditing=!0;var qe=Pe.apply(null,arguments);return Ke._fullLayout._guiEditing=!1,qe}}var We=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],rt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function et(Pe,He){for(var Ke=0;Ke<He.length;Ke++){var qe=He[Ke],vt=Pe.match(qe.pattern);if(vt){var bt=vt[1]||"";return{head:bt,tail:Pe.substr(bt.length+1),attr:qe.attr}}}}function tt(Pe,He){var Ke=w(He,Pe).get();if(Ke!==void 0)return Ke;var qe=Pe.split(".");for(qe.pop();qe.length>1;)if(qe.pop(),Ke=w(He,qe.join(".")+".uirevision").get(),Ke!==void 0)return Ke;return He.uirevision}function at(Pe,He){for(var Ke=0;Ke<He.length;Ke++)if(He[Ke]._fullInput.uid===Pe)return Ke;return-1}function ct(Pe,He,Ke){for(var qe=0;qe<He.length;qe++)if(He[qe].uid===Pe)return qe;return!He[Ke]||He[Ke].uid?-1:Ke}function dt(Pe,He){var Ke=C.isPlainObject(Pe),qe=Array.isArray(Pe);return Ke||qe?(Ke&&C.isPlainObject(He)||qe&&Array.isArray(He))&&JSON.stringify(Pe)===JSON.stringify(He):Pe===He}function gt(Pe,He,Ke,qe){var vt=qe._preGUI,bt,Wt,qt,At,zt,Kt,Sr,yt,Zt,$t,mr=[],ur={},pt={};for(bt in vt){if(zt=et(bt,We),zt){if(Zt=zt.head,$t=zt.tail,Wt=zt.attr||Zt+".uirevision",qt=w(qe,Wt).get(),At=qt&&tt(Wt,He),At&&At===qt){if(Kt=vt[bt],Kt===null&&(Kt=void 0),Sr=w(He,bt),yt=Sr.get(),dt(yt,Kt)){yt===void 0&&$t==="autorange"&&mr.push(Zt),Sr.set(te(w(qe,bt).get()));continue}else if($t==="autorange"||$t.substr(0,6)==="range["){var st=vt[Zt+".range[0]"],xt=vt[Zt+".range[1]"],St=vt[Zt+".autorange"];if(St||St===null&&st===null&&xt===null){if(!(Zt in ur)){var Dt=w(He,Zt).get();ur[Zt]=Dt&&(Dt.autorange||Dt.autorange!==!1&&(!Dt.range||Dt.range.length!==2))}if(ur[Zt]){Sr.set(te(w(qe,bt).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+bt);delete vt[bt],zt&&zt.tail.substr(0,6)==="range["&&(pt[zt.head]=1)}for(var Rt=0;Rt<mr.length;Rt++){var Bt=mr[Rt];if(pt[Bt]){var Nt=w(He,Bt).get();Nt&&delete Nt.autorange}}var Xt=qe._tracePreGUI;for(var lr in Xt){var sr=Xt[lr],dr=null,Ye;for(bt in sr){if(!dr){var je=at(lr,Ke);if(je<0){delete Xt[lr];break}var It=Ke[je];Ye=It._fullInput;var kt=ct(lr,Pe,Ye.index);if(kt<0){delete Xt[lr];break}dr=Pe[kt]}if(zt=et(bt,rt),zt){if(zt.attr?(qt=w(qe,zt.attr).get(),At=qt&&tt(zt.attr,He)):(qt=Ye.uirevision,At=dr.uirevision,At===void 0&&(At=He.uirevision)),At&&At===qt&&(Kt=sr[bt],Kt===null&&(Kt=void 0),Sr=w(dr,bt),yt=Sr.get(),dt(yt,Kt))){Sr.set(te(w(Ye,bt).get()));continue}}else C.warn("unrecognized GUI edit: "+bt+" in trace uid "+lr);delete sr[bt]}}}function Et(Pe,He,Ke,qe){var vt,bt;function Wt(){return N.addFrames(Pe,vt)}Pe=C.getGraphDiv(Pe),M.clearPromiseQueue(Pe);var qt=Pe._fullData,At=Pe._fullLayout;if(!C.isPlotDiv(Pe)||!qt||!At)bt=N.newPlot(Pe,He,Ke,qe);else{if(C.isPlainObject(He)){var zt=He;He=zt.data,Ke=zt.layout,qe=zt.config,vt=zt.frames}var Kt=!1;if(qe){var Sr=C.extendDeep({},Pe._context);Pe._context=void 0,V(Pe,qe),Kt=_e(Sr,Pe._context)}Pe.data=He||[],M.cleanData(Pe.data),Pe.layout=Ke||{},M.cleanLayout(Pe.layout),gt(Pe.data,Pe.layout,qt,At),s.supplyDefaults(Pe,{skipUpdateCalc:!0});var yt=Pe._fullData,Zt=Pe._fullLayout,$t=Zt.datarevision===void 0,mr=Zt.transition,ur=Vt(Pe,At,Zt,$t,mr),pt=ur.newDataRevision,st=Ct(Pe,qt,yt,$t,mr,pt);if(Ve(Pe)&&(ur.layoutReplot=!0),st.calc||ur.calc){Pe.calcdata=void 0;for(var xt=Object.getOwnPropertyNames(Zt),St=0;St<xt.length;St++){var Dt=xt[St],Rt=Dt.substring(0,5);if(Rt==="xaxis"||Rt==="yaxis"){var Bt=Zt[Dt]._emptyCategories;Bt&&Bt()}}}else s.supplyDefaultsUpdateCalc(Pe.calcdata,yt);var Nt=[];if(vt&&(Pe._transitionData={},s.createTransitionData(Pe),Nt.push(Wt)),Zt.transition&&!Kt&&(st.anim||ur.anim))ur.ticks&&Nt.push(S.doTicksRelayout),s.doCalcdata(Pe),S.doAutoRangeAndConstraints(Pe),Nt.push(function(){return s.transitionFromReact(Pe,st,ur,At)});else if(st.fullReplot||ur.layoutReplot||Kt)Pe._fullLayout._skipDefaults=!0,Nt.push(N._doPlot);else{for(var Xt in ur.arrays){var lr=ur.arrays[Xt];if(lr.length){var sr=t.getComponentMethod(Xt,"drawOne");if(sr!==C.noop)for(var dr=0;dr<lr.length;dr++)sr(Pe,lr[dr]);else{var Ye=t.getComponentMethod(Xt,"draw");if(Ye===C.noop)throw new Error("cannot draw components: "+Xt);Ye(Pe)}}}Nt.push(s.previousPromises),st.style&&Nt.push(S.doTraceStyle),(st.colorbars||ur.colorbars)&&Nt.push(S.doColorBars),ur.legend&&Nt.push(S.doLegend),ur.layoutstyle&&Nt.push(S.layoutStyles),ur.axrange&&Oe(Nt),ur.ticks&&Nt.push(S.doTicksRelayout),ur.modebar&&Nt.push(S.doModeBar),ur.camera&&Nt.push(S.doCamera),Nt.push(D)}Nt.push(s.rehover,s.redrag,s.reselect),bt=C.syncOrAsync(Nt,Pe),(!bt||!bt.then)&&(bt=Promise.resolve(Pe))}return bt.then(function(){return Pe.emit("plotly_react",{data:He,layout:Ke}),Pe})}function Ct(Pe,He,Ke,qe,vt,bt){var Wt=He.length===Ke.length;if(!vt&&!Wt)return{fullReplot:!0,calc:!0};var qt=R.traceFlags();qt.arrays={},qt.nChanges=0,qt.nChangesAnim=0;var At,zt;function Kt(Zt){var $t=r.getTraceValObject(zt,Zt);return!zt._module.animatable&&$t.anim&&($t.anim=!1),$t}var Sr={getValObject:Kt,flags:qt,immutable:qe,transition:vt,newDataRevision:bt,gd:Pe},yt={};for(At=0;At<He.length;At++)if(Ke[At]){if(zt=Ke[At]._fullInput,s.hasMakesDataTransform(zt)&&(zt=Ke[At]),yt[zt.uid])continue;yt[zt.uid]=1,Je(He[At]._fullInput,zt,[],Sr)}return(qt.calc||qt.plot)&&(qt.fullReplot=!0),vt&&qt.nChanges&&qt.nChangesAnim&&(qt.anim=qt.nChanges===qt.nChangesAnim&&Wt?"all":"some"),qt}function Vt(Pe,He,Ke,qe,vt){var bt=R.layoutFlags();bt.arrays={},bt.rangesAltered={},bt.nChanges=0,bt.nChangesAnim=0;function Wt(At){return r.getLayoutValObject(Ke,At)}var qt={getValObject:Wt,flags:bt,immutable:qe,transition:vt,gd:Pe};return Je(He,Ke,[],qt),(bt.plot||bt.calc)&&(bt.layoutReplot=!0),vt&&bt.nChanges&&bt.nChangesAnim&&(bt.anim=bt.nChanges===bt.nChangesAnim?"all":"some"),bt}function Je(Pe,He,Ke,qe){var vt,bt,Wt,qt=qe.getValObject,At=qe.flags,zt=qe.immutable,Kt=qe.inArray,Sr=qe.arrayIndex;function yt(){var je=vt.editType;if(Kt&&je.indexOf("arraydraw")!==-1){C.pushUnique(At.arrays[Kt],Sr);return}R.update(At,vt),je!=="none"&&At.nChanges++,qe.transition&&vt.anim&&At.nChangesAnim++,(Ue.test(Wt)||Le.test(Wt))&&(At.rangesAltered[Ke[0]]=1),we.test(Wt)&&w(He,"_inputDomain").set(null),bt==="datarevision"&&(At.newDataRevision=1)}function Zt(je){return je.valType==="data_array"||je.arrayOk}for(bt in Pe){if(At.calc&&!qe.transition)return;var $t=Pe[bt],mr=He[bt],ur=Ke.concat(bt);if(Wt=ur.join("."),!(bt.charAt(0)==="_"||typeof $t=="function"||$t===mr)){if((bt==="tick0"||bt==="dtick")&&Ke[0]!=="geo"){var pt=He.tickmode;if(pt==="auto"||pt==="array"||!pt)continue}if(!(bt==="range"&&He.autorange)&&!((bt==="zmin"||bt==="zmax")&&He.type==="contourcarpet")&&(vt=qt(ur),!!vt&&!(vt._compareAsJSON&&JSON.stringify($t)===JSON.stringify(mr)))){var st=vt.valType,xt,St=Zt(vt),Dt=Array.isArray($t),Rt=Array.isArray(mr);if(Dt&&Rt){var Bt="_input_"+bt,Nt=Pe[Bt],Xt=He[Bt];if(Array.isArray(Nt)&&Nt===Xt)continue}if(mr===void 0)St&&Dt?At.calc=!0:yt();else if(vt._isLinkedToArray){var lr=[],sr=!1;Kt||(At.arrays[bt]=lr);var dr=Math.min($t.length,mr.length),Ye=Math.max($t.length,mr.length);if(dr!==Ye)if(vt.editType==="arraydraw")sr=!0;else{yt();continue}for(xt=0;xt<dr;xt++)Je($t[xt],mr[xt],ur.concat(xt),C.extendFlat({inArray:bt,arrayIndex:xt},qe));if(sr)for(xt=dr;xt<Ye;xt++)lr.push(xt)}else!st&&C.isPlainObject($t)?Je($t,mr,ur,qe):St?Dt&&Rt?(zt&&(At.calc=!0),(zt||qe.newDataRevision)&&yt()):Dt!==Rt?At.calc=!0:yt():Dt&&Rt?($t.length!==mr.length||String($t)!==String(mr))&&yt():yt()}}}for(bt in He)if(!(bt in Pe||bt.charAt(0)==="_"||typeof He[bt]=="function"))if(vt=qt(Ke.concat(bt)),Zt(vt)&&Array.isArray(He[bt])){At.calc=!0;return}else yt()}function _e(Pe,He){var Ke;for(Ke in Pe)if(Ke.charAt(0)!=="_"){var qe=Pe[Ke],vt=He[Ke];if(qe!==vt)if(C.isPlainObject(qe)&&C.isPlainObject(vt)){if(_e(qe,vt))return!0}else if(Array.isArray(qe)&&Array.isArray(vt)){if(qe.length!==vt.length)return!0;for(var bt=0;bt<qe.length;bt++)if(qe[bt]!==vt[bt])if(C.isPlainObject(qe[bt])&&C.isPlainObject(vt[bt])){if(_e(qe[bt],vt[bt]))return!0}else return!0}else return!0}}function Fe(Pe,He,Ke){if(Pe=C.getGraphDiv(Pe),!C.isPlotDiv(Pe))throw new Error("This element is not a Plotly plot: "+Pe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var qe=Pe._transitionData;qe._frameQueue||(qe._frameQueue=[]),Ke=s.supplyAnimationDefaults(Ke);var vt=Ke.transition,bt=Ke.frame;qe._frameWaitingCnt===void 0&&(qe._frameWaitingCnt=0);function Wt(zt){return Array.isArray(vt)?zt>=vt.length?vt[0]:vt[zt]:vt}function qt(zt){return Array.isArray(bt)?zt>=bt.length?bt[0]:bt[zt]:bt}function At(zt,Kt){var Sr=0;return function(){if(zt&&++Sr===Kt)return zt()}}return new Promise(function(zt,Kt){function Sr(){if(qe._frameQueue.length!==0){for(;qe._frameQueue.length;){var dr=qe._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}Pe.emit("plotly_animationinterrupted",[])}}function yt(dr){if(dr.length!==0){for(var Ye=0;Ye<dr.length;Ye++){var je;dr[Ye].type==="byname"?je=s.computeFrame(Pe,dr[Ye].name):je=dr[Ye].data;var It=qt(Ye),kt=Wt(Ye);kt.duration=Math.min(kt.duration,It.duration);var jt={frame:je,name:dr[Ye].name,frameOpts:It,transitionOpts:kt};Ye===dr.length-1&&(jt.onComplete=At(zt,2),jt.onInterrupt=Kt),qe._frameQueue.push(jt)}Ke.mode==="immediate"&&(qe._lastFrameAt=-1/0),qe._animationRaf||mr()}}function Zt(){Pe.emit("plotly_animated"),window.cancelAnimationFrame(qe._animationRaf),qe._animationRaf=null}function $t(){qe._currentFrame&&qe._currentFrame.onComplete&&qe._currentFrame.onComplete();var dr=qe._currentFrame=qe._frameQueue.shift();if(dr){var Ye=dr.name?dr.name.toString():null;Pe._fullLayout._currentFrame=Ye,qe._lastFrameAt=Date.now(),qe._timeToNext=dr.frameOpts.duration,s.transition(Pe,dr.frame.data,dr.frame.layout,M.coerceTraceIndices(Pe,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),Pe.emit("plotly_animatingframe",{name:Ye,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else Zt()}function mr(){Pe.emit("plotly_animating"),qe._lastFrameAt=-1/0,qe._timeToNext=0,qe._runningTransitions=0,qe._currentFrame=null;var dr=function(){qe._animationRaf=window.requestAnimationFrame(dr),Date.now()-qe._lastFrameAt>qe._timeToNext&&$t()};dr()}var ur=0;function pt(dr){return Array.isArray(vt)?ur>=vt.length?dr.transitionOpts=vt[ur]:dr.transitionOpts=vt[0]:dr.transitionOpts=vt,ur++,dr}var st,xt,St=[],Dt=He==null,Rt=Array.isArray(He),Bt=!Dt&&!Rt&&C.isPlainObject(He);if(Bt)St.push({type:"object",data:pt(C.extendFlat({},He))});else if(Dt||["string","number"].indexOf(typeof He)!==-1)for(st=0;st<qe._frames.length;st++)xt=qe._frames[st],xt&&(Dt||String(xt.group)===String(He))&&St.push({type:"byname",name:String(xt.name),data:pt({name:xt.name})});else if(Rt)for(st=0;st<He.length;st++){var Nt=He[st];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),St.push({type:"byname",name:Nt,data:pt({name:Nt})})):C.isPlainObject(Nt)&&St.push({type:"object",data:pt(C.extendFlat({},Nt))})}for(st=0;st<St.length;st++)if(xt=St[st],xt.type==="byname"&&!qe._frameHash[xt.data.name]){C.warn('animate failure: frame not found: "'+xt.data.name+'"'),Kt();return}["next","immediate"].indexOf(Ke.mode)!==-1&&Sr(),Ke.direction==="reverse"&&St.reverse();var Xt=Pe._fullLayout._currentFrame;if(Xt&&Ke.fromcurrent){var lr=-1;for(st=0;st<St.length;st++)if(xt=St[st],xt.type==="byname"&&xt.name===Xt){lr=st;break}if(lr>0&&lr<St.length-1){var sr=[];for(st=0;st<St.length;st++)xt=St[st],(St[st].type!=="byname"||st>lr)&&sr.push(xt);St=sr}}St.length>0?yt(St):(Pe.emit("plotly_animated"),zt())})}function Be(Pe,He,Ke){if(Pe=C.getGraphDiv(Pe),He==null)return Promise.resolve();if(!C.isPlotDiv(Pe))throw new Error("This element is not a Plotly plot: "+Pe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var qe,vt,bt,Wt,qt=Pe._transitionData._frames,At=Pe._transitionData._frameHash;if(!Array.isArray(He))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+He);var zt=qt.length+He.length*2,Kt=[],Sr={};for(qe=He.length-1;qe>=0;qe--)if(C.isPlainObject(He[qe])){var yt=He[qe].name,Zt=(At[yt]||Sr[yt]||{}).name,$t=He[qe].name,mr=At[Zt]||Sr[Zt];Zt&&$t&&typeof $t=="number"&&mr&&E<T&&(E++,C.warn('addFrames: overwriting frame "'+(At[Zt]||Sr[Zt]).name+'" with a frame whose name of type "number" also equates to "'+Zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===T&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Sr[yt]={name:yt},Kt.push({frame:s.supplyFrameDefaults(He[qe]),index:Ke&&Ke[qe]!==void 0&&Ke[qe]!==null?Ke[qe]:zt+qe})}Kt.sort(function(Bt,Nt){return Bt.index>Nt.index?-1:Bt.index<Nt.index?1:0});var ur=[],pt=[],st=qt.length;for(qe=Kt.length-1;qe>=0;qe--){if(vt=Kt[qe].frame,typeof vt.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!vt.name)for(;At[vt.name="frame "+Pe._transitionData._counter++];);if(At[vt.name]){for(bt=0;bt<qt.length&&(qt[bt]||{}).name!==vt.name;bt++);ur.push({type:"replace",index:bt,value:vt}),pt.unshift({type:"replace",index:bt,value:qt[bt]})}else Wt=Math.max(0,Math.min(Kt[qe].index,st)),ur.push({type:"insert",index:Wt,value:vt}),pt.unshift({type:"delete",index:Wt}),st++}var xt=s.modifyFrames,St=s.modifyFrames,Dt=[Pe,pt],Rt=[Pe,ur];return g&&g.add(Pe,xt,Dt,St,Rt),s.modifyFrames(Pe,ur)}function De(Pe,He){if(Pe=C.getGraphDiv(Pe),!C.isPlotDiv(Pe))throw new Error("This element is not a Plotly plot: "+Pe);var Ke,qe,vt=Pe._transitionData._frames,bt=[],Wt=[];if(!He)for(He=[],Ke=0;Ke<vt.length;Ke++)He.push(Ke);for(He=He.slice(),He.sort(),Ke=He.length-1;Ke>=0;Ke--)qe=He[Ke],bt.push({type:"delete",index:qe}),Wt.unshift({type:"insert",index:qe,value:vt[qe]});var qt=s.modifyFrames,At=s.modifyFrames,zt=[Pe,Wt],Kt=[Pe,bt];return g&&g.add(Pe,qt,zt,At,Kt),s.modifyFrames(Pe,bt)}function Te(Pe){Pe=C.getGraphDiv(Pe);var He=Pe._fullLayout||{},Ke=Pe._fullData||[];return s.cleanPlot([],{},Ke,He),s.purge(Pe),h.purge(Pe),He._container&&He._container.remove(),delete Pe._context,Pe}function xe(Pe){var He=Pe._fullLayout,Ke=Pe.getBoundingClientRect();if(!C.equalDomRects(Ke,He._lastBBox)){var qe=He._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(Pe));He._invScaleX=Math.sqrt(qe[0][0]*qe[0][0]+qe[0][1]*qe[0][1]+qe[0][2]*qe[0][2]),He._invScaleY=Math.sqrt(qe[1][0]*qe[1][0]+qe[1][1]*qe[1][1]+qe[1][2]*qe[1][2]),He._lastBBox=Ke}}function Me(Pe){var He=p.select(Pe),Ke=Pe._fullLayout;if(Ke._calcInverseTransform=xe,Ke._calcInverseTransform(Pe),Ke._container=He.selectAll(".plot-container").data([0]),Ke._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ke._paperdiv=Ke._container.selectAll(".svg-container").data([0]),Ke._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ke._glcontainer=Ke._paperdiv.selectAll(".gl-container").data([{}]),Ke._glcontainer.enter().append("div").classed("gl-container",!0),Ke._paperdiv.selectAll(".main-svg").remove(),Ke._paperdiv.select(".modebar-container").remove(),Ke._paper=Ke._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ke._toppaper=Ke._paperdiv.append("svg").classed("main-svg",!0),Ke._modebardiv=Ke._paperdiv.append("div"),delete Ke._modeBar,Ke._hoverpaper=Ke._paperdiv.append("svg").classed("main-svg",!0),!Ke._uid){var qe={};p.selectAll("defs").each(function(){this.id&&(qe[this.id.split("-")[1]]=1)}),Ke._uid=C.randstr(qe)}Ke._paperdiv.selectAll(".main-svg").attr(A.svgAttrs),Ke._defs=Ke._paper.append("defs").attr("id","defs-"+Ke._uid),Ke._clips=Ke._defs.append("g").classed("clips",!0),Ke._topdefs=Ke._toppaper.append("defs").attr("id","topdefs-"+Ke._uid),Ke._topclips=Ke._topdefs.append("g").classed("clips",!0),Ke._bgLayer=Ke._paper.append("g").classed("bglayer",!0),Ke._draggers=Ke._paper.append("g").classed("draglayer",!0);var vt=Ke._paper.append("g").classed("layer-below",!0);Ke._imageLowerLayer=vt.append("g").classed("imagelayer",!0),Ke._shapeLowerLayer=vt.append("g").classed("shapelayer",!0),Ke._cartesianlayer=Ke._paper.append("g").classed("cartesianlayer",!0),Ke._polarlayer=Ke._paper.append("g").classed("polarlayer",!0),Ke._smithlayer=Ke._paper.append("g").classed("smithlayer",!0),Ke._ternarylayer=Ke._paper.append("g").classed("ternarylayer",!0),Ke._geolayer=Ke._paper.append("g").classed("geolayer",!0),Ke._funnelarealayer=Ke._paper.append("g").classed("funnelarealayer",!0),Ke._pielayer=Ke._paper.append("g").classed("pielayer",!0),Ke._iciclelayer=Ke._paper.append("g").classed("iciclelayer",!0),Ke._treemaplayer=Ke._paper.append("g").classed("treemaplayer",!0),Ke._sunburstlayer=Ke._paper.append("g").classed("sunburstlayer",!0),Ke._indicatorlayer=Ke._toppaper.append("g").classed("indicatorlayer",!0),Ke._glimages=Ke._paper.append("g").classed("glimages",!0);var bt=Ke._toppaper.append("g").classed("layer-above",!0);Ke._imageUpperLayer=bt.append("g").classed("imagelayer",!0),Ke._shapeUpperLayer=bt.append("g").classed("shapelayer",!0),Ke._selectionLayer=Ke._toppaper.append("g").classed("selectionlayer",!0),Ke._infolayer=Ke._toppaper.append("g").classed("infolayer",!0),Ke._menulayer=Ke._toppaper.append("g").classed("menulayer",!0),Ke._zoomlayer=Ke._toppaper.append("g").classed("zoomlayer",!0),Ke._hoverlayer=Ke._hoverpaper.append("g").classed("hoverlayer",!0),Ke._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Pe.emit("plotly_framework")}N.animate=Fe,N.addFrames=Be,N.deleteFrames=De,N.addTraces=$,N.deleteTraces=K,N.extendTraces=q,N.moveTraces=re,N.prependTraces=Z,N.newPlot=U,N._doPlot=i,N.purge=Te,N.react=Et,N.redraw=_,N.relayout=Ee,N.restyle=le,N.setPlotConfig=b,N.update=Ne,N._guiRelayout=ke(Ee),N._guiRestyle=ke(le),N._guiUpdate=ke(Ne),N._storeDirectGUIEdit=se},72075:function(B){var N={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function p(L,a){for(var C in L){var w=L[C];w.valType?a[C]=w.dflt:(a[C]||(a[C]={}),p(w,a[C]))}}p(N,e),B.exports={configAttributes:N,dfltConfig:e}},86281:function(B,N,e){var p=e(73972),L=e(71828),a=e(9012),C=e(10820),w=e(31391),h=e(85594),g=e(72075).configAttributes,t=e(30962),r=L.extendDeepAll,s=L.isPlainObject,n=L.isArrayOrTypedArray,l=L.nestedProperty,c=L.valObjectMeta,f="_isSubplotObj",m="_isLinkedToArray",v="_arrayAttrRegexps",A="_deprecated",d=[f,m,v,A];N.IS_SUBPLOT_OBJ=f,N.IS_LINKED_TO_ARRAY=m,N.DEPRECATED=A,N.UNDERSCORE_ATTRS=d,N.get=function(){var V={};p.allTypes.forEach(function(U){V[U]=S(U)});var _={};return Object.keys(p.transformsRegistry).forEach(function(U){_[U]=x(U)}),{defs:{valObjects:c,metaKeys:d.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:V,layout:R(),transforms:_,frames:E(),animation:T(h),config:T(g)}},N.crawl=function(V,_,U,H){var z=U||0;H=H||"",Object.keys(V).forEach(function(G){var Y=V[G];if(d.indexOf(G)===-1){var J=(H?H+".":"")+G;_(Y,G,V,z,J),!N.isValObject(Y)&&s(Y)&&G!=="impliedEdits"&&N.crawl(Y,_,z+1,J)}})},N.isValObject=function(V){return V&&V.valType!==void 0},N.findArrayAttributes=function(V){var _=[],U=[],H=[],z,G;function Y(Z,$,K,re){U=U.slice(0,re).concat([$]),H=H.slice(0,re).concat([Z&&Z._isLinkedToArray]);var le=Z&&(Z.valType==="data_array"||Z.arrayOk===!0)&&!(U[re-1]==="colorbar"&&($==="ticktext"||$==="tickvals"));le&&J(z,0,"")}function J(Z,$,K){var re=Z[U[$]],le=K+U[$];if($===U.length-1)n(re)&&_.push(G+le);else if(H[$]){if(Array.isArray(re))for(var te=0;te<re.length;te++)s(re[te])&&J(re[te],$+1,le+"["+te+"].")}else s(re)&&J(re,$+1,le+".")}z=V,G="",N.crawl(a,Y),V._module&&V._module.attributes&&N.crawl(V._module.attributes,Y);var ae=V.transforms;if(ae)for(var oe=0;oe<ae.length;oe++){var he=ae[oe],q=he._module;q&&(G="transforms["+oe+"].",z=he,N.crawl(q.attributes,Y))}return _},N.getTraceValObject=function(V,_){var U=_[0],H=1,z,G;if(U==="transforms"){if(_.length===1)return a.transforms;var Y=V.transforms;if(!Array.isArray(Y)||!Y.length)return!1;var J=_[1];if(!M(J)||J>=Y.length)return!1;z=(p.transformsRegistry[Y[J].type]||{}).attributes,G=z&&z[_[2]],H=3}else{var ae=V._module;if(ae||(ae=(p.modules[V.type||a.type.dflt]||{})._module),!ae)return!1;if(z=ae.attributes,G=z&&z[U],!G){var oe=ae.basePlotModule;oe&&oe.attributes&&(G=oe.attributes[U])}G||(G=a[U])}return y(G,_,H)},N.getLayoutValObject=function(V,_){var U=u(V,_[0]);return y(U,_,1)};function u(V,_){var U,H,z,G,Y=V._basePlotModules;if(Y){var J;for(U=0;U<Y.length;U++){if(z=Y[U],z.attrRegex&&z.attrRegex.test(_)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!J&&z.layoutAttributes&&(J=z.layoutAttributes)}var ae=z.baseLayoutAttrOverrides;if(ae&&_ in ae)return ae[_]}if(J)return J}var oe=V._modules;if(oe){for(U=0;U<oe.length;U++)if(G=oe[U].layoutAttributes,G&&_ in G)return G[_]}for(H in p.componentsRegistry){if(z=p.componentsRegistry[H],z.name==="colorscale"&&_.indexOf("coloraxis")===0)return z.layoutAttributes[_];if(!z.schema&&_===z.name)return z.layoutAttributes}return _ in C?C[_]:!1}function y(V,_,U){if(!V)return!1;if(V._isLinkedToArray){if(M(_[U]))U++;else if(U<_.length)return!1}for(;U<_.length;U++){var H=V[_[U]];if(s(H))V=H;else break;if(U===_.length-1)break;if(V._isLinkedToArray){if(U++,!M(_[U]))return!1}else if(V.valType==="info_array"){U++;var z=_[U];if(!M(z))return!1;var G=V.items;if(Array.isArray(G)){if(z>=G.length)return!1;if(V.dimensions===2){if(U++,_.length===U)return V;var Y=_[U];if(!M(Y))return!1;V=G[z][Y]}else V=G[z]}else V=G}}return V}function M(V){return V===Math.round(V)&&V>=0}function S(V){var _,U;_=p.modules[V]._module,U=_.basePlotModule;var H={};H.type=null;var z=r({},a),G=r({},_.attributes);N.crawl(G,function(ae,oe,he,q,Z){l(z,Z).set(void 0),ae===void 0&&l(G,Z).set(void 0)}),r(H,z),p.traceIs(V,"noOpacity")&&delete H.opacity,p.traceIs(V,"showLegend")||(delete H.showlegend,delete H.legendgroup),p.traceIs(V,"noHover")&&(delete H.hoverinfo,delete H.hoverlabel),_.selectPoints||delete H.selectedpoints,r(H,G),U.attributes&&r(H,U.attributes),H.type=V;var Y={meta:_.meta||{},categories:_.categories||{},animatable:!!_.animatable,type:V,attributes:T(H)};if(_.layoutAttributes){var J={};r(J,_.layoutAttributes),Y.layoutAttributes=T(J)}return _.animatable||N.crawl(Y,function(ae){N.isValObject(ae)&&"anim"in ae&&delete ae.anim}),Y}function R(){var V={},_,U;r(V,C);for(_ in p.subplotsRegistry)if(U=p.subplotsRegistry[_],!!U.layoutAttributes)if(Array.isArray(U.attr))for(var H=0;H<U.attr.length;H++)O(V,U,U.attr[H]);else{var z=U.attr==="subplot"?U.name:U.attr;O(V,U,z)}for(_ in p.componentsRegistry){U=p.componentsRegistry[_];var G=U.schema;if(G&&(G.subplots||G.layout)){var Y=G.subplots;if(Y&&Y.xaxis&&!Y.yaxis)for(var J in Y.xaxis)delete V.yaxis[J];delete V.xaxis.shift,delete V.xaxis.autoshift}else U.name==="colorscale"?r(V,U.layoutAttributes):U.layoutAttributes&&F(V,U.layoutAttributes,U.name)}return{layoutAttributes:T(V)}}function x(V){var _=p.transformsRegistry[V],U=r({},_.attributes);return Object.keys(p.componentsRegistry).forEach(function(H){var z=p.componentsRegistry[H];z.schema&&z.schema.transforms&&z.schema.transforms[V]&&Object.keys(z.schema.transforms[V]).forEach(function(G){F(U,z.schema.transforms[V][G],G)})}),{attributes:T(U)}}function E(){var V={frames:r({},w)};return T(V),V.frames}function T(V){return i(V),D(V),b(V),V}function i(V){function _(H){return{valType:"string",editType:"none"}}function U(H,z,G){N.isValObject(H)?(H.arrayOk===!0||H.valType==="data_array")&&(G[z+"src"]=_()):s(H)&&(H.role="object")}N.crawl(V,U)}function D(V){function _(U,H,z){if(U){var G=U[m];G&&(delete U[m],z[H]={items:{}},z[H].items[G]=U,z[H].role="object")}}N.crawl(V,_)}function b(V){function _(U){for(var H in U)if(s(U[H]))_(U[H]);else if(Array.isArray(U[H]))for(var z=0;z<U[H].length;z++)_(U[H][z]);else U[H]instanceof RegExp&&(U[H]=U[H].toString())}_(V)}function O(V,_,U){var H=l(V,U),z=r({},_.layoutAttributes);z[f]=!0,H.set(z)}function F(V,_,U){var H=l(V,U);H.set(r(H.get()||{},_))}},44467:function(B,N,e){var p=e(71828),L=e(9012),a="templateitemname",C={name:{valType:"string",editType:"none"}};C[a]={valType:"string",editType:"calc"},N.templatedArray=function(g,t){return t._isLinkedToArray=g,t.name=C.name,t[a]=C[a],t},N.traceTemplater=function(g){var t={},r,s;for(r in g)s=g[r],Array.isArray(s)&&s.length&&(t[r]=0);function n(l){r=p.coerce(l,{},L,"type");var c={type:r,_template:null};if(r in t){s=g[r];var f=t[r]%s.length;t[r]++,c._template=s[f]}return c}return{newTrace:n}},N.newContainer=function(g,t,r){var s=g._template,n=s&&(s[t]||r&&s[r]);p.isPlainObject(n)||(n=null);var l=g[t]={_template:n};return l},N.arrayTemplater=function(g,t,r){var s=g._template,n=s&&s[h(t)],l=s&&s[t];(!Array.isArray(l)||!l.length)&&(l=[]);var c={};function f(v){var A={name:v.name,_input:v},d=A[a]=v[a];if(!w(d))return A._template=n,A;for(var u=0;u<l.length;u++){var y=l[u];if(y.name===d)return c[d]=1,A._template=y,A}return A[r]=v[r]||!1,A._template=!1,A}function m(){for(var v=[],A=0;A<l.length;A++){var d=l[A],u=d.name;if(w(u)&&!c[u]){var y={_template:d,name:u,_input:{_templateitemname:u}};y[a]=d[a],v.push(y),c[u]=1}}return v}return{newItem:f,defaultItems:m}};function w(g){return g&&typeof g=="string"}function h(g){var t=g.length-1;return g.charAt(t)!=="s"&&p.warn("bad argument to arrayDefaultKey: "+g),g.substr(0,g.length-1)+"defaults"}N.arrayDefaultKey=h,N.arrayEditor=function(g,t,r){var s=(p.nestedProperty(g,t).get()||[]).length,n=r._index,l=n>=s&&(r._input||{})._templateitemname;l&&(n=s);var c=t+"["+n+"]",f;function m(){f={},l&&(f[c]={},f[c][a]=l)}m();function v(y,M){f[y]=M}function A(y,M){l?p.nestedProperty(f[c],y).set(M):f[c+"."+y]=M}function d(){var y=f;return m(),y}function u(y,M){y&&A(y,M);var S=d();for(var R in S)p.nestedProperty(g,R).set(S[R])}return{modifyBase:v,modifyItem:A,getUpdateObj:d,applyUpdate:u}}},61549:function(B,N,e){var p=e(39898),L=e(73972),a=e(74875),C=e(71828),w=e(63893),h=e(33306),g=e(7901),t=e(91424),r=e(92998),s=e(64168),n=e(89298),l=e(18783),c=e(99082),f=c.enforce,m=c.clean,v=e(71739).doAutoRange,A="start",d="middle",u="end";N.layoutStyles=function(U){return C.syncOrAsync([a.doAutoMargin,M],U)};function y(U,H,z){for(var G=0;G<z.length;G++){var Y=z[G][0],J=z[G][1];if(!(Y[0]>=U[1]||Y[1]<=U[0])&&J[0]<H[1]&&J[1]>H[0])return!0}return!1}function M(U){var H=U._fullLayout,z=H._size,G=z.p,Y=n.list(U,"",!0),J,ae,oe,he,q,Z;if(H._paperdiv.style({width:U._context.responsive&&H.autosize&&!U._context._hasZeroWidth&&!U.layout.width?"100%":H.width+"px",height:U._context.responsive&&H.autosize&&!U._context._hasZeroHeight&&!U.layout.height?"100%":H.height+"px"}).selectAll(".main-svg").call(t.setSize,H.width,H.height),U._context.setBackground(U,H.paper_bgcolor),N.drawMainTitle(U),s.manage(U),!H._has("cartesian"))return a.previousPromises(U);function $(Te,xe,Me){var Pe=Te._lw/2;if(Te._id.charAt(0)==="x"){if(xe){if(Me==="top")return xe._offset-G-Pe}else return z.t+z.h*(1-(Te.position||0))+Pe%1;return xe._offset+xe._length+G+Pe}if(xe){if(Me==="right")return xe._offset+xe._length+G+Pe}else return z.l+z.w*(Te.position||0)+Pe%1;return xe._offset-G-Pe}for(J=0;J<Y.length;J++){he=Y[J];var K=he._anchorAxis;he._linepositions={},he._lw=t.crispRound(U,he.linewidth,1),he._mainLinePosition=$(he,K,he.side),he._mainMirrorPosition=he.mirror&&K?$(he,K,l.OPPOSITE_SIDE[he.side]):null}var re=[],le=[],te=[],ee=g.opacity(H.paper_bgcolor)===1&&g.opacity(H.plot_bgcolor)===1&&H.paper_bgcolor===H.plot_bgcolor;for(ae in H._plots)if(oe=H._plots[ae],oe.mainplot)oe.bg&&oe.bg.remove(),oe.bg=void 0;else{var ue=oe.xaxis.domain,se=oe.yaxis.domain,ve=oe.plotgroup;if(y(ue,se,te)){var be=ve.node(),Ee=oe.bg=C.ensureSingle(ve,"rect","bg");be.insertBefore(Ee.node(),be.childNodes[0]),le.push(ae)}else ve.select("rect.bg").remove(),te.push([ue,se]),ee||(re.push(ae),le.push(ae))}var Ae=H._bgLayer.selectAll(".bg").data(re);for(Ae.enter().append("rect").classed("bg",!0),Ae.exit().remove(),Ae.each(function(Te){H._plots[Te].bg=p.select(this)}),J=0;J<le.length;J++)oe=H._plots[le[J]],q=oe.xaxis,Z=oe.yaxis,oe.bg&&q._offset!==void 0&&Z._offset!==void 0&&oe.bg.call(t.setRect,q._offset-G,Z._offset-G,q._length+2*G,Z._length+2*G).call(g.fill,H.plot_bgcolor).style("stroke-width",0);if(!H._hasOnlyLargeSploms)for(ae in H._plots){oe=H._plots[ae],q=oe.xaxis,Z=oe.yaxis;var Oe=oe.clipId="clip"+H._uid+ae+"plot",Ue=C.ensureSingleById(H._clips,"clipPath",Oe,function(Te){Te.classed("plotclip",!0).append("rect")});oe.clipRect=Ue.select("rect").attr({width:q._length,height:Z._length}),t.setTranslate(oe.plot,q._offset,Z._offset);var Le,we;oe._hasClipOnAxisFalse?(Le=null,we=Oe):(Le=Oe,we=null),t.setClipUrl(oe.plot,Le,U),oe.layerClipId=we}var Ce,Ve,Ne,ke,We,rt,et,tt,at,ct,dt,gt,Et;function Ct(Te){return"M"+Ce+","+Te+"H"+Ve}function Vt(Te){return"M"+q._offset+","+Te+"h"+q._length}function Je(Te){return"M"+Te+","+tt+"V"+et}function _e(Te){return Z._shift!==void 0&&(Te+=Z._shift),"M"+Te+","+Z._offset+"v"+Z._length}function Fe(Te,xe,Me){if(!Te.showline||ae!==Te._mainSubplot)return"";if(!Te._anchorAxis)return Me(Te._mainLinePosition);var Pe=xe(Te._mainLinePosition);return Te.mirror&&(Pe+=xe(Te._mainMirrorPosition)),Pe}for(ae in H._plots){oe=H._plots[ae],q=oe.xaxis,Z=oe.yaxis;var Be="M0,0";S(q,ae)&&(We=x(q,"left",Z,Y),Ce=q._offset-(We?G+We:0),rt=x(q,"right",Z,Y),Ve=q._offset+q._length+(rt?G+rt:0),Ne=$(q,Z,"bottom"),ke=$(q,Z,"top"),Et=!q._anchorAxis||ae!==q._mainSubplot,Et&&(q.mirror==="allticks"||q.mirror==="all")&&(q._linepositions[ae]=[Ne,ke]),Be=Fe(q,Ct,Vt),Et&&q.showline&&(q.mirror==="all"||q.mirror==="allticks")&&(Be+=Ct(Ne)+Ct(ke)),oe.xlines.style("stroke-width",q._lw+"px").call(g.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),oe.xlines.attr("d",Be);var De="M0,0";S(Z,ae)&&(dt=x(Z,"bottom",q,Y),et=Z._offset+Z._length+(dt?G:0),gt=x(Z,"top",q,Y),tt=Z._offset-(gt?G:0),at=$(Z,q,"left"),ct=$(Z,q,"right"),Et=!Z._anchorAxis||ae!==Z._mainSubplot,Et&&(Z.mirror==="allticks"||Z.mirror==="all")&&(Z._linepositions[ae]=[at,ct]),De=Fe(Z,Je,_e),Et&&Z.showline&&(Z.mirror==="all"||Z.mirror==="allticks")&&(De+=Je(at)+Je(ct)),oe.ylines.style("stroke-width",Z._lw+"px").call(g.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),oe.ylines.attr("d",De)}return n.makeClipPaths(U),a.previousPromises(U)}function S(U,H){return(U.ticks||U.showline)&&(H===U._mainSubplot||U.mirror==="all"||U.mirror==="allticks")}function R(U,H,z){if(!z.showline||!z._lw)return!1;if(z.mirror==="all"||z.mirror==="allticks")return!0;var G=z._anchorAxis;if(!G)return!1;var Y=l.FROM_BL[H];return z.side===H?G.domain[Y]===U.domain[Y]:z.mirror&&G.domain[1-Y]===U.domain[1-Y]}function x(U,H,z,G){if(R(U,H,z))return z._lw;for(var Y=0;Y<G.length;Y++){var J=G[Y];if(J._mainAxis===z._mainAxis&&R(U,H,J))return J._lw}return 0}N.drawMainTitle=function(U){var H=U._fullLayout.title,z=U._fullLayout,G=V(z),Y=_(z),J=O(z,Y),ae=b(z,G);if(r.draw(U,"gtitle",{propContainer:z,propName:"title.text",placeholder:z._dfltTitle.plot,attributes:{x:ae,y:J,"text-anchor":G,dy:Y}}),H.text&&H.automargin){var oe=p.selectAll(".gtitle"),he=t.bBox(oe.node()).height,q=i(U,H,he);if(q>0){D(U,J,q,he),oe.attr({x:ae,y:J,"text-anchor":G,dy:F(H.yanchor)}).call(w.positionText,ae,J);var Z=(H.text.match(w.BR_TAG_ALL)||[]).length;if(Z){var $=l.LINE_SPACING*Z+l.MID_SHIFT;H.y===0&&($=-$),oe.selectAll(".line").each(function(){var K=+this.getAttribute("dy").slice(0,-2)-$+"em";this.setAttribute("dy",K)})}}}};function E(U,H,z,G,Y){var J=H.yref==="paper"?U._fullLayout._size.h:U._fullLayout.height,ae=C.isTopAnchor(H)?G:G-Y,oe=z==="b"?J-ae:ae;return C.isTopAnchor(H)&&z==="t"||C.isBottomAnchor(H)&&z==="b"?!1:oe<Y}function T(U,H,z,G,Y){var J=0;return z==="middle"&&(J+=Y/2),U==="t"?(z==="top"&&(J+=Y),J+=G-H*G):(z==="bottom"&&(J+=Y),J+=H*G),J}function i(U,H,z){var G=H.y,Y=H.yanchor,J=G>.5?"t":"b",ae=U._fullLayout.margin[J],oe=0;return H.yref==="paper"?oe=z+H.pad.t+H.pad.b:H.yref==="container"&&(oe=T(J,G,Y,U._fullLayout.height,z)+H.pad.t+H.pad.b),oe>ae?oe:0}function D(U,H,z,G){var Y="title.automargin",J=U._fullLayout.title,ae=J.y>.5?"t":"b",oe={x:J.x,y:J.y,t:0,b:0},he={};J.yref==="paper"&&E(U,J,ae,H,G)?oe[ae]=z:J.yref==="container"&&(he[ae]=z,U._fullLayout._reservedMargin[Y]=he),a.allowAutoMargin(U,Y),a.autoMargin(U,Y,oe)}function b(U,H){var z=U.title,G=U._size,Y=0;switch(H===A?Y=z.pad.l:H===u&&(Y=-z.pad.r),z.xref){case"paper":return G.l+G.w*z.x+Y;case"container":default:return U.width*z.x+Y}}function O(U,H){var z=U.title,G=U._size,Y=0;if(H==="0em"||!H?Y=-z.pad.b:H===l.CAP_SHIFT+"em"&&(Y=z.pad.t),z.y==="auto")return G.t/2;switch(z.yref){case"paper":return G.t+G.h-G.h*z.y+Y;case"container":default:return U.height-U.height*z.y+Y}}function F(U){return U==="top"?l.CAP_SHIFT+.3+"em":U==="bottom"?"-0.3em":l.MID_SHIFT+"em"}function V(U){var H=U.title,z=d;return C.isRightAnchor(H)?z=u:C.isLeftAnchor(H)&&(z=A),z}function _(U){var H=U.title,z="0em";return C.isTopAnchor(H)?z=l.CAP_SHIFT+"em":C.isMiddleAnchor(H)&&(z=l.MID_SHIFT+"em"),z}N.doTraceStyle=function(U){var H=U.calcdata,z=[],G;for(G=0;G<H.length;G++){var Y=H[G],J=Y[0]||{},ae=J.trace||{},oe=ae._module||{},he=oe.arraysToCalcdata;he&&he(Y,ae);var q=oe.editStyle;q&&z.push({fn:q,cd0:J})}if(z.length){for(G=0;G<z.length;G++){var Z=z[G];Z.fn(U,Z.cd0)}h(U),N.redrawReglTraces(U)}return a.style(U),L.getComponentMethod("legend","draw")(U),a.previousPromises(U)},N.doColorBars=function(U){return L.getComponentMethod("colorbar","draw")(U),a.previousPromises(U)},N.layoutReplot=function(U){var H=U.layout;return U.layout=void 0,L.call("_doPlot",U,"",H)},N.doLegend=function(U){return L.getComponentMethod("legend","draw")(U),a.previousPromises(U)},N.doTicksRelayout=function(U){return n.draw(U,"redraw"),U._fullLayout._hasOnlyLargeSploms&&(L.subplotsRegistry.splom.updateGrid(U),h(U),N.redrawReglTraces(U)),N.drawMainTitle(U),a.previousPromises(U)},N.doModeBar=function(U){var H=U._fullLayout;s.manage(U);for(var z=0;z<H._basePlotModules.length;z++){var G=H._basePlotModules[z].updateFx;G&&G(U)}return a.previousPromises(U)},N.doCamera=function(U){for(var H=U._fullLayout,z=H._subplots.gl3d,G=0;G<z.length;G++){var Y=H[z[G]],J=Y._scene;J.setViewport(Y)}},N.drawData=function(U){var H=U._fullLayout;h(U);for(var z=H._basePlotModules,G=0;G<z.length;G++)z[G].plot(U);return N.redrawReglTraces(U),a.style(U),L.getComponentMethod("selections","draw")(U),L.getComponentMethod("shapes","draw")(U),L.getComponentMethod("annotations","draw")(U),L.getComponentMethod("images","draw")(U),H._replotting=!1,a.previousPromises(U)},N.redrawReglTraces=function(U){var H=U._fullLayout;if(H._has("regl")){var z=U._fullData,G=[],Y=[],J,ae;for(H._hasOnlyLargeSploms&&H._splomGrid.draw(),J=0;J<z.length;J++){var oe=z[J];oe.visible===!0&&oe._length!==0&&(oe.type==="splom"?H._splomScenes[oe.uid].draw():oe.type==="scattergl"?C.pushUnique(G,oe.xaxis+oe.yaxis):oe.type==="scatterpolargl"&&C.pushUnique(Y,oe.subplot))}for(J=0;J<G.length;J++)ae=H._plots[G[J]],ae._scene&&ae._scene.draw();for(J=0;J<Y.length;J++)ae=H[Y[J]]._subplot,ae._scene&&ae._scene.draw()}},N.doAutoRangeAndConstraints=function(U){for(var H=n.list(U,"",!0),z,G={},Y=0;Y<H.length;Y++)if(z=H[Y],!G[z._id]){G[z._id]=1,m(U,z),v(U,z);var J=z._matchGroup;if(J)for(var ae in J){var oe=n.getFromId(U,ae);v(U,oe,z.range),G[ae]=1}}f(U)},N.finalDraw=function(U){L.getComponentMethod("rangeslider","draw")(U),L.getComponentMethod("rangeselector","draw")(U)},N.drawMarginPushers=function(U){L.getComponentMethod("legend","draw")(U),L.getComponentMethod("rangeselector","draw")(U),L.getComponentMethod("sliders","draw")(U),L.getComponentMethod("updatemenus","draw")(U),L.getComponentMethod("colorbar","draw")(U)}},96318:function(B,N,e){var p=e(71828),L=p.isPlainObject,a=e(86281),C=e(74875),w=e(9012),h=e(44467),g=e(72075).dfltConfig;N.makeTemplate=function(v){v=p.isPlainObject(v)?v:p.getGraphDiv(v),v=p.extendDeep({_context:g},{data:v.data,layout:v.layout}),C.supplyDefaults(v);var A=v.data||[],d=v.layout||{};d._basePlotModules=v._fullLayout._basePlotModules,d._modules=v._fullLayout._modules;var u={data:{},layout:{}};A.forEach(function(b){var O={};s(b,O,l.bind(null,b));var F=p.coerce(b,{},w,"type"),V=u.data[F];V||(V=u.data[F]=[]),V.push(O)}),s(d,u.layout,n.bind(null,d)),delete u.layout.template;var y=d.template;if(L(y)){var M=y.layout,S,R,x,E,T,i;L(M)&&t(M,u.layout);var D=y.data;if(L(D)){for(R in u.data)if(x=D[R],Array.isArray(x)){for(T=u.data[R],i=T.length,E=x.length,S=0;S<i;S++)t(x[S%E],T[S]);for(S=i;S<E;S++)T.push(p.extendDeep({},x[S]))}for(R in D)R in u.data||(u.data[R]=p.extendDeep([],D[R]))}}return u};function t(v,A){v=p.extendDeep({},v);var d=Object.keys(v).sort(),u,y;function M(T,i,D){if(L(i)&&L(T))t(T,i);else if(Array.isArray(i)&&Array.isArray(T)){var b=h.arrayTemplater({_template:v},D);for(y=0;y<i.length;y++){var O=i[y],F=b.newItem(O)._template;F&&t(F,O)}var V=b.defaultItems();for(y=0;y<V.length;y++)i.push(V[y]._template);for(y=0;y<i.length;y++)delete i[y].templateitemname}}for(u=0;u<d.length;u++){var S=d[u],R=v[S];if(S in A?M(R,A[S],S):A[S]=R,r(S)===S)for(var x in A){var E=r(x);x!==E&&E===S&&!(x in v)&&M(R,A[x],S)}}}function r(v){return v.replace(/[0-9]+$/,"")}function s(v,A,d,u,y){var M=y&&d(y);for(var S in v){var R=v[S],x=c(v,S,u),E=c(v,S,y),T=d(E);if(!T){var i=r(S);i!==S&&(E=c(v,i,y),T=d(E))}if(!(M&&M===T)&&!(!T||T._noTemplating||T.valType==="data_array"||T.arrayOk&&Array.isArray(R)))if(!T.valType&&L(R))s(R,A,d,x,E);else if(T._isLinkedToArray&&Array.isArray(R))for(var D=!1,b=0,O={},F=0;F<R.length;F++){var V=R[F];if(L(V)){var _=V.name;if(_)O[_]||(s(V,A,d,c(R,b,x),c(R,b,E)),b++,O[_]=1);else if(!D){var U=h.arrayDefaultKey(S),H=c(v,U,u),z=c(R,b,x);s(V,A,d,z,c(R,b,E));var G=p.nestedProperty(A,z),Y=p.nestedProperty(A,H);Y.set(G.get()),G.set(null),D=!0}}}else{var J=p.nestedProperty(A,x);J.set(R)}}}function n(v,A){return a.getLayoutValObject(v,p.nestedProperty({},A).parts)}function l(v,A){return a.getTraceValObject(v,p.nestedProperty({},A).parts)}function c(v,A,d){var u;return d?Array.isArray(v)?u=d+"["+A+"]":u=d+"."+A:u=A,u}N.validateTemplate=function(v,A){var d=p.extendDeep({},{_context:g,data:v.data,layout:v.layout}),u=d.layout||{};L(A)||(A=u.template||{});var y=A.layout,M=A.data,S=[];d.layout=u,d.layout.template=A,C.supplyDefaults(d);var R=d._fullLayout,x=d._fullData,E={};function T(H,z){for(var G in H)if(G.charAt(0)!=="_"&&L(H[G])){var Y=r(G),J=[],ae;for(ae=0;ae<z.length;ae++)J.push(c(H,G,z[ae])),Y!==G&&J.push(c(H,Y,z[ae]));for(ae=0;ae<J.length;ae++)E[J[ae]]=1;T(H[G],J)}}function i(H,z){for(var G in H)if(G.indexOf("defaults")===-1&&L(H[G])){var Y=c(H,G,z);E[Y]?i(H[G],Y):S.push({code:"unused",path:Y})}}if(L(y)?(T(R,["layout"]),i(y,"layout")):S.push({code:"layout"}),!L(M))S.push({code:"data"});else{for(var D={},b,O=0;O<x.length;O++){var F=x[O];b=F.type,D[b]=(D[b]||0)+1,F._fullInput._template||S.push({code:"missing",index:F._fullInput.index,traceType:b})}for(b in M){var V=M[b].length,_=D[b]||0;V>_?S.push({code:"unused",traceType:b,templateCount:V,dataCount:_}):_>V&&S.push({code:"reused",traceType:b,templateCount:V,dataCount:_})}}function U(H,z){for(var G in H)if(G.charAt(0)!=="_"){var Y=H[G],J=c(H,G,z);L(Y)?(Array.isArray(H)&&Y._template===!1&&Y.templateitemname&&S.push({code:"missing",path:J,templateitemname:Y.templateitemname}),U(Y,J)):Array.isArray(Y)&&f(Y)&&U(Y,J)}}if(U({data:x,layout:R},""),S.length)return S.map(m)};function f(v){for(var A=0;A<v.length;A++)if(L(v[A]))return!0}function m(v){var A;switch(v.code){case"data":A="The template has no key data.";break;case"layout":A="The template has no key layout.";break;case"missing":v.path?A="There are no templates for item "+v.path+" with name "+v.templateitemname:A="There are no templates for trace "+v.index+", of type "+v.traceType+".";break;case"unused":v.path?A="The template item at "+v.path+" was not used in constructing the plot.":v.dataCount?A="Some of the templates of type "+v.traceType+" were not used. The template has "+v.templateCount+" traces, the data only has "+v.dataCount+" of this type.":A="The template has "+v.templateCount+" traces of type "+v.traceType+" but there are none in the data.";break;case"reused":A="Some of the templates of type "+v.traceType+" were used more than once. The template has "+v.templateCount+" traces, the data has "+v.dataCount+" of this type.";break}return v.msg=A,v}},403:function(B,N,e){var p=e(92770),L=e(72391),a=e(74875),C=e(71828),w=e(25095),h=e(5900),g=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function s(n,l){l=l||{};var c,f,m,v;C.isPlainObject(n)?(c=n.data||[],f=n.layout||{},m=n.config||{},v={}):(n=C.getGraphDiv(n),c=C.extendDeep([],n.data),f=C.extendDeep({},n.layout),m=n._context,v=n._fullLayout||{});function A(_){return!(_ in l)||C.validate(l[_],r[_])}if(!A("width")&&l.width!==null||!A("height")&&l.height!==null)throw new Error("Height and width should be pixel values.");if(!A("format"))throw new Error("Export format is not "+C.join2(r.format.values,", "," or ")+".");var d={};function u(_,U){return C.coerce(l,d,r,_,U)}var y=u("format"),M=u("width"),S=u("height"),R=u("scale"),x=u("setBackground"),E=u("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var i=C.extendFlat({},f);M?i.width=M:l.width===null&&p(v.width)&&(i.width=v.width),S?i.height=S:l.height===null&&p(v.height)&&(i.height=v.height);var D=C.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),b=w.getRedrawFunc(T);function O(){return new Promise(function(_){setTimeout(_,w.getDelay(T._fullLayout))})}function F(){return new Promise(function(_,U){var H=h(T,y,R),z=T._fullLayout.width,G=T._fullLayout.height;function Y(){L.purge(T),document.body.removeChild(T)}if(y==="full-json"){var J=a.graphJson(T,!1,"keepdata","object",!0,!0);return J.version=t,J=JSON.stringify(J),Y(),_(E?J:w.encodeJSON(J))}if(Y(),y==="svg")return _(E?H:w.encodeSVG(H));var ae=document.createElement("canvas");ae.id=C.randstr(),g({format:y,width:z,height:G,scale:R,canvas:ae,svg:H,promise:!0}).then(_).catch(U)})}function V(_){return E?_.replace(w.IMAGE_URL_PREFIX,""):_}return new Promise(function(_,U){L.newPlot(T,c,i,D).then(b).then(O).then(F).then(function(H){_(V(H))}).catch(function(H){U(H)})})}B.exports=s},84936:function(B,N,e){var p=e(71828),L=e(74875),a=e(86281),C=e(72075).dfltConfig,w=p.isPlainObject,h=Array.isArray,g=p.isArrayOrTypedArray;B.exports=function(u,y){u===void 0&&(u=[]),y===void 0&&(y={});var M=a.get(),S=[],R={_context:p.extendFlat({},C)},x,E;h(u)?(R.data=p.extendDeep([],u),x=u):(R.data=[],x=[],S.push(l("array","data"))),w(y)?(R.layout=p.extendDeep({},y),E=y):(R.layout={},E={},arguments.length>1&&S.push(l("object","layout"))),L.supplyDefaults(R);for(var T=R._fullData,i=x.length,D=0;D<i;D++){var b=x[D],O=["data",D];if(!w(b)){S.push(l("object",O));continue}var F=T[D],V=F.type,_=M.traces[V].attributes;_.type={valType:"enumerated",values:[V]},F.visible===!1&&b.visible!==!1&&S.push(l("invisible",O)),t(b,F,_,S,O);var U=b.transforms,H=F.transforms;if(U){h(U)||S.push(l("array",O,["transforms"])),O.push("transforms");for(var z=0;z<U.length;z++){var G=["transforms",z],Y=U[z].type;if(!w(U[z])){S.push(l("object",O,G));continue}var J=M.transforms[Y]?M.transforms[Y].attributes:{};J.type={valType:"enumerated",values:Object.keys(M.transforms)},t(U[z],H[z],J,S,O,G)}}}var ae=R._fullLayout,oe=r(M,T);return t(E,ae,oe,S,"layout"),S.length===0?void 0:S};function t(d,u,y,M,S,R){R=R||[];for(var x=Object.keys(d),E=0;E<x.length;E++){var T=x[E];if(T!=="transforms"){var i=R.slice();i.push(T);var D=d[T],b=u[T],O=f(y,T),F=(O||{}).valType,V=F==="info_array",_=F==="colorscale",U=(O||{}).items;if(!c(y,T))M.push(l("schema",S,i));else if(w(D)&&w(b)&&F!=="any")t(D,b,O,M,S,i);else if(V&&h(D)){D.length>b.length&&M.push(l("unused",S,i.concat(b.length)));var H=b.length,z=Array.isArray(U);z&&(H=Math.min(H,U.length));var G,Y,J,ae,oe;if(O.dimensions===2)for(Y=0;Y<H;Y++)if(h(D[Y])){D[Y].length>b[Y].length&&M.push(l("unused",S,i.concat(Y,b[Y].length)));var he=b[Y].length;for(G=0;G<(z?Math.min(he,U[Y].length):he);G++)J=z?U[Y][G]:U,ae=D[Y][G],oe=b[Y][G],p.validate(ae,J)?oe!==ae&&oe!==+ae&&M.push(l("dynamic",S,i.concat(Y,G),ae,oe)):M.push(l("value",S,i.concat(Y,G),ae))}else M.push(l("array",S,i.concat(Y),D[Y]));else for(Y=0;Y<H;Y++)J=z?U[Y]:U,ae=D[Y],oe=b[Y],p.validate(ae,J)?oe!==ae&&oe!==+ae&&M.push(l("dynamic",S,i.concat(Y),ae,oe)):M.push(l("value",S,i.concat(Y),ae))}else if(O.items&&!V&&h(D)){var q=U[Object.keys(U)[0]],Z=[],$,K;for($=0;$<b.length;$++){var re=b[$]._index||$;if(K=i.slice(),K.push(re),w(D[re])&&w(b[$])){Z.push(re);var le=D[re],te=b[$];w(le)&&le.visible!==!1&&te.visible===!1?M.push(l("invisible",S,K)):t(le,te,q,M,S,K)}}for($=0;$<D.length;$++)K=i.slice(),K.push($),w(D[$])?Z.indexOf($)===-1&&M.push(l("unused",S,K)):M.push(l("object",S,K,D[$]))}else!w(D)&&w(b)?M.push(l("object",S,i,D)):!g(D)&&g(b)&&!V&&!_?M.push(l("array",S,i,D)):T in u?p.validate(D,O)?O.valType==="enumerated"&&(O.coerceNumber&&D!==+b||D!==b)&&M.push(l("dynamic",S,i,D,b)):M.push(l("value",S,i,D)):M.push(l("unused",S,i,D))}}return M}function r(d,u){for(var y=d.layout.layoutAttributes,M=0;M<u.length;M++){var S=u[M],R=d.traces[S.type],x=R.layoutAttributes;x&&(S.subplot?p.extendFlat(y[R.attributes.subplot.dflt],x):p.extendFlat(y,x))}return y}var s={object:function(d,u){var y;return d==="layout"&&u===""?y="The layout argument":d[0]==="data"&&u===""?y="Trace "+d[1]+" in the data argument":y=n(d)+"key "+u,y+" must be linked to an object container"},array:function(d,u){var y;return d==="data"?y="The data argument":y=n(d)+"key "+u,y+" must be linked to an array container"},schema:function(d,u){return n(d)+"key "+u+" is not part of the schema"},unused:function(d,u,y){var M=w(y)?"container":"key";return n(d)+M+" "+u+" did not get coerced"},dynamic:function(d,u,y,M){return[n(d)+"key",u,"(set to '"+y+"')","got reset to","'"+M+"'","during defaults."].join(" ")},invisible:function(d,u){return(u?n(d)+"item "+u:"Trace "+d[1])+" got defaulted to be not visible"},value:function(d,u,y){return[n(d)+"key "+u,"is set to an invalid value ("+y+")"].join(" ")}};function n(d){return h(d)?"In data trace "+d[1]+", ":"In "+d+", "}function l(d,u,y,M,S){y=y||"";var R,x;h(u)?(R=u[0],x=u[1]):(R=u,x=null);var E=A(y),T=s[d](u,E,M,S);return p.log(T),{code:d,container:R,trace:x,path:y,astr:E,msg:T}}function c(d,u){var y=v(u),M=y.keyMinusId,S=y.id;return M in d&&d[M]._isSubplotObj&&S?!0:u in d}function f(d,u){if(u in d)return d[u];var y=v(u);return d[y.keyMinusId]}var m=p.counterRegex("([a-z]+)");function v(d){var u=d.match(m);return{keyMinusId:u&&u[1],id:u&&u[2]}}function A(d){if(!h(d))return String(d);for(var u="",y=0;y<d.length;y++){var M=d[y];typeof M=="number"?u=u.substr(0,u.length-1)+"["+M+"]":u+=M,y<d.length-1&&(u+=".")}return u}},85594:function(B){B.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(B,N,e){var p=e(71828),L=e(44467);B.exports=function(C,w,h){var g=h.name,t=h.inclusionAttr||"visible",r=w[g],s=p.isArrayOrTypedArray(C[g])?C[g]:[],n=w[g]=[],l=L.arrayTemplater(w,g,t),c,f;for(c=0;c<s.length;c++){var m=s[c];p.isPlainObject(m)?f=l.newItem(m):(f=l.newItem({}),f[t]=!1),f._index=c,f[t]!==!1&&h.handleItemDefaults(m,f,w,h),n.push(f)}var v=l.defaultItems();for(c=0;c<v.length;c++)f=v[c],f._index=n.length,h.handleItemDefaults({},f,w,h,{}),n.push(f);if(p.isArrayOrTypedArray(r)){var A=Math.min(r.length,n.length);for(c=0;c<A;c++)p.relinkPrivateKeys(n[c],r[c])}return n}},9012:function(B,N,e){var p=e(41940),L=e(77914);B.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:L.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(B,N,e){var p=e(92770),L=e(71828),a=L.dateTime2ms,C=L.incrementMonth,w=e(50606),h=w.ONEAVGMONTH;B.exports=function(t,r,s,n){if(r.type!=="date")return{vals:n};var l=t[s+"periodalignment"];if(!l)return{vals:n};var c=t[s+"period"],f;if(p(c)){if(c=+c,c<=0)return{vals:n}}else if(typeof c=="string"&&c.charAt(0)==="M"){var m=+c.substring(1);if(m>0&&Math.round(m)===m)f=m;else return{vals:n}}for(var v=r.calendar,A=l==="start",d=l==="end",u=t[s+"period0"],y=a(u,v)||0,M=[],S=[],R=[],x=n.length,E=0;E<x;E++){var T=n[E],i,D,b;if(f){for(i=Math.round((T-y)/(f*h)),b=C(y,f*i,v);b>T;)b=C(b,-f,v);for(;b<=T;)b=C(b,f,v);D=C(b,-f,v)}else{for(i=Math.round((T-y)/c),b=y+i*c;b>T;)b-=c;for(;b<=T;)b+=c;D=b-c}M[E]=A?D:d?b:(D+b)/2,S[E]=D,R[E]=b}return{vals:M,starts:S,ends:R}}},89502:function(B){B.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(B,N,e){var p=e(39898),L=e(92770),a=e(71828),C=e(50606).FP_SAFE,w=e(73972),h=e(91424),g=e(41675),t=g.getFromId,r=g.isLinked;B.exports={applyAutorangeOptions:i,getAutoRange:s,makePadFn:l,doAutoRange:v,findExtremes:A,concatExtremes:m};function s(D,b){var O,F,V=[],_=D._fullLayout,U=l(_,b,0),H=l(_,b,1),z=m(D,b),G=z.min,Y=z.max;if(G.length===0||Y.length===0)return a.simpleMap(b.range,b.r2l);var J=G[0].val,ae=Y[0].val;for(O=1;O<G.length&&J===ae;O++)J=Math.min(J,G[O].val);for(O=1;O<Y.length&&J===ae;O++)ae=Math.max(ae,Y[O].val);var oe=b.autorange,he=oe==="reversed"||oe==="min reversed"||oe==="max reversed";if(!he&&b.range){var q=a.simpleMap(b.range,b.r2l);he=q[1]<q[0]}b.autorange==="reversed"&&(b.autorange=!0);var Z=b.rangemode,$=Z==="tozero",K=Z==="nonnegative",re=b._length,le=re/10,te=0,ee,ue,se,ve,be,Ee;for(O=0;O<G.length;O++)for(ee=G[O],F=0;F<Y.length;F++)ue=Y[F],Ee=ue.val-ee.val-n(b,ee.val,ue.val),Ee>0&&(be=re-U(ee)-H(ue),be>le?Ee/be>te&&(se=ee,ve=ue,te=Ee/be):Ee/re>te&&(se={val:ee.val,nopad:1},ve={val:ue.val,nopad:1},te=Ee/re));function Ae(Ce,Ve){return Math.max(Ce,H(Ve))}if(J===ae){var Oe=J-1,Ue=J+1;if($)if(J===0)V=[0,1];else{var Le=(J>0?Y:G).reduce(Ae,0),we=J/(1-Math.min(.5,Le/re));V=J>0?[0,we]:[we,0]}else K?V=[Math.max(0,Oe),Math.max(1,Ue)]:V=[Oe,Ue]}else $?(se.val>=0&&(se={val:0,nopad:1}),ve.val<=0&&(ve={val:0,nopad:1})):K&&(se.val-te*U(se)<0&&(se={val:0,nopad:1}),ve.val<=0&&(ve={val:1,nopad:1})),te=(ve.val-se.val-n(b,ee.val,ue.val))/(re-U(se)-H(ve)),V=[se.val-te*U(se),ve.val+te*H(ve)];return V=i(V,b),b.limitRange&&b.limitRange(),he&&V.reverse(),a.simpleMap(V,b.l2r||Number)}function n(D,b,O){var F=0;if(D.rangebreaks)for(var V=D.locateBreaks(b,O),_=0;_<V.length;_++){var U=V[_];F+=U.max-U.min}return F}function l(D,b,O){var F=.05*b._length,V=b._anchorAxis||{};if((b.ticklabelposition||"").indexOf("inside")!==-1||(V.ticklabelposition||"").indexOf("inside")!==-1){var _=b.isReversed();if(!_){var U=a.simpleMap(b.range,b.r2l);_=U[1]<U[0]}_&&(O=!O)}var H=0;return r(D,b._id)||(H=f(D,b,O)),F=Math.max(H,F),b.constrain==="domain"&&b._inputDomain&&(F*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(G){return G.nopad?0:G.pad+(G.extrapad?F:H)}}var c=3;function f(D,b,O){var F=0,V=b._id.charAt(0)==="x";for(var _ in D._plots){var U=D._plots[_];if(!(b._id!==U.xaxis._id&&b._id!==U.yaxis._id)){var H=(V?U.yaxis:U.xaxis)||{};if((H.ticklabelposition||"").indexOf("inside")!==-1&&(!O&&(H.side==="left"||H.side==="bottom")||O&&(H.side==="top"||H.side==="right"))){if(H._vals){var z=a.deg2rad(H._tickAngles[H._id+"tick"]||0),G=Math.abs(Math.cos(z)),Y=Math.abs(Math.sin(z));if(!H._vals[0].bb){var J=H._id+"tick",ae=H._selections[J];ae.each(function(K){var re=p.select(this),le=re.select(".text-math-group");le.empty()&&(K.bb=h.bBox(re.node()))})}for(var oe=0;oe<H._vals.length;oe++){var he=H._vals[oe],q=he.bb;if(q){var Z=2*c+q.width,$=2*c+q.height;F=Math.max(F,V?Math.max(Z*G,$*Y):Math.max($*G,Z*Y))}}}H.ticks==="inside"&&H.ticklabelposition==="inside"&&(F+=H.ticklen||0)}}}return F}function m(D,b,O){var F=b._id,V=D._fullData,_=D._fullLayout,U=[],H=[],z,G,Y;function J(Z,$){for(z=0;z<$.length;z++){var K=Z[$[z]],re=(K._extremes||{})[F];if(K.visible===!0&&re){for(G=0;G<re.min.length;G++)Y=re.min[G],d(U,Y.val,Y.pad,{extrapad:Y.extrapad});for(G=0;G<re.max.length;G++)Y=re.max[G],u(H,Y.val,Y.pad,{extrapad:Y.extrapad})}}}if(J(V,b._traceIndices),J(_.annotations||[],b._annIndices||[]),J(_.shapes||[],b._shapeIndices||[]),b._matchGroup&&!O){for(var ae in b._matchGroup)if(ae!==b._id){var oe=t(D,ae),he=m(D,oe,!0),q=b._length/oe._length;for(G=0;G<he.min.length;G++)Y=he.min[G],d(U,Y.val,Y.pad*q,{extrapad:Y.extrapad});for(G=0;G<he.max.length;G++)Y=he.max[G],u(H,Y.val,Y.pad*q,{extrapad:Y.extrapad})}}return{min:U,max:H}}function v(D,b,O){if(b.setScale(),b.autorange){b.range=O?O.slice():s(D,b),b._r=b.range.slice(),b._rl=a.simpleMap(b._r,b.r2l);var F=b._input,V={};V[b._attr+".range"]=b.range,V[b._attr+".autorange"]=b.autorange,w.call("_storeDirectGUIEdit",D.layout,D._fullLayout._preGUI,V),F.range=b.range.slice(),F.autorange=b.autorange}var _=b._anchorAxis;if(_&&_.rangeslider){var U=_.rangeslider[b._name];U&&U.rangemode==="auto"&&(U.range=s(D,b)),_._input.rangeslider[b._name]=a.extendFlat({},U)}}function A(D,b,O){O||(O={}),D._m||D.setScale();var F=[],V=[],_=b.length,U=O.padded||!1,H=O.tozero&&(D.type==="linear"||D.type==="-"),z=D.type==="log",G=!1,Y=O.vpadLinearized||!1,J,ae,oe,he,q,Z,$,K,re;function le(Ae){if(Array.isArray(Ae))return G=!0,function(Ue){return Math.max(Number(Ae[Ue]||0),0)};var Oe=Math.max(Number(Ae||0),0);return function(){return Oe}}var te=le((D._m>0?O.ppadplus:O.ppadminus)||O.ppad||0),ee=le((D._m>0?O.ppadminus:O.ppadplus)||O.ppad||0),ue=le(O.vpadplus||O.vpad),se=le(O.vpadminus||O.vpad);if(!G){if(K=1/0,re=-1/0,z)for(J=0;J<_;J++)ae=b[J],ae<K&&ae>0&&(K=ae),ae>re&&ae<C&&(re=ae);else for(J=0;J<_;J++)ae=b[J],ae<K&&ae>-C&&(K=ae),ae>re&&ae<C&&(re=ae);b=[K,re],_=2}var ve={tozero:H,extrapad:U};function be(Ae){oe=b[Ae],L(oe)&&(Z=te(Ae),$=ee(Ae),Y?(he=D.c2l(oe)-se(Ae),q=D.c2l(oe)+ue(Ae)):(K=oe-se(Ae),re=oe+ue(Ae),z&&K<re/10&&(K=re/10),he=D.c2l(K),q=D.c2l(re)),H&&(he=Math.min(0,he),q=Math.max(0,q)),M(he)&&d(F,he,$,ve),M(q)&&u(V,q,Z,ve))}var Ee=Math.min(6,_);for(J=0;J<Ee;J++)be(J);for(J=_-1;J>=Ee;J--)be(J);return{min:F,max:V,opts:O}}function d(D,b,O,F){y(D,b,O,F,S)}function u(D,b,O,F){y(D,b,O,F,R)}function y(D,b,O,F,V){for(var _=F.tozero,U=F.extrapad,H=!0,z=0;z<D.length&&H;z++){var G=D[z];if(V(G.val,b)&&G.pad>=O&&(G.extrapad||!U)){H=!1;break}else V(b,G.val)&&G.pad<=O&&(U||!G.extrapad)&&(D.splice(z,1),z--)}if(H){var Y=_&&b===0;D.push({val:b,pad:Y?0:O,extrapad:Y?!1:U})}}function M(D){return L(D)&&Math.abs(D)<C}function S(D,b){return D<=b}function R(D,b){return D>=b}function x(D,b){var O=b.autorangeoptions;return O&&O.minallowed!==void 0&&T(b,O.minallowed,O.maxallowed)?O.minallowed:O&&O.clipmin!==void 0&&T(b,O.clipmin,O.clipmax)?Math.max(D,b.d2l(O.clipmin)):D}function E(D,b){var O=b.autorangeoptions;return O&&O.maxallowed!==void 0&&T(b,O.minallowed,O.maxallowed)?O.maxallowed:O&&O.clipmax!==void 0&&T(b,O.clipmin,O.clipmax)?Math.min(D,b.d2l(O.clipmax)):D}function T(D,b,O){return b!==void 0&&O!==void 0?(b=D.d2l(b),O=D.d2l(O),b<O):!0}function i(D,b){if(!b||!b.autorangeoptions)return D;var O=D[0],F=D[1],V=b.autorangeoptions.include;if(V!==void 0){var _=b.d2l(O),U=b.d2l(F);a.isArrayOrTypedArray(V)||(V=[V]);for(var H=0;H<V.length;H++){var z=b.d2l(V[H]);_>=z&&(_=z,O=z),U<=z&&(U=z,F=z)}}return O=x(O,b),F=E(F,b),[O,F]}},23074:function(B){B.exports=function(e,p,L){var a,C;if(L){var w=p==="reversed"||p==="min reversed"||p==="max reversed";a=L[w?1:0],C=L[w?0:1]}var h=e("autorangeoptions.minallowed",C===null?a:void 0),g=e("autorangeoptions.maxallowed",a===null?C:void 0);h===void 0&&e("autorangeoptions.clipmin"),g===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(B,N,e){var p=e(39898),L=e(92770),a=e(74875),C=e(73972),w=e(71828),h=w.strTranslate,g=e(63893),t=e(92998),r=e(7901),s=e(91424),n=e(13838),l=e(66287),c=e(50606),f=c.ONEMAXYEAR,m=c.ONEAVGYEAR,v=c.ONEMINYEAR,A=c.ONEMAXQUARTER,d=c.ONEAVGQUARTER,u=c.ONEMINQUARTER,y=c.ONEMAXMONTH,M=c.ONEAVGMONTH,S=c.ONEMINMONTH,R=c.ONEWEEK,x=c.ONEDAY,E=x/2,T=c.ONEHOUR,i=c.ONEMIN,D=c.ONESEC,b=c.MINUS_SIGN,O=c.BADNUM,F={K:"zeroline"},V={K:"gridline",L:"path"},_={K:"minor-gridline",L:"path"},U={K:"tick",L:"path"},H={K:"tick",L:"text"},z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},G=e(18783),Y=G.MID_SHIFT,J=G.CAP_SHIFT,ae=G.LINE_SPACING,oe=G.OPPOSITE_SIDE,he=3,q=B.exports={};q.setConvert=e(21994);var Z=e(4322),$=e(41675),K=$.idSort,re=$.isLinked;q.id2name=$.id2name,q.name2id=$.name2id,q.cleanId=$.cleanId,q.list=$.list,q.listIds=$.listIds,q.getFromId=$.getFromId,q.getFromTrace=$.getFromTrace;var le=e(71739);q.getAutoRange=le.getAutoRange,q.findExtremes=le.findExtremes;var te=1e-4;function ee(Ye){var je=(Ye[1]-Ye[0])*te;return[Ye[0]-je,Ye[1]+je]}q.coerceRef=function(Ye,je,It,kt,jt,tr){var or=kt.charAt(kt.length-1),rr=It._fullLayout._subplots[or+"axis"],_t=kt+"ref",hr={};return jt||(jt=rr[0]||(typeof tr=="string"?tr:tr[0])),tr||(tr=jt),rr=rr.concat(rr.map(function(gr){return gr+" domain"})),hr[_t]={valType:"enumerated",values:rr.concat(tr?typeof tr=="string"?[tr]:tr:[]),dflt:jt},w.coerce(Ye,je,hr,_t)},q.getRefType=function(Ye){return Ye===void 0?Ye:Ye==="paper"?"paper":Ye==="pixel"?"pixel":/( domain)$/.test(Ye)?"domain":"range"},q.coercePosition=function(Ye,je,It,kt,jt,tr){var or,rr,_t=q.getRefType(kt);if(_t!=="range")or=w.ensureNumber,rr=It(jt,tr);else{var hr=q.getFromId(je,kt);tr=hr.fraction2r(tr),rr=It(jt,tr),or=hr.cleanPos}Ye[jt]=or(rr)},q.cleanPosition=function(Ye,je,It){var kt=It==="paper"||It==="pixel"?w.ensureNumber:q.getFromId(je,It).cleanPos;return kt(Ye)},q.redrawComponents=function(Ye,je){je=je||q.listIds(Ye);var It=Ye._fullLayout;function kt(jt,tr,or,rr){for(var _t=C.getComponentMethod(jt,tr),hr={},gr=0;gr<je.length;gr++)for(var pr=It[q.id2name(je[gr])],vr=pr[or],Gr=0;Gr<vr.length;Gr++){var Fr=vr[Gr];if(!hr[Fr]&&(_t(Ye,Fr),hr[Fr]=1,rr))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var ue=q.getDataConversions=function(Ye,je,It,kt){var jt,tr=It==="x"||It==="y"||It==="z"?It:kt;if(Array.isArray(tr)){if(jt={type:Z(kt,void 0,{autotypenumbers:Ye._fullLayout.autotypenumbers}),_categories:[]},q.setConvert(jt),jt.type==="category")for(var or=0;or<kt.length;or++)jt.d2c(kt[or])}else jt=q.getFromTrace(Ye,je,tr);return jt?{d2c:jt.d2c,c2d:jt.c2d}:tr==="ids"?{d2c:ve,c2d:ve}:{d2c:se,c2d:se}};function se(Ye){return+Ye}function ve(Ye){return String(Ye)}q.getDataToCoordFunc=function(Ye,je,It,kt){return ue(Ye,je,It,kt).d2c},q.counterLetter=function(Ye){var je=Ye.charAt(0);if(je==="x")return"y";if(je==="y")return"x"},q.minDtick=function(Ye,je,It,kt){["log","category","multicategory"].indexOf(Ye.type)!==-1||!kt?Ye._minDtick=0:Ye._minDtick===void 0?(Ye._minDtick=je,Ye._forceTick0=It):Ye._minDtick&&((Ye._minDtick/je+1e-6)%1<2e-6&&((It-Ye._forceTick0)/je%1+1.000001)%1<2e-6?(Ye._minDtick=je,Ye._forceTick0=It):((je/Ye._minDtick+1e-6)%1>2e-6||((It-Ye._forceTick0)/Ye._minDtick%1+1.000001)%1>2e-6)&&(Ye._minDtick=0))},q.saveRangeInitial=function(Ye,je){for(var It=q.list(Ye,"",!0),kt=!1,jt=0;jt<It.length;jt++){var tr=It[jt],or=tr._rangeInitial0===void 0&&tr._rangeInitial1===void 0,rr=or||tr.range[0]!==tr._rangeInitial0||tr.range[1]!==tr._rangeInitial1,_t=tr.autorange;(or&&_t!==!0||je&&rr)&&(tr._rangeInitial0=_t==="min"||_t==="max reversed"?void 0:tr.range[0],tr._rangeInitial1=_t==="max"||_t==="min reversed"?void 0:tr.range[1],tr._autorangeInitial=_t,kt=!0)}return kt},q.saveShowSpikeInitial=function(Ye,je){for(var It=q.list(Ye,"",!0),kt=!1,jt="on",tr=0;tr<It.length;tr++){var or=It[tr],rr=or._showSpikeInitial===void 0,_t=rr||or.showspikes!==or._showspikes;(rr||je&&_t)&&(or._showSpikeInitial=or.showspikes,kt=!0),jt==="on"&&!or.showspikes&&(jt="off")}return Ye._fullLayout._cartesianSpikesEnabled=jt,kt},q.autoBin=function(Ye,je,It,kt,jt,tr){var or=w.aggNums(Math.min,null,Ye),rr=w.aggNums(Math.max,null,Ye);if(je.type==="category"||je.type==="multicategory")return{start:or-.5,end:rr+.5,size:Math.max(1,Math.round(tr)||1),_dataSpan:rr-or};jt||(jt=je.calendar);var _t;if(je.type==="log"?_t={type:"linear",range:[or,rr]}:_t={type:je.type,range:w.simpleMap([or,rr],je.c2r,0,jt),calendar:jt},q.setConvert(_t),tr=tr&&l.dtick(tr,_t.type),tr)_t.dtick=tr,_t.tick0=l.tick0(void 0,_t.type,jt);else{var hr;if(It)hr=(rr-or)/It;else{var gr=w.distinctVals(Ye),pr=Math.pow(10,Math.floor(Math.log(gr.minDiff)/Math.LN10)),vr=pr*w.roundUp(gr.minDiff/pr,[.9,1.9,4.9,9.9],!0);hr=Math.max(vr,2*w.stdev(Ye)/Math.pow(Ye.length,kt?.25:.4)),L(hr)||(hr=1)}q.autoTicks(_t,hr)}var Gr=_t.dtick,Fr=q.tickIncrement(q.tickFirst(_t),Gr,"reverse",jt),_r,gn;if(typeof Gr=="number")Fr=be(Fr,Ye,_t,or,rr),gn=1+Math.floor((rr-Fr)/Gr),_r=Fr+gn*Gr;else for(_t.dtick.charAt(0)==="M"&&(Fr=Ee(Fr,Ye,Gr,or,jt)),_r=Fr,gn=0;_r<=rr;)_r=q.tickIncrement(_r,Gr,!1,jt),gn++;return{start:je.c2r(Fr,0,jt),end:je.c2r(_r,0,jt),size:Gr,_dataSpan:rr-or}};function be(Ye,je,It,kt,jt){var tr=0,or=0,rr=0,_t=0;function hr(Gr){return(1+(Gr-Ye)*100/It.dtick)%100<2}for(var gr=0;gr<je.length;gr++)je[gr]%1===0?rr++:L(je[gr])||_t++,hr(je[gr])&&tr++,hr(je[gr]+It.dtick/2)&&or++;var pr=je.length-_t;if(rr===pr&&It.type!=="date")It.dtick<1?Ye=kt-.5*It.dtick:(Ye-=.5,Ye+It.dtick<kt&&(Ye+=It.dtick));else if(or<pr*.1&&(tr>pr*.3||hr(kt)||hr(jt))){var vr=It.dtick/2;Ye+=Ye+vr<kt?vr:-vr}return Ye}function Ee(Ye,je,It,kt,jt){var tr=w.findExactDates(je,jt),or=.8;if(tr.exactDays>or){var rr=Number(It.substr(1));tr.exactYears>or&&rr%12===0?Ye=q.tickIncrement(Ye,"M6","reverse")+x*1.5:tr.exactMonths>or?Ye=q.tickIncrement(Ye,"M1","reverse")+x*15.5:Ye-=E;var _t=q.tickIncrement(Ye,It);if(_t<=kt)return _t}return Ye}q.prepMinorTicks=function(Ye,je,It){if(!je.minor.dtick){delete Ye.dtick;var kt=je.dtick&&L(je._tmin),jt;if(kt){var tr=q.tickIncrement(je._tmin,je.dtick,!0);jt=[je._tmin,tr*.99+je._tmin*.01]}else{var or=w.simpleMap(je.range,je.r2l);jt=[or[0],.8*or[0]+.2*or[1]]}if(Ye.range=w.simpleMap(jt,je.l2r),Ye._isMinor=!0,q.prepTicks(Ye,It),kt){var rr=L(je.dtick),_t=L(Ye.dtick),hr=rr?je.dtick:+je.dtick.substring(1),gr=_t?Ye.dtick:+Ye.dtick.substring(1);rr&&_t?Ae(hr,gr)?hr===2*R&&gr===2*x&&(Ye.dtick=R):hr===2*R&&gr===3*x?Ye.dtick=R:hr===R&&!(je._input.minor||{}).nticks?Ye.dtick=x:Oe(hr/gr,2.5)?Ye.dtick=hr/2:Ye.dtick=hr:String(je.dtick).charAt(0)==="M"?_t?Ye.dtick="M1":Ae(hr,gr)?hr>=12&&gr===2&&(Ye.dtick="M3"):Ye.dtick=je.dtick:String(Ye.dtick).charAt(0)==="L"?String(je.dtick).charAt(0)==="L"?Ae(hr,gr)||(Ye.dtick=Oe(hr/gr,2.5)?je.dtick/2:je.dtick):Ye.dtick="D1":Ye.dtick==="D2"&&+je.dtick>1&&(Ye.dtick=1)}Ye.range=je.range}je.minor._tick0Init===void 0&&(Ye.tick0=je.tick0)};function Ae(Ye,je){return Math.abs((Ye/je+.5)%1-.5)<.001}function Oe(Ye,je){return Math.abs(Ye/je-1)<.001}q.prepTicks=function(Ye,je){var It=w.simpleMap(Ye.range,Ye.r2l,void 0,void 0,je);if(Ye.tickmode==="auto"||!Ye.dtick){var kt=Ye.nticks,jt;kt||(Ye.type==="category"||Ye.type==="multicategory"?(jt=Ye.tickfont?w.bigFont(Ye.tickfont.size||12):15,kt=Ye._length/jt):(jt=Ye._id.charAt(0)==="y"?40:80,kt=w.constrain(Ye._length/jt,4,9)+1),Ye._name==="radialaxis"&&(kt*=2)),Ye.minor&&Ye.minor.tickmode!=="array"||Ye.tickmode==="array"&&(kt*=100),Ye._roughDTick=Math.abs(It[1]-It[0])/kt,q.autoTicks(Ye,Ye._roughDTick),Ye._minDtick>0&&Ye.dtick<Ye._minDtick*2&&(Ye.dtick=Ye._minDtick,Ye.tick0=Ye.l2r(Ye._forceTick0))}Ye.ticklabelmode==="period"&&Le(Ye),Ye.tick0||(Ye.tick0=Ye.type==="date"?"2000-01-01":0),Ye.type==="date"&&Ye.dtick<.1&&(Ye.dtick=.1),gt(Ye)};function Ue(Ye){return+Ye.substring(1)}function Le(Ye){var je;function It(){return!(L(Ye.dtick)||Ye.dtick.charAt(0)!=="M")}var kt=It(),jt=q.getTickFormat(Ye);if(jt){var tr=Ye._dtickInit!==Ye.dtick;/%[fLQsSMX]/.test(jt)||(/%[HI]/.test(jt)?(je=T,tr&&!kt&&Ye.dtick<T&&(Ye.dtick=T)):/%p/.test(jt)?(je=E,tr&&!kt&&Ye.dtick<E&&(Ye.dtick=E)):/%[Aadejuwx]/.test(jt)?(je=x,tr&&!kt&&Ye.dtick<x&&(Ye.dtick=x)):/%[UVW]/.test(jt)?(je=R,tr&&!kt&&Ye.dtick<R&&(Ye.dtick=R)):/%[Bbm]/.test(jt)?(je=M,tr&&(kt?Ue(Ye.dtick)<1:Ye.dtick<S)&&(Ye.dtick="M1")):/%[q]/.test(jt)?(je=d,tr&&(kt?Ue(Ye.dtick)<3:Ye.dtick<u)&&(Ye.dtick="M3")):/%[Yy]/.test(jt)&&(je=m,tr&&(kt?Ue(Ye.dtick)<12:Ye.dtick<v)&&(Ye.dtick="M12")))}kt=It(),kt&&Ye.tick0===Ye._dowTick0&&(Ye.tick0=Ye._rawTick0),Ye._definedDelta=je}function we(Ye,je,It){for(var kt=0;kt<Ye.length;kt++){var jt=Ye[kt].value,tr=kt,or=kt+1;kt<Ye.length-1?(tr=kt,or=kt+1):kt>0?(tr=kt-1,or=kt):(tr=kt,or=kt);var rr=Ye[tr].value,_t=Ye[or].value,hr=Math.abs(_t-rr),gr=It||hr,pr=0;gr>=v?hr>=v&&hr<=f?pr=hr:pr=m:It===d&&gr>=u?hr>=u&&hr<=A?pr=hr:pr=d:gr>=S?hr>=S&&hr<=y?pr=hr:pr=M:It===R&&gr>=R?pr=R:gr>=x?pr=x:It===E&&gr>=E?pr=E:It===T&&gr>=T&&(pr=T);var vr;pr>=hr&&(pr=hr,vr=!0);var Gr=jt+pr;if(je.rangebreaks&&pr>0){for(var Fr=84,_r=0,gn=0;gn<Fr;gn++){var tn=(gn+.5)/Fr;je.maskBreaks(jt*(1-tn)+tn*Gr)!==O&&_r++}pr*=_r/Fr,pr||(Ye[kt].drop=!0),vr&&hr>R&&(pr=hr)}(pr>0||kt===0)&&(Ye[kt].periodX=jt+pr/2)}}q.calcTicks=function(je,It){for(var kt=je.type,jt=je.calendar,tr=je.ticklabelstep,or=je.ticklabelmode==="period",rr=w.simpleMap(je.range,je.r2l,void 0,void 0,It),_t=rr[1]<rr[0],hr=Math.min(rr[0],rr[1]),gr=Math.max(rr[0],rr[1]),pr=Math.max(1e3,je._length||0),vr=[],Gr=[],Fr=[],_r=[],gn=je.minor&&(je.minor.ticks||je.minor.showgrid),tn=1;tn>=(gn?0:1);tn--){var Bn=!tn;tn?(je._dtickInit=je.dtick,je._tick0Init=je.tick0):(je.minor._dtickInit=je.minor.dtick,je.minor._tick0Init=je.minor.tick0);var An=tn?je:w.extendFlat({},je,je.minor);if(Bn?q.prepMinorTicks(An,je,It):q.prepTicks(An,It),An.tickmode==="array"){tn?(Fr=[],vr=Ne(je)):(_r=[],Gr=Ne(je));continue}if(An.tickmode==="sync"){Fr=[],vr=Ve(je);continue}var Mr=ee(rr),Cr=Mr[0],jr=Mr[1],Hr=L(An.dtick),on=kt==="log"&&!(Hr||An.dtick.charAt(0)==="L"),yn=q.tickFirst(An,It);if(tn){if(je._tmin=yn,yn<Cr!==_t)break;(kt==="category"||kt==="multicategory")&&(jr=_t?Math.max(-.5,jr):Math.min(je._categories.length-.5,jr))}var xn=null,Rn=yn,_n;if(tn){var sa;Hr?sa=je.dtick:kt==="date"?typeof je.dtick=="string"&&je.dtick.charAt(0)==="M"&&(sa=M*je.dtick.substring(1)):sa=je._roughDTick,_n=Math.round((je.r2l(Rn)-je.r2l(je.tick0))/sa)-1}var Zn=An.dtick;for(An.rangebreaks&&An._tick0Init!==An.tick0&&(Rn=Nt(Rn,je),_t||(Rn=q.tickIncrement(Rn,Zn,!_t,jt))),tn&&or&&(Rn=q.tickIncrement(Rn,Zn,!_t,jt),_n--);_t?Rn>=jr:Rn<=jr;Rn=q.tickIncrement(Rn,Zn,_t,jt)){if(tn&&_n++,An.rangebreaks&&!_t){if(Rn<Cr)continue;if(An.maskBreaks(Rn)===O&&Nt(Rn,An)>=gr)break}if(Fr.length>pr||Rn===xn)break;xn=Rn;var qn={value:Rn};tn?(on&&Rn!==(Rn|0)&&(qn.simpleLabel=!0),tr>1&&_n%tr&&(qn.skipLabel=!0),Fr.push(qn)):(qn.minor=!0,_r.push(qn))}}if(gn){var jn=je.minor.ticks==="inside"&&je.ticks==="outside"||je.minor.ticks==="outside"&&je.ticks==="inside";if(!jn){for(var Qn=Fr.map(function(Mn){return Mn.value}),Tr=[],ln=0;ln<_r.length;ln++){var nn=_r[ln],mn=nn.value;if(Qn.indexOf(mn)===-1){for(var Vn=!1,En=0;!Vn&&En<Fr.length;En++)1e7+Fr[En].value===1e7+mn&&(Vn=!0);Vn||Tr.push(nn)}}_r=Tr}}or&&we(Fr,je,je._definedDelta);var Cn;if(je.rangebreaks){var Nn=je._id.charAt(0)==="y",ta=1;je.tickmode==="auto"&&(ta=je.tickfont?je.tickfont.size:12);var wa=NaN;for(Cn=Fr.length-1;Cn>-1;Cn--){if(Fr[Cn].drop){Fr.splice(Cn,1);continue}Fr[Cn].value=Nt(Fr[Cn].value,je);var Ka=je.c2p(Fr[Cn].value);(Nn?wa>Ka-ta:wa<Ka+ta)?Fr.splice(_t?Cn+1:Cn,1):wa=Ka}}Bt(je)&&Math.abs(rr[1]-rr[0])===360&&Fr.pop(),je._tmax=(Fr[Fr.length-1]||{}).value,je._prevDateHead="",je._inCalcTicks=!0;var Yt,wr=function(Mn){Mn.text="",je._prevDateHead=Yt};Fr=Fr.concat(_r);var rn,fn;for(Cn=0;Cn<Fr.length;Cn++){var hn=Fr[Cn].minor,In=Fr[Cn].value;hn?Gr.push({x:In,minor:!0}):(Yt=je._prevDateHead,rn=q.tickText(je,In,!1,Fr[Cn].simpleLabel),fn=Fr[Cn].periodX,fn!==void 0&&(rn.periodX=fn,(fn>gr||fn<hr)&&(fn>gr&&(rn.periodX=gr),fn<hr&&(rn.periodX=hr),wr(rn))),Fr[Cn].skipLabel&&wr(rn),vr.push(rn))}return vr=vr.concat(Gr),je._inCalcTicks=!1,or&&vr.length&&(vr[0].noTick=!0),vr};function Ce(Ye,je){return Ye.rangebreaks&&(je=je.filter(function(It){return Ye.maskBreaks(It.x)!==O})),je}function Ve(Ye){var je=Ye._mainAxis,It=[];if(je._vals){for(var kt=0;kt<je._vals.length;kt++)if(!je._vals[kt].noTick){var jt=je.l2p(je._vals[kt].x),tr=Ye.p2l(jt),or=q.tickText(Ye,tr);je._vals[kt].minor&&(or.minor=!0,or.text=""),It.push(or)}}return It=Ce(Ye,It),It}function Ne(Ye){var je=w.simpleMap(Ye.range,Ye.r2l),It=ee(je),kt=Math.min(It[0],It[1]),jt=Math.max(It[0],It[1]),tr=Ye.type==="category"?Ye.d2l_noadd:Ye.d2l;Ye.type==="log"&&String(Ye.dtick).charAt(0)!=="L"&&(Ye.dtick="L"+Math.pow(10,Math.floor(Math.min(Ye.range[0],Ye.range[1]))-1));for(var or=[],rr=0;rr<=1;rr++)if(!(rr&&!Ye.minor)){var _t=rr?Ye.minor.tickvals:Ye.tickvals,hr=rr?[]:Ye.ticktext;if(_t){Array.isArray(hr)||(hr=[]);for(var gr=0;gr<_t.length;gr++){var pr=tr(_t[gr]);if(pr>kt&&pr<jt){var vr=hr[gr]===void 0?q.tickText(Ye,pr):Et(Ye,pr,String(hr[gr]));rr&&(vr.minor=!0,vr.text=""),or.push(vr)}}}}return or=Ce(Ye,or),or}var ke=[2,5,10],We=[1,2,3,6,12],rt=[1,2,5,10,15,30],et=[1,2,3,7,14],tt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],at=[-.301,0,.301,.699,1],ct=[15,30,45,90,180];function dt(Ye,je,It){return je*w.roundUp(Ye/je,It)}q.autoTicks=function(Ye,je,It){var kt;function jt(pr){return Math.pow(pr,Math.floor(Math.log(je)/Math.LN10))}if(Ye.type==="date"){Ye.tick0=w.dateTick0(Ye.calendar,0);var tr=2*je;if(tr>m)je/=m,kt=jt(10),Ye.dtick="M"+12*dt(je,kt,ke);else if(tr>M)je/=M,Ye.dtick="M"+dt(je,1,We);else if(tr>x){if(Ye.dtick=dt(je,x,Ye._hasDayOfWeekBreaks?[1,2,7,14]:et),!It){var or=q.getTickFormat(Ye),rr=Ye.ticklabelmode==="period";rr&&(Ye._rawTick0=Ye.tick0),/%[uVW]/.test(or)?Ye.tick0=w.dateTick0(Ye.calendar,2):Ye.tick0=w.dateTick0(Ye.calendar,1),rr&&(Ye._dowTick0=Ye.tick0)}}else tr>T?Ye.dtick=dt(je,T,We):tr>i?Ye.dtick=dt(je,i,rt):tr>D?Ye.dtick=dt(je,D,rt):(kt=jt(10),Ye.dtick=dt(je,kt,ke))}else if(Ye.type==="log"){Ye.tick0=0;var _t=w.simpleMap(Ye.range,Ye.r2l);if(Ye._isMinor&&(je*=1.5),je>.7)Ye.dtick=Math.ceil(je);else if(Math.abs(_t[1]-_t[0])<1){var hr=1.5*Math.abs((_t[1]-_t[0])/je);je=Math.abs(Math.pow(10,_t[1])-Math.pow(10,_t[0]))/hr,kt=jt(10),Ye.dtick="L"+dt(je,kt,ke)}else Ye.dtick=je>.3?"D2":"D1"}else Ye.type==="category"||Ye.type==="multicategory"?(Ye.tick0=0,Ye.dtick=Math.ceil(Math.max(je,1))):Bt(Ye)?(Ye.tick0=0,kt=1,Ye.dtick=dt(je,kt,ct)):(Ye.tick0=0,kt=jt(10),Ye.dtick=dt(je,kt,ke));if(Ye.dtick===0&&(Ye.dtick=1),!L(Ye.dtick)&&typeof Ye.dtick!="string"){var gr=Ye.dtick;throw Ye.dtick=1,"ax.dtick error: "+String(gr)}};function gt(Ye){var je=Ye.dtick;if(Ye._tickexponent=0,!L(je)&&typeof je!="string"&&(je=1),(Ye.type==="category"||Ye.type==="multicategory")&&(Ye._tickround=null),Ye.type==="date"){var It=Ye.r2l(Ye.tick0),kt=Ye.l2r(It).replace(/(^-|i)/g,""),jt=kt.length;if(String(je).charAt(0)==="M")jt>10||kt.substr(5)!=="01-01"?Ye._tickround="d":Ye._tickround=+je.substr(1)%12===0?"y":"m";else if(je>=x&&jt<=10||je>=x*15)Ye._tickround="d";else if(je>=i&&jt<=16||je>=T)Ye._tickround="M";else if(je>=D&&jt<=19||je>=i)Ye._tickround="S";else{var tr=Ye.l2r(It+je).replace(/^-/,"").length;Ye._tickround=Math.max(jt,tr)-20,Ye._tickround<0&&(Ye._tickround=4)}}else if(L(je)||je.charAt(0)==="L"){var or=Ye.range.map(Ye.r2d||Number);L(je)||(je=Number(je.substr(1))),Ye._tickround=2-Math.floor(Math.log(je)/Math.LN10+.01);var rr=Math.max(Math.abs(or[0]),Math.abs(or[1])),_t=Math.floor(Math.log(rr)/Math.LN10+.01),hr=Ye.minexponent===void 0?3:Ye.minexponent;Math.abs(_t)>hr&&(xe(Ye.exponentformat)&&!Me(_t)?Ye._tickexponent=3*Math.round((_t-1)/3):Ye._tickexponent=_t)}else Ye._tickround=null}q.tickIncrement=function(Ye,je,It,kt){var jt=It?-1:1;if(L(je))return w.increment(Ye,jt*je);var tr=je.charAt(0),or=jt*Number(je.substr(1));if(tr==="M")return w.incrementMonth(Ye,or,kt);if(tr==="L")return Math.log(Math.pow(10,Ye)+or)/Math.LN10;if(tr==="D"){var rr=je==="D2"?at:tt,_t=Ye+jt*.01,hr=w.roundUp(w.mod(_t,1),rr,It);return Math.floor(_t)+Math.log(p.round(Math.pow(10,hr),1))/Math.LN10}throw"unrecognized dtick "+String(je)},q.tickFirst=function(Ye,je){var It=Ye.r2l||Number,kt=w.simpleMap(Ye.range,It,void 0,void 0,je),jt=kt[1]<kt[0],tr=jt?Math.floor:Math.ceil,or=ee(kt)[0],rr=Ye.dtick,_t=It(Ye.tick0);if(L(rr)){var hr=tr((or-_t)/rr)*rr+_t;return(Ye.type==="category"||Ye.type==="multicategory")&&(hr=w.constrain(hr,0,Ye._categories.length-1)),hr}var gr=rr.charAt(0),pr=Number(rr.substr(1));if(gr==="M"){for(var vr=0,Gr=_t,Fr,_r,gn;vr<10;){if(Fr=q.tickIncrement(Gr,rr,jt,Ye.calendar),(Fr-or)*(Gr-or)<=0)return jt?Math.min(Gr,Fr):Math.max(Gr,Fr);_r=(or-(Gr+Fr)/2)/(Fr-Gr),gn=gr+(Math.abs(Math.round(_r))||1)*pr,Gr=q.tickIncrement(Gr,gn,_r<0?!jt:jt,Ye.calendar),vr++}return w.error("tickFirst did not converge",Ye),Gr}else{if(gr==="L")return Math.log(tr((Math.pow(10,or)-_t)/pr)*pr+_t)/Math.LN10;if(gr==="D"){var tn=rr==="D2"?at:tt,Bn=w.roundUp(w.mod(or,1),tn,jt);return Math.floor(or)+Math.log(p.round(Math.pow(10,Bn),1))/Math.LN10}else throw"unrecognized dtick "+String(rr)}},q.tickText=function(Ye,je,It,kt){var jt=Et(Ye,je),tr=Ye.tickmode==="array",or=It||tr,rr=Ye.type,_t=rr==="category"?Ye.d2l_noadd:Ye.d2l,hr;if(tr&&Array.isArray(Ye.ticktext)){var gr=w.simpleMap(Ye.range,Ye.r2l),pr=(Math.abs(gr[1]-gr[0])-(Ye._lBreaks||0))/1e4;for(hr=0;hr<Ye.ticktext.length&&!(Math.abs(je-_t(Ye.tickvals[hr]))<pr);hr++);if(hr<Ye.ticktext.length)return jt.text=String(Ye.ticktext[hr]),jt}function vr(gn){if(gn===void 0)return!0;if(It)return gn==="none";var tn={first:Ye._tmin,last:Ye._tmax}[gn];return gn!=="all"&&je!==tn}var Gr=It?"never":Ye.exponentformat!=="none"&&vr(Ye.showexponent)?"hide":"";if(rr==="date"?Ct(Ye,jt,It,or):rr==="log"?Vt(Ye,jt,It,or,Gr):rr==="category"?Je(Ye,jt):rr==="multicategory"?_e(Ye,jt,It):Bt(Ye)?Be(Ye,jt,It,or,Gr):Fe(Ye,jt,It,or,Gr),kt||(Ye.tickprefix&&!vr(Ye.showtickprefix)&&(jt.text=Ye.tickprefix+jt.text),Ye.ticksuffix&&!vr(Ye.showticksuffix)&&(jt.text+=Ye.ticksuffix)),Ye.labelalias&&Ye.labelalias.hasOwnProperty(jt.text)){var Fr=Ye.labelalias[jt.text];typeof Fr=="string"&&(jt.text=Fr)}if(Ye.tickson==="boundaries"||Ye.showdividers){var _r=function(gn){var tn=Ye.l2p(gn);return tn>=0&&tn<=Ye._length?gn:null};jt.xbnd=[_r(jt.x-.5),_r(jt.x+Ye.dtick-.5)]}return jt},q.hoverLabelText=function(Ye,je,It){It&&(Ye=w.extendFlat({},Ye,{hoverformat:It}));var kt=Array.isArray(je)?je[0]:je,jt=Array.isArray(je)?je[1]:void 0;if(jt!==void 0&&jt!==kt)return q.hoverLabelText(Ye,kt,It)+" - "+q.hoverLabelText(Ye,jt,It);var tr=Ye.type==="log"&&kt<=0,or=q.tickText(Ye,Ye.c2l(tr?-kt:kt),"hover").text;return tr?kt===0?"0":b+or:or};function Et(Ye,je,It){var kt=Ye.tickfont||{};return{x:je,dx:0,dy:0,text:It||"",fontSize:kt.size,font:kt.family,fontColor:kt.color}}function Ct(Ye,je,It,kt){var jt=Ye._tickround,tr=It&&Ye.hoverformat||q.getTickFormat(Ye);kt=!tr&&kt,kt&&(L(jt)?jt=4:jt={y:"m",m:"d",d:"M",M:"S",S:4}[jt]);var or=w.formatDate(je.x,tr,jt,Ye._dateFormat,Ye.calendar,Ye._extraFormat),rr,_t=or.indexOf(`
`);if(_t!==-1&&(rr=or.substr(_t+1),or=or.substr(0,_t)),kt&&(rr!==void 0&&(or==="00:00:00"||or==="00:00")?(or=rr,rr=""):or.length===8&&(or=or.replace(/:00$/,""))),rr)if(It)jt==="d"?or+=", "+rr:or=rr+(or?", "+or:"");else if(!Ye._inCalcTicks||Ye._prevDateHead!==rr)Ye._prevDateHead=rr,or+="<br>"+rr;else{var hr=Xt(Ye),gr=Ye._trueSide||Ye.side;(!hr&&gr==="top"||hr&&gr==="bottom")&&(or+="<br> ")}je.text=or}function Vt(Ye,je,It,kt,jt){var tr=Ye.dtick,or=je.x,rr=Ye.tickformat,_t=typeof tr=="string"&&tr.charAt(0);if(jt==="never"&&(jt=""),kt&&_t!=="L"&&(tr="L3",_t="L"),rr||_t==="L")je.text=Pe(Math.pow(10,or),Ye,jt,kt);else if(L(tr)||_t==="D"&&w.mod(or+.01,1)<.1){var hr=Math.round(or),gr=Math.abs(hr),pr=Ye.exponentformat;pr==="power"||xe(pr)&&Me(hr)?(hr===0?je.text=1:hr===1?je.text="10":je.text="10<sup>"+(hr>1?"":b)+gr+"</sup>",je.fontSize*=1.25):(pr==="e"||pr==="E")&&gr>2?je.text="1"+pr+(hr>0?"+":b)+gr:(je.text=Pe(Math.pow(10,or),Ye,"","fakehover"),tr==="D1"&&Ye._id.charAt(0)==="y"&&(je.dy-=je.fontSize/6))}else if(_t==="D")je.text=String(Math.round(Math.pow(10,w.mod(or,1)))),je.fontSize*=.75;else throw"unrecognized dtick "+String(tr);if(Ye.dtick==="D1"){var vr=String(je.text).charAt(0);(vr==="0"||vr==="1")&&(Ye._id.charAt(0)==="y"?je.dx-=je.fontSize/4:(je.dy+=je.fontSize/2,je.dx+=(Ye.range[1]>Ye.range[0]?1:-1)*je.fontSize*(or<0?.5:.25)))}}function Je(Ye,je){var It=Ye._categories[Math.round(je.x)];It===void 0&&(It=""),je.text=String(It)}function _e(Ye,je,It){var kt=Math.round(je.x),jt=Ye._categories[kt]||[],tr=jt[1]===void 0?"":String(jt[1]),or=jt[0]===void 0?"":String(jt[0]);It?je.text=or+" - "+tr:(je.text=tr,je.text2=or)}function Fe(Ye,je,It,kt,jt){jt==="never"?jt="":Ye.showexponent==="all"&&Math.abs(je.x/Ye.dtick)<1e-6&&(jt="hide"),je.text=Pe(je.x,Ye,jt,kt)}function Be(Ye,je,It,kt,jt){if(Ye.thetaunit==="radians"&&!It){var tr=je.x/180;if(tr===0)je.text="0";else{var or=De(tr);if(or[1]>=100)je.text=Pe(w.deg2rad(je.x),Ye,jt,kt);else{var rr=je.x<0;or[1]===1?or[0]===1?je.text="π":je.text=or[0]+"π":je.text=["<sup>",or[0],"</sup>","⁄","<sub>",or[1],"</sub>","π"].join(""),rr&&(je.text=b+je.text)}}}else je.text=Pe(je.x,Ye,jt,kt)}function De(Ye){function je(rr,_t){return Math.abs(rr-_t)<=1e-6}function It(rr,_t){return je(_t,0)?rr:It(_t,rr%_t)}function kt(rr){for(var _t=1;!je(Math.round(rr*_t)/_t,rr);)_t*=10;return _t}var jt=kt(Ye),tr=Ye*jt,or=Math.abs(It(tr,jt));return[Math.round(tr/or),Math.round(jt/or)]}var Te=["f","p","n","μ","m","","k","M","G","T"];function xe(Ye){return Ye==="SI"||Ye==="B"}function Me(Ye){return Ye>14||Ye<-15}function Pe(Ye,je,It,kt){var jt=Ye<0,tr=je._tickround,or=It||je.exponentformat||"B",rr=je._tickexponent,_t=q.getTickFormat(je),hr=je.separatethousands;if(kt){var gr={exponentformat:or,minexponent:je.minexponent,dtick:je.showexponent==="none"?je.dtick:L(Ye)&&Math.abs(Ye)||1,range:je.showexponent==="none"?je.range.map(je.r2d):[0,Ye||1]};gt(gr),tr=(Number(gr._tickround)||0)+4,rr=gr._tickexponent,je.hoverformat&&(_t=je.hoverformat)}if(_t)return je._numFormat(_t)(Ye).replace(/-/g,b);var pr=Math.pow(10,-tr)/2;if(or==="none"&&(rr=0),Ye=Math.abs(Ye),Ye<pr)Ye="0",jt=!1;else{if(Ye+=pr,rr&&(Ye*=Math.pow(10,-rr),tr+=rr),tr===0)Ye=String(Math.floor(Ye));else if(tr<0){Ye=String(Math.round(Ye)),Ye=Ye.substr(0,Ye.length+tr);for(var vr=tr;vr<0;vr++)Ye+="0"}else{Ye=String(Ye);var Gr=Ye.indexOf(".")+1;Gr&&(Ye=Ye.substr(0,Gr+tr).replace(/\.?0+$/,""))}Ye=w.numSeparate(Ye,je._separators,hr)}if(rr&&or!=="hide"){xe(or)&&Me(rr)&&(or="power");var Fr;rr<0?Fr=b+-rr:or!=="power"?Fr="+"+rr:Fr=String(rr),or==="e"||or==="E"?Ye+=or+Fr:or==="power"?Ye+="×10<sup>"+Fr+"</sup>":or==="B"&&rr===9?Ye+="B":xe(or)&&(Ye+=Te[rr/3+5])}return jt?b+Ye:Ye}q.getTickFormat=function(Ye){var je;function It(_t){return typeof _t!="string"?_t:Number(_t.replace("M",""))*M}function kt(_t,hr){var gr=["L","D"];if(typeof _t==typeof hr){if(typeof _t=="number")return _t-hr;var pr=gr.indexOf(_t.charAt(0)),vr=gr.indexOf(hr.charAt(0));return pr===vr?Number(_t.replace(/(L|D)/g,""))-Number(hr.replace(/(L|D)/g,"")):pr-vr}else return typeof _t=="number"?1:-1}function jt(_t,hr,gr){var pr=gr||function(Fr){return Fr},vr=hr[0],Gr=hr[1];return(!vr&&typeof vr!="number"||pr(vr)<=pr(_t))&&(!Gr&&typeof Gr!="number"||pr(Gr)>=pr(_t))}function tr(_t,hr){var gr=hr[0]===null,pr=hr[1]===null,vr=kt(_t,hr[0])>=0,Gr=kt(_t,hr[1])<=0;return(gr||vr)&&(pr||Gr)}var or,rr;if(Ye.tickformatstops&&Ye.tickformatstops.length>0)switch(Ye.type){case"date":case"linear":{for(je=0;je<Ye.tickformatstops.length;je++)if(rr=Ye.tickformatstops[je],rr.enabled&&jt(Ye.dtick,rr.dtickrange,It)){or=rr;break}break}case"log":{for(je=0;je<Ye.tickformatstops.length;je++)if(rr=Ye.tickformatstops[je],rr.enabled&&tr(Ye.dtick,rr.dtickrange)){or=rr;break}break}}return or?or.value:Ye.tickformat},q.getSubplots=function(Ye,je){var It=Ye._fullLayout._subplots,kt=It.cartesian.concat(It.gl2d||[]),jt=je?q.findSubplotsWithAxis(kt,je):kt;return jt.sort(function(tr,or){var rr=tr.substr(1).split("y"),_t=or.substr(1).split("y");return rr[0]===_t[0]?+rr[1]-+_t[1]:+rr[0]-+_t[0]}),jt},q.findSubplotsWithAxis=function(Ye,je){for(var It=new RegExp(je._id.charAt(0)==="x"?"^"+je._id+"y":je._id+"$"),kt=[],jt=0;jt<Ye.length;jt++){var tr=Ye[jt];It.test(tr)&&kt.push(tr)}return kt},q.makeClipPaths=function(Ye){var je=Ye._fullLayout;if(!je._hasOnlyLargeSploms){var It={_offset:0,_length:je.width,_id:""},kt={_offset:0,_length:je.height,_id:""},jt=q.list(Ye,"x",!0),tr=q.list(Ye,"y",!0),or=[],rr,_t;for(rr=0;rr<jt.length;rr++)for(or.push({x:jt[rr],y:kt}),_t=0;_t<tr.length;_t++)rr===0&&or.push({x:It,y:tr[_t]}),or.push({x:jt[rr],y:tr[_t]});var hr=je._clips.selectAll(".axesclip").data(or,function(gr){return gr.x._id+gr.y._id});hr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(gr){return"clip"+je._uid+gr.x._id+gr.y._id}).append("rect"),hr.exit().remove(),hr.each(function(gr){p.select(this).select("rect").attr({x:gr.x._offset||0,y:gr.y._offset||0,width:gr.x._length||1,height:gr.y._length||1})})}},q.draw=function(Ye,je,It){var kt=Ye._fullLayout;je==="redraw"&&kt._paper.selectAll("g.subplot").each(function(_t){var hr=_t[0],gr=kt._plots[hr];if(gr){var pr=gr.xaxis,vr=gr.yaxis;gr.xaxislayer.selectAll("."+pr._id+"tick").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick").remove(),gr.xaxislayer.selectAll("."+pr._id+"tick2").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick2").remove(),gr.xaxislayer.selectAll("."+pr._id+"divider").remove(),gr.yaxislayer.selectAll("."+vr._id+"divider").remove(),gr.minorGridlayer&&gr.minorGridlayer.selectAll("path").remove(),gr.gridlayer&&gr.gridlayer.selectAll("path").remove(),gr.zerolinelayer&&gr.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+pr._id+"title").remove(),kt._infolayer.select(".g-"+vr._id+"title").remove()}});var jt=!je||je==="redraw"?q.listIds(Ye):je,tr=q.list(Ye),or=tr.filter(function(_t){return _t.autoshift}).map(function(_t){return _t.overlaying});jt.map(function(_t){var hr=q.getFromId(Ye,_t);if(hr.tickmode==="sync"&&hr.overlaying){var gr=jt.findIndex(function(pr){return pr===hr.overlaying});gr>=0&&jt.unshift(jt.splice(gr,1).shift())}});var rr={false:{left:0,right:0}};return w.syncOrAsync(jt.map(function(_t){return function(){if(_t){var hr=q.getFromId(Ye,_t);It||(It={}),It.axShifts=rr,It.overlayingShiftedAx=or;var gr=q.drawOne(Ye,hr,It);return hr._shiftPusher&&sr(hr,hr._fullDepth||0,rr,!0),hr._r=hr.range.slice(),hr._rl=w.simpleMap(hr._r,hr.r2l),gr}}}))},q.drawOne=function(Ye,je,It){It=It||{};var kt=It.axShifts||{},jt=It.overlayingShiftedAx||[],tr,or,rr;je.setScale();var _t=Ye._fullLayout,hr=je._id,gr=hr.charAt(0),pr=q.counterLetter(hr),vr=_t._plots[je._mainSubplot];if(!vr)return;if(je._shiftPusher=je.autoshift||jt.indexOf(je._id)!==-1||jt.indexOf(je.overlaying)!==-1,je._shiftPusher&je.anchor==="free"){var Gr=je.linewidth/2||0;je.ticks==="inside"&&(Gr+=je.ticklen),sr(je,Gr,kt,!0),sr(je,je.shift||0,kt,!1)}(It.skipTitle!==!0||je._shift===void 0)&&(je._shift=dr(je,kt));var Fr=vr[gr+"axislayer"],_r=je._mainLinePosition,gn=_r+=je._shift,tn=je._mainMirrorPosition,Bn=je._vals=q.calcTicks(je),An=[je.mirror,gn,tn].join("_");for(tr=0;tr<Bn.length;tr++)Bn[tr].axInfo=An;je._selections={},je._tickAngles&&(je._prevTickAngles=je._tickAngles),je._tickAngles={},je._depth=null;var Mr={};function Cr(Br){var pn=hr+(Br||"tick");return Mr[pn]||(Mr[pn]=bt(je,pn)),Mr[pn]}if(je.visible){var jr=q.makeTransTickFn(je),Hr=q.makeTransTickLabelFn(je),on,yn,xn=je.ticks==="inside",Rn=je.ticks==="outside";if(je.tickson==="boundaries"){var _n=Ke(je,Bn);yn=q.clipEnds(je,_n),on=xn?yn:_n}else yn=q.clipEnds(je,Bn),on=xn&&je.ticklabelmode!=="period"?yn:Bn;var sa=je._gridVals=yn,Zn=vt(je,Bn);if(!_t._hasOnlyLargeSploms){var qn=je._subplotsWith,jn={};for(tr=0;tr<qn.length;tr++){or=qn[tr],rr=_t._plots[or];var Qn=rr[pr+"axis"],Tr=Qn._mainAxis._id;if(!jn[Tr]){jn[Tr]=1;var ln=gr==="x"?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;q.drawGrid(Ye,je,{vals:sa,counterAxis:Qn,layer:rr.gridlayer.select("."+hr),minorLayer:rr.minorGridlayer.select("."+hr),path:ln,transFn:jr}),q.drawZeroLine(Ye,je,{counterAxis:Qn,layer:rr.zerolinelayer,path:ln,transFn:jr})}}}var nn,mn=q.getTickSigns(je),Vn=q.getTickSigns(je,"minor");if(je.ticks||je.minor&&je.minor.ticks){var En=q.makeTickPath(je,gn,mn[2]),Cn=q.makeTickPath(je,gn,Vn[2],{minor:!0}),Nn,ta,wa,Ka;if(je._anchorAxis&&je.mirror&&je.mirror!==!0?(Nn=q.makeTickPath(je,tn,mn[3]),ta=q.makeTickPath(je,tn,Vn[3],{minor:!0}),wa=En+Nn,Ka=Cn+ta):(Nn="",ta="",wa=En,Ka=Cn),je.showdividers&&Rn&&je.tickson==="boundaries"){var Yt={};for(tr=0;tr<Zn.length;tr++)Yt[Zn[tr].x]=1;nn=function(Br){return Yt[Br.x]?Nn:wa}}else nn=function(Br){return Br.minor?Ka:wa}}if(q.drawTicks(Ye,je,{vals:on,layer:Fr,path:nn,transFn:jr}),je.mirror==="allticks"){var wr=Object.keys(je._linepositions||{});for(tr=0;tr<wr.length;tr++){or=wr[tr],rr=_t._plots[or];var rn=je._linepositions[or]||[],fn=rn[0],hn=rn[1],In=rn[2],Mn=q.makeTickPath(je,fn,In?mn[0]:Vn[0],{minor:In})+q.makeTickPath(je,hn,In?mn[1]:Vn[1],{minor:In});q.drawTicks(Ye,je,{vals:on,layer:rr[gr+"axislayer"],path:Mn,transFn:jr})}}var dn=[];if(dn.push(function(){return q.drawLabels(Ye,je,{vals:Bn,layer:Fr,plotinfo:rr,transFn:Hr,labelFns:q.makeLabelFns(je,gn)})}),je.type==="multicategory"){var Ir={x:2,y:10}[gr];dn.push(function(){var Br={x:"height",y:"width"}[gr],pn=Cr()[Br]+Ir+(je._tickAngles[hr+"tick"]?je.tickfont.size*ae:0);return q.drawLabels(Ye,je,{vals:qe(je,Bn),layer:Fr,cls:hr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:jr,labelFns:q.makeLabelFns(je,gn+pn*mn[4])})}),dn.push(function(){return je._depth=mn[4]*(Cr("tick2")[je.side]-gn),zt(Ye,je,{vals:Zn,layer:Fr,path:q.makeTickPath(je,gn,mn[4],{len:je._depth}),transFn:jr})})}else je.title.hasOwnProperty("standoff")&&dn.push(function(){je._depth=mn[4]*(Cr()[je.side]-gn)});var Pr=C.getComponentMethod("rangeslider","isVisible")(je);return!It.skipTitle&&!(Pr&&je.side==="bottom")&&dn.push(function(){return Sr(Ye,je)}),dn.push(function(){var Br=je.side.charAt(0),pn=oe[je.side].charAt(0),zn=q.getPxPosition(Ye,je),Xn=Rn?je.ticklen:0,bn,Un,ia,ca;(je.automargin||Pr||je._shiftPusher)&&(je.type==="multicategory"?bn=Cr("tick2"):(bn=Cr(),gr==="x"&&Br==="b"&&(je._depth=Math.max(bn.width>0?bn.bottom-zn:0,Xn))));var ua=0,fa=0;if(je._shiftPusher&&(ua=Math.max(Xn,bn.height>0?Br==="l"?zn-bn.left:bn.right-zn:0),je.title.text!==_t._dfltTitle[gr]&&(fa=(je._titleStandoff||0)+(je._titleScoot||0),Br==="l"&&(fa+=Kt(je))),je._fullDepth=Math.max(ua,fa)),je.automargin){Un={x:0,y:0,r:0,l:0,t:0,b:0};var ya=[0,1],fo=typeof je._shift=="number"?je._shift:0;if(gr==="x"){if(Br==="b"?Un[Br]=je._depth:(Un[Br]=je._depth=Math.max(bn.width>0?zn-bn.top:0,Xn),ya.reverse()),bn.width>0){var Ro=bn.right-(je._offset+je._length);Ro>0&&(Un.xr=1,Un.r=Ro);var Oo=je._offset-bn.left;Oo>0&&(Un.xl=0,Un.l=Oo)}}else if(Br==="l"?(je._depth=Math.max(bn.height>0?zn-bn.left:0,Xn),Un[Br]=je._depth-fo):(je._depth=Math.max(bn.height>0?bn.right-zn:0,Xn),Un[Br]=je._depth+fo,ya.reverse()),bn.height>0){var jo=bn.bottom-(je._offset+je._length);jo>0&&(Un.yb=0,Un.b=jo);var Bo=je._offset-bn.top;Bo>0&&(Un.yt=1,Un.t=Bo)}Un[pr]=je.anchor==="free"?je.position:je._anchorAxis.domain[ya[0]],je.title.text!==_t._dfltTitle[gr]&&(Un[Br]+=Kt(je)+(je.title.standoff||0)),je.mirror&&je.anchor!=="free"&&(ia={x:0,y:0,r:0,l:0,t:0,b:0},ia[pn]=je.linewidth,je.mirror&&je.mirror!==!0&&(ia[pn]+=Xn),je.mirror===!0||je.mirror==="ticks"?ia[pr]=je._anchorAxis.domain[ya[1]]:(je.mirror==="all"||je.mirror==="allticks")&&(ia[pr]=[je._counterDomainMin,je._counterDomainMax][ya[1]]))}Pr&&(ca=C.getComponentMethod("rangeslider","autoMarginOpts")(Ye,je)),typeof je.automargin=="string"&&(He(Un,je.automargin),He(ia,je.automargin)),a.autoMargin(Ye,ur(je),Un),a.autoMargin(Ye,pt(je),ia),a.autoMargin(Ye,st(je),ca)}),w.syncOrAsync(dn)}};function He(Ye,je){if(Ye){var It=Object.keys(z).reduce(function(kt,jt){return je.indexOf(jt)!==-1&&z[jt].forEach(function(tr){kt[tr]=1}),kt},{});Object.keys(Ye).forEach(function(kt){It[kt]||(kt.length===1?Ye[kt]=0:delete Ye[kt])})}}function Ke(Ye,je){var It=[],kt,jt=function(tr,or){var rr=tr.xbnd[or];rr!==null&&It.push(w.extendFlat({},tr,{x:rr}))};if(je.length){for(kt=0;kt<je.length;kt++)jt(je[kt],0);jt(je[kt-1],1)}return It}function qe(Ye,je){for(var It=[],kt={},jt=0;jt<je.length;jt++){var tr=je[jt];kt[tr.text2]?kt[tr.text2].push(tr.x):kt[tr.text2]=[tr.x]}for(var or in kt)It.push(Et(Ye,w.interp(kt[or],.5),or));return It}function vt(Ye,je){var It=[],kt,jt,tr=je.length&&je[je.length-1].x<je[0].x,or=function(_t,hr){var gr=_t.xbnd[hr];gr!==null&&It.push(w.extendFlat({},_t,{x:gr}))};if(Ye.showdividers&&je.length){for(kt=0;kt<je.length;kt++){var rr=je[kt];rr.text2!==jt&&or(rr,tr?1:0),jt=rr.text2}or(je[kt-1],tr?0:1)}return It}function bt(Ye,je){var It,kt,jt,tr;return Ye._selections[je].size()?(It=1/0,kt=-1/0,jt=1/0,tr=-1/0,Ye._selections[je].each(function(){var or=mr(this),rr=s.bBox(or.node().parentNode);It=Math.min(It,rr.top),kt=Math.max(kt,rr.bottom),jt=Math.min(jt,rr.left),tr=Math.max(tr,rr.right)})):(It=0,kt=0,jt=0,tr=0),{top:It,bottom:kt,left:jt,right:tr,height:kt-It,width:tr-jt}}q.getTickSigns=function(Ye,je){var It=Ye._id.charAt(0),kt={x:"top",y:"right"}[It],jt=Ye.side===kt?1:-1,tr=[-1,1,jt,-jt],or=je?(Ye.minor||{}).ticks:Ye.ticks;return or!=="inside"==(It==="x")&&(tr=tr.map(function(rr){return-rr})),Ye.side&&tr.push({l:-1,t:-1,r:1,b:1}[Ye.side.charAt(0)]),tr},q.makeTransTickFn=function(Ye){return Ye._id.charAt(0)==="x"?function(je){return h(Ye._offset+Ye.l2p(je.x),0)}:function(je){return h(0,Ye._offset+Ye.l2p(je.x))}},q.makeTransTickLabelFn=function(Ye){var je=qt(Ye),It=je[0],kt=je[1];return Ye._id.charAt(0)==="x"?function(jt){return h(It+Ye._offset+Ye.l2p(Wt(jt)),kt)}:function(jt){return h(kt,It+Ye._offset+Ye.l2p(Wt(jt)))}};function Wt(Ye){return Ye.periodX!==void 0?Ye.periodX:Ye.x}function qt(Ye){var je=Ye.ticklabelposition||"",It=function(Gr){return je.indexOf(Gr)!==-1},kt=It("top"),jt=It("left"),tr=It("right"),or=It("bottom"),rr=It("inside"),_t=or||jt||kt||tr;if(!_t&&!rr)return[0,0];var hr=Ye.side,gr=_t?(Ye.tickwidth||0)/2:0,pr=he,vr=Ye.tickfont?Ye.tickfont.size:12;return(or||kt)&&(gr+=vr*J,pr+=(Ye.linewidth||0)/2),(jt||tr)&&(gr+=(Ye.linewidth||0)/2,pr+=he),rr&&hr==="top"&&(pr-=vr*(1-J)),(jt||kt)&&(gr=-gr),(hr==="bottom"||hr==="right")&&(pr=-pr),[_t?gr:0,rr?pr:0]}q.makeTickPath=function(Ye,je,It,kt){kt||(kt={});var jt=kt.minor;if(jt&&!Ye.minor)return"";var tr=kt.len!==void 0?kt.len:jt?Ye.minor.ticklen:Ye.ticklen,or=Ye._id.charAt(0),rr=(Ye.linewidth||1)/2;return or==="x"?"M0,"+(je+rr*It)+"v"+tr*It:"M"+(je+rr*It)+",0h"+tr*It},q.makeLabelFns=function(Ye,je,It){var kt=Ye.ticklabelposition||"",jt=function(_n){return kt.indexOf(_n)!==-1},tr=jt("top"),or=jt("left"),rr=jt("right"),_t=jt("bottom"),hr=_t||or||tr||rr,gr=jt("inside"),pr=kt==="inside"&&Ye.ticks==="inside"||!gr&&Ye.ticks==="outside"&&Ye.tickson!=="boundaries",vr=0,Gr=0,Fr=pr?Ye.ticklen:0;if(gr?Fr*=-1:hr&&(Fr=0),pr&&(vr+=Fr,It)){var _r=w.deg2rad(It);vr=Fr*Math.cos(_r)+1,Gr=Fr*Math.sin(_r)}Ye.showticklabels&&(pr||Ye.showline)&&(vr+=.2*Ye.tickfont.size),vr+=(Ye.linewidth||1)/2*(gr?-1:1);var gn={labelStandoff:vr,labelShift:Gr},tn,Bn,An,Mr,Cr=0,jr=Ye.side,Hr=Ye._id.charAt(0),on=Ye.tickangle,yn;if(Hr==="x")yn=!gr&&jr==="bottom"||gr&&jr==="top",Mr=yn?1:-1,gr&&(Mr*=-1),tn=Gr*Mr,Bn=je+vr*Mr,An=yn?1:-.2,Math.abs(on)===90&&(gr?An+=Y:on===-90&&jr==="bottom"?An=J:on===90&&jr==="top"?An=Y:An=.5,Cr=Y/2*(on/90)),gn.xFn=function(_n){return _n.dx+tn+Cr*_n.fontSize},gn.yFn=function(_n){return _n.dy+Bn+_n.fontSize*An},gn.anchorFn=function(_n,sa){if(hr){if(or)return"end";if(rr)return"start"}return!L(sa)||sa===0||sa===180?"middle":sa*Mr<0!==gr?"end":"start"},gn.heightFn=function(_n,sa,Zn){return sa<-60||sa>60?-.5*Zn:Ye.side==="top"!==gr?-Zn:0};else if(Hr==="y"){if(yn=!gr&&jr==="left"||gr&&jr==="right",Mr=yn?1:-1,gr&&(Mr*=-1),tn=vr,Bn=Gr*Mr,An=0,!gr&&Math.abs(on)===90&&(on===-90&&jr==="left"||on===90&&jr==="right"?An=J:An=.5),gr){var xn=L(on)?+on:0;if(xn!==0){var Rn=w.deg2rad(xn);Cr=Math.abs(Math.sin(Rn))*J*Mr,An=0}}gn.xFn=function(_n){return _n.dx+je-(tn+_n.fontSize*An)*Mr+Cr*_n.fontSize},gn.yFn=function(_n){return _n.dy+Bn+_n.fontSize*Y},gn.anchorFn=function(_n,sa){return L(sa)&&Math.abs(sa)===90?"middle":yn?"end":"start"},gn.heightFn=function(_n,sa,Zn){return Ye.side==="right"&&(sa*=-1),sa<-30?-Zn:sa<30?-.5*Zn:0}}return gn};function At(Ye){return[Ye.text,Ye.x,Ye.axInfo,Ye.font,Ye.fontSize,Ye.fontColor].join("_")}q.drawTicks=function(Ye,je,It){It=It||{};var kt=je._id+"tick",jt=[].concat(je.minor&&je.minor.ticks?It.vals.filter(function(or){return or.minor&&!or.noTick}):[]).concat(je.ticks?It.vals.filter(function(or){return!or.minor&&!or.noTick}):[]),tr=It.layer.selectAll("path."+kt).data(jt,At);tr.exit().remove(),tr.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",It.crisp!==!1).each(function(or){return r.stroke(p.select(this),or.minor?je.minor.tickcolor:je.tickcolor)}).style("stroke-width",function(or){return s.crispRound(Ye,or.minor?je.minor.tickwidth:je.tickwidth,1)+"px"}).attr("d",It.path).style("display",null),lr(je,[U]),tr.attr("transform",It.transFn)},q.drawGrid=function(Ye,je,It){if(It=It||{},je.tickmode!=="sync"){var kt=je._id+"grid",jt=je.minor&&je.minor.showgrid,tr=jt?It.vals.filter(function(tn){return tn.minor}):[],or=je.showgrid?It.vals.filter(function(tn){return!tn.minor}):[],rr=It.counterAxis;if(rr&&q.shouldShowZeroLine(Ye,je,rr))for(var _t=je.tickmode==="array",hr=0;hr<or.length;hr++){var gr=or[hr].x;if(_t?!gr:Math.abs(gr)<je.dtick/100)if(or=or.slice(0,hr).concat(or.slice(hr+1)),_t)hr--;else break}je._gw=s.crispRound(Ye,je.gridwidth,1);for(var pr=jt?s.crispRound(Ye,je.minor.gridwidth,1):0,vr=It.layer,Gr=It.minorLayer,Fr=1;Fr>=0;Fr--){var _r=Fr?vr:Gr;if(_r){var gn=_r.selectAll("path."+kt).data(Fr?or:tr,At);gn.exit().remove(),gn.enter().append("path").classed(kt,1).classed("crisp",It.crisp!==!1),gn.attr("transform",It.transFn).attr("d",It.path).each(function(tn){return r.stroke(p.select(this),tn.minor?je.minor.gridcolor:je.gridcolor||"#ddd")}).style("stroke-dasharray",function(tn){return s.dashStyle(tn.minor?je.minor.griddash:je.griddash,tn.minor?je.minor.gridwidth:je.gridwidth)}).style("stroke-width",function(tn){return(tn.minor?pr:je._gw)+"px"}).style("display",null),typeof It.path=="function"&&gn.attr("d",It.path)}}lr(je,[V,_])}},q.drawZeroLine=function(Ye,je,It){It=It||It;var kt=je._id+"zl",jt=q.shouldShowZeroLine(Ye,je,It.counterAxis),tr=It.layer.selectAll("path."+kt).data(jt?[{x:0,id:je._id}]:[]);tr.exit().remove(),tr.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",It.crisp!==!1).each(function(){It.layer.selectAll("path").sort(function(or,rr){return K(or.id,rr.id)})}),tr.attr("transform",It.transFn).attr("d",It.path).call(r.stroke,je.zerolinecolor||r.defaultLine).style("stroke-width",s.crispRound(Ye,je.zerolinewidth,je._gw||1)+"px").style("display",null),lr(je,[F])},q.drawLabels=function(Ye,je,It){It=It||{};var kt=Ye._fullLayout,jt=je._id,tr=jt.charAt(0),or=It.cls||jt+"tick",rr=It.vals.filter(function(Zn){return Zn.text}),_t=It.labelFns,hr=It.secondary?0:je.tickangle,gr=(je._prevTickAngles||{})[or],pr=It.layer.selectAll("g."+or).data(je.showticklabels?rr:[],At),vr=[];pr.enter().append("g").classed(or,1).append("text").attr("text-anchor","middle").each(function(Zn){var qn=p.select(this),jn=Ye._promises.length;qn.call(g.positionText,_t.xFn(Zn),_t.yFn(Zn)).call(s.font,Zn.font,Zn.fontSize,Zn.fontColor).text(Zn.text).call(g.convertToTspans,Ye),Ye._promises[jn]?vr.push(Ye._promises.pop().then(function(){Gr(qn,hr)})):Gr(qn,hr)}),lr(je,[H]),pr.exit().remove(),It.repositionOnUpdate&&pr.each(function(Zn){p.select(this).select("text").call(g.positionText,_t.xFn(Zn),_t.yFn(Zn))});function Gr(Zn,qn){Zn.each(function(jn){var Qn=p.select(this),Tr=Qn.select(".text-math-group"),ln=_t.anchorFn(jn,qn),nn=It.transFn.call(Qn.node(),jn)+(L(qn)&&+qn!=0?" rotate("+qn+","+_t.xFn(jn)+","+(_t.yFn(jn)-jn.fontSize/2)+")":""),mn=g.lineCount(Qn),Vn=ae*jn.fontSize,En=_t.heightFn(jn,L(qn)?+qn:0,(mn-1)*Vn);if(En&&(nn+=h(0,En)),Tr.empty()){var Cn=Qn.select("text");Cn.attr({transform:nn,"text-anchor":ln}),Cn.style("opacity",1),je._adjustTickLabelsOverflow&&je._adjustTickLabelsOverflow()}else{var Nn=s.bBox(Tr.node()).width,ta=Nn*{end:-.5,start:.5}[ln];Tr.attr("transform",nn+h(ta,0))}})}je._adjustTickLabelsOverflow=function(){var Zn=je.ticklabeloverflow;if(!(!Zn||Zn==="allow")){var qn=Zn.indexOf("hide")!==-1,jn=je._id.charAt(0)==="x",Qn=0,Tr=jn?Ye._fullLayout.width:Ye._fullLayout.height;if(Zn.indexOf("domain")!==-1){var ln=w.simpleMap(je.range,je.r2l);Qn=je.l2p(ln[0])+je._offset,Tr=je.l2p(ln[1])+je._offset}var nn=Math.min(Qn,Tr),mn=Math.max(Qn,Tr),Vn=je.side,En=1/0,Cn=-1/0;pr.each(function(Ka){var Yt=p.select(this),wr=Yt.select(".text-math-group");if(wr.empty()){var rn=s.bBox(Yt.node()),fn=0;jn?(rn.right>mn||rn.left<nn)&&(fn=1):(rn.bottom>mn||rn.top+(je.tickangle?0:Ka.fontSize/4)<nn)&&(fn=1);var hn=Yt.select("text");fn?qn&&hn.style("opacity",0):(hn.style("opacity",1),Vn==="bottom"||Vn==="right"?En=Math.min(En,jn?rn.top:rn.left):En=-1/0,Vn==="top"||Vn==="left"?Cn=Math.max(Cn,jn?rn.bottom:rn.right):Cn=1/0)}});for(var Nn in kt._plots){var ta=kt._plots[Nn];if(!(je._id!==ta.xaxis._id&&je._id!==ta.yaxis._id)){var wa=jn?ta.yaxis:ta.xaxis;wa&&(wa["_visibleLabelMin_"+je._id]=En,wa["_visibleLabelMax_"+je._id]=Cn)}}}},je._hideCounterAxisInsideTickLabels=function(Zn){var qn=je._id.charAt(0)==="x",jn=[];for(var Qn in kt._plots){var Tr=kt._plots[Qn];je._id!==Tr.xaxis._id&&je._id!==Tr.yaxis._id||jn.push(qn?Tr.yaxis:Tr.xaxis)}jn.forEach(function(ln,nn){ln&&Xt(ln)&&(Zn||[F,_,V,U,H]).forEach(function(mn){var Vn=mn.K==="tick"&&mn.L==="text"&&je.ticklabelmode==="period",En=kt._plots[je._mainSubplot],Cn;mn.K===F.K?Cn=En.zerolinelayer.selectAll("."+je._id+"zl"):mn.K===_.K?Cn=En.minorGridlayer.selectAll("."+je._id):mn.K===V.K?Cn=En.gridlayer.selectAll("."+je._id):Cn=En[je._id.charAt(0)+"axislayer"],Cn.each(function(){var Nn=p.select(this);mn.L&&(Nn=Nn.selectAll(mn.L)),Nn.each(function(ta){var wa=je.l2p(Vn?Wt(ta):ta.x)+je._offset,Ka=p.select(this);wa<je["_visibleLabelMax_"+ln._id]&&wa>je["_visibleLabelMin_"+ln._id]?Ka.style("display","none"):mn.K==="tick"&&!nn&&Ka.style("display",null)})})})})},Gr(pr,gr+1?gr:hr);function Fr(){return vr.length&&Promise.all(vr)}var _r=null;function gn(){if(Gr(pr,hr),rr.length&&tr==="x"&&!L(hr)&&(je.type!=="log"||String(je.dtick).charAt(0)!=="D")){_r=0;var Zn=0,qn=[],jn;if(pr.each(function(rn){Zn=Math.max(Zn,rn.fontSize);var fn=je.l2p(rn.x),hn=mr(this),In=s.bBox(hn.node());qn.push({top:0,bottom:10,height:10,left:fn-In.width/2,right:fn+In.width/2+2,width:In.width+2})}),(je.tickson==="boundaries"||je.showdividers)&&!It.secondary){var Qn=2;for(je.ticks&&(Qn+=je.tickwidth/2),jn=0;jn<qn.length;jn++){var Tr=rr[jn].xbnd,ln=qn[jn];if(Tr[0]!==null&&ln.left-je.l2p(Tr[0])<Qn||Tr[1]!==null&&je.l2p(Tr[1])-ln.right<Qn){_r=90;break}}}else{var nn=rr.length,mn=Math.abs((rr[nn-1].x-rr[0].x)*je._m)/(nn-1),Vn=je.ticklabelposition||"",En=function(rn){return Vn.indexOf(rn)!==-1},Cn=En("top"),Nn=En("left"),ta=En("right"),wa=En("bottom"),Ka=wa||Nn||Cn||ta,Yt=Ka?(je.tickwidth||0)+2*he:0,wr=mn<Zn*2.5||je.type==="multicategory"||je._name==="realaxis";for(jn=0;jn<qn.length-1;jn++)if(w.bBoxIntersect(qn[jn],qn[jn+1],Yt)){_r=wr?90:30;break}}_r&&Gr(pr,_r)}}je._selections&&(je._selections[or]=pr);var tn=[Fr];je.automargin&&kt._redrawFromAutoMarginCount&&gr===90?(_r=90,tn.push(function(){Gr(pr,gr)})):tn.push(gn),je._tickAngles&&tn.push(function(){je._tickAngles[or]=_r===null?L(hr)?hr:0:_r});var Bn=function(){var Zn=0,qn=0;return pr.each(function(jn,Qn){var Tr=mr(this),ln=Tr.select(".text-math-group");if(ln.empty()){var nn;je._vals[Qn]&&(nn=je._vals[Qn].bb||s.bBox(Tr.node()),je._vals[Qn].bb=nn),Zn=Math.max(Zn,nn.width),qn=Math.max(qn,nn.height)}}),{labelsMaxW:Zn,labelsMaxH:qn}},An=je._anchorAxis;if(An&&(An.autorange||An.insiderange)&&Xt(je)&&!re(kt,je._id)&&(kt._insideTickLabelsUpdaterange||(kt._insideTickLabelsUpdaterange={}),An.autorange&&(kt._insideTickLabelsUpdaterange[An._name+".autorange"]=An.autorange,tn.push(Bn)),An.insiderange)){var Mr=Bn(),Cr=je._id.charAt(0)==="y"?Mr.labelsMaxW:Mr.labelsMaxH;Cr+=2*he,je.ticklabelposition==="inside"&&(Cr+=je.ticklen||0);var jr=je.side==="right"||je.side==="top"?1:-1,Hr=jr===1?1:0,on=jr===1?0:1,yn=[];yn[on]=An.range[on];var xn=An.d2p(An.range[Hr]),Rn=An.d2p(An.range[on]),_n=Math.abs(Rn-xn);_n-Cr>0?(_n-=Cr,Cr*=1+Cr/_n):Cr=0,je._id.charAt(0)!=="y"&&(Cr=-Cr),yn[Hr]=An.p2d(An.d2p(An.range[Hr])+jr*Cr),An.autorange==="min"||An.autorange==="max reversed"?(yn[0]=null,An._rangeInitial0=void 0,An._rangeInitial1=void 0):(An.autorange==="max"||An.autorange==="min reversed")&&(yn[1]=null,An._rangeInitial0=void 0,An._rangeInitial1=void 0),kt._insideTickLabelsUpdaterange[An._name+".range"]=yn}var sa=w.syncOrAsync(tn);return sa&&sa.then&&Ye._promises.push(sa),sa};function zt(Ye,je,It){var kt=je._id+"divider",jt=It.vals,tr=It.layer.selectAll("path."+kt).data(jt,At);tr.exit().remove(),tr.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(r.stroke,je.dividercolor).style("stroke-width",s.crispRound(Ye,je.dividerwidth,1)+"px"),tr.attr("transform",It.transFn).attr("d",It.path)}q.getPxPosition=function(Ye,je){var It=Ye._fullLayout._size,kt=je._id.charAt(0),jt=je.side,tr;if(je.anchor!=="free"?tr=je._anchorAxis:kt==="x"?tr={_offset:It.t+(1-(je.position||0))*It.h,_length:0}:kt==="y"&&(tr={_offset:It.l+(je.position||0)*It.w+je._shift,_length:0}),jt==="top"||jt==="left")return tr._offset;if(jt==="bottom"||jt==="right")return tr._offset+tr._length};function Kt(Ye){var je=Ye.title.font.size,It=(Ye.title.text.match(g.BR_TAG_ALL)||[]).length;return Ye.title.hasOwnProperty("standoff")?It?je*(J+It*ae):je*J:It?je*(It+1)*ae:je}function Sr(Ye,je){var It=Ye._fullLayout,kt=je._id,jt=kt.charAt(0),tr=je.title.font.size,or;if(je.title.hasOwnProperty("standoff"))or=je._depth+je.title.standoff+Kt(je);else{var rr=Xt(je);if(je.type==="multicategory")or=je._depth;else{var _t=1.5*tr;rr&&(_t=.5*tr,je.ticks==="outside"&&(_t+=je.ticklen)),or=10+_t+(je.linewidth?je.linewidth-1:0)}rr||(jt==="x"?or+=je.side==="top"?tr*(je.showticklabels?1:0):tr*(je.showticklabels?1.5:.5):or+=je.side==="right"?tr*(je.showticklabels?1:.5):tr*(je.showticklabels?.5:0))}var hr=q.getPxPosition(Ye,je),gr,pr,vr;jt==="x"?(pr=je._offset+je._length/2,vr=je.side==="top"?hr-or:hr+or):(vr=je._offset+je._length/2,pr=je.side==="right"?hr+or:hr-or,gr={rotate:"-90",offset:0});var Gr;if(je.type!=="multicategory"){var Fr=je._selections[je._id+"tick"];if(Gr={selection:Fr,side:je.side},Fr&&Fr.node()&&Fr.node().parentNode){var _r=s.getTranslate(Fr.node().parentNode);Gr.offsetLeft=_r.x,Gr.offsetTop=_r.y}je.title.hasOwnProperty("standoff")&&(Gr.pad=0)}return je._titleStandoff=or,t.draw(Ye,kt+"title",{propContainer:je,propName:je._name+".title.text",placeholder:It._dfltTitle[jt],avoid:Gr,transform:gr,attributes:{x:pr,y:vr,"text-anchor":"middle"}})}q.shouldShowZeroLine=function(Ye,je,It){var kt=w.simpleMap(je.range,je.r2l);return kt[0]*kt[1]<=0&&je.zeroline&&(je.type==="linear"||je.type==="-")&&!(je.rangebreaks&&je.maskBreaks(0)===O)&&(yt(je,0)||!Zt(Ye,je,It,kt)||$t(Ye,je))},q.clipEnds=function(Ye,je){return je.filter(function(It){return yt(Ye,It.x)})};function yt(Ye,je){var It=Ye.l2p(je);return It>1&&It<Ye._length-1}function Zt(Ye,je,It,kt){var jt=It._mainAxis;if(!jt)return;var tr=Ye._fullLayout,or=je._id.charAt(0),rr=q.counterLetter(je._id),_t=je._offset+(Math.abs(kt[0])<Math.abs(kt[1])==(or==="x")?0:je._length);function hr(Fr){if(!Fr.showline||!Fr.linewidth)return!1;var _r=Math.max((Fr.linewidth+je.zerolinewidth)/2,1);function gn(An){return typeof An=="number"&&Math.abs(An-_t)<_r}if(gn(Fr._mainLinePosition)||gn(Fr._mainMirrorPosition))return!0;var tn=Fr._linepositions||{};for(var Bn in tn)if(gn(tn[Bn][0])||gn(tn[Bn][1]))return!0}var gr=tr._plots[It._mainSubplot];if(!(gr.mainplotinfo||gr).overlays.length)return hr(It);for(var pr=q.list(Ye,rr),vr=0;vr<pr.length;vr++){var Gr=pr[vr];if(Gr._mainAxis===jt&&hr(Gr))return!0}}function $t(Ye,je){for(var It=Ye._fullData,kt=je._mainSubplot,jt=je._id.charAt(0),tr=0;tr<It.length;tr++){var or=It[tr];if(or.visible===!0&&or.xaxis+or.yaxis===kt&&(C.traceIs(or,"bar-like")&&or.orientation==={x:"h",y:"v"}[jt]||or.fill&&or.fill.charAt(or.fill.length-1)===jt))return!0}return!1}function mr(Ye){var je=p.select(Ye),It=je.select(".text-math-group");return It.empty()?je.select("text"):It}q.allowAutoMargin=function(Ye){for(var je=q.list(Ye,"",!0),It=0;It<je.length;It++){var kt=je[It];kt.automargin&&(a.allowAutoMargin(Ye,ur(kt)),kt.mirror&&a.allowAutoMargin(Ye,pt(kt))),C.getComponentMethod("rangeslider","isVisible")(kt)&&a.allowAutoMargin(Ye,st(kt))}};function ur(Ye){return Ye._id+".automargin"}function pt(Ye){return ur(Ye)+".mirror"}function st(Ye){return Ye._id+".rangeslider"}q.swap=function(Ye,je){for(var It=xt(Ye,je),kt=0;kt<It.length;kt++)Dt(Ye,It[kt].x,It[kt].y)};function xt(Ye,je){var It=[],kt,jt;for(kt=0;kt<je.length;kt++){var tr=[],or=Ye._fullData[je[kt]].xaxis,rr=Ye._fullData[je[kt]].yaxis;if(!(!or||!rr)){for(jt=0;jt<It.length;jt++)(It[jt].x.indexOf(or)!==-1||It[jt].y.indexOf(rr)!==-1)&&tr.push(jt);if(!tr.length){It.push({x:[or],y:[rr]});continue}var _t=It[tr[0]],hr;if(tr.length>1)for(jt=1;jt<tr.length;jt++)hr=It[tr[jt]],St(_t.x,hr.x),St(_t.y,hr.y);St(_t.x,[or]),St(_t.y,[rr])}}return It}function St(Ye,je){for(var It=0;It<je.length;It++)Ye.indexOf(je[It])===-1&&Ye.push(je[It])}function Dt(Ye,je,It){var kt=[],jt=[],tr=Ye.layout,or,rr;for(or=0;or<je.length;or++)kt.push(q.getFromId(Ye,je[or]));for(or=0;or<It.length;or++)jt.push(q.getFromId(Ye,It[or]));var _t=Object.keys(n),hr=["anchor","domain","overlaying","position","side","tickangle","editType"],gr=["linear","log"];for(or=0;or<_t.length;or++){var pr=_t[or],vr=kt[0][pr],Gr=jt[0][pr],Fr=!0,_r=!1,gn=!1;if(!(pr.charAt(0)==="_"||typeof vr=="function"||hr.indexOf(pr)!==-1)){for(rr=1;rr<kt.length&&Fr;rr++){var tn=kt[rr][pr];pr==="type"&&gr.indexOf(vr)!==-1&&gr.indexOf(tn)!==-1&&vr!==tn?_r=!0:tn!==vr&&(Fr=!1)}for(rr=1;rr<jt.length&&Fr;rr++){var Bn=jt[rr][pr];pr==="type"&&gr.indexOf(Gr)!==-1&&gr.indexOf(Bn)!==-1&&Gr!==Bn?gn=!0:jt[rr][pr]!==Gr&&(Fr=!1)}Fr&&(_r&&(tr[kt[0]._name].type="linear"),gn&&(tr[jt[0]._name].type="linear"),Rt(tr,pr,kt,jt,Ye._fullLayout._dfltTitle))}}for(or=0;or<Ye._fullLayout.annotations.length;or++){var An=Ye._fullLayout.annotations[or];je.indexOf(An.xref)!==-1&&It.indexOf(An.yref)!==-1&&w.swapAttrs(tr.annotations[or],["?"])}}function Rt(Ye,je,It,kt,jt){var tr=w.nestedProperty,or=tr(Ye[It[0]._name],je).get(),rr=tr(Ye[kt[0]._name],je).get(),_t;for(je==="title"&&(or&&or.text===jt.x&&(or.text=jt.y),rr&&rr.text===jt.y&&(rr.text=jt.x)),_t=0;_t<It.length;_t++)tr(Ye,It[_t]._name+"."+je).set(rr);for(_t=0;_t<kt.length;_t++)tr(Ye,kt[_t]._name+"."+je).set(or)}function Bt(Ye){return Ye._id==="angularaxis"}function Nt(Ye,je){for(var It=je._rangebreaks.length,kt=0;kt<It;kt++){var jt=je._rangebreaks[kt];if(Ye>=jt.min&&Ye<jt.max)return jt.max}return Ye}function Xt(Ye){return(Ye.ticklabelposition||"").indexOf("inside")!==-1}function lr(Ye,je){Xt(Ye._anchorAxis||{})&&Ye._hideCounterAxisInsideTickLabels&&Ye._hideCounterAxisInsideTickLabels(je)}function sr(Ye,je,It,kt){var jt=Ye.anchor!=="free"&&(Ye.overlaying===void 0||Ye.overlaying===!1)?Ye._id:Ye.overlaying,tr;kt?tr=Ye.side==="right"?je:-je:tr=je,jt in It||(It[jt]={}),Ye.side in It[jt]||(It[jt][Ye.side]=0),It[jt][Ye.side]+=tr}function dr(Ye,je){return Ye.autoshift?je[Ye.overlaying][Ye.side]:Ye.shift||0}},4322:function(B,N,e){var p=e(92770),L=e(71828),a=e(50606).BADNUM,C=L.isArrayOrTypedArray,w=L.isDateTime,h=L.cleanNumber,g=Math.round;B.exports=function(m,v,A){var d=m,u=A.noMultiCategory;if(C(d)&&!d.length)return"-";if(!u&&c(d))return"multicategory";if(u&&Array.isArray(d[0])){for(var y=[],M=0;M<d.length;M++)if(C(d[M]))for(var S=0;S<d[M].length;S++)y.push(d[M][S]);d=y}if(s(d,v))return"date";var R=A.autotypenumbers!=="strict";return l(d,R)?"category":r(d,R)?"linear":"-"};function t(f,m){return m?p(f):typeof f=="number"}function r(f,m){for(var v=f.length,A=0;A<v;A++)if(t(f[A],m))return!0;return!1}function s(f,m){for(var v=f.length,A=n(v),d=0,u=0,y={},M=0;M<v;M+=A){var S=g(M),R=f[S],x=String(R);y[x]||(y[x]=1,w(R,m)&&d++,p(R)&&u++)}return d>u*2}function n(f){return Math.max(1,(f-1)/1e3)}function l(f,m){for(var v=f.length,A=n(v),d=0,u=0,y={},M=0;M<v;M+=A){var S=g(M),R=f[S],x=String(R);if(!y[x]){y[x]=1;var E=typeof R;E==="boolean"?u++:(m?h(R)!==a:E==="number")?d++:E==="string"&&u++}}return u>d*2}function c(f){return C(f[0])&&C(f[1])}},71453:function(B,N,e){var p=e(92770),L=e(73972),a=e(71828),C=e(44467),w=e(85501),h=e(13838),g=e(26218),t=e(38701),r=e(96115),s=e(89426),n=e(15258),l=e(92128),c=e(23608),f=e(21994),m=e(85555).WEEKDAY_PATTERN,v=e(85555).HOUR_PATTERN;B.exports=function(M,S,R,x,E){var T=x.letter,i=x.font||{},D=x.splomStash||{},b=R("visible",!x.visibleDflt),O=S._template||{},F=S.type||O.type||"-",V;if(F==="date"){var _=L.getComponentMethod("calendars","handleDefaults");_(M,S,"calendar",x.calendar),x.noTicklabelmode||(V=R("ticklabelmode"))}var U="";(!x.noTicklabelposition||F==="multicategory")&&(U=a.coerce(M,S,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:V==="period"?["outside","inside"]:T==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),x.noTicklabeloverflow||R("ticklabeloverflow",U.indexOf("inside")!==-1?"hide past domain":F==="category"||F==="multicategory"?"allow":"hide past div"),f(S,E),c(M,S,R,x),n(M,S,R,x),F!=="category"&&!x.noHover&&R("hoverformat");var H=R("color"),z=H!==h.color.dflt?H:i.color,G=D.label||E._dfltTitle[T];if(s(M,S,R,F,x),!b)return S;R("title.text",G),a.coerceFont(R,"title.font",{family:i.family,size:a.bigFont(i.size),color:z}),g(M,S,R,F);var Y=x.hasMinor;if(Y&&(C.newContainer(S,"minor"),g(M,S,R,F,{isMinor:!0})),r(M,S,R,F,x),t(M,S,R,x),Y){var J=x.isMinor;x.isMinor=!0,t(M,S,R,x),x.isMinor=J}l(M,S,R,{dfltColor:H,bgColor:x.bgColor,showGrid:x.showGrid,hasMinor:Y,attributes:h}),Y&&!S.minor.ticks&&!S.minor.showgrid&&delete S.minor,(S.showline||S.ticks)&&R("mirror");var ae=F==="multicategory";if(!x.noTickson&&(F==="category"||ae)&&(S.ticks||S.showgrid)){var oe;ae&&(oe="boundaries");var he=R("tickson",oe);he==="boundaries"&&delete S.ticklabelposition}if(ae){var q=R("showdividers");q&&(R("dividercolor"),R("dividerwidth"))}if(F==="date")if(w(M,S,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:A}),!S.rangebreaks.length)delete S.rangebreaks;else{for(var Z=0;Z<S.rangebreaks.length;Z++)if(S.rangebreaks[Z].pattern===m){S._hasDayOfWeekBreaks=!0;break}if(f(S,E),E._has("scattergl")||E._has("splom"))for(var $=0;$<x.data.length;$++){var K=x.data[$];(K.type==="scattergl"||K.type==="splom")&&(K.visible=!1,a.warn(K.type+" traces do not work on axes with rangebreaks. Setting trace "+K.index+" to `visible: false`."))}}return S};function A(y,M,S){function R(V,_){return a.coerce(y,M,h.rangebreaks,V,_)}var x=R("enabled");if(x){var E=R("bounds");if(E&&E.length>=2){var T="",i,D;if(E.length===2){for(i=0;i<2;i++)if(D=u(E[i]),D){T=m;break}}var b=R("pattern",T);if(b===m)for(i=0;i<2;i++)D=u(E[i]),D&&(M.bounds[i]=E[i]=D-1);if(b)for(i=0;i<2;i++)switch(D=E[i],b){case m:if(!p(D)){M.enabled=!1;return}if(D=+D,D!==Math.floor(D)||D<0||D>=7){M.enabled=!1;return}M.bounds[i]=E[i]=D;break;case v:if(!p(D)){M.enabled=!1;return}if(D=+D,D<0||D>24){M.enabled=!1;return}M.bounds[i]=E[i]=D;break}if(S.autorange===!1){var O=S.range;if(O[0]<O[1]){if(E[0]<O[0]&&E[1]>O[1]){M.enabled=!1;return}}else if(E[0]>O[0]&&E[1]<O[1]){M.enabled=!1;return}}}else{var F=R("values");if(F&&F.length)R("dvalue");else{M.enabled=!1;return}}}}var d={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function u(y){if(typeof y=="string")return d[y.substr(0,3).toLowerCase()]}},12663:function(B,N,e){var p=e(31562),L=p.FORMAT_LINK,a=p.DATE_FORMAT_LINK;function C(g,t){return{valType:"string",dflt:"",editType:"none",description:(t?w:h)("hover text",g)+["By default the values are formatted using "+(t?"generic number format":"`"+g+"axis.hoverformat`")+"."].join(" ")}}function w(g,t){return["Sets the "+g+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+L+"."].join(" ")}function h(g,t){return w(g,t)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}B.exports={axisHoverFormat:C,descriptionOnlyNumbers:w,descriptionWithDates:h}},41675:function(B,N,e){var p=e(73972),L=e(85555);N.id2name=function(w){if(!(typeof w!="string"||!w.match(L.AX_ID_PATTERN))){var h=w.split(" ")[0].substr(1);return h==="1"&&(h=""),w.charAt(0)+"axis"+h}},N.name2id=function(w){if(w.match(L.AX_NAME_PATTERN)){var h=w.substr(5);return h==="1"&&(h=""),w.charAt(0)+h}},N.cleanId=function(w,h,g){var t=/( domain)$/.test(w);if(!(typeof w!="string"||!w.match(L.AX_ID_PATTERN))&&!(h&&w.charAt(0)!==h)&&!(t&&!g)){var r=w.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),w.charAt(0)+r+(t&&g?" domain":"")}},N.list=function(C,w,h){var g=C._fullLayout;if(!g)return[];var t=N.listIds(C,w),r=new Array(t.length),s;for(s=0;s<t.length;s++){var n=t[s];r[s]=g[n.charAt(0)+"axis"+n.substr(1)]}if(!h){var l=g._subplots.gl3d||[];for(s=0;s<l.length;s++){var c=g[l[s]];w?r.push(c[w+"axis"]):r.push(c.xaxis,c.yaxis,c.zaxis)}}return r},N.listIds=function(C,w){var h=C._fullLayout;if(!h)return[];var g=h._subplots;return w?g[w+"axis"]:g.xaxis.concat(g.yaxis)},N.getFromId=function(C,w,h){var g=C._fullLayout;return w=w===void 0||typeof w!="string"?w:w.replace(" domain",""),h==="x"?w=w.replace(/y[0-9]*/,""):h==="y"&&(w=w.replace(/x[0-9]*/,"")),g[N.id2name(w)]},N.getFromTrace=function(C,w,h){var g=C._fullLayout,t=null;if(p.traceIs(w,"gl3d")){var r=w.scene;r.substr(0,5)==="scene"&&(t=g[r][h+"axis"])}else t=N.getFromId(C,w[h+"axis"]||h);return t},N.idSort=function(C,w){var h=C.charAt(0),g=w.charAt(0);return h!==g?h>g?1:-1:+(C.substr(1)||1)-+(w.substr(1)||1)},N.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function a(C,w){if(w&&w.length){for(var h=0;h<w.length;h++)if(w[h][C])return!0}return!1}N.isLinked=function(C,w){return a(w,C._axisMatchGroups)||a(w,C._axisConstraintGroups)}},15258:function(B){function N(e,p){var L=p.dataAttr||e._id.charAt(0),a={},C,w,h;if(p.axData)C=p.axData;else for(C=[],w=0;w<p.data.length;w++){var g=p.data[w];g[L+"axis"]===e._id&&C.push(g)}for(w=0;w<C.length;w++){var t=C[w][L];for(h=0;h<t.length;h++){var r=t[h];r!=null&&(a[r]=1)}}return Object.keys(a)}B.exports=function(p,L,a,C){if(L.type==="category"){var w=p.categoryarray,h=Array.isArray(w)&&w.length>0,g;h&&(g="array");var t=a("categoryorder",g),r;t==="array"&&(r=a("categoryarray")),!h&&t==="array"&&(t=L.categoryorder="trace"),t==="trace"?L._initialCategories=[]:t==="array"?L._initialCategories=r.slice():(r=N(L,C).sort(),t==="category ascending"?L._initialCategories=r:t==="category descending"&&(L._initialCategories=r.reverse()))}}},66287:function(B,N,e){var p=e(92770),L=e(71828),a=e(50606),C=a.ONEDAY,w=a.ONEWEEK;N.dtick=function(h,g){var t=g==="log",r=g==="date",s=g==="category",n=r?C:1;if(!h)return n;if(p(h))return h=Number(h),h<=0?n:s?Math.max(1,Math.round(h)):r?Math.max(.1,h):h;if(typeof h!="string"||!(r||t))return n;var l=h.charAt(0),c=h.substr(1);return c=p(c)?Number(c):0,c<=0||!(r&&l==="M"&&c===Math.round(c)||t&&l==="L"||t&&l==="D"&&(c===1||c===2))?n:h},N.tick0=function(h,g,t,r){if(g==="date")return L.cleanDate(h,L.dateTick0(t,r%w===0?1:0));if(!(r==="D1"||r==="D2"))return p(h)?Number(h):0}},85555:function(B,N,e){var p=e(30587).counter;B.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(B,N,e){var p=e(71828),L=e(71739),a=e(41675).id2name,C=e(13838),w=e(42449),h=e(21994),g=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;N.handleDefaults=function(v,A,d){var u=d.axIds,y=d.axHasImage,M=A._axisConstraintGroups=[],S=A._axisMatchGroups=[],R,x,E,T,i,D,b,O;for(R=0;R<u.length;R++)T=a(u[R]),i=v[T],D=A[T],r(i,D,{axIds:u,layoutOut:A,hasImage:y[T]});function F(ae,oe){for(R=0;R<ae.length;R++){x=ae[R];for(E in x)A[a(E)][oe]=x}}for(F(S,"_matchGroup"),R=0;R<M.length;R++){x=M[R];for(E in x)if(D=A[a(E)],D.fixedrange){for(var V in x){var _=a(V);(v[_]||{}).fixedrange===!1&&p.warn("fixedrange was specified as false for axis "+_+" but was overridden because another axis in its constraint group has fixedrange true"),A[_].fixedrange=!0}break}}for(R=0;R<M.length;){x=M[R];for(E in x){D=A[a(E)],D._matchGroup&&Object.keys(D._matchGroup).length===Object.keys(x).length&&(M.splice(R,1),R--);break}R++}F(M,"_constraintGroup");var U=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],H=!1,z=!1;function G(){O=D[b],b==="rangebreaks"&&(z=D._hasDayOfWeekBreaks)}for(R=0;R<S.length;R++){x=S[R];for(var Y=0;Y<U.length;Y++){b=U[Y],O=null;var J;for(E in x)if(T=a(E),i=v[T],D=A[T],b in D){if(!D.matches&&(J=D,b in i)){G();break}O===null&&b in i&&G()}if(b==="range"&&O&&i.range&&i.range.length===2&&i.range[0]!==null&&i.range[1]!==null&&(H=!0),b==="autorange"&&O===null&&H&&(O=!1),O===null&&b in J&&(O=J[b]),O!==null)for(E in x)D=A[a(E)],D[b]=b==="range"?O.slice():O,b==="rangebreaks"&&(D._hasDayOfWeekBreaks=z,h(D,A))}}};function r(v,A,d){var u=d.axIds,y=d.layoutOut,M=d.hasImage,S=y._axisConstraintGroups,R=y._axisMatchGroups,x=A._id,E=x.charAt(0),T=((y._splomAxes||{})[E]||{})[x]||{},i=A._id,D=i.charAt(0)==="x";A._matchGroup=null,A._constraintGroup=null;function b(Z,$){return p.coerce(v,A,C,Z,$)}b("constrain",M?"domain":"range"),p.coerce(v,A,{constraintoward:{valType:"enumerated",values:D?["left","center","right"]:["bottom","middle","top"],dflt:D?"center":"middle"}},"constraintoward");var O=A.type,F,V,_=[];for(F=0;F<u.length;F++)if(V=u[F],V!==i){var U=y[a(V)];U.type===O&&_.push(V)}var H=n(S,i);if(H){var z=[];for(F=0;F<_.length;F++)V=_[F],H[V]||z.push(V);_=z}var G=_.length,Y,J;G&&(v.matches||T.matches)&&(Y=p.coerce(v,A,{matches:{valType:"enumerated",values:_,dflt:_.indexOf(T.matches)!==-1?T.matches:void 0}},"matches"));var ae=M&&!D?A.anchor:void 0;if(G&&!Y&&(v.scaleanchor||ae)&&(J=p.coerce(v,A,{scaleanchor:{valType:"enumerated",values:_.concat([!1])}},"scaleanchor",ae)),Y){A._matchGroup=l(R,i,Y,1);var oe=y[a(Y)],he=s(y,A)/s(y,oe);D!==(Y.charAt(0)==="x")&&(he=(D?"x":"y")+he),l(S,i,Y,he)}else v.matches&&u.indexOf(v.matches)!==-1&&p.warn("ignored "+A._name+'.matches: "'+v.matches+'" to avoid an infinite loop');if(J){var q=b("scaleratio");q||(q=A.scaleratio=1),l(S,i,J,q)}else v.scaleanchor&&u.indexOf(v.scaleanchor)!==-1&&p.warn("ignored "+A._name+'.scaleanchor: "'+v.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function s(v,A){var d=A.domain;return d||(d=v[a(A.overlaying)].domain),d[1]-d[0]}function n(v,A){for(var d=0;d<v.length;d++)if(v[d][A])return v[d];return null}function l(v,A,d,u){var y,M,S,R,x,E=n(v,A);E===null?(E={},E[A]=1,x=v.length,v.push(E)):x=v.indexOf(E);var T=Object.keys(E);for(y=0;y<v.length;y++)if(S=v[y],y!==x&&S[d]){var i=S[d];for(M=0;M<T.length;M++)R=T[M],S[R]=c(i,c(u,E[R]));v.splice(x,1);return}if(u!==1)for(M=0;M<T.length;M++){var D=T[M];E[D]=c(u,E[D])}E[d]=1}function c(v,A){var d="",u="",y,M;typeof v=="string"&&(d=v.match(/^[xy]*/)[0],y=d.length,v=+v.substr(y)),typeof A=="string"&&(u=A.match(/^[xy]*/)[0],M=u.length,A=+A.substr(M));var S=v*A;return!y&&!M?S:!y||!M||d.charAt(0)===u.charAt(0)?d+u+v*A:y===M?S:(y>M?d.substr(M):u.substr(y))+S}function f(v,A){for(var d=A._size,u=d.h/d.w,y={},M=Object.keys(v),S=0;S<M.length;S++){var R=M[S],x=v[R];if(typeof x=="string"){var E=x.match(/^[xy]*/)[0],T=E.length;x=+x.substr(T);for(var i=E.charAt(0)==="y"?u:1/u,D=0;D<T;D++)x*=i}y[R]=x}return y}N.enforce=function(A){var d=A._fullLayout,u=d._axisConstraintGroups||[],y,M,S,R,x,E,T,i;for(y=0;y<u.length;y++){S=f(u[y],d);var D=Object.keys(S),b=1/0,O=0,F=1/0,V={},_={},U=!1;for(M=0;M<D.length;M++)R=D[M],_[R]=x=d[a(R)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),V[R]=E=Math.abs(x._m)/S[R],b=Math.min(b,E),(x.constrain==="domain"||!x._constraintShrinkable)&&(F=Math.min(F,E)),delete x._constraintShrinkable,O=Math.max(O,E),x.constrain==="domain"&&(U=!0);if(!(b>g*O&&!U)){for(M=0;M<D.length;M++)if(R=D[M],E=V[R],x=_[R],T=x.constrain,E!==F||T==="domain")if(i=E/F,T==="range")w(x,i);else{var H=x._inputDomain,z=(x.domain[1]-x.domain[0])/(H[1]-H[0]),G=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if(i/=z,i*G<1){x.domain=x._input.domain=H.slice(),w(x,i);continue}if(G<1&&(x.range=x._input.range=x._inputRange.slice(),i*=G),x.autorange){var Y=x.r2l(x.range[0]),J=x.r2l(x.range[1]),ae=(Y+J)/2,oe=ae,he=ae,q=Math.abs(J-ae),Z=ae-q*i*1.0001,$=ae+q*i*1.0001,K=L.makePadFn(d,x,0),re=L.makePadFn(d,x,1);m(x,i);var le=Math.abs(x._m),te=L.concatExtremes(A,x),ee=te.min,ue=te.max,se,ve;for(ve=0;ve<ee.length;ve++)se=ee[ve].val-K(ee[ve])/le,se>Z&&se<oe&&(oe=se);for(ve=0;ve<ue.length;ve++)se=ue[ve].val+re(ue[ve])/le,se<$&&se>he&&(he=se);var be=(he-oe)/(2*q);i/=be,oe=x.l2r(oe),he=x.l2r(he),x.range=x._input.range=Y<J?[oe,he]:[he,oe]}m(x,i)}}}},N.getAxisGroup=function(A,d){for(var u=A._axisMatchGroups,y=0;y<u.length;y++){var M=u[y];if(M[d])return"g"+y}return d},N.clean=function(A,d){if(d._inputDomain){for(var u=!1,y=d._id,M=A._fullLayout._axisConstraintGroups,S=0;S<M.length;S++)if(M[S][y]){u=!0;break}(!u||d.constrain!=="domain")&&(d._input.domain=d.domain=d._inputDomain,delete d._inputDomain)}};function m(v,A){var d=v._inputDomain,u=t[v.constraintoward],y=d[0]+(d[1]-d[0])*u;v.domain=v._input.domain=[y+(d[0]-y)/A,y+(d[1]-y)/A],v.setScale()}},29323:function(B,N,e){var p=e(39898),L=e(71828),a=L.numberFormat,C=e(84267),w=e(38520),h=e(73972),g=L.strTranslate,t=e(63893),r=e(7901),s=e(91424),n=e(30211),l=e(89298),c=e(6964),f=e(28569),m=e(64505),v=m.selectingOrDrawing,A=m.freeMode,d=e(18783).FROM_TL,u=e(33306),y=e(61549).redrawReglTraces,M=e(74875),S=e(41675).getFromId,R=e(47322).prepSelect,x=e(47322).clearOutline,E=e(47322).selectOnClick,T=e(42449),i=e(85555),D=i.MINDRAG,b=i.MINZOOM,O=!0;function F(se,ve,be,Ee,Ae,Oe,Ue,Le){var we=se._fullLayout._zoomlayer,Ce=Ue+Le==="nsew",Ve=(Ue+Le).length===1,Ne,ke,We,rt,et,tt,at,ct,dt,gt,Et,Ct,Vt,Je,_e,Fe,Be,De,Te,xe,Me,Pe,He;be+=ve.yaxis._shift;function Ke(){if(Ne=ve.xaxis,ke=ve.yaxis,dt=Ne._length,gt=ke._length,at=Ne._offset,ct=ke._offset,We={},We[Ne._id]=Ne,rt={},rt[ke._id]=ke,Ue&&Le)for(var rr=ve.overlays,_t=0;_t<rr.length;_t++){var hr=rr[_t].xaxis;We[hr._id]=hr;var gr=rr[_t].yaxis;rt[gr._id]=gr}et=ue(We),tt=ue(rt),Vt=U(et,Le),Je=U(tt,Ue),_e=!Je&&!Vt,Ct=te(se,se._fullLayout._axisMatchGroups,We,rt),Et=te(se,se._fullLayout._axisConstraintGroups,We,rt,Ct);var pr=Et.isSubplotConstrained||Ct.isSubplotConstrained;Fe=Le||pr,Be=Ue||pr;var vr=se._fullLayout;De=vr._has("scattergl"),Te=vr._has("splom"),xe=vr._has("svg")}Ke();var qe=J(Je+Vt,se._fullLayout.dragmode,Ce),vt=_(ve,Ue+Le+"drag",qe,be,Ee,Ae,Oe);if(_e&&!Ce)return vt.onmousedown=null,vt.style.pointerEvents="none",vt;var bt={element:vt,gd:se,plotinfo:ve};bt.prepFn=function(rr,_t,hr){var gr=bt.dragmode,pr=se._fullLayout.dragmode;pr!==gr&&(bt.dragmode=pr),Ke(),Pe=se._fullLayout._invScaleX,He=se._fullLayout._invScaleY,_e||(Ce?rr.shiftKey?pr==="pan"?pr="zoom":v(pr)||(pr="pan"):rr.ctrlKey&&(pr="pan"):pr="pan"),A(pr)?bt.minDrag=1:bt.minDrag=void 0,v(pr)?(bt.xaxes=et,bt.yaxes=tt,R(rr,_t,hr,bt,pr)):(bt.clickFn=qt,v(gr)&&Wt(),_e||(pr==="zoom"?(bt.moveFn=xt,bt.doneFn=Dt,bt.minDrag=1,st(rr,_t,hr)):pr==="pan"&&(bt.moveFn=sr,bt.doneFn=It))),se._fullLayout._redrag=function(){var vr=se._dragdata;if(vr&&vr.element===vt){var Gr=se._fullLayout.dragmode;v(Gr)||(Ke(),kt([0,0,dt,gt]),bt.moveFn(vr.dx,vr.dy))}}};function Wt(){bt.plotinfo.selection=!1,x(se)}function qt(rr,_t){var hr=bt.gd;if(hr._fullLayout._activeShapeIndex>=0){hr._fullLayout._deactivateShape(hr);return}var gr=hr._fullLayout.clickmode;if(Z(hr),rr===2&&!Ve&&je(),Ce)gr.indexOf("select")>-1&&E(_t,hr,et,tt,ve.id,bt),gr.indexOf("event")>-1&&n.click(hr,_t,ve.id);else if(rr===1&&Ve){var pr=Ue?ke:Ne,vr=Ue==="s"||Le==="w"?0:1,Gr=pr._name+".range["+vr+"]",Fr=H(pr,vr),_r="left",gn="middle";if(pr.fixedrange)return;Ue?(gn=Ue==="n"?"top":"bottom",pr.side==="right"&&(_r="right")):Le==="e"&&(_r="right"),hr._context.showAxisRangeEntryBoxes&&p.select(vt).call(t.makeEditable,{gd:hr,immediate:!0,background:hr._fullLayout.paper_bgcolor,text:String(Fr),fill:pr.tickfont?pr.tickfont.color:"#444",horizontalAlign:_r,verticalAlign:gn}).on("edit",function(tn){var Bn=pr.d2r(tn);Bn!==void 0&&h.call("_guiRelayout",hr,Gr,Bn)})}}f.init(bt);var At,zt,Kt,Sr,yt,Zt,$t,mr,ur,pt;function st(rr,_t,hr){var gr=vt.getBoundingClientRect();At=_t-gr.left,zt=hr-gr.top,se._fullLayout._calcInverseTransform(se);var pr=L.apply3DTransform(se._fullLayout._invTransform)(At,zt);At=pr[0],zt=pr[1],Kt={l:At,r:At,w:0,t:zt,b:zt,h:0},Sr=se._hmpixcount?se._hmlumcount/se._hmpixcount:C(se._fullLayout.plot_bgcolor).getLuminance(),yt="M0,0H"+dt+"V"+gt+"H0V0",Zt=!1,$t="xy",pt=!1,mr=ae(we,Sr,at,ct,yt),ur=oe(we,at,ct)}function xt(rr,_t){if(se._transitioningWithDuration)return!1;var hr=Math.max(0,Math.min(dt,Pe*rr+At)),gr=Math.max(0,Math.min(gt,He*_t+zt)),pr=Math.abs(hr-At),vr=Math.abs(gr-zt);Kt.l=Math.min(At,hr),Kt.r=Math.max(At,hr),Kt.t=Math.min(zt,gr),Kt.b=Math.max(zt,gr);function Gr(){$t="",Kt.r=Kt.l,Kt.t=Kt.b,ur.attr("d","M0,0Z")}if(Et.isSubplotConstrained)pr>b||vr>b?($t="xy",pr/dt>vr/gt?(vr=pr*gt/dt,zt>gr?Kt.t=zt-vr:Kt.b=zt+vr):(pr=vr*dt/gt,At>hr?Kt.l=At-pr:Kt.r=At+pr),ur.attr("d",le(Kt))):Gr();else if(Ct.isSubplotConstrained)if(pr>b||vr>b){$t="xy";var Fr=Math.min(Kt.l/dt,(gt-Kt.b)/gt),_r=Math.max(Kt.r/dt,(gt-Kt.t)/gt);Kt.l=Fr*dt,Kt.r=_r*dt,Kt.b=(1-Fr)*gt,Kt.t=(1-_r)*gt,ur.attr("d",le(Kt))}else Gr();else!Je||vr<Math.min(Math.max(pr*.6,D),b)?pr<D||!Vt?Gr():(Kt.t=0,Kt.b=gt,$t="x",ur.attr("d",K(Kt,zt))):!Vt||pr<Math.min(vr*.6,b)?(Kt.l=0,Kt.r=dt,$t="y",ur.attr("d",re(Kt,At))):($t="xy",ur.attr("d",le(Kt)));Kt.w=Kt.r-Kt.l,Kt.h=Kt.b-Kt.t,$t&&(pt=!0),se._dragged=pt,he(mr,ur,Kt,yt,Zt,Sr),St(),se.emit("plotly_relayouting",Me),Zt=!0}function St(){Me={},($t==="xy"||$t==="x")&&(z(et,Kt.l/dt,Kt.r/dt,Me,Et.xaxes),dr("x",Me)),($t==="xy"||$t==="y")&&(z(tt,(gt-Kt.b)/gt,(gt-Kt.t)/gt,Me,Et.yaxes),dr("y",Me))}function Dt(){St(),Z(se),It(),$(se)}var Rt=[0,0,dt,gt],Bt=null,Nt=i.REDRAWDELAY,Xt=ve.mainplot?se._fullLayout._plots[ve.mainplot]:ve;function lr(rr){if(!se._context._scrollZoom.cartesian&&!se._fullLayout._enablescrollzoom)return;if(Wt(),se._transitioningWithDuration){rr.preventDefault(),rr.stopPropagation();return}Ke(),clearTimeout(Bt);var _t=-rr.deltaY;if(isFinite(_t)||(_t=rr.wheelDelta/10),!isFinite(_t)){L.log("Did not find wheel motion attributes: ",rr);return}var hr=Math.exp(-Math.min(Math.max(_t,-20),20)/200),gr=Xt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),pr=(rr.clientX-gr.left)/gr.width,vr=(gr.bottom-rr.clientY)/gr.height,Gr;function Fr(_r,gn,tn){if(_r.fixedrange)return;var Bn=L.simpleMap(_r.range,_r.r2l),An=Bn[0]+(Bn[1]-Bn[0])*gn;function Mr(Cr){return _r.l2r(An+(Cr-An)*tn)}_r.range=Bn.map(Mr)}if(Fe){for(Le||(pr=.5),Gr=0;Gr<et.length;Gr++)Fr(et[Gr],pr,hr);dr("x"),Rt[2]*=hr,Rt[0]+=Rt[2]*pr*(1/hr-1)}if(Be){for(Ue||(vr=.5),Gr=0;Gr<tt.length;Gr++)Fr(tt[Gr],vr,hr);dr("y"),Rt[3]*=hr,Rt[1]+=Rt[3]*(1-vr)*(1/hr-1)}kt(Rt),Ye(),se.emit("plotly_relayouting",Me),Bt=setTimeout(function(){se._fullLayout&&(Rt=[0,0,dt,gt],It())},Nt),rr.preventDefault()}Ue.length*Le.length!==1&&ee(vt,lr);function sr(rr,_t){if(rr=rr*Pe,_t=_t*He,se._transitioningWithDuration)return;if(se._fullLayout._replotting=!0,Vt==="ew"||Je==="ns"){var hr=Vt?-rr:0,gr=Je?-_t:0;if(Ct.isSubplotConstrained){if(Vt&&Je){var pr=(rr/dt-_t/gt)/2;rr=pr*dt,_t=-pr*gt,hr=-rr,gr=-_t}Je?hr=-gr*dt/gt:gr=-hr*gt/dt}Vt&&(G(et,rr),dr("x")),Je&&(G(tt,_t),dr("y")),kt([hr,gr,dt,gt]),Ye(),se.emit("plotly_relayouting",Me);return}function vr(Mr,Cr,jr){for(var Hr=1-Cr,on,yn,xn=0;xn<Mr.length;xn++){var Rn=Mr[xn];if(!Rn.fixedrange){on=Rn,yn=Rn._rl[Hr]+(Rn._rl[Cr]-Rn._rl[Hr])/Y(jr/Rn._length);var _n=Rn.l2r(yn);_n!==!1&&_n!==void 0&&(Rn.range[Cr]=_n)}}return on._length*(on._rl[Cr]-yn)/(on._rl[Cr]-on._rl[Hr])}var Gr=Vt==="w"==(Je==="n")?1:-1;if(Vt&&Je&&(Et.isSubplotConstrained||Ct.isSubplotConstrained)){var Fr=(rr/dt+Gr*_t/gt)/2;rr=Fr*dt,_t=Gr*Fr*gt}var _r,gn;if(Vt==="w"?rr=vr(et,0,rr):Vt==="e"?rr=vr(et,1,-rr):Vt||(rr=0),Je==="n"?_t=vr(tt,1,_t):Je==="s"?_t=vr(tt,0,-_t):Je||(_t=0),_r=Vt==="w"?rr:0,gn=Je==="n"?_t:0,Et.isSubplotConstrained&&!Ct.isSubplotConstrained||Ct.isSubplotConstrained&&Vt&&Je&&Gr>0){var tn;if(Ct.isSubplotConstrained||!Vt&&Je.length===1){for(tn=0;tn<et.length;tn++)et[tn].range=et[tn]._r.slice(),T(et[tn],1-_t/gt);rr=_t*dt/gt,_r=rr/2}if(Ct.isSubplotConstrained||!Je&&Vt.length===1){for(tn=0;tn<tt.length;tn++)tt[tn].range=tt[tn]._r.slice(),T(tt[tn],1-rr/dt);_t=rr*gt/dt,gn=_t/2}}(!Ct.isSubplotConstrained||!Je)&&dr("x"),(!Ct.isSubplotConstrained||!Vt)&&dr("y");var Bn=dt-rr,An=gt-_t;Ct.isSubplotConstrained&&!(Vt&&Je)&&(Vt?(gn=_r?0:rr*gt/dt,An=Bn*gt/dt):(_r=gn?0:_t*dt/gt,Bn=An*dt/gt)),kt([_r,gn,Bn,An]),Ye(),se.emit("plotly_relayouting",Me)}function dr(rr,_t){for(var hr=Ct.isSubplotConstrained?{x:tt,y:et}[rr]:Ct[rr+"axes"],gr=Ct.isSubplotConstrained?{x:et,y:tt}[rr]:[],pr=0;pr<hr.length;pr++){var vr=hr[pr],Gr=vr._id,Fr=Ct.xLinks[Gr]||Ct.yLinks[Gr],_r=gr[0]||We[Fr]||rt[Fr];_r&&(_t?(_t[vr._name+".range[0]"]=_t[_r._name+".range[0]"],_t[vr._name+".range[1]"]=_t[_r._name+".range[1]"]):vr.range=_r.range.slice())}}function Ye(){var rr=[],_t;function hr(Gr){for(_t=0;_t<Gr.length;_t++)Gr[_t].fixedrange||rr.push(Gr[_t]._id)}function gr(Gr,Fr){for(_t=0;_t<Gr.length;_t++){var _r=Gr[_t],gn=_r[Fr];!_r.fixedrange&&gn.tickmode==="sync"&&rr.push(gn._id)}}for(Fe&&(hr(et),hr(Et.xaxes),hr(Ct.xaxes),gr(ve.overlays,"xaxis")),Be&&(hr(tt),hr(Et.yaxes),hr(Ct.yaxes),gr(ve.overlays,"yaxis")),Me={},_t=0;_t<rr.length;_t++){var pr=rr[_t],vr=S(se,pr);l.drawOne(se,vr,{skipTitle:!0}),Me[vr._name+".range[0]"]=vr.range[0],Me[vr._name+".range[1]"]=vr.range[1]}l.redrawComponents(se,rr)}function je(){if(!se._transitioningWithDuration){var rr=se._context.doubleClick,_t=[];Vt&&(_t=_t.concat(et)),Je&&(_t=_t.concat(tt)),Ct.xaxes&&(_t=_t.concat(Ct.xaxes)),Ct.yaxes&&(_t=_t.concat(Ct.yaxes));var hr={},gr,pr;if(rr==="reset+autosize")for(rr="autosize",pr=0;pr<_t.length;pr++){gr=_t[pr];var vr=gr._rangeInitial0,Gr=gr._rangeInitial1,Fr=vr!==void 0||Gr!==void 0;if(Fr&&(vr!==void 0&&vr!==gr.range[0]||Gr!==void 0&&Gr!==gr.range[1])||!Fr&&gr.autorange!==!0){rr="reset";break}}if(rr==="autosize")for(pr=0;pr<_t.length;pr++)gr=_t[pr],gr.fixedrange||(hr[gr._name+".autorange"]=!0);else if(rr==="reset"){for((Vt||Et.isSubplotConstrained)&&(_t=_t.concat(Et.xaxes)),Je&&!Et.isSubplotConstrained&&(_t=_t.concat(Et.yaxes)),Et.isSubplotConstrained&&(Vt?Je||(_t=_t.concat(tt)):_t=_t.concat(et)),pr=0;pr<_t.length;pr++)if(gr=_t[pr],!gr.fixedrange){var _r=gr._name,gn=gr._autorangeInitial;gr._rangeInitial0===void 0&&gr._rangeInitial1===void 0?hr[_r+".autorange"]=!0:gr._rangeInitial0===void 0?(hr[_r+".autorange"]=gn,hr[_r+".range"]=[null,gr._rangeInitial1]):gr._rangeInitial1===void 0?(hr[_r+".range"]=[gr._rangeInitial0,null],hr[_r+".autorange"]=gn):hr[_r+".range"]=[gr._rangeInitial0,gr._rangeInitial1]}}se.emit("plotly_doubleclick",null),h.call("_guiRelayout",se,hr)}}function It(){kt([0,0,dt,gt]),L.syncOrAsync([M.previousPromises,function(){se._fullLayout._replotting=!1,h.call("_guiRelayout",se,Me)}],se)}function kt(rr){var _t=se._fullLayout,hr=_t._plots,gr=_t._subplots.cartesian,pr,vr,Gr,Fr;if(Te&&h.subplotsRegistry.splom.drag(se),De){for(pr=0;pr<gr.length;pr++)if(vr=hr[gr[pr]],Gr=vr.xaxis,Fr=vr.yaxis,vr._scene){var _r=L.simpleMap(Gr.range,Gr.r2l),gn=L.simpleMap(Fr.range,Fr.r2l);Gr.limitRange&&Gr.limitRange(),Fr.limitRange&&Fr.limitRange(),_r=Gr.range,gn=Fr.range,vr._scene.update({range:[_r[0],gn[0],_r[1],gn[1]]})}}if((Te||De)&&(u(se),y(se)),xe){var tn=rr[2]/Ne._length,Bn=rr[3]/ke._length;for(pr=0;pr<gr.length;pr++){vr=hr[gr[pr]],Gr=vr.xaxis,Fr=vr.yaxis;var An=(Fe||Ct.isSubplotConstrained)&&!Gr.fixedrange&&We[Gr._id],Mr=(Be||Ct.isSubplotConstrained)&&!Fr.fixedrange&&rt[Fr._id],Cr,jr,Hr,on;if(An?(Cr=tn,Hr=Le||Ct.isSubplotConstrained?rr[0]:or(Gr,Cr)):Ct.xaHash[Gr._id]?(Cr=tn,Hr=rr[0]*Gr._length/Ne._length):Ct.yaHash[Gr._id]?(Cr=Bn,Hr=Je==="ns"?-rr[1]*Gr._length/ke._length:or(Gr,Cr,{n:"top",s:"bottom"}[Je])):(Cr=jt(Gr,tn,Bn),Hr=tr(Gr,Cr)),Cr>1&&(Gr.maxallowed!==void 0&&Fe===(Gr.range[0]<Gr.range[1]?"e":"w")||Gr.minallowed!==void 0&&Fe===(Gr.range[0]<Gr.range[1]?"w":"e"))&&(Cr=1,Hr=0),Mr?(jr=Bn,on=Ue||Ct.isSubplotConstrained?rr[1]:or(Fr,jr)):Ct.yaHash[Fr._id]?(jr=Bn,on=rr[1]*Fr._length/ke._length):Ct.xaHash[Fr._id]?(jr=tn,on=Vt==="ew"?-rr[0]*Fr._length/Ne._length:or(Fr,jr,{e:"right",w:"left"}[Vt])):(jr=jt(Fr,tn,Bn),on=tr(Fr,jr)),jr>1&&(Fr.maxallowed!==void 0&&Be===(Fr.range[0]<Fr.range[1]?"n":"s")||Fr.minallowed!==void 0&&Be===(Fr.range[0]<Fr.range[1]?"s":"n"))&&(jr=1,on=0),!(!Cr&&!jr)){Cr||(Cr=1),jr||(jr=1);var yn=Gr._offset-Hr/Cr,xn=Fr._offset-on/jr;vr.clipRect.call(s.setTranslate,Hr,on).call(s.setScale,Cr,jr),vr.plot.call(s.setTranslate,yn,xn).call(s.setScale,1/Cr,1/jr),(Cr!==vr.xScaleFactor||jr!==vr.yScaleFactor)&&(s.setPointGroupScale(vr.zoomScalePts,Cr,jr),s.setTextPointsScale(vr.zoomScaleTxt,Cr,jr)),s.hideOutsideRangePoints(vr.clipOnAxisFalseTraces,vr),vr.xScaleFactor=Cr,vr.yScaleFactor=jr}}}}function jt(rr,_t,hr){return rr.fixedrange?0:Fe&&Et.xaHash[rr._id]?_t:Be&&(Et.isSubplotConstrained?Et.xaHash:Et.yaHash)[rr._id]?hr:0}function tr(rr,_t){return _t?(rr.range=rr._r.slice(),T(rr,_t),or(rr,_t)):0}function or(rr,_t,hr){return rr._length*(1-_t)*d[hr||rr.constraintoward||"middle"]}return vt}function V(se,ve,be,Ee){var Ae=L.ensureSingle(se.draglayer,ve,be,function(Oe){Oe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",se.id)});return Ae.call(c,Ee),Ae.node()}function _(se,ve,be,Ee,Ae,Oe,Ue){var Le=V(se,"rect",ve,be);return p.select(Le).call(s.setRect,Ee,Ae,Oe,Ue),Le}function U(se,ve){for(var be=0;be<se.length;be++)if(!se[be].fixedrange)return ve;return""}function H(se,ve){var be=se.range[ve],Ee=Math.abs(be-se.range[1-ve]),Ae;return se.type==="date"?be:se.type==="log"?(Ae=Math.ceil(Math.max(0,-Math.log(Ee)/Math.LN10))+3,a("."+Ae+"g")(Math.pow(10,be))):(Ae=Math.floor(Math.log(Math.abs(be))/Math.LN10)-Math.floor(Math.log(Ee)/Math.LN10)+4,a("."+String(Ae)+"g")(be))}function z(se,ve,be,Ee,Ae){for(var Oe=0;Oe<se.length;Oe++){var Ue=se[Oe];if(!Ue.fixedrange)if(Ue.rangebreaks){var Le=Ue._id.charAt(0)==="y",we=Le?1-ve:ve,Ce=Le?1-be:be;Ee[Ue._name+".range[0]"]=Ue.l2r(Ue.p2l(we*Ue._length)),Ee[Ue._name+".range[1]"]=Ue.l2r(Ue.p2l(Ce*Ue._length))}else{var Ve=Ue._rl[0],Ne=Ue._rl[1]-Ve;Ee[Ue._name+".range[0]"]=Ue.l2r(Ve+Ne*ve),Ee[Ue._name+".range[1]"]=Ue.l2r(Ve+Ne*be)}}if(Ae&&Ae.length){var ke=(ve+(1-be))/2;z(Ae,ke,1-ke,Ee,[])}}function G(se,ve){for(var be=0;be<se.length;be++){var Ee=se[be];if(!Ee.fixedrange){if(Ee.rangebreaks){var Ae=0,Oe=Ee._length,Ue=Ee.p2l(Ae+ve)-Ee.p2l(Ae),Le=Ee.p2l(Oe+ve)-Ee.p2l(Oe),we=(Ue+Le)/2;Ee.range=[Ee.l2r(Ee._rl[0]-we),Ee.l2r(Ee._rl[1]-we)]}else Ee.range=[Ee.l2r(Ee._rl[0]-ve/Ee._m),Ee.l2r(Ee._rl[1]-ve/Ee._m)];Ee.limitRange&&Ee.limitRange()}}}function Y(se){return 1-(se>=0?Math.min(se,.9):1/(1/Math.max(se,-.3)+3.222))}function J(se,ve,be){return se?se==="nsew"?be?"":ve==="pan"?"move":"crosshair":se.toLowerCase()+"-resize":"pointer"}function ae(se,ve,be,Ee,Ae){return se.append("path").attr("class","zoombox").style({fill:ve>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",g(be,Ee)).attr("d",Ae+"Z")}function oe(se,ve,be){return se.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",g(ve,be)).attr("d","M0,0Z")}function he(se,ve,be,Ee,Ae,Oe){se.attr("d",Ee+"M"+be.l+","+be.t+"v"+be.h+"h"+be.w+"v-"+be.h+"h-"+be.w+"Z"),q(se,ve,Ae,Oe)}function q(se,ve,be,Ee){be||(se.transition().style("fill",Ee>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ve.transition().style("opacity",1).duration(200))}function Z(se){p.select(se).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function $(se){O&&se.data&&se._context.showTips&&(L.notifier(L._(se,"Double-click to zoom back out"),"long"),O=!1)}function K(se,ve){return"M"+(se.l-.5)+","+(ve-b-.5)+"h-3v"+(2*b+1)+"h3ZM"+(se.r+.5)+","+(ve-b-.5)+"h3v"+(2*b+1)+"h-3Z"}function re(se,ve){return"M"+(ve-b-.5)+","+(se.t-.5)+"v-3h"+(2*b+1)+"v3ZM"+(ve-b-.5)+","+(se.b+.5)+"v3h"+(2*b+1)+"v-3Z"}function le(se){var ve=Math.floor(Math.min(se.b-se.t,se.r-se.l,b)/2);return"M"+(se.l-3.5)+","+(se.t-.5+ve)+"h3v"+-ve+"h"+ve+"v-3h-"+(ve+3)+"ZM"+(se.r+3.5)+","+(se.t-.5+ve)+"h-3v"+-ve+"h"+-ve+"v-3h"+(ve+3)+"ZM"+(se.r+3.5)+","+(se.b+.5-ve)+"h-3v"+ve+"h"+-ve+"v3h"+(ve+3)+"ZM"+(se.l-3.5)+","+(se.b+.5-ve)+"h3v"+ve+"h"+ve+"v3h-"+(ve+3)+"Z"}function te(se,ve,be,Ee,Ae){for(var Oe=!1,Ue={},Le={},we,Ce,Ve,Ne,ke=(Ae||{}).xaHash,We=(Ae||{}).yaHash,rt=0;rt<ve.length;rt++){var et=ve[rt];for(we in be)if(et[we]){for(Ve in et)!(Ae&&(ke[Ve]||We[Ve]))&&!(Ve.charAt(0)==="x"?be:Ee)[Ve]&&(Ue[Ve]=we);for(Ce in Ee)!(Ae&&(ke[Ce]||We[Ce]))&&et[Ce]&&(Oe=!0)}for(Ce in Ee)if(et[Ce])for(Ne in et)!(Ae&&(ke[Ne]||We[Ne]))&&!(Ne.charAt(0)==="x"?be:Ee)[Ne]&&(Le[Ne]=Ce)}Oe&&(L.extendFlat(Ue,Le),Le={});var tt={},at=[];for(Ve in Ue){var ct=S(se,Ve);at.push(ct),tt[ct._id]=ct}var dt={},gt=[];for(Ne in Le){var Et=S(se,Ne);gt.push(Et),dt[Et._id]=Et}return{xaHash:tt,yaHash:dt,xaxes:at,yaxes:gt,xLinks:Ue,yLinks:Le,isSubplotConstrained:Oe}}function ee(se,ve){if(!w)se.onwheel!==void 0?se.onwheel=ve:se.onmousewheel!==void 0?se.onmousewheel=ve:se.isAddedWheelEvent||(se.isAddedWheelEvent=!0,se.addEventListener("wheel",ve,{passive:!1}));else{var be=se.onwheel!==void 0?"wheel":"mousewheel";se._onwheel&&se.removeEventListener(be,se._onwheel),se._onwheel=ve,se.addEventListener(be,ve,{passive:!1})}}function ue(se){var ve=[];for(var be in se)ve.push(se[be]);return ve}B.exports={makeDragBox:F,makeDragger:V,makeRectDragger:_,makeZoombox:ae,makeCorners:oe,updateZoombox:he,xyCorners:le,transitionZoombox:q,removeZoombox:Z,showDoubleClickNotifier:$,attachWheelEventHandler:ee}},4305:function(B,N,e){var p=e(39898),L=e(30211),a=e(28569),C=e(6964),w=e(29323).makeDragBox,h=e(85555).DRAGGERSIZE;N.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){p.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var s=Object.keys(r._plots||{}).sort(function(l,c){if((r._plots[l].mainplot&&!0)===(r._plots[c].mainplot&&!0)){var f=l.split("y"),m=c.split("y");return f[0]===m[0]?Number(f[1]||1)-Number(m[1]||1):Number(f[0]||1)-Number(m[0]||1)}return r._plots[l].mainplot?1:-1});s.forEach(function(l){var c=r._plots[l],f=c.xaxis,m=c.yaxis;if(!c.mainplot){var v=w(t,c,f._offset,m._offset,f._length,m._length,"ns","ew");v.onmousemove=function(u){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===l&&t._fullLayout._plots[l]&&L.hover(t,u,l)},L.hover(t,u,l),t._fullLayout._lasthover=v,t._fullLayout._hoversubplot=l},v.onmouseout=function(u){t._dragging||(t._fullLayout._hoversubplot=null,a.unhover(t,u))},t._context.showAxisDragHandles&&(w(t,c,f._offset-h,m._offset-h,h,h,"n","w"),w(t,c,f._offset+f._length,m._offset-h,h,h,"n","e"),w(t,c,f._offset-h,m._offset+m._length,h,h,"s","w"),w(t,c,f._offset+f._length,m._offset+m._length,h,h,"s","e"))}if(t._context.showAxisDragHandles){if(l===f._mainSubplot){var A=f._mainLinePosition;f.side==="top"&&(A-=h),w(t,c,f._offset+f._length*.1,A,f._length*.8,h,"","ew"),w(t,c,f._offset,A,f._length*.1,h,"","w"),w(t,c,f._offset+f._length*.9,A,f._length*.1,h,"","e")}if(l===m._mainSubplot){var d=m._mainLinePosition;m.side!=="right"&&(d-=h),w(t,c,d,m._offset+m._length*.1,h,m._length*.8,"ns",""),w(t,c,d,m._offset+m._length*.9,h,m._length*.1,"s",""),w(t,c,d,m._offset,h,m._length*.1,"n","")}}});var n=r._hoverlayer.node();n.onmousemove=function(l){l.target=t._fullLayout._lasthover,L.hover(t,l,r._hoversubplot)},n.onclick=function(l){l.target=t._fullLayout._lasthover,L.click(t,l)},n.onmousedown=function(l){t._fullLayout._lasthover.onmousedown(l)},N.updateFx(t)}},N.updateFx=function(g){var t=g._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";C(t._draggers,r)}},76325:function(B,N,e){var p=e(73972),L=e(71828),a=e(41675);B.exports=function(w){return function(g,t){var r=g[w];if(Array.isArray(r))for(var s=p.subplotsRegistry.cartesian,n=s.idRegex,l=t._subplots,c=l.xaxis,f=l.yaxis,m=l.cartesian,v=t._has("cartesian")||t._has("gl2d"),A=0;A<r.length;A++){var d=r[A];if(L.isPlainObject(d)){var u=a.cleanId(d.xref,"x",!1),y=a.cleanId(d.yref,"y",!1),M=n.x.test(u),S=n.y.test(y);if(M||S){v||L.pushUnique(t._basePlotModules,s);var R=!1;M&&c.indexOf(u)===-1&&(c.push(u),R=!0),S&&f.indexOf(y)===-1&&(f.push(y),R=!0),R&&M&&S&&m.push(u+y)}}}}}},93612:function(B,N,e){var p=e(39898),L=e(73972),a=e(71828),C=e(74875),w=e(91424),h=e(27659).a0,g=e(41675),t=e(85555),r=e(77922),s=a.ensureSingle;function n(A,d,u){return a.ensureSingle(A,d,u,function(y){y.datum(u)})}N.name="cartesian",N.attr=["xaxis","yaxis"],N.idRoot=["x","y"],N.idRegex=t.idRegex,N.attrRegex=t.attrRegex,N.attributes=e(89502),N.layoutAttributes=e(13838),N.supplyLayoutDefaults=e(86763),N.transitionAxes=e(66847),N.finalizeSubplots=function(A,d){var u=d._subplots,y=u.xaxis,M=u.yaxis,S=u.cartesian,R=S.concat(u.gl2d||[]),x={},E={},T,i,D;for(T=0;T<R.length;T++){var b=R[T].split("y");x[b[0]]=1,E["y"+b[1]]=1}for(T=0;T<y.length;T++)i=y[T],x[i]||(D=(A[g.id2name(i)]||{}).anchor,t.idRegex.y.test(D)||(D="y"),S.push(i+D),R.push(i+D),E[D]||(E[D]=1,a.pushUnique(M,D)));for(T=0;T<M.length;T++)D=M[T],E[D]||(i=(A[g.id2name(D)]||{}).anchor,t.idRegex.x.test(i)||(i="x"),S.push(i+D),R.push(i+D),x[i]||(x[i]=1,a.pushUnique(y,i)));if(!R.length){i="",D="";for(var O in A)if(t.attrRegex.test(O)){var F=O.charAt(0);F==="x"?(!i||+O.substr(5)<+i.substr(5))&&(i=O):(!D||+O.substr(5)<+D.substr(5))&&(D=O)}i=i?g.name2id(i):"x",D=D?g.name2id(D):"y",y.push(i),M.push(D),S.push(i+D)}},N.plot=function(A,d,u,y){var M=A._fullLayout,S=M._subplots.cartesian,R=A.calcdata,x;if(!Array.isArray(d))for(d=[],x=0;x<R.length;x++)d.push(x);for(x=0;x<S.length;x++){for(var E=S[x],T=M._plots[E],i=[],D,b=0;b<R.length;b++){var O=R[b],F=O[0].trace;F.xaxis+F.yaxis===E&&((d.indexOf(F.index)!==-1||F.carpet)&&(D&&D[0].trace.xaxis+D[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(F.fill)!==-1&&i.indexOf(D)===-1&&i.push(D),i.push(O)),D=O)}l(A,T,i,u,y)}};function l(A,d,u,y,M){for(var S=t.traceLayerClasses,R=A._fullLayout,x=R._modules,E,T,i,D=[],b=[],O=0;O<x.length;O++){E=x[O];var F=E.name,V=L.modules[F].categories;if(V.svg){var _=E.layerName||F+"layer",U=E.plot;T=h(u,U),i=T[0],u=T[1],i.length&&D.push({i:S.indexOf(_),className:_,plotMethod:U,cdModule:i}),V.zoomScale&&b.push("."+_)}}D.sort(function(G,Y){return G.i-Y.i});var H=d.plot.selectAll("g.mlayer").data(D,function(G){return G.className});if(H.enter().append("g").attr("class",function(G){return G.className}).classed("mlayer",!0).classed("rangeplot",d.isRangePlot),H.exit().remove(),H.order(),H.each(function(G){var Y=p.select(this),J=G.className;G.plotMethod(A,d,G.cdModule,Y,y,M),t.clipOnAxisFalseQuery.indexOf("."+J)===-1&&w.setClipUrl(Y,d.layerClipId,A)}),R._has("scattergl")&&(E=L.getModule("scattergl"),i=h(u,E)[0],E.plot(A,d,i)),!A._context.staticPlot&&(d._hasClipOnAxisFalse&&(d.clipOnAxisFalseTraces=d.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),b.length)){var z=d.plot.selectAll(b.join(",")).selectAll(".trace");d.zoomScalePts=z.selectAll("path.point"),d.zoomScaleTxt=z.selectAll(".textpoint")}}N.clean=function(A,d,u,y){var M=y._plots||{},S=d._plots||{},R=y._subplots||{},x,E,T;if(y._hasOnlyLargeSploms&&!d._hasOnlyLargeSploms)for(T in M)x=M[T],x.plotgroup&&x.plotgroup.remove();var i=y._has&&y._has("gl"),D=d._has&&d._has("gl");if(i&&!D)for(T in M)x=M[T],x._scene&&x._scene.destroy();if(R.xaxis&&R.yaxis){var b=g.listIds({_fullLayout:y});for(E=0;E<b.length;E++){var O=b[E];d[g.id2name(O)]||y._infolayer.selectAll(".g-"+O+"title").remove()}}var F=y._has&&y._has("cartesian"),V=d._has&&d._has("cartesian");if(F&&!V)m(y._cartesianlayer.selectAll(".subplot"),y),y._defs.selectAll(".axesclip").remove(),delete y._axisConstraintGroups,delete y._axisMatchGroups;else if(R.cartesian)for(E=0;E<R.cartesian.length;E++){var _=R.cartesian[E];if(!S[_]){var U="."+_+",."+_+"-x,."+_+"-y";y._cartesianlayer.selectAll(U).remove(),v(_,y)}}},N.drawFramework=function(A){var d=A._fullLayout,u=c(A),y=d._cartesianlayer.selectAll(".subplot").data(u,String);y.enter().append("g").attr("class",function(M){return"subplot "+M[0]}),y.order(),y.exit().call(m,d),y.each(function(M){var S=M[0],R=d._plots[S];R.plotgroup=p.select(this),f(A,R),R.draglayer=s(d._draggers,"g",S)})},N.rangePlot=function(A,d,u){f(A,d),l(A,d,u),C.style(A)};function c(A){var d=A._fullLayout,u=d._subplots.cartesian,y=u.length,M,S,R,x,E,T,i=[],D=[];for(M=0;M<y;M++){R=u[M],x=d._plots[R],E=x.xaxis,T=x.yaxis;var b=E._mainAxis,O=T._mainAxis,F=b._id+O._id,V=d._plots[F];x.overlays=[],F!==R&&V?(x.mainplot=F,x.mainplotinfo=V,D.push(R)):(x.mainplot=void 0,x.mainplotinfo=void 0,i.push(R))}for(M=0;M<D.length;M++)R=D[M],x=d._plots[R],x.mainplotinfo.overlays.push(x);var _=i.concat(D),U=new Array(y);for(M=0;M<y;M++){R=_[M],x=d._plots[R],E=x.xaxis,T=x.yaxis;var H=[R,E.layer,T.layer,E.overlaying||"",T.overlaying||""];for(S=0;S<x.overlays.length;S++)H.push(x.overlays[S].id);U[M]=H}return U}function f(A,d){var u=d.plotgroup,y=d.id,M=t.layerValue2layerClass[d.xaxis.layer],S=t.layerValue2layerClass[d.yaxis.layer],R=A._fullLayout._hasOnlyLargeSploms;if(d.mainplot){var E=d.mainplotinfo,T=E.plotgroup,i=y+"-x",D=y+"-y";d.minorGridlayer=E.minorGridlayer,d.gridlayer=E.gridlayer,d.zerolinelayer=E.zerolinelayer,s(E.overlinesBelow,"path",i),s(E.overlinesBelow,"path",D),s(E.overaxesBelow,"g",i),s(E.overaxesBelow,"g",D),d.plot=s(E.overplot,"g",y),s(E.overlinesAbove,"path",i),s(E.overlinesAbove,"path",D),s(E.overaxesAbove,"g",i),s(E.overaxesAbove,"g",D),d.xlines=T.select(".overlines-"+M).select("."+i),d.ylines=T.select(".overlines-"+S).select("."+D),d.xaxislayer=T.select(".overaxes-"+M).select("."+i),d.yaxislayer=T.select(".overaxes-"+S).select("."+D)}else if(R)d.xlines=s(u,"path","xlines-above"),d.ylines=s(u,"path","ylines-above"),d.xaxislayer=s(u,"g","xaxislayer-above"),d.yaxislayer=s(u,"g","yaxislayer-above");else{var x=s(u,"g","layer-subplot");d.shapelayer=s(x,"g","shapelayer"),d.imagelayer=s(x,"g","imagelayer"),d.minorGridlayer=s(u,"g","minor-gridlayer"),d.gridlayer=s(u,"g","gridlayer"),d.zerolinelayer=s(u,"g","zerolinelayer"),s(u,"path","xlines-below"),s(u,"path","ylines-below"),d.overlinesBelow=s(u,"g","overlines-below"),s(u,"g","xaxislayer-below"),s(u,"g","yaxislayer-below"),d.overaxesBelow=s(u,"g","overaxes-below"),d.plot=s(u,"g","plot"),d.overplot=s(u,"g","overplot"),d.xlines=s(u,"path","xlines-above"),d.ylines=s(u,"path","ylines-above"),d.overlinesAbove=s(u,"g","overlines-above"),s(u,"g","xaxislayer-above"),s(u,"g","yaxislayer-above"),d.overaxesAbove=s(u,"g","overaxes-above"),d.xlines=u.select(".xlines-"+M),d.ylines=u.select(".ylines-"+S),d.xaxislayer=u.select(".xaxislayer-"+M),d.yaxislayer=u.select(".yaxislayer-"+S)}R||(n(d.minorGridlayer,"g",d.xaxis._id),n(d.minorGridlayer,"g",d.yaxis._id),d.minorGridlayer.selectAll("g").map(function(b){return b[0]}).sort(g.idSort),n(d.gridlayer,"g",d.xaxis._id),n(d.gridlayer,"g",d.yaxis._id),d.gridlayer.selectAll("g").map(function(b){return b[0]}).sort(g.idSort)),d.xlines.style("fill","none").classed("crisp",!0),d.ylines.style("fill","none").classed("crisp",!0)}function m(A,d){if(A){var u={};A.each(function(E){var T=E[0],i=p.select(this);i.remove(),v(T,d),u[T]=!0});for(var y in d._plots)for(var M=d._plots[y],S=M.overlays||[],R=0;R<S.length;R++){var x=S[R];u[x.id]&&x.plot.selectAll(".trace").remove()}}}function v(A,d){d._draggers.selectAll("g."+A).remove(),d._defs.select("#clip"+d._uid+A+"plot").remove()}N.toSVG=function(A){var d=A._fullLayout._glimages,u=p.select(A).selectAll(".svg-container"),y=u.filter(function(S,R){return R===u.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function M(){var S=this,R=S.toDataURL("image/png"),x=d.append("svg:image");x.attr({xmlns:r.svg,"xlink:href":R,preserveAspectRatio:"none",x:0,y:0,width:S.style.width,height:S.style.height})}y.each(M)},N.updateFx=e(4305).updateFx},13838:function(B,N,e){var p=e(41940),L=e(22399),a=e(79952).P,C=e(1426).extendFlat,w=e(44467).templatedArray,h=e(12663).descriptionWithDates,g=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,s=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=C({},n,{values:n.values.slice().concat(["sync"])});function c(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var f={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},v={valType:"data_array",editType:"ticks"},A={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function d(E){var T={valType:"number",min:0,editType:"ticks"};return E||(T.dflt=5),T}function u(E){var T={valType:"number",min:0,editType:"ticks"};return E||(T.dflt=1),T}var y={valType:"color",dflt:L.defaultLine,editType:"ticks"},M={valType:"color",dflt:L.lightLine,editType:"ticks"};function S(E){var T={valType:"number",min:0,editType:"ticks"};return E||(T.dflt=1),T}var R=C({},a,{editType:"ticks"}),x={valType:"boolean",editType:"ticks"};B.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:L.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:w("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[s,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:g},editType:"calc"}),tickmode:l,nticks:c(),tick0:f,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:v,ticktext:{valType:"data_array",editType:"ticks"},ticks:A,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:d(),tickwidth:u(),tickcolor:y,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:h("tick label")},tickformatstops:w("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:h("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:x,gridcolor:M,gridwidth:S(),griddash:R,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:c("minor"),tick0:f,dtick:m,tickvals:v,ticks:A,ticklen:d("minor"),tickwidth:u("minor"),tickcolor:y,gridcolor:M,gridwidth:S("minor"),griddash:R,showgrid:x,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},86763:function(B,N,e){var p=e(71828),L=e(7901),a=e(23469).isUnifiedHover,C=e(98212),w=e(44467),h=e(10820),g=e(13838),t=e(951),r=e(71453),s=e(99082),n=e(52830),l=e(41675),c=l.id2name,f=l.name2id,m=e(85555).AX_ID_PATTERN,v=e(73972),A=v.traceIs,d=v.getComponentMethod;function u(y,M,S){Array.isArray(y[M])?y[M].push(S):y[M]=[S]}B.exports=function(M,S,R){var x=S.autotypenumbers,E={},T={},i={},D={},b={},O={},F={},V={},_={},U={},H,z;for(H=0;H<R.length;H++){var G=R[H];if(!(!A(G,"cartesian")&&!A(G,"gl2d"))){var Y;if(G.xaxis)Y=c(G.xaxis),u(E,Y,G);else if(G.xaxes)for(z=0;z<G.xaxes.length;z++)u(E,c(G.xaxes[z]),G);var J;if(G.yaxis)J=c(G.yaxis),u(E,J,G);else if(G.yaxes)for(z=0;z<G.yaxes.length;z++)u(E,c(G.yaxes[z]),G);if(G.type==="funnel"?G.orientation==="h"?(Y&&(T[Y]=!0),J&&(F[J]=!0)):J&&(i[J]=!0):G.type==="image"?(J&&(V[J]=!0),Y&&(V[Y]=!0)):(J&&(b[J]=!0,O[J]=!0),(!A(G,"carpet")||G.type==="carpet"&&!G._cheater)&&Y&&(D[Y]=!0)),G.type==="carpet"&&G._cheater&&Y&&(T[Y]=!0),A(G,"2dMap")&&(_[Y]=!0,_[J]=!0),A(G,"oriented")){var ae=G.orientation==="h"?J:Y;U[ae]=!0}}}var oe=S._subplots,he=oe.xaxis,q=oe.yaxis,Z=p.simpleMap(he,c),$=p.simpleMap(q,c),K=Z.concat($),re=L.background;he.length&&q.length&&(re=p.coerce(M,S,h,"plot_bgcolor"));var le=L.combine(re,S.paper_bgcolor),te,ee,ue,se,ve;function be(){var Pe=E[te]||[];ve._traceIndices=Pe.map(function(He){return He._expandedIndex}),ve._annIndices=[],ve._shapeIndices=[],ve._selectionIndices=[],ve._imgIndices=[],ve._subplotsWith=[],ve._counterAxes=[],ve._name=ve._attr=te,ve._id=ee}function Ee(Pe,He){return p.coerce(se,ve,g,Pe,He)}function Ae(Pe,He){return p.coerce2(se,ve,g,Pe,He)}function Oe(Pe){return Pe==="x"?q:he}function Ue(Pe,He){for(var Ke=Pe==="x"?Z:$,qe=[],vt=0;vt<Ke.length;vt++){var bt=Ke[vt];bt!==He&&!(M[bt]||{}).overlaying&&qe.push(f(bt))}return qe}var Le={x:Oe("x"),y:Oe("y")},we=Le.x.concat(Le.y),Ce={},Ve=[];function Ne(){var Pe=se.matches;m.test(Pe)&&we.indexOf(Pe)===-1&&(Ce[Pe]=se.type,Ve=Object.keys(Ce))}var ke=C(M,S),We=a(ke);for(H=0;H<K.length;H++){te=K[H],ee=f(te),ue=te.charAt(0),p.isPlainObject(M[te])||(M[te]={}),se=M[te],ve=w.newContainer(S,te,ue+"axis"),be();var rt=ue==="x"&&!D[te]&&T[te]||ue==="y"&&!b[te]&&i[te],et=ue==="y"&&(!O[te]&&F[te]||V[te]),tt={hasMinor:!0,letter:ue,font:S.font,outerTicks:_[te],showGrid:!U[te],data:E[te]||[],bgColor:le,calendar:S.calendar,automargin:!0,visibleDflt:rt,reverseDflt:et,autotypenumbersDflt:x,splomStash:((S._splomAxes||{})[ue]||{})[ee]};Ee("uirevision",S.uirevision),t(se,ve,Ee,tt),r(se,ve,Ee,tt,S);var at=We&&ue===ke.charAt(0),ct=Ae("spikecolor",We?ve.color:void 0),dt=Ae("spikethickness",We?1.5:void 0),gt=Ae("spikedash",We?"dot":void 0),Et=Ae("spikemode",We?"across":void 0),Ct=Ae("spikesnap"),Vt=Ee("showspikes",!!at||!!ct||!!dt||!!gt||!!Et||!!Ct);Vt||(delete ve.spikecolor,delete ve.spikethickness,delete ve.spikedash,delete ve.spikemode,delete ve.spikesnap);var Je=c(se.overlaying),_e=[0,1];if(S[Je]!==void 0){var Fe=c(S[Je].anchor);S[Fe]!==void 0&&(_e=S[Fe].domain)}n(se,ve,Ee,{letter:ue,counterAxes:Le[ue],overlayableAxes:Ue(ue,te),grid:S.grid,overlayingDomain:_e}),Ee("title.standoff"),Ne(),ve._input=se}for(H=0;H<Ve.length;){ee=Ve[H++],te=c(ee),ue=te.charAt(0),p.isPlainObject(M[te])||(M[te]={}),se=M[te],ve=w.newContainer(S,te,ue+"axis"),be();var Be={letter:ue,font:S.font,outerTicks:_[te],showGrid:!U[te],data:[],bgColor:le,calendar:S.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:x,splomStash:((S._splomAxes||{})[ue]||{})[ee]};Ee("uirevision",S.uirevision),ve.type=Ce[ee]||"linear",r(se,ve,Ee,Be,S),n(se,ve,Ee,{letter:ue,counterAxes:Le[ue],overlayableAxes:Ue(ue,te),grid:S.grid}),Ee("fixedrange"),Ne(),ve._input=se}var De=d("rangeslider","handleDefaults"),Te=d("rangeselector","handleDefaults");for(H=0;H<Z.length;H++)te=Z[H],se=M[te],ve=S[te],De(M,S,te),ve.type==="date"&&Te(se,ve,S,$,ve.calendar),Ee("fixedrange");for(H=0;H<$.length;H++){te=$[H],se=M[te],ve=S[te];var xe=S[c(ve.anchor)],Me=d("rangeslider","isVisible")(xe);Ee("fixedrange",Me)}s.handleDefaults(M,S,{axIds:we.concat(Ve).sort(l.idSort),axHasImage:V})}},92128:function(B,N,e){var p=e(84267).mix,L=e(22399),a=e(71828);B.exports=function(w,h,g,t){t=t||{};var r=t.dfltColor;function s(i,D){return a.coerce2(w,h,t.attributes,i,D)}var n=s("linecolor",r),l=s("linewidth"),c=g("showline",t.showLine||!!n||!!l);c||(delete h.linecolor,delete h.linewidth);var f=p(r,t.bgColor,t.blend||L.lightFraction).toRgbString(),m=s("gridcolor",f),v=s("gridwidth"),A=s("griddash"),d=g("showgrid",t.showGrid||!!m||!!v||!!A);if(d||(delete h.gridcolor,delete h.gridwidth,delete h.griddash),t.hasMinor){var u=p(h.gridcolor,t.bgColor,67).toRgbString(),y=s("minor.gridcolor",u),M=s("minor.gridwidth",h.gridwidth||1),S=s("minor.griddash",h.griddash||"solid"),R=g("minor.showgrid",!!y||!!M||!!S);R||(delete h.minor.gridcolor,delete h.minor.gridwidth,delete h.minor.griddash)}if(!t.noZeroLine){var x=s("zerolinecolor",r),E=s("zerolinewidth"),T=g("zeroline",t.showGrid||!!x||!!E);T||(delete h.zerolinecolor,delete h.zerolinewidth)}}},52830:function(B,N,e){var p=e(92770),L=e(71828);B.exports=function(C,w,h,g){var t=g.counterAxes||[],r=g.overlayableAxes||[],s=g.letter,n=g.grid,l=g.overlayingDomain,c,f,m,v,A,d;n&&(f=n._domains[s][n._axisMap[w._id]],c=n._anchors[w._id],f&&(m=n[s+"side"].split(" ")[0],v=n.domain[s][m==="right"||m==="top"?1:0])),f=f||[0,1],c=c||(p(C.position)?"free":t[0]||"free"),m=m||(s==="x"?"bottom":"left"),v=v||0,A=0,d=!1;var u=L.coerce(C,w,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:c}},"anchor"),y=L.coerce(C,w,{side:{valType:"enumerated",values:s==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(u==="free"){if(s==="y"){var M=h("autoshift");M&&(v=y==="left"?l[0]:l[1],d=w.automargin?w.automargin:!0,A=y==="left"?-3:3),h("shift",A)}h("position",v)}h("automargin",d);var S=!1;if(r.length&&(S=L.coerce(C,w,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!S){var R=h("domain",f);R[0]>R[1]-.000244140625&&(w.domain=f),L.noneOrAll(C.domain,w.domain,f),w.tickmode==="sync"&&(w.tickmode="auto")}return h("layer"),w}},89426:function(B,N,e){var p=e(59652);B.exports=function(a,C,w,h,g){g||(g={});var t=g.tickSuffixDflt,r=p(a),s=w("tickprefix");s&&w("showtickprefix",r);var n=w("ticksuffix",t);n&&w("showticksuffix",r)}},23608:function(B,N,e){var p=e(23074);B.exports=function(a,C,w,h){var g=C._template||{},t=C.type||g.type||"-";w("minallowed"),w("maxallowed");var r=w("range");if(!r){var s;!h.noInsiderange&&t!=="log"&&(s=w("insiderange"),s&&(s[0]===null||s[1]===null)&&(C.insiderange=!1,s=void 0),s&&(r=w("range",s)))}var n=C.getAutorangeDflt(r,h),l=w("autorange",n),c;r&&(r[0]===null&&r[1]===null||(r[0]===null||r[1]===null)&&(l==="reversed"||l===!0)||r[0]!==null&&(l==="min"||l==="max reversed")||r[1]!==null&&(l==="max"||l==="min reversed"))&&(r=void 0,delete C.range,C.autorange=!0,c=!0),c||(n=C.getAutorangeDflt(r,h),l=w("autorange",n)),l&&(p(w,l,r),(t==="linear"||t==="-")&&w("rangemode")),C.cleanRange()}},42449:function(B,N,e){var p=e(18783).FROM_BL;B.exports=function(a,C,w){w===void 0&&(w=p[a.constraintoward||"center"]);var h=[a.r2l(a.range[0]),a.r2l(a.range[1])],g=h[0]+(h[1]-h[0])*w;a.range=a._input.range=[a.l2r(g+(h[0]-g)*C),a.l2r(g+(h[1]-g)*C)],a.setScale()}},21994:function(B,N,e){var p=e(39898),L=e(84096).g0,a=e(71828),C=a.numberFormat,w=e(92770),h=a.cleanNumber,g=a.ms2DateTime,t=a.dateTime2ms,r=a.ensureNumber,s=a.isArrayOrTypedArray,n=e(50606),l=n.FP_SAFE,c=n.BADNUM,f=n.LOG_CLIP,m=n.ONEWEEK,v=n.ONEDAY,A=n.ONEHOUR,d=n.ONEMIN,u=n.ONESEC,y=e(41675),M=e(85555),S=M.HOUR_PATTERN,R=M.WEEKDAY_PATTERN;function x(T){return Math.pow(10,T)}function E(T){return T!=null}B.exports=function(i,D){D=D||{};var b=i._id||"x",O=b.charAt(0);function F(K,re){if(K>0)return Math.log(K)/Math.LN10;if(K<=0&&re&&i.range&&i.range.length===2){var le=i.range[0],te=i.range[1];return .5*(le+te-2*f*Math.abs(le-te))}else return c}function V(K,re,le,te){if((te||{}).msUTC&&w(K))return+K;var ee=t(K,le||i.calendar);if(ee===c)if(w(K)){K=+K;var ue=Math.floor(a.mod(K+.05,1)*10),se=Math.round(K-ue/10);ee=t(new Date(se))+ue/10}else return c;return ee}function _(K,re,le){return g(K,re,le||i.calendar)}function U(K){return i._categories[Math.round(K)]}function H(K){if(E(K)){if(i._categoriesMap===void 0&&(i._categoriesMap={}),i._categoriesMap[K]!==void 0)return i._categoriesMap[K];i._categories.push(typeof K=="number"?String(K):K);var re=i._categories.length-1;return i._categoriesMap[K]=re,re}return c}function z(K,re){for(var le=new Array(re),te=0;te<re;te++){var ee=(K[0]||[])[te],ue=(K[1]||[])[te];le[te]=G([ee,ue])}return le}function G(K){if(i._categoriesMap)return i._categoriesMap[K]}function Y(K){var re=G(K);if(re!==void 0)return re;if(w(K))return+K}function J(K){return w(K)?+K:G(K)}function ae(K,re,le){return p.round(le+re*K,2)}function oe(K,re,le){return(K-le)/re}var he=function(re){return w(re)?ae(re,i._m,i._b):c},q=function(K){return oe(K,i._m,i._b)};if(i.rangebreaks){var Z=O==="y";he=function(K){if(!w(K))return c;var re=i._rangebreaks.length;if(!re)return ae(K,i._m,i._b);var le=Z;i.range[0]>i.range[1]&&(le=!le);for(var te=le?-1:1,ee=te*K,ue=0,se=0;se<re;se++){var ve=te*i._rangebreaks[se].min,be=te*i._rangebreaks[se].max;if(ee<ve)break;if(ee>be)ue=se+1;else{ue=ee<(ve+be)/2?se:se+1;break}}var Ee=i._B[ue]||0;return isFinite(Ee)?ae(K,i._m2,Ee):0},q=function(K){var re=i._rangebreaks.length;if(!re)return oe(K,i._m,i._b);for(var le=0,te=0;te<re&&!(K<i._rangebreaks[te].pmin);te++)K>i._rangebreaks[te].pmax&&(le=te+1);return oe(K,i._m2,i._B[le])}}i.c2l=i.type==="log"?F:r,i.l2c=i.type==="log"?x:r,i.l2p=he,i.p2l=q,i.c2p=i.type==="log"?function(K,re){return he(F(K,re))}:he,i.p2c=i.type==="log"?function(K){return x(q(K))}:q,["linear","-"].indexOf(i.type)!==-1?(i.d2r=i.r2d=i.d2c=i.r2c=i.d2l=i.r2l=h,i.c2d=i.c2r=i.l2d=i.l2r=r,i.d2p=i.r2p=function(K){return i.l2p(h(K))},i.p2d=i.p2r=q,i.cleanPos=r):i.type==="log"?(i.d2r=i.d2l=function(K,re){return F(h(K),re)},i.r2d=i.r2c=function(K){return x(h(K))},i.d2c=i.r2l=h,i.c2d=i.l2r=r,i.c2r=F,i.l2d=x,i.d2p=function(K,re){return i.l2p(i.d2r(K,re))},i.p2d=function(K){return x(q(K))},i.r2p=function(K){return i.l2p(h(K))},i.p2r=q,i.cleanPos=r):i.type==="date"?(i.d2r=i.r2d=a.identity,i.d2c=i.r2c=i.d2l=i.r2l=V,i.c2d=i.c2r=i.l2d=i.l2r=_,i.d2p=i.r2p=function(K,re,le){return i.l2p(V(K,0,le))},i.p2d=i.p2r=function(K,re,le){return _(q(K),re,le)},i.cleanPos=function(K){return a.cleanDate(K,c,i.calendar)}):i.type==="category"?(i.d2c=i.d2l=H,i.r2d=i.c2d=i.l2d=U,i.d2r=i.d2l_noadd=Y,i.r2c=function(K){var re=J(K);return re!==void 0?re:i.fraction2r(.5)},i.l2r=i.c2r=r,i.r2l=J,i.d2p=function(K){return i.l2p(i.r2c(K))},i.p2d=function(K){return U(q(K))},i.r2p=i.d2p,i.p2r=q,i.cleanPos=function(K){return typeof K=="string"&&K!==""?K:r(K)}):i.type==="multicategory"&&(i.r2d=i.c2d=i.l2d=U,i.d2r=i.d2l_noadd=Y,i.r2c=function(K){var re=Y(K);return re!==void 0?re:i.fraction2r(.5)},i.r2c_just_indices=G,i.l2r=i.c2r=r,i.r2l=Y,i.d2p=function(K){return i.l2p(i.r2c(K))},i.p2d=function(K){return U(q(K))},i.r2p=i.d2p,i.p2r=q,i.cleanPos=function(K){return Array.isArray(K)||typeof K=="string"&&K!==""?K:r(K)},i.setupMultiCategory=function(K){var re=i._traceIndices,le,te,ee=i._matchGroup;if(ee&&i._categories.length===0){for(var ue in ee)if(ue!==b){var se=D[y.id2name(ue)];re=re.concat(se._traceIndices)}}var ve=[[0,{}],[0,{}]],be=[];for(le=0;le<re.length;le++){var Ee=K[re[le]];if(O in Ee){var Ae=Ee[O],Oe=Ee._length||a.minRowLength(Ae);if(s(Ae[0])&&s(Ae[1]))for(te=0;te<Oe;te++){var Ue=Ae[0][te],Le=Ae[1][te];E(Ue)&&E(Le)&&(be.push([Ue,Le]),Ue in ve[0][1]||(ve[0][1][Ue]=ve[0][0]++),Le in ve[1][1]||(ve[1][1][Le]=ve[1][0]++))}}}for(be.sort(function(we,Ce){var Ve=ve[0][1],Ne=Ve[we[0]]-Ve[Ce[0]];if(Ne)return Ne;var ke=ve[1][1];return ke[we[1]]-ke[Ce[1]]}),le=0;le<be.length;le++)H(be[le])}),i.fraction2r=function(K){var re=i.r2l(i.range[0]),le=i.r2l(i.range[1]);return i.l2r(re+K*(le-re))},i.r2fraction=function(K){var re=i.r2l(i.range[0]),le=i.r2l(i.range[1]);return(i.r2l(K)-re)/(le-re)},i.limitRange=function(K){var re=i.minallowed,le=i.maxallowed;if(!(re===void 0&&le===void 0)){K||(K="range");var te=a.nestedProperty(i,K).get(),ee=a.simpleMap(te,i.r2l),ue=ee[1]<ee[0];ue&&ee.reverse();var se=a.simpleMap([re,le],i.r2l);re!==void 0&&ee[0]<se[0]&&(te[ue?1:0]=re),le!==void 0&&ee[1]>se[1]&&(te[ue?0:1]=le)}},i.cleanRange=function(K,re){i._cleanRange(K,re),i.limitRange(K)},i._cleanRange=function(K,re){re||(re={}),K||(K="range");var le=a.nestedProperty(i,K).get(),te,ee;if(i.type==="date"?ee=a.dfltRange(i.calendar):O==="y"?ee=M.DFLTRANGEY:i._name==="realaxis"?ee=[0,1]:ee=re.dfltRange||M.DFLTRANGEX,ee=ee.slice(),(i.rangemode==="tozero"||i.rangemode==="nonnegative")&&(ee[0]=0),!le||le.length!==2){a.nestedProperty(i,K).set(ee);return}var ue=le[0]===null,se=le[1]===null;for(i.type==="date"&&!i.autorange&&(le[0]=a.cleanDate(le[0],c,i.calendar),le[1]=a.cleanDate(le[1],c,i.calendar)),te=0;te<2;te++)if(i.type==="date"){if(!a.isDateTime(le[te],i.calendar)){i[K]=ee;break}if(i.r2l(le[0])===i.r2l(le[1])){var ve=a.constrain(i.r2l(le[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);le[0]=i.l2r(ve-1e3),le[1]=i.l2r(ve+1e3);break}}else{if(!w(le[te]))if(!(ue||se)&&w(le[1-te]))le[te]=le[1-te]*(te?10:.1);else{i[K]=ee;break}if(le[te]<-l?le[te]=-l:le[te]>l&&(le[te]=l),le[0]===le[1]){var be=Math.max(1,Math.abs(le[0]*1e-6));le[0]-=be,le[1]+=be}}},i.setScale=function(K){var re=D._size;if(i.overlaying){var le=y.getFromId({_fullLayout:D},i.overlaying);i.domain=le.domain}var te=K&&i._r?"_r":"range",ee=i.calendar;i.cleanRange(te);var ue=i.r2l(i[te][0],ee),se=i.r2l(i[te][1],ee),ve=O==="y";if(ve?(i._offset=re.t+(1-i.domain[1])*re.h,i._length=re.h*(i.domain[1]-i.domain[0]),i._m=i._length/(ue-se),i._b=-i._m*se):(i._offset=re.l+i.domain[0]*re.w,i._length=re.w*(i.domain[1]-i.domain[0]),i._m=i._length/(se-ue),i._b=-i._m*ue),i._rangebreaks=[],i._lBreaks=0,i._m2=0,i._B=[],i.rangebreaks){var be,Ee;if(i._rangebreaks=i.locateBreaks(Math.min(ue,se),Math.max(ue,se)),i._rangebreaks.length){for(be=0;be<i._rangebreaks.length;be++)Ee=i._rangebreaks[be],i._lBreaks+=Math.abs(Ee.max-Ee.min);var Ae=ve;ue>se&&(Ae=!Ae),Ae&&i._rangebreaks.reverse();var Oe=Ae?-1:1;for(i._m2=Oe*i._length/(Math.abs(se-ue)-i._lBreaks),i._B.push(-i._m2*(ve?se:ue)),be=0;be<i._rangebreaks.length;be++)Ee=i._rangebreaks[be],i._B.push(i._B[i._B.length-1]-Oe*i._m2*(Ee.max-Ee.min));for(be=0;be<i._rangebreaks.length;be++)Ee=i._rangebreaks[be],Ee.pmin=he(Ee.min),Ee.pmax=he(Ee.max)}}if(!isFinite(i._m)||!isFinite(i._b)||i._length<0)throw D._replotting=!1,new Error("Something went wrong with axis scaling")},i.maskBreaks=function(K){var re=i.rangebreaks||[],le,te,ee,ue,se;re._cachedPatterns||(re._cachedPatterns=re.map(function(Ve){return Ve.enabled&&Ve.bounds?a.simpleMap(Ve.bounds,Ve.pattern?h:i.d2c):null})),re._cachedValues||(re._cachedValues=re.map(function(Ve){return Ve.enabled&&Ve.values?a.simpleMap(Ve.values,i.d2c).sort(a.sorterAsc):null}));for(var ve=0;ve<re.length;ve++){var be=re[ve];if(be.enabled){if(be.bounds){var Ee=be.pattern;switch(le=re._cachedPatterns[ve],te=le[0],ee=le[1],Ee){case R:se=new Date(K),ue=se.getUTCDay(),te>ee&&(ee+=7,ue<te&&(ue+=7));break;case S:se=new Date(K);var Ae=se.getUTCHours(),Oe=se.getUTCMinutes(),Ue=se.getUTCSeconds(),Le=se.getUTCMilliseconds();ue=Ae+(Oe/60+Ue/3600+Le/36e5),te>ee&&(ee+=24,ue<te&&(ue+=24));break;case"":ue=K;break}if(ue>=te&&ue<ee)return c}else for(var we=re._cachedValues[ve],Ce=0;Ce<we.length;Ce++)if(te=we[Ce],ee=te+be.dvalue,K>=te&&K<ee)return c}}return K},i.locateBreaks=function(K,re){var le,te,ee,ue,se=[];if(!i.rangebreaks)return se;var ve=i.rangebreaks.slice().sort(function(ke,We){return ke.pattern===R&&We.pattern===S?-1:We.pattern===R&&ke.pattern===S?1:0}),be=function(ke,We){if(ke=a.constrain(ke,K,re),We=a.constrain(We,K,re),ke!==We){for(var rt=!0,et=0;et<se.length;et++){var tt=se[et];ke<tt.max&&We>=tt.min&&(ke<tt.min&&(tt.min=ke),We>tt.max&&(tt.max=We),rt=!1)}rt&&se.push({min:ke,max:We})}};for(le=0;le<ve.length;le++){var Ee=ve[le];if(Ee.enabled)if(Ee.bounds){var Ae=K,Oe=re;Ee.pattern&&(Ae=Math.floor(Ae)),te=a.simpleMap(Ee.bounds,Ee.pattern?h:i.r2l),ee=te[0],ue=te[1];var Ue=new Date(Ae),Le,we;switch(Ee.pattern){case R:we=m,Le=((ue<ee?7:0)+(ue-ee))*v,Ae+=ee*v-(Ue.getUTCDay()*v+Ue.getUTCHours()*A+Ue.getUTCMinutes()*d+Ue.getUTCSeconds()*u+Ue.getUTCMilliseconds());break;case S:we=v,Le=((ue<ee?24:0)+(ue-ee))*A,Ae+=ee*A-(Ue.getUTCHours()*A+Ue.getUTCMinutes()*d+Ue.getUTCSeconds()*u+Ue.getUTCMilliseconds());break;default:Ae=Math.min(te[0],te[1]),Oe=Math.max(te[0],te[1]),we=Oe-Ae,Le=we}for(var Ce=Ae;Ce<Oe;Ce+=we)be(Ce,Ce+Le)}else for(var Ve=a.simpleMap(Ee.values,i.d2c),Ne=0;Ne<Ve.length;Ne++)ee=Ve[Ne],ue=ee+Ee.dvalue,be(ee,ue)}return se.sort(function(ke,We){return ke.min-We.min}),se},i.makeCalcdata=function(K,re,le){var te,ee,ue,se,ve=i.type,be=ve==="date"&&K[re+"calendar"];if(re in K){if(te=K[re],se=K._length||a.minRowLength(te),a.isTypedArray(te)&&(ve==="linear"||ve==="log")){if(se===te.length)return te;if(te.subarray)return te.subarray(0,se)}if(ve==="multicategory")return z(te,se);for(ee=new Array(se),ue=0;ue<se;ue++)ee[ue]=i.d2c(te[ue],0,be,le)}else{var Ee=re+"0"in K?i.d2c(K[re+"0"],0,be):0,Ae=K["d"+re]?Number(K["d"+re]):1;for(te=K[{x:"y",y:"x"}[re]],se=K._length||te.length,ee=new Array(se),ue=0;ue<se;ue++)ee[ue]=Ee+ue*Ae}if(i.rangebreaks)for(ue=0;ue<se;ue++)ee[ue]=i.maskBreaks(ee[ue]);return ee},i.isValidRange=function(K,re){return Array.isArray(K)&&K.length===2&&(re&&K[0]===null||w(i.r2l(K[0])))&&(re&&K[1]===null||w(i.r2l(K[1])))},i.getAutorangeDflt=function(K,re){var le=!i.isValidRange(K,"nullOk");return le&&re&&re.reverseDflt?le="reversed":K&&(K[0]===null&&K[1]===null?le=!0:K[0]===null&&K[1]!==null?le="min":K[0]!==null&&K[1]===null&&(le="max")),le},i.isReversed=function(){var K=i.autorange;return K==="reversed"||K==="min reversed"||K==="max reversed"},i.isPtWithinRange=function(K,re){var le=i.c2l(K[O],null,re),te=i.r2l(i.range[0]),ee=i.r2l(i.range[1]);return te<ee?te<=le&&le<=ee:ee<=le&&le<=te},i._emptyCategories=function(){i._categories=[],i._categoriesMap={}},i.clearCalc=function(){var K=i._matchGroup;if(K){var re=null,le=null;for(var te in K){var ee=D[y.id2name(te)];if(ee._categories){re=ee._categories,le=ee._categoriesMap;break}}re&&le?(i._categories=re,i._categoriesMap=le):i._emptyCategories()}else i._emptyCategories();if(i._initialCategories)for(var ue=0;ue<i._initialCategories.length;ue++)H(i._initialCategories[ue])},i.sortByInitialCategories=function(){var K=[];if(i._emptyCategories(),i._initialCategories)for(var re=0;re<i._initialCategories.length;re++)H(i._initialCategories[re]);K=K.concat(i._traceIndices);var le=i._matchGroup;for(var te in le)if(b!==te){var ee=D[y.id2name(te)];ee._categories=i._categories,ee._categoriesMap=i._categoriesMap,K=K.concat(ee._traceIndices)}return K};var $=D._d3locale;i.type==="date"&&(i._dateFormat=$?$.timeFormat:L,i._extraFormat=D._extraFormat),i._separators=D.separators,i._numFormat=$?$.numberFormat:C,delete i._minDtick,delete i._forceTick0}},59652:function(B){B.exports=function(e){var p=["showexponent","showtickprefix","showticksuffix"],L=p.filter(function(C){return e[C]!==void 0}),a=function(C){return e[C]===e[L[0]]};if(L.every(a)||L.length===1)return e[L[0]]}},96115:function(B,N,e){var p=e(71828),L=e(7901).contrast,a=e(13838),C=e(59652),w=e(85501);B.exports=function(t,r,s,n,l){l||(l={});var c=s("labelalias");p.isPlainObject(c)||delete r.labelalias;var f=C(t),m=s("showticklabels");if(m){var v=l.font||{},A=r.color,d=r.ticklabelposition||"",u=d.indexOf("inside")!==-1?L(l.bgColor):A&&A!==a.color.dflt?A:v.color;if(p.coerceFont(s,"tickfont",{family:v.family,size:v.size,color:u}),!l.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&s("ticklabelstep"),l.noAng||s("tickangle"),n!=="category"){var y=s("tickformat");w(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:h}),r.tickformatstops.length||delete r.tickformatstops,!l.noExp&&!y&&n!=="date"&&(s("showexponent",f),s("exponentformat"),s("minexponent"),s("separatethousands"))}}};function h(g,t){function r(n,l){return p.coerce(g,t,a.tickformatstops,n,l)}var s=r("enabled");s&&(r("dtickrange"),r("value"))}},38701:function(B,N,e){var p=e(71828),L=e(13838);B.exports=function(C,w,h,g){var t=g.isMinor,r=t?C.minor||{}:C,s=t?w.minor:w,n=t?L.minor:L,l=t?"minor.":"",c=p.coerce2(r,s,n,"ticklen",t?(w.ticklen||5)*.6:void 0),f=p.coerce2(r,s,n,"tickwidth",t?w.tickwidth||1:void 0),m=p.coerce2(r,s,n,"tickcolor",(t?w.tickcolor:void 0)||s.color),v=h(l+"ticks",!t&&g.outerTicks||c||f||m?"outside":"");v||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26218:function(B,N,e){var p=e(66287),L=e(71828).isArrayOrTypedArray;B.exports=function(C,w,h,g,t){t||(t={});var r=t.isMinor,s=r?C.minor||{}:C,n=r?w.minor:w,l=r?"minor.":"";function c(M){var S=s[M];return S!==void 0?S:(n._template||{})[M]}var f=c("tick0"),m=c("dtick"),v=c("tickvals"),A=L(v)?"array":m?"linear":"auto",d=h(l+"tickmode",A);if(d==="auto"||d==="sync")h(l+"nticks");else if(d==="linear"){var u=n.dtick=p.dtick(m,g);n.tick0=p.tick0(f,g,w.calendar,u)}else if(g!=="multicategory"){var y=h(l+"tickvals");y===void 0?n.tickmode="auto":r||h("ticktext")}}},66847:function(B,N,e){var p=e(39898),L=e(73972),a=e(71828),C=e(91424),w=e(89298);B.exports=function(g,t,r,s){var n=g._fullLayout;if(t.length===0){w.redrawComponents(g);return}function l(S){var R=S.xaxis,x=S.yaxis;n._defs.select("#"+S.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),S.plot.call(C.setTranslate,R._offset,x._offset).call(C.setScale,1,1);var E=S.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(C.setPointGroupScale,1,1),E.selectAll(".textpoint").call(C.setTextPointsScale,1,1),E.call(C.hideOutsideRangePoints,S)}function c(S,R){var x=S.plotinfo,E=x.xaxis,T=x.yaxis,i=E._length,D=T._length,b=!!S.xr1,O=!!S.yr1,F=[];if(b){var V=a.simpleMap(S.xr0,E.r2l),_=a.simpleMap(S.xr1,E.r2l),U=V[1]-V[0],H=_[1]-_[0];F[0]=(V[0]*(1-R)+R*_[0]-V[0])/(V[1]-V[0])*i,F[2]=i*(1-R+R*H/U),E.range[0]=E.l2r(V[0]*(1-R)+R*_[0]),E.range[1]=E.l2r(V[1]*(1-R)+R*_[1])}else F[0]=0,F[2]=i;if(O){var z=a.simpleMap(S.yr0,T.r2l),G=a.simpleMap(S.yr1,T.r2l),Y=z[1]-z[0],J=G[1]-G[0];F[1]=(z[1]*(1-R)+R*G[1]-z[1])/(z[0]-z[1])*D,F[3]=D*(1-R+R*J/Y),T.range[0]=E.l2r(z[0]*(1-R)+R*G[0]),T.range[1]=T.l2r(z[1]*(1-R)+R*G[1])}else F[1]=0,F[3]=D;w.drawOne(g,E,{skipTitle:!0}),w.drawOne(g,T,{skipTitle:!0}),w.redrawComponents(g,[E._id,T._id]);var ae=b?i/F[2]:1,oe=O?D/F[3]:1,he=b?F[0]:0,q=O?F[1]:0,Z=b?F[0]/F[2]*i:0,$=O?F[1]/F[3]*D:0,K=E._offset-Z,re=T._offset-$;x.clipRect.call(C.setTranslate,he,q).call(C.setScale,1/ae,1/oe),x.plot.call(C.setTranslate,K,re).call(C.setScale,ae,oe),C.setPointGroupScale(x.zoomScalePts,1/ae,1/oe),C.setTextPointsScale(x.zoomScaleTxt,1/ae,1/oe)}var f;s&&(f=s());function m(){for(var S={},R=0;R<t.length;R++){var x=t[R],E=x.plotinfo.xaxis,T=x.plotinfo.yaxis;x.xr1&&(S[E._name+".range"]=x.xr1.slice()),x.yr1&&(S[T._name+".range"]=x.yr1.slice())}return f&&f(),L.call("relayout",g,S).then(function(){for(var i=0;i<t.length;i++)l(t[i].plotinfo)})}function v(){for(var S={},R=0;R<t.length;R++){var x=t[R],E=x.plotinfo.xaxis,T=x.plotinfo.yaxis;x.xr0&&(S[E._name+".range"]=x.xr0.slice()),x.yr0&&(S[T._name+".range"]=x.yr0.slice())}return L.call("relayout",g,S).then(function(){for(var i=0;i<t.length;i++)l(t[i].plotinfo)})}var A,d,u,y=p.ease(r.easing);g._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,v()});function M(){d=Date.now();for(var S=Math.min(1,(d-A)/r.duration),R=y(S),x=0;x<t.length;x++)c(t[x],R);d-A>r.duration?(m(),u=window.cancelAnimationFrame(M)):u=window.requestAnimationFrame(M)}return A=Date.now(),u=window.requestAnimationFrame(M),Promise.resolve()}},951:function(B,N,e){var p=e(73972).traceIs,L=e(4322);B.exports=function(t,r,s,n){s("autotypenumbers",n.autotypenumbersDflt);var l=s("type",(n.splomStash||{}).type);l==="-"&&(a(r,n.data),r.type==="-"?r.type="linear":t.type=r.type)};function a(g,t){if(g.type==="-"){var r=g._id,s=r.charAt(0),n;r.indexOf("scene")!==-1&&(r=s);var l=C(t,r,s);if(l){if(l.type==="histogram"&&s==={v:"y",h:"x"}[l.orientation||"v"]){g.type="linear";return}var c=s+"calendar",f=l[c],m={noMultiCategory:!p(l,"cartesian")||p(l,"noMultiCategory")};if(l.type==="box"&&l._hasPreCompStats&&s==={h:"x",v:"y"}[l.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=g.autotypenumbers,h(l,s)){var v=w(l),A=[];for(n=0;n<t.length;n++){var d=t[n];!p(d,"box-violin")||(d[s+"axis"]||s)!==r||(d[v]!==void 0?A.push(d[v][0]):d.name!==void 0?A.push(d.name):A.push("text"),d[c]!==f&&(f=void 0))}g.type=L(A,f,m)}else if(l.type==="splom"){var u=l.dimensions,y=u[l._axesDim[r]];y.visible&&(g.type=L(y.values,f,m))}else g.type=L(l[s]||[l[s+"0"]],f,m)}}}function C(g,t,r){for(var s=0;s<g.length;s++){var n=g[s];if(n.type==="splom"&&n._length>0&&(n["_"+r+"axes"]||{})[t])return n;if((n[r+"axis"]||r)===t){if(h(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}}function w(g){return{v:"x",h:"y"}[g.orientation||"v"]}function h(g,t){var r=w(g),s=p(g,"box-violin"),n=p(g._fullInput||{},"candlestick");return s&&!n&&t===r&&g[r]===void 0&&g[r+"0"]===void 0}},31137:function(B,N,e){var p=e(73972),L=e(71828);N.manageCommandObserver=function(t,r,s,n){var l={},c=!0;r&&r._commandObserver&&(l=r._commandObserver),l.cache||(l.cache={}),l.lookupTable={};var f=N.hasSimpleAPICommandBindings(t,s,l.lookupTable);if(r&&r._commandObserver){if(f)return l;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,l}if(f){a(t,f,l.cache),l.check=function(){if(c){var d=a(t,f,l.cache);return d.changed&&n&&l.lookupTable[d.value]!==void 0&&(l.disable(),Promise.resolve(n({value:d.value,type:f.type,prop:f.prop,traces:f.traces,index:l.lookupTable[d.value]})).then(l.enable,l.enable)),d.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],v=0;v<m.length;v++)t._internalOn(m[v],l.check);l.remove=function(){for(var A=0;A<m.length;A++)t._removeInternalListener(m[A],l.check)}}else L.log("Unable to automatically bind plot updates to API command"),l.lookupTable={},l.remove=function(){};return l.disable=function(){c=!1},l.enable=function(){c=!0},r&&(r._commandObserver=l),l},N.hasSimpleAPICommandBindings=function(t,r,s){var n,l=r.length,c;for(n=0;n<l;n++){var f,m=r[n],v=m.method,A=m.args;if(Array.isArray(A)||(A=[]),!v)return!1;var d=N.computeAPICommandBindings(t,v,A);if(d.length!==1)return!1;if(!c)c=d[0],Array.isArray(c.traces)&&c.traces.sort();else{if(f=d[0],f.type!==c.type||f.prop!==c.prop)return!1;if(Array.isArray(c.traces))if(Array.isArray(f.traces)){f.traces.sort();for(var u=0;u<c.traces.length;u++)if(c.traces[u]!==f.traces[u])return!1}else return!1;else if(f.prop!==c.prop)return!1}f=d[0];var y=f.value;if(Array.isArray(y))if(y.length===1)y=y[0];else return!1;s&&(s[y]=n)}return c};function a(t,r,s){var n,l,c,f=!1;if(r.type==="data")n=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=t._fullLayout;else return!1;return l=L.nestedProperty(n,r.prop).get(),c=s[r.type]=s[r.type]||{},c.hasOwnProperty(r.prop)&&c[r.prop]!==l&&(f=!0),c[r.prop]=l,{changed:f,value:l}}N.executeAPICommand=function(t,r,s){if(r==="skip")return Promise.resolve();var n=p.apiMethodRegistry[r],l=[t];Array.isArray(s)||(s=[]);for(var c=0;c<s.length;c++)l.push(s[c]);return n.apply(null,l).catch(function(f){return L.warn("API call to Plotly."+r+" rejected.",f),Promise.reject(f)})},N.computeAPICommandBindings=function(t,r,s){var n;switch(Array.isArray(s)||(s=[]),r){case"restyle":n=h(t,s);break;case"relayout":n=w(t,s);break;case"update":n=h(t,[s[0],s[2]]).concat(w(t,[s[1]]));break;case"animate":n=C(t,s);break;default:n=[]}return n};function C(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function w(t,r){var s=[],n=r[0],l={};if(typeof n=="string")l[n]=r[1];else if(L.isPlainObject(n))l=n;else return s;return g(l,function(c,f,m){s.push({type:"layout",prop:c,value:m})},"",0),s}function h(t,r){var s,n,l,c,f=[];if(n=r[0],l=r[1],s=r[2],c={},typeof n=="string")c[n]=l;else if(L.isPlainObject(n))c=n,s===void 0&&(s=l);else return f;return s===void 0&&(s=null),g(c,function(m,v,A){var d,u;if(Array.isArray(A)){u=A.slice();var y=Math.min(u.length,t.data.length);s&&(y=Math.min(y,s.length)),d=[];for(var M=0;M<y;M++)d[M]=s?s[M]:M}else u=A,d=s?s.slice():null;if(d===null)Array.isArray(u)&&(u=u[0]);else if(Array.isArray(d)){if(!Array.isArray(u)){var S=u;u=[];for(var R=0;R<d.length;R++)u[R]=S}u.length=Math.min(d.length,u.length)}f.push({type:"data",prop:m,traces:d,value:u})},"",0),f}function g(t,r,s,n){Object.keys(t).forEach(function(l){var c=t[l];if(l[0]!=="_"){var f=s+(n>0?".":"")+l;L.isPlainObject(c)?g(c,r,f,n+1):r(f,l,c)}})}},27670:function(B,N,e){var p=e(1426).extendFlat;N.Y=function(L,a){L=L||{},a=a||{};var C={valType:"info_array",editType:L.editType,items:[{valType:"number",min:0,max:1,editType:L.editType},{valType:"number",min:0,max:1,editType:L.editType}],dflt:[0,1]};L.name&&L.name+"",L.trace,a.description&&""+a.description;var w={x:p({},C,{}),y:p({},C,{}),editType:L.editType};return L.noGridCell||(w.row={valType:"integer",min:0,dflt:0,editType:L.editType},w.column={valType:"integer",min:0,dflt:0,editType:L.editType}),w},N.c=function(L,a,C,w){var h=w&&w.x||[0,1],g=w&&w.y||[0,1],t=a.grid;if(t){var r=C("domain.column");r!==void 0&&(r<t.columns?h=t._domains.x[r]:delete L.domain.column);var s=C("domain.row");s!==void 0&&(s<t.rows?g=t._domains.y[s]:delete L.domain.row)}var n=C("domain.x",h),l=C("domain.y",g);n[0]<n[1]||(L.domain.x=h.slice()),l[0]<l[1]||(L.domain.y=g.slice())}},41940:function(B){B.exports=function(N){var e=N.editType,p=N.colorEditType;p===void 0&&(p=e);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:p},editType:e};return N.autoSize&&(L.size.dflt="auto"),N.autoColor&&(L.color.dflt="auto"),N.arrayOk&&(L.family.arrayOk=!0,L.size.arrayOk=!0,L.color.arrayOk=!0),L}},31391:function(B){B.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(B,N){N.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},N.axesNames=["lonaxis","lataxis"],N.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},N.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},N.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},N.clipPad=.001,N.precision=.1,N.landColor="#F0DC82",N.waterColor="#3399FF",N.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},N.sphereSVG={type:"Sphere"},N.fillLayers={ocean:1,land:1,lakes:1},N.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},N.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],N.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],N.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(B,N,e){var p=e(39898),L=e(27362),a=L.geoPath,C=L.geoDistance,w=e(65704),h=e(73972),g=e(71828),t=g.strTranslate,r=e(7901),s=e(91424),n=e(30211),l=e(74875),c=e(89298),f=e(71739).getAutoRange,m=e(28569),v=e(47322).prepSelect,A=e(47322).clearOutline,d=e(47322).selectOnClick,u=e(74455),y=e(78776),M=e(41327),S=e(90973),R=e(96892).zL;function x(b){this.id=b.id,this.graphDiv=b.graphDiv,this.container=b.container,this.topojsonURL=b.topojsonURL,this.isStatic=b.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=x.prototype;B.exports=function(O){return new x(O)},E.plot=function(b,O,F,V){var _=this;if(V)return _.update(b,O,!0);_._geoCalcData=b,_._fullLayout=O;var U=O[this.id],H=[],z=!1;for(var G in y.layerNameToAdjective)if(G!=="frame"&&U["show"+G]){z=!0;break}for(var Y=!1,J=0;J<b.length;J++){var ae=b[0][0].trace;ae._geo=_,ae.locationmode&&(z=!0);var oe=ae.marker;if(oe){var he=oe.angle,q=oe.angleref;(he||q==="north"||q==="previous")&&(Y=!0)}}if(this._hasMarkerAngles=Y,z){var Z=S.getTopojsonName(U);(_.topojson===null||Z!==_.topojsonName)&&(_.topojsonName=Z,PlotlyGeoAssets.topojson[_.topojsonName]===void 0&&H.push(_.fetchTopojson()))}H=H.concat(M.fetchTraceGeoData(b)),F.push(new Promise(function($,K){Promise.all(H).then(function(){_.topojson=PlotlyGeoAssets.topojson[_.topojsonName],_.update(b,O),$()}).catch(K)}))},E.fetchTopojson=function(){var b=this,O=S.getTopojsonPath(b.topojsonURL,b.topojsonName);return new Promise(function(F,V){p.json(O,function(_,U){if(_)return _.status===404?V(new Error(["plotly.js could not find topojson file at",O+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):V(new Error(["unexpected error while fetching topojson file at",O].join(" ")));PlotlyGeoAssets.topojson[b.topojsonName]=U,F()})})},E.update=function(b,O,F){var V=O[this.id];this.hasChoropleth=!1;for(var _=0;_<b.length;_++){var U=b[_],H=U[0].trace;H.type==="choropleth"&&(this.hasChoropleth=!0),H.visible===!0&&H._length>0&&H._module.calcGeoJSON(U,O)}if(!F){var z=this.updateProjection(b,O);if(z)return;(!this.viewInitial||this.scope!==V.scope)&&this.saveViewInitial(V)}this.scope=V.scope,this.updateBaseLayers(O,V),this.updateDims(O,V),this.updateFx(O,V),l.generalUpdatePerTraceModule(this.graphDiv,this,b,V);var G=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=G.selectAll(".point"),this.dataPoints.text=G.selectAll("text"),this.dataPaths.line=G.selectAll(".js-line");var Y=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Y.selectAll("path"),this._render()},E.updateProjection=function(b,O){var F=this.graphDiv,V=O[this.id],_=O._size,U=V.domain,H=V.projection,z=V.lonaxis,G=V.lataxis,Y=z._ax,J=G._ax,ae=this.projection=T(V),oe=[[_.l+_.w*U.x[0],_.t+_.h*(1-U.y[1])],[_.l+_.w*U.x[1],_.t+_.h*(1-U.y[0])]],he=V.center||{},q=H.rotation||{},Z=z.range||[],$=G.range||[];if(V.fitbounds){Y._length=oe[1][0]-oe[0][0],J._length=oe[1][1]-oe[0][1],Y.range=f(F,Y),J.range=f(F,J);var K=(Y.range[0]+Y.range[1])/2,re=(J.range[0]+J.range[1])/2;if(V._isScoped)he={lon:K,lat:re};else if(V._isClipped){he={lon:K,lat:re},q={lon:K,lat:re,roll:q.roll};var le=H.type,te=y.lonaxisSpan[le]/2||180,ee=y.lataxisSpan[le]/2||90;Z=[K-te,K+te],$=[re-ee,re+ee]}else he={lon:K,lat:re},q={lon:K,lat:q.lat,roll:q.roll}}ae.center([he.lon-q.lon,he.lat-q.lat]).rotate([-q.lon,-q.lat,q.roll]).parallels(H.parallels);var ue=D(Z,$);ae.fitExtent(oe,ue);var se=this.bounds=ae.getBounds(ue),ve=this.fitScale=ae.scale(),be=ae.translate();if(V.fitbounds){var Ee=ae.getBounds(D(Y.range,J.range)),Ae=Math.min((se[1][0]-se[0][0])/(Ee[1][0]-Ee[0][0]),(se[1][1]-se[0][1])/(Ee[1][1]-Ee[0][1]));isFinite(Ae)?ae.scale(Ae*ve):g.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ae.scale(H.scale*ve);var Oe=this.midPt=[(se[0][0]+se[1][0])/2,(se[0][1]+se[1][1])/2];if(ae.translate([be[0]+(Oe[0]-be[0]),be[1]+(Oe[1]-be[1])]).clipExtent(se),V._isAlbersUsa){var Ue=ae([he.lon,he.lat]),Le=ae.translate();ae.translate([Le[0]-(Ue[0]-Le[0]),Le[1]-(Ue[1]-Le[1])])}},E.updateBaseLayers=function(b,O){var F=this,V=F.topojson,_=F.layers,U=F.basePaths;function H(oe){return oe==="lonaxis"||oe==="lataxis"}function z(oe){return!!y.lineLayers[oe]}function G(oe){return!!y.fillLayers[oe]}var Y=this.hasChoropleth?y.layersForChoropleth:y.layers,J=Y.filter(function(oe){return z(oe)||G(oe)?O["show"+oe]:H(oe)?O[oe].showgrid:!0}),ae=F.framework.selectAll(".layer").data(J,String);ae.exit().each(function(oe){delete _[oe],delete U[oe],p.select(this).remove()}),ae.enter().append("g").attr("class",function(oe){return"layer "+oe}).each(function(oe){var he=_[oe]=p.select(this);oe==="bg"?F.bgRect=he.append("rect").style("pointer-events","all"):H(oe)?U[oe]=he.append("path").style("fill","none"):oe==="backplot"?he.append("g").classed("choroplethlayer",!0):oe==="frontplot"?he.append("g").classed("scatterlayer",!0):z(oe)?U[oe]=he.append("path").style("fill","none").style("stroke-miterlimit",2):G(oe)&&(U[oe]=he.append("path").style("stroke","none"))}),ae.order(),ae.each(function(oe){var he=U[oe],q=y.layerNameToAdjective[oe];oe==="frame"?he.datum(y.sphereSVG):z(oe)||G(oe)?he.datum(R(V,V.objects[oe])):H(oe)&&he.datum(i(oe,O,b)).call(r.stroke,O[oe].gridcolor).call(s.dashLine,O[oe].griddash,O[oe].gridwidth),z(oe)?he.call(r.stroke,O[q+"color"]).call(s.dashLine,"",O[q+"width"]):G(oe)&&he.call(r.fill,O[q+"color"])})},E.updateDims=function(b,O){var F=this.bounds,V=(O.framewidth||0)/2,_=F[0][0]-V,U=F[0][1]-V,H=F[1][0]-_+V,z=F[1][1]-U+V;s.setRect(this.clipRect,_,U,H,z),this.bgRect.call(s.setRect,_,U,H,z).call(r.fill,O.bgcolor),this.xaxis._offset=_,this.xaxis._length=H,this.yaxis._offset=U,this.yaxis._length=z},E.updateFx=function(b,O){var F=this,V=F.graphDiv,_=F.bgRect,U=b.dragmode,H=b.clickmode;if(F.isStatic)return;function z(){var ae=F.viewInitial,oe={};for(var he in ae)oe[F.id+"."+he]=ae[he];h.call("_guiRelayout",V,oe),V.emit("plotly_doubleclick",null)}function G(ae){return F.projection.invert([ae[0]+F.xaxis._offset,ae[1]+F.yaxis._offset])}var Y=function(ae,oe){if(oe.isRect){var he=ae.range={};he[F.id]=[G([oe.xmin,oe.ymin]),G([oe.xmax,oe.ymax])]}else{var q=ae.lassoPoints={};q[F.id]=oe.map(G)}},J={element:F.bgRect.node(),gd:V,plotinfo:{id:F.id,xaxis:F.xaxis,yaxis:F.yaxis,fillRangeItems:Y},xaxes:[F.xaxis],yaxes:[F.yaxis],subplot:F.id,clickFn:function(ae){ae===2&&A(V)}};U==="pan"?(_.node().onmousedown=null,_.call(u(F,O)),_.on("dblclick.zoom",z),V._context._scrollZoom.geo||_.on("wheel.zoom",null)):(U==="select"||U==="lasso")&&(_.on(".zoom",null),J.prepFn=function(ae,oe,he){v(ae,oe,he,J,U)},m.init(J)),_.on("mousemove",function(){var ae=F.projection.invert(g.getPositionFromD3Event());if(!ae)return m.unhover(V,p.event);F.xaxis.p2c=function(){return ae[0]},F.yaxis.p2c=function(){return ae[1]},n.hover(V,p.event,F.id)}),_.on("mouseout",function(){V._dragging||m.unhover(V,p.event)}),_.on("click",function(){U!=="select"&&U!=="lasso"&&(H.indexOf("select")>-1&&d(p.event,V,[F.xaxis],[F.yaxis],F.id,J),H.indexOf("event")>-1&&n.click(V,p.event))})},E.makeFramework=function(){var b=this,O=b.graphDiv,F=O._fullLayout,V="clip"+F._uid+b.id;b.clipDef=F._clips.append("clipPath").attr("id",V),b.clipRect=b.clipDef.append("rect"),b.framework=p.select(b.container).append("g").attr("class","geo "+b.id).call(s.setClipUrl,V,O),b.project=function(_){var U=b.projection(_);return U?[U[0]-b.xaxis._offset,U[1]-b.yaxis._offset]:[null,null]},b.xaxis={_id:"x",c2p:function(_){return b.project(_)[0]}},b.yaxis={_id:"y",c2p:function(_){return b.project(_)[1]}},b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},c.setConvert(b.mockAxis,F)},E.saveViewInitial=function(b){var O=b.center||{},F=b.projection,V=F.rotation||{};this.viewInitial={fitbounds:b.fitbounds,"projection.scale":F.scale};var _;b._isScoped?_={"center.lon":O.lon,"center.lat":O.lat}:b._isClipped?_={"projection.rotation.lon":V.lon,"projection.rotation.lat":V.lat}:_={"center.lon":O.lon,"center.lat":O.lat,"projection.rotation.lon":V.lon},g.extendFlat(this.viewInitial,_)},E.render=function(b){this._hasMarkerAngles&&b?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var b=this.projection,O=b.getPath(),F;function V(U){var H=b(U.lonlat);return H?t(H[0],H[1]):null}function _(U){return b.isLonLatOverEdges(U.lonlat)?"none":null}for(F in this.basePaths)this.basePaths[F].attr("d",O);for(F in this.dataPaths)this.dataPaths[F].attr("d",function(U){return O(U.geojson)});for(F in this.dataPoints)this.dataPoints[F].attr("display",_).attr("transform",V)};function T(b){var O=b.projection,F=O.type,V=y.projNames[F];V="geo"+g.titleCase(V);for(var _=L[V]||w[V],U=_(),H=b._isSatellite?Math.acos(1/O.distance)*180/Math.PI:b._isClipped?y.lonaxisSpan[F]/2:null,z=["center","rotate","parallels","clipExtent"],G=function(ae){return ae?U:[]},Y=0;Y<z.length;Y++){var J=z[Y];typeof U[J]!="function"&&(U[J]=G)}return U.isLonLatOverEdges=function(ae){if(U(ae)===null)return!0;if(H){var oe=U.rotate(),he=C(ae,[-oe[0],-oe[1]]),q=H*Math.PI/180;return he>q}else return!1},U.getPath=function(){return a().projection(U)},U.getBounds=function(ae){return U.getPath().bounds(ae)},U.precision(y.precision),b._isSatellite&&U.tilt(O.tilt).distance(O.distance),H&&U.clipAngle(H-y.clipPad),U}function i(b,O,F){var V=1e-6,_=2.5,U=O[b],H=y.scopeDefaults[O.scope],z,G,Y;b==="lonaxis"?(z=H.lonaxisRange,G=H.lataxisRange,Y=function(re,le){return[re,le]}):b==="lataxis"&&(z=H.lataxisRange,G=H.lonaxisRange,Y=function(re,le){return[le,re]});var J={type:"linear",range:[z[0],z[1]-V],tick0:U.tick0,dtick:U.dtick};c.setConvert(J,F);var ae=c.calcTicks(J);!O.isScoped&&b==="lonaxis"&&ae.pop();for(var oe=ae.length,he=new Array(oe),q=0;q<oe;q++)for(var Z=ae[q].x,$=he[q]=[],K=G[0];K<G[1]+_;K+=_)$.push(Y(Z,K));return{type:"MultiLineString",coordinates:he}}function D(b,O){var F=y.clipPad,V=b[0]+F,_=b[1]-F,U=O[0]+F,H=O[1]-F;V>0&&_<0&&(_+=360);var z=(_-V)/4;return{type:"Polygon",coordinates:[[[V,U],[V,H],[V+z,H],[V+2*z,H],[V+3*z,H],[_,H],[_,U],[_-z,U],[_-2*z,U],[_-3*z,U],[V,U]]]}}},44622:function(B,N,e){var p=e(27659).AU,L=e(71828).counterRegex,a=e(69082),C="geo",w=L(C),h={};h[C]={valType:"subplotid",dflt:C,editType:"calc"};function g(s){for(var n=s._fullLayout,l=s.calcdata,c=n._subplots[C],f=0;f<c.length;f++){var m=c[f],v=p(l,C,m),A=n[m],d=A._subplot;d||(d=a({id:m,graphDiv:s,container:n._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),n[m]._subplot=d),d.plot(v,n,s._promises)}}function t(s,n,l,c){for(var f=c._subplots[C]||[],m=0;m<f.length;m++){var v=f[m],A=c[v]._subplot;!n[v]&&A&&(A.framework.remove(),A.clipDef.remove())}}function r(s){for(var n=s._fullLayout,l=n._subplots[C],c=0;c<l.length;c++){var f=n[l[c]],m=f._subplot;m.updateFx(n,f)}}B.exports={attr:C,name:C,idRoot:C,idRegex:w,attrRegex:w,attributes:h,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:g,updateFx:r,clean:t}},77519:function(B,N,e){var p=e(22399),L=e(27670).Y,a=e(79952).P,C=e(78776),w=e(30962).overrideAll,h=e(78607),g={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:p.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},t=B.exports=w({domain:L({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:h(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:h(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:p.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:p.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:p.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:p.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:p.background},lonaxis:g,lataxis:g},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(B,N,e){var p=e(71828),L=e(49119),a=e(27659).NG,C=e(78776),w=e(77519),h=C.axesNames;B.exports=function(r,s,n){L(r,s,n,{type:"geo",attributes:w,handleDefaults:g,fullData:n,partition:"y"})};function g(t,r,s,n){var l=a(n.fullData,"geo",n.id),c=l.map(function($){return $._expandedIndex}),f=s("resolution"),m=s("scope"),v=C.scopeDefaults[m],A=s("projection.type",v.projType),d=r._isAlbersUsa=A==="albers usa";d&&(m=r.scope="usa");var u=r._isScoped=m!=="world",y=r._isSatellite=A==="satellite",M=r._isConic=A.indexOf("conic")!==-1||A==="albers",S=r._isClipped=!!C.lonaxisSpan[A];if(t.visible===!1){var R=p.extendDeep({},r._template);R.showcoastlines=!1,R.showcountries=!1,R.showframe=!1,R.showlakes=!1,R.showland=!1,R.showocean=!1,R.showrivers=!1,R.showsubunits=!1,R.lonaxis&&(R.lonaxis.showgrid=!1),R.lataxis&&(R.lataxis.showgrid=!1),r._template=R}for(var x=s("visible"),E,T=0;T<h.length;T++){var i=h[T],D=[30,10][T],b;if(u)b=v[i+"Range"];else{var O=C[i+"Span"],F=(O[A]||O["*"])/2,V=s("projection.rotation."+i.substr(0,3),v.projRotate[T]);b=[V-F,V+F]}var _=s(i+".range",b);s(i+".tick0"),s(i+".dtick",D),E=s(i+".showgrid",x?void 0:!1),E&&(s(i+".gridcolor"),s(i+".gridwidth"),s(i+".griddash")),r[i]._ax={type:"linear",_id:i.slice(0,3),_traceIndices:c,setScale:p.identity,c2l:p.identity,r2l:p.identity,autorange:!0,range:_.slice(),_m:1,_input:{}}}var U=r.lonaxis.range,H=r.lataxis.range,z=U[0],G=U[1];z>0&&G<0&&(G+=360);var Y=(z+G)/2,J;if(!d){var ae=u?v.projRotate:[Y,0,0];J=s("projection.rotation.lon",ae[0]),s("projection.rotation.lat",ae[1]),s("projection.rotation.roll",ae[2]),E=s("showcoastlines",!u&&x),E&&(s("coastlinecolor"),s("coastlinewidth")),E=s("showocean",x?void 0:!1),E&&s("oceancolor")}var oe,he;if(d?(oe=-96.6,he=38.7):(oe=u?Y:J,he=(H[0]+H[1])/2),s("center.lon",oe),s("center.lat",he),y&&(s("projection.tilt"),s("projection.distance")),M){var q=v.projParallels||[0,60];s("projection.parallels",q)}s("projection.scale"),E=s("showland",x?void 0:!1),E&&s("landcolor"),E=s("showlakes",x?void 0:!1),E&&s("lakecolor"),E=s("showrivers",x?void 0:!1),E&&(s("rivercolor"),s("riverwidth")),E=s("showcountries",u&&m!=="usa"&&x),E&&(s("countrycolor"),s("countrywidth")),(m==="usa"||m==="north america"&&f===50)&&(s("showsubunits",x),s("subunitcolor"),s("subunitwidth")),u||(E=s("showframe",x),E&&(s("framecolor"),s("framewidth"))),s("bgcolor");var Z=s("fitbounds");Z&&(delete r.projection.scale,u?(delete r.center.lon,delete r.center.lat):S?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(B,N,e){var p=e(39898),L=e(71828),a=e(73972),C=Math.PI/180,w=180/Math.PI,h={cursor:"pointer"},g={cursor:"auto"};function t(i,D){var b=i.projection,O;return D._isScoped?O=n:D._isClipped?O=c:O=l,O(i,b)}B.exports=t;function r(i,D){return p.behavior.zoom().translate(D.translate()).scale(D.scale())}function s(i,D,b){var O=i.id,F=i.graphDiv,V=F.layout,_=V[O],U=F._fullLayout,H=U[O],z={},G={};function Y(J,ae){z[O+"."+J]=L.nestedProperty(_,J).get(),a.call("_storeDirectGUIEdit",V,U._preGUI,z);var oe=L.nestedProperty(H,J);oe.get()!==ae&&(oe.set(ae),L.nestedProperty(_,J).set(ae),G[O+"."+J]=ae)}b(Y),Y("projection.scale",D.scale()/i.fitScale),Y("fitbounds",!1),F.emit("plotly_relayout",G)}function n(i,D){var b=r(i,D);function O(){p.select(this).style(h)}function F(){D.scale(p.event.scale).translate(p.event.translate),i.render(!0);var U=D.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":D.scale()/i.fitScale,"geo.center.lon":U[0],"geo.center.lat":U[1]})}function V(U){var H=D.invert(i.midPt);U("center.lon",H[0]),U("center.lat",H[1])}function _(){p.select(this).style(g),s(i,D,V)}return b.on("zoomstart",O).on("zoom",F).on("zoomend",_),b}function l(i,D){var b=r(i,D),O=2,F,V,_,U,H,z,G,Y,J;function ae(K){return D.invert(K)}function oe(K){var re=ae(K);if(!re)return!0;var le=D(re);return Math.abs(le[0]-K[0])>O||Math.abs(le[1]-K[1])>O}function he(){p.select(this).style(h),F=p.mouse(this),V=D.rotate(),_=D.translate(),U=V,H=ae(F)}function q(){if(z=p.mouse(this),oe(F)){b.scale(D.scale()),b.translate(D.translate());return}D.scale(p.event.scale),D.translate([_[0],p.event.translate[1]]),H?ae(z)&&(Y=ae(z),G=[U[0]+(Y[0]-H[0]),V[1],V[2]],D.rotate(G),U=G):(F=z,H=ae(F)),J=!0,i.render(!0);var K=D.rotate(),re=D.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":D.scale()/i.fitScale,"geo.center.lon":re[0],"geo.center.lat":re[1],"geo.projection.rotation.lon":-K[0]})}function Z(){p.select(this).style(g),J&&s(i,D,$)}function $(K){var re=D.rotate(),le=D.invert(i.midPt);K("projection.rotation.lon",-re[0]),K("center.lon",le[0]),K("center.lat",le[1])}return b.on("zoomstart",he).on("zoom",q).on("zoomend",Z),b}function c(i,D){D.rotate(),D.scale();var b=r(i,D),O=T(b,"zoomstart","zoom","zoomend"),F=0,V=b.on,_;b.on("zoomstart",function(){p.select(this).style(h);var Y=p.mouse(this),J=D.rotate(),ae=J,oe=D.translate(),he=m(J);_=f(D,Y),V.call(b,"zoom",function(){var q=p.mouse(this);if(D.scale(p.event.scale),!_)Y=q,_=f(D,Y);else if(f(D,q)){D.rotate(J).translate(oe);var Z=f(D,q),$=A(_,Z),K=S(v(he,$)),re=d(K,_,ae);(!isFinite(re[0])||!isFinite(re[1])||!isFinite(re[2]))&&(re=ae),D.rotate(re),ae=re}H(O.of(this,arguments))}),U(O.of(this,arguments))}).on("zoomend",function(){p.select(this).style(g),V.call(b,"zoom",null),z(O.of(this,arguments)),s(i,D,G)}).on("zoom.redraw",function(){i.render(!0);var Y=D.rotate();i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":D.scale()/i.fitScale,"geo.projection.rotation.lon":-Y[0],"geo.projection.rotation.lat":-Y[1]})});function U(Y){F++||Y({type:"zoomstart"})}function H(Y){Y({type:"zoom"})}function z(Y){--F||Y({type:"zoomend"})}function G(Y){var J=D.rotate();Y("projection.rotation.lon",-J[0]),Y("projection.rotation.lat",-J[1])}return p.rebind(b,O,"on")}function f(i,D){var b=i.invert(D);return b&&isFinite(b[0])&&isFinite(b[1])&&R(b)}function m(i){var D=.5*i[0]*C,b=.5*i[1]*C,O=.5*i[2]*C,F=Math.sin(D),V=Math.cos(D),_=Math.sin(b),U=Math.cos(b),H=Math.sin(O),z=Math.cos(O);return[V*U*z+F*_*H,F*U*z-V*_*H,V*_*z+F*U*H,V*U*H-F*_*z]}function v(i,D){var b=i[0],O=i[1],F=i[2],V=i[3],_=D[0],U=D[1],H=D[2],z=D[3];return[b*_-O*U-F*H-V*z,b*U+O*_+F*z-V*H,b*H-O*z+F*_+V*U,b*z+O*H-F*U+V*_]}function A(i,D){if(!(!i||!D)){var b=E(i,D),O=Math.sqrt(x(b,b)),F=.5*Math.acos(Math.max(-1,Math.min(1,x(i,D)))),V=Math.sin(F)/O;return O&&[Math.cos(F),b[2]*V,-b[1]*V,b[0]*V]}}function d(i,D,b){var O=M(D,2,i[0]);O=M(O,1,i[1]),O=M(O,0,i[2]-b[2]);var F=D[0],V=D[1],_=D[2],U=O[0],H=O[1],z=O[2],G=Math.atan2(V,F)*w,Y=Math.sqrt(F*F+V*V),J,ae;Math.abs(H)>Y?(ae=(H>0?90:-90)-G,J=0):(ae=Math.asin(H/Y)*w-G,J=Math.sqrt(Y*Y-H*H));var oe=180-ae-2*G,he=(Math.atan2(z,U)-Math.atan2(_,J))*w,q=(Math.atan2(z,U)-Math.atan2(_,-J))*w,Z=u(b[0],b[1],ae,he),$=u(b[0],b[1],oe,q);return Z<=$?[ae,he,b[2]]:[oe,q,b[2]]}function u(i,D,b,O){var F=y(b-i),V=y(O-D);return Math.sqrt(F*F+V*V)}function y(i){return(i%360+540)%360-180}function M(i,D,b){var O=b*C,F=i.slice(),V=D===0?1:0,_=D===2?1:2,U=Math.cos(O),H=Math.sin(O);return F[V]=i[V]*U-i[_]*H,F[_]=i[_]*U+i[V]*H,F}function S(i){return[Math.atan2(2*(i[0]*i[1]+i[2]*i[3]),1-2*(i[1]*i[1]+i[2]*i[2]))*w,Math.asin(Math.max(-1,Math.min(1,2*(i[0]*i[2]-i[3]*i[1]))))*w,Math.atan2(2*(i[0]*i[3]+i[1]*i[2]),1-2*(i[2]*i[2]+i[3]*i[3]))*w]}function R(i){var D=i[0]*C,b=i[1]*C,O=Math.cos(b);return[O*Math.cos(D),O*Math.sin(D),Math.sin(b)]}function x(i,D){for(var b=0,O=0,F=i.length;O<F;++O)b+=i[O]*D[O];return b}function E(i,D){return[i[1]*D[2]-i[2]*D[1],i[2]*D[0]-i[0]*D[2],i[0]*D[1]-i[1]*D[0]]}function T(i){for(var D=0,b=arguments.length,O=[];++D<b;)O.push(arguments[D]);var F=p.dispatch.apply(null,O);return F.of=function(V,_){return function(U){var H;try{H=U.sourceEvent=p.event,U.target=i,p.event=U,F[U.type].apply(V,_)}finally{p.event=H}}},F}},27659:function(B,N,e){var p=e(73972),L=e(85555).SUBPLOT_PATTERN;N.AU=function(a,C,w){var h=p.subplotsRegistry[C];if(!h)return[];for(var g=h.attr,t=[],r=0;r<a.length;r++){var s=a[r],n=s[0].trace;n[g]===w&&t.push(s)}return t},N.a0=function(a,C){var w=[],h=[],g;if(typeof C=="string"?g=p.getModule(C).plot:typeof C=="function"?g=C:g=C.plot,!g)return[w,a];for(var t=0;t<a.length;t++){var r=a[t],s=r[0].trace;s.visible!==!0||s._length===0||(s._module&&s._module.plot===g?w.push(r):h.push(r))}return[w,h]},N.NG=function(C,w,h){if(!p.subplotsRegistry[w])return[];var g=p.subplotsRegistry[w].attr,t=[],r,s,n;if(w==="gl2d"){var l=h.match(L);s="x"+l[1],n="y"+l[2]}for(var c=0;c<C.length;c++)r=C[c],w==="gl2d"&&p.traceIs(r,"gl2d")?r[g[0]]===s&&r[g[1]]===n&&t.push(r):r[g]===h&&t.push(r);return t}},75071:function(B,N,e){var p=e(16825),L=e(1195),a=e(48956),C=e(85555),w=e(38520);B.exports=g;function h(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function g(t){var r=t.mouseContainer,s=t.glplot,n=new h(r,s);function l(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function c(){for(var m=t.graphDiv._fullLayout._axisConstraintGroups,v=t.xaxis._id,A=t.yaxis._id,d=0;d<m.length;d++)if(m[d][v]!==-1){if(m[d][A]!==-1)return!0;break}return!1}n.mouseListener=p(r,f),r.addEventListener("touchstart",function(m){var v=a(m.changedTouches[0],r);f(0,v[0],v[1]),f(1,v[0],v[1]),m.preventDefault()},w?{passive:!1}:!1),r.addEventListener("touchmove",function(m){m.preventDefault();var v=a(m.changedTouches[0],r);f(1,v[0],v[1]),m.preventDefault()},w?{passive:!1}:!1),r.addEventListener("touchend",function(m){f(0,n.lastPos[0],n.lastPos[1]),m.preventDefault()},w?{passive:!1}:!1);function f(m,v,A){var d=t.calcDataBox(),u=s.viewBox,y=n.lastPos[0],M=n.lastPos[1],S=C.MINDRAG*s.pixelRatio,R=C.MINZOOM*s.pixelRatio,x,E;v*=s.pixelRatio,A*=s.pixelRatio,A=u[3]-u[1]-A;function T(V,_,U){var H=Math.min(_,U),z=Math.max(_,U);H!==z?(d[V]=H,d[V+2]=z,n.dataBox=d,t.setRanges(d)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(m){var i=v/(u[2]-u[0])*(d[2]-d[0])+d[0],D=A/(u[3]-u[1])*(d[3]-d[1])+d[1];n.boxInited||(n.boxStart[0]=i,n.boxStart[1]=D,n.dragStart[0]=v,n.dragStart[1]=A),n.boxEnd[0]=i,n.boxEnd[1]=D,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var b=Math.abs(n.dragStart[0]-v)<R,O=Math.abs(n.dragStart[1]-A)<R;if(c()&&!(b&&O)){x=n.boxEnd[0]-n.boxStart[0],E=n.boxEnd[1]-n.boxStart[1];var F=(d[3]-d[1])/(d[2]-d[0]);Math.abs(x*F)>Math.abs(E)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(x)*F*(E>=0?1:-1),n.boxEnd[1]<d[1]?(n.boxEnd[1]=d[1],n.boxEnd[0]=n.boxStart[0]+(d[1]-n.boxStart[1])/Math.abs(F)):n.boxEnd[1]>d[3]&&(n.boxEnd[1]=d[3],n.boxEnd[0]=n.boxStart[0]+(d[3]-n.boxStart[1])/Math.abs(F))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(E)/F*(x>=0?1:-1),n.boxEnd[0]<d[0]?(n.boxEnd[0]=d[0],n.boxEnd[1]=n.boxStart[1]+(d[0]-n.boxStart[0])*Math.abs(F)):n.boxEnd[0]>d[2]&&(n.boxEnd[0]=d[2],n.boxEnd[1]=n.boxStart[1]+(d[2]-n.boxStart[0])*Math.abs(F)))}else b&&(n.boxEnd[0]=n.boxStart[0]),O&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(x=n.boxStart[0]!==n.boxEnd[0],E=n.boxStart[1]!==n.boxEnd[1],x||E?(x&&(T(0,n.boxStart[0],n.boxEnd[0]),t.xaxis.autorange=!1),E&&(T(1,n.boxStart[1],n.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,m?(n.panning||(n.dragStart[0]=v,n.dragStart[1]=A),Math.abs(n.dragStart[0]-v)<S&&(v=n.dragStart[0]),Math.abs(n.dragStart[1]-A)<S&&(A=n.dragStart[1]),x=(y-v)*(d[2]-d[0])/(s.viewBox[2]-s.viewBox[0]),E=(M-A)*(d[3]-d[1])/(s.viewBox[3]-s.viewBox[1]),d[0]+=x,d[2]+=x,d[1]+=E,d[3]+=E,t.setRanges(d),n.panning=!0,n.lastInputTime=Date.now(),l(),t.cameraChanged(),t.handleAnnotations()):n.panning&&(n.panning=!1,t.relayoutCallback());break}n.lastPos[0]=v,n.lastPos[1]=A}return n.wheelListener=L(r,function(m,v){if(!t.scrollZoom)return!1;var A=t.calcDataBox(),d=s.viewBox,u=n.lastPos[0],y=n.lastPos[1],M=Math.exp(5*v/(d[3]-d[1])),S=u/(d[2]-d[0])*(A[2]-A[0])+A[0],R=y/(d[3]-d[1])*(A[3]-A[1])+A[1];return A[0]=(A[0]-S)*M+S,A[2]=(A[2]-S)*M+S,A[1]=(A[1]-R)*M+R,A[3]=(A[3]-R)*M+R,t.setRanges(A),n.lastInputTime=Date.now(),l(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),n}},82961:function(B,N,e){var p=e(89298),L=e(78614);function a(g){this.scene=g,this.gl=g.gl,this.pixelRatio=g.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=a.prototype,w=["xaxis","yaxis"];C.merge=function(g){this.titleEnable=!1,this.backgroundColor=L(g.plot_bgcolor);var t,r,s,n,l,c,f,m,v,A,d;for(A=0;A<2;++A){t=w[A];var u=t.charAt(0);for(r=g[this.scene[t]._name],s=r.title.text===this.scene.fullLayout._dfltTitle[u]?"":r.title.text,d=0;d<=2;d+=2)this.labelEnable[A+d]=!1,this.labels[A+d]=s,this.labelColor[A+d]=L(r.title.font.color),this.labelFont[A+d]=r.title.font.family,this.labelSize[A+d]=r.title.font.size,this.labelPad[A+d]=this.getLabelPad(t,r),this.tickEnable[A+d]=!1,this.tickColor[A+d]=L((r.tickfont||{}).color),this.tickAngle[A+d]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[A+d]=this.getTickPad(r),this.tickMarkLength[A+d]=0,this.tickMarkWidth[A+d]=r.tickwidth||0,this.tickMarkColor[A+d]=L(r.tickcolor),this.borderLineEnable[A+d]=!1,this.borderLineColor[A+d]=L(r.linecolor),this.borderLineWidth[A+d]=r.linewidth||0;f=this.hasSharedAxis(r),l=this.hasAxisInDfltPos(t,r)&&!f,c=this.hasAxisInAltrPos(t,r)&&!f,n=r.mirror||!1,m=f?String(n).indexOf("all")!==-1:!!n,v=f?n==="allticks":String(n).indexOf("ticks")!==-1,l?this.labelEnable[A]=!0:c&&(this.labelEnable[A+2]=!0),l?this.tickEnable[A]=r.showticklabels:c&&(this.tickEnable[A+2]=r.showticklabels),(l||m)&&(this.borderLineEnable[A]=r.showline),(c||m)&&(this.borderLineEnable[A+2]=r.showline),(l||v)&&(this.tickMarkLength[A]=this.getTickMarkLength(r)),(c||v)&&(this.tickMarkLength[A+2]=this.getTickMarkLength(r)),this.gridLineEnable[A]=r.showgrid,this.gridLineColor[A]=L(r.gridcolor),this.gridLineWidth[A]=r.gridwidth,this.zeroLineEnable[A]=r.zeroline,this.zeroLineColor[A]=L(r.zerolinecolor),this.zeroLineWidth[A]=r.zerolinewidth}},C.hasSharedAxis=function(g){var t=this.scene,r=t.fullLayout._subplots.gl2d,s=p.findSubplotsWithAxis(r,g);return s.indexOf(t.id)!==0},C.hasAxisInDfltPos=function(g,t){var r=t.side;if(g==="xaxis")return r==="bottom";if(g==="yaxis")return r==="left"},C.hasAxisInAltrPos=function(g,t){var r=t.side;if(g==="xaxis")return r==="top";if(g==="yaxis")return r==="right"},C.getLabelPad=function(g,t){var r=1.5,s=t.title.font.size,n=t.showticklabels;if(g==="xaxis")return t.side==="top"?-10+s*(r+(n?1:0)):-10+s*(r+(n?.5:0));if(g==="yaxis")return t.side==="right"?10+s*(r+(n?1:.5)):10+s*(r+(n?.5:0))},C.getTickPad=function(g){return g.ticks==="outside"?10+g.ticklen:15},C.getTickMarkLength=function(g){if(!g.ticks)return 0;var t=g.ticklen;return g.ticks==="inside"?-t:t};function h(g){return new a(g)}B.exports=h},4796:function(B,N,e){var p=e(30962).overrideAll,L=e(92918),a=e(10820),C=e(77922),w=e(85555),h=e(93612),g=e(528),t=e(27659).NG;N.name="gl2d",N.attr=["xaxis","yaxis"],N.idRoot=["x","y"],N.idRegex=w.idRegex,N.attrRegex=w.attrRegex,N.attributes=e(89502),N.supplyLayoutDefaults=function(r,s,n){s._has("cartesian")||h.supplyLayoutDefaults(r,s,n)},N.layoutAttrOverrides=p(h.layoutAttributes,"plot","from-root"),N.baseLayoutAttrOverrides=p({plot_bgcolor:a.plot_bgcolor,hoverlabel:g.hoverlabel},"plot","nested"),N.plot=function(s){for(var n=s._fullLayout,l=s._fullData,c=n._subplots.gl2d,f=0;f<c.length;f++){var m=c[f],v=n._plots[m],A=t(l,"gl2d",m),d=v._scene2d;d===void 0&&(d=new L({id:m,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},n),v._scene2d=d),d.plot(A,s.calcdata,n,s.layout)}},N.clean=function(r,s,n,l){for(var c=l._subplots.gl2d||[],f=0;f<c.length;f++){var m=c[f],v=l._plots[m];if(v._scene2d){var A=t(r,"gl2d",m);A.length===0&&(v._scene2d.destroy(),delete l._plots[m])}}h.clean.apply(this,arguments)},N.drawFramework=function(r){r._context.staticPlot||h.drawFramework(r)},N.toSVG=function(r){for(var s=r._fullLayout,n=s._subplots.gl2d,l=0;l<n.length;l++){var c=s._plots[n[l]],f=c._scene2d,m=f.toImage("png"),v=s._glimages.append("svg:image");v.attr({xmlns:C.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),f.destroy()}},N.updateFx=function(r){for(var s=r._fullLayout,n=s._subplots.gl2d,l=0;l<n.length;l++){var c=s._plots[n[l]]._scene2d;c.updateFx(s.dragmode)}}},92918:function(B,N,e){var p=e(73972),L=e(89298),a=e(30211),C=e(9330).gl_plot2d,w=e(9330).gl_spikes2d,h=e(9330).gl_select_box,g=e(40372),t=e(82961),r=e(75071),s=e(58617),n=e(99082),l=n.enforce,c=n.clean,f=e(71739).doAutoRange,m=e(64505),v=m.drawMode,A=m.selectMode,d=["xaxis","yaxis"],u,y,M=e(85555).SUBPLOT_PATTERN;function S(E,T){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(T),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(T),this.glplot=C(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=w(this.glplot),this.selectBox=h(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}B.exports=S;var R=S.prototype;R.makeFramework=function(){if(this.staticPlot){if(!y&&(u=document.createElement("canvas"),y=g({canvas:u,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!y))throw new Error("Error creating static canvas/context for image server");this.canvas=u,this.gl=y}else{var E=this.container.querySelector(".gl-canvas-focus"),T=g({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!T){s(this),this.stopped=!0;return}this.canvas=E,this.gl=T}var i=this.canvas;i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style["pointer-events"]="none",this.updateSize(i);var D=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");D.style.position="absolute",D.style.top=D.style.left="0px",D.style.width=D.style.height="100%",D.style["z-index"]=20,D.style["pointer-events"]="none";var b=this.mouseContainer=document.createElement("div");b.style.position="absolute",b.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var O=this.container;O.appendChild(D),O.appendChild(b);var F=this;b.addEventListener("mouseout",function(){F.isMouseOver=!1,F.unhover()}),b.addEventListener("mouseover",function(){F.isMouseOver=!0})},R.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(u),this.updateSize(this.canvas);var T=this.glplot.gl,i=T.drawingBufferWidth,D=T.drawingBufferHeight;T.clearColor(1,1,1,0),T.clear(T.COLOR_BUFFER_BIT|T.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),T.bindFramebuffer(T.FRAMEBUFFER,null);var b=new Uint8Array(i*D*4);T.readPixels(0,0,i,D,T.RGBA,T.UNSIGNED_BYTE,b);for(var O=0,F=D-1;O<F;++O,--F)for(var V=0;V<i;++V)for(var _=0;_<4;++_){var U=b[4*(i*O+V)+_];b[4*(i*O+V)+_]=b[4*(i*F+V)+_],b[4*(i*F+V)+_]=U}var H=document.createElement("canvas");H.width=i,H.height=D;var z=H.getContext("2d",{willReadFrequently:!0}),G=z.createImageData(i,D);G.data.set(b),z.putImageData(G,0,0);var Y;switch(E){case"jpeg":Y=H.toDataURL("image/jpeg");break;case"webp":Y=H.toDataURL("image/webp");break;default:Y=H.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(u),Y},R.updateSize=function(E){E||(E=this.canvas);var T=this.pixelRatio,i=this.fullLayout,D=i.width,b=i.height,O=Math.ceil(T*D)|0,F=Math.ceil(T*b)|0;return(E.width!==O||E.height!==F)&&(E.width=O,E.height=F),E},R.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[L.calcTicks(this.xaxis),L.calcTicks(this.yaxis)],T=0;T<2;++T)for(var i=0;i<E[T].length;++i)E[T][i].text=E[T][i].text+"";return E};function x(E,T){for(var i=0;i<2;++i){var D=E[i],b=T[i];if(D.length!==b.length)return!0;for(var O=0;O<D.length;++O)if(D[O].x!==b[O].x)return!0}return!1}R.updateRefs=function(E){this.fullLayout=E;var T=this.id.match(M),i="xaxis"+T[1],D="yaxis"+T[2];this.xaxis=this.fullLayout[i],this.yaxis=this.fullLayout[D]},R.relayoutCallback=function(){var E=this.graphDiv,T=this.xaxis,i=this.yaxis,D=E.layout,b={},O=b[T._name+".range"]=T.range.slice(),F=b[i._name+".range"]=i.range.slice();b[T._name+".autorange"]=T.autorange,b[i._name+".autorange"]=i.autorange,p.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,b);var V=D[T._name];V.range=O,V.autorange=T.autorange;var _=D[i._name];_.range=F,_.autorange=i.autorange,b.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",b)},R.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var T=this.computeTickMarks(),i=this.glplotOptions.ticks;x(T,i)&&(this.glplotOptions.ticks=T,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},R.handleAnnotations=function(){for(var E=this.graphDiv,T=this.fullLayout.annotations,i=0;i<T.length;i++){var D=T[i];D.xref===this.xaxis._id&&D.yref===this.yaxis._id&&p.getComponentMethod("annotations","drawOne")(E,i)}},R.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(T){E[T].dispose(),delete E[T]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},R.plot=function(E,T,i){var D=this.glplot;this.updateRefs(i),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,T),this.updateFx(i.dragmode);var b=i.width,O=i.height;this.updateSize(this.canvas);var F=this.glplotOptions;F.merge(i),F.screenBox=[0,0,b,O];var V={_fullLayout:{_axisConstraintGroups:i._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:i._size}};c(V,this.xaxis),c(V,this.yaxis);var _=i._size,U=this.xaxis.domain,H=this.yaxis.domain;F.viewBox=[_.l+U[0]*_.w,_.b+H[0]*_.h,b-_.r-(1-U[1])*_.w,O-_.t-(1-H[1])*_.h],this.mouseContainer.style.width=_.w*(U[1]-U[0])+"px",this.mouseContainer.style.height=_.h*(H[1]-H[0])+"px",this.mouseContainer.height=_.h*(H[1]-H[0]),this.mouseContainer.style.left=_.l+U[0]*_.w+"px",this.mouseContainer.style.top=_.t+(1-H[1])*_.h+"px";var z,G;for(G=0;G<2;++G)z=this[d[G]],z._length=F.viewBox[G+2]-F.viewBox[G],f(this.graphDiv,z),z.setScale();l(V),F.ticks=this.computeTickMarks(),F.dataBox=this.calcDataBox(),F.merge(i),D.update(F),this.glplot.draw()},R.calcDataBox=function(){var E=this.xaxis,T=this.yaxis,i=E.range,D=T.range,b=E.r2l,O=T.r2l;return[b(i[0]),O(D[0]),b(i[1]),O(D[1])]},R.setRanges=function(E){var T=this.xaxis,i=this.yaxis,D=T.l2r,b=i.l2r;T.range=[D(E[0]),D(E[2])],i.range=[b(E[1]),b(E[3])]},R.updateTraces=function(E,T){var i=Object.keys(this.traces),D,b,O;this.fullData=E;e:for(D=0;D<i.length;D++){var F=i[D],V=this.traces[F];for(b=0;b<E.length;b++)if(O=E[b],O.uid===F&&O.type===V.type)continue e;V.dispose(),delete this.traces[F]}for(D=0;D<E.length;D++){O=E[D];var _=T[D],U=this.traces[O.uid];U?U.update(O,_):(U=O._module.plot(this,O,_),this.traces[O.uid]=U)}this.glplot.objects.sort(function(H,z){return H._trace.index-z._trace.index})},R.updateFx=function(E){A(E)||v(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},R.emitPointAction=function(E,T){for(var i=E.trace.uid,D=E.pointIndex,b,O=0;O<this.fullData.length;O++)this.fullData[O].uid===i&&(b=this.fullData[O]);var F={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:b.index,pointNumber:D,data:b._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(F,b,D),this.graphDiv.emit(T,{points:[F]})},R.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,T=this.camera,i=T.mouseListener,D=this.lastButtonState===1&&i.buttons===0,b=this.fullLayout;this.lastButtonState=i.buttons,this.cameraChanged();var O=i.x*E.pixelRatio,F=this.canvas.height-E.pixelRatio*i.y,V;if(T.boxEnabled&&b.dragmode==="zoom"){this.selectBox.enabled=!0;for(var _=this.selectBox.selectBox=[Math.min(T.boxStart[0],T.boxEnd[0]),Math.min(T.boxStart[1],T.boxEnd[1]),Math.max(T.boxStart[0],T.boxEnd[0]),Math.max(T.boxStart[1],T.boxEnd[1])],U=0;U<2;U++)T.boxStart[U]===T.boxEnd[U]&&(_[U]=E.dataBox[U],_[U+2]=E.dataBox[U+2]);E.setDirty()}else if(!T.panning&&this.isMouseOver){this.selectBox.enabled=!1;var H=b._size,z=this.xaxis.domain,G=this.yaxis.domain;V=E.pick(O/E.pixelRatio+H.l+z[0]*H.w,F/E.pixelRatio-(H.t+(1-G[1])*H.h));var Y=V&&V.object._trace.handlePick(V);if(Y&&D&&this.emitPointAction(Y,"plotly_click"),V&&V.object._trace.hoverinfo!=="skip"&&b.hovermode&&Y&&(!this.lastPickResult||this.lastPickResult.traceUid!==Y.trace.uid||this.lastPickResult.dataCoord[0]!==Y.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Y.dataCoord[1])){var J=Y;this.lastPickResult={traceUid:Y.trace?Y.trace.uid:null,dataCoord:Y.dataCoord.slice()},this.spikes.update({center:V.dataCoord}),J.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(V.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(V.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(Y,"plotly_hover");var ae=this.fullData[J.trace.index]||{},oe=J.pointIndex,he=a.castHoverinfo(ae,b,oe);if(he&&he!=="all"){var q=he.split("+");q.indexOf("x")===-1&&(J.traceCoord[0]=void 0),q.indexOf("y")===-1&&(J.traceCoord[1]=void 0),q.indexOf("z")===-1&&(J.traceCoord[2]=void 0),q.indexOf("text")===-1&&(J.textLabel=void 0),q.indexOf("name")===-1&&(J.name=void 0)}a.loneHover({x:J.screenCoord[0],y:J.screenCoord[1],xLabel:this.hoverFormatter("xaxis",J.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",J.traceCoord[1]),zLabel:J.traceCoord[2],text:J.textLabel,name:J.name,color:a.castHoverOption(ae,oe,"bgcolor")||J.color,borderColor:a.castHoverOption(ae,oe,"bordercolor"),fontFamily:a.castHoverOption(ae,oe,"font.family"),fontSize:a.castHoverOption(ae,oe,"font.size"),fontColor:a.castHoverOption(ae,oe,"font.color"),nameLength:a.castHoverOption(ae,oe,"namelength"),textAlign:a.castHoverOption(ae,oe,"align")},{container:this.svgContainer,gd:this.graphDiv})}}V||this.unhover(),E.draw()}},R.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},R.hoverFormatter=function(E,T){if(T!==void 0){var i=this[E];return L.tickText(i,i.c2l(T),"hover").text}}},58547:function(B,N,e){var p=e(30962).overrideAll,L=e(528),a=e(33539),C=e(27659).NG,w=e(71828),h=e(77922),g="gl3d",t="scene";N.name=g,N.attr=t,N.idRoot=t,N.idRegex=N.attrRegex=w.counterRegex("scene"),N.attributes=e(59084),N.layoutAttributes=e(65500),N.baseLayoutAttrOverrides=p({hoverlabel:L.hoverlabel},"plot","nested"),N.supplyLayoutDefaults=e(24682),N.plot=function(s){for(var n=s._fullLayout,l=s._fullData,c=n._subplots[g],f=0;f<c.length;f++){var m=c[f],v=C(l,g,m),A=n[m],d=A.camera,u=A._scene;u||(u=new a({id:m,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:d},n),A._scene=u),u.viewInitial||(u.viewInitial={up:{x:d.up.x,y:d.up.y,z:d.up.z},eye:{x:d.eye.x,y:d.eye.y,z:d.eye.z},center:{x:d.center.x,y:d.center.y,z:d.center.z}}),u.plot(v,n,s.layout)}},N.clean=function(r,s,n,l){for(var c=l._subplots[g]||[],f=0;f<c.length;f++){var m=c[f];!s[m]&&l[m]._scene&&(l[m]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+m).remove())}},N.toSVG=function(r){for(var s=r._fullLayout,n=s._subplots[g],l=s._size,c=0;c<n.length;c++){var f=s[n[c]],m=f.domain,v=f._scene,A=v.toImage("png"),d=s._glimages.append("svg:image");d.attr({xmlns:h.svg,"xlink:href":A,x:l.l+l.w*m.x[0],y:l.t+l.h*(1-m.y[1]),width:l.w*(m.x[1]-m.x[0]),height:l.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),v.destroy()}},N.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var n=s.substr(5);return n==="1"&&(n=""),t+n}},N.updateFx=function(r){for(var s=r._fullLayout,n=s._subplots[g],l=0;l<n.length;l++){var c=s[n[l]]._scene;c.updateFx(s.dragmode,s.hovermode)}}},59084:function(B){B.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(B,N,e){var p=e(7901),L=e(13838),a=e(1426).extendFlat,C=e(30962).overrideAll;B.exports=C({visible:L.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:p.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:L.color,categoryorder:L.categoryorder,categoryarray:L.categoryarray,title:{text:L.title.text,font:L.title.font},type:a({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:L.autorange,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},rangemode:L.rangemode,minallowed:L.minallowed,maxallowed:L.maxallowed,range:a({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,mirror:L.mirror,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,tickfont:L.tickfont,tickangle:L.tickangle,tickprefix:L.tickprefix,showtickprefix:L.showtickprefix,ticksuffix:L.ticksuffix,showticksuffix:L.showticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickformat:L.tickformat,tickformatstops:L.tickformatstops,hoverformat:L.hoverformat,showline:L.showline,linecolor:L.linecolor,linewidth:L.linewidth,showgrid:L.showgrid,gridcolor:a({},L.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:L.gridwidth,zeroline:L.zeroline,zerolinecolor:L.zerolinecolor,zerolinewidth:L.zerolinewidth,_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}},"plot","from-root")},3277:function(B,N,e){var p=e(84267).mix,L=e(71828),a=e(44467),C=e(77894),w=e(951),h=e(71453),g=["xaxis","yaxis","zaxis"],t=100*(204-68)/(255-68);B.exports=function(s,n,l){var c,f;function m(d,u){return L.coerce(c,f,C,d,u)}for(var v=0;v<g.length;v++){var A=g[v];c=s[A]||{},f=a.newContainer(n,A),f._id=A[0]+l.scene,f._name=A,w(c,f,m,l),h(c,f,m,{font:l.font,letter:A[0],data:l.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:l.bgColor,calendar:l.calendar},l.fullLayout),m("gridcolor",p(f.color,l.bgColor,t).toRgbString()),m("title.text",A[0]),f.setScale=L.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",f.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},30422:function(B,N,e){var p=e(78614),L=e(71828),a=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var w=C.prototype;w.merge=function(g,t){for(var r=this,s=0;s<3;++s){var n=t[a[s]];if(!n.visible){r.tickEnable[s]=!1,r.labelEnable[s]=!1,r.lineEnable[s]=!1,r.lineTickEnable[s]=!1,r.gridEnable[s]=!1,r.zeroEnable[s]=!1,r.backgroundEnable[s]=!1;continue}r.labels[s]=g._meta?L.templateString(n.title.text,g._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(r.labelColor[s]=p(n.title.font.color)),n.title.font.family&&(r.labelFont[s]=n.title.font.family),n.title.font.size&&(r.labelSize[s]=n.title.font.size)),"showline"in n&&(r.lineEnable[s]=n.showline),"linecolor"in n&&(r.lineColor[s]=p(n.linecolor)),"linewidth"in n&&(r.lineWidth[s]=n.linewidth),"showgrid"in n&&(r.gridEnable[s]=n.showgrid),"gridcolor"in n&&(r.gridColor[s]=p(n.gridcolor)),"gridwidth"in n&&(r.gridWidth[s]=n.gridwidth),n.type==="log"?r.zeroEnable[s]=!1:"zeroline"in n&&(r.zeroEnable[s]=n.zeroline),"zerolinecolor"in n&&(r.zeroLineColor[s]=p(n.zerolinecolor)),"zerolinewidth"in n&&(r.zeroLineWidth[s]=n.zerolinewidth),"ticks"in n&&n.ticks?r.lineTickEnable[s]=!0:r.lineTickEnable[s]=!1,"ticklen"in n&&(r.lineTickLength[s]=r._defaultLineTickLength[s]=n.ticklen),"tickcolor"in n&&(r.lineTickColor[s]=p(n.tickcolor)),"tickwidth"in n&&(r.lineTickWidth[s]=n.tickwidth),"tickangle"in n&&(r.tickAngle[s]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(r.tickEnable[s]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(r.tickColor[s]=p(n.tickfont.color)),n.tickfont.family&&(r.tickFont[s]=n.tickfont.family),n.tickfont.size&&(r.tickSize[s]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(r.lineTickMirror[s]=!0,r.lineMirror[s]=!0):n.mirror===!0?(r.lineTickMirror[s]=!1,r.lineMirror[s]=!0):(r.lineTickMirror[s]=!1,r.lineMirror[s]=!1):r.lineMirror[s]=!1,"showbackground"in n&&n.showbackground!==!1?(r.backgroundEnable[s]=!0,r.backgroundColor[s]=p(n.backgroundcolor)):r.backgroundEnable[s]=!1}};function h(g,t){var r=new C;return r.merge(g,t),r}B.exports=h},24682:function(B,N,e){var p=e(71828),L=e(7901),a=e(73972),C=e(49119),w=e(3277),h=e(65500),g=e(27659).NG,t="gl3d";B.exports=function(n,l,c){var f=l._basePlotModules.length>1;function m(v){if(!f){var A=p.validate(n[v],h[v]);if(A)return n[v]}}C(n,l,c,{type:t,attributes:h,handleDefaults:r,fullLayout:l,font:l.font,fullData:c,getDfltFromLayout:m,autotypenumbersDflt:l.autotypenumbers,paper_bgcolor:l.paper_bgcolor,calendar:l.calendar})};function r(s,n,l,c){for(var f=l("bgcolor"),m=L.combine(f,c.paper_bgcolor),v=["up","center","eye"],A=0;A<v.length;A++)l("camera."+v[A]+".x"),l("camera."+v[A]+".y"),l("camera."+v[A]+".z");l("camera.projection.type");var d=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),u=d?"manual":"auto",y=l("aspectmode",u);d||(s.aspectratio=n.aspectratio={x:1,y:1,z:1},y==="manual"&&(n.aspectmode="auto"),s.aspectmode=n.aspectmode);var M=g(c.fullData,t,c.id);w(s,n,{font:c.font,scene:c.id,data:M,bgColor:m,calendar:c.calendar,autotypenumbersDflt:c.autotypenumbersDflt,fullLayout:c.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(s,n,c);var S=c.getDfltFromLayout("dragmode");if(S!==!1&&!S)if(S="orbit",s.camera&&s.camera.up){var R=s.camera.up.x,x=s.camera.up.y,E=s.camera.up.z;E!==0&&(!R||!x||!E||E/Math.sqrt(R*R+x*x+E*E)>.999)&&(S="turntable")}else S="turntable";l("dragmode",S),l("hovermode",c.getDfltFromLayout("hovermode"))}},65500:function(B,N,e){var p=e(77894),L=e(27670).Y,a=e(1426).extendFlat,C=e(71828).counterRegex;function w(h,g,t){return{x:{valType:"number",dflt:h,editType:"camera"},y:{valType:"number",dflt:g,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}B.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(w(0,0,1),{}),center:a(w(0,0,0),{}),eye:a(w(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:L({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:p,yaxis:p,zaxis:p,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(B,N,e){var p=e(78614),L=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=a.prototype;C.merge=function(h){for(var g=0;g<3;++g){var t=h[L[g]];if(!t.visible){this.enabled[g]=!1,this.drawSides[g]=!1;continue}this.enabled[g]=t.showspikes,this.colors[g]=p(t.spikecolor),this.drawSides[g]=t.spikesides,this.lineWidth[g]=t.spikethickness}};function w(h){var g=new a;return g.merge(h),g}B.exports=w},96085:function(B,N,e){B.exports=w;var p=e(89298),L=e(71828),a=["xaxis","yaxis","zaxis"];function C(h){for(var g=new Array(3),t=0;t<3;++t){for(var r=h[t],s=new Array(r.length),n=0;n<r.length;++n)s[n]=r[n].x;g[t]=s}return g}function w(h){for(var g=h.axesOptions,t=h.glplot.axesPixels,r=h.fullSceneLayout,s=[[],[],[]],n=0;n<3;++n){var l=r[a[n]];if(l._length=(t[n].hi-t[n].lo)*t[n].pixelsPerDataUnit/h.dataScale[n],Math.abs(l._length)===1/0||isNaN(l._length))s[n]=[];else{l._input_range=l.range.slice(),l.range[0]=t[n].lo/h.dataScale[n],l.range[1]=t[n].hi/h.dataScale[n],l._m=1/(h.dataScale[n]*t[n].pixelsPerDataUnit),l.range[0]===l.range[1]&&(l.range[0]-=1,l.range[1]+=1);var c=l.tickmode;if(l.tickmode==="auto"){l.tickmode="linear";var f=l.nticks||L.constrain(l._length/40,4,9);p.autoTicks(l,Math.abs(l.range[1]-l.range[0])/f)}for(var m=p.calcTicks(l,{msUTC:!0}),v=0;v<m.length;++v)m[v].x=m[v].x*h.dataScale[n],l.type==="date"&&(m[v].text=m[v].text.replace(/\<br\>/g," "));s[n]=m,l.tickmode=c}}g.ticks=s;for(var n=0;n<3;++n){.5*(h.glplot.bounds[0][n]+h.glplot.bounds[1][n]);for(var v=0;v<2;++v)g.bounds[v][n]=h.glplot.bounds[v][n]}h.contourLevels=C(s)}},63538:function(B){function N(p,L){var a=[0,0,0,0],C,w;for(C=0;C<4;++C)for(w=0;w<4;++w)a[w]+=p[4*C+w]*L[C];return a}function e(p,L){var a=N(p.projection,N(p.view,N(p.model,[L[0],L[1],L[2],1])));return a}B.exports=e},33539:function(B,N,e){var p=e(9330).gl_plot3d,L=p.createCamera,a=p.createScene,C=e(40372),w=e(38520),h=e(73972),g=e(71828),t=g.preserveDrawingBuffer(),r=e(89298),s=e(30211),n=e(78614),l=e(58617),c=e(63538),f=e(30422),m=e(13133),v=e(96085),A=e(71739).applyAutorangeOptions,d,u,y=!1;function M(F,V){var _=document.createElement("div"),U=F.container;this.graphDiv=F.graphDiv;var H=document.createElementNS("http://www.w3.org/2000/svg","svg");H.style.position="absolute",H.style.top=H.style.left="0px",H.style.width=H.style.height="100%",H.style["z-index"]=20,H.style["pointer-events"]="none",_.appendChild(H),this.svgContainer=H,_.id=F.id,_.style.position="absolute",_.style.top=_.style.left="0px",_.style.width=_.style.height="100%",U.appendChild(_),this.fullLayout=V,this.id=F.id||"scene",this.fullSceneLayout=V[this.id],this.plotArgs=[[],{},{}],this.axesOptions=f(V,V[this.id]),this.spikeOptions=m(V[this.id]),this.container=_,this.staticMode=!!F.staticPlot,this.pixelRatio=this.pixelRatio||F.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=h.getComponentMethod("annotations3d","convert"),this.drawAnnotations=h.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var S=M.prototype;S.prepareOptions=function(){var F=this,V={canvas:F.canvas,gl:F.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:F.container,axes:F.axesOptions,spikes:F.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:F.camera,pixelRatio:F.pixelRatio};if(F.staticMode){if(!u&&(d=document.createElement("canvas"),u=C({canvas:d,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!u))throw new Error("error creating static canvas/context for image server");V.gl=u,V.canvas=d}return V};var R=!0;S.tryCreatePlot=function(){var F=this,V=F.prepareOptions(),_=!0;try{F.glplot=a(V)}catch{if(F.staticMode||!R||t)_=!1;else{g.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=V.glOptions.preserveDrawingBuffer=!0,F.glplot=a(V)}catch{t=V.glOptions.preserveDrawingBuffer=!1,_=!1}}}return R=!1,_},S.initializeGLCamera=function(){var F=this,V=F.fullSceneLayout.camera,_=V.projection.type==="orthographic";F.camera=L(F.container,{center:[V.center.x,V.center.y,V.center.z],eye:[V.eye.x,V.eye.y,V.eye.z],up:[V.up.x,V.up.y,V.up.z],_ortho:_,zoomMin:.01,zoomMax:100,mode:"orbit"})},S.initializeGLPlot=function(){var F=this;F.initializeGLCamera();var V=F.tryCreatePlot();if(!V)return l(F);F.traces={},F.make4thDimension();var _=F.graphDiv,U=_.layout,H=function(){var G={};return F.isCameraChanged(U)&&(G[F.id+".camera"]=F.getCamera()),F.isAspectChanged(U)&&(G[F.id+".aspectratio"]=F.glplot.getAspectratio(),U[F.id].aspectmode!=="manual"&&(F.fullSceneLayout.aspectmode=U[F.id].aspectmode=G[F.id+".aspectmode"]="manual")),G},z=function(G){if(G.fullSceneLayout.dragmode!==!1){var Y=H();G.saveLayout(U),G.graphDiv.emit("plotly_relayout",Y)}};return F.glplot.canvas&&(F.glplot.canvas.addEventListener("mouseup",function(){z(F)}),F.glplot.canvas.addEventListener("touchstart",function(){y=!0}),F.glplot.canvas.addEventListener("wheel",function(G){if(_._context._scrollZoom.gl3d){if(F.camera._ortho){var Y=G.deltaX>G.deltaY?1.1:.9090909090909091,J=F.glplot.getAspectratio();F.glplot.setAspectratio({x:Y*J.x,y:Y*J.y,z:Y*J.z})}z(F)}},w?{passive:!1}:!1),F.glplot.canvas.addEventListener("mousemove",function(){if(F.fullSceneLayout.dragmode!==!1&&F.camera.mouseListener.buttons!==0){var G=H();F.graphDiv.emit("plotly_relayouting",G)}}),F.staticMode||F.glplot.canvas.addEventListener("webglcontextlost",function(G){_&&_.emit&&_.emit("plotly_webglcontextlost",{event:G,layer:F.id})},!1)),F.glplot.oncontextloss=function(){F.recoverContext()},F.glplot.onrender=function(){F.render()},!0},S.render=function(){var F=this,V=F.graphDiv,_,U=F.svgContainer,H=F.container.getBoundingClientRect();V._fullLayout._calcInverseTransform(V);var z=V._fullLayout._invScaleX,G=V._fullLayout._invScaleY,Y=H.width*z,J=H.height*G;U.setAttributeNS(null,"viewBox","0 0 "+Y+" "+J),U.setAttributeNS(null,"width",Y),U.setAttributeNS(null,"height",J),v(F),F.glplot.axes.update(F.axesOptions);for(var ae=Object.keys(F.traces),oe=null,he=F.glplot.selection,q=0;q<ae.length;++q)_=F.traces[ae[q]],_.data.hoverinfo!=="skip"&&_.handlePick(he)&&(oe=_),_.setContourLevels&&_.setContourLevels();function Z(Oe,Ue,Le){var we=F.fullSceneLayout[Oe+"axis"];return we.type!=="log"&&(Ue=we.d2l(Ue)),r.hoverLabelText(we,Ue,Le)}if(oe!==null){var $=c(F.glplot.cameraParams,he.dataCoordinate);_=oe.data;var K=V._fullData[_.index],re=he.index,le={xLabel:Z("x",he.traceCoordinate[0],_.xhoverformat),yLabel:Z("y",he.traceCoordinate[1],_.yhoverformat),zLabel:Z("z",he.traceCoordinate[2],_.zhoverformat)},te=s.castHoverinfo(K,F.fullLayout,re),ee=(te||"").split("+"),ue=te&&te==="all";!K.hovertemplate&&!ue&&(ee.indexOf("x")===-1&&(le.xLabel=void 0),ee.indexOf("y")===-1&&(le.yLabel=void 0),ee.indexOf("z")===-1&&(le.zLabel=void 0),ee.indexOf("text")===-1&&(he.textLabel=void 0),ee.indexOf("name")===-1&&(oe.name=void 0));var se,ve=[];_.type==="cone"||_.type==="streamtube"?(le.uLabel=Z("x",he.traceCoordinate[3],_.uhoverformat),(ue||ee.indexOf("u")!==-1)&&ve.push("u: "+le.uLabel),le.vLabel=Z("y",he.traceCoordinate[4],_.vhoverformat),(ue||ee.indexOf("v")!==-1)&&ve.push("v: "+le.vLabel),le.wLabel=Z("z",he.traceCoordinate[5],_.whoverformat),(ue||ee.indexOf("w")!==-1)&&ve.push("w: "+le.wLabel),le.normLabel=he.traceCoordinate[6].toPrecision(3),(ue||ee.indexOf("norm")!==-1)&&ve.push("norm: "+le.normLabel),_.type==="streamtube"&&(le.divergenceLabel=he.traceCoordinate[7].toPrecision(3),(ue||ee.indexOf("divergence")!==-1)&&ve.push("divergence: "+le.divergenceLabel)),he.textLabel&&ve.push(he.textLabel),se=ve.join("<br>")):_.type==="isosurface"||_.type==="volume"?(le.valueLabel=r.hoverLabelText(F._mockAxis,F._mockAxis.d2l(he.traceCoordinate[3]),_.valuehoverformat),ve.push("value: "+le.valueLabel),he.textLabel&&ve.push(he.textLabel),se=ve.join("<br>")):se=he.textLabel;var be={x:he.traceCoordinate[0],y:he.traceCoordinate[1],z:he.traceCoordinate[2],data:K._input,fullData:K,curveNumber:K.index,pointNumber:re};s.appendArrayPointValue(be,K,re),_._module.eventData&&(be=K._module.eventData(be,he,K,{},re));var Ee={points:[be]};if(F.fullSceneLayout.hovermode){var Ae=[];s.loneHover({trace:K,x:(.5+.5*$[0]/$[3])*Y,y:(.5-.5*$[1]/$[3])*J,xLabel:le.xLabel,yLabel:le.yLabel,zLabel:le.zLabel,text:se,name:oe.name,color:s.castHoverOption(K,re,"bgcolor")||oe.color,borderColor:s.castHoverOption(K,re,"bordercolor"),fontFamily:s.castHoverOption(K,re,"font.family"),fontSize:s.castHoverOption(K,re,"font.size"),fontColor:s.castHoverOption(K,re,"font.color"),nameLength:s.castHoverOption(K,re,"namelength"),textAlign:s.castHoverOption(K,re,"align"),hovertemplate:g.castOption(K,re,"hovertemplate"),hovertemplateLabels:g.extendFlat({},be,le),eventData:[be]},{container:U,gd:V,inOut_bbox:Ae}),be.bbox=Ae[0]}he.distance<5&&(he.buttons||y)?V.emit("plotly_click",Ee):V.emit("plotly_hover",Ee),this.oldEventData=Ee}else s.loneUnhover(U),this.oldEventData&&V.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;F.drawAnnotations(F)},S.recoverContext=function(){var F=this;F.glplot.dispose();var V=function(){if(F.glplot.gl.isContextLost()){requestAnimationFrame(V);return}if(!F.initializeGLPlot()){g.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}F.plot.apply(F,F.plotArgs)};requestAnimationFrame(V)};var x=["xaxis","yaxis","zaxis"];function E(F,V,_){for(var U=F.fullSceneLayout,H=0;H<3;H++){var z=x[H],G=z.charAt(0),Y=U[z],J=V[G],ae=V[G+"calendar"],oe=V["_"+G+"length"];if(!g.isArrayOrTypedArray(J))_[0][H]=Math.min(_[0][H],0),_[1][H]=Math.max(_[1][H],oe-1);else for(var he,q=0;q<(oe||J.length);q++)if(g.isArrayOrTypedArray(J[q]))for(var Z=0;Z<J[q].length;++Z)he=Y.d2l(J[q][Z],0,ae),!isNaN(he)&&isFinite(he)&&(_[0][H]=Math.min(_[0][H],he),_[1][H]=Math.max(_[1][H],he));else he=Y.d2l(J[q],0,ae),!isNaN(he)&&isFinite(he)&&(_[0][H]=Math.min(_[0][H],he),_[1][H]=Math.max(_[1][H],he))}}function T(F,V){for(var _=F.fullSceneLayout,U=_.annotations||[],H=0;H<3;H++)for(var z=x[H],G=z.charAt(0),Y=_[z],J=0;J<U.length;J++){var ae=U[J];if(ae.visible){var oe=Y.r2l(ae[G]);!isNaN(oe)&&isFinite(oe)&&(V[0][H]=Math.min(V[0][H],oe),V[1][H]=Math.max(V[1][H],oe))}}}S.plot=function(F,V,_){var U=this;if(U.plotArgs=[F,V,_],!U.glplot.contextLost){var H,z,G,Y,J,ae,oe=V[U.id],he=_[U.id];U.fullLayout=V,U.fullSceneLayout=oe,U.axesOptions.merge(V,oe),U.spikeOptions.merge(oe),U.setViewport(oe),U.updateFx(oe.dragmode,oe.hovermode),U.camera.enableWheel=U.graphDiv._context._scrollZoom.gl3d,U.glplot.setClearColor(n(oe.bgcolor)),U.setConvert(J),F?Array.isArray(F)||(F=[F]):F=[];var q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(G=0;G<F.length;++G)H=F[G],!(H.visible!==!0||H._length===0)&&E(this,H,q);T(this,q);var Z=[1,1,1];for(Y=0;Y<3;++Y)q[1][Y]===q[0][Y]?Z[Y]=1:Z[Y]=1/(q[1][Y]-q[0][Y]);for(U.dataScale=Z,U.convertAnnotations(this),G=0;G<F.length;++G)H=F[G],!(H.visible!==!0||H._length===0)&&(z=U.traces[H.uid],z?z.data.type===H.type?z.update(H):(z.dispose(),z=H._module.plot(this,H),U.traces[H.uid]=z):(z=H._module.plot(this,H),U.traces[H.uid]=z),z.name=H.name);var $=Object.keys(U.traces);e:for(G=0;G<$.length;++G){for(Y=0;Y<F.length;++Y)if(F[Y].uid===$[G]&&F[Y].visible===!0&&F[Y]._length!==0)continue e;z=U.traces[$[G]],z.dispose(),delete U.traces[$[G]]}U.glplot.objects.sort(function(et,tt){return et._trace.data.index-tt._trace.data.index});var K=[[0,0,0],[0,0,0]],re={};for(G=0;G<3;++G){J=oe[x[G]],ae=J.type,ae in re?(re[ae].acc*=Z[G],re[ae].count+=1):re[ae]={acc:Z[G],count:1};var le;if(J.autorange){K[0][G]=1/0,K[1][G]=-1/0;var te=U.glplot.objects,ee=U.fullSceneLayout.annotations||[],ue=J._name.charAt(0);for(Y=0;Y<te.length;Y++){var se=te[Y],ve=se.bounds,be=se._trace.data._pad||0;se.constructor.name==="ErrorBars"&&J._lowerLogErrorBound?K[0][G]=Math.min(K[0][G],J._lowerLogErrorBound):K[0][G]=Math.min(K[0][G],ve[0][G]/Z[G]-be),K[1][G]=Math.max(K[1][G],ve[1][G]/Z[G]+be)}for(Y=0;Y<ee.length;Y++){var Ee=ee[Y];if(Ee.visible){var Ae=J.r2l(Ee[ue]);K[0][G]=Math.min(K[0][G],Ae),K[1][G]=Math.max(K[1][G],Ae)}}if("rangemode"in J&&J.rangemode==="tozero"&&(K[0][G]=Math.min(K[0][G],0),K[1][G]=Math.max(K[1][G],0)),K[0][G]>K[1][G])K[0][G]=-1,K[1][G]=1;else{var Oe=K[1][G]-K[0][G];K[0][G]-=Oe/32,K[1][G]+=Oe/32}if(le=[K[0][G],K[1][G]],le=A(le,J),K[0][G]=le[0],K[1][G]=le[1],J.isReversed()){var Ue=K[0][G];K[0][G]=K[1][G],K[1][G]=Ue}}else le=J.range,K[0][G]=J.r2l(le[0]),K[1][G]=J.r2l(le[1]);K[0][G]===K[1][G]&&(K[0][G]-=1,K[1][G]+=1),J.range=[K[0][G],K[1][G]],J.limitRange(),U.glplot.setBounds(G,{min:J.range[0]*Z[G],max:J.range[1]*Z[G]})}var Le,we=oe.aspectmode;if(we==="cube")Le=[1,1,1];else if(we==="manual"){var Ce=oe.aspectratio;Le=[Ce.x,Ce.y,Ce.z]}else if(we==="auto"||we==="data"){var Ve=[1,1,1];for(G=0;G<3;++G){J=oe[x[G]],ae=J.type;var Ne=re[ae];Ve[G]=Math.pow(Ne.acc,1/Ne.count)/Z[G]}we==="data"||Math.max.apply(null,Ve)/Math.min.apply(null,Ve)<=4?Le=Ve:Le=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");oe.aspectratio.x=he.aspectratio.x=Le[0],oe.aspectratio.y=he.aspectratio.y=Le[1],oe.aspectratio.z=he.aspectratio.z=Le[2],U.glplot.setAspectratio(oe.aspectratio),U.viewInitial.aspectratio||(U.viewInitial.aspectratio={x:oe.aspectratio.x,y:oe.aspectratio.y,z:oe.aspectratio.z}),U.viewInitial.aspectmode||(U.viewInitial.aspectmode=oe.aspectmode);var ke=oe.domain||null,We=V._size||null;if(ke&&We){var rt=U.container.style;rt.position="absolute",rt.left=We.l+ke.x[0]*We.w+"px",rt.top=We.t+(1-ke.y[1])*We.h+"px",rt.width=We.w*(ke.x[1]-ke.x[0])+"px",rt.height=We.h*(ke.y[1]-ke.y[0])+"px"}U.glplot.redraw()}},S.destroy=function(){var F=this;F.glplot&&(F.camera.mouseListener.enabled=!1,F.container.removeEventListener("wheel",F.camera.wheelListener),F.camera=null,F.glplot.dispose(),F.container.parentNode.removeChild(F.container),F.glplot=null)};function i(F){return[[F.eye.x,F.eye.y,F.eye.z],[F.center.x,F.center.y,F.center.z],[F.up.x,F.up.y,F.up.z]]}function D(F){return{up:{x:F.up[0],y:F.up[1],z:F.up[2]},center:{x:F.center[0],y:F.center[1],z:F.center[2]},eye:{x:F.eye[0],y:F.eye[1],z:F.eye[2]},projection:{type:F._ortho===!0?"orthographic":"perspective"}}}S.getCamera=function(){var F=this;return F.camera.view.recalcMatrix(F.camera.view.lastT()),D(F.camera)},S.setViewport=function(F){var V=this,_=F.camera;V.camera.lookAt.apply(this,i(_)),V.glplot.setAspectratio(F.aspectratio);var U=_.projection.type==="orthographic",H=V.camera._ortho;U!==H&&(V.glplot.redraw(),V.glplot.clearRGBA(),V.glplot.dispose(),V.initializeGLPlot())},S.isCameraChanged=function(F){var V=this,_=V.getCamera(),U=g.nestedProperty(F,V.id+".camera"),H=U.get();function z(ae,oe,he,q){var Z=["up","center","eye"],$=["x","y","z"];return oe[Z[he]]&&ae[Z[he]][$[q]]===oe[Z[he]][$[q]]}var G=!1;if(H===void 0)G=!0;else{for(var Y=0;Y<3;Y++)for(var J=0;J<3;J++)if(!z(_,H,Y,J)){G=!0;break}(!H.projection||_.projection&&_.projection.type!==H.projection.type)&&(G=!0)}return G},S.isAspectChanged=function(F){var V=this,_=V.glplot.getAspectratio(),U=g.nestedProperty(F,V.id+".aspectratio"),H=U.get();return H===void 0||H.x!==_.x||H.y!==_.y||H.z!==_.z},S.saveLayout=function(F){var V=this,_=V.fullLayout,U,H,z,G,Y,J,ae=V.isCameraChanged(F),oe=V.isAspectChanged(F),he=ae||oe;if(he){var q={};if(ae&&(U=V.getCamera(),H=g.nestedProperty(F,V.id+".camera"),z=H.get(),q[V.id+".camera"]=z),oe&&(G=V.glplot.getAspectratio(),Y=g.nestedProperty(F,V.id+".aspectratio"),J=Y.get(),q[V.id+".aspectratio"]=J),h.call("_storeDirectGUIEdit",F,_._preGUI,q),ae){H.set(U);var Z=g.nestedProperty(_,V.id+".camera");Z.set(U)}if(oe){Y.set(G);var $=g.nestedProperty(_,V.id+".aspectratio");$.set(G),V.glplot.redraw()}}return he},S.updateFx=function(F,V){var _=this,U=_.camera;if(U)if(F==="orbit")U.mode="orbit",U.keyBindingMode="rotate";else if(F==="turntable"){U.up=[0,0,1],U.mode="turntable",U.keyBindingMode="rotate";var H=_.graphDiv,z=H._fullLayout,G=_.fullSceneLayout.camera,Y=G.up.x,J=G.up.y,ae=G.up.z;if(ae/Math.sqrt(Y*Y+J*J+ae*ae)<.999){var oe=_.id+".camera.up",he={x:0,y:0,z:1},q={};q[oe]=he;var Z=H.layout;h.call("_storeDirectGUIEdit",Z,z._preGUI,q),G.up=he,g.nestedProperty(Z,oe).set(he)}}else U.keyBindingMode=F;_.fullSceneLayout.hovermode=V};function b(F,V,_){for(var U=0,H=_-1;U<H;++U,--H)for(var z=0;z<V;++z)for(var G=0;G<4;++G){var Y=4*(V*U+z)+G,J=4*(V*H+z)+G,ae=F[Y];F[Y]=F[J],F[J]=ae}}function O(F,V,_){for(var U=0;U<_;++U)for(var H=0;H<V;++H){var z=4*(V*U+H),G=F[z+3];if(G>0)for(var Y=255/G,J=0;J<3;++J)F[z+J]=Math.min(Y*F[z+J],255)}}S.toImage=function(F){var V=this;F||(F="png"),V.staticMode&&V.container.appendChild(d),V.glplot.redraw();var _=V.glplot.gl,U=_.drawingBufferWidth,H=_.drawingBufferHeight;_.bindFramebuffer(_.FRAMEBUFFER,null);var z=new Uint8Array(U*H*4);_.readPixels(0,0,U,H,_.RGBA,_.UNSIGNED_BYTE,z),b(z,U,H),O(z,U,H);var G=document.createElement("canvas");G.width=U,G.height=H;var Y=G.getContext("2d",{willReadFrequently:!0}),J=Y.createImageData(U,H);J.data.set(z),Y.putImageData(J,0,0);var ae;switch(F){case"jpeg":ae=G.toDataURL("image/jpeg");break;case"webp":ae=G.toDataURL("image/webp");break;default:ae=G.toDataURL("image/png")}return V.staticMode&&V.container.removeChild(d),ae},S.setConvert=function(){for(var F=this,V=0;V<3;V++){var _=F.fullSceneLayout[x[V]];r.setConvert(_,F.fullLayout),_.setScale=g.noop}},S.make4thDimension=function(){var F=this,V=F.graphDiv,_=V._fullLayout;F._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(F._mockAxis,_)},B.exports=M},90060:function(B){B.exports=function(e,p,L,a){a=a||e.length;for(var C=new Array(a),w=0;w<a;w++)C[w]=[e[w],p[w],L[w]];return C}},10820:function(B,N,e){var p=e(41940),L=e(85594),a=e(22399),C=e(29241),w=e(53777),h=e(35025),g=e(1426).extendFlat,t=p({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,B.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:g(h({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:w.newselection,activeselection:w.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:g({},L.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},77734:function(B,N,e){var p=e(78607),L="1.10.1",a='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=['© <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),w=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),h=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),g={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:w,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:w,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:h,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},t=p(g);B.exports={requiredVersion:L,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:g,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+L+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(B,N,e){var p=e(71828);B.exports=function(a,C){var w=a.split(" "),h=w[0],g=w[1],t=p.isArrayOrTypedArray(C)?p.mean(C):C,r=.5+t/100,s=1.5+t/100,n=["",""],l=[0,0];switch(h){case"top":n[0]="top",l[1]=-s;break;case"bottom":n[0]="bottom",l[1]=s;break}switch(g){case"left":n[1]="right",l[0]=-r;break;case"right":n[1]="left",l[0]=r;break}var c;return n[0]&&n[1]?c=n.join("-"):n[0]?c=n[0]:n[1]?c=n[1]:c="center",{anchor:c,offset:l}}},50101:function(B,N,e){var p=e(44517),L=e(71828),a=L.strTranslate,C=L.strScale,w=e(27659).AU,h=e(77922),g=e(39898),t=e(91424),r=e(63893),s=e(10481),n="mapbox",l=N.constants=e(77734);N.name=n,N.attr="subplot",N.idRoot=n,N.idRegex=N.attrRegex=L.counterRegex(n),N.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},N.layoutAttributes=e(23585),N.supplyLayoutDefaults=e(77882),N.plot=function(v){var A=v._fullLayout,d=v.calcdata,u=A._subplots[n];if(p.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var y=c(v,u);p.accessToken=y;for(var M=0;M<u.length;M++){var S=u[M],R=w(d,n,S),x=A[S],E=x._subplot;E||(E=new s(v,S),A[S]._subplot=E),E.viewInitial||(E.viewInitial={center:L.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),E.plot(R,A,v._promises)}},N.clean=function(m,v,A,d){for(var u=d._subplots[n]||[],y=0;y<u.length;y++){var M=u[y];!v[M]&&d[M]._subplot&&d[M]._subplot.destroy()}},N.toSVG=function(m){for(var v=m._fullLayout,A=v._subplots[n],d=v._size,u=0;u<A.length;u++){var y=v[A[u]],M=y.domain,S=y._subplot,R=S.toImage("png"),x=v._glimages.append("svg:image");x.attr({xmlns:h.svg,"xlink:href":R,x:d.l+d.w*M.x[0],y:d.t+d.h*(1-M.y[1]),width:d.w*(M.x[1]-M.x[0]),height:d.h*(M.y[1]-M.y[0]),preserveAspectRatio:"none"});var E=g.select(y._subplot.div),T=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!T){var i=v._glimages.append("g");i.attr("transform",a(d.l+d.w*M.x[0]+10,d.t+d.h*(1-M.y[0])-31)),i.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),i.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),i.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),i.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var D=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),b=v._glimages.append("g"),O=b.append("text");O.text(D).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":D});var F=t.bBox(O.node()),V=d.w*(M.x[1]-M.x[0]);if(F.width>V/2){var _=D.split("|").join("<br>");O.text(_).attr("data-unformatted",_).call(r.convertToTspans,m),F=t.bBox(O.node())}O.attr("transform",a(-3,-F.height+8)),b.insert("rect",".static-attribution").attr({x:-F.width-6,y:-F.height-3,width:F.width+6,height:F.height+3,fill:"rgba(255, 255, 255, 0.75)"});var U=1;F.width+6>V&&(U=V/(F.width+6));var H=[d.l+d.w*M.x[1],d.t+d.h*(1-M.y[0])];b.attr("transform",a(H[0],H[1])+C(U))}};function c(m,v){var A=m._fullLayout,d=m._context;if(d.mapboxAccessToken==="")return"";for(var u=[],y=[],M=!1,S=!1,R=0;R<v.length;R++){var x=A[v[R]],E=x.accesstoken;f(x.style)&&(E?L.pushUnique(u,E):(f(x._input.style)&&(L.error("Uses Mapbox map style, but did not set an access token."),M=!0),S=!0)),E&&L.pushUnique(y,E)}if(S){var T=M?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw L.error(T),new Error(T)}return u.length?(u.length>1&&L.warn(l.multipleTokensErrorMsg),u[0]):(y.length&&L.log(["Listed mapbox access token(s)",y.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function f(m){return typeof m=="string"&&(l.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0||m.indexOf("stamen")===0)}N.updateFx=function(m){for(var v=m._fullLayout,A=v._subplots[n],d=0;d<A.length;d++){var u=v[A[d]]._subplot;u.updateFx(v)}}},67911:function(B,N,e){var p=e(71828),L=e(63893).sanitizeHTML,a=e(13056),C=e(77734);function w(s,n){this.subplot=s,this.uid=s.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var h=w.prototype;h.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=g(n)},h.needsNewImage=function(s){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&s.sourcetype==="image"&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},h.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},h.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},h.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},h.updateImage=function(s){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var l=this.findFollowingMapboxLayerId(this.lookupBelow());l!==null&&this.subplot.map.moveLayer(this.idLayer,l)},h.updateSource=function(s){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,!!g(s)){var l=r(s);n.addSource(this.idSource,l)}},h.findFollowingMapboxLayerId=function(s){if(s==="traces")for(var n=this.subplot.getMapLayers(),l=0;l<n.length;l++){var c=n[l].id;if(typeof c=="string"&&c.indexOf(C.traceLayerPrefix)===0){s=c;break}}return s},h.updateLayer=function(s){var n=this.subplot,l=t(s),c=this.lookupBelow(),f=this.findFollowingMapboxLayerId(c);this.removeLayer(),g(s)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:l.layout,paint:l.paint},f),this.layerType=s.type,this.below=c},h.updateStyle=function(s){if(g(s)){var n=t(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},h.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},h.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)};function g(s){if(!s.visible)return!1;var n=s.source;if(Array.isArray(n)&&n.length>0){for(var l=0;l<n.length;l++)if(typeof n[l]!="string"||n[l].length===0)return!1;return!0}return p.isPlainObject(n)||typeof n=="string"&&n.length>0}function t(s){var n={},l={};switch(s.type){case"circle":p.extendFlat(l,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":p.extendFlat(l,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":p.extendFlat(l,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var c=s.symbol,f=a(c.textposition,c.iconsize);p.extendFlat(n,{"icon-image":c.icon+"-15","icon-size":c.iconsize/10,"text-field":c.text,"text-size":c.textfont.size,"text-anchor":f.anchor,"text-offset":f.offset,"symbol-placement":c.placement}),p.extendFlat(l,{"icon-color":s.color,"text-color":c.textfont.color,"text-opacity":s.opacity});break;case"raster":p.extendFlat(l,{"raster-fade-duration":0,"raster-opacity":s.opacity});break}return{layout:n,paint:l}}function r(s){var n=s.sourcetype,l=s.source,c={type:n},f;return n==="geojson"?f="data":n==="vector"?f=typeof l=="string"?"url":"tiles":n==="raster"?(f="tiles",c.tileSize=256):n==="image"&&(f="url",c.coordinates=s.coordinates),c[f]=l,s.sourceattribution&&(c.attribution=L(s.sourceattribution)),c}B.exports=function(n,l,c){var f=new w(n,l);return f.update(c),f}},23585:function(B,N,e){var p=e(71828),L=e(7901).defaultLine,a=e(27670).Y,C=e(41940),w=e(82196).textposition,h=e(30962).overrideAll,g=e(44467).templatedArray,t=e(77734),r=C({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var s=B.exports=h({_arrayAttrRegexps:[p.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:g("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:L},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:L}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:p.extendFlat({},w,{arrayOk:!1})}})},"plot","from-root");s.uirevision={valType:"any",editType:"none"}},77882:function(B,N,e){var p=e(71828),L=e(49119),a=e(85501),C=e(23585);B.exports=function(t,r,s){L(t,r,s,{type:"mapbox",attributes:C,handleDefaults:w,partition:"y",accessToken:r._mapboxAccessToken})};function w(g,t,r,s){r("accesstoken",s.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var n=r("bounds.west"),l=r("bounds.east"),c=r("bounds.south"),f=r("bounds.north");(n===void 0||l===void 0||c===void 0||f===void 0)&&delete t.bounds,a(g,t,{name:"layers",handleItemDefaults:h}),t._input=g}function h(g,t){function r(m,v){return p.coerce(g,t,C.layers,m,v)}var s=r("visible");if(s){var n=r("sourcetype"),l=n==="raster"||n==="image";r("source"),r("sourceattribution"),n==="vector"&&r("sourcelayer"),n==="image"&&r("coordinates");var c;l&&(c="raster");var f=r("type",c);l&&f!=="raster"&&(f=t.type="raster",p.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),f==="circle"&&r("circle.radius"),f==="line"&&(r("line.width"),r("line.dash")),f==="fill"&&r("fill.outlinecolor"),f==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),p.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(B,N,e){var p=e(44517),L=e(71828),a=e(41327),C=e(73972),w=e(89298),h=e(28569),g=e(30211),t=e(64505),r=t.drawMode,s=t.selectMode,n=e(47322).prepSelect,l=e(47322).clearOutline,c=e(47322).clearSelectionsCache,f=e(47322).selectOnClick,m=e(77734),v=e(67911);function A(R,x){this.id=x,this.gd=R;var E=R._fullLayout,T=R._context;this.container=E._glcontainer.node(),this.isStatic=T.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var d=A.prototype;d.plot=function(R,x,E){var T=this,i=x[T.id];T.map&&i.accesstoken!==T.accessToken&&(T.map.remove(),T.map=null,T.styleObj=null,T.traceHash={},T.layerList=[]);var D;T.map?D=new Promise(function(b,O){T.updateMap(R,x,b,O)}):D=new Promise(function(b,O){T.createMap(R,x,b,O)}),E.push(D)},d.createMap=function(R,x,E,T){var i=this,D=x[i.id],b=i.styleObj=y(D.style,x);i.accessToken=D.accesstoken;var O=D.bounds,F=O?[[O.west,O.south],[O.east,O.north]]:null,V=i.map=new p.Map({container:i.div,style:b.style,center:S(D.center),zoom:D.zoom,bearing:D.bearing,pitch:D.pitch,maxBounds:F,interactive:!i.isStatic,preserveDrawingBuffer:i.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new p.AttributionControl({compact:!0}));V._canvas.style.left="0px",V._canvas.style.top="0px",i.rejectOnError(T),i.isStatic||i.initFx(R,x);var _=[];_.push(new Promise(function(U){V.once("load",U)})),_=_.concat(a.fetchTraceGeoData(R)),Promise.all(_).then(function(){i.fillBelowLookup(R,x),i.updateData(R),i.updateLayout(x),i.resolveOnRender(E)}).catch(T)},d.updateMap=function(R,x,E,T){var i=this,D=i.map,b=x[this.id];i.rejectOnError(T);var O=[],F=y(b.style,x);JSON.stringify(i.styleObj)!==JSON.stringify(F)&&(i.styleObj=F,D.setStyle(F.style),i.traceHash={},O.push(new Promise(function(V){D.once("styledata",V)}))),O=O.concat(a.fetchTraceGeoData(R)),Promise.all(O).then(function(){i.fillBelowLookup(R,x),i.updateData(R),i.updateLayout(x),i.resolveOnRender(E)}).catch(T)},d.fillBelowLookup=function(R,x){var E=x[this.id],T=E.layers,i,D,b=this.belowLookup={},O=!1;for(i=0;i<R.length;i++){var F=R[i][0].trace,V=F._module;typeof F.below=="string"?D=F.below:V.getBelow&&(D=V.getBelow(F,this)),D===""&&(O=!0),b["trace-"+F.uid]=D||""}for(i=0;i<T.length;i++){var _=T[i];typeof _.below=="string"?D=_.below:O?D="traces":D="",b["layout-"+i]=D}var U={},H,z;for(H in b)D=b[H],U[D]?U[D].push(H):U[D]=[H];for(D in U){var G=U[D];if(G.length>1)for(i=0;i<G.length;i++)H=G[i],H.indexOf("trace-")===0?(z=H.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):H.indexOf("layout-")===0&&(z=H.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var u={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};d.updateData=function(R){var x=this.traceHash,E,T,i,D,b=R.slice().sort(function(U,H){return u[U[0].trace.type]-u[H[0].trace.type]});for(i=0;i<b.length;i++){var O=b[i];T=O[0].trace,E=x[T.uid];var F=!1;E&&(E.type===T.type?(E.update(O),F=!0):E.dispose()),!F&&T._module&&(x[T.uid]=T._module.plot(this,O))}var V=Object.keys(x);e:for(i=0;i<V.length;i++){var _=V[i];for(D=0;D<R.length;D++)if(T=R[D][0].trace,_===T.uid)continue e;E=x[_],E.dispose(),delete x[_]}},d.updateLayout=function(R){var x=this.map,E=R[this.id];!this.dragging&&!this.wheeling&&(x.setCenter(S(E.center)),x.setZoom(E.zoom),x.setBearing(E.bearing),x.setPitch(E.pitch)),this.updateLayers(R),this.updateFramework(R),this.updateFx(R),this.map.resize(),this.gd._context._scrollZoom.mapbox?x.scrollZoom.enable():x.scrollZoom.disable()},d.resolveOnRender=function(R){var x=this.map;x.on("render",function E(){x.loaded()&&(x.off("render",E),setTimeout(R,10))})},d.rejectOnError=function(R){var x=this.map;function E(){R(new Error(m.mapOnErrorMsg))}x.once("error",E),x.once("style.error",E),x.once("source.error",E),x.once("tile.error",E),x.once("layer.error",E)},d.createFramework=function(R){var x=this,E=x.div=document.createElement("div");E.id=x.uid,E.style.position="absolute",x.container.appendChild(E),x.xaxis={_id:"x",c2p:function(T){return x.project(T).x}},x.yaxis={_id:"y",c2p:function(T){return x.project(T).y}},x.updateFramework(R),x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},w.setConvert(x.mockAxis,R)},d.initFx=function(R,x){var E=this,T=E.gd,i=E.map;i.on("moveend",function(O){if(E.map){var F=T._fullLayout;if(O.originalEvent||E.wheeling){var V=F[E.id];C.call("_storeDirectGUIEdit",T.layout,F._preGUI,E.getViewEdits(V));var _=E.getView();V._input.center=V.center=_.center,V._input.zoom=V.zoom=_.zoom,V._input.bearing=V.bearing=_.bearing,V._input.pitch=V.pitch=_.pitch,T.emit("plotly_relayout",E.getViewEditsWithDerived(_))}O.originalEvent&&O.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),F._rehover&&F._rehover()}}),i.on("wheel",function(){E.wheeling=!0}),i.on("mousemove",function(O){var F=E.div.getBoundingClientRect(),V=[O.originalEvent.offsetX,O.originalEvent.offsetY];O.target.getBoundingClientRect=function(){return F},E.xaxis.p2c=function(){return i.unproject(V).lng},E.yaxis.p2c=function(){return i.unproject(V).lat},T._fullLayout._rehover=function(){T._fullLayout._hoversubplot===E.id&&T._fullLayout[E.id]&&g.hover(T,O,E.id)},g.hover(T,O,E.id),T._fullLayout._hoversubplot=E.id});function D(){g.loneUnhover(x._hoverlayer)}i.on("dragstart",function(){E.dragging=!0,D()}),i.on("zoomstart",D),i.on("mouseout",function(){T._fullLayout._hoversubplot=null});function b(){var O=E.getView();T.emit("plotly_relayouting",E.getViewEditsWithDerived(O))}i.on("drag",b),i.on("zoom",b),i.on("dblclick",function(){var O=T._fullLayout[E.id];C.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,E.getViewEdits(O));var F=E.viewInitial;i.setCenter(S(F.center)),i.setZoom(F.zoom),i.setBearing(F.bearing),i.setPitch(F.pitch);var V=E.getView();O._input.center=O.center=V.center,O._input.zoom=O.zoom=V.zoom,O._input.bearing=O.bearing=V.bearing,O._input.pitch=O.pitch=V.pitch,T.emit("plotly_doubleclick",null),T.emit("plotly_relayout",E.getViewEditsWithDerived(V))}),E.clearOutline=function(){c(E.dragOptions),l(E.dragOptions.gd)},E.onClickInPanFn=function(O){return function(F){var V=T._fullLayout.clickmode;V.indexOf("select")>-1&&f(F.originalEvent,T,[E.xaxis],[E.yaxis],E.id,O),V.indexOf("event")>-1&&g.click(T,F.originalEvent)}}},d.updateFx=function(R){var x=this,E=x.map,T=x.gd;if(x.isStatic)return;function i(F){var V=x.map.unproject(F);return[V.lng,V.lat]}var D=R.dragmode,b;b=function(F,V){if(V.isRect){var _=F.range={};_[x.id]=[i([V.xmin,V.ymin]),i([V.xmax,V.ymax])]}else{var U=F.lassoPoints={};U[x.id]=V.map(i)}};var O=x.dragOptions;x.dragOptions=L.extendDeep(O||{},{dragmode:R.dragmode,element:x.div,gd:T,plotinfo:{id:x.id,domain:R[x.id].domain,xaxis:x.xaxis,yaxis:x.yaxis,fillRangeItems:b},xaxes:[x.xaxis],yaxes:[x.yaxis],subplot:x.id}),E.off("click",x.onClickInPanHandler),s(D)||r(D)?(E.dragPan.disable(),E.on("zoomstart",x.clearOutline),x.dragOptions.prepFn=function(F,V,_){n(F,V,_,x.dragOptions,D)},h.init(x.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",x.clearOutline),x.div.onmousedown=null,x.div.ontouchstart=null,x.div.removeEventListener("touchstart",x.div._ontouchstart),x.onClickInPanHandler=x.onClickInPanFn(x.dragOptions),E.on("click",x.onClickInPanHandler))},d.updateFramework=function(R){var x=R[this.id].domain,E=R._size,T=this.div.style;T.width=E.w*(x.x[1]-x.x[0])+"px",T.height=E.h*(x.y[1]-x.y[0])+"px",T.left=E.l+x.x[0]*E.w+"px",T.top=E.t+(1-x.y[1])*E.h+"px",this.xaxis._offset=E.l+x.x[0]*E.w,this.xaxis._length=E.w*(x.x[1]-x.x[0]),this.yaxis._offset=E.t+(1-x.y[1])*E.h,this.yaxis._length=E.h*(x.y[1]-x.y[0])},d.updateLayers=function(R){var x=R[this.id],E=x.layers,T=this.layerList,i;if(E.length!==T.length){for(i=0;i<T.length;i++)T[i].dispose();for(T=this.layerList=[],i=0;i<E.length;i++)T.push(v(this,i,E[i]))}else for(i=0;i<E.length;i++)T[i].update(E[i])},d.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},d.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},d.setOptions=function(R,x,E){for(var T in E)this.map[x](R,T,E[T])},d.getMapLayers=function(){return this.map.getStyle().layers},d.addLayer=function(R,x){var E=this.map;if(typeof x=="string"){if(x===""){E.addLayer(R,x);return}for(var T=this.getMapLayers(),i=0;i<T.length;i++)if(x===T[i].id){E.addLayer(R,x);return}L.warn(["Trying to add layer with *below* value",x,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(R)},d.project=function(R){return this.map.project(new p.LngLat(R[0],R[1]))},d.getView=function(){var R=this.map,x=R.getCenter(),E=x.lng,T=x.lat,i={lon:E,lat:T},D=R.getCanvas(),b=parseInt(D.style.width),O=parseInt(D.style.height);return{center:i,zoom:R.getZoom(),bearing:R.getBearing(),pitch:R.getPitch(),_derived:{coordinates:[R.unproject([0,0]).toArray(),R.unproject([b,0]).toArray(),R.unproject([b,O]).toArray(),R.unproject([0,O]).toArray()]}}},d.getViewEdits=function(R){for(var x=this.id,E=["center","zoom","bearing","pitch"],T={},i=0;i<E.length;i++){var D=E[i];T[x+"."+D]=R[D]}return T},d.getViewEditsWithDerived=function(R){var x=this.id,E=this.getViewEdits(R);return E[x+"._derived"]=R._derived,E};function y(R,x){var E={};if(L.isPlainObject(R))E.id=R.id,E.style=R;else if(typeof R=="string")if(E.id=R,m.styleValuesMapbox.indexOf(R)!==-1)E.style=M(R);else if(m.stylesNonMapbox[R]){E.style=m.stylesNonMapbox[R];var T=E.style.sources["plotly-"+R],i=T?T.tiles:void 0;i&&i[0]&&i[0].slice(-9)==="?api_key="&&(i[0]+=x._mapboxAccessToken)}else E.style=R;else E.id=m.styleValueDflt,E.style=M(m.styleValueDflt);return E.transition={duration:0,delay:0},E}function M(R){return m.styleUrlPrefix+R+"-"+m.styleUrlSuffix}function S(R){return[R.lon,R.lat]}B.exports=A},35025:function(B){B.exports=function(N){var e=N.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(B,N,e){var p=e(39898),L=e(84096).Dq,a=e(60721).FF,C=e(92770),w=e(73972),h=e(86281),g=e(44467),t=e(71828),r=e(7901),s=e(50606).BADNUM,n=e(41675),l=e(51873).clearOutline,c=e(21479),f=e(85594),m=e(31391),v=e(27659).a0,A=t.relinkPrivateKeys,d=t._,u=B.exports={};t.extendFlat(u,w),u.attributes=e(9012),u.attributes.type.values=u.allTypes,u.fontAttrs=e(41940),u.layoutAttributes=e(10820),u.fontWeight="normal";var y=u.transformsRegistry,M=e(31137);u.executeAPICommand=M.executeAPICommand,u.computeAPICommandBindings=M.computeAPICommandBindings,u.manageCommandObserver=M.manageCommandObserver,u.hasSimpleAPICommandBindings=M.hasSimpleAPICommandBindings,u.redrawText=function($){return $=t.getGraphDiv($),new Promise(function(K){setTimeout(function(){$._fullLayout&&(w.getComponentMethod("annotations","draw")($),w.getComponentMethod("legend","draw")($),w.getComponentMethod("colorbar","draw")($),K(u.previousPromises($)))},300)})},u.resize=function($){$=t.getGraphDiv($);var K,re=new Promise(function(le,te){(!$||t.isHidden($))&&te(new Error("Resize must be passed a displayed plot div element.")),$._redrawTimer&&clearTimeout($._redrawTimer),$._resolveResize&&(K=$._resolveResize),$._resolveResize=le,$._redrawTimer=setTimeout(function(){if(!$.layout||$.layout.width&&$.layout.height||t.isHidden($)){le($);return}delete $.layout.width,delete $.layout.height;var ee=$.changed;$.autoplay=!0,w.call("relayout",$,{autosize:!0}).then(function(){$.changed=ee,$._resolveResize===le&&(delete $._resolveResize,le($))})},100)});return K&&K(re),re},u.previousPromises=function($){if(($._promises||[]).length)return Promise.all($._promises).then(function(){$._promises=[]})},u.addLinks=function($){if(!(!$._context.showLink&&!$._context.showSources)){var K=$._fullLayout,re=t.ensureSingle(K._paper,"text","js-plot-link-container",function(ve){ve.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var be=p.select(this);be.append("tspan").classed("js-link-to-tool",!0),be.append("tspan").classed("js-link-spacer",!0),be.append("tspan").classed("js-sourcelinks",!0)})}),le=re.node(),te={y:K._paper.attr("height")-9};document.body.contains(le)&&le.getComputedTextLength()>=K.width-20?(te["text-anchor"]="start",te.x=5):(te["text-anchor"]="end",te.x=K._paper.attr("width")-7),re.attr(te);var ee=re.select(".js-link-to-tool"),ue=re.select(".js-link-spacer"),se=re.select(".js-sourcelinks");$._context.showSources&&$._context.showSources($),$._context.showLink&&S($,ee),ue.text(ee.text()&&se.text()?" - ":"")}};function S($,K){K.text("");var re=K.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text($._context.linkText+" "+String.fromCharCode(187));if($._context.sendData)re.on("click",function(){u.sendDataToCloud($)});else{var le=window.location.pathname.split("/"),te=window.location.search;re.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+le[2].split(".")[0]+"/"+le[1]+te})}}u.sendDataToCloud=function($){var K=(window.PLOTLYENV||{}).BASE_URL||$._context.plotlyServerURL;if(K){$.emit("plotly_beforeexport");var re=p.select($).append("div").attr("id","hiddenform").style("display","none"),le=re.append("form").attr({action:K+"/external",method:"post",target:"_blank"}),te=le.append("input").attr({type:"text",name:"data"});return te.node().value=u.graphJson($,!1,"keepdata"),le.node().submit(),re.remove(),$.emit("plotly_afterexport"),!1}};var R=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],x=["year","month","dayMonth","dayMonthYear"];u.supplyDefaults=function($,K){var re=K&&K.skipUpdateCalc,le=$._fullLayout||{};if(le._skipDefaults){delete le._skipDefaults;return}var te=$._fullLayout={},ee=$.layout||{},ue=$._fullData||[],se=$._fullData=[],ve=$.data||[],be=$.calcdata||[],Ee=$._context||{},Ae;$._transitionData||u.createTransitionData($),te._dfltTitle={plot:d($,"Click to enter Plot title"),x:d($,"Click to enter X axis title"),y:d($,"Click to enter Y axis title"),colorbar:d($,"Click to enter Colorscale title"),annotation:d($,"new text")},te._traceWord=d($,"trace");var Oe=i($,R);if(te._mapboxAccessToken=Ee.mapboxAccessToken,le._initialAutoSizeIsDone){var Ue=le.width,Le=le.height;u.supplyLayoutGlobalDefaults(ee,te,Oe),ee.width||(te.width=Ue),ee.height||(te.height=Le),u.sanitizeMargins(te)}else{u.supplyLayoutGlobalDefaults(ee,te,Oe);var we=!ee.width||!ee.height,Ce=te.autosize,Ve=Ee.autosizable,Ne=we&&(Ce||Ve);Ne?u.plotAutoSize($,ee,te):we&&u.sanitizeMargins(te),!Ce&&we&&(ee.width=te.width,ee.height=te.height)}te._d3locale=D(Oe,te.separators),te._extraFormat=i($,x),te._initialAutoSizeIsDone=!0,te._dataLength=ve.length,te._modules=[],te._visibleModules=[],te._basePlotModules=[];var ke=te._subplots=T(),We=te._splomAxes={x:{},y:{}},rt=te._splomSubplots={};te._splomGridDflt={},te._scatterStackOpts={},te._firstScatter={},te._alignmentOpts={},te._colorAxes={},te._requestRangeslider={},te._traceUids=E(ue,ve),te._globalTransforms=($._context||{}).globalTransforms,u.supplyDataDefaults(ve,se,ee,te);var et=Object.keys(We.x),tt=Object.keys(We.y);if(et.length>1&&tt.length>1){for(w.getComponentMethod("grid","sizeDefaults")(ee,te),Ae=0;Ae<et.length;Ae++)t.pushUnique(ke.xaxis,et[Ae]);for(Ae=0;Ae<tt.length;Ae++)t.pushUnique(ke.yaxis,tt[Ae]);for(var at in rt)t.pushUnique(ke.cartesian,at)}if(te._has=u._hasPlotType.bind(te),ue.length===se.length)for(Ae=0;Ae<se.length;Ae++)A(se[Ae],ue[Ae]);u.supplyLayoutModuleDefaults(ee,te,se,$._transitionData);var ct=te._visibleModules,dt=[];for(Ae=0;Ae<ct.length;Ae++){var gt=ct[Ae].crossTraceDefaults;gt&&t.pushUnique(dt,gt)}for(Ae=0;Ae<dt.length;Ae++)dt[Ae](se,te);te._hasOnlyLargeSploms=te._basePlotModules.length===1&&te._basePlotModules[0].name==="splom"&&et.length>15&&tt.length>15&&te.shapes.length===0&&te.images.length===0,u.linkSubplots(se,te,ue,le),u.cleanPlot(se,te,ue,le);var Et=!!(le._has&&le._has("gl2d")),Ct=!!(te._has&&te._has("gl2d")),Vt=!!(le._has&&le._has("cartesian")),Je=!!(te._has&&te._has("cartesian")),_e=Vt||Et,Fe=Je||Ct;_e&&!Fe?le._bgLayer.remove():Fe&&!_e&&(te._shouldCreateBgLayer=!0),le._zoomlayer&&!$._dragging&&l({_fullLayout:le}),b(se,te),A(te,le),w.getComponentMethod("colorscale","crossTraceDefaults")(se,te),te._preGUI||(te._preGUI={}),te._tracePreGUI||(te._tracePreGUI={});var Be=te._tracePreGUI,De={},Te;for(Te in Be)De[Te]="old";for(Ae=0;Ae<se.length;Ae++)Te=se[Ae]._fullInput.uid,De[Te]||(Be[Te]={}),De[Te]="new";for(Te in De)De[Te]==="old"&&delete Be[Te];U(te),w.getComponentMethod("rangeslider","makeData")(te),!re&&be.length===se.length&&u.supplyDefaultsUpdateCalc(be,se)},u.supplyDefaultsUpdateCalc=function($,K){for(var re=0;re<K.length;re++){var le=K[re],te=($[re]||[])[0];if(te&&te.trace){var ee=te.trace;if(ee._hasCalcTransform){var ue=ee._arrayAttrs,se,ve,be;for(se=0;se<ue.length;se++)ve=ue[se],be=t.nestedProperty(ee,ve).get().slice(),t.nestedProperty(le,ve).set(be)}te.trace=le}}};function E($,K){var re=K.length,le=[],te,ee;for(te=0;te<$.length;te++){var ue=$[te]._fullInput;ue!==ee&&le.push(ue),ee=ue}var se=le.length,ve=new Array(re),be={};function Ee(Ue,Le){ve[Le]=Ue,be[Ue]=1}function Ae(Ue,Le){if(Ue&&typeof Ue=="string"&&!be[Ue])return Ee(Ue,Le),!0}for(te=0;te<re;te++){var Oe=K[te].uid;typeof Oe=="number"&&(Oe=String(Oe)),!Ae(Oe,te)&&(te<se&&Ae(le[te].uid,te)||Ee(t.randstr(be),te))}return ve}function T(){var $=w.collectableSubplotTypes,K={},re,le;if(!$){$=[];var te=w.subplotsRegistry;for(var ee in te){var ue=te[ee],se=ue.attr;if(se&&($.push(ee),Array.isArray(se)))for(le=0;le<se.length;le++)t.pushUnique($,se[le])}}for(re=0;re<$.length;re++)K[$[re]]=[];return K}function i($,K){var re=$._context.locale;re||(re="en-US");var le=!1,te={};function ee(Ae){for(var Oe=!0,Ue=0;Ue<K.length;Ue++){var Le=K[Ue];te[Le]||(Ae[Le]?te[Le]=Ae[Le]:Oe=!1)}Oe&&(le=!0)}for(var ue=0;ue<2;ue++){for(var se=$._context.locales,ve=0;ve<2;ve++){var be=(se[re]||{}).format;if(be&&(ee(be),le))break;se=w.localeRegistry}var Ee=re.split("-")[0];if(le||Ee===re)break;re=Ee}return le||ee(w.localeRegistry.en.format),te}function D($,K){return $.decimal=K.charAt(0),$.thousands=K.charAt(1),{numberFormat:function(re){try{re=a($).format(t.adjustFormat(re))}catch{return t.warnBadFormat(re),t.noFormat}return re},timeFormat:L($).utcFormat}}function b($,K){var re,le=[];K.meta&&(re=K._meta={meta:K.meta,layout:{meta:K.meta}});for(var te=0;te<$.length;te++){var ee=$[te];ee.meta?le[ee.index]=ee._meta={meta:ee.meta}:K.meta&&(ee._meta={meta:K.meta}),K.meta&&(ee._meta.layout={meta:K.meta})}le.length&&(re||(re=K._meta={}),re.data=le)}u.createTransitionData=function($){$._transitionData||($._transitionData={}),$._transitionData._frames||($._transitionData._frames=[]),$._transitionData._frameHash||($._transitionData._frameHash={}),$._transitionData._counter||($._transitionData._counter=0),$._transitionData._interruptCallbacks||($._transitionData._interruptCallbacks=[])},u._hasPlotType=function($){var K,re=this._basePlotModules||[];for(K=0;K<re.length;K++)if(re[K].name===$)return!0;var le=this._modules||[];for(K=0;K<le.length;K++){var te=le[K].name;if(te===$)return!0;var ee=w.modules[te];if(ee&&ee.categories[$])return!0}return!1},u.cleanPlot=function($,K,re,le){var te,ee,ue=le._basePlotModules||[];for(te=0;te<ue.length;te++){var se=ue[te];se.clean&&se.clean($,K,re,le)}var ve=le._has&&le._has("gl"),be=K._has&&K._has("gl");ve&&!be&&le._glcontainer!==void 0&&(le._glcontainer.selectAll(".gl-canvas").remove(),le._glcontainer.selectAll(".no-webgl").remove(),le._glcanvas=null);var Ee=!!le._infolayer;e:for(te=0;te<re.length;te++){var Ae=re[te],Oe=Ae.uid;for(ee=0;ee<$.length;ee++){var Ue=$[ee];if(Oe===Ue.uid)continue e}Ee&&le._infolayer.select(".cb"+Oe).remove()}},u.linkSubplots=function($,K,re,le){var te,ee,ue=le._plots||{},se=K._plots={},ve=K._subplots,be={_fullData:$,_fullLayout:K},Ee=ve.cartesian.concat(ve.gl2d||[]);for(te=0;te<Ee.length;te++){var Ae=Ee[te],Oe=ue[Ae],Ue=n.getFromId(be,Ae,"x"),Le=n.getFromId(be,Ae,"y"),we;for(Oe?we=se[Ae]=Oe:(we=se[Ae]={},we.id=Ae),Ue._counterAxes.push(Le._id),Le._counterAxes.push(Ue._id),Ue._subplotsWith.push(Ae),Le._subplotsWith.push(Ae),we.xaxis=Ue,we.yaxis=Le,we._hasClipOnAxisFalse=!1,ee=0;ee<$.length;ee++){var Ce=$[ee];if(Ce.xaxis===we.xaxis._id&&Ce.yaxis===we.yaxis._id&&Ce.cliponaxis===!1){we._hasClipOnAxisFalse=!0;break}}}var Ve=n.list(be,null,!0),Ne;for(te=0;te<Ve.length;te++){Ne=Ve[te];var ke=null;Ne.overlaying&&(ke=n.getFromId(be,Ne.overlaying),ke&&ke.overlaying&&(Ne.overlaying=!1,ke=null)),Ne._mainAxis=ke||Ne,ke&&(Ne.domain=ke.domain.slice()),Ne._anchorAxis=Ne.anchor==="free"?null:n.getFromId(be,Ne.anchor)}for(te=0;te<Ve.length;te++)if(Ne=Ve[te],Ne._counterAxes.sort(n.idSort),Ne._subplotsWith.sort(t.subplotSort),Ne._mainSubplot=O(Ne,K),Ne._counterAxes.length&&(Ne.spikemode&&Ne.spikemode.indexOf("across")!==-1||Ne.automargin&&Ne.mirror&&Ne.anchor!=="free"||w.getComponentMethod("rangeslider","isVisible")(Ne))){var We=1,rt=0;for(ee=0;ee<Ne._counterAxes.length;ee++){var et=n.getFromId(be,Ne._counterAxes[ee]);We=Math.min(We,et.domain[0]),rt=Math.max(rt,et.domain[1])}We<rt&&(Ne._counterDomainMin=We,Ne._counterDomainMax=rt)}};function O($,K){var re={_fullLayout:K},le=$._id.charAt(0)==="x",te=$._mainAxis._anchorAxis,ee="",ue="",se="";if(te&&(se=te._mainAxis._id,ee=le?$._id+se:se+$._id),!ee||!K._plots[ee]){ee="";for(var ve=$._counterAxes,be=0;be<ve.length;be++){var Ee=ve[be],Ae=le?$._id+Ee:Ee+$._id;ue||(ue=Ae);var Oe=n.getFromId(re,Ee);if(se&&Oe.overlaying===se){ee=Ae;break}}}return ee||ue}u.clearExpandedTraceDefaultColors=function($){var K,re,le;function te(ue,se,ve,be){re[be]=se,re.length=be+1,ue.valType==="color"&&ue.dflt===void 0&&K.push(re.join("."))}for(re=[],K=$._module._colorAttrs,K||($._module._colorAttrs=K=[],h.crawl($._module.attributes,te)),le=0;le<K.length;le++){var ee=t.nestedProperty($,"_input."+K[le]);ee.get()||t.nestedProperty($,K[le]).set(null)}},u.supplyDataDefaults=function($,K,re,le){var te=le._modules,ee=le._visibleModules,ue=le._basePlotModules,se=0,ve=0,be,Ee,Ae;le._transformModules=[];function Oe(tt){K.push(tt);var at=tt._module;at&&(t.pushUnique(te,at),tt.visible===!0&&t.pushUnique(ee,at),t.pushUnique(ue,tt._module.basePlotModule),se++,tt._input.visible!==!1&&ve++)}var Ue={},Le=[],we=(re.template||{}).data||{},Ce=g.traceTemplater(we);for(be=0;be<$.length;be++){if(Ae=$[be],Ee=Ce.newTrace(Ae),Ee.uid=le._traceUids[be],u.supplyTraceDefaults(Ae,Ee,ve,le,be),Ee.index=be,Ee._input=Ae,Ee._expandedIndex=se,Ee.transforms&&Ee.transforms.length)for(var Ve=Ae.visible!==!1&&Ee.visible===!1,Ne=V(Ee,K,re,le),ke=0;ke<Ne.length;ke++){var We=Ne[ke],rt={_template:Ee._template,type:Ee.type,uid:Ee.uid+ke};Ve&&We.visible===!1&&delete We.visible,u.supplyTraceDefaults(We,rt,se,le,be),A(rt,We),rt.index=be,rt._input=Ae,rt._fullInput=Ee,rt._expandedIndex=se,rt._expandedInput=We,Oe(rt)}else Ee._fullInput=Ee,Ee._expandedInput=Ee,Oe(Ee);w.traceIs(Ee,"carpetAxis")&&(Ue[Ee.carpet]=Ee),w.traceIs(Ee,"carpetDependent")&&Le.push(be)}for(be=0;be<Le.length;be++)if(Ee=K[Le[be]],!!Ee.visible){var et=Ue[Ee.carpet];if(Ee._carpet=et,!et||!et.visible){Ee.visible=!1;continue}Ee.xaxis=et.xaxis,Ee.yaxis=et.yaxis}},u.supplyAnimationDefaults=function($){$=$||{};var K,re={};function le(te,ee){return t.coerce($||{},re,f,te,ee)}if(le("mode"),le("direction"),le("fromcurrent"),Array.isArray($.frame))for(re.frame=[],K=0;K<$.frame.length;K++)re.frame[K]=u.supplyAnimationFrameDefaults($.frame[K]||{});else re.frame=u.supplyAnimationFrameDefaults($.frame||{});if(Array.isArray($.transition))for(re.transition=[],K=0;K<$.transition.length;K++)re.transition[K]=u.supplyAnimationTransitionDefaults($.transition[K]||{});else re.transition=u.supplyAnimationTransitionDefaults($.transition||{});return re},u.supplyAnimationFrameDefaults=function($){var K={};function re(le,te){return t.coerce($||{},K,f.frame,le,te)}return re("duration"),re("redraw"),K},u.supplyAnimationTransitionDefaults=function($){var K={};function re(le,te){return t.coerce($||{},K,f.transition,le,te)}return re("duration"),re("easing"),K},u.supplyFrameDefaults=function($){var K={};function re(le,te){return t.coerce($,K,m,le,te)}return re("group"),re("name"),re("traces"),re("baseframe"),re("data"),re("layout"),K},u.supplyTraceDefaults=function($,K,re,le,te){var ee=le.colorway||r.defaults,ue=ee[re%ee.length],se;function ve(Ne,ke){return t.coerce($,K,u.attributes,Ne,ke)}var be=ve("visible");ve("type"),ve("name",le._traceWord+" "+te),ve("uirevision",le.uirevision);var Ee=u.getModule(K);if(K._module=Ee,Ee){var Ae=Ee.basePlotModule,Oe=Ae.attr,Ue=Ae.attributes;if(Oe&&Ue){var Le=le._subplots,we="";if(be||Ae.name!=="gl2d"){if(Array.isArray(Oe))for(se=0;se<Oe.length;se++){var Ce=Oe[se],Ve=t.coerce($,K,Ue,Ce);Le[Ce]&&t.pushUnique(Le[Ce],Ve),we+=Ve}else we=t.coerce($,K,Ue,Oe);Le[Ae.name]&&t.pushUnique(Le[Ae.name],we)}}}return be&&(ve("customdata"),ve("ids"),ve("meta"),w.traceIs(K,"showLegend")?(t.coerce($,K,Ee.attributes.showlegend?Ee.attributes:u.attributes,"showlegend"),ve("legend"),ve("legendwidth"),ve("legendgroup"),ve("legendgrouptitle.text"),ve("legendrank"),K._dfltShowLegend=!0):K._dfltShowLegend=!1,Ee&&Ee.supplyDefaults($,K,ue,le),w.traceIs(K,"noOpacity")||ve("opacity"),w.traceIs(K,"notLegendIsolatable")&&(K.visible=!!K.visible),w.traceIs(K,"noHover")||(K.hovertemplate||t.coerceHoverinfo($,K,le),K.type!=="parcats"&&w.getComponentMethod("fx","supplyDefaults")($,K,ue,le)),Ee&&Ee.selectPoints&&ve("selectedpoints"),u.supplyTransformDefaults($,K,le)),K};function F($){var K=$.transforms;if(Array.isArray(K)&&K.length)for(var re=0;re<K.length;re++){var le=K[re],te=le._module||y[le.type];if(te&&te.makesData)return!0}return!1}u.hasMakesDataTransform=F,u.supplyTransformDefaults=function($,K,re){if(K._length||F($)){var le=re._globalTransforms||[],te=re._transformModules||[];if(!(!Array.isArray($.transforms)&&le.length===0))for(var ee=$.transforms||[],ue=le.concat(ee),se=K.transforms=[],ve=0;ve<ue.length;ve++){var be=ue[ve],Ee=be.type,Ae=y[Ee],Oe,Ue=!(be._module&&be._module===Ae),Le=Ae&&typeof Ae.transform=="function";Ae||t.warn("Unrecognized transform type "+Ee+"."),Ae&&Ae.supplyDefaults&&(Ue||Le)?(Oe=Ae.supplyDefaults(be,K,re,$),Oe.type=Ee,Oe._module=Ae,t.pushUnique(te,Ae)):Oe=t.extendFlat({},be),se.push(Oe)}}};function V($,K,re,le){for(var te=$.transforms,ee=[$],ue=0;ue<te.length;ue++){var se=te[ue],ve=y[se.type];ve&&ve.transform&&(ee=ve.transform(ee,{transform:se,fullTrace:$,fullData:K,layout:re,fullLayout:le,transformIndex:ue}))}return ee}u.supplyLayoutGlobalDefaults=function($,K,re){function le(Ae,Oe){return t.coerce($,K,u.layoutAttributes,Ae,Oe)}var te=$.template;t.isPlainObject(te)&&(K.template=te,K._template=te.layout,K._dataTemplate=te.data),le("autotypenumbers");var ee=t.coerceFont(le,"font"),ue=ee.size;t.coerceFont(le,"title.font",t.extendFlat({},ee,{size:Math.round(ue*1.4)})),le("title.text",K._dfltTitle.plot),le("title.xref");var se=le("title.yref");le("title.pad.t"),le("title.pad.r"),le("title.pad.b"),le("title.pad.l");var ve=le("title.automargin");le("title.x"),le("title.xanchor"),le("title.y"),le("title.yanchor"),ve&&(se==="paper"&&(K.title.y!==0&&(K.title.y=1),K.title.yanchor==="auto"&&(K.title.yanchor=K.title.y===0?"top":"bottom")),se==="container"&&(K.title.y==="auto"&&(K.title.y=1),K.title.yanchor==="auto"&&(K.title.yanchor=K.title.y<.5?"bottom":"top")));var be=le("uniformtext.mode");be&&le("uniformtext.minsize"),le("autosize",!($.width&&$.height)),le("width"),le("height"),le("minreducedwidth"),le("minreducedheight"),le("margin.l"),le("margin.r"),le("margin.t"),le("margin.b"),le("margin.pad"),le("margin.autoexpand"),$.width&&$.height&&u.sanitizeMargins(K),w.getComponentMethod("grid","sizeDefaults")($,K),le("paper_bgcolor"),le("separators",re.decimal+re.thousands),le("hidesources"),le("colorway"),le("datarevision");var Ee=le("uirevision");le("editrevision",Ee),le("selectionrevision",Ee),w.getComponentMethod("modebar","supplyLayoutDefaults")($,K),w.getComponentMethod("shapes","supplyDrawNewShapeDefaults")($,K,le),w.getComponentMethod("selections","supplyDrawNewSelectionDefaults")($,K,le),le("meta"),t.isPlainObject($.transition)&&(le("transition.duration"),le("transition.easing"),le("transition.ordering")),w.getComponentMethod("calendars","handleDefaults")($,K,"calendar"),w.getComponentMethod("fx","supplyLayoutGlobalDefaults")($,K,le),t.coerce($,K,c,"scattermode")};function _($){return typeof $=="string"&&$.substr($.length-2)==="px"&&parseFloat($)}u.plotAutoSize=function(K,re,le){var te=K._context||{},ee=te.frameMargins,ue,se,ve=t.isPlotDiv(K);if(ve&&K.emit("plotly_autosize"),te.fillFrame)ue=window.innerWidth,se=window.innerHeight,document.body.style.overflow="hidden";else{var be=ve?window.getComputedStyle(K):{};if(ue=_(be.width)||_(be.maxWidth)||le.width,se=_(be.height)||_(be.maxHeight)||le.height,C(ee)&&ee>0){var Ee=1-2*ee;ue=Math.round(Ee*ue),se=Math.round(Ee*se)}}var Ae=u.layoutAttributes.width.min,Oe=u.layoutAttributes.height.min;ue<Ae&&(ue=Ae),se<Oe&&(se=Oe);var Ue=!re.width&&Math.abs(le.width-ue)>1,Le=!re.height&&Math.abs(le.height-se)>1;(Le||Ue)&&(Ue&&(le.width=ue),Le&&(le.height=se)),K._initialAutoSize||(K._initialAutoSize={width:ue,height:se}),u.sanitizeMargins(le)},u.supplyLayoutModuleDefaults=function($,K,re,le){var te=w.componentsRegistry,ee=K._basePlotModules,ue,se,ve,be=w.subplotsRegistry.cartesian;for(ue in te)ve=te[ue],ve.includeBasePlot&&ve.includeBasePlot($,K);ee.length||ee.push(be),K._has("cartesian")&&(w.getComponentMethod("grid","contentDefaults")($,K),be.finalizeSubplots($,K));for(var Ee in K._subplots)K._subplots[Ee].sort(t.subplotSort);for(se=0;se<ee.length;se++)ve=ee[se],ve.supplyLayoutDefaults&&ve.supplyLayoutDefaults($,K,re);var Ae=K._modules;for(se=0;se<Ae.length;se++)ve=Ae[se],ve.supplyLayoutDefaults&&ve.supplyLayoutDefaults($,K,re);var Oe=K._transformModules;for(se=0;se<Oe.length;se++)ve=Oe[se],ve.supplyLayoutDefaults&&ve.supplyLayoutDefaults($,K,re,le);for(ue in te)ve=te[ue],ve.supplyLayoutDefaults&&ve.supplyLayoutDefaults($,K,re)},u.purge=function($){var K=$._fullLayout||{};K._glcontainer!==void 0&&(K._glcontainer.selectAll(".gl-canvas").remove(),K._glcontainer.remove(),K._glcanvas=null),K._modeBar&&K._modeBar.destroy(),$._transitionData&&($._transitionData._interruptCallbacks&&($._transitionData._interruptCallbacks.length=0),$._transitionData._animationRaf&&window.cancelAnimationFrame($._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive($),delete $.data,delete $.layout,delete $._fullData,delete $._fullLayout,delete $.calcdata,delete $.empty,delete $.fid,delete $.undoqueue,delete $.undonum,delete $.autoplay,delete $.changed,delete $._promises,delete $._redrawTimer,delete $._hmlumcount,delete $._hmpixcount,delete $._transitionData,delete $._transitioning,delete $._initialAutoSize,delete $._transitioningWithDuration,delete $._dragging,delete $._dragged,delete $._dragdata,delete $._hoverdata,delete $._snapshotInProgress,delete $._editing,delete $._mouseDownTime,delete $._legendMouseDownTime,$.removeAllListeners&&$.removeAllListeners()},u.style=function($){var K=$._fullLayout._visibleModules,re=[],le;for(le=0;le<K.length;le++){var te=K[le];te.style&&t.pushUnique(re,te.style)}for(le=0;le<re.length;le++)re[le]($)},u.sanitizeMargins=function($){if(!(!$||!$.margin)){var K=$.width,re=$.height,le=$.margin,te=K-(le.l+le.r),ee=re-(le.t+le.b),ue;te<0&&(ue=(K-1)/(le.l+le.r),le.l=Math.floor(ue*le.l),le.r=Math.floor(ue*le.r)),ee<0&&(ue=(re-1)/(le.t+le.b),le.t=Math.floor(ue*le.t),le.b=Math.floor(ue*le.b))}},u.clearAutoMarginIds=function($){$._fullLayout._pushmarginIds={}},u.allowAutoMargin=function($,K){$._fullLayout._pushmarginIds[K]=1};function U($){var K=$.margin;if(!$._size){var re=$._size={l:Math.round(K.l),r:Math.round(K.r),t:Math.round(K.t),b:Math.round(K.b),p:Math.round(K.pad)};re.w=Math.round($.width)-re.l-re.r,re.h=Math.round($.height)-re.t-re.b}$._pushmargin||($._pushmargin={}),$._pushmarginIds||($._pushmarginIds={}),$._reservedMargin||($._reservedMargin={})}var H=2,z=2;u.autoMargin=function($,K,re){var le=$._fullLayout,te=le.width,ee=le.height,ue=le.margin,se=le.minreducedwidth,ve=le.minreducedheight,be=t.constrain(te-ue.l-ue.r,H,se),Ee=t.constrain(ee-ue.t-ue.b,z,ve),Ae=Math.max(0,te-be),Oe=Math.max(0,ee-Ee),Ue=le._pushmargin,Le=le._pushmarginIds;if(ue.autoexpand!==!1){if(!re)delete Ue[K],delete Le[K];else{var we=re.pad;if(we===void 0&&(we=Math.min(12,ue.l,ue.r,ue.t,ue.b)),Ae){var Ce=(re.l+re.r)/Ae;Ce>1&&(re.l/=Ce,re.r/=Ce)}if(Oe){var Ve=(re.t+re.b)/Oe;Ve>1&&(re.t/=Ve,re.b/=Ve)}var Ne=re.xl!==void 0?re.xl:re.x,ke=re.xr!==void 0?re.xr:re.x,We=re.yt!==void 0?re.yt:re.y,rt=re.yb!==void 0?re.yb:re.y;Ue[K]={l:{val:Ne,size:re.l+we},r:{val:ke,size:re.r+we},b:{val:rt,size:re.b+we},t:{val:We,size:re.t+we}},Le[K]=1}if(!le._replotting)return u.doAutoMargin($)}};function G($){if("_redrawFromAutoMarginCount"in $._fullLayout)return!1;var K=n.list($,"",!0);for(var re in K)if(K[re].autoshift||K[re].shift)return!0;return!1}u.doAutoMargin=function($){var K=$._fullLayout,re=K.width,le=K.height;K._size||(K._size={}),U(K);var te=K._size,ee=K.margin,ue={t:0,b:0,l:0,r:0},se=t.extendFlat({},te),ve=ee.l,be=ee.r,Ee=ee.t,Ae=ee.b,Oe=K._pushmargin,Ue=K._pushmarginIds,Le=K.minreducedwidth,we=K.minreducedheight;if(ee.autoexpand!==!1){for(var Ce in Oe)Ue[Ce]||delete Oe[Ce];var Ve=$._fullLayout._reservedMargin;for(var Ne in Ve)for(var ke in Ve[Ne]){var We=Ve[Ne][ke];ue[ke]=Math.max(ue[ke],We)}Oe.base={l:{val:0,size:ve},r:{val:1,size:be},t:{val:1,size:Ee},b:{val:0,size:Ae}};for(var rt in ue){var et=0;for(var tt in Oe)tt!=="base"&&C(Oe[tt][rt].size)&&(et=Oe[tt][rt].size>et?Oe[tt][rt].size:et);var at=Math.max(0,ee[rt]-et);ue[rt]=Math.max(0,ue[rt]-at)}for(var ct in Oe){var dt=Oe[ct].l||{},gt=Oe[ct].b||{},Et=dt.val,Ct=dt.size,Vt=gt.val,Je=gt.size,_e=re-ue.r-ue.l,Fe=le-ue.t-ue.b;for(var Be in Oe){if(C(Ct)&&Oe[Be].r){var De=Oe[Be].r.val,Te=Oe[Be].r.size;if(De>Et){var xe=(Ct*De+(Te-_e)*Et)/(De-Et),Me=(Te*(1-Et)+(Ct-_e)*(1-De))/(De-Et);xe+Me>ve+be&&(ve=xe,be=Me)}}if(C(Je)&&Oe[Be].t){var Pe=Oe[Be].t.val,He=Oe[Be].t.size;if(Pe>Vt){var Ke=(Je*Pe+(He-Fe)*Vt)/(Pe-Vt),qe=(He*(1-Vt)+(Je-Fe)*(1-Pe))/(Pe-Vt);Ke+qe>Ae+Ee&&(Ae=Ke,Ee=qe)}}}}}var vt=t.constrain(re-ee.l-ee.r,H,Le),bt=t.constrain(le-ee.t-ee.b,z,we),Wt=Math.max(0,re-vt),qt=Math.max(0,le-bt);if(Wt){var At=(ve+be)/Wt;At>1&&(ve/=At,be/=At)}if(qt){var zt=(Ae+Ee)/qt;zt>1&&(Ae/=zt,Ee/=zt)}if(te.l=Math.round(ve)+ue.l,te.r=Math.round(be)+ue.r,te.t=Math.round(Ee)+ue.t,te.b=Math.round(Ae)+ue.b,te.p=Math.round(ee.pad),te.w=Math.round(re)-te.l-te.r,te.h=Math.round(le)-te.t-te.b,!K._replotting&&(u.didMarginChange(se,te)||G($))){"_redrawFromAutoMarginCount"in K?K._redrawFromAutoMarginCount++:K._redrawFromAutoMarginCount=1;var Kt=3*(1+Object.keys(Ue).length);if(K._redrawFromAutoMarginCount<Kt)return w.call("_doPlot",$);K._size=se,t.warn("Too many auto-margin redraws.")}Y($)};function Y($){var K=n.list($,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(re){for(var le=0;le<K.length;le++){var te=K[le][re];te&&te()}})}var J=["l","r","t","b","p","w","h"];u.didMarginChange=function($,K){for(var re=0;re<J.length;re++){var le=J[re],te=$[le],ee=K[le];if(!C(te)||Math.abs(ee-te)>1)return!0}return!1},u.graphJson=function($,K,re,le,te,ee){(te&&K&&!$._fullData||te&&!K&&!$._fullLayout)&&u.supplyDefaults($);var ue=te?$._fullData:$.data,se=te?$._fullLayout:$.layout,ve=($._transitionData||{})._frames;function be(Oe,Ue){if(typeof Oe=="function")return Ue?"_function_":null;if(t.isPlainObject(Oe)){var Le={},we;return Object.keys(Oe).sort().forEach(function(Ce){if(["_","["].indexOf(Ce.charAt(0))===-1){if(typeof Oe[Ce]=="function"){Ue&&(Le[Ce]="_function");return}if(re==="keepdata"){if(Ce.substr(Ce.length-3)==="src")return}else if(re==="keepstream"){if(we=Oe[Ce+"src"],typeof we=="string"&&we.indexOf(":")>0&&!t.isPlainObject(Oe.stream))return}else if(re!=="keepall"&&(we=Oe[Ce+"src"],typeof we=="string"&&we.indexOf(":")>0))return;Le[Ce]=be(Oe[Ce],Ue)}}),Le}return Array.isArray(Oe)?Oe.map(function(Ce){return be(Ce,Ue)}):t.isTypedArray(Oe)?t.simpleMap(Oe,t.identity):t.isJSDate(Oe)?t.ms2DateTimeLocal(+Oe):Oe}var Ee={data:(ue||[]).map(function(Oe){var Ue=be(Oe);return K&&delete Ue.fit,Ue})};if(!K&&(Ee.layout=be(se),te)){var Ae=se._size;Ee.layout.computed={margin:{b:Ae.b,l:Ae.l,r:Ae.r,t:Ae.t}}}return ve&&(Ee.frames=be(ve)),ee&&(Ee.config=be($._context,!0)),le==="object"?Ee:JSON.stringify(Ee)},u.modifyFrames=function($,K){var re,le,te,ee=$._transitionData._frames,ue=$._transitionData._frameHash;for(re=0;re<K.length;re++)switch(le=K[re],le.type){case"replace":te=le.value;var se=(ee[le.index]||{}).name,ve=te.name;ee[le.index]=ue[ve]=te,ve!==se&&(delete ue[se],ue[ve]=te);break;case"insert":te=le.value,ue[te.name]=te,ee.splice(le.index,0,te);break;case"delete":te=ee[le.index],delete ue[te.name],ee.splice(le.index,1);break}return Promise.resolve()},u.computeFrame=function($,K){var re=$._transitionData._frameHash,le,te,ee,ue;if(!K)throw new Error("computeFrame must be given a string frame name");var se=re[K.toString()];if(!se)return!1;for(var ve=[se],be=[se.name];se.baseframe&&(se=re[se.baseframe.toString()])&&be.indexOf(se.name)===-1;)ve.push(se),be.push(se.name);for(var Ee={};se=ve.pop();)if(se.layout&&(Ee.layout=u.extendLayout(Ee.layout,se.layout)),se.data){if(Ee.data||(Ee.data=[]),te=se.traces,!te)for(te=[],le=0;le<se.data.length;le++)te[le]=le;for(Ee.traces||(Ee.traces=[]),le=0;le<se.data.length;le++)ee=te[le],ee!=null&&(ue=Ee.traces.indexOf(ee),ue===-1&&(ue=Ee.data.length,Ee.traces[ue]=ee),Ee.data[ue]=u.extendTrace(Ee.data[ue],se.data[le]))}return Ee},u.recomputeFrameHash=function($){for(var K=$._transitionData._frameHash={},re=$._transitionData._frames,le=0;le<re.length;le++){var te=re[le];te&&te.name&&(K[te.name]=te)}},u.extendObjectWithContainers=function($,K,re){var le,te,ee,ue,se,ve,be,Ee,Ae=t.extendDeepNoArrays({},K||{}),Oe=t.expandObjectPaths(Ae),Ue={};if(re&&re.length)for(ee=0;ee<re.length;ee++)le=t.nestedProperty(Oe,re[ee]),te=le.get(),te===void 0?t.nestedProperty(Ue,re[ee]).set(null):(le.set(null),t.nestedProperty(Ue,re[ee]).set(te));if($=t.extendDeepNoArrays($||{},Oe),re&&re.length){for(ee=0;ee<re.length;ee++)if(se=t.nestedProperty(Ue,re[ee]),be=se.get(),!!be){for(ve=t.nestedProperty($,re[ee]),Ee=ve.get(),Array.isArray(Ee)||(Ee=[],ve.set(Ee)),ue=0;ue<be.length;ue++){var Le=be[ue];Le===null?Ee[ue]=null:Ee[ue]=u.extendObjectWithContainers(Ee[ue],Le)}ve.set(Ee)}}return $},u.dataArrayContainers=["transforms","dimensions"],u.layoutArrayContainers=w.layoutArrayContainers,u.extendTrace=function($,K){return u.extendObjectWithContainers($,K,u.dataArrayContainers)},u.extendLayout=function($,K){return u.extendObjectWithContainers($,K,u.layoutArrayContainers)},u.transition=function($,K,re,le,te,ee){var ue={redraw:te.redraw},se={},ve=[];return ue.prepareFn=function(){for(var be=Array.isArray(K)?K.length:0,Ee=le.slice(0,be),Ae=0;Ae<Ee.length;Ae++){var Oe=Ee[Ae],Ue=$._fullData[Oe],Le=Ue._module;if(Le){if(Le.animatable){var we=Le.basePlotModule.name;se[we]||(se[we]=[]),se[we].push(Oe)}$.data[Ee[Ae]]=u.extendTrace($.data[Ee[Ae]],K[Ae])}}var Ce=t.expandObjectPaths(t.extendDeepNoArrays({},re)),Ve=/^[xy]axis[0-9]*$/;for(var Ne in Ce)Ve.test(Ne)&&delete Ce[Ne].range;u.extendLayout($.layout,Ce),delete $.calcdata,u.supplyDefaults($),u.doCalcdata($);var ke=t.expandObjectPaths(re);if(ke){var We=$._fullLayout._plots;for(var rt in We){var et=We[rt],tt=et.xaxis,at=et.yaxis,ct=tt.range.slice(),dt=at.range.slice(),gt=null,Et=null,Ct=null,Vt=null;Array.isArray(ke[tt._name+".range"])?gt=ke[tt._name+".range"].slice():Array.isArray((ke[tt._name]||{}).range)&&(gt=ke[tt._name].range.slice()),Array.isArray(ke[at._name+".range"])?Et=ke[at._name+".range"].slice():Array.isArray((ke[at._name]||{}).range)&&(Et=ke[at._name].range.slice()),ct&&gt&&(tt.r2l(ct[0])!==tt.r2l(gt[0])||tt.r2l(ct[1])!==tt.r2l(gt[1]))&&(Ct={xr0:ct,xr1:gt}),dt&&Et&&(at.r2l(dt[0])!==at.r2l(Et[0])||at.r2l(dt[1])!==at.r2l(Et[1]))&&(Vt={yr0:dt,yr1:Et}),(Ct||Vt)&&ve.push(t.extendFlat({plotinfo:et},Ct,Vt))}}return Promise.resolve()},ue.runFn=function(be){var Ee,Ae=$._fullLayout._basePlotModules,Oe=ve.length,Ue;if(re)for(Ue=0;Ue<Ae.length;Ue++)Ae[Ue].transitionAxes&&Ae[Ue].transitionAxes($,ve,ee,be);Oe?(Ee=t.extendFlat({},ee),Ee.duration=0,delete se.cartesian):Ee=ee;for(var Le in se){var we=se[Le],Ce=$._fullData[we[0]]._module;Ce.basePlotModule.plot($,we,Ee,be)}},ae($,ee,ue)},u.transitionFromReact=function($,K,re,le){var te=$._fullLayout,ee=te.transition,ue={},se=[];return ue.prepareFn=function(){var ve=te._plots;ue.redraw=!1,K.anim==="some"&&(ue.redraw=!0),re.anim==="some"&&(ue.redraw=!0);for(var be in ve){var Ee=ve[be],Ae=Ee.xaxis,Oe=Ee.yaxis,Ue=le[Ae._name].range.slice(),Le=le[Oe._name].range.slice(),we=Ae.range.slice(),Ce=Oe.range.slice();Ae.setScale(),Oe.setScale();var Ve=null,Ne=null;(Ae.r2l(Ue[0])!==Ae.r2l(we[0])||Ae.r2l(Ue[1])!==Ae.r2l(we[1]))&&(Ve={xr0:Ue,xr1:we}),(Oe.r2l(Le[0])!==Oe.r2l(Ce[0])||Oe.r2l(Le[1])!==Oe.r2l(Ce[1]))&&(Ne={yr0:Le,yr1:Ce}),(Ve||Ne)&&se.push(t.extendFlat({plotinfo:Ee},Ve,Ne))}return Promise.resolve()},ue.runFn=function(ve){for(var be=$._fullData,Ee=$._fullLayout,Ae=Ee._basePlotModules,Oe,Ue,Le,we=[],Ce=0;Ce<be.length;Ce++)we.push(Ce);function Ve(){if($._fullLayout)for(var ke=0;ke<Ae.length;ke++)Ae[ke].transitionAxes&&Ae[ke].transitionAxes($,se,Oe,ve)}function Ne(){if($._fullLayout)for(var ke=0;ke<Ae.length;ke++)Ae[ke].plot($,Le,Ue,ve)}se.length&&K.anim?ee.ordering==="traces first"?(Oe=t.extendFlat({},ee,{duration:0}),Le=we,Ue=ee,setTimeout(Ve,ee.duration),Ne()):(Oe=ee,Le=null,Ue=t.extendFlat({},ee,{duration:0}),setTimeout(Ne,Oe.duration),Ve()):se.length?(Oe=ee,Ve()):K.anim&&(Le=we,Ue=ee,Ne())},ae($,ee,ue)};function ae($,K,re){var le=!1;function te(Ae){var Oe=Promise.resolve();if(!Ae)return Oe;for(;Ae.length;)Oe=Oe.then(Ae.shift());return Oe}function ee(Ae){if(Ae)for(;Ae.length;)Ae.shift()}function ue(){return $.emit("plotly_transitioning",[]),new Promise(function(Ae){$._transitioning=!0,K.duration>0&&($._transitioningWithDuration=!0),$._transitionData._interruptCallbacks.push(function(){le=!0}),re.redraw&&$._transitionData._interruptCallbacks.push(function(){return w.call("redraw",$)}),$._transitionData._interruptCallbacks.push(function(){$.emit("plotly_transitioninterrupted",[])});var Oe=0,Ue=0;function Le(){return Oe++,function(){Ue++,!le&&Ue===Oe&&se(Ae)}}re.runFn(Le),setTimeout(Le())})}function se(Ae){if($._transitionData)return ee($._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(re.redraw)return w.call("redraw",$)}).then(function(){$._transitioning=!1,$._transitioningWithDuration=!1,$.emit("plotly_transitioned",[])}).then(Ae)}function ve(){if($._transitionData)return $._transitioning=!1,te($._transitionData._interruptCallbacks)}var be=[u.previousPromises,ve,re.prepareFn,u.rehover,u.reselect,ue],Ee=t.syncOrAsync(be,$);return(!Ee||!Ee.then)&&(Ee=Promise.resolve()),Ee.then(function(){return $})}u.doCalcdata=function($,K){var re=n.list($),le=$._fullData,te=$._fullLayout,ee,ue,se,ve,be=new Array(le.length),Ee=($.calcdata||[]).slice();for($.calcdata=be,te._numBoxes=0,te._numViolins=0,te._violinScaleGroupStats={},$._hmpixcount=0,$._hmlumcount=0,te._piecolormap={},te._sunburstcolormap={},te._treemapcolormap={},te._iciclecolormap={},te._funnelareacolormap={},se=0;se<le.length;se++)if(Array.isArray(K)&&K.indexOf(se)===-1){be[se]=Ee[se];continue}for(se=0;se<le.length;se++)ee=le[se],ee._arrayAttrs=h.findArrayAttributes(ee),ee._extremes={};var Ae=te._subplots.polar||[];for(se=0;se<Ae.length;se++)re.push(te[Ae[se]].radialaxis,te[Ae[se]].angularaxis);for(var Oe in te._colorAxes){var Ue=te[Oe];Ue.cauto!==!1&&(delete Ue.cmin,delete Ue.cmax)}var Le=!1;function we(Ne){if(ee=le[Ne],ue=ee._module,ee.visible===!0&&ee.transforms){if(ue&&ue.calc){var ke=ue.calc($,ee);ke[0]&&ke[0].t&&ke[0].t._scene&&delete ke[0].t._scene.dirty}for(ve=0;ve<ee.transforms.length;ve++){var We=ee.transforms[ve];ue=y[We.type],ue&&ue.calcTransform&&(ee._hasCalcTransform=!0,Le=!0,ue.calcTransform($,ee,We))}}}function Ce(Ne,ke){if(ee=le[Ne],ue=ee._module,!!ue.isContainer===ke){var We=[];if(ee.visible===!0&&ee._length!==0){delete ee._indexToPoints;var rt=ee.transforms||[];for(ve=rt.length-1;ve>=0;ve--)if(rt[ve].enabled){ee._indexToPoints=rt[ve]._indexToPoints;break}ue&&ue.calc&&(We=ue.calc($,ee))}(!Array.isArray(We)||!We[0])&&(We=[{x:s,y:s}]),We[0].t||(We[0].t={}),We[0].trace=ee,be[Ne]=We}}for(q(re,le,te),se=0;se<le.length;se++)Ce(se,!0);for(se=0;se<le.length;se++)we(se);for(Le&&q(re,le,te),se=0;se<le.length;se++)Ce(se,!0);for(se=0;se<le.length;se++)Ce(se,!1);Z($);var Ve=he(re,$);if(Ve.length){for(te._numBoxes=0,te._numViolins=0,se=0;se<Ve.length;se++)Ce(Ve[se],!0);for(se=0;se<Ve.length;se++)Ce(Ve[se],!1);Z($)}w.getComponentMethod("fx","calc")($),w.getComponentMethod("errorbars","calc")($)};var oe=/(total|sum|min|max|mean|median) (ascending|descending)/;function he($,K){var re=[],le,te,ee,ue,se;function ve(Be,De,Te){var xe=De._id.charAt(0);if(Be==="histogram2dcontour"){var Me=De._counterAxes[0],Pe=n.getFromId(K,Me),He=xe==="x"||Me==="x"&&Pe.type==="category",Ke=xe==="y"||Me==="y"&&Pe.type==="category";return function(qe,vt){return qe===0||vt===0||He&&qe===Te[vt].length-1||Ke&&vt===Te.length-1?-1:(xe==="y"?vt:qe)-1}}else return function(qe,vt){return xe==="y"?vt:qe}}var be={min:function(Be){return t.aggNums(Math.min,null,Be)},max:function(Be){return t.aggNums(Math.max,null,Be)},sum:function(Be){return t.aggNums(function(De,Te){return De+Te},null,Be)},total:function(Be){return t.aggNums(function(De,Te){return De+Te},null,Be)},mean:function(Be){return t.mean(Be)},median:function(Be){return t.median(Be)}};function Ee(Be,De){return Be[1]-De[1]}function Ae(Be,De){return De[1]-Be[1]}for(le=0;le<$.length;le++){var Oe=$[le];if(Oe.type==="category"){var Ue=Oe.categoryorder.match(oe);if(Ue){var Le=Ue[1],we=Ue[2],Ce=Oe._id.charAt(0),Ve=Ce==="x",Ne=[];for(te=0;te<Oe._categories.length;te++)Ne.push([Oe._categories[te],[]]);for(te=0;te<Oe._traceIndices.length;te++){var ke=Oe._traceIndices[te],We=K._fullData[ke];if(We.visible===!0){var rt=We.type;w.traceIs(We,"histogram")&&(delete We._xautoBinFinished,delete We._yautoBinFinished);var et=rt==="splom",tt=rt==="scattergl",at=K.calcdata[ke];for(ee=0;ee<at.length;ee++){var ct=at[ee],dt,gt;if(et){var Et=We._axesDim[Oe._id];if(!Ve){var Ct=We._diag[Et][0];Ct&&(Oe=K._fullLayout[n.id2name(Ct)])}var Vt=ct.trace.dimensions[Et].values;for(ue=0;ue<Vt.length;ue++)for(dt=Oe._categoriesMap[Vt[ue]],se=0;se<ct.trace.dimensions.length;se++)if(se!==Et){var Je=ct.trace.dimensions[se];Ne[dt][1].push(Je.values[ue])}}else if(tt){for(ue=0;ue<ct.t.x.length;ue++)Ve?(dt=ct.t.x[ue],gt=ct.t.y[ue]):(dt=ct.t.y[ue],gt=ct.t.x[ue]),Ne[dt][1].push(gt);ct.t&&ct.t._scene&&delete ct.t._scene.dirty}else if(ct.hasOwnProperty("z")){gt=ct.z;var _e=ve(We.type,Oe,gt);for(ue=0;ue<gt.length;ue++)for(se=0;se<gt[ue].length;se++)dt=_e(se,ue),dt+1&&Ne[dt][1].push(gt[ue][se])}else for(dt=ct.p,dt===void 0&&(dt=ct[Ce]),gt=ct.s,gt===void 0&&(gt=ct.v),gt===void 0&&(gt=Ve?ct.y:ct.x),Array.isArray(gt)||(gt===void 0?gt=[]:gt=[gt]),ue=0;ue<gt.length;ue++)Ne[dt][1].push(gt[ue])}}}Oe._categoriesValue=Ne;var Fe=[];for(te=0;te<Ne.length;te++)Fe.push([Ne[te][0],be[Le](Ne[te][1])]);Fe.sort(we==="descending"?Ae:Ee),Oe._categoriesAggregatedValue=Fe,Oe._initialCategories=Fe.map(function(Be){return Be[0]}),re=re.concat(Oe.sortByInitialCategories())}}}return re}function q($,K,re){var le={};function te(ve){ve.clearCalc(),ve.type==="multicategory"&&ve.setupMultiCategory(K),le[ve._id]=1}t.simpleMap($,te);for(var ee=re._axisMatchGroups||[],ue=0;ue<ee.length;ue++)for(var se in ee[ue])le[se]||te(re[n.id2name(se)])}function Z($){var K=$._fullLayout,re=K._visibleModules,le={},te,ee,ue;for(ee=0;ee<re.length;ee++){var se=re[ee],ve=se.crossTraceCalc;if(ve){var be=se.basePlotModule.name;le[be]?t.pushUnique(le[be],ve):le[be]=[ve]}}for(ue in le){var Ee=le[ue],Ae=K._subplots[ue];if(Array.isArray(Ae))for(te=0;te<Ae.length;te++){var Oe=Ae[te],Ue=ue==="cartesian"?K._plots[Oe]:K[Oe];for(ee=0;ee<Ee.length;ee++)Ee[ee]($,Ue,Oe)}else for(ee=0;ee<Ee.length;ee++)Ee[ee]($)}}u.rehover=function($){$._fullLayout._rehover&&$._fullLayout._rehover()},u.redrag=function($){$._fullLayout._redrag&&$._fullLayout._redrag()},u.reselect=function($){var K=$._fullLayout,re=($.layout||{}).selections,le=K._previousSelections;K._previousSelections=re;var te=K._reselect||JSON.stringify(re)!==JSON.stringify(le);w.getComponentMethod("selections","reselect")($,te)},u.generalUpdatePerTraceModule=function($,K,re,le){var te=K.traceHash,ee={},ue;for(ue=0;ue<re.length;ue++){var se=re[ue],ve=se[0].trace;ve.visible&&(ee[ve.type]=ee[ve.type]||[],ee[ve.type].push(se))}for(var be in te)if(!ee[be]){var Ee=te[be][0],Ae=Ee[0].trace;Ae.visible=!1,ee[be]=[Ee]}for(var Oe in ee){var Ue=ee[Oe],Le=Ue[0][0].trace._module;Le.plot($,K,t.filterVisible(Ue),le)}K.traceHash=ee},u.plotBasePlot=function($,K,re,le,te){var ee=w.getModule($),ue=v(K.calcdata,ee)[0];ee.plot(K,ue,le,te)},u.cleanBasePlot=function($,K,re,le,te){var ee=te._has&&te._has($),ue=re._has&&re._has($);ee&&!ue&&te["_"+$+"layer"].selectAll("g.trace").remove()}},9813:function(B){B.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(B,N,e){var p=e(71828),L=e(61082).tester,a=p.findIndexOfMin,C=p.isAngleInsideSector,w=p.angleDelta,h=p.angleDist;function g(u,y,M,S,R){if(!C(y,S))return!1;var x,E;M[0]<M[1]?(x=M[0],E=M[1]):(x=M[1],E=M[0]);var T=L(l(x,S[0],S[1],R)),i=L(l(E,S[0],S[1],R)),D=[u*Math.cos(y),u*Math.sin(y)];return i.contains(D)&&!T.contains(D)}function t(u,y,M,S){var R,x,E=S[0],T=S[1],i=m(Math.sin(y)-Math.sin(u)),D=m(Math.cos(y)-Math.cos(u)),b=Math.tan(M),O=m(1/b),F=i/D,V=T-F*E;return O?i&&D?(R=V/(b-F),x=b*R):D?(R=T*O,x=T):(R=E,x=E*b):i&&D?(R=0,x=V):D?(R=0,x=T):R=x=NaN,[R,x]}function r(u,y,M,S){var R=-y*M,x=y*y+1,E=2*(y*R-M),T=R*R+M*M-u*u,i=Math.sqrt(E*E-4*x*T),D=(-E+i)/(2*x),b=(-E-i)/(2*x);return[[D,y*D+R+S],[b,y*b+R+S]]}function s(u,y){var M=y.length,S=new Array(M+1),R;for(R=0;R<M;R++){var x=y[R];S[R]=[u*Math.cos(x),u*Math.sin(x)]}return S[R]=S[0].slice(),S}function n(u,y,M,S){var R=S.length,x=[],E,T;function i(z){return[u*Math.cos(z),u*Math.sin(z)]}function D(z,G,Y){return t(z,G,Y,i(z))}function b(z){return p.mod(z,R)}function O(z){return C(z,[y,M])}var F=a(S,function(z){return O(z)?h(z,y):1/0}),V=D(S[F],S[b(F-1)],y);for(x.push(V),E=F,T=0;T<R;E++,T++){var _=S[b(E)];if(!O(_))break;x.push(i(_))}var U=a(S,function(z){return O(z)?h(z,M):1/0}),H=D(S[U],S[b(U+1)],M);return x.push(H),x.push([0,0]),x.push(x[0].slice()),x}function l(u,y,M,S){return p.isFullCircle([y,M])?s(u,S):n(u,y,M,S)}function c(u,y,M,S){for(var R=1/0,x=1/0,E=l(u,y,M,S),T=0;T<E.length;T++){var i=E[T];R=Math.min(R,i[0]),x=Math.min(x,-i[1])}return[R,x]}function f(u,y){var M=function(x){var E=w(x,u);return E>0?E:1/0},S=a(y,M),R=p.mod(S+1,y.length);return[y[S],y[R]]}function m(u){return Math.abs(u)>1e-10?u:0}function v(u,y,M){y=y||0,M=M||0;for(var S=u.length,R=new Array(S),x=0;x<S;x++){var E=u[x];R[x]=[y+E[0],M-E[1]]}return R}function A(u,y,M,S,R,x){var E=l(u,y,M,S);return"M"+v(E,R,x).join("L")}function d(u,y,M,S,R,x,E){var T,i;u<y?(T=u,i=y):(T=y,i=u);var D=v(l(T,M,S,R),x,E),b=v(l(i,M,S,R),x,E);return"M"+b.reverse().join("L")+"M"+D.join("L")}B.exports={isPtInsidePolygon:g,findPolygonOffset:c,findEnclosingVertexAngles:f,findIntersectionXY:t,findXYatLength:r,clampTiny:m,pathPolygon:A,pathPolygonAnnulus:d}},23580:function(B,N,e){var p=e(27659).AU,L=e(71828).counterRegex,a=e(77997),C=e(9813),w=C.attr,h=C.name,g=L(h),t={};t[w]={valType:"subplotid",dflt:h,editType:"calc"};function r(n){for(var l=n._fullLayout,c=n.calcdata,f=l._subplots[h],m=0;m<f.length;m++){var v=f[m],A=p(c,h,v),d=l[v]._subplot;d||(d=a(n,v),l[v]._subplot=d),d.plot(A,l,n._promises)}}function s(n,l,c,f){for(var m=f._subplots[h]||[],v=f._has&&f._has("gl"),A=l._has&&l._has("gl"),d=v&&!A,u=0;u<m.length;u++){var y=m[u],M=f[y]._subplot;if(!l[y]&&M){M.framework.remove(),M.layers["radial-axis-title"].remove();for(var S in M.clipPaths)M.clipPaths[S].remove()}d&&M._scene&&(M._scene.destroy(),M._scene=null)}}B.exports={attr:w,name:h,idRoot:h,idRegex:g,attrRegex:g,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:s,toSVG:e(93612).toSVG}},73812:function(B,N,e){var p=e(22399),L=e(13838),a=e(27670).Y,C=e(71828).extendFlat,w=e(30962).overrideAll,h=w({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),g=w({tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,ticklabelstep:L.ticklabelstep,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickfont:L.tickfont,tickangle:L.tickangle,tickformat:L.tickformat,tickformatstops:L.tickformatstops,layer:L.layer},"plot","from-root"),t={visible:C({},L.visible,{dflt:!0}),type:C({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},autorange:C({},L.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:C({},L.minallowed,{editType:"plot"}),maxallowed:C({},L.maxallowed,{editType:"plot"}),range:C({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:L.categoryorder,categoryarray:L.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},L.title.text,{editType:"plot",dflt:""}),font:C({},L.title.font,{editType:"plot"}),editType:"plot"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}};C(t,h,g);var r={visible:C({},L.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:L.autotypenumbers,categoryorder:L.categoryorder,categoryarray:L.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(r,h,g),B.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:p.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(B,N,e){var p=e(71828),L=e(7901),a=e(44467),C=e(49119),w=e(27659).NG,h=e(26218),g=e(38701),t=e(96115),r=e(89426),s=e(15258),n=e(92128),l=e(23074),c=e(4322),f=e(73812),m=e(12101),v=e(9813),A=v.axisNames;function d(y,M,S,R){var x=S("bgcolor");R.bgColor=L.combine(x,R.paper_bgcolor);var E=S("sector");S("hole");var T=w(R.fullData,v.name,R.id),i=R.layoutOut,D;function b(re,le){return S(D+"."+re,le)}for(var O=0;O<A.length;O++){D=A[O],p.isPlainObject(y[D])||(y[D]={});var F=y[D],V=a.newContainer(M,D);V._id=V._name=D,V._attr=R.id+"."+D,V._traceIndices=T.map(function(re){return re._expandedIndex});var _=v.axisName2dataArray[D],U=u(F,V,b,T,_,R);s(F,V,b,{axData:T,dataAttr:_});var H=b("visible");switch(m(V,M,i),b("uirevision",M.uirevision),V._m=1,D){case"radialaxis":b("minallowed"),b("maxallowed");var z=b("range"),G=V.getAutorangeDflt(z),Y=b("autorange",G),J;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(Y==="reversed"||Y===!0)||z[0]!==null&&(Y==="min"||Y==="max reversed")||z[1]!==null&&(Y==="max"||Y==="min reversed"))&&(z=void 0,delete V.range,V.autorange=!0,J=!0),J||(G=V.getAutorangeDflt(z),Y=b("autorange",G)),F.autorange=Y,Y&&(l(b,Y,z),(U==="linear"||U==="-")&&b("rangemode"),V.isReversed()&&(V._m=-1)),V.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(U==="date"){p.log("Polar plots do not support date angular axes yet.");for(var ae=0;ae<T.length;ae++)T[ae].visible=!1;U=F.type=V.type="linear"}b(U==="linear"?"thetaunit":"period");var oe=b("direction");b("rotation",{counterclockwise:0,clockwise:90}[oe]);break}if(r(F,V,b,V.type,{tickSuffixDflt:V.thetaunit==="degrees"?"°":void 0}),H){var he,q,Z,$,K=R.font||{};he=b("color"),q=he===F.color?he:K.color,Z=K.size,$=K.family,h(F,V,b,V.type),t(F,V,b,V.type,{font:{color:q,size:Z,family:$}}),g(F,V,b,{outerTicks:!0}),n(F,V,b,{dfltColor:he,bgColor:R.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[D]}),b("layer"),D==="radialaxis"&&(b("side"),b("angle",E[0]),b("title.text"),p.coerceFont(b,"title.font",{color:q,size:p.bigFont(Z),family:$}))}U!=="category"&&b("hoverformat"),V._input=F}M.angularaxis.type==="category"&&S("gridshape")}function u(y,M,S,R,x,E){var T=S("autotypenumbers",E.autotypenumbersDflt),i=S("type");if(i==="-"){for(var D,b=0;b<R.length;b++)if(R[b].visible){D=R[b];break}D&&D[x]&&(M.type=c(D[x],"gregorian",{noMultiCategory:!0,autotypenumbers:T})),M.type==="-"?M.type="linear":y.type=M.type}return M.type}B.exports=function(M,S,R){C(M,S,R,{type:v.name,attributes:f,handleDefaults:d,font:S.font,autotypenumbersDflt:S.autotypenumbers,paper_bgcolor:S.paper_bgcolor,fullData:R,layoutOut:S})}},77997:function(B,N,e){var p=e(39898),L=e(84267),a=e(73972),C=e(71828),w=C.strRotate,h=C.strTranslate,g=e(7901),t=e(91424),r=e(74875),s=e(89298),n=e(21994),l=e(12101),c=e(71739).doAutoRange,f=e(29323),m=e(28569),v=e(30211),A=e(92998),d=e(47322).prepSelect,u=e(47322).selectOnClick,y=e(47322).clearOutline,M=e(6964),S=e(33306),R=e(61549).redrawReglTraces,x=e(18783).MID_SHIFT,E=e(9813),T=e(10869),i=e(23893),D=i.smith,b=i.reactanceArc,O=i.resistanceArc,F=i.smithTransform,V=C._,_=C.mod,U=C.deg2rad,H=C.rad2deg;function z(he,q,Z){this.isSmith=Z||!1,this.id=q,this.gd=he,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var $=he._fullLayout,K="clip"+$._uid+q;this.clipIds.forTraces=K+"-for-traces",this.clipPaths.forTraces=$._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=$["_"+(Z?"smith":"polar")+"layer"].append("g").attr("class",q),this.getHole=function(re){return this.isSmith?0:re.hole},this.getSector=function(re){return this.isSmith?[0,360]:re.sector},this.getRadial=function(re){return this.isSmith?re.realaxis:re.radialaxis},this.getAngular=function(re){return this.isSmith?re.imaginaryaxis:re.angularaxis},Z||(this.radialTickLayout=null,this.angularTickLayout=null)}var G=z.prototype;B.exports=function(q,Z,$){return new z(q,Z,$)},G.plot=function(he,q){for(var Z=this,$=q[Z.id],K=!1,re=0;re<he.length;re++){var le=he[re][0].trace;if(le.cliponaxis===!1){K=!0;break}}Z._hasClipOnAxisFalse=K,Z.updateLayers(q,$),Z.updateLayout(q,$),r.generalUpdatePerTraceModule(Z.gd,Z,he,$),Z.updateFx(q,$),Z.isSmith&&(delete $.realaxis.range,delete $.imaginaryaxis.range)},G.updateLayers=function(he,q){var Z=this,$=Z.isSmith,K=Z.layers,re=Z.getRadial(q),le=Z.getAngular(q),te=E.layerNames,ee=te.indexOf("frontplot"),ue=te.slice(0,ee),se=le.layer==="below traces",ve=re.layer==="below traces";se&&ue.push("angular-line"),ve&&ue.push("radial-line"),se&&ue.push("angular-axis"),ve&&ue.push("radial-axis"),ue.push("frontplot"),se||ue.push("angular-line"),ve||ue.push("radial-line"),se||ue.push("angular-axis"),ve||ue.push("radial-axis");var be=($?"smith":"polar")+"sublayer",Ee=Z.framework.selectAll("."+be).data(ue,String);Ee.enter().append("g").attr("class",function(Ae){return be+" "+Ae}).each(function(Ae){var Oe=K[Ae]=p.select(this);switch(Ae){case"frontplot":$||Oe.append("g").classed("barlayer",!0),Oe.append("g").classed("scatterlayer",!0);break;case"backplot":Oe.append("g").classed("maplayer",!0);break;case"plotbg":K.bg=Oe.append("path");break;case"radial-grid":Oe.style("fill","none");break;case"angular-grid":Oe.style("fill","none");break;case"radial-line":Oe.append("line").style("fill","none");break;case"angular-line":Oe.append("path").style("fill","none");break}}),Ee.order()},G.updateLayout=function(he,q){var Z=this,$=Z.layers,K=he._size,re=Z.getRadial(q),le=Z.getAngular(q),te=q.domain.x,ee=q.domain.y;Z.xOffset=K.l+K.w*te[0],Z.yOffset=K.t+K.h*(1-ee[1]);var ue=Z.xLength=K.w*(te[1]-te[0]),se=Z.yLength=K.h*(ee[1]-ee[0]),ve=Z.getSector(q);Z.sectorInRad=ve.map(U);var be=Z.sectorBBox=J(ve),Ee=be[2]-be[0],Ae=be[3]-be[1],Oe=se/ue,Ue=Math.abs(Ae/Ee),Le,we,Ce,Ve,Ne;Oe>Ue?(Le=ue,we=ue*Ue,Ne=(se-we)/K.h/2,Ce=[te[0],te[1]],Ve=[ee[0]+Ne,ee[1]-Ne]):(Le=se/Ue,we=se,Ne=(ue-Le)/K.w/2,Ce=[te[0]+Ne,te[1]-Ne],Ve=[ee[0],ee[1]]),Z.xLength2=Le,Z.yLength2=we,Z.xDomain2=Ce,Z.yDomain2=Ve;var ke=Z.xOffset2=K.l+K.w*Ce[0],We=Z.yOffset2=K.t+K.h*(1-Ve[1]),rt=Z.radius=Le/Ee,et=Z.innerRadius=Z.getHole(q)*rt,tt=Z.cx=ke-rt*be[0],at=Z.cy=We+rt*be[3],ct=Z.cxx=tt-ke,dt=Z.cyy=at-We,gt=re.side,Et;gt==="counterclockwise"?(Et=gt,gt="top"):gt==="clockwise"&&(Et=gt,gt="bottom"),Z.radialAxis=Z.mockAxis(he,q,re,{_id:"x",side:gt,_trueSide:Et,domain:[et/K.w,rt/K.w]}),Z.angularAxis=Z.mockAxis(he,q,le,{side:"right",domain:[0,Math.PI],autorange:!1}),Z.doAutoRange(he,q),Z.updateAngularAxis(he,q),Z.updateRadialAxis(he,q),Z.updateRadialAxisTitle(he,q),Z.xaxis=Z.mockCartesianAxis(he,q,{_id:"x",domain:Ce}),Z.yaxis=Z.mockCartesianAxis(he,q,{_id:"y",domain:Ve});var Ct=Z.pathSubplot();Z.clipPaths.forTraces.select("path").attr("d",Ct).attr("transform",h(ct,dt)),$.frontplot.attr("transform",h(ke,We)).call(t.setClipUrl,Z._hasClipOnAxisFalse?null:Z.clipIds.forTraces,Z.gd),$.bg.attr("d",Ct).attr("transform",h(tt,at)).call(g.fill,q.bgcolor)},G.mockAxis=function(he,q,Z,$){var K=C.extendFlat({},Z,$);return l(K,q,he),K},G.mockCartesianAxis=function(he,q,Z){var $=this,K=$.isSmith,re=Z._id,le=C.extendFlat({type:"linear"},Z);n(le,he);var te={x:[0,2],y:[1,3]};return le.setRange=function(){var ee=$.sectorBBox,ue=te[re],se=$.radialAxis._rl,ve=(se[1]-se[0])/(1-$.getHole(q));le.range=[ee[ue[0]]*ve,ee[ue[1]]*ve]},le.isPtWithinRange=re==="x"&&!K?function(ee){return $.isPtInside(ee)}:function(){return!0},le.setRange(),le.setScale(),le},G.doAutoRange=function(he,q){var Z=this,$=Z.gd,K=Z.radialAxis,re=Z.getRadial(q);c($,K);var le=K.range;re.range=le.slice(),re._input.range=le.slice(),K._rl=[K.r2l(le[0],null,"gregorian"),K.r2l(le[1],null,"gregorian")]},G.updateRadialAxis=function(he,q){var Z=this,$=Z.gd,K=Z.layers,re=Z.radius,le=Z.innerRadius,te=Z.cx,ee=Z.cy,ue=Z.getRadial(q),se=_(Z.getSector(q)[0],360),ve=Z.radialAxis,be=le<re,Ee=Z.isSmith;Ee||(Z.fillViewInitialKey("radialaxis.angle",ue.angle),Z.fillViewInitialKey("radialaxis.range",ve.range.slice()),ve.setGeometry()),ve.tickangle==="auto"&&se>90&&se<=270&&(ve.tickangle=180);var Ae=Ee?function(rt){var et=F(Z,D([rt.x,0]));return h(et[0]-te,et[1]-ee)}:function(rt){return h(ve.l2p(rt.x)+le,0)},Oe=Ee?function(rt){return O(Z,rt.x,-1/0,1/0)}:function(rt){return Z.pathArc(ve.r2p(rt.x)+le)},Ue=Y(ue);if(Z.radialTickLayout!==Ue&&(K["radial-axis"].selectAll(".xtick").remove(),Z.radialTickLayout=Ue),be){ve.setScale();var Le=0,we=Ee?(ve.tickvals||[]).filter(function(rt){return rt>=0}).map(function(rt){return s.tickText(ve,rt,!0,!1)}):s.calcTicks(ve),Ce=Ee?we:s.clipEnds(ve,we),Ve=s.getTickSigns(ve)[2];Ee&&((ve.ticks==="top"&&ve.side==="bottom"||ve.ticks==="bottom"&&ve.side==="top")&&(Ve=-Ve),ve.ticks==="top"&&ve.side==="top"&&(Le=-ve.ticklen),ve.ticks==="bottom"&&ve.side==="bottom"&&(Le=ve.ticklen)),s.drawTicks($,ve,{vals:we,layer:K["radial-axis"],path:s.makeTickPath(ve,0,Ve),transFn:Ae,crisp:!1}),s.drawGrid($,ve,{vals:Ce,layer:K["radial-grid"],path:Oe,transFn:C.noop,crisp:!1}),s.drawLabels($,ve,{vals:we,layer:K["radial-axis"],transFn:Ae,labelFns:s.makeLabelFns(ve,Le)})}var Ne=Z.radialAxisAngle=Z.vangles?H(ae(U(ue.angle),Z.vangles)):ue.angle,ke=h(te,ee),We=ke+w(-Ne);oe(K["radial-axis"],be&&(ue.showticklabels||ue.ticks),{transform:We}),oe(K["radial-grid"],be&&ue.showgrid,{transform:Ee?"":ke}),oe(K["radial-line"].select("line"),be&&ue.showline,{x1:Ee?-re:le,y1:0,x2:re,y2:0,transform:We}).attr("stroke-width",ue.linewidth).call(g.stroke,ue.linecolor)},G.updateRadialAxisTitle=function(he,q,Z){if(!this.isSmith){var $=this,K=$.gd,re=$.radius,le=$.cx,te=$.cy,ee=$.getRadial(q),ue=$.id+"title",se=0;if(ee.title){var ve=t.bBox($.layers["radial-axis"].node()).height,be=ee.title.font.size,Ee=ee.side;se=Ee==="top"?be:Ee==="counterclockwise"?-(ve+be*.4):ve+be*.8}var Ae=Z!==void 0?Z:$.radialAxisAngle,Oe=U(Ae),Ue=Math.cos(Oe),Le=Math.sin(Oe),we=le+re/2*Ue+se*Le,Ce=te-re/2*Le+se*Ue;$.layers["radial-axis-title"]=A.draw(K,ue,{propContainer:ee,propName:$.id+".radialaxis.title",placeholder:V(K,"Click to enter radial axis title"),attributes:{x:we,y:Ce,"text-anchor":"middle"},transform:{rotate:-Ae}})}},G.updateAngularAxis=function(he,q){var Z=this,$=Z.gd,K=Z.layers,re=Z.radius,le=Z.innerRadius,te=Z.cx,ee=Z.cy,ue=Z.getAngular(q),se=Z.angularAxis,ve=Z.isSmith;ve||(Z.fillViewInitialKey("angularaxis.rotation",ue.rotation),se.setGeometry(),se.setScale());var be=ve?function(et){var tt=F(Z,D([0,et.x]));return Math.atan2(tt[0]-te,tt[1]-ee)-Math.PI/2}:function(et){return se.t2g(et.x)};se.type==="linear"&&se.thetaunit==="radians"&&(se.tick0=H(se.tick0),se.dtick=H(se.dtick));var Ee=function(et){return h(te+re*Math.cos(et),ee-re*Math.sin(et))},Ae=ve?function(et){var tt=F(Z,D([0,et.x]));return h(tt[0],tt[1])}:function(et){return Ee(be(et))},Oe=ve?function(et){var tt=F(Z,D([0,et.x])),at=Math.atan2(tt[0]-te,tt[1]-ee)-Math.PI/2;return h(tt[0],tt[1])+w(-H(at))}:function(et){var tt=be(et);return Ee(tt)+w(-H(tt))},Ue=ve?function(et){return b(Z,et.x,0,1/0)}:function(et){var tt=be(et),at=Math.cos(tt),ct=Math.sin(tt);return"M"+[te+le*at,ee-le*ct]+"L"+[te+re*at,ee-re*ct]},Le=s.makeLabelFns(se,0),we=Le.labelStandoff,Ce={};Ce.xFn=function(et){var tt=be(et);return Math.cos(tt)*we},Ce.yFn=function(et){var tt=be(et),at=Math.sin(tt)>0?.2:1;return-Math.sin(tt)*(we+et.fontSize*at)+Math.abs(Math.cos(tt))*(et.fontSize*x)},Ce.anchorFn=function(et){var tt=be(et),at=Math.cos(tt);return Math.abs(at)<.1?"middle":at>0?"start":"end"},Ce.heightFn=function(et,tt,at){var ct=be(et);return-.5*(1+Math.sin(ct))*at};var Ve=Y(ue);Z.angularTickLayout!==Ve&&(K["angular-axis"].selectAll("."+se._id+"tick").remove(),Z.angularTickLayout=Ve);var Ne=ve?[1/0].concat(se.tickvals||[]).map(function(et){return s.tickText(se,et,!0,!1)}):s.calcTicks(se);ve&&(Ne[0].text="∞",Ne[0].fontSize*=1.75);var ke;if(q.gridshape==="linear"?(ke=Ne.map(be),C.angleDelta(ke[0],ke[1])<0&&(ke=ke.slice().reverse())):ke=null,Z.vangles=ke,se.type==="category"&&(Ne=Ne.filter(function(et){return C.isAngleInsideSector(be(et),Z.sectorInRad)})),se.visible){var We=se.ticks==="inside"?-1:1,rt=(se.linewidth||1)/2;s.drawTicks($,se,{vals:Ne,layer:K["angular-axis"],path:"M"+We*rt+",0h"+We*se.ticklen,transFn:Oe,crisp:!1}),s.drawGrid($,se,{vals:Ne,layer:K["angular-grid"],path:Ue,transFn:C.noop,crisp:!1}),s.drawLabels($,se,{vals:Ne,layer:K["angular-axis"],repositionOnUpdate:!0,transFn:Ae,labelFns:Ce})}oe(K["angular-line"].select("path"),ue.showline,{d:Z.pathSubplot(),transform:h(te,ee)}).attr("stroke-width",ue.linewidth).call(g.stroke,ue.linecolor)},G.updateFx=function(he,q){if(!this.gd._context.staticPlot){var Z=!this.isSmith;Z&&(this.updateAngularDrag(he),this.updateRadialDrag(he,q,0),this.updateRadialDrag(he,q,1)),this.updateHoverAndMainDrag(he)}},G.updateHoverAndMainDrag=function(he){var q=this,Z=q.isSmith,$=q.gd,K=q.layers,re=he._zoomlayer,le=E.MINZOOM,te=E.OFFEDGE,ee=q.radius,ue=q.innerRadius,se=q.cx,ve=q.cy,be=q.cxx,Ee=q.cyy,Ae=q.sectorInRad,Oe=q.vangles,Ue=q.radialAxis,Le=T.clampTiny,we=T.findXYatLength,Ce=T.findEnclosingVertexAngles,Ve=E.cornerHalfWidth,Ne=E.cornerLen/2,ke,We,rt=f.makeDragger(K,"path","maindrag",he.dragmode===!1?"none":"crosshair");p.select(rt).attr("d",q.pathSubplot()).attr("transform",h(se,ve)),rt.onmousemove=function(At){v.hover($,At,q.id),$._fullLayout._lasthover=rt,$._fullLayout._hoversubplot=q.id},rt.onmouseout=function(At){$._dragging||m.unhover($,At)};var et={element:rt,gd:$,subplot:q.id,plotinfo:{id:q.id,xaxis:q.xaxis,yaxis:q.yaxis},xaxes:[q.xaxis],yaxes:[q.yaxis]},tt,at,ct,dt,gt,Et,Ct,Vt,Je;function _e(At,zt){return Math.sqrt(At*At+zt*zt)}function Fe(At,zt){return _e(At-be,zt-Ee)}function Be(At,zt){return Math.atan2(Ee-zt,At-be)}function De(At,zt){return[At*Math.cos(zt),At*Math.sin(-zt)]}function Te(At,zt){if(At===0)return q.pathSector(2*Ve);var Kt=Ne/At,Sr=zt-Kt,yt=zt+Kt,Zt=Math.max(0,Math.min(At,ee)),$t=Zt-Ve,mr=Zt+Ve;return"M"+De($t,Sr)+"A"+[$t,$t]+" 0,0,0 "+De($t,yt)+"L"+De(mr,yt)+"A"+[mr,mr]+" 0,0,1 "+De(mr,Sr)+"Z"}function xe(At,zt,Kt){if(At===0)return q.pathSector(2*Ve);var Sr=De(At,zt),yt=De(At,Kt),Zt=Le((Sr[0]+yt[0])/2),$t=Le((Sr[1]+yt[1])/2),mr,ur;if(Zt&&$t){var pt=$t/Zt,st=-1/pt,xt=we(Ve,pt,Zt,$t);mr=we(Ne,st,xt[0][0],xt[0][1]),ur=we(Ne,st,xt[1][0],xt[1][1])}else{var St,Dt;$t?(St=Ne,Dt=Ve):(St=Ve,Dt=Ne),mr=[[Zt-St,$t-Dt],[Zt+St,$t-Dt]],ur=[[Zt-St,$t+Dt],[Zt+St,$t+Dt]]}return"M"+mr.join("L")+"L"+ur.reverse().join("L")+"Z"}function Me(){ct=null,dt=null,gt=q.pathSubplot(),Et=!1;var At=$._fullLayout[q.id];Ct=L(At.bgcolor).getLuminance(),Vt=f.makeZoombox(re,Ct,se,ve,gt),Vt.attr("fill-rule","evenodd"),Je=f.makeCorners(re,se,ve),y($)}function Pe(At,zt){return zt=Math.max(Math.min(zt,ee),ue),At<te?At=0:ee-At<te?At=ee:zt<te?zt=0:ee-zt<te&&(zt=ee),Math.abs(zt-At)>le?(At<zt?(ct=At,dt=zt):(ct=zt,dt=At),!0):(ct=null,dt=null,!1)}function He(At,zt){At=At||gt,zt=zt||"M0,0Z",Vt.attr("d",At),Je.attr("d",zt),f.transitionZoombox(Vt,Je,Et,Ct),Et=!0;var Kt={};Wt(Kt),$.emit("plotly_relayouting",Kt)}function Ke(At,zt){At=At*ke,zt=zt*We;var Kt=tt+At,Sr=at+zt,yt=Fe(tt,at),Zt=Math.min(Fe(Kt,Sr),ee),$t=Be(tt,at),mr,ur;Pe(yt,Zt)&&(mr=gt+q.pathSector(dt),ct&&(mr+=q.pathSector(ct)),ur=Te(ct,$t)+Te(dt,$t)),He(mr,ur)}function qe(At,zt,Kt,Sr){var yt=T.findIntersectionXY(Kt,Sr,Kt,[At-be,Ee-zt]);return _e(yt[0],yt[1])}function vt(At,zt){var Kt=tt+At,Sr=at+zt,yt=Be(tt,at),Zt=Be(Kt,Sr),$t=Ce(yt,Oe),mr=Ce(Zt,Oe),ur=qe(tt,at,$t[0],$t[1]),pt=Math.min(qe(Kt,Sr,mr[0],mr[1]),ee),st,xt;Pe(ur,pt)&&(st=gt+q.pathSector(dt),ct&&(st+=q.pathSector(ct)),xt=[xe(ct,$t[0],$t[1]),xe(dt,$t[0],$t[1])].join(" ")),He(st,xt)}function bt(){if(f.removeZoombox($),!(ct===null||dt===null)){var At={};Wt(At),f.showDoubleClickNotifier($),a.call("_guiRelayout",$,At)}}function Wt(At){var zt=Ue._rl,Kt=(zt[1]-zt[0])/(1-ue/ee)/ee,Sr=[zt[0]+(ct-ue)*Kt,zt[0]+(dt-ue)*Kt];At[q.id+".radialaxis.range"]=Sr}function qt(At,zt){var Kt=$._fullLayout.clickmode;if(f.removeZoombox($),At===2){var Sr={};for(var yt in q.viewInitial)Sr[q.id+"."+yt]=q.viewInitial[yt];$.emit("plotly_doubleclick",null),a.call("_guiRelayout",$,Sr)}Kt.indexOf("select")>-1&&At===1&&u(zt,$,[q.xaxis],[q.yaxis],q.id,et),Kt.indexOf("event")>-1&&v.click($,zt,q.id)}et.prepFn=function(At,zt,Kt){var Sr=$._fullLayout.dragmode,yt=rt.getBoundingClientRect();$._fullLayout._calcInverseTransform($);var Zt=$._fullLayout._invTransform;ke=$._fullLayout._invScaleX,We=$._fullLayout._invScaleY;var $t=C.apply3DTransform(Zt)(zt-yt.left,Kt-yt.top);if(tt=$t[0],at=$t[1],Oe){var mr=T.findPolygonOffset(ee,Ae[0],Ae[1],Oe);tt+=be+mr[0],at+=Ee+mr[1]}switch(Sr){case"zoom":et.clickFn=qt,Z||(Oe?et.moveFn=vt:et.moveFn=Ke,et.doneFn=bt,Me());break;case"select":case"lasso":d(At,zt,Kt,et,Sr);break}},m.init(et)},G.updateRadialDrag=function(he,q,Z){var $=this,K=$.gd,re=$.layers,le=$.radius,te=$.innerRadius,ee=$.cx,ue=$.cy,se=$.radialAxis,ve=E.radialDragBoxSize,be=ve/2;if(!se.visible)return;var Ee=U($.radialAxisAngle),Ae=se._rl,Oe=Ae[0],Ue=Ae[1],Le=Ae[Z],we=.75*(Ae[1]-Ae[0])/(1-$.getHole(q))/le,Ce,Ve,Ne;Z?(Ce=ee+(le+be)*Math.cos(Ee),Ve=ue-(le+be)*Math.sin(Ee),Ne="radialdrag"):(Ce=ee+(te-be)*Math.cos(Ee),Ve=ue-(te-be)*Math.sin(Ee),Ne="radialdrag-inner");var ke=f.makeRectDragger(re,Ne,"crosshair",-be,-be,ve,ve),We={element:ke,gd:K};he.dragmode===!1&&(We.dragmode=!1),oe(p.select(ke),se.visible&&te<le,{transform:h(Ce,Ve)});var rt,et,tt;function at(Ct,Vt){if(rt)rt(Ct,Vt);else{var Je=[Ct,-Vt],_e=[Math.cos(Ee),Math.sin(Ee)],Fe=Math.abs(C.dot(Je,_e)/Math.sqrt(C.dot(Je,Je)));isNaN(Fe)||(rt=Fe<.5?gt:Et)}var Be={};ct(Be),K.emit("plotly_relayouting",Be)}function ct(Ct){et!==null?Ct[$.id+".radialaxis.angle"]=et:tt!==null&&(Ct[$.id+".radialaxis.range["+Z+"]"]=tt)}function dt(){et!==null?a.call("_guiRelayout",K,$.id+".radialaxis.angle",et):tt!==null&&a.call("_guiRelayout",K,$.id+".radialaxis.range["+Z+"]",tt)}function gt(Ct,Vt){if(Z!==0){var Je=Ce+Ct,_e=Ve+Vt;et=Math.atan2(ue-_e,Je-ee),$.vangles&&(et=ae(et,$.vangles)),et=H(et);var Fe=h(ee,ue)+w(-et);re["radial-axis"].attr("transform",Fe),re["radial-line"].select("line").attr("transform",Fe);var Be=$.gd._fullLayout,De=Be[$.id];$.updateRadialAxisTitle(Be,De,et)}}function Et(Ct,Vt){var Je=C.dot([Ct,-Vt],[Math.cos(Ee),Math.sin(Ee)]);if(tt=Le-we*Je,we>0!=(Z?tt>Oe:tt<Ue)){tt=null;return}var _e=K._fullLayout,Fe=_e[$.id];se.range[Z]=tt,se._rl[Z]=tt,$.updateRadialAxis(_e,Fe),$.xaxis.setRange(),$.xaxis.setScale(),$.yaxis.setRange(),$.yaxis.setScale();var Be=!1;for(var De in $.traceHash){var Te=$.traceHash[De],xe=C.filterVisible(Te),Me=Te[0][0].trace._module;Me.plot(K,$,xe,Fe),a.traceIs(De,"gl")&&xe.length&&(Be=!0)}Be&&(S(K),R(K))}We.prepFn=function(){rt=null,et=null,tt=null,We.moveFn=at,We.doneFn=dt,y(K)},We.clampFn=function(Ct,Vt){return Math.sqrt(Ct*Ct+Vt*Vt)<E.MINDRAG&&(Ct=0,Vt=0),[Ct,Vt]},m.init(We)},G.updateAngularDrag=function(he){var q=this,Z=q.gd,$=q.layers,K=q.radius,re=q.angularAxis,le=q.cx,te=q.cy,ee=q.cxx,ue=q.cyy,se=E.angularDragBoxSize,ve=f.makeDragger($,"path","angulardrag",he.dragmode===!1?"none":"move"),be={element:ve,gd:Z};he.dragmode===!1?be.dragmode=!1:p.select(ve).attr("d",q.pathAnnulus(K,K+se)).attr("transform",h(le,te)).call(M,"move");function Ee(tt,at){return Math.atan2(ue+se-at,tt-ee-se)}var Ae=$.frontplot.select(".scatterlayer").selectAll(".trace"),Oe=Ae.selectAll(".point"),Ue=Ae.selectAll(".textpoint"),Le,we,Ce,Ve,Ne,ke;function We(tt,at){var ct=q.gd._fullLayout,dt=ct[q.id],gt=Le+tt*he._invScaleX,Et=we+at*he._invScaleY,Ct=Ee(gt,Et),Vt=H(Ct-ke);if(Ve=Ce+Vt,$.frontplot.attr("transform",h(q.xOffset2,q.yOffset2)+w([-Vt,ee,ue])),q.vangles){Ne=q.radialAxisAngle+Vt;var Je=h(le,te)+w(-Vt),_e=h(le,te)+w(-Ne);$.bg.attr("transform",Je),$["radial-grid"].attr("transform",Je),$["radial-axis"].attr("transform",_e),$["radial-line"].select("line").attr("transform",_e),q.updateRadialAxisTitle(ct,dt,Ne)}else q.clipPaths.forTraces.select("path").attr("transform",h(ee,ue)+w(Vt));Oe.each(function(){var Pe=p.select(this),He=t.getTranslate(Pe);Pe.attr("transform",h(He.x,He.y)+w([Vt]))}),Ue.each(function(){var Pe=p.select(this),He=Pe.select("text"),Ke=t.getTranslate(Pe);Pe.attr("transform",w([Vt,He.attr("x"),He.attr("y")])+h(Ke.x,Ke.y))}),re.rotation=C.modHalf(Ve,360),q.updateAngularAxis(ct,dt),q._hasClipOnAxisFalse&&!C.isFullCircle(q.sectorInRad)&&Ae.call(t.hideOutsideRangePoints,q);var Fe=!1;for(var Be in q.traceHash)if(a.traceIs(Be,"gl")){var De=q.traceHash[Be],Te=C.filterVisible(De),xe=De[0][0].trace._module;xe.plot(Z,q,Te,dt),Te.length&&(Fe=!0)}Fe&&(S(Z),R(Z));var Me={};rt(Me),Z.emit("plotly_relayouting",Me)}function rt(tt){tt[q.id+".angularaxis.rotation"]=Ve,q.vangles&&(tt[q.id+".radialaxis.angle"]=Ne)}function et(){Ue.select("text").attr("transform",null);var tt={};rt(tt),a.call("_guiRelayout",Z,tt)}be.prepFn=function(tt,at,ct){var dt=he[q.id];Ce=dt.angularaxis.rotation;var gt=ve.getBoundingClientRect();Le=at-gt.left,we=ct-gt.top,Z._fullLayout._calcInverseTransform(Z);var Et=C.apply3DTransform(he._invTransform)(Le,we);Le=Et[0],we=Et[1],ke=Ee(Le,we),be.moveFn=We,be.doneFn=et,y(Z)},q.vangles&&!C.isFullCircle(q.sectorInRad)&&(be.prepFn=C.noop,M(p.select(ve),null)),m.init(be)},G.isPtInside=function(he){if(this.isSmith)return!0;var q=this.sectorInRad,Z=this.vangles,$=this.angularAxis.c2g(he.theta),K=this.radialAxis,re=K.c2l(he.r),le=K._rl,te=Z?T.isPtInsidePolygon:C.isPtInsideSector;return te(re,$,le,q,Z)},G.pathArc=function(he){var q=this.sectorInRad,Z=this.vangles,$=Z?T.pathPolygon:C.pathArc;return $(he,q[0],q[1],Z)},G.pathSector=function(he){var q=this.sectorInRad,Z=this.vangles,$=Z?T.pathPolygon:C.pathSector;return $(he,q[0],q[1],Z)},G.pathAnnulus=function(he,q){var Z=this.sectorInRad,$=this.vangles,K=$?T.pathPolygonAnnulus:C.pathAnnulus;return K(he,q,Z[0],Z[1],$)},G.pathSubplot=function(){var he=this.innerRadius,q=this.radius;return he?this.pathAnnulus(he,q):this.pathSector(q)},G.fillViewInitialKey=function(he,q){he in this.viewInitial||(this.viewInitial[he]=q)};function Y(he){var q=he.ticks+String(he.ticklen)+String(he.showticklabels);return"side"in he&&(q+=he.side),q}function J(he){var q=he[0],Z=he[1],$=Z-q,K=_(q,360),re=K+$,le=Math.cos(U(K)),te=Math.sin(U(K)),ee=Math.cos(U(re)),ue=Math.sin(U(re)),se,ve,be,Ee;return K<=90&&re>=90||K>90&&re>=450?Ee=1:te<=0&&ue<=0?Ee=0:Ee=Math.max(te,ue),K<=180&&re>=180||K>180&&re>=540?se=-1:le>=0&&ee>=0?se=0:se=Math.min(le,ee),K<=270&&re>=270||K>270&&re>=630?ve=-1:te>=0&&ue>=0?ve=0:ve=Math.min(te,ue),re>=360?be=1:le<=0&&ee<=0?be=0:be=Math.max(le,ee),[se,ve,be,Ee]}function ae(he,q){var Z=function(K){return C.angleDist(he,K)},$=C.findIndexOfMin(q,Z);return q[$]}function oe(he,q,Z){return q?(he.attr("display",null),he.attr(Z)):he&&he.attr("display","none"),he}},12101:function(B,N,e){var p=e(71828),L=e(21994),a=p.deg2rad,C=p.rad2deg;B.exports=function(s,n,l){switch(L(s,l),s._id){case"x":case"radialaxis":w(s,n);break;case"angularaxis":t(s,n);break}};function w(r,s){var n=s._subplot;r.setGeometry=function(){var l=r._rl[0],c=r._rl[1],f=n.innerRadius,m=(n.radius-f)/(c-l),v=f/m,A=l>c?function(d){return d<=0}:function(d){return d>=0};r.c2g=function(d){var u=r.c2l(d)-l;return(A(u)?u:0)+v},r.g2c=function(d){return r.l2c(d+l-v)},r.g2p=function(d){return d*m},r.c2p=function(d){return r.g2p(r.c2g(d))}}}function h(r,s){return s==="degrees"?a(r):r}function g(r,s){return s==="degrees"?C(r):r}function t(r,s){var n=r.type;if(n==="linear"){var l=r.d2c,c=r.c2d;r.d2c=function(f,m){return h(l(f),m)},r.c2d=function(f,m){return c(g(f,m))}}r.makeCalcdata=function(f,m){var v=f[m],A=f._length,d,u,y=function(E){return r.d2c(E,f.thetaunit)};if(v){if(p.isTypedArray(v)&&n==="linear"){if(A===v.length)return v;if(v.subarray)return v.subarray(0,A)}for(d=new Array(A),u=0;u<A;u++)d[u]=y(v[u])}else{var M=m+"0",S="d"+m,R=M in f?y(f[M]):0,x=f[S]?y(f[S]):(r.period||2*Math.PI)/A;for(d=new Array(A),u=0;u<A;u++)d[u]=R+u*x}return d},r.setGeometry=function(){var f=s.sector,m=f.map(a),v={clockwise:-1,counterclockwise:1}[r.direction],A=a(r.rotation),d=function(T){return v*T+A},u=function(T){return(T-A)/v},y,M,S,R;switch(n){case"linear":M=y=p.identity,R=a,S=C,r.range=p.isFullCircle(m)?[f[0],f[0]+360]:m.map(u).map(C);break;case"category":var x=r._categories.length,E=r.period?Math.max(r.period,x):x;E===0&&(E=1),M=R=function(T){return T*2*Math.PI/E},y=S=function(T){return T*E/Math.PI/2},r.range=[0,E];break}r.c2g=function(T){return d(M(T))},r.g2c=function(T){return y(u(T))},r.t2g=function(T){return d(R(T))},r.g2t=function(T){return S(u(T))}}}},39779:function(B){B.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(B){function N(w){return w<0?-1:w>0?1:0}function e(w){var h=w[0],g=w[1];if(!isFinite(h)||!isFinite(g))return[1,0];var t=(h+1)*(h+1)+g*g;return[(h*h+g*g-1)/t,2*g/t]}function p(w,h){var g=h[0],t=h[1];return[g*w.radius+w.cx,-t*w.radius+w.cy]}function L(w,h){return h*w.radius}function a(w,h,g,t){var r=p(w,e([g,h])),s=r[0],n=r[1],l=p(w,e([t,h])),c=l[0],f=l[1];if(h===0)return["M"+s+","+n,"L"+c+","+f].join(" ");var m=L(w,1/Math.abs(h));return["M"+s+","+n,"A"+m+","+m+" 0 0,"+(h<0?1:0)+" "+c+","+f].join(" ")}function C(w,h,g,t){var r=L(w,1/(h+1)),s=p(w,e([h,g])),n=s[0],l=s[1],c=p(w,e([h,t])),f=c[0],m=c[1];if(N(g)!==N(t)){var v=p(w,e([h,0])),A=v[0],d=v[1];return["M"+n+","+l,"A"+r+","+r+" 0 0,"+(0<g?0:1)+" "+A+","+d,"A"+r+","+r+" 0 0,"+(t<0?0:1)+f+","+m].join(" ")}return["M"+n+","+l,"A"+r+","+r+" 0 0,"+(t<g?0:1)+" "+f+","+m].join(" ")}B.exports={smith:e,reactanceArc:a,resistanceArc:C,smithTransform:p}},7504:function(B,N,e){var p=e(27659).AU,L=e(71828).counterRegex,a=e(77997),C=e(39779),w=C.attr,h=C.name,g=L(h),t={};t[w]={valType:"subplotid",dflt:h,editType:"calc"};function r(n){for(var l=n._fullLayout,c=n.calcdata,f=l._subplots[h],m=0;m<f.length;m++){var v=f[m],A=p(c,h,v),d=l[v]._subplot;d||(d=a(n,v,!0),l[v]._subplot=d),d.plot(A,l,n._promises)}}function s(n,l,c,f){for(var m=f._subplots[h]||[],v=0;v<m.length;v++){var A=m[v],d=f[A]._subplot;if(!l[A]&&d){d.framework.remove();for(var u in d.clipPaths)d.clipPaths[u].remove()}}}B.exports={attr:w,name:h,idRoot:h,idRegex:g,attrRegex:g,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:s,toSVG:e(93612).toSVG}},33419:function(B,N,e){var p=e(22399),L=e(13838),a=e(27670).Y,C=e(71828).extendFlat,w=e(30962).overrideAll,h=w({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),g=w({ticklen:L.ticklen,tickwidth:C({},L.tickwidth,{dflt:2}),tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,tickfont:L.tickfont,tickformat:L.tickformat,hoverformat:L.hoverformat,layer:L.layer},"plot","from-root"),t=C({visible:C({},L.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},L.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},h,g),r=C({visible:C({},L.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:L.ticks,editType:"calc"},h,g);B.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:p.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(B,N,e){var p=e(71828),L=e(7901),a=e(44467),C=e(49119),w=e(27659).NG,h=e(89426),g=e(96115),t=e(92128),r=e(21994),s=e(33419),n=e(39779),l=n.axisNames,c=m(function(v){return v.slice().reverse().map(function(A){return-A}).concat([0]).concat(v)},String);function f(v,A,d,u){var y=d("bgcolor");u.bgColor=L.combine(y,u.paper_bgcolor);var M=w(u.fullData,n.name,u.id),S=u.layoutOut,R;function x(G,Y){return d(R+"."+G,Y)}for(var E=0;E<l.length;E++){R=l[E],p.isPlainObject(v[R])||(v[R]={});var T=v[R],i=a.newContainer(A,R);i._id=i._name=R,i._attr=u.id+"."+R,i._traceIndices=M.map(function(G){return G._expandedIndex});var D=x("visible");if(i.type="linear",r(i,S),h(T,i,x,i.type),D){var b=R==="realaxis";if(b&&x("side"),b)x("tickvals");else{var O=c(A.realaxis.tickvals||s.realaxis.tickvals.dflt);x("tickvals",O)}var F,V,_,U,H=u.font||{};D&&(F=x("color"),V=F===T.color?F:H.color,_=H.size,U=H.family),g(T,i,x,i.type,{noTicklabelstep:!0,noAng:!b,noExp:!0,font:{color:V,size:_,family:U}}),p.coerce2(v,A,s,R+".ticklen"),p.coerce2(v,A,s,R+".tickwidth"),p.coerce2(v,A,s,R+".tickcolor",A.color);var z=x("ticks");z||(delete A[R].ticklen,delete A[R].tickwidth,delete A[R].tickcolor),t(T,i,x,{dfltColor:F,bgColor:u.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[R]}),x("layer")}x("hoverformat"),delete i.type,i._input=T}}B.exports=function(A,d,u){C(A,d,u,{noUirevision:!0,type:n.name,attributes:s,handleDefaults:f,font:d.font,paper_bgcolor:d.paper_bgcolor,fullData:u,layoutOut:d})};function m(v,A){var d={};return function(u){var y=A?A(u):u;if(y in d)return d[y];var M=v(u);return d[y]=M,M}}},49119:function(B,N,e){var p=e(71828),L=e(44467),a=e(27670).c;B.exports=function(w,h,g,t){var r=t.type,s=t.attributes,n=t.handleDefaults,l=t.partition||"x",c=h._subplots[r],f=c.length,m=f&&c[0].replace(/\d+$/,""),v,A;function d(S,R){return p.coerce(v,A,s,S,R)}for(var u=0;u<f;u++){var y=c[u];w[y]?v=w[y]:v=w[y]={},A=L.newContainer(h,y,m),t.noUirevision||d("uirevision",h.uirevision);var M={};M[l]=[u/f,(u+1)/f],a(A,h,d,M),t.id=y,n(v,A,d,t)}}},5386:function(B,N,e){var p=e(31562);p.FORMAT_LINK,p.DATE_FORMAT_LINK;function L(a){var C=a.description?" "+a.description:"",w=a.keys||[];if(w.length>0){for(var h=[],g=0;g<w.length;g++)h[g]="`"+w[g]+"`";C=C+"Finally, the template string has access to ",w.length===1?C=C+"variable "+h[0]:C=C+"variables "+h.slice(0,-1).join(", ")+" and "+h.slice(-1)+"."}return C}N.fF=function(a,C){a=a||{},C=C||{},L(C);var w={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(w.arrayOk=!0),w},N.si=function(a,C){a=a||{},C=C||{},L(C);var w={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(w.arrayOk=!0),w},N.R=function(a,C){a=a||{},C=C||{},a.newshape,L(C);var w={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return w}},61639:function(B,N,e){var p=e(64380),L=e(27659).AU,a=e(71828).counterRegex,C="ternary";N.name=C;var w=N.attr="subplot";N.idRoot=C,N.idRegex=N.attrRegex=a(C);var h=N.attributes={};h[w]={valType:"subplotid",dflt:"ternary",editType:"calc"},N.layoutAttributes=e(81367),N.supplyLayoutDefaults=e(25369),N.plot=function(t){for(var r=t._fullLayout,s=t.calcdata,n=r._subplots[C],l=0;l<n.length;l++){var c=n[l],f=L(s,C,c),m=r[c]._subplot;m||(m=new p({id:c,graphDiv:t,container:r._ternarylayer.node()},r),r[c]._subplot=m),m.plot(f,r,t._promises)}},N.clean=function(g,t,r,s){for(var n=s._subplots[C]||[],l=0;l<n.length;l++){var c=n[l],f=s[c]._subplot;!t[c]&&f&&(f.plotContainer.remove(),f.clipDef.remove(),f.clipDefRelative.remove(),f.layers["a-title"].remove(),f.layers["b-title"].remove(),f.layers["c-title"].remove())}}},81367:function(B,N,e){var p=e(22399),L=e(27670).Y,a=e(13838),C=e(30962).overrideAll,w=e(1426).extendFlat,h={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:w({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:w({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:w({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},g=B.exports=C({domain:L({name:"ternary"}),bgcolor:{valType:"color",dflt:p.background},sum:{valType:"number",dflt:1,min:0},aaxis:h,baxis:h,caxis:h},"plot","from-root");g.uirevision={valType:"any",editType:"none"},g.aaxis.uirevision=g.baxis.uirevision=g.caxis.uirevision={valType:"any",editType:"none"}},25369:function(B,N,e){var p=e(7901),L=e(44467),a=e(71828),C=e(49119),w=e(96115),h=e(89426),g=e(38701),t=e(26218),r=e(92128),s=e(81367),n=["aaxis","baxis","caxis"];B.exports=function(m,v,A){C(m,v,A,{type:"ternary",attributes:s,handleDefaults:l,font:v.font,paper_bgcolor:v.paper_bgcolor})};function l(f,m,v,A){var d=v("bgcolor"),u=v("sum");A.bgColor=p.combine(d,A.paper_bgcolor);for(var y,M,S,R=0;R<n.length;R++)y=n[R],M=f[y]||{},S=L.newContainer(m,y),S._name=y,c(M,S,A,m);var x=m.aaxis,E=m.baxis,T=m.caxis;x.min+E.min+T.min>=u&&(x.min=0,E.min=0,T.min=0,f.aaxis&&delete f.aaxis.min,f.baxis&&delete f.baxis.min,f.caxis&&delete f.caxis.min)}function c(f,m,v,A){var d=s[m._name];function u(i,D){return a.coerce(f,m,d,i,D)}u("uirevision",A.uirevision),m.type="linear";var y=u("color"),M=y!==d.color.dflt?y:v.font.color,S=m._name,R=S.charAt(0).toUpperCase(),x="Component "+R,E=u("title.text",x);m._hovertitle=E===x?E:R,a.coerceFont(u,"title.font",{family:v.font.family,size:a.bigFont(v.font.size),color:M}),u("min"),t(f,m,u,"linear"),h(f,m,u,"linear"),w(f,m,u,"linear"),g(f,m,u,{outerTicks:!0});var T=u("showticklabels");T&&(a.coerceFont(u,"tickfont",{family:v.font.family,size:v.font.size,color:M}),u("tickangle"),u("tickformat")),r(f,m,u,{dfltColor:y,bgColor:v.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:d}),u("hoverformat"),u("layer")}},64380:function(B,N,e){var p=e(39898),L=e(84267),a=e(73972),C=e(71828),w=C.strTranslate,h=C._,g=e(7901),t=e(91424),r=e(21994),s=e(1426).extendFlat,n=e(74875),l=e(89298),c=e(28569),f=e(30211),m=e(64505),v=m.freeMode,A=m.rectMode,d=e(92998),u=e(47322).prepSelect,y=e(47322).selectOnClick,M=e(47322).clearOutline,S=e(47322).clearSelectionsCache,R=e(85555);function x(H,z){this.id=H.id,this.graphDiv=H.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}B.exports=x;var E=x.prototype;E.init=function(H){this.container=H._ternarylayer,this.defs=H._defs,this.layoutId=H._uid,this.traceHash={},this.layers={}},E.plot=function(H,z){var G=this,Y=z[G.id],J=z._size;G._hasClipOnAxisFalse=!1;for(var ae=0;ae<H.length;ae++){var oe=H[ae][0].trace;if(oe.cliponaxis===!1){G._hasClipOnAxisFalse=!0;break}}G.updateLayers(Y),G.adjustLayout(Y,J),n.generalUpdatePerTraceModule(G.graphDiv,G,H,Y),G.layers.plotbg.select("path").call(g.fill,Y.bgcolor)},E.makeFramework=function(H){var z=this,G=z.graphDiv,Y=H[z.id],J=z.clipId="clip"+z.layoutId+z.id,ae=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=C.ensureSingleById(H._clips,"clipPath",J,function(oe){oe.append("path").attr("d","M0,0Z")}),z.clipDefRelative=C.ensureSingleById(H._clips,"clipPath",ae,function(oe){oe.append("path").attr("d","M0,0Z")}),z.plotContainer=C.ensureSingle(z.container,"g",z.id),z.updateLayers(Y),t.setClipUrl(z.layers.backplot,J,G),t.setClipUrl(z.layers.grids,J,G)},E.updateLayers=function(H){var z=this,G=z.layers,Y=["draglayer","plotbg","backplot","grids"];H.aaxis.layer==="below traces"&&Y.push("aaxis","aline"),H.baxis.layer==="below traces"&&Y.push("baxis","bline"),H.caxis.layer==="below traces"&&Y.push("caxis","cline"),Y.push("frontplot"),H.aaxis.layer==="above traces"&&Y.push("aaxis","aline"),H.baxis.layer==="above traces"&&Y.push("baxis","bline"),H.caxis.layer==="above traces"&&Y.push("caxis","cline");var J=z.plotContainer.selectAll("g.toplevel").data(Y,String),ae=["agrid","bgrid","cgrid"];J.enter().append("g").attr("class",function(oe){return"toplevel "+oe}).each(function(oe){var he=p.select(this);G[oe]=he,oe==="frontplot"?he.append("g").classed("scatterlayer",!0):oe==="backplot"?he.append("g").classed("maplayer",!0):oe==="plotbg"?he.append("path").attr("d","M0,0Z"):oe==="aline"||oe==="bline"||oe==="cline"?he.append("path"):oe==="grids"&&ae.forEach(function(q){G[q]=he.append("g").classed("grid "+q,!0)})}),J.order()};var T=Math.sqrt(4/3);E.adjustLayout=function(H,z){var G=this,Y=H.domain,J=(Y.x[0]+Y.x[1])/2,ae=(Y.y[0]+Y.y[1])/2,oe=Y.x[1]-Y.x[0],he=Y.y[1]-Y.y[0],q=oe*z.w,Z=he*z.h,$=H.sum,K=H.aaxis.min,re=H.baxis.min,le=H.caxis.min,te,ee,ue,se,ve,be;q>T*Z?(se=Z,ue=se*T):(ue=q,se=ue/T),ve=oe*ue/q,be=he*se/Z,te=z.l+z.w*J-ue/2,ee=z.t+z.h*(1-ae)-se/2,G.x0=te,G.y0=ee,G.w=ue,G.h=se,G.sum=$,G.xaxis={type:"linear",range:[K+2*le-$,$-K-2*re],domain:[J-ve/2,J+ve/2],_id:"x"},r(G.xaxis,G.graphDiv._fullLayout),G.xaxis.setScale(),G.xaxis.isPtWithinRange=function(We){return We.a>=G.aaxis.range[0]&&We.a<=G.aaxis.range[1]&&We.b>=G.baxis.range[1]&&We.b<=G.baxis.range[0]&&We.c>=G.caxis.range[1]&&We.c<=G.caxis.range[0]},G.yaxis={type:"linear",range:[K,$-re-le],domain:[ae-be/2,ae+be/2],_id:"y"},r(G.yaxis,G.graphDiv._fullLayout),G.yaxis.setScale(),G.yaxis.isPtWithinRange=function(){return!0};var Ee=G.yaxis.domain[0],Ae=G.aaxis=s({},H.aaxis,{range:[K,$-re-le],side:"left",tickangle:(+H.aaxis.tickangle||0)-30,domain:[Ee,Ee+be*T],anchor:"free",position:0,_id:"y",_length:ue});r(Ae,G.graphDiv._fullLayout),Ae.setScale();var Oe=G.baxis=s({},H.baxis,{range:[$-K-le,re],side:"bottom",domain:G.xaxis.domain,anchor:"free",position:0,_id:"x",_length:ue});r(Oe,G.graphDiv._fullLayout),Oe.setScale();var Ue=G.caxis=s({},H.caxis,{range:[$-K-re,le],side:"right",tickangle:(+H.caxis.tickangle||0)+30,domain:[Ee,Ee+be*T],anchor:"free",position:0,_id:"y",_length:ue});r(Ue,G.graphDiv._fullLayout),Ue.setScale();var Le="M"+te+","+(ee+se)+"h"+ue+"l-"+ue/2+",-"+se+"Z";G.clipDef.select("path").attr("d",Le),G.layers.plotbg.select("path").attr("d",Le);var we="M0,"+se+"h"+ue+"l-"+ue/2+",-"+se+"Z";G.clipDefRelative.select("path").attr("d",we);var Ce=w(te,ee);G.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ce),G.clipDefRelative.select("path").attr("transform",null);var Ve=w(te-Oe._offset,ee+se);G.layers.baxis.attr("transform",Ve),G.layers.bgrid.attr("transform",Ve);var Ne=w(te+ue/2,ee)+"rotate(30)"+w(0,-Ae._offset);G.layers.aaxis.attr("transform",Ne),G.layers.agrid.attr("transform",Ne);var ke=w(te+ue/2,ee)+"rotate(-30)"+w(0,-Ue._offset);G.layers.caxis.attr("transform",ke),G.layers.cgrid.attr("transform",ke),G.drawAxes(!0),G.layers.aline.select("path").attr("d",Ae.showline?"M"+te+","+(ee+se)+"l"+ue/2+",-"+se:"M0,0").call(g.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),G.layers.bline.select("path").attr("d",Oe.showline?"M"+te+","+(ee+se)+"h"+ue:"M0,0").call(g.stroke,Oe.linecolor||"#000").style("stroke-width",(Oe.linewidth||0)+"px"),G.layers.cline.select("path").attr("d",Ue.showline?"M"+(te+ue/2)+","+ee+"l"+ue/2+","+se:"M0,0").call(g.stroke,Ue.linecolor||"#000").style("stroke-width",(Ue.linewidth||0)+"px"),G.graphDiv._context.staticPlot||G.initInteractions(),t.setClipUrl(G.layers.frontplot,G._hasClipOnAxisFalse?null:G.clipId,G.graphDiv)},E.drawAxes=function(H){var z=this,G=z.graphDiv,Y=z.id.substr(7)+"title",J=z.layers,ae=z.aaxis,oe=z.baxis,he=z.caxis;if(z.drawAx(ae),z.drawAx(oe),z.drawAx(he),H){var q=Math.max(ae.showticklabels?ae.tickfont.size/2:0,(he.showticklabels?he.tickfont.size*.75:0)+(he.ticks==="outside"?he.ticklen*.87:0)),Z=(oe.showticklabels?oe.tickfont.size:0)+(oe.ticks==="outside"?oe.ticklen:0)+3;J["a-title"]=d.draw(G,"a"+Y,{propContainer:ae,propName:z.id+".aaxis.title",placeholder:h(G,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-ae.title.font.size/3-q,"text-anchor":"middle"}}),J["b-title"]=d.draw(G,"b"+Y,{propContainer:oe,propName:z.id+".baxis.title",placeholder:h(G,"Click to enter Component B title"),attributes:{x:z.x0-Z,y:z.y0+z.h+oe.title.font.size*.83+Z,"text-anchor":"middle"}}),J["c-title"]=d.draw(G,"c"+Y,{propContainer:he,propName:z.id+".caxis.title",placeholder:h(G,"Click to enter Component C title"),attributes:{x:z.x0+z.w+Z,y:z.y0+z.h+he.title.font.size*.83+Z,"text-anchor":"middle"}})}},E.drawAx=function(H){var z=this,G=z.graphDiv,Y=H._name,J=Y.charAt(0),ae=H._id,oe=z.layers[Y],he=30,q=J+"tickLayout",Z=i(H);z[q]!==Z&&(oe.selectAll("."+ae+"tick").remove(),z[q]=Z),H.setScale();var $=l.calcTicks(H),K=l.clipEnds(H,$),re=l.makeTransTickFn(H),le=l.getTickSigns(H)[2],te=C.deg2rad(he),ee=le*(H.linewidth||1)/2,ue=le*H.ticklen,se=z.w,ve=z.h,be=J==="b"?"M0,"+ee+"l"+Math.sin(te)*ue+","+Math.cos(te)*ue:"M"+ee+",0l"+Math.cos(te)*ue+","+-Math.sin(te)*ue,Ee={a:"M0,0l"+ve+",-"+se/2,b:"M0,0l-"+se/2+",-"+ve,c:"M0,0l-"+ve+","+se/2}[J];l.drawTicks(G,H,{vals:H.ticks==="inside"?K:$,layer:oe,path:be,transFn:re,crisp:!1}),l.drawGrid(G,H,{vals:K,layer:z.layers[J+"grid"],path:Ee,transFn:re,crisp:!1}),l.drawLabels(G,H,{vals:$,layer:oe,transFn:re,labelFns:l.makeLabelFns(H,0,he)})};function i(H){return H.ticks+String(H.ticklen)+String(H.showticklabels)}var D=R.MINZOOM/2+.87,b="m-0.87,.5h"+D+"v3h-"+(D+5.2)+"l"+(D/2+2.6)+",-"+(D*.87+4.5)+"l2.6,1.5l-"+D/2+","+D*.87+"Z",O="m0.87,.5h-"+D+"v3h"+(D+5.2)+"l-"+(D/2+2.6)+",-"+(D*.87+4.5)+"l-2.6,1.5l"+D/2+","+D*.87+"Z",F="m0,1l"+D/2+","+D*.87+"l2.6,-1.5l-"+(D/2+2.6)+",-"+(D*.87+4.5)+"l-"+(D/2+2.6)+","+(D*.87+4.5)+"l2.6,1.5l"+D/2+",-"+D*.87+"Z",V="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",_=!0;E.clearOutline=function(){S(this.dragOptions),M(this.dragOptions.gd)},E.initInteractions=function(){var H=this,z=H.layers.plotbg.select("path").node(),G=H.graphDiv,Y=G._fullLayout._zoomlayer,J,ae;this.dragOptions={element:z,gd:G,plotinfo:{id:H.id,domain:G._fullLayout[H.id].domain,xaxis:H.xaxis,yaxis:H.yaxis},subplot:H.id,prepFn:function(Ve,Ne,ke){H.dragOptions.xaxes=[H.xaxis],H.dragOptions.yaxes=[H.yaxis],J=G._fullLayout._invScaleX,ae=G._fullLayout._invScaleY;var We=H.dragOptions.dragmode=G._fullLayout.dragmode;v(We)?H.dragOptions.minDrag=1:H.dragOptions.minDrag=void 0,We==="zoom"?(H.dragOptions.moveFn=Oe,H.dragOptions.clickFn=se,H.dragOptions.doneFn=Ue,ve(Ve,Ne,ke)):We==="pan"?(H.dragOptions.moveFn=we,H.dragOptions.clickFn=se,H.dragOptions.doneFn=Ce,Le(),H.clearOutline(G)):(A(We)||v(We))&&u(Ve,Ne,ke,H.dragOptions,We)}};var oe,he,q,Z,$,K,re,le,te,ee;function ue(Ve){var Ne={};return Ne[H.id+".aaxis.min"]=Ve.a,Ne[H.id+".baxis.min"]=Ve.b,Ne[H.id+".caxis.min"]=Ve.c,Ne}function se(Ve,Ne){var ke=G._fullLayout.clickmode;U(G),Ve===2&&(G.emit("plotly_doubleclick",null),a.call("_guiRelayout",G,ue({a:0,b:0,c:0}))),ke.indexOf("select")>-1&&Ve===1&&y(Ne,G,[H.xaxis],[H.yaxis],H.id,H.dragOptions),ke.indexOf("event")>-1&&f.click(G,Ne,H.id)}function ve(Ve,Ne,ke){var We=z.getBoundingClientRect();oe=Ne-We.left,he=ke-We.top,G._fullLayout._calcInverseTransform(G);var rt=G._fullLayout._invTransform,et=C.apply3DTransform(rt)(oe,he);oe=et[0],he=et[1],q={a:H.aaxis.range[0],b:H.baxis.range[1],c:H.caxis.range[1]},$=q,Z=H.aaxis.range[1]-q.a,K=L(H.graphDiv._fullLayout[H.id].bgcolor).getLuminance(),re="M0,"+H.h+"L"+H.w/2+", 0L"+H.w+","+H.h+"Z",le=!1,te=Y.append("path").attr("class","zoombox").attr("transform",w(H.x0,H.y0)).style({fill:K>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",re),ee=Y.append("path").attr("class","zoombox-corners").attr("transform",w(H.x0,H.y0)).style({fill:g.background,stroke:g.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),H.clearOutline(G)}function be(Ve,Ne){return 1-Ne/H.h}function Ee(Ve,Ne){return 1-(Ve+(H.h-Ne)/Math.sqrt(3))/H.w}function Ae(Ve,Ne){return(Ve-(H.h-Ne)/Math.sqrt(3))/H.w}function Oe(Ve,Ne){var ke=oe+Ve*J,We=he+Ne*ae,rt=Math.max(0,Math.min(1,be(oe,he),be(ke,We))),et=Math.max(0,Math.min(1,Ee(oe,he),Ee(ke,We))),tt=Math.max(0,Math.min(1,Ae(oe,he),Ae(ke,We))),at=(rt/2+tt)*H.w,ct=(1-rt/2-et)*H.w,dt=(at+ct)/2,gt=ct-at,Et=(1-rt)*H.h,Ct=Et-gt/T;gt<R.MINZOOM?($=q,te.attr("d",re),ee.attr("d","M0,0Z")):($={a:q.a+rt*Z,b:q.b+et*Z,c:q.c+tt*Z},te.attr("d",re+"M"+at+","+Et+"H"+ct+"L"+dt+","+Ct+"L"+at+","+Et+"Z"),ee.attr("d","M"+oe+","+he+V+"M"+at+","+Et+b+"M"+ct+","+Et+O+"M"+dt+","+Ct+F)),le||(te.transition().style("fill",K>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ee.transition().style("opacity",1).duration(200),le=!0),G.emit("plotly_relayouting",ue($))}function Ue(){U(G),$!==q&&(a.call("_guiRelayout",G,ue($)),_&&G.data&&G._context.showTips&&(C.notifier(h(G,"Double-click to zoom back out"),"long"),_=!1))}function Le(){q={a:H.aaxis.range[0],b:H.baxis.range[1],c:H.caxis.range[1]},$=q}function we(Ve,Ne){var ke=Ve/H.xaxis._m,We=Ne/H.yaxis._m;$={a:q.a-We,b:q.b+(ke+We)/2,c:q.c-(ke-We)/2};var rt=[$.a,$.b,$.c].sort(C.sorterAsc),et={a:rt.indexOf($.a),b:rt.indexOf($.b),c:rt.indexOf($.c)};rt[0]<0&&(rt[1]+rt[0]/2<0?(rt[2]+=rt[0]+rt[1],rt[0]=rt[1]=0):(rt[2]+=rt[0]/2,rt[1]+=rt[0]/2,rt[0]=0),$={a:rt[et.a],b:rt[et.b],c:rt[et.c]},Ne=(q.a-$.a)*H.yaxis._m,Ve=(q.c-$.c-q.b+$.b)*H.xaxis._m);var tt=w(H.x0+Ve,H.y0+Ne);H.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",tt);var at=w(-Ve,-Ne);H.clipDefRelative.select("path").attr("transform",at),H.aaxis.range=[$.a,H.sum-$.b-$.c],H.baxis.range=[H.sum-$.a-$.c,$.b],H.caxis.range=[H.sum-$.a-$.b,$.c],H.drawAxes(!1),H._hasClipOnAxisFalse&&H.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,H),G.emit("plotly_relayouting",ue($))}function Ce(){a.call("_guiRelayout",G,ue($))}z.onmousemove=function(Ve){f.hover(G,Ve,H.id),G._fullLayout._lasthover=z,G._fullLayout._hoversubplot=H.id},z.onmouseout=function(Ve){G._dragging||c.unhover(G,Ve)},c.init(this.dragOptions)};function U(H){p.select(H).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(B,N,e){var p=e(47769),L=e(64213),a=e(75138),C=e(41965),w=e(24401).addStyleRule,h=e(1426),g=e(9012),t=e(10820),r=h.extendFlat,s=h.extendDeepAll;N.modules={},N.allCategories={},N.allTypes=[],N.subplotsRegistry={},N.transformsRegistry={},N.componentsRegistry={},N.layoutArrayContainers=[],N.layoutArrayRegexes=[],N.traceLayoutAttributes={},N.localeRegistry={},N.apiMethodRegistry={},N.collectableSubplotTypes=null,N.register=function(S){if(N.collectableSubplotTypes=null,S)S&&!Array.isArray(S)&&(S=[S]);else throw new Error("No argument passed to Plotly.register.");for(var R=0;R<S.length;R++){var x=S[R];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":n(x);break;case"transform":f(x);break;case"component":c(x);break;case"locale":m(x);break;case"apiMethod":var E=x.name;N.apiMethodRegistry[E]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},N.getModule=function(M){var S=N.modules[y(M)];return S?S._module:!1},N.traceIs=function(M,S){if(M=y(M),M==="various")return!1;var R=N.modules[M];return R||(M&&p.log("Unrecognized trace type "+M+"."),R=N.modules[g.type.dflt]),!!R.categories[S]},N.getTransformIndices=function(M,S){for(var R=[],x=M.transforms||[],E=0;E<x.length;E++)x[E].type===S&&R.push(E);return R},N.hasTransform=function(M,S){for(var R=M.transforms||[],x=0;x<R.length;x++)if(R[x].type===S)return!0;return!1},N.getComponentMethod=function(M,S){var R=N.componentsRegistry[M];return R&&R[S]||L},N.call=function(){var M=arguments[0],S=[].slice.call(arguments,1);return N.apiMethodRegistry[M].apply(null,S)};function n(M){var S=M.name,R=M.categories,x=M.meta;if(N.modules[S]){p.log("Type "+S+" already registered");return}N.subplotsRegistry[M.basePlotModule.name]||l(M.basePlotModule);for(var E={},T=0;T<R.length;T++)E[R[T]]=!0,N.allCategories[R[T]]=!0;N.modules[S]={_module:M,categories:E},x&&Object.keys(x).length&&(N.modules[S].meta=x),N.allTypes.push(S);for(var i in N.componentsRegistry)A(i,S);M.layoutAttributes&&r(N.traceLayoutAttributes,M.layoutAttributes);var D=M.basePlotModule,b=D.name;if(b==="mapbox"){var O=D.constants.styleRules;for(var F in O)w(".js-plotly-plot .plotly .mapboxgl-"+F,O[F])}(b==="geo"||b==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function l(M){var S=M.name;if(N.subplotsRegistry[S]){p.log("Plot type "+S+" already registered.");return}v(M),N.subplotsRegistry[S]=M;for(var R in N.componentsRegistry)u(R,M.name)}function c(M){if(typeof M.name!="string")throw new Error("Component module *name* must be a string.");var S=M.name;N.componentsRegistry[S]=M,M.layoutAttributes&&(M.layoutAttributes._isLinkedToArray&&a(N.layoutArrayContainers,S),v(M));for(var R in N.modules)A(S,R);for(var x in N.subplotsRegistry)u(S,x);for(var E in N.transformsRegistry)d(S,E);M.schema&&M.schema.layout&&s(t,M.schema.layout)}function f(M){if(typeof M.name!="string")throw new Error("Transform module *name* must be a string.");var S="Transform module "+M.name,R=typeof M.transform=="function",x=typeof M.calcTransform=="function";if(!R&&!x)throw new Error(S+" is missing a *transform* or *calcTransform* method.");R&&x&&p.log([S+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(M.attributes)||p.log(S+" registered without an *attributes* object."),typeof M.supplyDefaults!="function"&&p.log(S+" registered without a *supplyDefaults* method."),N.transformsRegistry[M.name]=M;for(var E in N.componentsRegistry)d(E,M.name)}function m(M){var S=M.name,R=S.split("-")[0],x=M.dictionary,E=M.format,T=x&&Object.keys(x).length,i=E&&Object.keys(E).length,D=N.localeRegistry,b=D[S];if(b||(D[S]=b={}),R!==S){var O=D[R];O||(D[R]=O={}),T&&O.dictionary===b.dictionary&&(O.dictionary=x),i&&O.format===b.format&&(O.format=E)}T&&(b.dictionary=x),i&&(b.format=E)}function v(M){if(M.layoutAttributes){var S=M.layoutAttributes._arrayAttrRegexps;if(S)for(var R=0;R<S.length;R++)a(N.layoutArrayRegexes,S[R])}}function A(M,S){var R=N.componentsRegistry[M].schema;if(!(!R||!R.traces)){var x=R.traces[S];x&&s(N.modules[S]._module.attributes,x)}}function d(M,S){var R=N.componentsRegistry[M].schema;if(!(!R||!R.transforms)){var x=R.transforms[S];x&&s(N.transformsRegistry[S].attributes,x)}}function u(M,S){var R=N.componentsRegistry[M].schema;if(!(!R||!R.subplots)){var x=N.subplotsRegistry[S],E=x.layoutAttributes,T=x.attr==="subplot"?x.name:x.attr;Array.isArray(T)&&(T=T[0]);var i=R.subplots[T];E&&i&&s(E,i)}}function y(M){return typeof M=="object"&&(M=M.type),M}},61914:function(B,N,e){var p=e(73972),L=e(71828),a=L.extendFlat,C=L.extendDeep;function w(g){var t;switch(g){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function h(g){var t=["xaxis","yaxis","zaxis"];return t.indexOf(g.slice(0,5))>-1}B.exports=function(t,r){var s,n=t.data,l=t.layout,c=C([],n),f=C({},l,w(r.tileClass)),m=t._context||{};if(r.width&&(f.width=r.width),r.height&&(f.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){f.annotations=[];var v=Object.keys(f);for(s=0;s<v.length;s++)h(v[s])&&(f[v[s]].title={text:""});for(s=0;s<c.length;s++){var A=c[s];A.showscale=!1,A.marker&&(A.marker.showscale=!1),p.traceIs(A,"pie-like")&&(A.textposition="none")}}if(Array.isArray(r.annotations))for(s=0;s<r.annotations.length;s++)f.annotations.push(r.annotations[s]);var d=Object.keys(f).filter(function(R){return R.match(/^scene\d*$/)});if(d.length){var u={};for(r.tileClass==="thumbnail"&&(u={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),s=0;s<d.length;s++){var y=f[d[s]];y.xaxis||(y.xaxis={}),y.yaxis||(y.yaxis={}),y.zaxis||(y.zaxis={}),a(y.xaxis,u),a(y.yaxis,u),a(y.zaxis,u),y._scene=null}}var M=document.createElement("div");r.tileClass&&(M.className=r.tileClass);var S={gd:M,td:M,layout:f,data:c,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return r.setBackground!=="transparent"&&(S.config.setBackground=r.setBackground||"opaque"),S.gd.defaultLayout=w(r.tileClass),S}},7239:function(B,N,e){var p=e(71828),L=e(403),a=e(22435),C=e(25095);function w(h,g){var t;return p.isPlainObject(h)||(t=p.getGraphDiv(h)),g=g||{},g.format=g.format||"png",g.width=g.width||null,g.height=g.height||null,g.imageDataOnly=!0,new Promise(function(r,s){t&&t._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),p.isIE()&&g.format!=="svg"&&s(new Error(C.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var n=L(h,g),l=g.filename||h.fn||"newplot";l+="."+g.format.replace("-","."),n.then(function(c){return t&&(t._snapshotInProgress=!1),a(c,l,g.format)}).then(function(c){r(c)}).catch(function(c){t&&(t._snapshotInProgress=!1),s(c)})})}B.exports=w},22435:function(B,N,e){var p=e(71828),L=e(25095);function a(C,w,h){var g=document.createElement("a"),t="download"in g,r=new Promise(function(s,n){var l,c;if(p.isIE())return l=L.createBlob(C,"svg"),window.navigator.msSaveBlob(l,w),l=null,s(w);if(t)return l=L.createBlob(C,h),c=L.createObjectURL(l),g.href=c,g.download=w,document.body.appendChild(g),g.click(),document.body.removeChild(g),L.revokeObjectURL(c),l=null,s(w);if(p.isSafari()){var f=h==="svg"?",":";base64,";return L.octetStream(f+encodeURIComponent(C)),s(w)}n(new Error("download error"))});return r}B.exports=a},25095:function(B,N,e){var p=e(73972);N.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},N.getRedrawFunc=function(C){return function(){p.getComponentMethod("colorbar","draw")(C)}},N.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},N.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var L=window.URL||window.webkitURL;N.createObjectURL=function(C){return L.createObjectURL(C)},N.revokeObjectURL=function(C){return L.revokeObjectURL(C)},N.createBlob=function(C,w){if(w==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(w==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var h=a(window.atob(C));return new window.Blob([h],{type:"image/"+w})},N.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function a(C){for(var w=C.length,h=new ArrayBuffer(w),g=new Uint8Array(h),t=0;t<w;t++)g[t]=C.charCodeAt(t);return h}N.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,N.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(B,N,e){var p=e(25095),L={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};B.exports=L},70942:function(B,N,e){var p=e(71828),L=e(15398).EventEmitter,a=e(25095);function C(w){var h=w.emitter||new L,g=new Promise(function(t,r){var s=window.Image,n=w.svg,l=w.format||"png";if(p.isIE()&&l!=="svg"){var c=new Error(a.MSG_IE_BAD_FORMAT);return r(c),w.promise?g:h.emit("error",c)}var f=w.canvas,m=w.scale||1,v=w.width||300,A=w.height||150,d=m*v,u=m*A,y=f.getContext("2d",{willReadFrequently:!0}),M=new s,S,R;l==="svg"||p.isSafari()?R=a.encodeSVG(n):(S=a.createBlob(n,"svg"),R=a.createObjectURL(S)),f.width=d,f.height=u,M.onload=function(){var x;switch(S=null,a.revokeObjectURL(R),l!=="svg"&&y.drawImage(M,0,0,d,u),l){case"jpeg":x=f.toDataURL("image/jpeg");break;case"png":x=f.toDataURL("image/png");break;case"webp":x=f.toDataURL("image/webp");break;case"svg":x=R;break;default:var E="Image format is not jpeg, png, svg or webp.";if(r(new Error(E)),!w.promise)return h.emit("error",E)}t(x),w.promise||h.emit("success",x)},M.onerror=function(x){if(S=null,a.revokeObjectURL(R),r(x),!w.promise)return h.emit("error",x)},M.src=R});return w.promise?g:h}B.exports=C},56395:function(B,N,e){var p=e(15398).EventEmitter,L=e(73972),a=e(71828),C=e(25095),w=e(61914),h=e(5900),g=e(70942);function t(r,s){var n=new p,l=w(r,{format:"png"}),c=l.gd;c.style.position="absolute",c.style.left="-5000px",document.body.appendChild(c);function f(){var v=C.getDelay(c._fullLayout);setTimeout(function(){var A=h(c),d=document.createElement("canvas");d.id=a.randstr(),n=g({format:s.format,width:c._fullLayout.width,height:c._fullLayout.height,canvas:d,emitter:n,svg:A}),n.clean=function(){c&&document.body.removeChild(c)}},v)}var m=C.getRedrawFunc(c);return L.call("_doPlot",c,l.data,l.layout,l.config).then(m).then(f).catch(function(v){n.emit("error",v)}),n}B.exports=t},5900:function(B,N,e){var p=e(39898),L=e(71828),a=e(91424),C=e(7901),w=e(77922),h=/"/g,g="TOBESTRIPPED",t=new RegExp('("'+g+")|("+g+'")',"g");function r(n){var l=p.select("body").append("div").style({display:"none"}).html(""),c=n.replace(/(&[^;]*;)/gi,function(f){return f==="&lt;"?"&#60;":f==="&rt;"?"&#62;":f.indexOf("<")!==-1||f.indexOf(">")!==-1?"":l.html(f).text()});return l.remove(),c}function s(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}B.exports=function(l,c,f){var m=l._fullLayout,v=m._paper,A=m._toppaper,d=m.width,u=m.height,y;v.insert("rect",":first-child").call(a.setRect,0,0,d,u).call(C.fill,m.paper_bgcolor);var M=m._basePlotModules||[];for(y=0;y<M.length;y++){var S=M[y];S.toSVG&&S.toSVG(l)}if(A){var R=A.node().childNodes,x=Array.prototype.slice.call(R);for(y=0;y<x.length;y++){var E=x[y];E.childNodes.length&&v.node().appendChild(E)}}m._draggers&&m._draggers.remove(),v.node().style.background="",v.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var i=p.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){i.remove();return}else i.style({visibility:null,display:null});var D=this.style.fontFamily;D&&D.indexOf('"')!==-1&&i.style("font-family",D.replace(h,g))}),v.selectAll(".gradient_filled,.pattern_filled").each(function(){var i=p.select(this),D=this.style.fill;D&&D.indexOf("url(")!==-1&&i.style("fill",D.replace(h,g));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&i.style("stroke",b.replace(h,g))}),(c==="pdf"||c==="eps")&&v.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),v.node().setAttributeNS(w.xmlns,"xmlns",w.svg),v.node().setAttributeNS(w.xmlns,"xmlns:xlink",w.xlink),c==="svg"&&f&&(v.attr("width",f*d),v.attr("height",f*u),v.attr("viewBox","0 0 "+d+" "+u));var T=new window.XMLSerializer().serializeToString(v.node());return T=r(T),T=s(T),T=T.replace(t,"'"),L.isIE()&&(T=T.replace(/"/gi,"'"),T=T.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),T=T.replace(/(\\')/gi,'"')),T}},75341:function(B,N,e){var p=e(71828);B.exports=function(a,C){for(var w=0;w<a.length;w++)a[w].i=w;p.mergeArray(C.text,a,"tx"),p.mergeArray(C.hovertext,a,"htx");var h=C.marker;if(h){p.mergeArray(h.opacity,a,"mo",!0),p.mergeArray(h.color,a,"mc");var g=h.line;g&&(p.mergeArray(g.color,a,"mlc"),p.mergeArrayCastPositive(g.width,a,"mlw"))}}},1486:function(B,N,e){var p=e(82196),L=e(12663).axisHoverFormat,a=e(5386).fF,C=e(5386).si,w=e(50693),h=e(41940),g=e(97313),t=e(79952).u,r=e(1426).extendFlat,s=h({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=p.marker,l=n.line,c=r({},l.width,{dflt:0}),f=r({width:c,editType:"calc"},w("marker.line")),m=r({line:f,editType:"calc"},w("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});B.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),text:p.text,texttemplate:C({editType:"plot"},{keys:g.eventDataKeys}),hovertext:p.hovertext,hovertemplate:a({},{keys:g.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},s,{}),insidetextfont:r({},s,{}),outsidetextfont:r({},s,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(B,N,e){var p=e(89298),L=e(42973),a=e(52075).hasColorscale,C=e(78803),w=e(75341),h=e(66279);B.exports=function(t,r){var s=p.getFromId(t,r.xaxis||"x"),n=p.getFromId(t,r.yaxis||"y"),l,c,f,m,v,A,d={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(l=s.makeCalcdata(r,"x",d),f=n.makeCalcdata(r,"y"),m=L(r,n,"y",f),v=!!r.yperiodalignment,A="y"):(l=n.makeCalcdata(r,"y",d),f=s.makeCalcdata(r,"x"),m=L(r,s,"x",f),v=!!r.xperiodalignment,A="x"),c=m.vals;for(var u=Math.min(c.length,l.length),y=new Array(u),M=0;M<u;M++)y[M]={p:c[M],s:l[M]},v&&(y[M].orig_p=f[M],y[M][A+"End"]=m.ends[M],y[M][A+"Start"]=m.starts[M]),r.ids&&(y[M].id=String(r.ids[M]));return a(r,"marker")&&C(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),a(r,"marker.line")&&C(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),w(y,r),h(y,r),y}},97313:function(B){B.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(B,N,e){var p=e(92770),L=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,C=e(73972),w=e(89298),h=e(99082).getAxisGroup,g=e(61546);function t(T,i){for(var D=i.xaxis,b=i.yaxis,O=T._fullLayout,F=T._fullData,V=T.calcdata,_=[],U=[],H=0;H<F.length;H++){var z=F[H];if(z.visible===!0&&C.traceIs(z,"bar")&&z.xaxis===D._id&&z.yaxis===b._id&&(z.orientation==="h"?_.push(V[H]):U.push(V[H]),z._computePh))for(var G=T.calcdata[H],Y=0;Y<G.length;Y++)typeof G[Y].ph0=="function"&&(G[Y].ph0=G[Y].ph0()),typeof G[Y].ph1=="function"&&(G[Y].ph1=G[Y].ph1())}var J={xCat:D.type==="category"||D.type==="multicategory",yCat:b.type==="category"||b.type==="multicategory",mode:O.barmode,norm:O.barnorm,gap:O.bargap,groupgap:O.bargroupgap};r(T,D,b,U,J),r(T,b,D,_,J)}function r(T,i,D,b,O){if(b.length){var F,V,_,U,H;switch(s(D,b),O.mode){case"overlay":n(i,D,b,O);break;case"group":for(F=[],V=[],_=0;_<b.length;_++)U=b[_],H=U[0].trace,H.offset===void 0?V.push(U):F.push(U);V.length&&l(T,i,D,V,O),F.length&&n(i,D,F,O);break;case"stack":case"relative":for(F=[],V=[],_=0;_<b.length;_++)U=b[_],H=U[0].trace,H.base===void 0?V.push(U):F.push(U);V.length&&c(T,i,D,V,O),F.length&&n(i,D,F,O);break}x(b,i)}}function s(T,i){var D,b;for(D=0;D<i.length;D++){var O=i[D],F=O[0].trace,V=F.type==="funnel"?F._base:F.base,_,U=F.orientation==="h"?F.xcalendar:F.ycalendar,H=T.type==="category"||T.type==="multicategory"?function(){return null}:T.d2c;if(L(V)){for(b=0;b<Math.min(V.length,O.length);b++)_=H(V[b],0,U),p(_)?(O[b].b=+_,O[b].hasB=1):O[b].b=0;for(;b<O.length;b++)O[b].b=0}else{_=H(V,0,U);var z=p(_);for(_=z?_:0,b=0;b<O.length;b++)O[b].b=_,z&&(O[b].hasB=1)}}}function n(T,i,D,b){for(var O=0;O<D.length;O++){var F=D[O],V=new g([F],{posAxis:T,sepNegVal:!1,overlapNoMerge:!b.norm});f(T,V,b),b.norm?(M(V),R(i,V,b)):u(i,V)}}function l(T,i,D,b,O){var F=new g(b,{posAxis:i,sepNegVal:!1,overlapNoMerge:!O.norm});m(T,i,F,O),S(F,i),O.norm?(M(F),R(D,F,O)):u(D,F)}function c(T,i,D,b,O){var F=new g(b,{posAxis:i,sepNegVal:O.mode==="relative",overlapNoMerge:!(O.norm||O.mode==="stack"||O.mode==="relative")});f(i,F,O),y(D,F,O);for(var V=0;V<b.length;V++)for(var _=b[V],U=0;U<_.length;U++){var H=_[U];if(H.s!==a){var z=H.b+H.s===F.get(H.p,H.s);z&&(H._outmost=!0)}}O.norm&&R(D,F,O)}function f(T,i,D){for(var b=i.minDiff,O=i.traces,F=b*(1-D.gap),V=F,_=V*(1-(D.groupgap||0)),U=-_/2,H=0;H<O.length;H++){var z=O[H],G=z[0].t;G.barwidth=_,G.poffset=U,G.bargroupwidth=F,G.bardelta=b}i.binWidth=O[0][0].t.barwidth/100,v(i),A(T,i),d(T,i)}function m(T,i,D,b){for(var O=T._fullLayout,F=D.positions,V=D.distinctPositions,_=D.minDiff,U=D.traces,H=U.length,z=F.length!==V.length,G=_*(1-b.gap),Y=h(O,i._id)+U[0][0].trace.orientation,J=O._alignmentOpts[Y]||{},ae=0;ae<H;ae++){var oe=U[ae],he=oe[0].trace,q=J[he.alignmentgroup]||{},Z=Object.keys(q.offsetGroups||{}).length,$;Z?$=G/Z:$=z?G/H:G;var K=$*(1-(b.groupgap||0)),re;Z?re=((2*he._offsetIndex+1-Z)*$-K)/2:re=z?((2*ae+1-H)*$-K)/2:-K/2;var le=oe[0].t;le.barwidth=K,le.poffset=re,le.bargroupwidth=G,le.bardelta=_}D.binWidth=U[0][0].t.barwidth/100,v(D),A(i,D),d(i,D,z)}function v(T){var i=T.traces,D,b;for(D=0;D<i.length;D++){var O=i[D],F=O[0],V=F.trace,_=F.t,U=V._offset||V.offset,H=_.poffset,z;if(L(U)){for(z=Array.prototype.slice.call(U,0,O.length),b=0;b<z.length;b++)p(z[b])||(z[b]=H);for(b=z.length;b<O.length;b++)z.push(H);_.poffset=z}else U!==void 0&&(_.poffset=U);var G=V._width||V.width,Y=_.barwidth;if(L(G)){var J=Array.prototype.slice.call(G,0,O.length);for(b=0;b<J.length;b++)p(J[b])||(J[b]=Y);for(b=J.length;b<O.length;b++)J.push(Y);if(_.barwidth=J,U===void 0){for(z=[],b=0;b<O.length;b++)z.push(H+(Y-J[b])/2);_.poffset=z}}else G!==void 0&&(_.barwidth=G,U===void 0&&(_.poffset=H+(Y-G)/2))}}function A(T,i){for(var D=i.traces,b=E(T),O=0;O<D.length;O++)for(var F=D[O],V=F[0].t,_=V.poffset,U=Array.isArray(_),H=V.barwidth,z=Array.isArray(H),G=0;G<F.length;G++){var Y=F[G],J=Y.w=z?H[G]:H;Y.p===void 0&&(Y.p=Y[b],Y["orig_"+b]=Y[b]);var ae=(U?_[G]:_)+J/2;Y[b]=Y.p+ae}}function d(T,i,D){var b=i.traces,O=i.minDiff,F=O/2;w.minDtick(T,i.minDiff,i.distinctPositions[0],D);for(var V=0;V<b.length;V++){var _=b[V],U=_[0],H=U.trace,z=[],G,Y,J,ae;for(ae=0;ae<_.length;ae++)G=_[ae],Y=G.p-F,J=G.p+F,z.push(Y,J);if(H.width||H.offset){var oe=U.t,he=oe.poffset,q=oe.barwidth,Z=Array.isArray(he),$=Array.isArray(q);for(ae=0;ae<_.length;ae++){G=_[ae];var K=Z?he[ae]:he,re=$?q[ae]:q;Y=G.p+K,J=Y+re,z.push(Y,J)}}H._extremes[T._id]=w.findExtremes(T,z,{padded:!1})}}function u(T,i){for(var D=i.traces,b=E(T),O=0;O<D.length;O++){for(var F=D[O],V=F[0].trace,_=V.type==="scatter",U=V.orientation==="v",H=[],z=!1,G=0;G<F.length;G++){var Y=F[G],J=_?0:Y.b,ae=_?U?Y.y:Y.x:J+Y.s;Y[b]=ae,H.push(ae),Y.hasB&&H.push(J),(!Y.hasB||!Y.b)&&(z=!0)}V._extremes[T._id]=w.findExtremes(T,H,{tozero:z,padded:!0})}}function y(T,i,D){var b=E(T),O=i.traces,F,V,_,U,H,z;for(U=0;U<O.length;U++)if(F=O[U],V=F[0].trace,V.type==="funnel")for(H=0;H<F.length;H++)z=F[H],z.s!==a&&i.put(z.p,-.5*z.s);for(U=0;U<O.length;U++){F=O[U],V=F[0].trace,_=V.type==="funnel";var G=[];for(H=0;H<F.length;H++)if(z=F[H],z.s!==a){var Y;_?Y=z.s:Y=z.s+z.b;var J=i.put(z.p,Y),ae=J+Y;z.b=J,z[b]=ae,D.norm||(G.push(ae),z.hasB&&G.push(J))}D.norm||(V._extremes[T._id]=w.findExtremes(T,G,{tozero:!0,padded:!0}))}}function M(T){for(var i=T.traces,D=0;D<i.length;D++)for(var b=i[D],O=0;O<b.length;O++){var F=b[O];F.s!==a&&T.put(F.p,F.b+F.s)}}function S(T,i){for(var D=T.traces,b=0;b<D.length;b++){var O=D[b],F=O[0].trace;if(F.base===void 0)for(var V=new g([O],{posAxis:i,sepNegVal:!0,overlapNoMerge:!0}),_=0;_<O.length;_++){var U=O[_];if(U.p!==a){var H=V.put(U.p,U.b+U.s);H&&(U.b=H)}}}}function R(T,i,D){var b=i.traces,O=E(T),F=D.norm==="fraction"?1:100,V=F/1e9,_=T.l2c(T.c2l(0)),U=D.mode==="stack"?F:_;function H(re){return p(T.c2l(re))&&(re<_-V||re>U+V||!p(_))}for(var z=0;z<b.length;z++){for(var G=b[z],Y=G[0].trace,J=[],ae=!1,oe=!1,he=0;he<G.length;he++){var q=G[he];if(q.s!==a){var Z=Math.abs(F/i.get(q.p,q.s));q.b*=Z,q.s*=Z;var $=q.b,K=$+q.s;q[O]=K,J.push(K),oe=oe||H(K),q.hasB&&(J.push($),oe=oe||H($)),(!q.hasB||!q.b)&&(ae=!0)}}Y._extremes[T._id]=w.findExtremes(T,J,{tozero:ae,padded:oe})}}function x(T,i){var D=E(i),b={},O,F,V,_=1/0,U=-1/0;for(O=0;O<T.length;O++)for(V=T[O],F=0;F<V.length;F++){var H=V[F].p;p(H)&&(_=Math.min(_,H),U=Math.max(U,H))}var z=1e4/(U-_),G=b.round=function(Z){return String(Math.round(z*(Z-_)))};for(O=0;O<T.length;O++){V=T[O],V[0].t.extents=b;var Y=V[0].t.poffset,J=Array.isArray(Y);for(F=0;F<V.length;F++){var ae=V[F],oe=ae[D]-ae.w/2;if(p(oe)){var he=ae[D]+ae.w/2,q=G(ae.p);b[q]?b[q]=[Math.min(oe,b[q][0]),Math.max(he,b[q][1])]:b[q]=[oe,he]}ae.p0=ae.p+(J?Y[F]:Y),ae.p1=ae.p0+ae.w,ae.s0=ae.b,ae.s1=ae.s0+ae.s}}}function E(T){return T._id.charAt(0)}B.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(B,N,e){var p=e(71828),L=e(7901),a=e(73972),C=e(67513),w=e(73927),h=e(98340),g=e(26125),t=e(1486),r=p.coerceFont;function s(c,f,m,v){function A(S,R){return p.coerce(c,f,t,S,R)}var d=C(c,f,v,A);if(!d){f.visible=!1;return}w(c,f,v,A),A("xhoverformat"),A("yhoverformat"),A("orientation",f.x&&!f.y?"h":"v"),A("base"),A("offset"),A("width"),A("text"),A("hovertext"),A("hovertemplate");var u=A("textposition");l(c,f,v,A,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h(c,f,A,m,v);var y=(f.marker.line||{}).color,M=a.getComponentMethod("errorbars","supplyDefaults");M(c,f,y||L.defaultLine,{axis:"y"}),M(c,f,y||L.defaultLine,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(f,A)}function n(c,f){var m,v;function A(u){return p.coerce(v._input,v,t,u)}if(f.barmode==="group")for(var d=0;d<c.length;d++)v=c[d],v.type==="bar"&&(m=v._input,g(m,v,f,A))}function l(c,f,m,v,A,d){d=d||{};var u=d.moduleHasSelected!==!1,y=d.moduleHasUnselected!==!1,M=d.moduleHasConstrain!==!1,S=d.moduleHasCliponaxis!==!1,R=d.moduleHasTextangle!==!1,x=d.moduleHasInsideanchor!==!1,E=!!d.hasPathbar,T=Array.isArray(A)||A==="auto",i=T||A==="inside",D=T||A==="outside";if(i||D){var b=r(v,"textfont",m.font),O=p.extendFlat({},b),F=c.textfont&&c.textfont.color,V=!F;if(V&&delete O.color,r(v,"insidetextfont",O),E){var _=p.extendFlat({},b);V&&delete _.color,r(v,"pathbar.textfont",_)}D&&r(v,"outsidetextfont",b),u&&v("selected.textfont.color"),y&&v("unselected.textfont.color"),M&&v("constraintext"),S&&v("cliponaxis"),R&&v("textangle"),v("texttemplate")}i&&x&&v("insidetextanchor")}B.exports={supplyDefaults:s,crossTraceDefaults:n,handleText:l}},58065:function(B){B.exports=function(e,p,L){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),L.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(B,N,e){var p=e(92770),L=e(84267),a=e(71828).isArrayOrTypedArray;N.coerceString=function(C,w,h){if(typeof w=="string"){if(w||!C.noBlank)return w}else if((typeof w=="number"||w===!0)&&!C.strict)return String(w);return h!==void 0?h:C.dflt},N.coerceNumber=function(C,w,h){if(p(w)){w=+w;var g=C.min,t=C.max,r=g!==void 0&&w<g||t!==void 0&&w>t;if(!r)return w}return h!==void 0?h:C.dflt},N.coerceColor=function(C,w,h){return L(w).isValid()?w:h!==void 0?h:C.dflt},N.coerceEnumerated=function(C,w,h){return C.coerceNumber&&(w=+w),C.values.indexOf(w)!==-1?w:h!==void 0?h:C.dflt},N.getValue=function(C,w){var h;return Array.isArray(C)?w<C.length&&(h=C[w]):h=C,h},N.getLineWidth=function(C,w){var h=0<w.mlw?w.mlw:a(C.marker.line.width)?0:C.marker.line.width;return h}},95423:function(B,N,e){var p=e(30211),L=e(73972),a=e(7901),C=e(71828).fillText,w=e(69383).getLineWidth,h=e(89298).hoverLabelText,g=e(50606).BADNUM;function t(n,l,c,f,m){var v=r(n,l,c,f,m);if(v){var A=v.cd,d=A[0].trace,u=A[v.index];return v.color=s(d,u),L.getComponentMethod("errorbars","hoverInfo")(u,d,v),[v]}}function r(n,l,c,f,m){var v=n.cd,A=v[0].trace,d=v[0].t,u=f==="closest",y=A.type==="waterfall",M=n.maxHoverDistance,S=n.maxSpikeDistance,R,x,E,T,i,D,b;A.orientation==="h"?(R=c,x=l,E="y",T="x",i=he,D=J):(R=l,x=c,E="x",T="y",D=he,i=J);var O=A[E+"period"],F=u||O;function V(ve){return U(ve,-1)}function _(ve){return U(ve,1)}function U(ve,be){var Ee=ve.w;return ve[E]+be*Ee/2}function H(ve){return ve[E+"End"]-ve[E+"Start"]}var z=u?V:O?function(ve){return ve.p-H(ve)/2}:function(ve){return Math.min(V(ve),ve.p-d.bardelta/2)},G=u?_:O?function(ve){return ve.p+H(ve)/2}:function(ve){return Math.max(_(ve),ve.p+d.bardelta/2)};function Y(ve,be,Ee){return m.finiteRange&&(Ee=0),p.inbox(ve-R,be-R,Ee+Math.min(1,Math.abs(be-ve)/b)-1)}function J(ve){return Y(z(ve),G(ve),M)}function ae(ve){return Y(V(ve),_(ve),S)}function oe(ve){var be=ve[T];if(y){var Ee=Math.abs(ve.rawS)||0;x>0?be+=Ee:x<0&&(be-=Ee)}return be}function he(ve){var be=x,Ee=ve.b,Ae=oe(ve);return p.inbox(Ee-be,Ae-be,M+(Ae-be)/(Ae-Ee)-1)}function q(ve){var be=x,Ee=ve.b,Ae=oe(ve);return p.inbox(Ee-be,Ae-be,S+(Ae-be)/(Ae-Ee)-1)}var Z=n[E+"a"],$=n[T+"a"];b=Math.abs(Z.r2c(Z.range[1])-Z.r2c(Z.range[0]));function K(ve){return(i(ve)+D(ve))/2}var re=p.getDistanceFunction(f,i,D,K);if(p.getClosest(v,re,n),n.index!==!1&&v[n.index].p!==g){F||(z=function(ve){return Math.min(V(ve),ve.p-d.bargroupwidth/2)},G=function(ve){return Math.max(_(ve),ve.p+d.bargroupwidth/2)});var le=n.index,te=v[le],ee=A.base?te.b+te.s:te.s;n[T+"0"]=n[T+"1"]=$.c2p(te[T],!0),n[T+"LabelVal"]=ee;var ue=d.extents[d.extents.round(te.p)];n[E+"0"]=Z.c2p(u?z(te):ue[0],!0),n[E+"1"]=Z.c2p(u?G(te):ue[1],!0);var se=te.orig_p!==void 0;return n[E+"LabelVal"]=se?te.orig_p:te.p,n.labelLabel=h(Z,n[E+"LabelVal"],A[E+"hoverformat"]),n.valueLabel=h($,n[T+"LabelVal"],A[T+"hoverformat"]),n.baseLabel=h($,te.b,A[T+"hoverformat"]),n.spikeDistance=(q(te)+ae(te))/2,n[E+"Spike"]=Z.c2p(te.p,!0),C(te,A,n),n.hovertemplate=A.hovertemplate,n}}function s(n,l){var c=l.mcc||n.marker.color,f=l.mlcc||n.marker.line.color,m=w(n,l);if(a.opacity(c))return c;if(a.opacity(f)&&m)return f}B.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:s}},60822:function(B,N,e){B.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(B){B.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(B,N,e){var p=e(73972),L=e(89298),a=e(71828),C=e(43641);B.exports=function(w,h,g){function t(d,u){return a.coerce(w,h,C,d,u)}for(var r=!1,s=!1,n=!1,l={},c=t("barmode"),f=0;f<g.length;f++){var m=g[f];if(p.traceIs(m,"bar")&&m.visible)r=!0;else continue;if(c==="group"){var v=m.xaxis+m.yaxis;l[v]&&(n=!0),l[v]=!0}if(m.visible&&m.type==="histogram"){var A=L.getFromId({_fullLayout:h},m[m.orientation==="v"?"xaxis":"yaxis"]);A.type!=="category"&&(s=!0)}}if(!r){delete h.barmode;return}c!=="overlay"&&t("barnorm"),t("bargap",s&&!n?0:.2),t("bargroupgap")}},17295:function(B,N,e){var p=e(39898),L=e(92770),a=e(71828),C=e(63893),w=e(7901),h=e(91424),g=e(73972),t=e(89298).tickText,r=e(72597),s=r.recordMinTextSize,n=r.clearMinTextSize,l=e(16688),c=e(69383),f=e(97313),m=e(1486),v=m.text,A=m.textposition,d=e(23469).appendArrayPointValue,u=f.TEXTPAD;function y(z){return z.id}function M(z){if(z.ids)return y}function S(z,G){return z<G?1:-1}function R(z,G,Y,J){var ae=[],oe=[],he=J?G:Y,q=J?Y:G;return ae[0]=he.c2p(z.s0,!0),oe[0]=q.c2p(z.p0,!0),ae[1]=he.c2p(z.s1,!0),oe[1]=q.c2p(z.p1,!0),J?[ae,oe]:[oe,ae]}function x(z,G,Y,J){if(!G.uniformtext.mode&&E(Y)){var ae;return J&&(ae=J()),z.transition().duration(Y.duration).ease(Y.easing).each("end",function(){ae&&ae()}).each("interrupt",function(){ae&&ae()})}else return z}function E(z){return z&&z.duration>0}function T(z,G,Y,J,ae,oe){var he=G.xaxis,q=G.yaxis,Z=z._fullLayout,$=z._context.staticPlot;ae||(ae={mode:Z.barmode,norm:Z.barmode,gap:Z.bargap,groupgap:Z.bargroupgap},n("bar",Z));var K=a.makeTraceGroups(J,Y,"trace bars").each(function(re){var le=p.select(this),te=re[0].trace,ee=te.type==="waterfall",ue=te.type==="funnel",se=te.type==="bar",ve=se||ue,be=0;ee&&te.connector.visible&&te.connector.mode==="between"&&(be=te.connector.line.width/2);var Ee=te.orientation==="h",Ae=E(ae),Oe=a.ensureSingle(le,"g","points"),Ue=M(te),Le=Oe.selectAll("g.point").data(a.identity,Ue);Le.enter().append("g").classed("point",!0),Le.exit().remove(),Le.each(function(Ce,Ve){var Ne=p.select(this),ke=R(Ce,he,q,Ee),We=ke[0][0],rt=ke[0][1],et=ke[1][0],tt=ke[1][1],at=(Ee?rt-We:tt-et)===0;at&&ve&&c.getLineWidth(te,Ce)&&(at=!1),at||(at=!L(We)||!L(rt)||!L(et)||!L(tt)),Ce.isBlank=at,at&&(Ee?rt=We:tt=et),be&&!at&&(Ee?(We-=S(We,rt)*be,rt+=S(We,rt)*be):(et-=S(et,tt)*be,tt+=S(et,tt)*be));var ct,dt;if(te.type==="waterfall"){if(!at){var gt=te[Ce.dir].marker;ct=gt.line.width,dt=gt.color}}else ct=c.getLineWidth(te,Ce),dt=Ce.mc||te.marker.color;function Et(Be){var De=p.round(ct/2%1,2);return ae.gap===0&&ae.groupgap===0?p.round(Math.round(Be)-De,2):Be}function Ct(Be,De,Te){return Te&&Be===De?Be:Math.abs(Be-De)>=2?Et(Be):Be>De?Math.ceil(Be):Math.floor(Be)}if(!z._context.staticPlot){var Vt=w.opacity(dt),Je=Vt<1||ct>.01?Et:Ct;We=Je(We,rt,Ee),rt=Je(rt,We,Ee),et=Je(et,tt,!Ee),tt=Je(tt,et,!Ee)}var _e=x(a.ensureSingle(Ne,"path"),Z,ae,oe);if(_e.style("vector-effect",$?"none":"non-scaling-stroke").attr("d",isNaN((rt-We)*(tt-et))||at&&z._context.staticPlot?"M0,0Z":"M"+We+","+et+"V"+tt+"H"+rt+"V"+et+"Z").call(h.setClipUrl,G.layerClipId,z),!Z.uniformtext.mode&&Ae){var Fe=h.makePointStyleFns(te);h.singlePointStyle(Ce,_e,te,Fe,z)}i(z,G,Ne,re,Ve,We,rt,et,tt,ae,oe),G.layerClipId&&h.hideOutsideRangePoint(Ce,Ne.select("text"),he,q,te.xcalendar,te.ycalendar)});var we=te.cliponaxis===!1;h.setClipUrl(le,we?null:G.layerClipId,z)});g.getComponentMethod("errorbars","plot")(z,K,G,ae)}function i(z,G,Y,J,ae,oe,he,q,Z,$,K){var re=G.xaxis,le=G.yaxis,te=z._fullLayout,ee;function ue(Be,De,Te){var xe=a.ensureSingle(Be,"text").text(De).attr({class:"bartext bartext-"+ee,"text-anchor":"middle","data-notex":1}).call(h.font,Te).call(C.convertToTspans,z);return xe}var se=J[0].trace,ve=se.orientation==="h",be=V(te,J,ae,re,le);ee=_(se,ae);var Ee=$.mode==="stack"||$.mode==="relative",Ae=J[ae],Oe=!Ee||Ae._outmost;if(!be||ee==="none"||(Ae.isBlank||oe===he||q===Z)&&(ee==="auto"||ee==="inside")){Y.select("text").remove();return}var Ue=te.font,Le=l.getBarColor(J[ae],se),we=l.getInsideTextFont(se,ae,Ue,Le),Ce=l.getOutsideTextFont(se,ae,Ue),Ve=Y.datum();ve?re.type==="log"&&Ve.s0<=0&&(re.range[0]<re.range[1]?oe=0:oe=re._length):le.type==="log"&&Ve.s0<=0&&(le.range[0]<le.range[1]?q=le._length:q=0);var Ne=Math.abs(he-oe)-2*u,ke=Math.abs(Z-q)-2*u,We,rt,et,tt,at;if(ee==="outside"&&!Oe&&!Ae.hasB&&(ee="inside"),ee==="auto")if(Oe){ee="inside",at=a.ensureUniformFontSize(z,we),We=ue(Y,be,at),rt=h.bBox(We.node()),et=rt.width,tt=rt.height;var ct=et>0&&tt>0,dt=et<=Ne&&tt<=ke,gt=et<=ke&&tt<=Ne,Et=ve?Ne>=et*(ke/tt):ke>=tt*(Ne/et);ct&&(dt||gt||Et)?ee="inside":(ee="outside",We.remove(),We=null)}else ee="inside";if(!We){at=a.ensureUniformFontSize(z,ee==="outside"?Ce:we),We=ue(Y,be,at);var Ct=We.attr("transform");if(We.attr("transform",""),rt=h.bBox(We.node()),et=rt.width,tt=rt.height,We.attr("transform",Ct),et<=0||tt<=0){We.remove();return}}var Vt=se.textangle,Je,_e;ee==="outside"?(_e=se.constraintext==="both"||se.constraintext==="outside",Je=F(oe,he,q,Z,rt,{isHorizontal:ve,constrained:_e,angle:Vt})):(_e=se.constraintext==="both"||se.constraintext==="inside",Je=O(oe,he,q,Z,rt,{isHorizontal:ve,constrained:_e,angle:Vt,anchor:se.insidetextanchor})),Je.fontSize=at.size,s(se.type==="histogram"?"bar":se.type,Je,te),Ae.transform=Je;var Fe=x(We,te,$,K);a.setTransormAndDisplay(Fe,Je)}function D(z){return z==="auto"?0:z}function b(z,G){var Y=Math.PI/180*G,J=Math.abs(Math.sin(Y)),ae=Math.abs(Math.cos(Y));return{x:z.width*ae+z.height*J,y:z.width*J+z.height*ae}}function O(z,G,Y,J,ae,oe){var he=!!oe.isHorizontal,q=!!oe.constrained,Z=oe.angle||0,$=oe.anchor||"end",K=$==="end",re=$==="start",le=oe.leftToRight||0,te=(le+1)/2,ee=1-te,ue=ae.width,se=ae.height,ve=Math.abs(G-z),be=Math.abs(J-Y),Ee=ve>2*u&&be>2*u?u:0;ve-=2*Ee,be-=2*Ee;var Ae=D(Z);Z==="auto"&&!(ue<=ve&&se<=be)&&(ue>ve||se>be)&&(!(ue>be||se>ve)||ue<se!=ve<be)&&(Ae+=90);var Oe=b(ae,Ae),Ue=1;q&&(Ue=Math.min(1,ve/Oe.x,be/Oe.y));var Le=ae.left*ee+ae.right*te,we=(ae.top+ae.bottom)/2,Ce=(z+u)*ee+(G-u)*te,Ve=(Y+J)/2,Ne=0,ke=0;if(re||K){var We=(he?Oe.x:Oe.y)/2,rt=he?S(z,G):S(Y,J);he?re?(Ce=z+rt*Ee,Ne=-rt*We):(Ce=G-rt*Ee,Ne=rt*We):re?(Ve=Y+rt*Ee,ke=-rt*We):(Ve=J-rt*Ee,ke=rt*We)}return{textX:Le,textY:we,targetX:Ce,targetY:Ve,anchorX:Ne,anchorY:ke,scale:Ue,rotate:Ae}}function F(z,G,Y,J,ae,oe){var he=!!oe.isHorizontal,q=!!oe.constrained,Z=oe.angle||0,$=ae.width,K=ae.height,re=Math.abs(G-z),le=Math.abs(J-Y),te;he?te=le>2*u?u:0:te=re>2*u?u:0;var ee=1;q&&(ee=he?Math.min(1,le/K):Math.min(1,re/$));var ue=D(Z),se=b(ae,ue),ve=(he?se.x:se.y)/2,be=(ae.left+ae.right)/2,Ee=(ae.top+ae.bottom)/2,Ae=(z+G)/2,Oe=(Y+J)/2,Ue=0,Le=0,we=he?S(G,z):S(Y,J);return he?(Ae=G-we*te,Ue=we*ve):(Oe=J+we*te,Le=-we*ve),{textX:be,textY:Ee,targetX:Ae,targetY:Oe,anchorX:Ue,anchorY:Le,scale:ee,rotate:ue}}function V(z,G,Y,J,ae){var oe=G[0].trace,he=oe.texttemplate,q;return he?q=U(z,G,Y,J,ae):oe.textinfo?q=H(G,Y,J,ae):q=c.getValue(oe.text,Y),c.coerceString(v,q)}function _(z,G){var Y=c.getValue(z.textposition,G);return c.coerceEnumerated(A,Y)}function U(z,G,Y,J,ae){var oe=G[0].trace,he=a.castOption(oe,Y,"texttemplate");if(!he)return"";var q=oe.type==="histogram",Z=oe.type==="waterfall",$=oe.type==="funnel",K=oe.orientation==="h",re,le,te,ee;K?(re="y",le=ae,te="x",ee=J):(re="x",le=J,te="y",ee=ae);function ue(Ue){return t(le,le.c2l(Ue),!0).text}function se(Ue){return t(ee,ee.c2l(Ue),!0).text}var ve=G[Y],be={};be.label=ve.p,be.labelLabel=be[re+"Label"]=ue(ve.p);var Ee=a.castOption(oe,ve.i,"text");(Ee===0||Ee)&&(be.text=Ee),be.value=ve.s,be.valueLabel=be[te+"Label"]=se(ve.s);var Ae={};d(Ae,oe,ve.i),(q||Ae.x===void 0)&&(Ae.x=K?be.value:be.label),(q||Ae.y===void 0)&&(Ae.y=K?be.label:be.value),(q||Ae.xLabel===void 0)&&(Ae.xLabel=K?be.valueLabel:be.labelLabel),(q||Ae.yLabel===void 0)&&(Ae.yLabel=K?be.labelLabel:be.valueLabel),Z&&(be.delta=+ve.rawS||ve.s,be.deltaLabel=se(be.delta),be.final=ve.v,be.finalLabel=se(be.final),be.initial=be.final-be.delta,be.initialLabel=se(be.initial)),$&&(be.value=ve.s,be.valueLabel=se(be.value),be.percentInitial=ve.begR,be.percentInitialLabel=a.formatPercent(ve.begR),be.percentPrevious=ve.difR,be.percentPreviousLabel=a.formatPercent(ve.difR),be.percentTotal=ve.sumR,be.percenTotalLabel=a.formatPercent(ve.sumR));var Oe=a.castOption(oe,ve.i,"customdata");return Oe&&(be.customdata=Oe),a.texttemplateString(he,be,z._d3locale,Ae,be,oe._meta||{})}function H(z,G,Y,J){var ae=z[0].trace,oe=ae.orientation==="h",he=ae.type==="waterfall",q=ae.type==="funnel";function Z(Oe){var Ue=oe?J:Y;return t(Ue,Oe,!0).text}function $(Oe){var Ue=oe?Y:J;return t(Ue,+Oe,!0).text}var K=ae.textinfo,re=z[G],le=K.split("+"),te=[],ee,ue=function(Oe){return le.indexOf(Oe)!==-1};if(ue("label")&&te.push(Z(z[G].p)),ue("text")&&(ee=a.castOption(ae,re.i,"text"),(ee===0||ee)&&te.push(ee)),he){var se=+re.rawS||re.s,ve=re.v,be=ve-se;ue("initial")&&te.push($(be)),ue("delta")&&te.push($(se)),ue("final")&&te.push($(ve))}if(q){ue("value")&&te.push($(re.s));var Ee=0;ue("percent initial")&&Ee++,ue("percent previous")&&Ee++,ue("percent total")&&Ee++;var Ae=Ee>1;ue("percent initial")&&(ee=a.formatPercent(re.begR),Ae&&(ee+=" of initial"),te.push(ee)),ue("percent previous")&&(ee=a.formatPercent(re.difR),Ae&&(ee+=" of previous"),te.push(ee)),ue("percent total")&&(ee=a.formatPercent(re.sumR),Ae&&(ee+=" of total"),te.push(ee))}return te.join("<br>")}B.exports={plot:T,toMoveInsideBar:O}},81974:function(B){B.exports=function(p,L){var a=p.cd,C=p.xaxis,w=p.yaxis,h=a[0].trace,g=h.type==="funnel",t=h.orientation==="h",r=[],s;if(L===!1)for(s=0;s<a.length;s++)a[s].selected=0;else for(s=0;s<a.length;s++){var n=a[s],l="ct"in n?n.ct:N(n,C,w,t,g);L.contains(l,!1,s,p)?(r.push({pointNumber:s,x:C.c2d(n.x),y:w.c2d(n.y)}),n.selected=1):n.selected=0}return r};function N(e,p,L,a,C){var w=p.c2p(a?e.s0:e.p0,!0),h=p.c2p(a?e.s1:e.p1,!0),g=L.c2p(a?e.p0:e.s0,!0),t=L.c2p(a?e.p1:e.s1,!0);return C?[(w+h)/2,(g+t)/2]:a?[h,(g+t)/2]:[(w+h)/2,t]}},61546:function(B,N,e){B.exports=L;var p=e(71828).distinctVals;function L(a,C){this.traces=a,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var w=1/0,h=C.posAxis._id.charAt(0),g=[],t=0;t<a.length;t++){for(var r=a[t],s=0;s<r.length;s++){var n=r[s],l=n.p;l===void 0&&(l=n[h]),l!==void 0&&g.push(l)}r[0]&&r[0].width1&&(w=Math.min(r[0].width1,w))}this.positions=g;var c=p(g);this.distinctPositions=c.vals,c.vals.length===1&&w!==1/0?this.minDiff=w:this.minDiff=Math.min(c.minDiff,w);var f=(C.posAxis||{}).type;(f==="category"||f==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}L.prototype.put=function(C,w){var h=this.getLabel(C,w),g=this.bins[h]||0;return this.bins[h]=g+w,g},L.prototype.get=function(C,w){var h=this.getLabel(C,w);return this.bins[h]||0},L.prototype.getLabel=function(C,w){var h=w<0&&this.sepNegVal?"v":"^",g=this.overlapNoMerge?C:Math.round(C/this.binWidth);return h+g}},16688:function(B,N,e){var p=e(39898),L=e(7901),a=e(91424),C=e(71828),w=e(73972),h=e(72597).resizeText,g=e(1486),t=g.textfont,r=g.insidetextfont,s=g.outsidetextfont,n=e(69383);function l(x){var E=p.select(x).selectAll("g.barlayer").selectAll("g.trace");h(x,E,"bar");var T=E.size(),i=x._fullLayout;E.style("opacity",function(D){return D[0].trace.opacity}).each(function(D){(i.barmode==="stack"&&T>1||i.bargap===0&&i.bargroupgap===0&&!D[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(D){var b=p.select(this),O=D[0].trace;c(b,O,x)}),w.getComponentMethod("errorbars","style")(E)}function c(x,E,T){a.pointStyle(x.selectAll("path"),E,T),f(x,E,T)}function f(x,E,T){x.selectAll("text").each(function(i){var D=p.select(this),b=C.ensureUniformFontSize(T,d(D,i,E,T));a.font(D,b)})}function m(x,E,T){var i=E[0].trace;i.selectedpoints?v(T,i,x):(c(T,i,x),w.getComponentMethod("errorbars","style")(T))}function v(x,E,T){a.selectedPointStyle(x.selectAll("path"),E),A(x.selectAll("text"),E,T)}function A(x,E,T){x.each(function(i){var D=p.select(this),b;if(i.selected){b=C.ensureUniformFontSize(T,d(D,i,E,T));var O=E.selected.textfont&&E.selected.textfont.color;O&&(b.color=O),a.font(D,b)}else a.selectedTextStyle(D,E)})}function d(x,E,T,i){var D=i._fullLayout.font,b=T.textfont;if(x.classed("bartext-inside")){var O=R(E,T);b=y(T,E.i,D,O)}else x.classed("bartext-outside")&&(b=M(T,E.i,D));return b}function u(x,E,T){return S(t,x.textfont,E,T)}function y(x,E,T,i){var D=u(x,E,T),b=x._input.textfont===void 0||x._input.textfont.color===void 0||Array.isArray(x.textfont.color)&&x.textfont.color[E]===void 0;return b&&(D={color:L.contrast(i),family:D.family,size:D.size}),S(r,x.insidetextfont,E,D)}function M(x,E,T){var i=u(x,E,T);return S(s,x.outsidetextfont,E,i)}function S(x,E,T,i){E=E||{};var D=n.getValue(E.family,T),b=n.getValue(E.size,T),O=n.getValue(E.color,T);return{family:n.coerceString(x.family,D,i.family),size:n.coerceNumber(x.size,b,i.size),color:n.coerceColor(x.color,O,i.color)}}function R(x,E){return E.type==="waterfall"?E[x.dir].marker.color:x.mcc||x.mc||E.marker.color}B.exports={style:l,styleTextPoints:f,styleOnSelect:m,getInsideTextFont:y,getOutsideTextFont:M,getBarColor:R,resizeText:h}},98340:function(B,N,e){var p=e(7901),L=e(52075).hasColorscale,a=e(1586),C=e(71828).coercePattern;B.exports=function(h,g,t,r,s){var n=t("marker.color",r),l=L(h,"marker");l&&a(h,g,s,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",p.defaultLine),L(h,"marker.line")&&a(h,g,s,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),C(t,"marker.pattern",n,l),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(B,N,e){var p=e(39898),L=e(71828);function a(g,t,r){var s=g._fullLayout,n=s["_"+r+"Text_minsize"];if(n){var l=s.uniformtext.mode==="hide",c;switch(r){case"funnelarea":case"pie":case"sunburst":c="g.slice";break;case"treemap":case"icicle":c="g.slice, g.pathbar";break;default:c="g.points > g.point"}t.selectAll(c).each(function(f){var m=f.transform;if(m){m.scale=l&&m.hide?0:n/m.fontSize;var v=p.select(this).select("text");L.setTransormAndDisplay(v,m)}})}}function C(g,t,r){if(r.uniformtext.mode){var s=h(g),n=r.uniformtext.minsize,l=t.scale*t.fontSize;t.hide=l<n,r[s]=r[s]||1/0,t.hide||(r[s]=Math.min(r[s],Math.max(l,n)))}}function w(g,t){var r=h(g);t[r]=void 0}function h(g){return"_"+g+"Text_minsize"}B.exports={recordMinTextSize:C,clearMinTextSize:w,resizeText:a}},55023:function(B,N,e){var p=e(5386).fF,L=e(1426).extendFlat,a=e(81245),C=e(1486);B.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:L({},C.base,{}),offset:L({},C.offset,{}),width:L({},C.width,{}),text:L({},C.text,{}),hovertext:L({},C.hovertext,{}),marker:C.marker,hoverinfo:a.hoverinfo,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},74692:function(B,N,e){var p=e(52075).hasColorscale,L=e(78803),a=e(75341),C=e(11661).setGroupPositions,w=e(66279),h=e(73972).traceIs,g=e(71828).extendFlat;function t(s,n){for(var l=s._fullLayout,c=n.subplot,f=l[c].radialaxis,m=l[c].angularaxis,v=f.makeCalcdata(n,"r"),A=m.makeCalcdata(n,"theta"),d=n._length,u=new Array(d),y=v,M=A,S=0;S<d;S++)u[S]={p:M[S],s:y[S]};function R(x){var E=n[x];E!==void 0&&(n["_"+x]=Array.isArray(E)?m.makeCalcdata(n,x):m.d2c(E,n.thetaunit))}return m.type==="linear"&&(R("width"),R("offset")),p(n,"marker")&&L(s,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),p(n,"marker.line")&&L(s,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),a(u,n),w(u,n),u}function r(s,n,l){for(var c=s.calcdata,f=[],m=0;m<c.length;m++){var v=c[m],A=v[0].trace;A.visible===!0&&h(A,"bar")&&A.subplot===l&&f.push(v)}var d=g({},n.radialaxis,{_id:"x"}),u=n.angularaxis;C(s,u,d,f,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}B.exports={calc:t,crossTraceCalc:r}},6135:function(B,N,e){var p=e(71828),L=e(22184).handleRThetaDefaults,a=e(98340),C=e(55023);B.exports=function(h,g,t,r){function s(l,c){return p.coerce(h,g,C,l,c)}var n=L(h,g,r,s);if(!n){g.visible=!1;return}s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),a(h,g,s,t,r),p.coerceSelectionMarkerOpacity(g,s)}},27379:function(B,N,e){var p=e(30211),L=e(71828),a=e(95423).getTraceColor,C=L.fillText,w=e(59150).makeHoverPointText,h=e(10869).isPtInsidePolygon;B.exports=function(t,r,s){var n=t.cd,l=n[0].trace,c=t.subplot,f=c.radialAxis,m=c.angularAxis,v=c.vangles,A=v?h:L.isPtInsideSector,d=t.maxHoverDistance,u=m._period||2*Math.PI,y=Math.abs(f.g2p(Math.sqrt(r*r+s*s))),M=Math.atan2(s,r);f.range[0]>f.range[1]&&(M+=Math.PI);var S=function(T){return A(y,M,[T.rp0,T.rp1],[T.thetag0,T.thetag1],v)?d+Math.min(1,Math.abs(T.thetag1-T.thetag0)/u)-1+(T.rp1-y)/(T.rp1-T.rp0)-1:1/0};if(p.getClosest(n,S,t),t.index!==!1){var R=t.index,x=n[R];t.x0=t.x1=x.ct[0],t.y0=t.y1=x.ct[1];var E=L.extendFlat({},x,{r:x.s,theta:x.p});return C(x,l,t),w(E,l,c,t),t.hovertemplate=l.hovertemplate,t.color=a(l,x),t.xLabelVal=t.yLabelVal=void 0,x.s<0&&(t.idealAlign="left"),[t]}}},23381:function(B,N,e){B.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(B){B.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(B,N,e){var p=e(71828),L=e(40151);B.exports=function(a,C,w){var h={},g;function t(n,l){return p.coerce(a[g]||{},C[g],L,n,l)}for(var r=0;r<w.length;r++){var s=w[r];s.type==="barpolar"&&s.visible===!0&&(g=s.subplot,h[g]||(t("barmode"),t("bargap"),h[g]=1))}}},60173:function(B,N,e){var p=e(39898),L=e(92770),a=e(71828),C=e(91424),w=e(10869);B.exports=function(t,r,s){var n=t._context.staticPlot,l=r.xaxis,c=r.yaxis,f=r.radialAxis,m=r.angularAxis,v=h(r),A=r.layers.frontplot.select("g.barlayer");a.makeTraceGroups(A,s,"trace bars").each(function(){var d=p.select(this),u=a.ensureSingle(d,"g","points"),y=u.selectAll("g.point").data(a.identity);y.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),y.exit().remove(),y.each(function(M){var S=p.select(this),R=M.rp0=f.c2p(M.s0),x=M.rp1=f.c2p(M.s1),E=M.thetag0=m.c2g(M.p0),T=M.thetag1=m.c2g(M.p1),i;if(!L(R)||!L(x)||!L(E)||!L(T)||R===x||E===T)i="M0,0Z";else{var D=f.c2g(M.s1),b=(E+T)/2;M.ct=[l.c2p(D*Math.cos(b)),c.c2p(D*Math.sin(b))],i=v(R,x,E,T)}a.ensureSingle(S,"path").attr("d",i)}),C.setClipUrl(d,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function h(g){var t=g.cxx,r=g.cyy;return g.vangles?function(s,n,l,c){var f,m;a.angleDelta(l,c)>0?(f=l,m=c):(f=c,m=l);var v=w.findEnclosingVertexAngles(f,g.vangles)[0],A=w.findEnclosingVertexAngles(m,g.vangles)[1],d=[v,(f+m)/2,A];return w.pathPolygonAnnulus(s,n,f,m,d,t,r)}:function(s,n,l,c){return a.pathAnnulus(s,n,l,c,t,r)}}},53522:function(B,N,e){var p=e(82196),L=e(1486),a=e(22399),C=e(12663).axisHoverFormat,w=e(5386).fF,h=e(1426).extendFlat,g=p.marker,t=g.line;B.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:h({},g.symbol,{arrayOk:!1,editType:"plot"}),opacity:h({},g.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:h({},g.angle,{arrayOk:!1,editType:"calc"}),size:h({},g.size,{arrayOk:!1,editType:"calc"}),color:h({},g.color,{arrayOk:!1,editType:"style"}),line:{color:h({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:h({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:L.offsetgroup,alignmentgroup:L.alignmentgroup,selected:{marker:p.selected.marker,editType:"style"},unselected:{marker:p.unselected.marker,editType:"style"},text:h({},p.text,{}),hovertext:h({},p.hovertext,{}),hovertemplate:w({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(B,N,e){var p=e(92770),L=e(89298),a=e(42973),C=e(71828),w=e(50606).BADNUM,h=C._;B.exports=function(M,S){var R=M._fullLayout,x=L.getFromId(M,S.xaxis||"x"),E=L.getFromId(M,S.yaxis||"y"),T=[],i=S.type==="violin"?"_numViolins":"_numBoxes",D,b,O,F,V,_,U;S.orientation==="h"?(O=x,F="x",V=E,_="y",U=!!S.yperiodalignment):(O=E,F="y",V=x,_="x",U=!!S.xperiodalignment);var H=g(S,_,V,R[i]),z=H[0],G=H[1],Y=C.distinctVals(z,V),J=Y.vals,ae=Y.minDiff/2,oe,he,q,Z,$,K,re=(S.boxpoints||S.points)==="all"?C.identity:function(Ct){return Ct.v<oe.lf||Ct.v>oe.uf};if(S._hasPreCompStats){var le=S[F],te=function(Ct){return O.d2c((S[Ct]||[])[D])},ee=1/0,ue=-1/0;for(D=0;D<S._length;D++){var se=z[D];if(p(se)){if(oe={},oe.pos=oe[_]=se,U&&G&&(oe.orig_p=G[D]),oe.q1=te("q1"),oe.med=te("median"),oe.q3=te("q3"),he=[],le&&C.isArrayOrTypedArray(le[D]))for(b=0;b<le[D].length;b++)K=O.d2c(le[D][b]),K!==w&&($={v:K,i:[D,b]},n($,S,[D,b]),he.push($));if(oe.pts=he.sort(c),q=oe[F]=he.map(f),Z=q.length,oe.med!==w&&oe.q1!==w&&oe.q3!==w&&oe.med>=oe.q1&&oe.q3>=oe.med){var ve=te("lowerfence");oe.lf=ve!==w&&ve<=oe.q1?ve:m(oe,q,Z);var be=te("upperfence");oe.uf=be!==w&&be>=oe.q3?be:v(oe,q,Z);var Ee=te("mean");oe.mean=Ee!==w?Ee:Z?C.mean(q,Z):(oe.q1+oe.q3)/2;var Ae=te("sd");oe.sd=Ee!==w&&Ae>=0?Ae:Z?C.stdev(q,Z,oe.mean):oe.q3-oe.q1,oe.lo=A(oe),oe.uo=d(oe);var Oe=te("notchspan");Oe=Oe!==w&&Oe>0?Oe:u(oe,Z),oe.ln=oe.med-Oe,oe.un=oe.med+Oe;var Ue=oe.lf,Le=oe.uf;S.boxpoints&&q.length&&(Ue=Math.min(Ue,q[0]),Le=Math.max(Le,q[Z-1])),S.notched&&(Ue=Math.min(Ue,oe.ln),Le=Math.max(Le,oe.un)),oe.min=Ue,oe.max=Le}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+oe.q1,"median = "+oe.med,"q3 = "+oe.q3].join(`
`));var we;oe.med!==w?we=oe.med:oe.q1!==w?oe.q3!==w?we=(oe.q1+oe.q3)/2:we=oe.q1:oe.q3!==w?we=oe.q3:we=0,oe.med=we,oe.q1=oe.q3=we,oe.lf=oe.uf=we,oe.mean=oe.sd=we,oe.ln=oe.un=we,oe.min=oe.max=we}ee=Math.min(ee,oe.min),ue=Math.max(ue,oe.max),oe.pts2=he.filter(re),T.push(oe)}}S._extremes[O._id]=L.findExtremes(O,[ee,ue],{padded:!0})}else{var Ce=O.makeCalcdata(S,F),Ve=t(J,ae),Ne=J.length,ke=r(Ne);for(D=0;D<S._length;D++)if(K=Ce[D],!!p(K)){var We=C.findBin(z[D],Ve);We>=0&&We<Ne&&($={v:K,i:D},n($,S,D),ke[We].push($))}var rt=1/0,et=-1/0,tt=S.quartilemethod,at=tt==="exclusive",ct=tt==="inclusive";for(D=0;D<Ne;D++)if(ke[D].length>0){if(oe={},oe.pos=oe[_]=J[D],he=oe.pts=ke[D].sort(c),q=oe[F]=he.map(f),Z=q.length,oe.min=q[0],oe.max=q[Z-1],oe.mean=C.mean(q,Z),oe.sd=C.stdev(q,Z,oe.mean)*S.sdmultiple,oe.med=C.interp(q,.5),Z%2&&(at||ct)){var dt,gt;at?(dt=q.slice(0,Z/2),gt=q.slice(Z/2+1)):ct&&(dt=q.slice(0,Z/2+1),gt=q.slice(Z/2)),oe.q1=C.interp(dt,.5),oe.q3=C.interp(gt,.5)}else oe.q1=C.interp(q,.25),oe.q3=C.interp(q,.75);oe.lf=m(oe,q,Z),oe.uf=v(oe,q,Z),oe.lo=A(oe),oe.uo=d(oe);var Et=u(oe,Z);oe.ln=oe.med-Et,oe.un=oe.med+Et,rt=Math.min(rt,oe.ln),et=Math.max(et,oe.un),oe.pts2=he.filter(re),T.push(oe)}S._extremes[O._id]=L.findExtremes(O,S.notched?Ce.concat([rt,et]):Ce,{padded:!0})}return l(T,S),T.length>0?(T[0].t={num:R[i],dPos:ae,posLetter:_,valLetter:F,labels:{med:h(M,"median:"),min:h(M,"min:"),q1:h(M,"q1:"),q3:h(M,"q3:"),max:h(M,"max:"),mean:S.boxmean==="sd"||S.sizemode==="sd"?h(M,"mean ± σ:").replace("σ",S.sdmultiple===1?"σ":S.sdmultiple+"σ"):h(M,"mean:"),lf:h(M,"lower fence:"),uf:h(M,"upper fence:")}},R[i]++,T):[{t:{empty:!0}}]};function g(y,M,S,R){var x=M in y,E=M+"0"in y,T="d"+M in y;if(x||E&&T){var i=S.makeCalcdata(y,M),D=a(y,S,M,i).vals;return[D,i]}var b;E?b=y[M+"0"]:"name"in y&&(S.type==="category"||p(y.name)&&["linear","log"].indexOf(S.type)!==-1||C.isDateTime(y.name)&&S.type==="date")?b=y.name:b=R;for(var O=S.type==="multicategory"?S.r2c_just_indices(b):S.d2c(b,0,y[M+"calendar"]),F=y._length,V=new Array(F),_=0;_<F;_++)V[_]=O;return[V]}function t(y,M){for(var S=y.length,R=new Array(S+1),x=0;x<S;x++)R[x]=y[x]-M;return R[S]=y[S-1]+M,R}function r(y){for(var M=new Array(y),S=0;S<y;S++)M[S]=[];return M}var s={text:"tx",hovertext:"htx"};function n(y,M,S){for(var R in s)C.isArrayOrTypedArray(M[R])&&(Array.isArray(S)?C.isArrayOrTypedArray(M[R][S[0]])&&(y[s[R]]=M[R][S[0]][S[1]]):y[s[R]]=M[R][S])}function l(y,M){if(C.isArrayOrTypedArray(M.selectedpoints))for(var S=0;S<y.length;S++){for(var R=y[S].pts||[],x={},E=0;E<R.length;E++)x[R[E].i]=E;C.tagSelected(R,M,x)}}function c(y,M){return y.v-M.v}function f(y){return y.v}function m(y,M,S){return S===0?y.q1:Math.min(y.q1,M[Math.min(C.findBin(2.5*y.q1-1.5*y.q3,M,!0)+1,S-1)])}function v(y,M,S){return S===0?y.q3:Math.max(y.q3,M[Math.max(C.findBin(2.5*y.q3-1.5*y.q1,M),0)])}function A(y){return 4*y.q1-3*y.q3}function d(y){return 4*y.q3-3*y.q1}function u(y,M){return M===0?0:1.57*(y.q3-y.q1)/Math.sqrt(M)}},37188:function(B,N,e){var p=e(89298),L=e(71828),a=e(99082).getAxisGroup,C=["v","h"];function w(g,t){for(var r=g.calcdata,s=t.xaxis,n=t.yaxis,l=0;l<C.length;l++){for(var c=C[l],f=c==="h"?n:s,m=[],v=0;v<r.length;v++){var A=r[v],d=A[0].t,u=A[0].trace;u.visible===!0&&(u.type==="box"||u.type==="candlestick")&&!d.empty&&(u.orientation||"v")===c&&u.xaxis===s._id&&u.yaxis===n._id&&m.push(v)}h("box",g,m,f)}}function h(g,t,r,s){var n=t.calcdata,l=t._fullLayout,c=s._id,f=c.charAt(0),m,v,A,d=[],u=0;for(m=0;m<r.length;m++)for(A=n[r[m]],v=0;v<A.length;v++)d.push(s.c2l(A[v].pos,!0)),u+=(A[v].pts2||[]).length;if(d.length){var y=L.distinctVals(d);(s.type==="category"||s.type==="multicategory")&&(y.minDiff=1);var M=y.minDiff/2;p.minDtick(s,y.minDiff,y.vals[0],!0);var S=g==="violin"?"_numViolins":"_numBoxes",R=l[S],x=l[g+"mode"]==="group"&&R>1,E=1-l[g+"gap"],T=1-l[g+"groupgap"];for(m=0;m<r.length;m++){A=n[r[m]];var i=A[0].trace,D=A[0].t,b=i.width,O=i.side,F,V,_,U;if(b)F=V=U=b/2,_=0;else if(F=M,x){var H=a(l,s._id)+i.orientation,z=l._alignmentOpts[H]||{},G=z[i.alignmentgroup]||{},Y=Object.keys(G.offsetGroups||{}).length,J=Y||R,ae=Y?i._offsetIndex:D.num;V=F*E*T/J,_=2*F*(-.5+(ae+.5)/J)*E,U=F*E/J}else V=F*E*T,_=0,U=F;D.dPos=F,D.bPos=_,D.bdPos=V,D.wHover=U;var oe,he,q=_+V,Z,$,K,re,le,te,ee=!!b,ue=(i.boxpoints||i.points)&&u>0;if(O==="positive"?(oe=F*(b?1:.5),Z=q,he=Z=_):O==="negative"?(oe=Z=_,he=F*(b?1:.5),$=q):(oe=he=F,Z=$=q),ue){var se=i.pointpos,ve=i.jitter,be=i.marker.size/2,Ee=0;se+ve>=0&&(Ee=q*(se+ve),Ee>oe?(ee=!0,le=be,K=Ee):Ee>Z&&(le=be,K=oe)),Ee<=oe&&(K=oe);var Ae=0;se-ve<=0&&(Ae=-q*(se-ve),Ae>he?(ee=!0,te=be,re=Ae):Ae>$&&(te=be,re=he)),Ae<=he&&(re=he)}else K=oe,re=he;var Oe=new Array(A.length);for(v=0;v<A.length;v++)Oe[v]=A[v].pos;i._extremes[c]=p.findExtremes(s,Oe,{padded:ee,vpadminus:re,vpadplus:K,vpadLinearized:!0,ppadminus:{x:te,y:le}[f],ppadplus:{x:le,y:te}[f]})}}}B.exports={crossTraceCalc:w,setPositionOffset:h}},36411:function(B,N,e){var p=e(71828),L=e(73972),a=e(7901),C=e(73927),w=e(26125),h=e(4322),g=e(53522);function t(l,c,f,m){function v(T,i){return p.coerce(l,c,g,T,i)}if(r(l,c,v,m),c.visible!==!1){C(l,c,m,v),v("xhoverformat"),v("yhoverformat");var A=c._hasPreCompStats;A&&(v("lowerfence"),v("upperfence")),v("line.color",(l.marker||{}).color||f),v("line.width"),v("fillcolor",a.addOpacity(c.line.color,.5));var d=!1;if(A){var u=v("mean"),y=v("sd");u&&u.length&&(d=!0,y&&y.length&&(d="sd"))}v("whiskerwidth");var M=v("sizemode"),S;M==="quartiles"&&(S=v("boxmean",d)),v("showwhiskers",M==="quartiles"),(M==="sd"||S==="sd")&&v("sdmultiple"),v("width"),v("quartilemethod");var R=!1;if(A){var x=v("notchspan");x&&x.length&&(R=!0)}else p.validate(l.notchwidth,g.notchwidth)&&(R=!0);var E=v("notched",R);E&&v("notchwidth"),s(l,c,v,{prefix:"box"})}}function r(l,c,f,m){function v(Y){var J=0;return Y&&Y.length&&(J+=1,p.isArrayOrTypedArray(Y[0])&&Y[0].length&&(J+=1)),J}function A(Y){return p.validate(l[Y],g[Y])}var d=f("y"),u=f("x"),y;if(c.type==="box"){var M=f("q1"),S=f("median"),R=f("q3");c._hasPreCompStats=M&&M.length&&S&&S.length&&R&&R.length,y=Math.min(p.minRowLength(M),p.minRowLength(S),p.minRowLength(R))}var x=v(d),E=v(u),T=x&&p.minRowLength(d),i=E&&p.minRowLength(u),D=m.calendar,b={autotypenumbers:m.autotypenumbers},O,F;if(c._hasPreCompStats)switch(String(E)+String(x)){case"00":var V=A("x0")||A("dx"),_=A("y0")||A("dy");_&&!V?O="h":O="v",F=y;break;case"10":O="v",F=Math.min(y,i);break;case"20":O="h",F=Math.min(y,u.length);break;case"01":O="h",F=Math.min(y,T);break;case"02":O="v",F=Math.min(y,d.length);break;case"12":O="v",F=Math.min(y,i,d.length);break;case"21":O="h",F=Math.min(y,u.length,T);break;case"11":F=0;break;case"22":var U=!1,H;for(H=0;H<u.length;H++)if(h(u[H],D,b)==="category"){U=!0;break}if(U)O="v",F=Math.min(y,i,d.length);else{for(H=0;H<d.length;H++)if(h(d[H],D,b)==="category"){U=!0;break}U?(O="h",F=Math.min(y,u.length,T)):(O="v",F=Math.min(y,i,d.length))}break}else x>0?(O="v",E>0?F=Math.min(i,T):F=Math.min(T)):E>0?(O="h",F=Math.min(i)):F=0;if(!F){c.visible=!1;return}c._length=F;var z=f("orientation",O);c._hasPreCompStats?z==="v"&&E===0?(f("x0",0),f("dx",1)):z==="h"&&x===0&&(f("y0",0),f("dy",1)):z==="v"&&E===0?f("x0"):z==="h"&&x===0&&f("y0");var G=L.getComponentMethod("calendars","handleTraceDefaults");G(l,c,["x","y"],m)}function s(l,c,f,m){var v=m.prefix,A=p.coerce2(l,c,g,"marker.outliercolor"),d=f("marker.line.outliercolor"),u="outliers";c._hasPreCompStats?u="all":(A||d)&&(u="suspectedoutliers");var y=f(v+"points",u);y?(f("jitter",y==="all"?.3:0),f("pointpos",y==="all"?-1.5:0),f("marker.symbol"),f("marker.opacity"),f("marker.size"),f("marker.angle"),f("marker.color",c.line.color),f("marker.line.color"),f("marker.line.width"),y==="suspectedoutliers"&&(f("marker.line.outliercolor",c.marker.color),f("marker.line.outlierwidth")),f("selected.marker.color"),f("unselected.marker.color"),f("selected.marker.size"),f("unselected.marker.size"),f("text"),f("hovertext")):delete c.marker;var M=f("hoveron");(M==="all"||M.indexOf("points")!==-1)&&f("hovertemplate"),p.coerceSelectionMarkerOpacity(c,f)}function n(l,c){var f,m;function v(u){return p.coerce(m._input,m,g,u)}for(var A=0;A<l.length;A++){m=l[A];var d=m.type;(d==="box"||d==="violin")&&(f=m._input,c[d+"mode"]==="group"&&w(f,m,c,v))}}B.exports={supplyDefaults:t,crossTraceDefaults:n,handleSampleDefaults:r,handlePointsDefaults:s}},74907:function(B){B.exports=function(e,p){return p.hoverOnBox&&(e.hoverOnBox=p.hoverOnBox),"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},41868:function(B,N,e){var p=e(89298),L=e(71828),a=e(30211),C=e(7901),w=L.fillText;function h(r,s,n,l){var c=r.cd,f=c[0].trace,m=f.hoveron,v=[],A;return m.indexOf("boxes")!==-1&&(v=v.concat(g(r,s,n,l))),m.indexOf("points")!==-1&&(A=t(r,s,n)),l==="closest"?A?[A]:v:(A&&v.push(A),v)}function g(r,s,n,l){var c=r.cd,f=r.xa,m=r.ya,v=c[0].trace,A=c[0].t,d=v.type==="violin",u,y,M,S,R,x,E,T,i,D,b,O=A.bdPos,F,V,_=A.wHover,U=function(Ae){return M.c2l(Ae.pos)+A.bPos-M.c2l(x)};d&&v.side!=="both"?(v.side==="positive"&&(i=function(Ae){var Oe=U(Ae);return a.inbox(Oe,Oe+_,D)},F=O,V=0),v.side==="negative"&&(i=function(Ae){var Oe=U(Ae);return a.inbox(Oe-_,Oe,D)},F=0,V=O)):(i=function(Ae){var Oe=U(Ae);return a.inbox(Oe-_,Oe+_,D)},F=V=O);var H;d?H=function(Ae){return a.inbox(Ae.span[0]-R,Ae.span[1]-R,D)}:H=function(Ae){return a.inbox(Ae.min-R,Ae.max-R,D)},v.orientation==="h"?(R=s,x=n,E=H,T=i,u="y",M=m,y="x",S=f):(R=n,x=s,E=i,T=H,u="x",M=f,y="y",S=m);var z=Math.min(1,O/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));D=r.maxHoverDistance-z,b=r.maxSpikeDistance-z;function G(Ae){return(E(Ae)+T(Ae))/2}var Y=a.getDistanceFunction(l,E,T,G);if(a.getClosest(c,Y,r),r.index===!1)return[];var J=c[r.index],ae=v.line.color,oe=(v.marker||{}).color;C.opacity(ae)&&v.line.width?r.color=ae:C.opacity(oe)&&v.boxpoints?r.color=oe:r.color=v.fillcolor,r[u+"0"]=M.c2p(J.pos+A.bPos-V,!0),r[u+"1"]=M.c2p(J.pos+A.bPos+F,!0),r[u+"LabelVal"]=J.orig_p!==void 0?J.orig_p:J.pos;var he=u+"Spike";r.spikeDistance=G(J)*b/D,r[he]=M.c2p(J.pos,!0);var q=v.boxmean||v.sizemode==="sd"||(v.meanline||{}).visible,Z=v.boxpoints||v.points,$=Z&&q?["max","uf","q3","med","mean","q1","lf","min"]:Z&&!q?["max","uf","q3","med","q1","lf","min"]:!Z&&q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],K=S.range[1]<S.range[0];v.orientation===(K?"v":"h")&&$.reverse();for(var re=r.spikeDistance,le=r[he],te=[],ee=0;ee<$.length;ee++){var ue=$[ee];if(ue in J){var se=J[ue],ve=S.c2p(se,!0),be=L.extendFlat({},r);be.attr=ue,be[y+"0"]=be[y+"1"]=ve,be[y+"LabelVal"]=se,be[y+"Label"]=(A.labels?A.labels[ue]+" ":"")+p.hoverLabelText(S,se,v[y+"hoverformat"]),be.hoverOnBox=!0,ue==="mean"&&"sd"in J&&(v.boxmean==="sd"||v.sizemode==="sd")&&(be[y+"err"]=J.sd),be.hovertemplate=!1,te.push(be)}}r.name="",r.spikeDistance=void 0,r[he]=void 0;for(var Ee=0;Ee<te.length;Ee++)te[Ee].attr!=="med"?(te[Ee].name="",te[Ee].spikeDistance=void 0,te[Ee][he]=void 0):(te[Ee].spikeDistance=re,te[Ee][he]=le);return te}function t(r,s,n){for(var l=r.cd,c=r.xa,f=r.ya,m=l[0].trace,v=c.c2p(s),A=f.c2p(n),d,u=function(H){var z=Math.max(3,H.mrc||0);return Math.max(Math.abs(c.c2p(H.x)-v)-z,1-3/z)},y=function(H){var z=Math.max(3,H.mrc||0);return Math.max(Math.abs(f.c2p(H.y)-A)-z,1-3/z)},M=a.quadrature(u,y),S=!1,R,x,E=0;E<l.length;E++){R=l[E];for(var T=0;T<(R.pts||[]).length;T++){x=R.pts[T];var i=M(x);i<=r.distance&&(r.distance=i,S=[E,T])}}if(!S)return!1;R=l[S[0]],x=R.pts[S[1]];var D=c.c2p(x.x,!0),b=f.c2p(x.y,!0),O=x.mrc||1;d=L.extendFlat({},r,{index:x.i,color:(m.marker||{}).color,name:m.name,x0:D-O,x1:D+O,y0:b-O,y1:b+O,spikeDistance:r.distance,hovertemplate:m.hovertemplate});var F=R.orig_p,V=F!==void 0?F:R.pos,_;m.orientation==="h"?(_=f,d.xLabelVal=x.x,d.yLabelVal=V):(_=c,d.xLabelVal=V,d.yLabelVal=x.y);var U=_._id.charAt(0);return d[U+"Spike"]=_.c2p(R.pos,!0),w(x,m,d),d}B.exports={hoverPoints:h,hoverOnBoxes:g,hoverOnPoints:t}},83832:function(B,N,e){B.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(B){B.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(B,N,e){var p=e(73972),L=e(71828),a=e(40094);function C(h,g,t,r,s){for(var n=s+"Layout",l=!1,c=0;c<t.length;c++){var f=t[c];if(p.traceIs(f,n)){l=!0;break}}l&&(r(s+"mode"),r(s+"gap"),r(s+"groupgap"))}function w(h,g,t){function r(s,n){return L.coerce(h,g,a,s,n)}C(h,g,t,r,"box")}B.exports={supplyLayoutDefaults:w,_supply:C}},86047:function(B,N,e){var p=e(39898),L=e(71828),a=e(91424),C=5,w=.01;function h(s,n,l,c){var f=s._context.staticPlot,m=n.xaxis,v=n.yaxis;L.makeTraceGroups(c,l,"trace boxes").each(function(A){var d=p.select(this),u=A[0],y=u.t,M=u.trace;if(y.wdPos=y.bdPos*M.whiskerwidth,M.visible!==!0||y.empty){d.remove();return}var S,R;M.orientation==="h"?(S=v,R=m):(S=m,R=v),g(d,{pos:S,val:R},M,y,f),t(d,{x:m,y:v},M,y),r(d,{pos:S,val:R},M,y)})}function g(s,n,l,c,f){var m=l.orientation==="h",v=n.val,A=n.pos,d=!!A.rangebreaks,u=c.bPos,y=c.wdPos||0,M=c.bPosPxOffset||0,S=l.whiskerwidth||0,R=l.showwhiskers!==!1,x=l.notched||!1,E=x?1-2*l.notchwidth:1,T,i;Array.isArray(c.bdPos)?(T=c.bdPos[0],i=c.bdPos[1]):(T=c.bdPos,i=c.bdPos);var D=s.selectAll("path.box").data(l.type!=="violin"||l.box.visible?L.identity:[]);D.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","box"),D.exit().remove(),D.each(function(b){if(b.empty)return p.select(this).attr("d","M0,0Z");var O=A.c2l(b.pos+u,!0),F=A.l2p(O-T)+M,V=A.l2p(O+i)+M,_=d?(F+V)/2:A.l2p(O)+M,U=l.whiskerwidth,H=d?F*U+(1-U)*_:A.l2p(O-y)+M,z=d?V*U+(1-U)*_:A.l2p(O+y)+M,G=A.l2p(O-T*E)+M,Y=A.l2p(O+i*E)+M,J=l.sizemode==="sd",ae=v.c2p(J?b.mean-b.sd:b.q1,!0),oe=J?v.c2p(b.mean+b.sd,!0):v.c2p(b.q3,!0),he=L.constrain(J?v.c2p(b.mean,!0):v.c2p(b.med,!0),Math.min(ae,oe)+1,Math.max(ae,oe)-1),q=b.lf===void 0||l.boxpoints===!1||J,Z=v.c2p(q?b.min:b.lf,!0),$=v.c2p(q?b.max:b.uf,!0),K=v.c2p(b.ln,!0),re=v.c2p(b.un,!0);m?p.select(this).attr("d","M"+he+","+G+"V"+Y+"M"+ae+","+F+"V"+V+(x?"H"+K+"L"+he+","+Y+"L"+re+","+V:"")+"H"+oe+"V"+F+(x?"H"+re+"L"+he+","+G+"L"+K+","+F:"")+"Z"+(R?"M"+ae+","+_+"H"+Z+"M"+oe+","+_+"H"+$+(S===0?"":"M"+Z+","+H+"V"+z+"M"+$+","+H+"V"+z):"")):p.select(this).attr("d","M"+G+","+he+"H"+Y+"M"+F+","+ae+"H"+V+(x?"V"+K+"L"+Y+","+he+"L"+V+","+re:"")+"V"+oe+"H"+F+(x?"V"+re+"L"+G+","+he+"L"+F+","+K:"")+"Z"+(R?"M"+_+","+ae+"V"+Z+"M"+_+","+oe+"V"+$+(S===0?"":"M"+H+","+Z+"H"+z+"M"+H+","+$+"H"+z):""))})}function t(s,n,l,c){var f=n.x,m=n.y,v=c.bdPos,A=c.bPos,d=l.boxpoints||l.points;L.seedPseudoRandom();var u=function(S){return S.forEach(function(R){R.t=c,R.trace=l}),S},y=s.selectAll("g.points").data(d?u:[]);y.enter().append("g").attr("class","points"),y.exit().remove();var M=y.selectAll("path").data(function(S){var R,x=S.pts2,E=Math.max((S.max-S.min)/10,S.q3-S.q1),T=E*1e-9,i=E*w,D=[],b=0,O;if(l.jitter){if(E===0)for(b=1,D=new Array(x.length),R=0;R<x.length;R++)D[R]=1;else for(R=0;R<x.length;R++){var F=Math.max(0,R-C),V=x[F].v,_=Math.min(x.length-1,R+C),U=x[_].v;d!=="all"&&(x[R].v<S.lf?U=Math.min(U,S.lf):V=Math.max(V,S.uf));var H=Math.sqrt(i*(_-F)/(U-V+T))||0;H=L.constrain(Math.abs(H),0,1),D.push(H),b=Math.max(H,b)}O=l.jitter*2/(b||1)}for(R=0;R<x.length;R++){var z=x[R],G=z.v,Y=l.jitter?O*D[R]*(L.pseudoRandom()-.5):0,J=S.pos+A+v*(l.pointpos+Y);l.orientation==="h"?(z.y=J,z.x=G):(z.x=J,z.y=G),d==="suspectedoutliers"&&G<S.uo&&G>S.lo&&(z.so=!0)}return x});M.enter().append("path").classed("point",!0),M.exit().remove(),M.call(a.translatePoints,f,m)}function r(s,n,l,c){var f=n.val,m=n.pos,v=!!m.rangebreaks,A=c.bPos,d=c.bPosPxOffset||0,u=l.boxmean||(l.meanline||{}).visible,y,M;Array.isArray(c.bdPos)?(y=c.bdPos[0],M=c.bdPos[1]):(y=c.bdPos,M=c.bdPos);var S=s.selectAll("path.mean").data(l.type==="box"&&l.boxmean||l.type==="violin"&&l.box.visible&&l.meanline.visible?L.identity:[]);S.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),S.exit().remove(),S.each(function(R){var x=m.c2l(R.pos+A,!0),E=m.l2p(x-y)+d,T=m.l2p(x+M)+d,i=v?(E+T)/2:m.l2p(x)+d,D=f.c2p(R.mean,!0),b=f.c2p(R.mean-R.sd,!0),O=f.c2p(R.mean+R.sd,!0);l.orientation==="h"?p.select(this).attr("d","M"+D+","+E+"V"+T+(u==="sd"?"m0,0L"+b+","+i+"L"+D+","+E+"L"+O+","+i+"Z":"")):p.select(this).attr("d","M"+E+","+D+"H"+T+(u==="sd"?"m0,0L"+i+","+b+"L"+E+","+D+"L"+i+","+O+"Z":""))})}B.exports={plot:h,plotBoxAndWhiskers:g,plotPoints:t,plotBoxMean:r}},24626:function(B){B.exports=function(e,p){var L=e.cd,a=e.xaxis,C=e.yaxis,w=[],h,g;if(p===!1)for(h=0;h<L.length;h++)for(g=0;g<(L[h].pts||[]).length;g++)L[h].pts[g].selected=0;else for(h=0;h<L.length;h++)for(g=0;g<(L[h].pts||[]).length;g++){var t=L[h].pts[g],r=a.c2p(t.x),s=C.c2p(t.y);p.contains([r,s],null,t.i,e)?(w.push({pointNumber:t.i,x:a.c2d(t.x),y:C.c2d(t.y)}),t.selected=1):t.selected=0}return w}},58063:function(B,N,e){var p=e(39898),L=e(7901),a=e(91424);function C(h,g,t){var r=t||p.select(h).selectAll("g.trace.boxes");r.style("opacity",function(s){return s[0].trace.opacity}),r.each(function(s){var n=p.select(this),l=s[0].trace,c=l.line.width;function f(A,d,u,y){A.style("stroke-width",d+"px").call(L.stroke,u).call(L.fill,y)}var m=n.selectAll("path.box");if(l.type==="candlestick")m.each(function(A){if(!A.empty){var d=p.select(this),u=l[A.dir];f(d,u.line.width,u.line.color,u.fillcolor),d.style("opacity",l.selectedpoints&&!A.selected?.3:1)}});else{f(m,c,l.line.color,l.fillcolor),n.selectAll("path.mean").style({"stroke-width":c,"stroke-dasharray":2*c+"px,"+c+"px"}).call(L.stroke,l.line.color);var v=n.selectAll("path.point");a.pointStyle(v,l,h)}})}function w(h,g,t){var r=g[0].trace,s=t.selectAll("path.point");r.selectedpoints?a.selectedPointStyle(s,r):a.pointStyle(s,r,h)}B.exports={style:C,styleOnSelect:w}},75343:function(B,N,e){var p=e(71828).extendFlat,L=e(12663).axisHoverFormat,a=e(2522),C=e(53522);function w(h){return{line:{color:p({},C.line.color,{dflt:h}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}B.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:p({},C.line.width,{}),editType:"style"},increasing:w(a.increasing.line.color.dflt),decreasing:w(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:p({},C.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(B,N,e){var p=e(71828),L=e(89298),a=e(42973),C=e(3485).calcCommon;B.exports=function(h,g){var t=h._fullLayout,r=L.getFromId(h,g.xaxis),s=L.getFromId(h,g.yaxis),n=r.makeCalcdata(g,"x"),l=a(g,r,"x",n).vals,c=C(h,g,n,l,s,w);return c.length?(p.extendFlat(c[0].t,{num:t._numBoxes,dPos:p.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,c):[{t:{empty:!0}}]};function w(h,g,t,r){return{min:t,q1:Math.min(h,r),med:r,q3:Math.max(h,r),max:g}}},1026:function(B,N,e){var p=e(71828),L=e(7901),a=e(14555),C=e(73927),w=e(75343);B.exports=function(t,r,s,n){function l(f,m){return p.coerce(t,r,w,f,m)}var c=a(t,r,l,n);if(!c){r.visible=!1;return}C(t,r,n,l,{x:!0}),l("xhoverformat"),l("yhoverformat"),l("line.width"),h(t,r,l,"increasing"),h(t,r,l,"decreasing"),l("text"),l("hovertext"),l("whiskerwidth"),n._requestRangeslider[r.xaxis]=!0};function h(g,t,r,s){var n=r(s+".line.color");r(s+".line.width",t.line.width),r(s+".fillcolor",L.addOpacity(n,.5))}},91815:function(B,N,e){B.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(B,N,e){var p=e(11500),L=e(44467);B.exports=function(w,h,g,t,r){var s=t("a");s||(t("da"),t("a0"));var n=t("b");n||(t("db"),t("b0")),a(w,h,g,r)};function a(C,w,h,g){var t=["aaxis","baxis"];t.forEach(function(r){var s=r.charAt(0),n=C[r]||{},l=L.newContainer(w,r),c={noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:w.font,name:r,data:C[s],calendar:w.calendar,dfltColor:g,bgColor:h.paper_bgcolor,autotypenumbersDflt:h.autotypenumbers,fullLayout:h};p(n,l,c),l._categories=l._categories||[],!C[r]&&n.type!=="-"&&(C[r]={type:n.type})})}},402:function(B,N,e){var p=e(71828).isArrayOrTypedArray;B.exports=function(a){return L(a,0)};function L(a,C){if(!p(a)||C>=10)return null;for(var w=1/0,h=-1/0,g=a.length,t=0;t<g;t++){var r=a[t];if(p(r)){var s=L(r,C+1);s&&(w=Math.min(s[0],w),h=Math.max(s[1],h))}else w=Math.min(r,w),h=Math.max(r,h)}return[w,h]}},99798:function(B,N,e){var p=e(41940),L=e(1928),a=e(22399),C=p({editType:"calc"});C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=a.defaultLine,B.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:L,baxis:L,font:C,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(B,N,e){var p=e(71828).isArrayOrTypedArray;B.exports=function(L,a,C,w){var h,g,t,r,s,n,l,c,f,m,v,A,d,u=p(C)?"a":"b",y=u==="a"?L.aaxis:L.baxis,M=y.smoothing,S=u==="a"?L.a2i:L.b2j,R=u==="a"?C:w,x=u==="a"?w:C,E=u==="a"?a.a.length:a.b.length,T=u==="a"?a.b.length:a.a.length,i=Math.floor(u==="a"?L.b2j(x):L.a2i(x)),D=u==="a"?function(ae){return L.evalxy([],ae,i)}:function(ae){return L.evalxy([],i,ae)};M&&(t=Math.max(0,Math.min(T-2,i)),r=i-t,g=u==="a"?function(ae,oe){return L.dxydi([],ae,t,oe,r)}:function(ae,oe){return L.dxydj([],t,ae,r,oe)});var b=S(R[0]),O=S(R[1]),F=b<O?1:-1,V=(O-b)*1e-8,_=F>0?Math.floor:Math.ceil,U=F>0?Math.ceil:Math.floor,H=F>0?Math.min:Math.max,z=F>0?Math.max:Math.min,G=_(b+V),Y=U(O-V);l=D(b);var J=[[l]];for(h=G;h*F<Y*F;h+=F)s=[],v=z(b,h),A=H(O,h+F),d=A-v,n=Math.max(0,Math.min(E-2,Math.floor(.5*(v+A)))),c=D(A),M&&(f=g(n,v-n),m=g(n,A-n),s.push([l[0]+f[0]/3*d,l[1]+f[1]/3*d]),s.push([c[0]-m[0]/3*d,c[1]-m[1]/3*d])),s.push(c),J.push(s),l=c;return J}},1928:function(B,N,e){var p=e(41940),L=e(22399),a=e(13838),C=e(12663).descriptionWithDates,w=e(30962).overrideAll,h=e(79952).P,g=e(1426).extendFlat;B.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:p({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:g({},a.labelalias,{editType:"calc"}),tickfont:p({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:w(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:g({},h,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:g({},h,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:L.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:p({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(B,N,e){var p=e(99798),L=e(7901).addOpacity,a=e(73972),C=e(71828),w=e(26218),h=e(96115),g=e(89426),t=e(15258),r=e(21994),s=e(4322);B.exports=function(c,f,m){var v=m.letter,A=m.font||{},d=p[v+"axis"];function u(G,Y){return C.coerce(c,f,d,G,Y)}function y(G,Y){return C.coerce2(c,f,d,G,Y)}m.name&&(f._name=m.name,f._id=m.name),u("autotypenumbers",m.autotypenumbersDflt);var M=u("type");if(M==="-"&&(m.data&&n(f,m.data),f.type==="-"?f.type="linear":M=c.type=f.type),u("smoothing"),u("cheatertype"),u("showticklabels"),u("labelprefix",v+" = "),u("labelsuffix"),u("showtickprefix"),u("showticksuffix"),u("separatethousands"),u("tickformat"),u("exponentformat"),u("minexponent"),u("showexponent"),u("categoryorder"),u("tickmode"),u("tickvals"),u("ticktext"),u("tick0"),u("dtick"),f.tickmode==="array"&&(u("arraytick0"),u("arraydtick")),u("labelpadding"),f._hovertitle=v,M==="date"){var S=a.getComponentMethod("calendars","handleDefaults");S(c,f,"calendar",m.calendar)}r(f,m.fullLayout),f.c2p=C.identity;var R=u("color",m.dfltColor),x=R===c.color?R:A.color,E=u("title.text");E&&(C.coerceFont(u,"title.font",{family:A.family,size:C.bigFont(A.size),color:x}),u("title.offset")),u("tickangle");var T=u("autorange",!f.isValidRange(c.range));T&&u("rangemode"),u("range"),f.cleanRange(),u("fixedrange"),w(c,f,u,M),g(c,f,u,M,m),h(c,f,u,M,m),t(c,f,u,{data:m.data,dataAttr:v});var i=y("gridcolor",L(R,.3)),D=y("gridwidth"),b=y("griddash"),O=u("showgrid");O||(delete f.gridcolor,delete f.gridwidth,delete f.griddash);var F=y("startlinecolor",R),V=y("startlinewidth",D),_=u("startline",f.showgrid||!!F||!!V);_||(delete f.startlinecolor,delete f.startlinewidth);var U=y("endlinecolor",R),H=y("endlinewidth",D),z=u("endline",f.showgrid||!!U||!!H);return z||(delete f.endlinecolor,delete f.endlinewidth),O?(u("minorgridcount"),u("minorgridwidth",D),u("minorgriddash",b),u("minorgridcolor",L(i,.06)),f.minorgridcount||(delete f.minorgridwidth,delete f.minorgriddash,delete f.minorgridcolor)):(delete f.gridcolor,delete f.gridwidth,delete f.griddash),f.showticklabels==="none"&&(delete f.tickfont,delete f.tickangle,delete f.showexponent,delete f.exponentformat,delete f.minexponent,delete f.tickformat,delete f.showticksuffix,delete f.showtickprefix),f.showticksuffix||delete f.ticksuffix,f.showtickprefix||delete f.tickprefix,u("tickmode"),f};function n(l,c){if(l.type==="-"){var f=l._id,m=f.charAt(0),v=m+"calendar",A=l[v];l.type=s(c,A,{autotypenumbers:l.autotypenumbers})}}},25281:function(B,N,e){var p=e(89298),L=e(71828).isArray1D,a=e(53824),C=e(402),w=e(20347),h=e(83311),g=e(44807),t=e(4742),r=e(72505),s=e(68296),n=e(11435);B.exports=function(c,f){var m=p.getFromId(c,f.xaxis),v=p.getFromId(c,f.yaxis),A=f.aaxis,d=f.baxis,u=f.x,y=f.y,M=[];u&&L(u)&&M.push("x"),y&&L(y)&&M.push("y"),M.length&&s(f,A,d,"a","b",M);var S=f._a=f._a||f.a,R=f._b=f._b||f.b;u=f._x||f.x,y=f._y||f.y;var x={};if(f._cheater){var E=A.cheatertype==="index"?S.length:S,T=d.cheatertype==="index"?R.length:R;u=a(E,T,f.cheaterslope)}f._x=u=t(u),f._y=y=t(y),r(u,S,R),r(y,S,R),n(f),f.setScale();var i=C(u),D=C(y),b=.5*(i[1]-i[0]),O=.5*(i[1]+i[0]),F=.5*(D[1]-D[0]),V=.5*(D[1]+D[0]),_=1.3;return i=[O-b*_,O+b*_],D=[V-F*_,V+F*_],f._extremes[m._id]=p.findExtremes(m,i,{padded:!0}),f._extremes[v._id]=p.findExtremes(v,D,{padded:!0}),w(f,"a","b"),w(f,"b","a"),h(f,A),h(f,d),x.clipsegments=g(f._xctrl,f._yctrl,A,d),x.x=u,x.y=y,x.a=S,x.b=R,[x]}},44807:function(B){B.exports=function(e,p,L,a){var C,w,h,g=[],t=!!L.smoothing,r=!!a.smoothing,s=e[0].length-1,n=e.length-1;for(C=0,w=[],h=[];C<=s;C++)w[C]=e[0][C],h[C]=p[0][C];for(g.push({x:w,y:h,bicubic:t}),C=0,w=[],h=[];C<=n;C++)w[C]=e[C][s],h[C]=p[C][s];for(g.push({x:w,y:h,bicubic:r}),C=s,w=[],h=[];C>=0;C--)w[s-C]=e[n][C],h[s-C]=p[n][C];for(g.push({x:w,y:h,bicubic:t}),C=n,w=[],h=[];C>=0;C--)w[n-C]=e[C][0],h[n-C]=p[C][0];return g.push({x:w,y:h,bicubic:r}),g}},20347:function(B,N,e){var p=e(89298),L=e(1426).extendFlat;B.exports=function(C,w,h){var g,t,r,s,n,l,c,f,m,v,A,d,u,y,M=C["_"+w],S=C[w+"axis"],R=S._gridlines=[],x=S._minorgridlines=[],E=S._boundarylines=[],T=C["_"+h],i=C[h+"axis"];S.tickmode==="array"&&(S.tickvals=M.slice());var D=C._xctrl,b=C._yctrl,O=D[0].length,F=D.length,V=C._a.length,_=C._b.length;p.prepTicks(S),S.tickmode==="array"&&delete S.tickvals;var U=S.smoothing?3:1;function H(G){var Y,J,ae,oe,he,q,Z,$,K,re,le,te,ee=[],ue=[],se={};if(w==="b")for(J=C.b2j(G),ae=Math.floor(Math.max(0,Math.min(_-2,J))),oe=J-ae,se.length=_,se.crossLength=V,se.xy=function(ve){return C.evalxy([],ve,J)},se.dxy=function(ve,be){return C.dxydi([],ve,ae,be,oe)},Y=0;Y<V;Y++)q=Math.min(V-2,Y),Z=Y-q,$=C.evalxy([],Y,J),i.smoothing&&Y>0&&(K=C.dxydi([],Y-1,ae,0,oe),ee.push(he[0]+K[0]/3),ue.push(he[1]+K[1]/3),re=C.dxydi([],Y-1,ae,1,oe),ee.push($[0]-re[0]/3),ue.push($[1]-re[1]/3)),ee.push($[0]),ue.push($[1]),he=$;else for(Y=C.a2i(G),q=Math.floor(Math.max(0,Math.min(V-2,Y))),Z=Y-q,se.length=V,se.crossLength=_,se.xy=function(ve){return C.evalxy([],Y,ve)},se.dxy=function(ve,be){return C.dxydj([],q,ve,Z,be)},J=0;J<_;J++)ae=Math.min(_-2,J),oe=J-ae,$=C.evalxy([],Y,J),i.smoothing&&J>0&&(le=C.dxydj([],q,J-1,Z,0),ee.push(he[0]+le[0]/3),ue.push(he[1]+le[1]/3),te=C.dxydj([],q,J-1,Z,1),ee.push($[0]-te[0]/3),ue.push($[1]-te[1]/3)),ee.push($[0]),ue.push($[1]),he=$;return se.axisLetter=w,se.axis=S,se.crossAxis=i,se.value=G,se.constvar=h,se.index=f,se.x=ee,se.y=ue,se.smoothing=i.smoothing,se}function z(G){var Y,J,ae,oe,he,q=[],Z=[],$={};if($.length=M.length,$.crossLength=T.length,w==="b")for(ae=Math.max(0,Math.min(_-2,G)),he=Math.min(1,Math.max(0,G-ae)),$.xy=function(K){return C.evalxy([],K,G)},$.dxy=function(K,re){return C.dxydi([],K,ae,re,he)},Y=0;Y<O;Y++)q[Y]=D[G*U][Y],Z[Y]=b[G*U][Y];else for(J=Math.max(0,Math.min(V-2,G)),oe=Math.min(1,Math.max(0,G-J)),$.xy=function(K){return C.evalxy([],G,K)},$.dxy=function(K,re){return C.dxydj([],J,K,oe,re)},Y=0;Y<F;Y++)q[Y]=D[Y][G*U],Z[Y]=b[Y][G*U];return $.axisLetter=w,$.axis=S,$.crossAxis=i,$.value=M[G],$.constvar=h,$.index=G,$.x=q,$.y=Z,$.smoothing=i.smoothing,$}if(S.tickmode==="array"){for(s=5e-15,n=[Math.floor((M.length-1-S.arraytick0)/S.arraydtick*(1+s)),Math.ceil(-S.arraytick0/S.arraydtick/(1+s))].sort(function(G,Y){return G-Y}),l=n[0]-1,c=n[1]+1,f=l;f<c;f++)t=S.arraytick0+S.arraydtick*f,!(t<0||t>M.length-1)&&R.push(L(z(t),{color:S.gridcolor,width:S.gridwidth,dash:S.griddash}));for(f=l;f<c;f++)if(r=S.arraytick0+S.arraydtick*f,A=Math.min(r+S.arraydtick,M.length-1),!(r<0||r>M.length-1)&&!(A<0||A>M.length-1))for(d=M[r],u=M[A],g=0;g<S.minorgridcount;g++)y=A-r,!(y<=0)&&(v=d+(u-d)*(g+1)/(S.minorgridcount+1)*(S.arraydtick/y),!(v<M[0]||v>M[M.length-1])&&x.push(L(H(v),{color:S.minorgridcolor,width:S.minorgridwidth,dash:S.minorgriddash})));S.startline&&E.push(L(z(0),{color:S.startlinecolor,width:S.startlinewidth})),S.endline&&E.push(L(z(M.length-1),{color:S.endlinecolor,width:S.endlinewidth}))}else{for(s=5e-15,n=[Math.floor((M[M.length-1]-S.tick0)/S.dtick*(1+s)),Math.ceil((M[0]-S.tick0)/S.dtick/(1+s))].sort(function(G,Y){return G-Y}),l=n[0],c=n[1],f=l;f<=c;f++)m=S.tick0+S.dtick*f,R.push(L(H(m),{color:S.gridcolor,width:S.gridwidth,dash:S.griddash}));for(f=l-1;f<c+1;f++)for(m=S.tick0+S.dtick*f,g=0;g<S.minorgridcount;g++)v=m+S.dtick*(g+1)/(S.minorgridcount+1),!(v<M[0]||v>M[M.length-1])&&x.push(L(H(v),{color:S.minorgridcolor,width:S.minorgridwidth,dash:S.minorgriddash}));S.startline&&E.push(L(H(M[0]),{color:S.startlinecolor,width:S.startlinewidth})),S.endline&&E.push(L(H(M[M.length-1]),{color:S.endlinecolor,width:S.endlinewidth}))}}},83311:function(B,N,e){var p=e(89298),L=e(1426).extendFlat;B.exports=function(C,w){var h,g,t,r,s,n=w._labels=[],l=w._gridlines;for(h=0;h<l.length;h++)s=l[h],["start","both"].indexOf(w.showticklabels)!==-1&&(g=p.tickText(w,s.value),L(g,{prefix:t,suffix:r,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:h===0,isLast:h===l.length-1}),n.push(g)),["end","both"].indexOf(w.showticklabels)!==-1&&(g=p.tickText(w,s.value),L(g,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:h===0,isLast:h===l.length-1}),n.push(g))}},42048:function(B){var N=.5;B.exports=function(p,L,a,C){var w=p[0]-L[0],h=p[1]-L[1],g=a[0]-L[0],t=a[1]-L[1],r=Math.pow(w*w+h*h,N/2),s=Math.pow(g*g+t*t,N/2),n=(s*s*w-r*r*g)*C,l=(s*s*h-r*r*t)*C,c=s*(r+s)*3,f=r*(r+s)*3;return[[L[0]+(c&&n/c),L[1]+(c&&l/c)],[L[0]-(f&&n/f),L[1]-(f&&l/f)]]}},53824:function(B,N,e){var p=e(71828).isArrayOrTypedArray;B.exports=function(L,a,C){var w,h,g,t,r,s,n=[],l=p(L)?L.length:L,c=p(a)?a.length:a,f=p(L)?L:null,m=p(a)?a:null;f&&(g=(f.length-1)/(f[f.length-1]-f[0])/(l-1)),m&&(t=(m.length-1)/(m[m.length-1]-m[0])/(c-1));var v,A=1/0,d=-1/0;for(h=0;h<c;h++)for(n[h]=[],s=m?(m[h]-m[0])*t:h/(c-1),w=0;w<l;w++)r=f?(f[w]-f[0])*g:w/(l-1),v=r-s*C,A=Math.min(v,A),d=Math.max(v,d),n[h][w]=v;var u=1/(d-A),y=-A*u;for(h=0;h<c;h++)for(w=0;w<l;w++)n[h][w]=u*n[h][w]+y;return n}},45664:function(B,N,e){var p=e(42048),L=e(71828).ensureArray;function a(C,w,h){var g=-.5*h[0]+1.5*w[0],t=-.5*h[1]+1.5*w[1];return[(2*g+C[0])/3,(2*t+C[1])/3]}B.exports=function(w,h,g,t,r,s){var n,l,c,f,m,v,A,d,u,y,M=g[0].length,S=g.length,R=r?3*M-2:M,x=s?3*S-2:S;for(w=L(w,x),h=L(h,x),c=0;c<x;c++)w[c]=L(w[c],R),h[c]=L(h[c],R);for(l=0,f=0;l<S;l++,f+=s?3:1)for(m=w[f],v=h[f],A=g[l],d=t[l],n=0,c=0;n<M;n++,c+=r?3:1)m[c]=A[n],v[c]=d[n];if(r)for(l=0,f=0;l<S;l++,f+=s?3:1){for(n=1,c=3;n<M-1;n++,c+=3)u=p([g[l][n-1],t[l][n-1]],[g[l][n],t[l][n]],[g[l][n+1],t[l][n+1]],r),w[f][c-1]=u[0][0],h[f][c-1]=u[0][1],w[f][c+1]=u[1][0],h[f][c+1]=u[1][1];y=a([w[f][0],h[f][0]],[w[f][2],h[f][2]],[w[f][3],h[f][3]]),w[f][1]=y[0],h[f][1]=y[1],y=a([w[f][R-1],h[f][R-1]],[w[f][R-3],h[f][R-3]],[w[f][R-4],h[f][R-4]]),w[f][R-2]=y[0],h[f][R-2]=y[1]}if(s)for(c=0;c<R;c++){for(f=3;f<x-3;f+=3)u=p([w[f-3][c],h[f-3][c]],[w[f][c],h[f][c]],[w[f+3][c],h[f+3][c]],s),w[f-1][c]=u[0][0],h[f-1][c]=u[0][1],w[f+1][c]=u[1][0],h[f+1][c]=u[1][1];y=a([w[0][c],h[0][c]],[w[2][c],h[2][c]],[w[3][c],h[3][c]]),w[1][c]=y[0],h[1][c]=y[1],y=a([w[x-1][c],h[x-1][c]],[w[x-3][c],h[x-3][c]],[w[x-4][c],h[x-4][c]]),w[x-2][c]=y[0],h[x-2][c]=y[1]}if(r&&s)for(f=1;f<x;f+=(f+1)%3===0?2:1){for(c=3;c<R-3;c+=3)u=p([w[f][c-3],h[f][c-3]],[w[f][c],h[f][c]],[w[f][c+3],h[f][c+3]],r),w[f][c-1]=.5*(w[f][c-1]+u[0][0]),h[f][c-1]=.5*(h[f][c-1]+u[0][1]),w[f][c+1]=.5*(w[f][c+1]+u[1][0]),h[f][c+1]=.5*(h[f][c+1]+u[1][1]);y=a([w[f][0],h[f][0]],[w[f][2],h[f][2]],[w[f][3],h[f][3]]),w[f][1]=.5*(w[f][1]+y[0]),h[f][1]=.5*(h[f][1]+y[1]),y=a([w[f][R-1],h[f][R-1]],[w[f][R-3],h[f][R-3]],[w[f][R-4],h[f][R-4]]),w[f][R-2]=.5*(w[f][R-2]+y[0]),h[f][R-2]=.5*(h[f][R-2]+y[1])}return[w,h]}},35509:function(B){B.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(B){B.exports=function(N,e,p){return e&&p?function(L,a,C,w,h){L||(L=[]);var g,t,r,s,n,l;a*=3,C*=3;var c=w*w,f=1-w,m=f*f,v=f*w*2,A=-3*m,d=3*(m-v),u=3*(v-c),y=3*c,M=h*h,S=M*h,R=1-h,x=R*R,E=x*R;for(l=0;l<N.length;l++)n=N[l],g=A*n[C][a]+d*n[C][a+1]+u*n[C][a+2]+y*n[C][a+3],t=A*n[C+1][a]+d*n[C+1][a+1]+u*n[C+1][a+2]+y*n[C+1][a+3],r=A*n[C+2][a]+d*n[C+2][a+1]+u*n[C+2][a+2]+y*n[C+2][a+3],s=A*n[C+3][a]+d*n[C+3][a+1]+u*n[C+3][a+2]+y*n[C+3][a+3],L[l]=E*g+3*(x*h*t+R*M*r)+S*s;return L}:e?function(L,a,C,w,h){L||(L=[]);var g,t,r,s;a*=3;var n=w*w,l=1-w,c=l*l,f=l*w*2,m=-3*c,v=3*(c-f),A=3*(f-n),d=3*n,u=1-h;for(r=0;r<N.length;r++)s=N[r],g=m*s[C][a]+v*s[C][a+1]+A*s[C][a+2]+d*s[C][a+3],t=m*s[C+1][a]+v*s[C+1][a+1]+A*s[C+1][a+2]+d*s[C+1][a+3],L[r]=u*g+h*t;return L}:p?function(L,a,C,w,h){L||(L=[]);var g,t,r,s,n,l;C*=3;var c=h*h,f=c*h,m=1-h,v=m*m,A=v*m;for(n=0;n<N.length;n++)l=N[n],g=l[C][a+1]-l[C][a],t=l[C+1][a+1]-l[C+1][a],r=l[C+2][a+1]-l[C+2][a],s=l[C+3][a+1]-l[C+3][a],L[n]=A*g+3*(v*h*t+m*c*r)+f*s;return L}:function(L,a,C,w,h){L||(L=[]);var g,t,r,s,n=1-h;for(r=0;r<N.length;r++)s=N[r],g=s[C][a+1]-s[C][a],t=s[C+1][a+1]-s[C+1][a],L[r]=n*g+h*t;return L}}},73057:function(B){B.exports=function(N,e,p){return e&&p?function(L,a,C,w,h){L||(L=[]);var g,t,r,s,n,l;a*=3,C*=3;var c=w*w,f=c*w,m=1-w,v=m*m,A=v*m,d=h*h,u=1-h,y=u*u,M=u*h*2,S=-3*y,R=3*(y-M),x=3*(M-d),E=3*d;for(l=0;l<N.length;l++)n=N[l],g=S*n[C][a]+R*n[C+1][a]+x*n[C+2][a]+E*n[C+3][a],t=S*n[C][a+1]+R*n[C+1][a+1]+x*n[C+2][a+1]+E*n[C+3][a+1],r=S*n[C][a+2]+R*n[C+1][a+2]+x*n[C+2][a+2]+E*n[C+3][a+2],s=S*n[C][a+3]+R*n[C+1][a+3]+x*n[C+2][a+3]+E*n[C+3][a+3],L[l]=A*g+3*(v*w*t+m*c*r)+f*s;return L}:e?function(L,a,C,w,h){L||(L=[]);var g,t,r,s,n,l;a*=3;var c=h*h,f=c*h,m=1-h,v=m*m,A=v*m;for(n=0;n<N.length;n++)l=N[n],g=l[C+1][a]-l[C][a],t=l[C+1][a+1]-l[C][a+1],r=l[C+1][a+2]-l[C][a+2],s=l[C+1][a+3]-l[C][a+3],L[n]=A*g+3*(v*h*t+m*c*r)+f*s;return L}:p?function(L,a,C,w,h){L||(L=[]);var g,t,r,s;C*=3;var n=1-w,l=h*h,c=1-h,f=c*c,m=c*h*2,v=-3*f,A=3*(f-m),d=3*(m-l),u=3*l;for(r=0;r<N.length;r++)s=N[r],g=v*s[C][a]+A*s[C+1][a]+d*s[C+2][a]+u*s[C+3][a],t=v*s[C][a+1]+A*s[C+1][a+1]+d*s[C+2][a+1]+u*s[C+3][a+1],L[r]=n*g+w*t;return L}:function(L,a,C,w,h){L||(L=[]);var g,t,r,s,n=1-w;for(r=0;r<N.length;r++)s=N[r],g=s[C+1][a]-s[C][a],t=s[C+1][a+1]-s[C][a+1],L[r]=n*g+w*t;return L}}},20349:function(B){B.exports=function(N,e,p,L,a){var C=e-2,w=p-2;return L&&a?function(h,g,t){h||(h=[]);var r,s,n,l,c,f,m=Math.max(0,Math.min(Math.floor(g),C)),v=Math.max(0,Math.min(Math.floor(t),w)),A=Math.max(0,Math.min(1,g-m)),d=Math.max(0,Math.min(1,t-v));m*=3,v*=3;var u=A*A,y=u*A,M=1-A,S=M*M,R=S*M,x=d*d,E=x*d,T=1-d,i=T*T,D=i*T;for(f=0;f<N.length;f++)c=N[f],r=R*c[v][m]+3*(S*A*c[v][m+1]+M*u*c[v][m+2])+y*c[v][m+3],s=R*c[v+1][m]+3*(S*A*c[v+1][m+1]+M*u*c[v+1][m+2])+y*c[v+1][m+3],n=R*c[v+2][m]+3*(S*A*c[v+2][m+1]+M*u*c[v+2][m+2])+y*c[v+2][m+3],l=R*c[v+3][m]+3*(S*A*c[v+3][m+1]+M*u*c[v+3][m+2])+y*c[v+3][m+3],h[f]=D*r+3*(i*d*s+T*x*n)+E*l;return h}:L?function(h,g,t){h||(h=[]);var r=Math.max(0,Math.min(Math.floor(g),C)),s=Math.max(0,Math.min(Math.floor(t),w)),n=Math.max(0,Math.min(1,g-r)),l=Math.max(0,Math.min(1,t-s)),c,f,m,v,A,d;r*=3;var u=n*n,y=u*n,M=1-n,S=M*M,R=S*M,x=1-l;for(A=0;A<N.length;A++)d=N[A],c=x*d[s][r]+l*d[s+1][r],f=x*d[s][r+1]+l*d[s+1][r+1],m=x*d[s][r+2]+l*d[s+1][r+1],v=x*d[s][r+3]+l*d[s+1][r+1],h[A]=R*c+3*(S*n*f+M*u*m)+y*v;return h}:a?function(h,g,t){h||(h=[]);var r=Math.max(0,Math.min(Math.floor(g),C)),s=Math.max(0,Math.min(Math.floor(t),w)),n=Math.max(0,Math.min(1,g-r)),l=Math.max(0,Math.min(1,t-s)),c,f,m,v,A,d;s*=3;var u=l*l,y=u*l,M=1-l,S=M*M,R=S*M,x=1-n;for(A=0;A<N.length;A++)d=N[A],c=x*d[s][r]+n*d[s][r+1],f=x*d[s+1][r]+n*d[s+1][r+1],m=x*d[s+2][r]+n*d[s+2][r+1],v=x*d[s+3][r]+n*d[s+3][r+1],h[A]=R*c+3*(S*l*f+M*u*m)+y*v;return h}:function(h,g,t){h||(h=[]);var r=Math.max(0,Math.min(Math.floor(g),C)),s=Math.max(0,Math.min(Math.floor(t),w)),n=Math.max(0,Math.min(1,g-r)),l=Math.max(0,Math.min(1,t-s)),c,f,m,v,A=1-l,d=1-n;for(m=0;m<N.length;m++)v=N[m],c=d*v[s][r]+n*v[s][r+1],f=d*v[s+1][r]+n*v[s+1][r+1],h[m]=A*c+l*f;return h}}},92087:function(B,N,e){var p=e(71828),L=e(19237),a=e(13145),C=e(99798),w=e(22399);B.exports=function(g,t,r,s){function n(f,m){return p.coerce(g,t,C,f,m)}t._clipPathId="clip"+t.uid+"carpet";var l=n("color",w.defaultLine);if(p.coerceFont(n,"font"),n("carpet"),a(g,t,s,n,l),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var c=L(g,t,n);c||(t.visible=!1),t._cheater&&n("cheaterslope")}},21462:function(B,N,e){B.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(B){B.exports=function(N,e){for(var p=N._fullData.length,L,a=0;a<p;a++){var C=N._fullData[a];if(C.index!==e.index&&C.type==="carpet"&&(L||(L=C),C.carpet===e.carpet))return C}return L}},67961:function(B){B.exports=function(e,p,L){if(e.length===0)return"";var a,C=[],w=L?3:1;for(a=0;a<e.length;a+=w)C.push(e[a]+","+p[a]),L&&a<e.length-w&&(C.push("C"),C.push([e[a+1]+","+p[a+1],e[a+2]+","+p[a+2]+" "].join(" ")));return C.join(L?"":"L")}},27669:function(B,N,e){var p=e(71828).isArrayOrTypedArray;B.exports=function(a,C,w){var h;for(p(a)?a.length>C.length&&(a=a.slice(0,C.length)):a=[],h=0;h<C.length;h++)a[h]=w(C[h]);return a}},11651:function(B){B.exports=function(e,p,L,a,C,w){var h=C[0]*e.dpdx(p),g=C[1]*e.dpdy(L),t=1,r=1;if(w){var s=Math.sqrt(C[0]*C[0]+C[1]*C[1]),n=Math.sqrt(w[0]*w[0]+w[1]*w[1]),l=(C[0]*w[0]+C[1]*w[1])/s/n;r=Math.max(0,l)}var c=Math.atan2(g,h)*180/Math.PI;return c<-90?(c+=180,t=-t):c>90&&(c-=180,t=-t),{angle:c,flip:t,p:e.c2p(a,p,L),offsetMultplier:r}}},89740:function(B,N,e){var p=e(39898),L=e(91424),a=e(27669),C=e(67961),w=e(11651),h=e(63893),g=e(71828),t=g.strRotate,r=g.strTranslate,s=e(18783);B.exports=function(u,y,M,S){var R=u._context.staticPlot,x=y.xaxis,E=y.yaxis,T=u._fullLayout,i=T._clips;g.makeTraceGroups(S,M,"trace").each(function(D){var b=p.select(this),O=D[0],F=O.trace,V=F.aaxis,_=F.baxis,U=g.ensureSingle(b,"g","minorlayer"),H=g.ensureSingle(b,"g","majorlayer"),z=g.ensureSingle(b,"g","boundarylayer"),G=g.ensureSingle(b,"g","labellayer");b.style("opacity",F.opacity),l(x,E,H,V,"a",V._gridlines,!0),l(x,E,H,_,"b",_._gridlines,!0),l(x,E,U,V,"a",V._minorgridlines,!0),l(x,E,U,_,"b",_._minorgridlines,!0),l(x,E,z,V,"a-boundary",V._boundarylines,R),l(x,E,z,_,"b-boundary",_._boundarylines,R);var Y=c(u,x,E,F,O,G,V._labels,"a-label"),J=c(u,x,E,F,O,G,_._labels,"b-label");f(u,G,F,O,x,E,Y,J),n(F,O,i,x,E)})};function n(d,u,y,M,S){var R,x,E,T,i=y.select("#"+d._clipPathId);i.size()||(i=y.append("clipPath").classed("carpetclip",!0));var D=g.ensureSingle(i,"path","carpetboundary"),b=u.clipsegments,O=[];for(T=0;T<b.length;T++)R=b[T],x=a([],R.x,M.c2p),E=a([],R.y,S.c2p),O.push(C(x,E,R.bicubic));var F="M"+O.join("L")+"Z";i.attr("id",d._clipPathId),D.attr("d",F)}function l(d,u,y,M,S,R,x){var E="const-"+S+"-lines",T=y.selectAll("."+E).data(R);T.enter().append("path").classed(E,!0).style("vector-effect",x?"none":"non-scaling-stroke"),T.each(function(i){var D=i,b=D.x,O=D.y,F=a([],b,d.c2p),V=a([],O,u.c2p),_="M"+C(F,V,D.smoothing),U=p.select(this);U.attr("d",_).style("stroke-width",D.width).style("stroke",D.color).style("stroke-dasharray",L.dashStyle(D.dash,D.width)).style("fill","none")}),T.exit().remove()}function c(d,u,y,M,S,R,x,E){var T=R.selectAll("text."+E).data(x);T.enter().append("text").classed(E,!0);var i=0,D={};return T.each(function(b,O){var F;if(b.axis.tickangle==="auto")F=w(M,u,y,b.xy,b.dxy);else{var V=(b.axis.tickangle+180)*Math.PI/180;F=w(M,u,y,b.xy,[Math.cos(V),Math.sin(V)])}O||(D={angle:F.angle,flip:F.flip});var _=(b.endAnchor?-1:1)*F.flip,U=p.select(this).attr({"text-anchor":_>0?"start":"end","data-notex":1}).call(L.font,b.font).text(b.text).call(h.convertToTspans,d),H=L.bBox(this);U.attr("transform",r(F.p[0],F.p[1])+t(F.angle)+r(b.axis.labelpadding*_,H.height*.3)),i=Math.max(i,H.width+b.axis.labelpadding)}),T.exit().remove(),D.maxExtent=i,D}function f(d,u,y,M,S,R,x,E){var T,i,D,b,O=g.aggNums(Math.min,null,y.a),F=g.aggNums(Math.max,null,y.a),V=g.aggNums(Math.min,null,y.b),_=g.aggNums(Math.max,null,y.b);T=.5*(O+F),i=V,D=y.ab2xy(T,i,!0),b=y.dxyda_rough(T,i),x.angle===void 0&&g.extendFlat(x,w(y,S,R,D,y.dxydb_rough(T,i))),A(d,u,y,M,D,b,y.aaxis,S,R,x,"a-title"),T=O,i=.5*(V+_),D=y.ab2xy(T,i,!0),b=y.dxydb_rough(T,i),E.angle===void 0&&g.extendFlat(E,w(y,S,R,D,y.dxyda_rough(T,i))),A(d,u,y,M,D,b,y.baxis,S,R,E,"b-title")}var m=s.LINE_SPACING,v=(1-s.MID_SHIFT)/m+1;function A(d,u,y,M,S,R,x,E,T,i,D){var b=[];x.title.text&&b.push(x.title.text);var O=u.selectAll("text."+D).data(b),F=i.maxExtent;O.enter().append("text").classed(D,!0),O.each(function(){var V=w(y,E,T,S,R);["start","both"].indexOf(x.showticklabels)===-1&&(F=0);var _=x.title.font.size;F+=_+x.title.offset;var U=i.angle+(i.flip<0?180:0),H=(U-V.angle+450)%360,z=H>90&&H<270,G=p.select(this);G.text(x.title.text).call(h.convertToTspans,d),z&&(F=(-h.lineCount(G)+v)*m*_-F),G.attr("transform",r(V.p[0],V.p[1])+t(V.angle)+r(0,F)).attr("text-anchor","middle").call(L.font,x.title.font)}),O.exit().remove()}},11435:function(B,N,e){var p=e(35509),L=e(65888).findBin,a=e(45664),C=e(20349),w=e(54495),h=e(73057);B.exports=function(t){var r=t._a,s=t._b,n=r.length,l=s.length,c=t.aaxis,f=t.baxis,m=r[0],v=r[n-1],A=s[0],d=s[l-1],u=r[r.length-1]-r[0],y=s[s.length-1]-s[0],M=u*p.RELATIVE_CULL_TOLERANCE,S=y*p.RELATIVE_CULL_TOLERANCE;m-=M,v+=M,A-=S,d+=S,t.isVisible=function(R,x){return R>m&&R<v&&x>A&&x<d},t.isOccluded=function(R,x){return R<m||R>v||x<A||x>d},t.setScale=function(){var R=t._x,x=t._y,E=a(t._xctrl,t._yctrl,R,x,c.smoothing,f.smoothing);t._xctrl=E[0],t._yctrl=E[1],t.evalxy=C([t._xctrl,t._yctrl],n,l,c.smoothing,f.smoothing),t.dxydi=w([t._xctrl,t._yctrl],c.smoothing,f.smoothing),t.dxydj=h([t._xctrl,t._yctrl],c.smoothing,f.smoothing)},t.i2a=function(R){var x=Math.max(0,Math.floor(R[0]),n-2),E=R[0]-x;return(1-E)*r[x]+E*r[x+1]},t.j2b=function(R){var x=Math.max(0,Math.floor(R[1]),n-2),E=R[1]-x;return(1-E)*s[x]+E*s[x+1]},t.ij2ab=function(R){return[t.i2a(R[0]),t.j2b(R[1])]},t.a2i=function(R){var x=Math.max(0,Math.min(L(R,r),n-2)),E=r[x],T=r[x+1];return Math.max(0,Math.min(n-1,x+(R-E)/(T-E)))},t.b2j=function(R){var x=Math.max(0,Math.min(L(R,s),l-2)),E=s[x],T=s[x+1];return Math.max(0,Math.min(l-1,x+(R-E)/(T-E)))},t.ab2ij=function(R){return[t.a2i(R[0]),t.b2j(R[1])]},t.i2c=function(R,x){return t.evalxy([],R,x)},t.ab2xy=function(R,x,E){if(!E&&(R<r[0]||R>r[n-1]|x<s[0]||x>s[l-1]))return[!1,!1];var T=t.a2i(R),i=t.b2j(x),D=t.evalxy([],T,i);if(E){var b=0,O=0,F=[],V,_,U,H;R<r[0]?(V=0,_=0,b=(R-r[0])/(r[1]-r[0])):R>r[n-1]?(V=n-2,_=1,b=(R-r[n-1])/(r[n-1]-r[n-2])):(V=Math.max(0,Math.min(n-2,Math.floor(T))),_=T-V),x<s[0]?(U=0,H=0,O=(x-s[0])/(s[1]-s[0])):x>s[l-1]?(U=l-2,H=1,O=(x-s[l-1])/(s[l-1]-s[l-2])):(U=Math.max(0,Math.min(l-2,Math.floor(i))),H=i-U),b&&(t.dxydi(F,V,U,_,H),D[0]+=F[0]*b,D[1]+=F[1]*b),O&&(t.dxydj(F,V,U,_,H),D[0]+=F[0]*O,D[1]+=F[1]*O)}return D},t.c2p=function(R,x,E){return[x.c2p(R[0]),E.c2p(R[1])]},t.p2x=function(R,x,E){return[x.p2c(R[0]),E.p2c(R[1])]},t.dadi=function(R){var x=Math.max(0,Math.min(r.length-2,R));return r[x+1]-r[x]},t.dbdj=function(R){var x=Math.max(0,Math.min(s.length-2,R));return s[x+1]-s[x]},t.dxyda=function(R,x,E,T){var i=t.dxydi(null,R,x,E,T),D=t.dadi(R,E);return[i[0]/D,i[1]/D]},t.dxydb=function(R,x,E,T){var i=t.dxydj(null,R,x,E,T),D=t.dbdj(x,T);return[i[0]/D,i[1]/D]},t.dxyda_rough=function(R,x,E){var T=u*(E||.1),i=t.ab2xy(R+T,x,!0),D=t.ab2xy(R-T,x,!0);return[(i[0]-D[0])*.5/T,(i[1]-D[1])*.5/T]},t.dxydb_rough=function(R,x,E){var T=y*(E||.1),i=t.ab2xy(R,x+T,!0),D=t.ab2xy(R,x-T,!0);return[(i[0]-D[0])*.5/T,(i[1]-D[1])*.5/T]},t.dpdx=function(R){return R._m},t.dpdy=function(R){return R._m}}},72505:function(B,N,e){var p=e(71828);B.exports=function(a,C,w){var h,g,t,r=[],s=[],n=a[0].length,l=a.length;function c(J,ae){var oe=0,he,q=0;return J>0&&(he=a[ae][J-1])!==void 0&&(q++,oe+=he),J<n-1&&(he=a[ae][J+1])!==void 0&&(q++,oe+=he),ae>0&&(he=a[ae-1][J])!==void 0&&(q++,oe+=he),ae<l-1&&(he=a[ae+1][J])!==void 0&&(q++,oe+=he),oe/Math.max(1,q)}var f=0;for(h=0;h<n;h++)for(g=0;g<l;g++)a[g][h]===void 0&&(r.push(h),s.push(g),a[g][h]=c(h,g)),f=Math.max(f,Math.abs(a[g][h]));if(!r.length)return a;var m,v,A,d,u,y,M,S,R,x,E,T=1e-5,i=0,D=100,b=0,O=r.length;do{for(i=0,t=0;t<O;t++){h=r[t],g=s[t];var F=0,V=0,_,U,H,z,G,Y;h===0?(G=Math.min(n-1,2),H=C[G],z=C[1],_=a[g][G],U=a[g][1],V+=U+(U-_)*(C[0]-z)/(z-H),F++):h===n-1&&(G=Math.max(0,n-3),H=C[G],z=C[n-2],_=a[g][G],U=a[g][n-2],V+=U+(U-_)*(C[n-1]-z)/(z-H),F++),(h===0||h===n-1)&&g>0&&g<l-1&&(m=w[g+1]-w[g],v=w[g]-w[g-1],V+=(v*a[g+1][h]+m*a[g-1][h])/(v+m),F++),g===0?(Y=Math.min(l-1,2),H=w[Y],z=w[1],_=a[Y][h],U=a[1][h],V+=U+(U-_)*(w[0]-z)/(z-H),F++):g===l-1&&(Y=Math.max(0,l-3),H=w[Y],z=w[l-2],_=a[Y][h],U=a[l-2][h],V+=U+(U-_)*(w[l-1]-z)/(z-H),F++),(g===0||g===l-1)&&h>0&&h<n-1&&(m=C[h+1]-C[h],v=C[h]-C[h-1],V+=(v*a[g][h+1]+m*a[g][h-1])/(v+m),F++),F?V/=F:(A=C[h+1]-C[h],d=C[h]-C[h-1],u=w[g+1]-w[g],y=w[g]-w[g-1],M=A*d*(A+d),S=u*y*(u+y),V=(M*(y*a[g+1][h]+u*a[g-1][h])+S*(d*a[g][h+1]+A*a[g][h-1]))/(S*(d+A)+M*(y+u))),R=V-a[g][h],x=R/f,i+=x*x,E=F?0:.85,a[g][h]+=R*(1+E)}i=Math.sqrt(i)}while(b++<D&&i>T);return p.log("Smoother converged to",i,"after",b,"iterations"),a}},19237:function(B,N,e){var p=e(71828).isArray1D;B.exports=function(a,C,w){var h=w("x"),g=h&&h.length,t=w("y"),r=t&&t.length;if(!g&&!r)return!1;if(C._cheater=!h,(!g||p(h))&&(!r||p(t))){var s=g?h.length:1/0;r&&(s=Math.min(s,t.length)),C.a&&C.a.length&&(s=Math.min(s,C.a.length)),C.b&&C.b.length&&(s=Math.min(s,C.b.length)),C._length=s}else C._length=null;return!0}},69568:function(B,N,e){var p=e(5386).fF,L=e(19316),a=e(50693),C=e(9012),w=e(22399).defaultLine,h=e(1426).extendFlat,g=L.marker.line;B.exports=h({locations:{valType:"data_array",editType:"calc"},locationmode:L.locationmode,z:{valType:"data_array",editType:"calc"},geojson:h({},L.geojson,{}),featureidkey:L.featureidkey,text:h({},L.text,{}),hovertext:h({},L.hovertext,{}),marker:{line:{color:h({},g.color,{dflt:w}),width:h({},g.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:L.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:L.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:h({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:p(),showlegend:h({},C.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(B,N,e){var p=e(92770),L=e(50606).BADNUM,a=e(78803),C=e(75225),w=e(66279);function h(g){return g&&typeof g=="string"}B.exports=function(t,r){var s=r._length,n=new Array(s),l;r.geojson?l=function(A){return h(A)||p(A)}:l=h;for(var c=0;c<s;c++){var f=n[c]={},m=r.locations[c],v=r.z[c];l(m)&&p(v)?(f.loc=m,f.z=v):(f.loc=null,f.z=L),f.index=c}return C(n,r),a(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),w(n,r),n}},61869:function(B,N,e){var p=e(71828),L=e(1586),a=e(69568);B.exports=function(w,h,g,t){function r(v,A){return p.coerce(w,h,a,v,A)}var s=r("locations"),n=r("z");if(!(s&&s.length&&p.isArrayOrTypedArray(n)&&n.length)){h.visible=!1;return}h._length=Math.min(s.length,n.length);var l=r("geojson"),c;(typeof l=="string"&&l!==""||p.isPlainObject(l))&&(c="geojson-id");var f=r("locationmode",c);f==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var m=r("marker.line.width");m&&r("marker.line.color"),r("marker.opacity"),L(w,h,t,r,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(h,r)}},92069:function(B){B.exports=function(e,p,L,a,C){e.location=p.location,e.z=p.z;var w=a[C];return w.fIn&&w.fIn.properties&&(e.properties=w.fIn.properties),e.ct=w.ct,e}},42300:function(B,N,e){var p=e(89298),L=e(69568),a=e(71828).fillText;B.exports=function(h,g,t){var r=h.cd,s=r[0].trace,n=h.subplot,l,c,f,m,v=[g,t],A=[g+360,t];for(c=0;c<r.length;c++)if(l=r[c],m=!1,l._polygons){for(f=0;f<l._polygons.length;f++)l._polygons[f].contains(v)&&(m=!m),l._polygons[f].contains(A)&&(m=!m);if(m)break}if(!(!m||!l))return h.x0=h.x1=h.xa.c2p(l.ct),h.y0=h.y1=h.ya.c2p(l.ct),h.index=l.index,h.location=l.loc,h.z=l.z,h.zLabel=p.tickText(n.mockAxis,n.mockAxis.c2l(l.z),"hover").text,h.hovertemplate=l.hovertemplate,C(h,s,l),[h]};function C(w,h,g){if(!h.hovertemplate){var t=g.hi||h.hoverinfo,r=String(g.loc),s=t==="all"?L.hoverinfo.flags:t.split("+"),n=s.indexOf("name")!==-1,l=s.indexOf("location")!==-1,c=s.indexOf("z")!==-1,f=s.indexOf("text")!==-1,m=!n&&l,v=[];m?w.nameOverride=r:(n&&(w.nameOverride=h.name),l&&v.push(r)),c&&v.push(w.zLabel),f&&a(g,h,v),w.extraText=v.join("<br>")}}},51319:function(B,N,e){B.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(B,N,e){var p=e(39898),L=e(71828),a=e(41327),C=e(90973).getTopojsonFeatures,w=e(71739).findExtremes,h=e(99636).style;function g(r,s,n){var l=s.layers.backplot.select(".choroplethlayer");L.makeTraceGroups(l,n,"trace choropleth").each(function(c){var f=p.select(this),m=f.selectAll("path.choroplethlocation").data(L.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),h(r,c)})}function t(r,s){for(var n=r[0].trace,l=s[n.geo],c=l._subplot,f=n.locationmode,m=n._length,v=f==="geojson-id"?a.extractTraceFeature(r):C(n,c.topojson),A=[],d=[],u=0;u<m;u++){var y=r[u],M=f==="geojson-id"?y.fOut:a.locationToFeature(f,y.loc,v);if(M){y.geojson=M,y.ct=M.properties.ct,y._polygons=a.feature2polygons(M);var S=a.computeBbox(M);A.push(S[0],S[2]),d.push(S[1],S[3])}else y.geojson=null}if(l.fitbounds==="geojson"&&f==="geojson-id"){var R=a.computeBbox(a.getTraceGeojson(n));A=[R[0],R[2]],d=[R[1],R[3]]}var x={padded:!0};n._extremes.lon=w(l.lonaxis._ax,A,x),n._extremes.lat=w(l.lataxis._ax,d,x)}B.exports={calcGeoJSON:t,plot:g}},81253:function(B){B.exports=function(e,p){var L=e.cd,a=e.xaxis,C=e.yaxis,w=[],h,g,t,r,s;if(p===!1)for(h=0;h<L.length;h++)L[h].selected=0;else for(h=0;h<L.length;h++)g=L[h],t=g.ct,t&&(r=a.c2p(t),s=C.c2p(t),p.contains([r,s],null,h,e)?(w.push({pointNumber:h,lon:t[0],lat:t[1]}),g.selected=1):g.selected=0);return w}},99636:function(B,N,e){var p=e(39898),L=e(7901),a=e(91424),C=e(21081);function w(t,r){r&&h(t,r)}function h(t,r){var s=r[0].trace,n=r[0].node3,l=n.selectAll(".choroplethlocation"),c=s.marker||{},f=c.line||{},m=C.makeColorScaleFuncFromTrace(s);l.each(function(v){p.select(this).attr("fill",m(v.z)).call(L.stroke,v.mlc||f.color).call(a.dashLine,"",v.mlw||f.width||0).style("opacity",c.opacity)}),a.selectedPointStyle(l,s)}function g(t,r){var s=r[0].node3,n=r[0].trace;n.selectedpoints?a.selectedPointStyle(s.selectAll(".choroplethlocation"),n):h(t,r)}B.exports={style:w,styleOnSelect:g}},64496:function(B,N,e){var p=e(69568),L=e(50693),a=e(5386).fF,C=e(9012),w=e(1426).extendFlat;B.exports=w({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:w({},p.featureidkey,{}),below:{valType:"string",editType:"plot"},text:p.text,hovertext:p.hovertext,marker:{line:{color:w({},p.marker.line.color,{editType:"plot"}),width:w({},p.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:w({},p.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:w({},p.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:w({},p.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:p.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:w({},C.showlegend,{dflt:!1})},L("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(B,N,e){var p=e(92770),L=e(71828),a=e(21081),C=e(91424),w=e(18214).makeBlank,h=e(41327);function g(r){var s=r[0].trace,n=s.visible===!0&&s._length!==0,l={layout:{visibility:"none"},paint:{}},c={layout:{visibility:"none"},paint:{}},f=s._opts={fill:l,line:c,geojson:w()};if(!n)return f;var m=h.extractTraceFeature(r);if(!m)return f;var v=a.makeColorScaleFuncFromTrace(s),A=s.marker,d=A.line||{},u;L.isArrayOrTypedArray(A.opacity)&&(u=function(i){var D=i.mo;return p(D)?+L.constrain(D,0,1):0});var y;L.isArrayOrTypedArray(d.color)&&(y=function(i){return i.mlc});var M;L.isArrayOrTypedArray(d.width)&&(M=function(i){return i.mlw});for(var S=0;S<r.length;S++){var R=r[S],x=R.fOut;if(x){var E=x.properties;E.fc=v(R.z),u&&(E.mo=u(R)),y&&(E.mlc=y(R)),M&&(E.mlw=M(R)),R.ct=E.ct,R._polygons=h.feature2polygons(x)}}var T=u?{type:"identity",property:"mo"}:A.opacity;return L.extendFlat(l.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":T}),L.extendFlat(c.paint,{"line-color":y?{type:"identity",property:"mlc"}:d.color,"line-width":M?{type:"identity",property:"mlw"}:d.width,"line-opacity":T}),l.layout.visibility="visible",c.layout.visibility="visible",f.geojson={type:"FeatureCollection",features:m},t(r),f}function t(r){var s=r[0].trace,n=s._opts,l;if(s.selectedpoints){for(var c=C.makeSelectedPointStyleFns(s),f=0;f<r.length;f++){var m=r[f];m.fOut&&(m.fOut.properties.mo2=c.selectedOpacityFn(m))}l={type:"identity",property:"mo2"}}else l=L.isArrayOrTypedArray(s.marker.opacity)?{type:"identity",property:"mo"}:s.marker.opacity;return L.extendFlat(n.fill.paint,{"fill-opacity":l}),L.extendFlat(n.line.paint,{"line-opacity":l}),n}B.exports={convert:g,convertOnSelect:t}},22654:function(B,N,e){var p=e(71828),L=e(1586),a=e(64496);B.exports=function(w,h,g,t){function r(f,m){return p.coerce(w,h,a,f,m)}var s=r("locations"),n=r("z"),l=r("geojson");if(!p.isArrayOrTypedArray(s)||!s.length||!p.isArrayOrTypedArray(n)||!n.length||!(typeof l=="string"&&l!==""||p.isPlainObject(l))){h.visible=!1;return}r("featureidkey"),h._length=Math.min(s.length,n.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var c=r("marker.line.width");c&&r("marker.line.color"),r("marker.opacity"),L(w,h,t,r,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(h,r)}},57516:function(B,N,e){B.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(p,L){if(L){var a=L[0].trace;a._glTrace.updateOnSelect(L)}},getBelow:function(p,L){for(var a=L.getMapLayers(),C=a.length-2;C>=0;C--){var w=a[C].id;if(typeof w=="string"&&w.indexOf("water")===0){for(var h=C+1;h<a.length;h++)if(w=a[h].id,typeof w=="string"&&w.indexOf("plotly-")===-1)return w}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(B,N,e){var p=e(82004).convert,L=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function C(h,g){this.type="choroplethmapbox",this.subplot=h,this.uid=g,this.sourceId="source-"+g,this.layerList=[["fill",a+g+"-fill"],["line",a+g+"-line"]],this.below=null}var w=C.prototype;w.update=function(h){this._update(p(h)),h[0].trace._glTrace=this},w.updateOnSelect=function(h){this._update(L(h))},w._update=function(h){var g=this.subplot,t=this.layerList,r=g.belowLookup["trace-"+this.uid];g.map.getSource(this.sourceId).setData(h.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(h,r),this.below=r);for(var s=0;s<t.length;s++){var n=t[s],l=n[0],c=n[1],f=h[l];g.setOptions(c,"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&g.setOptions(c,"setPaintProperty",f.paint)}},w._addLayers=function(h,g){for(var t=this.subplot,r=this.layerList,s=this.sourceId,n=0;n<r.length;n++){var l=r[n],c=l[0],f=h[c];t.addLayer({type:c,id:l[1],source:s,layout:f.layout,paint:f.paint},g)}},w._removeLayers=function(){for(var h=this.subplot.map,g=this.layerList,t=g.length-1;t>=0;t--)h.removeLayer(g[t][1])},w.dispose=function(){var h=this.subplot.map;this._removeLayers(),h.removeSource(this.sourceId)},B.exports=function(g,t){var r=t[0].trace,s=new C(g,r.uid),n=s.sourceId,l=p(t),c=s.below=g.belowLookup["trace-"+r.uid];return g.map.addSource(n,{type:"geojson",data:l.geojson}),s._addLayers(l,c),t[0].trace._glTrace=s,s}},12674:function(B,N,e){var p=e(50693),L=e(12663).axisHoverFormat,a=e(5386).fF,C=e(2418),w=e(9012),h=e(1426).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:h({},w.showlegend,{dflt:!1})};h(g,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){g[r]=C[r]}),g.hoverinfo=h({},w.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,B.exports=g},31371:function(B,N,e){var p=e(78803);B.exports=function(a,C){for(var w=C.u,h=C.v,g=C.w,t=Math.min(C.x.length,C.y.length,C.z.length,w.length,h.length,g.length),r=-1/0,s=1/0,n=0;n<t;n++){var l=w[n],c=h[n],f=g[n],m=Math.sqrt(l*l+c*c+f*f);r=Math.max(r,m),s=Math.min(s,m)}C._len=t,C._normMax=r,p(a,C,{vals:[s,r],containerStr:"",cLetter:"c"})}},5453:function(B,N,e){var p=e(9330).gl_cone3d,L=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,C=e(81697).parseColorScale,w=e(21081).extractOpts,h=e(90060);function g(f,m){this.scene=f,this.uid=m,this.mesh=null,this.data=null}var t=g.prototype;t.handlePick=function(f){if(f.object===this.mesh){var m=f.index=f.data.index,v=this.data.x[m],A=this.data.y[m],d=this.data.z[m],u=this.data.u[m],y=this.data.v[m],M=this.data.w[m];f.traceCoordinate=[v,A,d,u,y,M,Math.sqrt(u*u+y*y+M*M)];var S=this.data.hovertext||this.data.text;return Array.isArray(S)&&S[m]!==void 0?f.textLabel=S[m]:S&&(f.textLabel=S),!0}};var r={xaxis:0,yaxis:1,zaxis:2},s={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function l(f,m){var v=f.fullSceneLayout,A=f.dataScale,d={};function u(R,x){var E=v[x],T=A[r[x]];return a(R,function(i){return E.d2l(i)*T})}d.vectors=h(u(m.u,"xaxis"),u(m.v,"yaxis"),u(m.w,"zaxis"),m._len),d.positions=h(u(m.x,"xaxis"),u(m.y,"yaxis"),u(m.z,"zaxis"),m._len);var y=w(m);d.colormap=C(m),d.vertexIntensityBounds=[y.min/m._normMax,y.max/m._normMax],d.coneOffset=s[m.anchor],m.sizemode==="scaled"?d.coneSize=m.sizeref||.5:d.coneSize=m.sizeref&&m._normMax?m.sizeref/m._normMax:.5;var M=p(d),S=m.lightposition;return M.lightPosition=[S.x,S.y,S.z],M.ambient=m.lighting.ambient,M.diffuse=m.lighting.diffuse,M.specular=m.lighting.specular,M.roughness=m.lighting.roughness,M.fresnel=m.lighting.fresnel,M.opacity=m.opacity,m._pad=n[m.anchor]*M.vectorScale*M.coneScale*m._normMax,M}t.update=function(f){this.data=f;var m=l(this.scene,f);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(f,m){var v=f.glplot.gl,A=l(f,m),d=L(v,A),u=new g(f,m.uid);return u.mesh=d,u.data=m,d._trace=u,f.glplot.add(d),u}B.exports=c},91750:function(B,N,e){var p=e(71828),L=e(1586),a=e(12674);B.exports=function(w,h,g,t){function r(v,A){return p.coerce(w,h,a,v,A)}var s=r("u"),n=r("v"),l=r("w"),c=r("x"),f=r("y"),m=r("z");if(!s||!s.length||!n||!n.length||!l||!l.length||!c||!c.length||!f||!f.length||!m||!m.length){h.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),L(w,h,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),h._length=null}},98128:function(B,N,e){B.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(p,L){return p.norm=L.traceCoordinate[6],p},meta:{}}},70600:function(B,N,e){var p=e(21606),L=e(82196),a=e(12663),C=a.axisHoverFormat,w=a.descriptionOnlyNumbers,h=e(50693),g=e(79952).P,t=e(41940),r=e(1426).extendFlat,s=e(74808),n=s.COMPARISON_OPS2,l=s.INTERVAL_OPS,c=L.line;B.exports=r({z:p.z,x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,text:p.text,hovertext:p.hovertext,transpose:p.transpose,xtype:p.xtype,ytype:p.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:r({},p.texttemplate,{}),textfont:r({},p.textfont,{}),hoverongaps:p.hoverongaps,connectgaps:r({},p.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:w("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},c.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:g,smoothing:r({},c.smoothing,{}),editType:"plot"}},h("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(B,N,e){var p=e(21081),L=e(90757),a=e(18670),C=e(53572);B.exports=function(h,g){var t=L(h,g),r=t[0].z;a(g,r);var s=g.contours,n=p.extractOpts(g),l;if(s.coloring==="heatmap"&&n.auto&&g.autocontour===!1){var c=s.start,f=C(s),m=s.size||1,v=Math.floor((f-c)/m)+1;isFinite(m)||(m=1,v=1);var A=c-m/2,d=A+v*m;l=[A,d]}else l=r;return p.calc(h,g,{vals:l,cLetter:"z"}),t}},20083:function(B){B.exports=function(N,e){var p=N[0],L=p.z,a;switch(e.type){case"levels":var C=Math.min(L[0][0],L[0][1]);for(a=0;a<N.length;a++){var w=N[a];w.prefixBoundary=!w.edgepaths.length&&(C>w.level||w.starts.length&&C===w.level)}break;case"constraint":if(p.prefixBoundary=!1,p.edgepaths.length)return;var h=p.x.length,g=p.y.length,t=-1/0,r=1/0;for(a=0;a<g;a++)r=Math.min(r,L[a][0]),r=Math.min(r,L[a][h-1]),t=Math.max(t,L[a][0]),t=Math.max(t,L[a][h-1]);for(a=1;a<h-1;a++)r=Math.min(r,L[0][a]),r=Math.min(r,L[g-1][a]),t=Math.max(t,L[0][a]),t=Math.max(t,L[g-1][a]);var s=e.value,n,l;switch(e._operation){case">":s>t&&(p.prefixBoundary=!0);break;case"<":(s<r||p.starts.length&&s===r)&&(p.prefixBoundary=!0);break;case"[]":n=Math.min(s[0],s[1]),l=Math.max(s[0],s[1]),(l<r||n>t||p.starts.length&&l===r)&&(p.prefixBoundary=!0);break;case"][":n=Math.min(s[0],s[1]),l=Math.max(s[0],s[1]),n<r&&l>t&&(p.prefixBoundary=!0);break}break}}},90654:function(B,N,e){var p=e(21081),L=e(86068),a=e(53572);function C(w,h,g){var t=h.contours,r=h.line,s=t.size||1,n=t.coloring,l=L(h,{isColorbar:!0});if(n==="heatmap"){var c=p.extractOpts(h);g._fillgradient=c.reversescale?p.flipScale(c.colorscale):c.colorscale,g._zrange=[c.min,c.max]}else n==="fill"&&(g._fillcolor=l);g._line={color:n==="lines"?l:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},g._levels={start:t.start,end:a(t),size:s}}B.exports={min:"zmin",max:"zmax",calc:C}},36914:function(B){B.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(B,N,e){var p=e(92770),L=e(14523),a=e(7901),C=a.addOpacity,w=a.opacity,h=e(74808),g=h.CONSTRAINT_REDUCTION,t=h.COMPARISON_OPS2;B.exports=function(n,l,c,f,m,v){var A=l.contours,d,u,y,M=c("contours.operation");if(A._operation=g[M],r(c,A),M==="="?d=A.showlines=!0:(d=c("contours.showlines"),y=c("fillcolor",C((n.line||{}).color||m,.5))),d){var S=y&&w(y)?C(l.fillcolor,1):m;u=c("line.color",S),c("line.width",2),c("line.dash")}c("line.smoothing"),L(c,f,u,v)};function r(s,n){var l;t.indexOf(n.operation)===-1?(s("contours.value",[0,1]),Array.isArray(n.value)?n.value.length>2?n.value=n.value.slice(2):n.length===0?n.value=[0,1]:n.length<2?(l=parseFloat(n.value[0]),n.value=[l,l+1]):n.value=[parseFloat(n.value[0]),parseFloat(n.value[1])]:p(n.value)&&(l=parseFloat(n.value),n.value=[l,l+1])):(s("contours.value",0),p(n.value)||(Array.isArray(n.value)?n.value=parseFloat(n.value[0]):n.value=0))}},64237:function(B,N,e){var p=e(74808),L=e(92770);B.exports={"[]":C("[]"),"][":C("]["),">":w(">"),"<":w("<"),"=":w("=")};function a(h,g){var t=Array.isArray(g),r;function s(n){return L(n)?+n:null}return p.COMPARISON_OPS2.indexOf(h)!==-1?r=s(t?g[0]:g):p.INTERVAL_OPS.indexOf(h)!==-1?r=t?[s(g[0]),s(g[1])]:[s(g),s(g)]:p.SET_OPS.indexOf(h)!==-1&&(r=t?g.map(s):[s(g)]),r}function C(h){return function(g){g=a(h,g);var t=Math.min(g[0],g[1]),r=Math.max(g[0],g[1]);return{start:t,end:r,size:r-t}}}function w(h){return function(g){return g=a(h,g),{start:g,end:1/0,size:1/0}}}},67217:function(B){B.exports=function(e,p,L,a){var C=a("contours.start"),w=a("contours.end"),h=C===!1||w===!1,g=L("contours.size"),t;h?t=p.autocontour=!0:t=L("autocontour",!1),(t||!g)&&L("ncontours")}},84857:function(B,N,e){var p=e(71828);B.exports=function(a,C){var w,h,g,t=function(n){return n.reverse()},r=function(n){return n};switch(C){case"=":case"<":return a;case">":for(a.length!==1&&p.warn("Contour data invalid for the specified inequality operation."),h=a[0],w=0;w<h.edgepaths.length;w++)h.edgepaths[w]=t(h.edgepaths[w]);for(w=0;w<h.paths.length;w++)h.paths[w]=t(h.paths[w]);for(w=0;w<h.starts.length;w++)h.starts[w]=t(h.starts[w]);return a;case"][":var s=t;t=r,r=s;case"[]":for(a.length!==2&&p.warn("Contour data invalid for the specified inequality range operation."),h=L(a[0]),g=L(a[1]),w=0;w<h.edgepaths.length;w++)h.edgepaths[w]=t(h.edgepaths[w]);for(w=0;w<h.paths.length;w++)h.paths[w]=t(h.paths[w]);for(w=0;w<h.starts.length;w++)h.starts[w]=t(h.starts[w]);for(;g.edgepaths.length;)h.edgepaths.push(r(g.edgepaths.shift()));for(;g.paths.length;)h.paths.push(r(g.paths.shift()));for(;g.starts.length;)h.starts.push(r(g.starts.shift()));return[h]}};function L(a){return p.extendFlat({},a,{edgepaths:p.extendDeep([],a.edgepaths),paths:p.extendDeep([],a.paths),starts:p.extendDeep([],a.starts)})}},13031:function(B,N,e){var p=e(71828),L=e(67684),a=e(73927),C=e(83179),w=e(67217),h=e(8724),g=e(58623),t=e(70600);B.exports=function(s,n,l,c){function f(d,u){return p.coerce(s,n,t,d,u)}function m(d){return p.coerce2(s,n,t,d)}var v=L(s,n,f,c);if(!v){n.visible=!1;return}a(s,n,c,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hoverongaps"),f("hovertemplate");var A=f("contours.type")==="constraint";f("connectgaps",p.isArray1D(n.z)),A?C(s,n,f,c,l):(w(s,n,f,m),h(s,n,f,c)),n.contours&&n.contours.coloring==="heatmap"&&g(f,c)}},87558:function(B,N,e){var p=e(71828),L=e(64237),a=e(53572);B.exports=function(w,h,g){for(var t=w.type==="constraint"?L[w._operation](w.value):w,r=t.size,s=[],n=a(t),l=g.trace._carpetTrace,c=l?{xaxis:l.aaxis,yaxis:l.baxis,x:g.a,y:g.b}:{xaxis:h.xaxis,yaxis:h.yaxis,x:g.x,y:g.y},f=t.start;f<n;f+=r)if(s.push(p.extendFlat({level:f,crossings:{},starts:[],edgepaths:[],paths:[],z:g.z,smoothing:g.trace.line.smoothing},c)),s.length>1e3){p.warn("Too many contours, clipping at 1000",w);break}return s}},53572:function(B){B.exports=function(e){return e.end+e.size/1e6}},81696:function(B,N,e){var p=e(71828),L=e(36914);B.exports=function(r,s,n){var l,c,f,m,v;for(s=s||.01,n=n||.01,f=0;f<r.length;f++){for(m=r[f],v=0;v<m.starts.length;v++)c=m.starts[v],w(m,c,"edge",s,n);for(l=0;Object.keys(m.crossings).length&&l<1e4;)l++,c=Object.keys(m.crossings)[0].split(",").map(Number),w(m,c,void 0,s,n);l===1e4&&p.log("Infinite loop in contour?")}};function a(t,r,s,n){return Math.abs(t[0]-r[0])<s&&Math.abs(t[1]-r[1])<n}function C(t,r){var s=t[2]-r[2],n=t[3]-r[3];return Math.sqrt(s*s+n*n)}function w(t,r,s,n,l){var c=r.join(","),f=t.crossings[c],m=h(f,s,r),v=[g(t,r,[-m[0],-m[1]])],A=t.z.length,d=t.z[0].length,u=r.slice(),y=m.slice(),M;for(M=0;M<1e4;M++){if(f>20?(f=L.CHOOSESADDLE[f][(m[0]||m[1])<0?0:1],t.crossings[c]=L.SADDLEREMAINDER[f]):delete t.crossings[c],m=L.NEWDELTA[f],!m){p.log("Found bad marching index:",f,r,t.level);break}v.push(g(t,r,m)),r[0]+=m[0],r[1]+=m[1],c=r.join(","),a(v[v.length-1],v[v.length-2],n,l)&&v.pop();var S=m[0]&&(r[0]<0||r[0]>d-2)||m[1]&&(r[1]<0||r[1]>A-2),R=r[0]===u[0]&&r[1]===u[1]&&m[0]===y[0]&&m[1]===y[1];if(R||s&&S)break;f=t.crossings[c]}M===1e4&&p.log("Infinite loop in contour?");var x=a(v[0],v[v.length-1],n,l),E=0,T=.2*t.smoothing,i=[],D=0,b,O,F,V,_,U,H,z,G,Y,J;for(M=1;M<v.length;M++)H=C(v[M],v[M-1]),E+=H,i.push(H);var ae=E/i.length*T;function oe(Z){return v[Z%v.length]}for(M=v.length-2;M>=D;M--)if(b=i[M],b<ae){for(F=0,O=M-1;O>=D&&b+i[O]<ae;O--)b+=i[O];if(x&&M===v.length-2)for(F=0;F<O&&b+i[F]<ae;F++)b+=i[F];_=M-O+F+1,U=Math.floor((M+O+F+2)/2),!x&&M===v.length-2?V=v[v.length-1]:!x&&O===-1?V=v[0]:_%2?V=oe(U):V=[(oe(U)[0]+oe(U+1)[0])/2,(oe(U)[1]+oe(U+1)[1])/2],v.splice(O+1,M-O+1,V),M=O+1,F&&(D=F),x&&(M===v.length-2?v[F]=v[v.length-1]:M===0&&(v[v.length-1]=v[0]))}for(v.splice(0,D),M=0;M<v.length;M++)v[M].length=2;if(!(v.length<2))if(x)v.pop(),t.paths.push(v);else{s||p.log("Unclosed interior contour?",t.level,u.join(","),v.join("L"));var he=!1;for(z=0;z<t.edgepaths.length;z++)if(Y=t.edgepaths[z],!he&&a(Y[0],v[v.length-1],n,l)){v.pop(),he=!0;var q=!1;for(G=0;G<t.edgepaths.length;G++)if(J=t.edgepaths[G],a(J[J.length-1],v[0],n,l)){q=!0,v.shift(),t.edgepaths.splice(z,1),G===z?t.paths.push(v.concat(J)):(G>z&&G--,t.edgepaths[G]=J.concat(v,Y));break}q||(t.edgepaths[z]=v.concat(Y))}for(z=0;z<t.edgepaths.length&&!he;z++)Y=t.edgepaths[z],a(Y[Y.length-1],v[0],n,l)&&(v.shift(),t.edgepaths[z]=Y.concat(v),he=!0);he||t.edgepaths.push(v)}}function h(t,r,s){var n=0,l=0;return t>20&&r?t===208||t===1114?n=s[0]===0?1:-1:l=s[1]===0?1:-1:L.BOTTOMSTART.indexOf(t)!==-1?l=1:L.LEFTSTART.indexOf(t)!==-1?n=1:L.TOPSTART.indexOf(t)!==-1?l=-1:n=-1,[n,l]}function g(t,r,s){var n=r[0]+Math.max(s[0],0),l=r[1]+Math.max(s[1],0),c=t.z[l][n],f=t.xaxis,m=t.yaxis;if(s[1]){var v=(t.level-c)/(t.z[l][n+1]-c),A=(v!==1?(1-v)*f.c2l(t.x[n]):0)+(v!==0?v*f.c2l(t.x[n+1]):0);return[f.c2p(f.l2c(A),!0),m.c2p(t.y[l],!0),n+v,l]}else{var d=(t.level-c)/(t.z[l+1][n]-c),u=(d!==1?(1-d)*m.c2l(t.y[l]):0)+(d!==0?d*m.c2l(t.y[l+1]):0);return[f.c2p(t.x[n],!0),m.c2p(m.l2c(u),!0),n,l+d]}}},52421:function(B,N,e){var p=e(7901),L=e(46248);B.exports=function(C,w,h,g,t){t||(t={}),t.isContour=!0;var r=L(C,w,h,g,t);return r&&r.forEach(function(s){var n=s.trace;n.contours.type==="constraint"&&(n.fillcolor&&p.opacity(n.fillcolor)?s.color=p.addOpacity(n.fillcolor,1):n.contours.showlines&&p.opacity(n.line.color)&&(s.color=p.addOpacity(n.line.color,1)))}),r}},99442:function(B,N,e){B.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(B,N,e){var p=e(71828);B.exports=function(a,C,w,h){h||(h={});var g=a("contours.showlabels");if(g){var t=C.font;p.coerceFont(a,"contours.labelfont",{family:t.family,size:t.size,color:w}),a("contours.labelformat")}h.hasHover!==!1&&a("zhoverformat")}},86068:function(B,N,e){var p=e(39898),L=e(21081),a=e(53572);B.exports=function(w){var h=w.contours,g=h.start,t=a(h),r=h.size||1,s=Math.floor((t-g)/r)+1,n=h.coloring==="lines"?0:1,l=L.extractOpts(w);isFinite(r)||(r=1,s=1);var c=l.reversescale?L.flipScale(l.colorscale):l.colorscale,f=c.length,m=new Array(f),v=new Array(f),A,d,u=l.min,y=l.max;if(h.coloring==="heatmap"){for(d=0;d<f;d++)A=c[d],m[d]=A[0]*(y-u)+u,v[d]=A[1];var M=p.extent([u,y,h.start,h.start+r*(s-1)]),S=M[u<y?0:1],R=M[u<y?1:0];S!==u&&(m.splice(0,0,S),v.splice(0,0,v[0])),R!==y&&(m.push(R),v.push(v[v.length-1]))}else{var x=w._input&&typeof w._input.zmin=="number"&&typeof w._input.zmax=="number";for(x&&(g<=u||t>=y)&&(g<=u&&(g=u),t>=y&&(t=y),s=Math.floor((t-g)/r)+1,n=0),d=0;d<f;d++)A=c[d],m[d]=(A[0]*(s+n-1)-n/2)*r+g,v[d]=A[1];(x||w.autocontour)&&(m[0]>u&&(m.unshift(u),v.unshift(v[0])),m[m.length-1]<y&&(m.push(y),v.push(v[v.length-1])))}return L.makeColorScaleFunc({domain:m,range:v},{noNumericCheck:!0})}},87678:function(B,N,e){var p=e(36914);B.exports=function(C){var w=C[0].z,h=w.length,g=w[0].length,t=h===2||g===2,r,s,n,l,c,f,m,v,A;for(s=0;s<h-1;s++)for(l=[],s===0&&(l=l.concat(p.BOTTOMSTART)),s===h-2&&(l=l.concat(p.TOPSTART)),r=0;r<g-1;r++)for(n=l.slice(),r===0&&(n=n.concat(p.LEFTSTART)),r===g-2&&(n=n.concat(p.RIGHTSTART)),c=r+","+s,f=[[w[s][r],w[s][r+1]],[w[s+1][r],w[s+1][r+1]]],A=0;A<C.length;A++)v=C[A],m=L(v.level,f),m&&(v.crossings[c]=m,n.indexOf(m)!==-1&&(v.starts.push([r,s]),t&&n.indexOf(m,n.indexOf(m)+1)!==-1&&v.starts.push([r,s])))};function L(a,C){var w=(C[0][0]>a?0:1)+(C[0][1]>a?0:2)+(C[1][1]>a?0:4)+(C[1][0]>a?0:8);if(w===5||w===10){var h=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return a>h?w===5?713:1114:w===5?104:208}return w===15?0:w}},29854:function(B,N,e){var p=e(39898),L=e(71828),a=e(91424),C=e(21081),w=e(63893),h=e(89298),g=e(21994),t=e(50347),r=e(87678),s=e(81696),n=e(87558),l=e(84857),c=e(20083),f=e(36914),m=f.LABELOPTIMIZER;N.plot=function(x,E,T,i){var D=E.xaxis,b=E.yaxis;L.makeTraceGroups(i,T,"contour").each(function(O){var F=p.select(this),V=O[0],_=V.trace,U=V.x,H=V.y,z=_.contours,G=n(z,E,V),Y=L.ensureSingle(F,"g","heatmapcoloring"),J=[];z.coloring==="heatmap"&&(J=[O]),t(x,E,J,Y),r(G),s(G);var ae=D.c2p(U[0],!0),oe=D.c2p(U[U.length-1],!0),he=b.c2p(H[0],!0),q=b.c2p(H[H.length-1],!0),Z=[[ae,q],[oe,q],[oe,he],[ae,he]],$=G;z.type==="constraint"&&($=l(G,z._operation)),v(F,Z,z),A(F,$,Z,z),u(F,G,x,V,z),M(F,E,x,V,Z)})};function v(R,x,E){var T=L.ensureSingle(R,"g","contourbg"),i=T.selectAll("path").data(E.coloring==="fill"?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+x.join("L")+"Z").style("stroke","none")}function A(R,x,E,T){var i=T.coloring==="fill"||T.type==="constraint"&&T._operation!=="=",D="M"+E.join("L")+"Z";i&&c(x,T);var b=L.ensureSingle(R,"g","contourfill"),O=b.selectAll("path").data(i?x:[]);O.enter().append("path"),O.exit().remove(),O.each(function(F){var V=(F.prefixBoundary?D:"")+d(F,E);V?p.select(this).attr("d",V).style("stroke","none"):p.select(this).remove()})}function d(R,x){var E="",T=0,i=R.edgepaths.map(function(ae,oe){return oe}),D=!0,b,O,F,V,_,U;function H(ae){return Math.abs(ae[1]-x[0][1])<.01}function z(ae){return Math.abs(ae[1]-x[2][1])<.01}function G(ae){return Math.abs(ae[0]-x[0][0])<.01}function Y(ae){return Math.abs(ae[0]-x[2][0])<.01}for(;i.length;){for(U=a.smoothopen(R.edgepaths[T],R.smoothing),E+=D?U:U.replace(/^M/,"L"),i.splice(i.indexOf(T),1),b=R.edgepaths[T][R.edgepaths[T].length-1],V=-1,F=0;F<4;F++){if(!b){L.log("Missing end?",T,R);break}for(H(b)&&!Y(b)?O=x[1]:G(b)?O=x[0]:z(b)?O=x[3]:Y(b)&&(O=x[2]),_=0;_<R.edgepaths.length;_++){var J=R.edgepaths[_][0];Math.abs(b[0]-O[0])<.01?Math.abs(b[0]-J[0])<.01&&(J[1]-b[1])*(O[1]-J[1])>=0&&(O=J,V=_):Math.abs(b[1]-O[1])<.01?Math.abs(b[1]-J[1])<.01&&(J[0]-b[0])*(O[0]-J[0])>=0&&(O=J,V=_):L.log("endpt to newendpt is not vert. or horz.",b,O,J)}if(b=O,V>=0)break;E+="L"+O}if(V===R.edgepaths.length){L.log("unclosed perimeter path");break}T=V,D=i.indexOf(T)===-1,D&&(T=i[0],E+="Z")}for(T=0;T<R.paths.length;T++)E+=a.smoothclosed(R.paths[T],R.smoothing);return E}function u(R,x,E,T,i){var D=E._context.staticPlot,b=L.ensureSingle(R,"g","contourlines"),O=i.showlines!==!1,F=i.showlabels,V=O&&F,_=N.createLines(b,O||F,x,D),U=N.createLineClip(b,V,E,T.trace.uid),H=R.selectAll("g.contourlabels").data(F?[0]:[]);if(H.exit().remove(),H.enter().append("g").classed("contourlabels",!0),F){var z=[],G=[];L.clearLocationCache();var Y=N.labelFormatter(E,T),J=a.tester.append("text").attr("data-notex",1).call(a.font,i.labelfont),ae=x[0].xaxis,oe=x[0].yaxis,he=ae._length,q=oe._length,Z=ae.range,$=oe.range,K=L.aggNums(Math.min,null,T.x),re=L.aggNums(Math.max,null,T.x),le=L.aggNums(Math.min,null,T.y),te=L.aggNums(Math.max,null,T.y),ee=Math.max(ae.c2p(K,!0),0),ue=Math.min(ae.c2p(re,!0),he),se=Math.max(oe.c2p(te,!0),0),ve=Math.min(oe.c2p(le,!0),q),be={};Z[0]<Z[1]?(be.left=ee,be.right=ue):(be.left=ue,be.right=ee),$[0]<$[1]?(be.top=se,be.bottom=ve):(be.top=ve,be.bottom=se),be.middle=(be.top+be.bottom)/2,be.center=(be.left+be.right)/2,z.push([[be.left,be.top],[be.right,be.top],[be.right,be.bottom],[be.left,be.bottom]]);var Ee=Math.sqrt(he*he+q*q),Ae=f.LABELDISTANCE*Ee/Math.max(1,x.length/f.LABELINCREASE);_.each(function(Oe){var Ue=N.calcTextOpts(Oe.level,Y,J,E);p.select(this).selectAll("path").each(function(){var Le=this,we=L.getVisibleSegment(Le,be,Ue.height/2);if(we&&!(we.len<(Ue.width+Ue.height)*f.LABELMIN))for(var Ce=Math.min(Math.ceil(we.len/Ae),f.LABELMAX),Ve=0;Ve<Ce;Ve++){var Ne=N.findBestTextLocation(Le,we,Ue,G,be);if(!Ne)break;N.addLabelData(Ne,Ue,G,z)}})}),J.remove(),N.drawLabels(H,G,E,U,V?z:null)}F&&!O&&_.remove()}N.createLines=function(R,x,E,T){var i=E[0].smoothing,D=R.selectAll("g.contourlevel").data(x?E:[]);if(D.exit().remove(),D.enter().append("g").classed("contourlevel",!0),x){var b=D.selectAll("path.openline").data(function(F){return F.pedgepaths||F.edgepaths});b.exit().remove(),b.enter().append("path").classed("openline",!0),b.attr("d",function(F){return a.smoothopen(F,i)}).style("stroke-miterlimit",1).style("vector-effect",T?"none":"non-scaling-stroke");var O=D.selectAll("path.closedline").data(function(F){return F.ppaths||F.paths});O.exit().remove(),O.enter().append("path").classed("closedline",!0),O.attr("d",function(F){return a.smoothclosed(F,i)}).style("stroke-miterlimit",1).style("vector-effect",T?"none":"non-scaling-stroke")}return D},N.createLineClip=function(R,x,E,T){var i=E._fullLayout._clips,D=x?"clipline"+T:null,b=i.selectAll("#"+D).data(x?[0]:[]);return b.exit().remove(),b.enter().append("clipPath").classed("contourlineclip",!0).attr("id",D),a.setClipUrl(R,D,E),b},N.labelFormatter=function(R,x){var E=R._fullLayout,T=x.trace,i=T.contours,D={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)D.tickformat=i.labelformat,g(D,E);else{var b=C.extractOpts(T);if(b&&b.colorbar&&b.colorbar._axis)D=b.colorbar._axis;else{if(i.type==="constraint"){var O=i.value;Array.isArray(O)?D.range=[O[0],O[O.length-1]]:D.range=[O,O]}else D.range=[i.start,i.end],D.nticks=(i.end-i.start)/i.size;D.range[0]===D.range[1]&&(D.range[1]+=D.range[0]||1),D.nticks||(D.nticks=1e3),g(D,E),h.prepTicks(D),D._tmin=null,D._tmax=null}}return function(F){return h.tickText(D,F).text}},N.calcTextOpts=function(R,x,E,T){var i=x(R);E.text(i).call(w.convertToTspans,T);var D=E.node(),b=a.bBox(D,!0);return{text:i,width:b.width,height:b.height,fontSize:+D.style["font-size"].replace("px",""),level:R,dy:(b.top+b.bottom)/2}},N.findBestTextLocation=function(R,x,E,T,i){var D=E.width,b,O,F,V,_;x.isClosed?(O=x.len/m.INITIALSEARCHPOINTS,b=x.min+O/2,F=x.max):(O=(x.len-D)/(m.INITIALSEARCHPOINTS+1),b=x.min+O+D/2,F=x.max-(O+D)/2);for(var U=1/0,H=0;H<m.ITERATIONS;H++){for(var z=b;z<F;z+=O){var G=L.getTextLocation(R,x.total,z,D),Y=y(G,E,T,i);Y<U&&(U=Y,_=G,V=z)}if(U>m.MAXCOST*2)break;H&&(O/=2),b=V-O/2,F=b+O*1.5}if(U<=m.MAXCOST)return _};function y(R,x,E,T){var i=x.width/2,D=x.height/2,b=R.x,O=R.y,F=R.theta,V=Math.cos(F)*i,_=Math.sin(F)*i,U=(b>T.center?T.right-b:b-T.left)/(V+Math.abs(Math.sin(F)*D)),H=(O>T.middle?T.bottom-O:O-T.top)/(Math.abs(_)+Math.cos(F)*D);if(U<1||H<1)return 1/0;var z=m.EDGECOST*(1/(U-1)+1/(H-1));z+=m.ANGLECOST*F*F;for(var G=b-V,Y=O-_,J=b+V,ae=O+_,oe=0;oe<E.length;oe++){var he=E[oe],q=Math.cos(he.theta)*he.width/2,Z=Math.sin(he.theta)*he.width/2,$=L.segmentDistance(G,Y,J,ae,he.x-q,he.y-Z,he.x+q,he.y+Z)*2/(x.height+he.height),K=he.level===x.level,re=K?m.SAMELEVELDISTANCE:1;if($<=re)return 1/0;var le=m.NEIGHBORCOST*(K?m.SAMELEVELFACTOR:1);z+=le/($-re)}return z}N.addLabelData=function(R,x,E,T){var i=x.fontSize,D=x.width+i/3,b=Math.max(0,x.height-i/3),O=R.x,F=R.y,V=R.theta,_=Math.sin(V),U=Math.cos(V),H=function(G,Y){return[O+G*U-Y*_,F+G*_+Y*U]},z=[H(-D/2,-b/2),H(-D/2,b/2),H(D/2,b/2),H(D/2,-b/2)];E.push({text:x.text,x:O,y:F,dy:x.dy,theta:V,level:x.level,width:D,height:b}),T.push(z)},N.drawLabels=function(R,x,E,T,i){var D=R.selectAll("text").data(x,function(V){return V.text+","+V.x+","+V.y+","+V.theta});if(D.exit().remove(),D.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(V){var _=V.x+Math.sin(V.theta)*V.dy,U=V.y-Math.cos(V.theta)*V.dy;p.select(this).text(V.text).attr({x:_,y:U,transform:"rotate("+180*V.theta/Math.PI+" "+_+" "+U+")"}).call(w.convertToTspans,E)}),i){for(var b="",O=0;O<i.length;O++)b+="M"+i[O].join("L")+"Z";var F=L.ensureSingle(T,"path","");F.attr("d",b)}};function M(R,x,E,T,i){var D=T.trace,b=E._fullLayout._clips,O="clip"+D.uid,F=b.selectAll("#"+O).data(D.connectgaps?[]:[0]);if(F.enter().append("clipPath").classed("contourclip",!0).attr("id",O),F.exit().remove(),D.connectgaps===!1){var V={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:x.xaxis,yaxis:x.yaxis,x:T.x,y:T.y,z:S(T),smoothing:0};r([V]),s([V]),c([V],{type:"levels"});var _=L.ensureSingle(F,"path","");_.attr("d",(V.prefixBoundary?"M"+i.join("L")+"Z":"")+d(V,i))}else O=null;a.setClipUrl(R,O,E)}function S(R){var x=R.trace._emptypoints,E=[],T=R.z.length,i=R.z[0].length,D,b=[],O;for(D=0;D<i;D++)b.push(1);for(D=0;D<T;D++)E.push(b.slice());for(D=0;D<x.length;D++)O=x[D],E[O[0]][O[1]]=0;return R.zmask=E,E}},18670:function(B,N,e){var p=e(89298),L=e(71828);B.exports=function(w,h){var g=w.contours;if(w.autocontour){var t=w.zmin,r=w.zmax;(w.zauto||t===void 0)&&(t=L.aggNums(Math.min,null,h)),(w.zauto||r===void 0)&&(r=L.aggNums(Math.max,null,h));var s=a(t,r,w.ncontours);g.size=s.dtick,g.start=p.tickFirst(s),s.range.reverse(),g.end=p.tickFirst(s),g.start===t&&(g.start+=g.size),g.end===r&&(g.end-=g.size),g.start>g.end&&(g.start=g.end=(g.start+g.end)/2),w._input.contours||(w._input.contours={}),L.extendFlat(w._input.contours,{start:g.start,end:g.end,size:g.size}),w._input.autocontour=!0}else if(g.type!=="constraint"){var n=g.start,l=g.end,c=w._input.contours;if(n>l&&(g.start=c.start=l,l=g.end=c.end=n,n=g.start),!(g.size>0)){var f;n===l?f=1:f=a(n,l,w.ncontours).dtick,c.size=g.size=f}}};function a(C,w,h){var g={type:"linear",range:[C,w]};return p.autoTicks(g,(w-C)/(h||15)),g}},84426:function(B,N,e){var p=e(39898),L=e(91424),a=e(70035),C=e(86068);B.exports=function(h){var g=p.select(h).selectAll("g.contour");g.style("opacity",function(t){return t[0].trace.opacity}),g.each(function(t){var r=p.select(this),s=t[0].trace,n=s.contours,l=s.line,c=n.size||1,f=n.start,m=n.type==="constraint",v=!m&&n.coloring==="lines",A=!m&&n.coloring==="fill",d=v||A?C(s):null;r.selectAll("g.contourlevel").each(function(M){p.select(this).selectAll("path").call(L.lineGroupStyle,l.width,v?d(M.level):l.color,l.dash)});var u=n.labelfont;if(r.selectAll("g.contourlabels text").each(function(M){L.font(p.select(this),{family:u.family,size:u.size,color:u.color||(v?d(M.level):l.color)})}),m)r.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(A){var y;r.selectAll("g.contourfill path").style("fill",function(M){return y===void 0&&(y=M.level),d(M.level+.5*c)}),y===void 0&&(y=f),r.selectAll("g.contourbg path").style("fill",d(y-.5*c))}}),a(h)}},8724:function(B,N,e){var p=e(1586),L=e(14523);B.exports=function(C,w,h,g,t){var r=h("contours.coloring"),s,n="";r==="fill"&&(s=h("contours.showlines")),s!==!1&&(r!=="lines"&&(n=h("line.color","#000")),h("line.width",.5),h("line.dash")),r!=="none"&&(C.showlegend!==!0&&(w.showlegend=!1),w._dfltShowLegend=!1,p(C,w,g,h,{prefix:"",cLetter:"z"})),h("line.smoothing"),L(h,g,n,t)}},88085:function(B,N,e){var p=e(21606),L=e(70600),a=e(50693),C=e(1426).extendFlat,w=L.contours;B.exports=C({carpet:{valType:"string",editType:"calc"},z:p.z,a:p.x,a0:p.x0,da:p.dx,b:p.y,b0:p.y0,db:p.dy,text:p.text,hovertext:p.hovertext,transpose:p.transpose,atype:p.xtype,btype:p.ytype,fillcolor:L.fillcolor,autocontour:L.autocontour,ncontours:L.ncontours,contours:{type:w.type,start:w.start,end:w.end,size:w.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:w.showlines,showlabels:w.showlabels,labelfont:w.labelfont,labelformat:w.labelformat,operation:w.operation,value:w.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:L.line.color,width:L.line.width,dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(B,N,e){var p=e(78803),L=e(71828),a=e(68296),C=e(4742),w=e(824),h=e(43907),g=e(70769),t=e(75005),r=e(22882),s=e(18670);B.exports=function(c,f){var m=f._carpetTrace=r(c,f);if(!(!m||!m.visible||m.visible==="legendonly")){if(!f.a||!f.b){var v=c.data[m.index],A=c.data[f.index];A.a||(A.a=v.a),A.b||(A.b=v.b),t(A,f,f._defaultColor,c._fullLayout)}var d=n(c,f);return s(f,f._z),d}};function n(l,c){var f=c._carpetTrace,m=f.aaxis,v=f.baxis,A,d,u,y,M,S,R;m._minDtick=0,v._minDtick=0,L.isArray1D(c.z)&&a(c,m,v,"a","b",["z"]),A=c._a=c._a||c.a,y=c._b=c._b||c.b,A=A?m.makeCalcdata(c,"_a"):[],y=y?v.makeCalcdata(c,"_b"):[],d=c.a0||0,u=c.da||1,M=c.b0||0,S=c.db||1,R=c._z=C(c._z||c.z,c.transpose),c._emptypoints=h(R),w(R,c._emptypoints);var x=L.maxRowLength(R),E=c.xtype==="scaled"?"":A,T=g(c,E,d,u,x,m),i=c.ytype==="scaled"?"":y,D=g(c,i,M,S,R.length,v),b={a:T,b:D,z:R};return c.contours.type==="levels"&&c.contours.coloring!=="none"&&p(l,c,{vals:R,containerStr:"",cLetter:"z"}),[b]}},75005:function(B,N,e){var p=e(71828),L=e(67684),a=e(88085),C=e(83179),w=e(67217),h=e(8724);B.exports=function(t,r,s,n){function l(v,A){return p.coerce(t,r,a,v,A)}function c(v){return p.coerce2(t,r,a,v)}if(l("carpet"),t.a&&t.b){var f=L(t,r,l,n,"a","b");if(!f){r.visible=!1;return}l("text");var m=l("contours.type")==="constraint";m?C(t,r,l,n,s,{hasHover:!1}):(w(t,r,l,c),h(t,r,l,n,{hasHover:!1}))}else r._defaultColor=s,r._length=null}},93740:function(B,N,e){B.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(B,N,e){var p=e(39898),L=e(27669),a=e(67961),C=e(91424),w=e(71828),h=e(87678),g=e(81696),t=e(29854),r=e(36914),s=e(84857),n=e(87558),l=e(20083),c=e(22882),f=e(4536);B.exports=function(E,T,i,D){var b=T.xaxis,O=T.yaxis;w.makeTraceGroups(D,i,"contour").each(function(F){var V=p.select(this),_=F[0],U=_.trace,H=U._carpetTrace=c(E,U),z=E.calcdata[H.index][0];if(!H.visible||H.visible==="legendonly")return;var G=_.a,Y=_.b,J=U.contours,ae=n(J,T,_),oe=J.type==="constraint",he=J._operation,q=oe?he==="="?"lines":"fill":J.coloring;function Z(Ee){var Ae=H.ab2xy(Ee[0],Ee[1],!0);return[b.c2p(Ae[0]),O.c2p(Ae[1])]}var $=[[G[0],Y[Y.length-1]],[G[G.length-1],Y[Y.length-1]],[G[G.length-1],Y[0]],[G[0],Y[0]]];h(ae);var K=(G[G.length-1]-G[0])*1e-8,re=(Y[Y.length-1]-Y[0])*1e-8;g(ae,K,re);var le=ae;J.type==="constraint"&&(le=s(ae,he)),m(ae,Z);var te,ee,ue,se,ve=[];for(se=z.clipsegments.length-1;se>=0;se--)te=z.clipsegments[se],ee=L([],te.x,b.c2p),ue=L([],te.y,O.c2p),ee.reverse(),ue.reverse(),ve.push(a(ee,ue,te.bicubic));var be="M"+ve.join("L")+"Z";M(V,z.clipsegments,b,O,oe,q),S(U,V,b,O,le,$,Z,H,z,q,be),v(V,ae,E,_,J,T,H),C.setClipUrl(V,H._clipPathId,E)})};function m(x,E){var T,i,D,b,O,F,V,_,U;for(T=0;T<x.length;T++){for(b=x[T],O=b.pedgepaths=[],F=b.ppaths=[],i=0;i<b.edgepaths.length;i++){for(U=b.edgepaths[i],V=[],D=0;D<U.length;D++)V[D]=E(U[D]);O.push(V)}for(i=0;i<b.paths.length;i++){for(U=b.paths[i],_=[],D=0;D<U.length;D++)_[D]=E(U[D]);F.push(_)}}}function v(x,E,T,i,D,b,O){var F=T._context.staticPlot,V=w.ensureSingle(x,"g","contourlines"),_=D.showlines!==!1,U=D.showlabels,H=_&&U,z=t.createLines(V,_||U,E,F),G=t.createLineClip(V,H,T,i.trace.uid),Y=x.selectAll("g.contourlabels").data(U?[0]:[]);if(Y.exit().remove(),Y.enter().append("g").classed("contourlabels",!0),U){var J=b.xaxis,ae=b.yaxis,oe=J._length,he=ae._length,q=[[[0,0],[oe,0],[oe,he],[0,he]]],Z=[];w.clearLocationCache();var $=t.labelFormatter(T,i),K=C.tester.append("text").attr("data-notex",1).call(C.font,D.labelfont),re={left:0,right:oe,center:oe/2,top:0,bottom:he,middle:he/2},le=Math.sqrt(oe*oe+he*he),te=r.LABELDISTANCE*le/Math.max(1,E.length/r.LABELINCREASE);z.each(function(ee){var ue=t.calcTextOpts(ee.level,$,K,T);p.select(this).selectAll("path").each(function(se){var ve=this,be=w.getVisibleSegment(ve,re,ue.height/2);if(be&&(A(ve,se,ee,be,O,ue.height),!(be.len<(ue.width+ue.height)*r.LABELMIN)))for(var Ee=Math.min(Math.ceil(be.len/te),r.LABELMAX),Ae=0;Ae<Ee;Ae++){var Oe=t.findBestTextLocation(ve,be,ue,Z,re);if(!Oe)break;t.addLabelData(Oe,ue,Z,q)}})}),K.remove(),t.drawLabels(Y,Z,T,G,H?q:null)}U&&!_&&z.remove()}function A(x,E,T,i,D,b){for(var O,F=0;F<T.pedgepaths.length;F++)E===T.pedgepaths[F]&&(O=T.edgepaths[F]);if(!O)return;var V=D.a[0],_=D.a[D.a.length-1],U=D.b[0],H=D.b[D.b.length-1];function z(oe,he){var q=0,Z,$=.1;return(Math.abs(oe[0]-V)<$||Math.abs(oe[0]-_)<$)&&(Z=u(D.dxydb_rough(oe[0],oe[1],$)),q=Math.max(q,b*y(he,Z)/2)),(Math.abs(oe[1]-U)<$||Math.abs(oe[1]-H)<$)&&(Z=u(D.dxyda_rough(oe[0],oe[1],$)),q=Math.max(q,b*y(he,Z)/2)),q}var G=d(x,0,1),Y=d(x,i.total,i.total-1),J=z(O[0],G),ae=i.total-z(O[O.length-1],Y);i.min<J&&(i.min=J),i.max>ae&&(i.max=ae),i.len=i.max-i.min}function d(x,E,T){var i=x.getPointAtLength(E),D=x.getPointAtLength(T),b=D.x-i.x,O=D.y-i.y,F=Math.sqrt(b*b+O*O);return[b/F,O/F]}function u(x){var E=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/E,x[1]/E]}function y(x,E){var T=Math.abs(x[0]*E[0]+x[1]*E[1]),i=Math.sqrt(1-T*T);return i/T}function M(x,E,T,i,D,b){var O,F,V,_,U=w.ensureSingle(x,"g","contourbg"),H=U.selectAll("path").data(b==="fill"&&!D?[0]:[]);H.enter().append("path"),H.exit().remove();var z=[];for(_=0;_<E.length;_++)O=E[_],F=L([],O.x,T.c2p),V=L([],O.y,i.c2p),z.push(a(F,V,O.bicubic));H.attr("d","M"+z.join("L")+"Z").style("stroke","none")}function S(x,E,T,i,D,b,O,F,V,_,U){var H=_==="fill";H&&l(D,x.contours);var z=w.ensureSingle(E,"g","contourfill"),G=z.selectAll("path").data(H?D:[]);G.enter().append("path"),G.exit().remove(),G.each(function(Y){var J=(Y.prefixBoundary?U:"")+R(x,Y,b,O,F,V,T,i);J?p.select(this).attr("d",J).style("stroke","none"):p.select(this).remove()})}function R(x,E,T,i,D,b,O,F){var V,_="",U=E.edgepaths.map(function(ue,se){return se}),H=!0,z,G,Y,J,ae,oe,he=Math.abs(T[0][0]-T[2][0])*1e-4,q=Math.abs(T[0][1]-T[2][1])*1e-4;function Z(ue){return Math.abs(ue[1]-T[0][1])<q}function $(ue){return Math.abs(ue[1]-T[2][1])<q}function K(ue){return Math.abs(ue[0]-T[0][0])<he}function re(ue){return Math.abs(ue[0]-T[2][0])<he}function le(ue,se){var ve,be,Ee,Ae,Oe="";for(Z(ue)&&!re(ue)||$(ue)&&!K(ue)?(Ae=D.aaxis,Ee=f(D,b,[ue[0],se[0]],.5*(ue[1]+se[1]))):(Ae=D.baxis,Ee=f(D,b,.5*(ue[0]+se[0]),[ue[1],se[1]])),ve=1;ve<Ee.length;ve++)for(Oe+=Ae.smoothing?"C":"L",be=0;be<Ee[ve].length;be++){var Ue=Ee[ve][be];Oe+=[O.c2p(Ue[0]),F.c2p(Ue[1])]+" "}return Oe}for(V=0,z=null;U.length;){var te=E.edgepaths[V][0];for(z&&(_+=le(z,te)),oe=C.smoothopen(E.edgepaths[V].map(i),E.smoothing),_+=H?oe:oe.replace(/^M/,"L"),U.splice(U.indexOf(V),1),z=E.edgepaths[V][E.edgepaths[V].length-1],J=-1,Y=0;Y<4;Y++){if(!z){w.log("Missing end?",V,E);break}for(Z(z)&&!re(z)?G=T[1]:K(z)?G=T[0]:$(z)?G=T[3]:re(z)&&(G=T[2]),ae=0;ae<E.edgepaths.length;ae++){var ee=E.edgepaths[ae][0];Math.abs(z[0]-G[0])<he?Math.abs(z[0]-ee[0])<he&&(ee[1]-z[1])*(G[1]-ee[1])>=0&&(G=ee,J=ae):Math.abs(z[1]-G[1])<q?Math.abs(z[1]-ee[1])<q&&(ee[0]-z[0])*(G[0]-ee[0])>=0&&(G=ee,J=ae):w.log("endpt to newendpt is not vert. or horz.",z,G,ee)}if(J>=0)break;_+=le(z,G),z=G}if(J===E.edgepaths.length){w.log("unclosed perimeter path");break}V=J,H=U.indexOf(V)===-1,H&&(V=U[0],_+=le(z,G)+"Z",z=null)}for(V=0;V<E.paths.length;V++)_+=C.smoothclosed(E.paths[V].map(i),E.smoothing);return _}},64096:function(B,N,e){var p=e(50693),L=e(5386).fF,a=e(9012),C=e(99181),w=e(1426).extendFlat;B.exports=w({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:w({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:L(),showlegend:w({},a.showlegend,{dflt:!1})},p("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(B,N,e){var p=e(92770),L=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,C=e(78803),w=e(71828)._;B.exports=function(g,t){for(var r=t._length,s=new Array(r),n=t.z,l=L(n)&&n.length,c=0;c<r;c++){var f=s[c]={},m=t.lon[c],v=t.lat[c];if(f.lonlat=p(m)&&p(v)?[+m,+v]:[a,a],l){var A=n[c];f.z=p(A)?A:a}}return C(g,t,{vals:l?n:[0,1],containerStr:"",cLetter:"z"}),r&&(s[0].t={labels:{lat:w(g,"lat:")+" ",lon:w(g,"lon:")+" "}}),s}},52414:function(B,N,e){var p=e(92770),L=e(71828),a=e(7901),C=e(21081),w=e(50606).BADNUM,h=e(18214).makeBlank;B.exports=function(t){var r=t[0].trace,s=r.visible===!0&&r._length!==0,n={layout:{visibility:"none"},paint:{}},l=r._opts={heatmap:n,geojson:h()};if(!s)return l;var c=[],f,m=r.z,v=r.radius,A=L.isArrayOrTypedArray(m)&&m.length,d=L.isArrayOrTypedArray(v);for(f=0;f<t.length;f++){var u=t[f],y=u.lonlat;if(y[0]!==w){var M={};if(A){var S=u.z;M.z=S!==w?S:0}d&&(M.r=p(v[f])&&v[f]>0?+v[f]:0),c.push({type:"Feature",geometry:{type:"Point",coordinates:y},properties:M})}}var R=C.extractOpts(r),x=R.reversescale?C.flipScale(R.colorscale):R.colorscale,E=x[0][1],T=a.opacity(E)<1?E:a.addOpacity(E,0),i=["interpolate",["linear"],["heatmap-density"],0,T];for(f=1;f<x.length;f++)i.push(x[f][0],x[f][1]);var D=["interpolate",["linear"],["get","z"],R.min,0,R.max,1];return L.extendFlat(l.heatmap.paint,{"heatmap-weight":A?D:1/(R.max-R.min),"heatmap-color":i,"heatmap-radius":d?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),l.geojson={type:"FeatureCollection",features:c},l.heatmap.layout.visibility="visible",l}},79429:function(B,N,e){var p=e(71828),L=e(1586),a=e(64096);B.exports=function(w,h,g,t){function r(c,f){return p.coerce(w,h,a,c,f)}var s=r("lon")||[],n=r("lat")||[],l=Math.min(s.length,n.length);if(!l){h.visible=!1;return}h._length=l,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),L(w,h,t,r,{prefix:"",cLetter:"z"})}},62474:function(B){B.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e.z=p.z,e}},84684:function(B,N,e){var p=e(89298),L=e(28178).hoverPoints,a=e(28178).getExtraText;B.exports=function(w,h,g){var t=L(w,h,g);if(t){var r=t[0],s=r.cd,n=s[0].trace,l=s[r.index];if(delete r.color,"z"in l){var c=r.subplot.mockAxis;r.z=l.z,r.zLabel=p.tickText(c,c.c2l(l.z),"hover").text}return r.extraText=a(n,l,s[0].t.labels),[r]}}},93814:function(B,N,e){B.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(p,L){for(var a=L.getMapLayers(),C=0;C<a.length;C++){var w=a[C],h=w.id;if(w.type==="symbol"&&typeof h=="string"&&h.indexOf("plotly-")===-1)return h}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(B,N,e){var p=e(52414),L=e(77734).traceLayerPrefix;function a(w,h){this.type="densitymapbox",this.subplot=w,this.uid=h,this.sourceId="source-"+h,this.layerList=[["heatmap",L+h+"-heatmap"]],this.below=null}var C=a.prototype;C.update=function(w){var h=this.subplot,g=this.layerList,t=p(w),r=h.belowLookup["trace-"+this.uid];h.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var s=0;s<g.length;s++){var n=g[s],l=n[0],c=n[1],f=t[l];h.setOptions(c,"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&h.setOptions(c,"setPaintProperty",f.paint)}},C._addLayers=function(w,h){for(var g=this.subplot,t=this.layerList,r=this.sourceId,s=0;s<t.length;s++){var n=t[s],l=n[0],c=w[l];g.addLayer({type:l,id:n[1],source:r,layout:c.layout,paint:c.paint},h)}},C._removeLayers=function(){for(var w=this.subplot.map,h=this.layerList,g=h.length-1;g>=0;g--)w.removeLayer(h[g][1])},C.dispose=function(){var w=this.subplot.map;this._removeLayers(),w.removeSource(this.sourceId)},B.exports=function(h,g){var t=g[0].trace,r=new a(h,t.uid),s=r.sourceId,n=p(g),l=r.below=h.belowLookup["trace-"+t.uid];return h.map.addSource(s,{type:"geojson",data:n.geojson}),r._addLayers(n,l),r}},49789:function(B,N,e){var p=e(71828);B.exports=function(a,C){for(var w=0;w<a.length;w++)a[w].i=w;p.mergeArray(C.text,a,"tx"),p.mergeArray(C.hovertext,a,"htx");var h=C.marker;if(h){p.mergeArray(h.opacity,a,"mo"),p.mergeArray(h.color,a,"mc");var g=h.line;g&&(p.mergeArray(g.color,a,"mlc"),p.mergeArrayCastPositive(g.width,a,"mlw"))}}},1285:function(B,N,e){var p=e(1486),L=e(82196).line,a=e(9012),C=e(12663).axisHoverFormat,w=e(5386).fF,h=e(5386).si,g=e(18517),t=e(1426).extendFlat,r=e(7901);B.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:w({},{keys:g.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:h({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),text:p.text,textposition:p.textposition,insidetextanchor:t({},p.insidetextanchor,{dflt:"middle"}),textangle:t({},p.textangle,{dflt:0}),textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:t({},p.orientation,{}),offset:t({},p.offset,{arrayOk:!1}),width:t({},p.width,{arrayOk:!1}),marker:s(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},L.color,{dflt:r.defaultLine}),width:t({},L.width,{dflt:0,editType:"plot"}),dash:L.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup};function s(){var n=t({},p.marker);return delete n.pattern,n}},9532:function(B,N,e){var p=e(89298),L=e(42973),a=e(49789),C=e(66279),w=e(50606).BADNUM;B.exports=function(t,r){var s=p.getFromId(t,r.xaxis||"x"),n=p.getFromId(t,r.yaxis||"y"),l,c,f,m,v,A,d,u;r.orientation==="h"?(l=s.makeCalcdata(r,"x"),f=n.makeCalcdata(r,"y"),m=L(r,n,"y",f),v=!!r.yperiodalignment,A="y"):(l=n.makeCalcdata(r,"y"),f=s.makeCalcdata(r,"x"),m=L(r,s,"x",f),v=!!r.xperiodalignment,A="x"),c=m.vals;var y=Math.min(c.length,l.length),M=new Array(y);for(r._base=[],d=0;d<y;d++){l[d]<0&&(l[d]=w);var S=!1;l[d]!==w&&d+1<y&&l[d+1]!==w&&(S=!0),u=M[d]={p:c[d],s:l[d],cNext:S},r._base[d]=-.5*u.s,v&&(M[d].orig_p=f[d],M[d][A+"End"]=m.ends[d],M[d][A+"Start"]=m.starts[d]),r.ids&&(u.id=String(r.ids[d])),d===0&&(M[0].vTotal=0),M[0].vTotal+=h(u.s),u.begR=h(u.s)/h(M[0].s)}var R;for(d=0;d<y;d++)u=M[d],u.s!==w&&(u.sumR=u.s/M[0].vTotal,u.difR=R!==void 0?u.s/R:1,R=u.s);return a(M,r),C(M,r),M};function h(g){return g===w?0:g}},18517:function(B){B.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(B,N,e){var p=e(11661).setGroupPositions;B.exports=function(a,C){var w=a._fullLayout,h=a._fullData,g=a.calcdata,t=C.xaxis,r=C.yaxis,s=[],n=[],l=[],c,f;for(f=0;f<h.length;f++){var m=h[f],v=m.orientation==="h";m.visible===!0&&m.xaxis===t._id&&m.yaxis===r._id&&m.type==="funnel"&&(c=g[f],v?l.push(c):n.push(c),s.push(c))}var A={mode:w.funnelmode,norm:w.funnelnorm,gap:w.funnelgap,groupgap:w.funnelgroupgap};for(p(a,t,r,n,A),p(a,r,t,l,A),f=0;f<s.length;f++){c=s[f];for(var d=0;d<c.length;d++)d+1<c.length&&(c[d].nextP0=c[d+1].p0,c[d].nextS0=c[d+1].s0,c[d].nextP1=c[d+1].p1,c[d].nextS1=c[d+1].s1)}}},26199:function(B,N,e){var p=e(71828),L=e(26125),a=e(90769).handleText,C=e(67513),w=e(73927),h=e(1285),g=e(7901);function t(n,l,c,f){function m(S,R){return p.coerce(n,l,h,S,R)}var v=C(n,l,f,m);if(!v){l.visible=!1;return}w(n,l,f,m),m("xhoverformat"),m("yhoverformat"),m("orientation",l.y&&!l.x?"v":"h"),m("offset"),m("width");var A=m("text");m("hovertext"),m("hovertemplate");var d=m("textposition");a(n,l,f,m,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&!l.texttemplate&&m("textinfo",Array.isArray(A)?"text+value":"value");var u=m("marker.color",c);m("marker.line.color",g.defaultLine),m("marker.line.width");var y=m("connector.visible");if(y){m("connector.fillcolor",r(u));var M=m("connector.line.width");M&&(m("connector.line.color"),m("connector.line.dash"))}}function r(n){var l=p.isArrayOrTypedArray(n)?"#000":n;return g.addOpacity(l,.5*g.opacity(l))}function s(n,l){var c,f;function m(A){return p.coerce(f._input,f,h,A)}if(l.funnelmode==="group")for(var v=0;v<n.length;v++)f=n[v],c=f._input,L(c,f,l,m)}B.exports={supplyDefaults:t,crossTraceDefaults:s}},34598:function(B){B.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"percentInitial"in p&&(e.percentInitial=p.percentInitial),"percentPrevious"in p&&(e.percentPrevious=p.percentPrevious),"percentTotal"in p&&(e.percentTotal=p.percentTotal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},63341:function(B,N,e){var p=e(7901).opacity,L=e(95423).hoverOnBars,a=e(71828).formatPercent;B.exports=function(h,g,t,r,s){var n=L(h,g,t,r,s);if(n){var l=n.cd,c=l[0].trace,f=c.orientation==="h",m=n.index,v=l[m],A=f?"x":"y";n[A+"LabelVal"]=v.s,n.percentInitial=v.begR,n.percentInitialLabel=a(v.begR,1),n.percentPrevious=v.difR,n.percentPreviousLabel=a(v.difR,1),n.percentTotal=v.sumR,n.percentTotalLabel=a(v.sumR,1);var d=v.hi||c.hoverinfo,u=[];if(d&&d!=="none"&&d!=="skip"){var y=d==="all",M=d.split("+"),S=function(R){return y||M.indexOf(R)!==-1};S("percent initial")&&u.push(n.percentInitialLabel+" of initial"),S("percent previous")&&u.push(n.percentPreviousLabel+" of previous"),S("percent total")&&u.push(n.percentTotalLabel+" of total")}return n.extraText=u.join("<br>"),n.color=C(c,v),[n]}};function C(w,h){var g=w.marker,t=h.mc||g.color,r=h.mlc||g.line.color,s=h.mlw||g.line.width;if(p(t))return t;if(p(r)&&s)return r}},51759:function(B,N,e){B.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(B){B.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(B,N,e){var p=e(71828),L=e(10440);B.exports=function(a,C,w){var h=!1;function g(s,n){return p.coerce(a,C,L,s,n)}for(var t=0;t<w.length;t++){var r=w[t];if(r.visible&&r.type==="funnel"){h=!0;break}}h&&(g("funnelmode"),g("funnelgap",.2),g("funnelgroupgap"))}},80461:function(B,N,e){var p=e(39898),L=e(71828),a=e(91424),C=e(50606).BADNUM,w=e(17295),h=e(72597).clearMinTextSize;B.exports=function(n,l,c,f){var m=n._fullLayout;h("funnel",m),g(n,l,c,f),t(n,l,c,f),w.plot(n,l,c,f,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function g(s,n,l,c){var f=n.xaxis,m=n.yaxis;L.makeTraceGroups(c,l,"trace bars").each(function(v){var A=p.select(this),d=v[0].trace,u=L.ensureSingle(A,"g","regions");if(!d.connector||!d.connector.visible){u.remove();return}var y=d.orientation==="h",M=u.selectAll("g.region").data(L.identity);M.enter().append("g").classed("region",!0),M.exit().remove();var S=M.size();M.each(function(R,x){if(!(x!==S-1&&!R.cNext)){var E=r(R,f,m,y),T=E[0],i=E[1],D="";T[0]!==C&&i[0]!==C&&T[1]!==C&&i[1]!==C&&T[2]!==C&&i[2]!==C&&T[3]!==C&&i[3]!==C&&(y?D+="M"+T[0]+","+i[1]+"L"+T[2]+","+i[2]+"H"+T[3]+"L"+T[1]+","+i[1]+"Z":D+="M"+T[1]+","+i[1]+"L"+T[2]+","+i[3]+"V"+i[2]+"L"+T[1]+","+i[0]+"Z"),D===""&&(D="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",D).call(a.setClipUrl,n.layerClipId,s)}})})}function t(s,n,l,c){var f=n.xaxis,m=n.yaxis;L.makeTraceGroups(c,l,"trace bars").each(function(v){var A=p.select(this),d=v[0].trace,u=L.ensureSingle(A,"g","lines");if(!d.connector||!d.connector.visible||!d.connector.line.width){u.remove();return}var y=d.orientation==="h",M=u.selectAll("g.line").data(L.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var S=M.size();M.each(function(R,x){if(!(x!==S-1&&!R.cNext)){var E=r(R,f,m,y),T=E[0],i=E[1],D="";T[3]!==void 0&&i[3]!==void 0&&(y?(D+="M"+T[0]+","+i[1]+"L"+T[2]+","+i[2],D+="M"+T[1]+","+i[1]+"L"+T[3]+","+i[2]):(D+="M"+T[1]+","+i[1]+"L"+T[2]+","+i[3],D+="M"+T[1]+","+i[0]+"L"+T[2]+","+i[2])),D===""&&(D="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",D).call(a.setClipUrl,n.layerClipId,s)}})})}function r(s,n,l,c){var f=[],m=[],v=c?n:l,A=c?l:n;return f[0]=v.c2p(s.s0,!0),m[0]=A.c2p(s.p0,!0),f[1]=v.c2p(s.s1,!0),m[1]=A.c2p(s.p1,!0),f[2]=v.c2p(s.nextS0,!0),m[2]=A.c2p(s.nextP0,!0),f[3]=v.c2p(s.nextS1,!0),m[3]=A.c2p(s.nextP1,!0),c?[f,m]:[m,f]}},68266:function(B,N,e){var p=e(39898),L=e(91424),a=e(7901),C=e(37822).DESELECTDIM,w=e(16688),h=e(72597).resizeText,g=w.styleTextPoints;function t(r,s,n){var l=n||p.select(r).selectAll("g.funnellayer").selectAll("g.trace");h(r,l,"funnel"),l.style("opacity",function(c){return c[0].trace.opacity}),l.each(function(c){var f=p.select(this),m=c[0].trace;f.selectAll(".point > path").each(function(v){if(!v.isBlank){var A=m.marker;p.select(this).call(a.fill,v.mc||A.color).call(a.stroke,v.mlc||A.line.color).call(L.dashLine,A.line.dash,v.mlw||A.line.width).style("opacity",m.selectedpoints&&!v.selected?C:1)}}),g(f,m,r),f.selectAll(".regions").each(function(){p.select(this).selectAll("path").style("stroke-width",0).call(a.fill,m.connector.fillcolor)}),f.selectAll(".lines").each(function(){var v=m.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),v.width,v.color,v.dash)})})}B.exports={style:t}},86807:function(B,N,e){var p=e(34e3),L=e(9012),a=e(27670).Y,C=e(5386).fF,w=e(5386).si,h=e(1426).extendFlat;B.exports={labels:p.labels,label0:p.label0,dlabel:p.dlabel,values:p.values,marker:{colors:p.marker.colors,line:{color:h({},p.marker.line.color,{dflt:null}),width:h({},p.marker.line.width,{dflt:1}),editType:"calc"},pattern:p.marker.pattern,editType:"calc"},text:p.text,hovertext:p.hovertext,scalegroup:h({},p.scalegroup,{}),textinfo:h({},p.textinfo,{flags:["label","text","value","percent"]}),texttemplate:w({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:h({},L.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:h({},p.textposition,{values:["inside","none"],dflt:"inside"}),textfont:p.textfont,insidetextfont:p.insidetextfont,title:{text:p.title.text,font:p.title.font,position:h({},p.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(B,N,e){var p=e(74875);N.name="funnelarea",N.plot=function(L,a,C,w){p.plotBasePlot(N.name,L,a,C,w)},N.clean=function(L,a,C,w){p.cleanBasePlot(N.name,L,a,C,w)}},89574:function(B,N,e){var p=e(32354);function L(C,w){return p.calc(C,w)}function a(C){p.crossTraceCalc(C,{type:"funnelarea"})}B.exports={calc:L,crossTraceCalc:a}},86282:function(B,N,e){var p=e(71828),L=e(86807),a=e(27670).c,C=e(90769).handleText,w=e(37434).handleLabelsAndValues,h=e(37434).handleMarkerDefaults;B.exports=function(t,r,s,n){function l(S,R){return p.coerce(t,r,L,S,R)}var c=l("labels"),f=l("values"),m=w(c,f),v=m.len;if(r._hasLabels=m.hasLabels,r._hasValues=m.hasValues,!r._hasLabels&&r._hasValues&&(l("label0"),l("dlabel")),!v){r.visible=!1;return}r._length=v,h(t,r,n,l),l("scalegroup");var A=l("text"),d=l("texttemplate"),u;if(d||(u=l("textinfo",Array.isArray(A)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||u&&u!=="none"){var y=l("textposition");C(t,r,n,l,y,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(r,n,l);var M=l("title.text");M&&(l("title.position"),p.coerceFont(l,"title.font",n.font)),l("aspectratio"),l("baseratio")}},10421:function(B,N,e){B.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(B,N,e){var p=e(92774).hiddenlabels;B.exports={hiddenlabels:p,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(B,N,e){var p=e(71828),L=e(80097);B.exports=function(C,w){function h(g,t){return p.coerce(C,w,L,g,t)}h("hiddenlabels"),h("funnelareacolorway",w.colorway),h("extendfunnelareacolors")}},79187:function(B,N,e){var p=e(39898),L=e(91424),a=e(71828),C=a.strScale,w=a.strTranslate,h=e(63893),g=e(17295),t=g.toMoveInsideBar,r=e(72597),s=r.recordMinTextSize,n=r.clearMinTextSize,l=e(53581),c=e(14575),f=c.attachFxHandlers,m=c.determineInsideTextFont,v=c.layoutAreas,A=c.prerenderTitles,d=c.positionTitleOutside,u=c.formatSliceLabel;B.exports=function(x,E){var T=x._context.staticPlot,i=x._fullLayout;n("funnelarea",i),A(E,x),v(E,i._size),a.makeTraceGroups(i._funnelarealayer,E,"trace").each(function(D){var b=p.select(this),O=D[0],F=O.trace;S(D),b.each(function(){var V=p.select(this).selectAll("g.slice").data(D);V.enter().append("g").classed("slice",!0),V.exit().remove(),V.each(function(U,H){if(U.hidden){p.select(this).selectAll("path,g").remove();return}U.pointNumber=U.i,U.curveNumber=F.index;var z=O.cx,G=O.cy,Y=p.select(this),J=Y.selectAll("path.surface").data([U]);J.enter().append("path").classed("surface",!0).style({"pointer-events":T?"none":"all"}),Y.call(f,x,D);var ae="M"+(z+U.TR[0])+","+(G+U.TR[1])+y(U.TR,U.BR)+y(U.BR,U.BL)+y(U.BL,U.TL)+"Z";J.attr("d",ae),u(x,U,O);var oe=l.castOption(F.textposition,U.pts),he=Y.selectAll("g.slicetext").data(U.text&&oe!=="none"?[0]:[]);he.enter().append("g").classed("slicetext",!0),he.exit().remove(),he.each(function(){var q=a.ensureSingle(p.select(this),"text","",function(ue){ue.attr("data-notex",1)}),Z=a.ensureUniformFontSize(x,m(F,U,i.font));q.text(U.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(L.font,Z).call(h.convertToTspans,x);var $=L.bBox(q.node()),K,re,le,te=Math.min(U.BL[1],U.BR[1])+G,ee=Math.max(U.TL[1],U.TR[1])+G;re=Math.max(U.TL[0],U.BL[0])+z,le=Math.min(U.TR[0],U.BR[0])+z,K=t(re,le,te,ee,$,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),K.fontSize=Z.size,s(F.type,K,i),D[H].transform=K,a.setTransormAndDisplay(q,K)})});var _=p.select(this).selectAll("g.titletext").data(F.title.text?[0]:[]);_.enter().append("g").classed("titletext",!0),_.exit().remove(),_.each(function(){var U=a.ensureSingle(p.select(this),"text","",function(G){G.attr("data-notex",1)}),H=F.title.text;F._meta&&(H=a.templateString(H,F._meta)),U.text(H).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(L.font,F.title.font).call(h.convertToTspans,x);var z=d(O,i._size);U.attr("transform",w(z.x,z.y)+C(Math.min(1,z.scale))+w(z.tx,z.ty))})})})};function y(R,x){var E=x[0]-R[0],T=x[1]-R[1];return"l"+E+","+T}function M(R,x){return[.5*(R[0]+x[0]),.5*(R[1]+x[1])]}function S(R){if(!R.length)return;var x=R[0],E=x.trace,T=E.aspectratio,i=E.baseratio;i>.999&&(i=.999);var D=Math.pow(i,2),b=x.vTotal,O=b*D/(1-D),F=b,V=O/b;function _(){var se=Math.sqrt(V);return{x:se,y:-se}}function U(){var se=_();return[se.x,se.y]}var H,z=[];z.push(U());var G,Y;for(G=R.length-1;G>-1;G--)if(Y=R[G],!Y.hidden){var J=Y.v/F;V+=J,z.push(U())}var ae=1/0,oe=-1/0;for(G=0;G<z.length;G++)H=z[G],ae=Math.min(ae,H[1]),oe=Math.max(oe,H[1]);for(G=0;G<z.length;G++)z[G][1]-=(oe+ae)/2;var he=z[z.length-1][0],q=x.r,Z=(oe-ae)/2,$=q/he,K=q/Z*T;for(x.r=K*Z,G=0;G<z.length;G++)z[G][0]*=$,z[G][1]*=K;H=z[0];var re=[-H[0],H[1]],le=[H[0],H[1]],te=0;for(G=R.length-1;G>-1;G--)if(Y=R[G],!Y.hidden){te+=1;var ee=z[te][0],ue=z[te][1];Y.TL=[-ee,ue],Y.TR=[ee,ue],Y.BL=re,Y.BR=le,Y.pxmid=M(Y.TR,Y.BR),re=Y.TL,le=Y.TR}}},71858:function(B,N,e){var p=e(39898),L=e(63463),a=e(72597).resizeText;B.exports=function(w){var h=w._fullLayout._funnelarealayer.selectAll(".trace");a(w,h,"funnelarea"),h.each(function(g){var t=g[0],r=t.trace,s=p.select(this);s.style({opacity:r.opacity}),s.selectAll("path.surface").each(function(n){p.select(this).call(L,n,r,w)})})}},21606:function(B,N,e){var p=e(82196),L=e(9012),a=e(41940),C=e(12663).axisHoverFormat,w=e(5386).fF,h=e(5386).si,g=e(50693),t=e(1426).extendFlat;B.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},p.x,{impliedEdits:{xtype:"array"}}),x0:t({},p.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},p.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},p.y,{impliedEdits:{ytype:"array"}}),y0:t({},p.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},p.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},p.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},p.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},p.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},p.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},p.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},p.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:w(),texttemplate:h({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},L.showlegend,{dflt:!1})},{transforms:void 0},g("",{cLetter:"z",autoColorDflt:!1}))},90757:function(B,N,e){var p=e(73972),L=e(71828),a=e(89298),C=e(42973),w=e(17562),h=e(78803),g=e(68296),t=e(4742),r=e(824),s=e(43907),n=e(70769),l=e(50606).BADNUM;B.exports=function(v,A){var d=a.getFromId(v,A.xaxis||"x"),u=a.getFromId(v,A.yaxis||"y"),y=p.traceIs(A,"contour"),M=p.traceIs(A,"histogram"),S=p.traceIs(A,"gl2d"),R=y?"best":A.zsmooth,x,E,T,i,D,b,O,F,V,_,U;if(d._minDtick=0,u._minDtick=0,M)U=w(v,A),i=U.orig_x,x=U.x,E=U.x0,T=U.dx,F=U.orig_y,D=U.y,b=U.y0,O=U.dy,V=U.z;else{var H=A.z;L.isArray1D(H)?(g(A,d,u,"x","y",["z"]),x=A._x,D=A._y,H=A._z):(i=A.x?d.makeCalcdata(A,"x"):[],F=A.y?u.makeCalcdata(A,"y"):[],x=C(A,d,"x",i).vals,D=C(A,u,"y",F).vals,A._x=x,A._y=D),E=A.x0,T=A.dx,b=A.y0,O=A.dy,V=t(H,A,d,u)}(d.rangebreaks||u.rangebreaks)&&(V=f(x,D,V),M||(x=c(x),D=c(D),A._x=x,A._y=D)),!M&&(y||A.connectgaps)&&(A._emptypoints=s(V),r(V,A._emptypoints));function z($){R=A._input.zsmooth=A.zsmooth=!1,L.warn('cannot use zsmooth: "fast": '+$)}function G($){if($.length>1){var K=($[$.length-1]-$[0])/($.length-1),re=Math.abs(K/100);for(_=0;_<$.length-1;_++)if(Math.abs($[_+1]-$[_]-K)>re)return!1}return!0}A._islinear=!1,d.type==="log"||u.type==="log"?R==="fast"&&z("log axis found"):G(x)?G(D)?A._islinear=!0:R==="fast"&&z("y scale is not linear"):R==="fast"&&z("x scale is not linear");var Y=L.maxRowLength(V),J=A.xtype==="scaled"?"":x,ae=n(A,J,E,T,Y,d),oe=A.ytype==="scaled"?"":D,he=n(A,oe,b,O,V.length,u);S||(A._extremes[d._id]=a.findExtremes(d,ae),A._extremes[u._id]=a.findExtremes(u,he));var q={x:ae,y:he,z:V,text:A._text||A.text,hovertext:A._hovertext||A.hovertext};if(A.xperiodalignment&&i&&(q.orig_x=i),A.yperiodalignment&&F&&(q.orig_y=F),J&&J.length===ae.length-1&&(q.xCenter=J),oe&&oe.length===he.length-1&&(q.yCenter=oe),M&&(q.xRanges=U.xRanges,q.yRanges=U.yRanges,q.pts=U.pts),y||h(v,A,{vals:V,cLetter:"z"}),y&&A.contours&&A.contours.coloring==="heatmap"){var Z={type:A.type==="contour"?"heatmap":"histogram2d",xcalendar:A.xcalendar,ycalendar:A.ycalendar};q.xfill=n(Z,J,E,T,Y,d),q.yfill=n(Z,oe,b,O,V.length,u)}return[q]};function c(m){for(var v=[],A=m.length,d=0;d<A;d++){var u=m[d];u!==l&&v.push(u)}return v}function f(m,v,A){for(var d=[],u=-1,y=0;y<A.length;y++)if(v[y]!==l){u++,d[u]=[];for(var M=0;M<A[y].length;M++)m[M]!==l&&d[u].push(A[y][M])}return d}},4742:function(B,N,e){var p=e(92770),L=e(71828),a=e(50606).BADNUM;B.exports=function(w,h,g,t){var r,s,n,l,c,f;function m(M){if(p(M))return+M}if(h&&h.transpose){for(r=0,c=0;c<w.length;c++)r=Math.max(r,w[c].length);if(r===0)return!1;n=function(M){return M.length},l=function(M,S,R){return(M[R]||[])[S]}}else r=w.length,n=function(M,S){return M[S].length},l=function(M,S,R){return(M[S]||[])[R]};var v=function(M,S,R){return S===a||R===a?a:l(M,S,R)};function A(M){if(h&&h.type!=="carpet"&&h.type!=="contourcarpet"&&M&&M.type==="category"&&h["_"+M._id.charAt(0)].length){var S=M._id.charAt(0),R={},x=h["_"+S+"CategoryMap"]||h[S];for(c=0;c<x.length;c++)R[x[c]]=c;return function(E){var T=R[M._categories[E]];return T+1?T:a}}else return L.identity}var d=A(g),u=A(t);t&&t.type==="category"&&(r=t._categories.length);var y=new Array(r);for(c=0;c<r;c++)for(g&&g.type==="category"?s=g._categories.length:s=n(w,c),y[c]=new Array(s),f=0;f<s;f++)y[c][f]=m(v(w,u(c),d(f)));return y}},61243:function(B){B.exports={min:"zmin",max:"zmax"}},68296:function(B,N,e){var p=e(71828),L=e(50606).BADNUM,a=e(42973);B.exports=function(w,h,g,t,r,s){var n=w._length,l=h.makeCalcdata(w,t),c=g.makeCalcdata(w,r);l=a(w,h,t,l).vals,c=a(w,g,r,c).vals;var f=w.text,m=f!==void 0&&p.isArray1D(f),v=w.hovertext,A=v!==void 0&&p.isArray1D(v),d,u,y=p.distinctVals(l),M=y.vals,S=p.distinctVals(c),R=S.vals,x=[],E,T,i=R.length,D=M.length;for(d=0;d<s.length;d++)x[d]=p.init2dArray(i,D);m&&(E=p.init2dArray(i,D)),A&&(T=p.init2dArray(i,D));var b=p.init2dArray(i,D);for(d=0;d<n;d++)if(l[d]!==L&&c[d]!==L){var O=p.findBin(l[d]+y.minDiff/2,M),F=p.findBin(c[d]+S.minDiff/2,R);for(u=0;u<s.length;u++){var V=s[u],_=w[V],U=x[u];U[F][O]=_[d],b[F][O]=d}m&&(E[F][O]=f[d]),A&&(T[F][O]=v[d])}for(w["_"+t]=M,w["_"+r]=R,u=0;u<s.length;u++)w["_"+s[u]]=x[u];m&&(w._text=E),A&&(w._hovertext=T),h&&h.type==="category"&&(w["_"+t+"CategoryMap"]=M.map(function(H){return h._categories[H]})),g&&g.type==="category"&&(w["_"+r+"CategoryMap"]=R.map(function(H){return g._categories[H]})),w._after2before=b}},76382:function(B,N,e){var p=e(71828),L=e(67684),a=e(58623),C=e(73927),w=e(49901),h=e(1586),g=e(21606);B.exports=function(r,s,n,l){function c(m,v){return p.coerce(r,s,g,m,v)}var f=L(r,s,c,l);if(!f){s.visible=!1;return}C(r,s,l,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hovertemplate"),a(c,l),w(r,s,c,l),c("hoverongaps"),c("connectgaps",p.isArray1D(s.z)&&s.zsmooth!==!1),h(r,s,l,c,{prefix:"",cLetter:"z"})}},43907:function(B,N,e){var p=e(71828).maxRowLength;B.exports=function(a){var C=[],w={},h=[],g=a[0],t=[],r=[0,0,0],s=p(a),n,l,c,f,m,v,A,d;for(l=0;l<a.length;l++)for(n=t,t=g,g=a[l+1]||[],c=0;c<s;c++)t[c]===void 0&&(v=(t[c-1]!==void 0?1:0)+(t[c+1]!==void 0?1:0)+(n[c]!==void 0?1:0)+(g[c]!==void 0?1:0),v?(l===0&&v++,c===0&&v++,l===a.length-1&&v++,c===t.length-1&&v++,v<4&&(w[[l,c]]=[l,c,v]),C.push([l,c,v])):h.push([l,c]));for(;h.length;){for(A={},d=!1,m=h.length-1;m>=0;m--)f=h[m],l=f[0],c=f[1],v=((w[[l-1,c]]||r)[2]+(w[[l+1,c]]||r)[2]+(w[[l,c-1]]||r)[2]+(w[[l,c+1]]||r)[2])/20,v&&(A[f]=[l,c,v],h.splice(m,1),d=!0);if(!d)throw"findEmpties iterated with no new neighbors";for(f in A)w[f]=A[f],C.push(A[f])}return C.sort(function(u,y){return y[2]-u[2]})}},46248:function(B,N,e){var p=e(30211),L=e(71828),a=e(89298),C=e(21081).extractOpts;B.exports=function(h,g,t,r,s){s||(s={});var n=s.isContour,l=h.cd[0],c=l.trace,f=h.xa,m=h.ya,v=l.x,A=l.y,d=l.z,u=l.xCenter,y=l.yCenter,M=l.zmask,S=c.zhoverformat,R=v,x=A,E,T,i,D;if(h.index!==!1){try{i=Math.round(h.index[1]),D=Math.round(h.index[0])}catch{L.error("Error hovering on heatmap, pointNumber must be [row,col], found:",h.index);return}if(i<0||i>=d[0].length||D<0||D>d.length)return}else{if(p.inbox(g-v[0],g-v[v.length-1],0)>0||p.inbox(t-A[0],t-A[A.length-1],0)>0)return;if(n){var b;for(R=[2*v[0]-v[1]],b=1;b<v.length;b++)R.push((v[b]+v[b-1])/2);for(R.push([2*v[v.length-1]-v[v.length-2]]),x=[2*A[0]-A[1]],b=1;b<A.length;b++)x.push((A[b]+A[b-1])/2);x.push([2*A[A.length-1]-A[A.length-2]])}i=Math.max(0,Math.min(R.length-2,L.findBin(g,R))),D=Math.max(0,Math.min(x.length-2,L.findBin(t,x)))}var O=f.c2p(v[i]),F=f.c2p(v[i+1]),V=m.c2p(A[D]),_=m.c2p(A[D+1]),U,H;n?(U=l.orig_x||v,H=l.orig_y||A,F=O,E=U[i],_=V,T=H[D]):(U=l.orig_x||u||v,H=l.orig_y||y||A,E=u?U[i]:(U[i]+U[i+1])/2,T=y?H[D]:(H[D]+H[D+1])/2,f&&f.type==="category"&&(E=v[i]),m&&m.type==="category"&&(T=A[D]),c.zsmooth&&(O=F=f.c2p(E),V=_=m.c2p(T)));var z=d[D][i];if(M&&!M[D][i]&&(z=void 0),!(z===void 0&&!c.hoverongaps)){var G;Array.isArray(l.hovertext)&&Array.isArray(l.hovertext[D])?G=l.hovertext[D][i]:Array.isArray(l.text)&&Array.isArray(l.text[D])&&(G=l.text[D][i]);var Y=C(c),J={type:"linear",range:[Y.min,Y.max],hoverformat:S,_separators:f._separators,_numFormat:f._numFormat},ae=a.tickText(J,z,"hover").text;return[L.extendFlat(h,{index:c._after2before?c._after2before[D][i]:[D,i],distance:h.maxHoverDistance,spikeDistance:h.maxSpikeDistance,x0:O,x1:F,y0:V,y1:_,xLabelVal:E,yLabelVal:T,zLabelVal:z,zLabel:ae,text:G})]}}},92165:function(B,N,e){B.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(B,N,e){var p=e(71828),L=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function C(h){return .5-.25*Math.min(1,h*.5)}B.exports=function(g,t){var r=1,s;for(w(g,t),s=0;s<t.length&&!(t[s][2]<4);s++);for(t=t.slice(s),s=0;s<100&&r>L;s++)r=w(g,t,C(r));return r>L&&p.log("interp2d didn't converge quickly",r),g};function w(h,g,t){var r=0,s,n,l,c,f,m,v,A,d,u,y,M,S;for(c=0;c<g.length;c++){for(s=g[c],n=s[0],l=s[1],y=h[n][l],u=0,d=0,f=0;f<4;f++)m=a[f],v=h[n+m[0]],v&&(A=v[l+m[1]],A!==void 0&&(u===0?M=S=A:(M=Math.min(M,A),S=Math.max(S,A)),d++,u+=A));if(d===0)throw"iterateInterp2d order is wrong: no defined neighbors";h[n][l]=u/d,y===void 0?d<4&&(r=1):(h[n][l]=(1+t)*h[n][l]-t*y,S>M&&(r=Math.max(r,Math.abs(h[n][l]-y)/(S-M))))}return r}},58623:function(B,N,e){var p=e(71828);B.exports=function(a,C){a("texttemplate");var w=p.extendFlat({},C.font,{color:"auto",size:"auto"});p.coerceFont(a,"textfont",w)}},70769:function(B,N,e){var p=e(73972),L=e(71828).isArrayOrTypedArray;B.exports=function(C,w,h,g,t,r){var s=[],n=p.traceIs(C,"contour"),l=p.traceIs(C,"histogram"),c=p.traceIs(C,"gl2d"),f,m,v,A=L(w)&&w.length>1;if(A&&!l&&r.type!=="category"){var d=w.length;if(d<=t){if(n||c)s=w.slice(0,t);else if(t===1)s=[w[0]-.5,w[0]+.5];else{for(s=[1.5*w[0]-.5*w[1]],v=1;v<d;v++)s.push((w[v-1]+w[v])*.5);s.push(1.5*w[d-1]-.5*w[d-2])}if(d<t){var u=s[s.length-1],y=u-s[s.length-2];for(v=d;v<t;v++)u+=y,s.push(u)}}else return n?w.slice(0,t):w.slice(0,t+1)}else{var M=C[r._id.charAt(0)+"calendar"];if(l)f=r.r2c(h,0,M);else if(L(w)&&w.length===1)f=w[0];else if(h===void 0)f=0;else{var S=r.type==="log"?r.d2c:r.r2c;f=S(h,0,M)}for(m=g||1,v=n||c?0:-.5;v<t;v++)s.push(f+m*v)}return s}},50347:function(B,N,e){var p=e(39898),L=e(84267),a=e(73972),C=e(91424),w=e(89298),h=e(71828),g=e(63893),t=e(8225),r=e(7901),s=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,l=e(77922),c=e(18783),f=c.LINE_SPACING,m=e(3883),v=e(32396).STYLE,A="heatmap-label";function d(R){return R.selectAll("g."+A)}function u(R){d(R).remove()}B.exports=function(R,x,E,T){var i=x.xaxis,D=x.yaxis;h.makeTraceGroups(T,E,"hm").each(function(b){var O=p.select(this),F=b[0],V=F.trace,_=V.xgap||0,U=V.ygap||0,H=F.z,z=F.x,G=F.y,Y=F.xCenter,J=F.yCenter,ae=a.traceIs(V,"contour"),oe=ae?"best":V.zsmooth,he=H.length,q=h.maxRowLength(H),Z=!1,$=!1,K,re,le,te,ee,ue,se,ve;for(ue=0;K===void 0&&ue<z.length-1;)K=i.c2p(z[ue]),ue++;for(ue=z.length-1;re===void 0&&ue>0;)re=i.c2p(z[ue]),ue--;for(re<K&&(le=re,re=K,K=le,Z=!0),ue=0;te===void 0&&ue<G.length-1;)te=D.c2p(G[ue]),ue++;for(ue=G.length-1;ee===void 0&&ue>0;)ee=D.c2p(G[ue]),ue--;ee<te&&(le=te,te=ee,ee=le,$=!0),ae&&(Y=z,J=G,z=F.xfill,G=F.yfill);var be="default";if(oe?be=oe==="best"?"smooth":"fast":V._islinear&&_===0&&U===0&&m()&&(be="fast"),be!=="fast"){var Ee=oe==="best"?0:.5;K=Math.max(-Ee*i._length,K),re=Math.min((1+Ee)*i._length,re),te=Math.max(-Ee*D._length,te),ee=Math.min((1+Ee)*D._length,ee)}var Ae=Math.round(re-K),Oe=Math.round(ee-te),Ue=K>=i._length||re<=0||te>=D._length||ee<=0;if(Ue){var Le=O.selectAll("image").data([]);Le.exit().remove(),u(O);return}var we,Ce;be==="fast"?(we=q,Ce=he):(we=Ae,Ce=Oe);var Ve=document.createElement("canvas");Ve.width=we,Ve.height=Ce;var Ne=Ve.getContext("2d",{willReadFrequently:!0}),ke=n(V,{noNumericCheck:!0,returnArray:!0}),We,rt;be==="fast"?(We=Z?function(on){return q-1-on}:h.identity,rt=$?function(on){return he-1-on}:h.identity):(We=function(on){return h.constrain(Math.round(i.c2p(z[on])-K),0,Ae)},rt=function(on){return h.constrain(Math.round(D.c2p(G[on])-te),0,Oe)});var et=rt(0),tt=[et,et],at=Z?0:1,ct=$?0:1,dt=0,gt=0,Et=0,Ct=0,Vt,Je,_e,Fe,Be;function De(on,yn){if(on!==void 0){var xn=ke(on);return xn[0]=Math.round(xn[0]),xn[1]=Math.round(xn[1]),xn[2]=Math.round(xn[2]),dt+=yn,gt+=xn[0]*yn,Et+=xn[1]*yn,Ct+=xn[2]*yn,xn}return[0,0,0,0]}function Te(on,yn,xn,Rn){var _n=on[xn.bin0];if(_n===void 0)return De(void 0,1);var sa=on[xn.bin1],Zn=yn[xn.bin0],qn=yn[xn.bin1],jn=sa-_n||0,Qn=Zn-_n||0,Tr;return sa===void 0?qn===void 0?Tr=0:Zn===void 0?Tr=2*(qn-_n):Tr=(2*qn-Zn-_n)*2/3:qn===void 0?Zn===void 0?Tr=0:Tr=(2*_n-sa-Zn)*2/3:Zn===void 0?Tr=(2*qn-sa-_n)*2/3:Tr=qn+_n-sa-Zn,De(_n+xn.frac*jn+Rn.frac*(Qn+xn.frac*Tr))}if(be!=="default"){var xe=0,Me;try{Me=new Uint8Array(we*Ce*4)}catch{Me=new Array(we*Ce*4)}if(be==="smooth"){var Pe=Y||z,He=J||G,Ke=new Array(Pe.length),qe=new Array(He.length),vt=new Array(Ae),bt=Y?M:y,Wt=J?M:y,qt,At,zt;for(ue=0;ue<Pe.length;ue++)Ke[ue]=Math.round(i.c2p(Pe[ue])-K);for(ue=0;ue<He.length;ue++)qe[ue]=Math.round(D.c2p(He[ue])-te);for(ue=0;ue<Ae;ue++)vt[ue]=bt(ue,Ke);for(se=0;se<Oe;se++)for(qt=Wt(se,qe),At=H[qt.bin0],zt=H[qt.bin1],ue=0;ue<Ae;ue++,xe+=4)Be=Te(At,zt,vt[ue],qt),S(Me,xe,Be)}else for(se=0;se<he;se++)for(Fe=H[se],tt=rt(se),ue=0;ue<q;ue++)Be=De(Fe[ue],1),xe=(tt*q+We(ue))*4,S(Me,xe,Be);var Kt=Ne.createImageData(we,Ce);try{Kt.data.set(Me)}catch{var Sr=Kt.data,yt=Sr.length;for(se=0;se<yt;se++)Sr[se]=Me[se]}Ne.putImageData(Kt,0,0)}else{var Zt=Math.floor(_/2),$t=Math.floor(U/2);for(se=0;se<he;se++)if(Fe=H[se],tt.reverse(),tt[ct]=rt(se+1),!(tt[0]===tt[1]||tt[0]===void 0||tt[1]===void 0))for(Je=We(0),Vt=[Je,Je],ue=0;ue<q;ue++)Vt.reverse(),Vt[at]=We(ue+1),!(Vt[0]===Vt[1]||Vt[0]===void 0||Vt[1]===void 0)&&(_e=Fe[ue],Be=De(_e,(Vt[1]-Vt[0])*(tt[1]-tt[0])),Ne.fillStyle="rgba("+Be.join(",")+")",Ne.fillRect(Vt[0]+Zt,tt[0]+$t,Vt[1]-Vt[0]-_,tt[1]-tt[0]-U))}gt=Math.round(gt/dt),Et=Math.round(Et/dt),Ct=Math.round(Ct/dt);var mr=L("rgb("+gt+","+Et+","+Ct+")");R._hmpixcount=(R._hmpixcount||0)+dt,R._hmlumcount=(R._hmlumcount||0)+dt*mr.getLuminance();var ur=O.selectAll("image").data(b);ur.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),ur.attr({height:Oe,width:Ae,x:K,y:te,"xlink:href":Ve.toDataURL("image/png")}),be==="fast"&&!oe&&ur.attr("style",v),u(O);var pt=V.texttemplate;if(pt){var st=s(V),xt={type:"linear",range:[st.min,st.max],_separators:i._separators,_numFormat:i._numFormat},St=V.type==="histogram2dcontour",Dt=V.type==="contour",Rt=Dt?1:0,Bt=Dt?he-1:he,Nt=Dt?1:0,Xt=Dt?q-1:q,lr=[];for(ue=Rt;ue<Bt;ue++){var sr;if(Dt)sr=F.y[ue];else if(St){if(ue===0||ue===he-1)continue;sr=F.y[ue]}else if(F.yCenter)sr=F.yCenter[ue];else{if(ue+1===he&&F.y[ue+1]===void 0)continue;sr=(F.y[ue]+F.y[ue+1])/2}var dr=Math.round(D.c2p(sr));if(!(0>dr||dr>D._length))for(se=Nt;se<Xt;se++){var Ye;if(Dt)Ye=F.x[se];else if(St){if(se===0||se===q-1)continue;Ye=F.x[se]}else if(F.xCenter)Ye=F.xCenter[se];else{if(se+1===q&&F.x[se+1]===void 0)continue;Ye=(F.x[se]+F.x[se+1])/2}var je=Math.round(i.c2p(Ye));if(!(0>je||je>i._length)){var It=t({x:Ye,y:sr},V,R._fullLayout);It.x=Ye,It.y=sr;var kt=F.z[ue][se];kt===void 0?(It.z="",It.zLabel=""):(It.z=kt,It.zLabel=w.tickText(xt,kt,"hover").text);var jt=F.text&&F.text[ue]&&F.text[ue][se];(jt===void 0||jt===!1)&&(jt=""),It.text=jt;var tr=h.texttemplateString(pt,It,R._fullLayout._d3locale,It,V._meta||{});if(tr){var or=tr.split("<br>"),rr=or.length,_t=0;for(ve=0;ve<rr;ve++)_t=Math.max(_t,or[ve].length);lr.push({l:rr,c:_t,t:tr,x:je,y:dr,z:kt})}}}}var hr=V.textfont,gr=hr.family,pr=hr.size,vr=R._fullLayout.font.size;if(!pr||pr==="auto"){var Gr=1/0,Fr=1/0,_r=0,gn=0;for(ve=0;ve<lr.length;ve++){var tn=lr[ve];if(_r=Math.max(_r,tn.l),gn=Math.max(gn,tn.c),ve<lr.length-1){var Bn=lr[ve+1],An=Math.abs(Bn.x-tn.x),Mr=Math.abs(Bn.y-tn.y);An&&(Gr=Math.min(Gr,An)),Mr&&(Fr=Math.min(Fr,Mr))}}!isFinite(Gr)||!isFinite(Fr)?pr=vr:(Gr-=_,Fr-=U,Gr/=gn,Fr/=_r,Gr/=f/2,Fr/=f,pr=Math.min(Math.floor(Gr),Math.floor(Fr),vr))}if(pr<=0||!isFinite(pr))return;var Cr=function(on){return on.x},jr=function(on){return on.y-pr*(on.l*f/2-1)},Hr=d(O).data(lr);Hr.enter().append("g").classed(A,1).append("text").attr("text-anchor","middle").each(function(on){var yn=p.select(this),xn=hr.color;(!xn||xn==="auto")&&(xn=r.contrast("rgba("+ke(on.z).join()+")")),yn.attr("data-notex",1).call(g.positionText,Cr(on),jr(on)).call(C.font,gr,pr,xn).text(on.t).call(g.convertToTspans,R)})}})};function y(R,x){var E=x.length-2,T=h.constrain(h.findBin(R,x),0,E),i=x[T],D=x[T+1],b=h.constrain(T+(R-i)/(D-i)-.5,0,E),O=Math.round(b),F=Math.abs(b-O);return!b||b===E||!F?{bin0:O,bin1:O,frac:0}:{bin0:O,frac:F,bin1:Math.round(O+F/(b-O))}}function M(R,x){var E=x.length-1,T=h.constrain(h.findBin(R,x),0,E),i=x[T],D=x[T+1],b=(R-i)/(D-i)||0;return b<=0?{bin0:T,bin1:T,frac:0}:b<.5?{bin0:T,bin1:T+1,frac:b}:{bin0:T+1,bin1:T,frac:1-b}}function S(R,x,E){R[x]=E[0],R[x+1]=E[1],R[x+2]=E[2],R[x+3]=Math.round(E[3]*255)}},70035:function(B,N,e){var p=e(39898);B.exports=function(a){p.select(a).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},49901:function(B){B.exports=function(e,p,L){var a=L("zsmooth");a===!1&&(L("xgap"),L("ygap")),L("zhoverformat")}},67684:function(B,N,e){var p=e(92770),L=e(71828),a=e(73972);B.exports=function(g,t,r,s,n,l){var c=r("z");n=n||"x",l=l||"y";var f,m;if(c===void 0||!c.length)return 0;if(L.isArray1D(g.z)){f=r(n),m=r(l);var v=L.minRowLength(f),A=L.minRowLength(m);if(v===0||A===0)return 0;t._length=Math.min(v,A,c.length)}else{if(f=C(n,r),m=C(l,r),!w(c))return 0;r("transpose"),t._length=null}if(g.type==="heatmapgl")return!0;var d=a.getComponentMethod("calendars","handleTraceDefaults");return d(g,t,[n,l],s),!0};function C(h,g){var t=g(h),r=t?g(h+"type","array"):"scaled";return r==="scaled"&&(g(h+"0"),g("d"+h)),t}function w(h){for(var g=!0,t=!1,r=!1,s,n=0;n<h.length;n++){if(s=h[n],!L.isArrayOrTypedArray(s)){g=!1;break}s.length>0&&(t=!0);for(var l=0;l<s.length;l++)if(p(s[l])){r=!0;break}}return g&&t&&r}},16063:function(B,N,e){for(var p=e(21606),L=e(50693),a=e(1426).extendFlat,C=e(30962).overrideAll,w=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],h={},g=0;g<w.length;g++){var t=w[g];h[t]=p[t]}h.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(h,L("",{cLetter:"z",autoColorDflt:!1})),B.exports=C(h,"calc","nested")},59560:function(B,N,e){var p=e(9330).gl_heatmap2d,L=e(89298),a=e(78614);function C(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=p(t.glplot,this.options),this.heatmap._trace=this}var w=C.prototype;w.handlePick=function(t){var r=this.options,s=r.shape,n=t.pointId,l=n%s[0],c=Math.floor(n/s[0]),f=n;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[l],r.y[c],r.z[f]],textLabel:this.textLabels[n],name:this.name,pointIndex:[c,l],hoverinfo:this.hoverinfo}},w.update=function(t,r){var s=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var n=s.z;this.options.z=[].concat.apply([],n);var l=n[0].length,c=n.length;this.options.shape=[l,c],this.options.x=s.x,this.options.y=s.y,this.options.zsmooth=t.zsmooth;var f=h(t);this.options.colorLevels=f.colorLevels,this.options.colorValues=f.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var m=this.scene.xaxis,v=this.scene.yaxis,A,d;t.zsmooth===!1&&(A={ppad:s.x[1]-s.x[0]},d={ppad:s.y[1]-s.y[0]}),t._extremes[m._id]=L.findExtremes(m,s.x,A),t._extremes[v._id]=L.findExtremes(v,s.y,d)},w.dispose=function(){this.heatmap.dispose()};function h(t){for(var r=t.colorscale,s=t.zmin,n=t.zmax,l=r.length,c=new Array(l),f=new Array(4*l),m=0;m<l;m++){var v=r[m],A=a(v[1]);c[m]=s+v[0]*(n-s);for(var d=0;d<4;d++)f[4*m+d]=A[d]}return{colorLevels:c,colorValues:f}}function g(t,r,s){var n=new C(t,r.uid);return n.update(r,s),n}B.exports=g},19600:function(B,N,e){var p=e(71828),L=e(67684),a=e(1586),C=e(16063);B.exports=function(h,g,t,r){function s(l,c){return p.coerce(h,g,C,l,c)}var n=L(h,g,s,r);if(!n){g.visible=!1;return}s("text"),s("zsmooth"),a(h,g,r,s,{prefix:"",cLetter:"z"})}},3325:function(B,N,e){B.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(B,N,e){var p=e(1486),L=e(12663).axisHoverFormat,a=e(5386).fF,C=e(5386).si,w=e(41940),h=e(17656),g=e(72406),t=e(1426).extendFlat;B.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:L("x"),yhoverformat:L("y"),text:t({},p.text,{}),hovertext:t({},p.hovertext,{}),orientation:p.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:h("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:h("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:g.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},p.textposition,{arrayOk:!1}),textfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:p.insidetextanchor,textangle:p.textangle,cliponaxis:p.cliponaxis,constraintext:p.constraintext,marker:p.marker,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,_deprecated:{bardir:p._deprecated.bardir}}},42174:function(B){B.exports=function(e,p){for(var L=e.length,a=0,C=0;C<L;C++)p[C]?(e[C]/=p[C],a+=e[C]):e[C]=null;return a}},17656:function(B){B.exports=function(e,p){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(B,N,e){var p=e(92770);B.exports={count:function(L,a,C){return C[L]++,1},sum:function(L,a,C,w){var h=w[a];return p(h)?(h=Number(h),C[L]+=h,h):0},avg:function(L,a,C,w,h){var g=w[a];return p(g)&&(g=Number(g),C[L]+=g,h[L]++),0},min:function(L,a,C,w){var h=w[a];if(p(h))if(h=Number(h),p(C[L])){if(C[L]>h){var g=h-C[L];return C[L]=h,g}}else return C[L]=h,h;return 0},max:function(L,a,C,w){var h=w[a];if(p(h))if(h=Number(h),p(C[L])){if(C[L]<h){var g=h-C[L];return C[L]=h,g}}else return C[L]=h,h;return 0}}},40965:function(B,N,e){var p=e(50606),L=p.ONEAVGYEAR,a=p.ONEAVGMONTH,C=p.ONEDAY,w=p.ONEHOUR,h=p.ONEMIN,g=p.ONESEC,t=e(89298).tickIncrement;B.exports=function(f,m,v,A,d){var u=-1.1*m,y=-.1*m,M=f-y,S=v[0],R=v[1],x=Math.min(r(S+y,S+M,A,d),r(R+y,R+M,A,d)),E=Math.min(r(S+u,S+y,A,d),r(R+u,R+y,A,d)),T,i;if(x>E&&E<Math.abs(R-S)/4e3?(T=x,i=!1):(T=Math.min(x,E),i=!0),A.type==="date"&&T>C){var D=T===L?1:6,b=T===L?"M12":"M1";return function(O,F){var V=A.c2d(O,L,d),_=V.indexOf("-",D);_>0&&(V=V.substr(0,_));var U=A.d2c(V,0,d);if(U<O){var H=t(U,b,!1,d);(U+H)/2<O+f&&(U=H)}return F&&i?t(U,b,!0,d):U}}return function(O,F){var V=T*Math.round(O/T);return V+T/10<O&&V+T*.9<O+f&&(V+=T),F&&i&&(V-=T),V}};function r(c,f,m,v){if(c*f<=0)return 1/0;for(var A=Math.abs(f-c),d=m.type==="date",u=s(A,d),y=0;y<10;y++){var M=s(u*80,d);if(u===M)break;if(n(M,c,f,d,m,v))u=M;else break}return u}function s(c,f){return f&&c>g?c>C?c>L*1.1?L:c>a*1.1?a:C:c>w?w:c>h?h:g:Math.pow(10,Math.floor(Math.log(c)/Math.LN10))}function n(c,f,m,v,A,d){if(v&&c>C){var u=l(f,A,d),y=l(m,A,d),M=c===L?0:1;return u[M]!==y[M]}return Math.floor(m/c)-Math.floor(f/c)>.1}function l(c,f,m){var v=f.c2d(c,L,m).split("-");return v[0]===""&&(v.unshift(),v[0]="-"+v[0]),v}},72138:function(B,N,e){var p=e(92770),L=e(71828),a=e(73972),C=e(89298),w=e(75341),h=e(59575),g=e(36362),t=e(42174),r=e(40965);function s(m,v){var A=[],d=[],u=v.orientation==="h",y=C.getFromId(m,u?v.yaxis:v.xaxis),M=u?"y":"x",S={x:"y",y:"x"}[M],R=v[M+"calendar"],x=v.cumulative,E,T=n(m,v,y,M),i=T[0],D=T[1],b=typeof i.size=="string",O=[],F=b?O:i,V=[],_=[],U=[],H=0,z=v.histnorm,G=v.histfunc,Y=z.indexOf("density")!==-1,J,ae,oe;x.enabled&&Y&&(z=z.replace(/ ?density$/,""),Y=!1);var he=G==="max"||G==="min",q=he?null:0,Z=h.count,$=g[z],K=!1,re=function(Ne){return y.r2c(Ne,0,R)},le;for(L.isArrayOrTypedArray(v[S])&&G!=="count"&&(le=v[S],K=G==="avg",Z=h[G]),E=re(i.start),ae=re(i.end)+(E-C.tickIncrement(E,i.size,!1,R))/1e6;E<ae&&A.length<1e6&&(J=C.tickIncrement(E,i.size,!1,R),A.push((E+J)/2),d.push(q),U.push([]),O.push(E),Y&&V.push(1/(J-E)),K&&_.push(0),!(J<=E));)E=J;O.push(E),!b&&y.type==="date"&&(F={start:re(F.start),end:re(F.end),size:F.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var te=v["_"+M+"bingroup"],ee={leftGap:1/0,rightGap:1/0};te&&(m._fullLayout._roundFnOpts[te]||(m._fullLayout._roundFnOpts[te]=ee),ee=m._fullLayout._roundFnOpts[te]);var ue=d.length,se=!0,ve=ee.leftGap,be=ee.rightGap,Ee={};for(E=0;E<D.length;E++){var Ae=D[E];oe=L.findBin(Ae,F),oe>=0&&oe<ue&&(H+=Z(oe,E,d,le,_),se&&U[oe].length&&Ae!==D[U[oe][0]]&&(se=!1),U[oe].push(E),Ee[E]=oe,ve=Math.min(ve,Ae-O[oe]),be=Math.min(be,O[oe+1]-Ae))}ee.leftGap=ve,ee.rightGap=be;var Oe;se||(Oe=function(Ne,ke){return function(){var We=m._fullLayout._roundFnOpts[te];return r(We.leftGap,We.rightGap,O,y,R)(Ne,ke)}}),K&&(H=t(d,_)),$&&$(d,H,V),x.enabled&&f(d,x.direction,x.currentbin);var Ue=Math.min(A.length,d.length),Le=[],we=0,Ce=Ue-1;for(E=0;E<Ue;E++)if(d[E]){we=E;break}for(E=Ue-1;E>=we;E--)if(d[E]){Ce=E;break}for(E=we;E<=Ce;E++)if(p(A[E])&&p(d[E])){var Ve={p:A[E],s:d[E],b:0};x.enabled||(Ve.pts=U[E],se?Ve.ph0=Ve.ph1=U[E].length?D[U[E][0]]:A[E]:(v._computePh=!0,Ve.ph0=Oe(O[E]),Ve.ph1=Oe(O[E+1],!0))),Le.push(Ve)}return Le.length===1&&(Le[0].width1=C.tickIncrement(Le[0].p,i.size,!1,R)-Le[0].p),w(Le,v),L.isArrayOrTypedArray(v.selectedpoints)&&L.tagSelected(Le,v,Ee),Le}function n(m,v,A,d,u){var y=d+"bins",M=m._fullLayout,S=v["_"+d+"bingroup"],R=M._histogramBinOpts[S],x=M.barmode==="overlay",E,T,i,D,b,O,F,V=function(Ae){return A.r2c(Ae,0,D)},_=function(Ae){return A.c2r(Ae,0,D)},U=A.type==="date"?function(Ae){return Ae||Ae===0?L.cleanDate(Ae,null,D):null}:function(Ae){return p(Ae)?Number(Ae):null};function H(Ae,Oe,Ue){Oe[Ae+"Found"]?(Oe[Ae]=U(Oe[Ae]),Oe[Ae]===null&&(Oe[Ae]=Ue[Ae])):(O[Ae]=Oe[Ae]=Ue[Ae],L.nestedProperty(T[0],y+"."+Ae).set(Ue[Ae]))}if(v["_"+d+"autoBinFinished"])delete v["_"+d+"autoBinFinished"];else{T=R.traces;var z=[],G=!0,Y=!1,J=!1;for(E=0;E<T.length;E++)if(i=T[E],i.visible){var ae=R.dirs[E];b=i["_"+ae+"pos0"]=A.makeCalcdata(i,ae),z=L.concat(z,b),delete i["_"+d+"autoBinFinished"],v.visible===!0&&(G?G=!1:(delete i._autoBin,i["_"+d+"autoBinFinished"]=1),a.traceIs(i,"2dMap")&&(Y=!0),i.type==="histogram2dcontour"&&(J=!0))}D=T[0][d+"calendar"];var oe=C.autoBin(z,A,R.nbins,Y,D,R.sizeFound&&R.size),he=T[0]._autoBin={};if(O=he[R.dirs[0]]={},J&&(R.size||(oe.start=_(C.tickIncrement(V(oe.start),oe.size,!0,D))),R.end===void 0&&(oe.end=_(C.tickIncrement(V(oe.end),oe.size,!1,D)))),x&&!a.traceIs(v,"2dMap")&&oe._dataSpan===0&&A.type!=="category"&&A.type!=="multicategory"&&v.bingroup===""&&typeof v.xbins>"u"){if(u)return[oe,b,!0];oe=l(m,v,A,d,y)}F=i.cumulative||{},F.enabled&&F.currentbin!=="include"&&(F.direction==="decreasing"?oe.start=_(C.tickIncrement(V(oe.start),oe.size,!0,D)):oe.end=_(C.tickIncrement(V(oe.end),oe.size,!1,D))),R.size=oe.size,R.sizeFound||(O.size=oe.size,L.nestedProperty(T[0],y+".size").set(oe.size)),H("start",R,oe),H("end",R,oe)}b=v["_"+d+"pos0"],delete v["_"+d+"pos0"];var q=v._input[y]||{},Z=L.extendFlat({},R),$=R.start,K=A.r2l(q.start),re=K!==void 0;if((R.startFound||re)&&K!==A.r2l($)){var le=re?K:L.aggNums(Math.min,null,b),te={type:A.type==="category"||A.type==="multicategory"?"linear":A.type,r2l:A.r2l,dtick:R.size,tick0:$,calendar:D,range:[le,C.tickIncrement(le,R.size,!1,D)].map(A.l2r)},ee=C.tickFirst(te);ee>A.r2l(le)&&(ee=C.tickIncrement(ee,R.size,!0,D)),Z.start=A.l2r(ee),re||L.nestedProperty(v,y+".start").set(Z.start)}var ue=R.end,se=A.r2l(q.end),ve=se!==void 0;if((R.endFound||ve)&&se!==A.r2l(ue)){var be=ve?se:L.aggNums(Math.max,null,b);Z.end=A.l2r(be),ve||L.nestedProperty(v,y+".start").set(Z.end)}var Ee="autobin"+d;return v._input[Ee]===!1&&(v._input[y]=L.extendFlat({},v[y]||{}),delete v._input[Ee],delete v[Ee]),[Z,b]}function l(m,v,A,d,u){var y=m._fullLayout,M=c(m,v),S=!1,R=1/0,x=[v],E,T,i;for(E=0;E<M.length;E++)if(T=M[E],T===v)S=!0;else if(!S)i=y._histogramBinOpts[T["_"+d+"bingroup"]],R=Math.min(R,i.size||T[u].size);else{var D=n(m,T,A,d,!0),b=D[0],O=D[2];T["_"+d+"autoBinFinished"]=1,T["_"+d+"pos0"]=D[1],O?x.push(T):R=Math.min(R,b.size)}var F=new Array(x.length);for(E=0;E<x.length;E++)for(var V=x[E]["_"+d+"pos0"],_=0;_<V.length;_++)if(V[_]!==void 0){F[E]=V[_];break}for(isFinite(R)||(R=L.distinctVals(F).minDiff),E=0;E<x.length;E++){T=x[E];var U=T[d+"calendar"],H={start:A.c2r(F[E]-R/2,0,U),end:A.c2r(F[E]+R/2,0,U),size:R};T._input[u]=T[u]=H,i=y._histogramBinOpts[T["_"+d+"bingroup"]],i&&L.extendFlat(i,H)}return v[u]}function c(m,v){for(var A=v.xaxis,d=v.yaxis,u=v.orientation,y=[],M=m._fullData,S=0;S<M.length;S++){var R=M[S];R.type==="histogram"&&R.visible===!0&&R.orientation===u&&R.xaxis===A&&R.yaxis===d&&y.push(R)}return y}function f(m,v,A){var d,u,y;function M(R){y=m[R],m[R]/=2}function S(R){u=m[R],m[R]=y+u/2,y+=u}if(A==="half")if(v==="increasing")for(M(0),d=1;d<m.length;d++)S(d);else for(M(m.length-1),d=m.length-2;d>=0;d--)S(d);else if(v==="increasing"){for(d=1;d<m.length;d++)m[d]+=m[d-1];A==="exclude"&&(m.unshift(0),m.pop())}else{for(d=m.length-2;d>=0;d--)m[d]+=m[d+1];A==="exclude"&&(m.push(0),m.shift())}}B.exports={calc:s,calcAllAutoBins:n}},72406:function(B){B.exports={eventDataKeys:["binNumber"]}},82222:function(B,N,e){var p=e(71828),L=e(41675),a=e(73972).traceIs,C=e(26125),w=p.nestedProperty,h=e(99082).getAxisGroup,g=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];B.exports=function(s,n){var l=n._histogramBinOpts={},c=[],f={},m=[],v,A,d,u,y,M,S;function R(J,ae){return p.coerce(v._input,v,v._module.attributes,J,ae)}function x(J){return J.orientation==="v"?"x":"y"}function E(J,ae){var oe=L.getFromTrace({_fullLayout:n},J,ae);return oe.type}function T(J,ae,oe){var he=J.uid+"__"+oe;ae||(ae=he);var q=E(J,oe),Z=J[oe+"calendar"]||"",$=l[ae],K=!0;$&&(q===$.axType&&Z===$.calendar?(K=!1,$.traces.push(J),$.dirs.push(oe)):(ae=he,q!==$.axType&&p.warn(["Attempted to group the bins of trace",J.index,"set on a","type:"+q,"axis","with bins on","type:"+$.axType,"axis."].join(" ")),Z!==$.calendar&&p.warn(["Attempted to group the bins of trace",J.index,"set with a",Z,"calendar","with bins",$.calendar?"on a "+$.calendar+" calendar":"w/o a set calendar"].join(" ")))),K&&(l[ae]={traces:[J],dirs:[oe],axType:q,calendar:J[oe+"calendar"]||""}),J["_"+oe+"bingroup"]=ae}for(y=0;y<s.length;y++)v=s[y],a(v,"histogram")&&(c.push(v),delete v._xautoBinFinished,delete v._yautoBinFinished,a(v,"2dMap")||C(v._input,v,n,R));var i=n._alignmentOpts||{};for(y=0;y<c.length;y++){if(v=c[y],d="",!a(v,"2dMap")){if(u=x(v),n.barmode==="group"&&v.alignmentgroup){var D=v[u+"axis"],b=h(n,D)+v.orientation;(i[b]||{})[v.alignmentgroup]&&(d=b)}!d&&n.barmode!=="overlay"&&(d=h(n,v.xaxis)+h(n,v.yaxis)+x(v))}d?(f[d]||(f[d]=[]),f[d].push(v)):m.push(v)}for(d in f){if(A=f[d],A.length===1){m.push(A[0]);continue}var O=!1;for(A.length&&(v=A[0],O=R("bingroup")),d=O||d,y=0;y<A.length;y++){v=A[y];var F=v._input.bingroup;F&&F!==d&&p.warn(["Trace",v.index,"must match","within bingroup",d+".","Ignoring its bingroup:",F,"setting."].join(" ")),v.bingroup=d,T(v,d,x(v))}}for(y=0;y<m.length;y++){v=m[y];var V=R("bingroup");if(a(v,"2dMap"))for(S=0;S<2;S++){u=t[S];var _=R(u+"bingroup",V?V+"__"+u:null);T(v,_,u)}else T(v,V,x(v))}for(d in l){var U=l[d];for(A=U.traces,M=0;M<g.length;M++){var H=g[M],z=H.name,G,Y;if(!(z==="nbins"&&U.sizeFound)){for(y=0;y<A.length;y++){if(v=A[y],u=U.dirs[y],G=H.aStr[u],w(v._input,G).get()!==void 0){U[z]=R(G),U[z+"Found"]=!0;break}Y=(v._autoBin||{})[u]||{},Y[z]&&w(v,G).set(Y[z])}if(z==="start"||z==="end")for(;y<A.length;y++)v=A[y],v["_"+u+"bingroup"]&&(Y=(v._autoBin||{})[u]||{},R(G,Y[z]));z==="nbins"&&!U.sizeFound&&!U.nbinsFound&&(v=A[0],U[z]=R(G))}}}}},11385:function(B,N,e){var p=e(73972),L=e(71828),a=e(7901),C=e(90769).handleText,w=e(98340),h=e(7745);B.exports=function(t,r,s,n){function l(E,T){return L.coerce(t,r,h,E,T)}var c=l("x"),f=l("y"),m=l("cumulative.enabled");m&&(l("cumulative.direction"),l("cumulative.currentbin")),l("text");var v=l("textposition");C(t,r,n,l,v,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat");var A=l("orientation",f&&!c?"h":"v"),d=A==="v"?"x":"y",u=A==="v"?"y":"x",y=c&&f?Math.min(L.minRowLength(c)&&L.minRowLength(f)):L.minRowLength(r[d]||[]);if(!y){r.visible=!1;return}r._length=y;var M=p.getComponentMethod("calendars","handleTraceDefaults");M(t,r,["x","y"],n);var S=r[u];S&&l("histfunc"),l("histnorm"),l("autobin"+d),w(t,r,l,s,n),L.coerceSelectionMarkerOpacity(r,l);var R=(r.marker.line||{}).color,x=p.getComponentMethod("errorbars","supplyDefaults");x(t,r,R||a.defaultLine,{axis:"y"}),x(t,r,R||a.defaultLine,{axis:"x",inherit:"y"})}},84402:function(B){B.exports=function(e,p,L,a,C){if(e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"zLabelVal"in p&&(e.z=p.zLabelVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),!(L.cumulative||{}).enabled){var w=Array.isArray(C)?a[0].pts[C[0]][C[1]]:a[C].pts;e.pointNumbers=w,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var h;if(L._indexToPoints){h=[];for(var g=0;g<w.length;g++)h=h.concat(L._indexToPoints[w[g]])}else h=w;e.pointIndices=h}return e}},76440:function(B,N,e){var p=e(95423).hoverPoints,L=e(89298).hoverLabelText;B.exports=function(C,w,h,g,t){var r=p(C,w,h,g,t);if(r){C=r[0];var s=C.cd[C.index],n=C.cd[0].trace;if(!n.cumulative.enabled){var l=n.orientation==="h"?"y":"x";C[l+"Label"]=L(C[l+"a"],[s.ph0,s.ph1],n[l+"hoverformat"])}return r}}},36071:function(B,N,e){B.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(B){B.exports={percent:function(N,e){for(var p=N.length,L=100/e,a=0;a<p;a++)N[a]*=L},probability:function(N,e){for(var p=N.length,L=0;L<p;L++)N[L]/=e},density:function(N,e,p,L){var a=N.length;L=L||1;for(var C=0;C<a;C++)N[C]*=p[C]*L},"probability density":function(N,e,p,L){var a=N.length;L&&(e/=L);for(var C=0;C<a;C++)N[C]*=p[C]/e}}},35361:function(B,N,e){var p=e(7745),L=e(17656),a=e(21606),C=e(9012),w=e(12663).axisHoverFormat,h=e(5386).fF,g=e(5386).si,t=e(50693),r=e(1426).extendFlat;B.exports=r({x:p.x,y:p.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:L("x"),nbinsy:p.nbinsy,ybins:L("y"),autobinx:p.autobinx,autobiny:p.autobiny,bingroup:r({},p.bingroup,{}),xbingroup:r({},p.bingroup,{}),ybingroup:r({},p.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:h({},{keys:"z"}),texttemplate:g({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:r({},C.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(B,N,e){var p=e(71828),L=e(89298),a=e(59575),C=e(36362),w=e(42174),h=e(40965),g=e(72138).calcAllAutoBins;B.exports=function(l,c){var f=L.getFromId(l,c.xaxis),m=L.getFromId(l,c.yaxis),v=c.xcalendar,A=c.ycalendar,d=function(Be){return f.r2c(Be,0,v)},u=function(Be){return m.r2c(Be,0,A)},y=function(Be){return f.c2r(Be,0,v)},M=function(Be){return m.c2r(Be,0,A)},S,R,x,E,T=g(l,c,f,"x"),i=T[0],D=T[1],b=g(l,c,m,"y"),O=b[0],F=b[1],V=c._length;D.length>V&&D.splice(V,D.length-V),F.length>V&&F.splice(V,F.length-V);var _=[],U=[],H=[],z=typeof i.size=="string",G=typeof O.size=="string",Y=[],J=[],ae=z?Y:i,oe=G?J:O,he=0,q=[],Z=[],$=c.histnorm,K=c.histfunc,re=$.indexOf("density")!==-1,le=K==="max"||K==="min",te=le?null:0,ee=a.count,ue=C[$],se=!1,ve=[],be=[],Ee="z"in c?c.z:"marker"in c&&Array.isArray(c.marker.color)?c.marker.color:"";Ee&&K!=="count"&&(se=K==="avg",ee=a[K]);var Ae=i.size,Oe=d(i.start),Ue=d(i.end)+(Oe-L.tickIncrement(Oe,Ae,!1,v))/1e6;for(S=Oe;S<Ue;S=L.tickIncrement(S,Ae,!1,v))U.push(te),Y.push(S),se&&H.push(0);Y.push(S);var Le=U.length,we=(S-Oe)/Le,Ce=y(Oe+we/2),Ve=O.size,Ne=u(O.start),ke=u(O.end)+(Ne-L.tickIncrement(Ne,Ve,!1,A))/1e6;for(S=Ne;S<ke;S=L.tickIncrement(S,Ve,!1,A)){_.push(U.slice()),J.push(S);var We=new Array(Le);for(R=0;R<Le;R++)We[R]=[];Z.push(We),se&&q.push(H.slice())}J.push(S);var rt=_.length,et=(S-Ne)/rt,tt=M(Ne+et/2);re&&(ve=t(U.length,ae,we,z),be=t(_.length,oe,et,G)),!z&&f.type==="date"&&(ae=r(d,ae)),!G&&m.type==="date"&&(oe=r(u,oe));var at=!0,ct=!0,dt=new Array(Le),gt=new Array(rt),Et=1/0,Ct=1/0,Vt=1/0,Je=1/0;for(S=0;S<V;S++){var _e=D[S],Fe=F[S];x=p.findBin(_e,ae),E=p.findBin(Fe,oe),x>=0&&x<Le&&E>=0&&E<rt&&(he+=ee(x,S,_[E],Ee,q[E]),Z[E][x].push(S),at&&(dt[x]===void 0?dt[x]=_e:dt[x]!==_e&&(at=!1)),ct&&(gt[E]===void 0?gt[E]=Fe:gt[E]!==Fe&&(ct=!1)),Et=Math.min(Et,_e-Y[x]),Ct=Math.min(Ct,Y[x+1]-_e),Vt=Math.min(Vt,Fe-J[E]),Je=Math.min(Je,J[E+1]-Fe))}if(se)for(E=0;E<rt;E++)he+=w(_[E],q[E]);if(ue)for(E=0;E<rt;E++)ue(_[E],he,ve,be[E]);return{x:D,xRanges:s(Y,at&&dt,Et,Ct,f,v),x0:Ce,dx:we,y:F,yRanges:s(J,ct&&gt,Vt,Je,m,A),y0:tt,dy:et,z:_,pts:Z}};function t(n,l,c,f){var m=new Array(n),v;if(f)for(v=0;v<n;v++)m[v]=1/(l[v+1]-l[v]);else{var A=1/c;for(v=0;v<n;v++)m[v]=A}return m}function r(n,l){return{start:n(l.start),end:n(l.end),size:l.size}}function s(n,l,c,f,m,v){var A,d=n.length-1,u=new Array(d),y=h(c,f,n,m,v);for(A=0;A<d;A++){var M=(l||[])[A];u[A]=M===void 0?[y(n[A]),y(n[A+1],!0)]:[M,M]}return u}},93888:function(B,N,e){var p=e(71828),L=e(75238),a=e(49901),C=e(1586),w=e(58623),h=e(35361);B.exports=function(t,r,s,n){function l(c,f){return p.coerce(t,r,h,c,f)}L(t,r,l,n),r.visible!==!1&&(a(t,r,l,n),C(t,r,n,l,{prefix:"",cLetter:"z"}),l("hovertemplate"),w(l,n),l("xhoverformat"),l("yhoverformat"))}},76128:function(B,N,e){var p=e(46248),L=e(89298).hoverLabelText;B.exports=function(C,w,h,g,t){var r=p(C,w,h,g,t);if(r){C=r[0];var s=C.index,n=s[0],l=s[1],c=C.cd[0],f=c.trace,m=c.xRanges[l],v=c.yRanges[n];return C.xLabel=L(C.xa,[m[0],m[1]],f.xhoverformat),C.yLabel=L(C.ya,[v[0],v[1]],f.yhoverformat),r}}},43905:function(B,N,e){B.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(B,N,e){var p=e(73972),L=e(71828);B.exports=function(C,w,h,g){var t=h("x"),r=h("y"),s=L.minRowLength(t),n=L.minRowLength(r);if(!s||!n){w.visible=!1;return}w._length=Math.min(s,n);var l=p.getComponentMethod("calendars","handleTraceDefaults");l(C,w,["x","y"],g);var c=h("z")||h("marker.color");c&&h("histfunc"),h("histnorm"),h("autobinx"),h("autobiny")}},99066:function(B,N,e){var p=e(35361),L=e(70600),a=e(50693),C=e(12663).axisHoverFormat,w=e(1426).extendFlat;B.exports=w({x:p.x,y:p.y,z:p.z,marker:p.marker,histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:p.xbins,nbinsy:p.nbinsy,ybins:p.ybins,autobinx:p.autobinx,autobiny:p.autobiny,bingroup:p.bingroup,xbingroup:p.xbingroup,ybingroup:p.ybingroup,autocontour:L.autocontour,ncontours:L.ncontours,contours:L.contours,line:{color:L.line.color,width:w({},L.line.width,{dflt:.5}),dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:L.texttemplate,textfont:L.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(B,N,e){var p=e(71828),L=e(75238),a=e(67217),C=e(8724),w=e(58623),h=e(99066);B.exports=function(t,r,s,n){function l(f,m){return p.coerce(t,r,h,f,m)}function c(f){return p.coerce2(t,r,h,f)}L(t,r,l,n),r.visible!==!1&&(a(t,r,l,c),C(t,r,l,n),l("xhoverformat"),l("yhoverformat"),l("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&w(l,n))}},35902:function(B,N,e){B.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(B,N,e){var p=e(5386).fF,L=e(5386).si,a=e(50693),C=e(27670).Y,w=e(34e3),h=e(57564),g=e(45802),t=e(43473),r=e(1426).extendFlat,s=e(79952).u;B.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:g.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:h.marker.colors,line:h.marker.line,pattern:s,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:h.leaf,pathbar:g.pathbar,text:w.text,textinfo:h.textinfo,texttemplate:L({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:w.hovertext,hoverinfo:h.hoverinfo,hovertemplate:p({},{keys:t.eventDataKeys}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:g.outsidetextfont,textposition:g.textposition,sort:w.sort,root:h.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},96346:function(B,N,e){var p=e(74875);N.name="icicle",N.plot=function(L,a,C,w){p.plotBasePlot(N.name,L,a,C,w)},N.clean=function(L,a,C,w){p.cleanBasePlot(N.name,L,a,C,w)}},46584:function(B,N,e){var p=e(52147);N.y=function(L,a){return p.calc(L,a)},N.T=function(L){return p._runCrossTraceCalc("icicle",L)}},56524:function(B,N,e){var p=e(71828),L=e(46291),a=e(7901),C=e(27670).c,w=e(90769).handleText,h=e(97313).TEXTPAD,g=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,s=t.handleDefaults;B.exports=function(l,c,f,m){function v(x,E){return p.coerce(l,c,L,x,E)}var A=v("labels"),d=v("parents");if(!A||!A.length||!d||!d.length){c.visible=!1;return}var u=v("values");u&&u.length?v("branchvalues"):v("count"),v("level"),v("maxdepth"),v("tiling.orientation"),v("tiling.flip"),v("tiling.pad");var y=v("text");v("texttemplate"),c.texttemplate||v("textinfo",Array.isArray(y)?"text+label":"label"),v("hovertext"),v("hovertemplate");var M=v("pathbar.visible"),S="auto";w(l,c,m,v,S,{hasPathbar:M,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),v("textposition"),g(l,c,m,v);var R=c._hasColorscale=r(l,"marker","colors")||(l.marker||{}).coloraxis;R&&s(l,c,m,v,{prefix:"marker.",cLetter:"c"}),v("leaf.opacity",R?1:.7),c._hovered={marker:{line:{width:2,color:a.contrast(m.paper_bgcolor)}}},M&&(v("pathbar.thickness",c.pathbar.textfont.size+2*h),v("pathbar.side"),v("pathbar.edgeshape")),v("sort"),v("root.color"),C(c,m,v),c._length=null}},90666:function(B,N,e){var p=e(39898),L=e(71828),a=e(91424),C=e(63893),w=e(21538),h=e(82454).styleOne,g=e(43473),t=e(2791),r=e(83523),s=e(24714).formatSliceLabel,n=!1;B.exports=function(c,f,m,v,A){var d=A.width,u=A.height,y=A.viewX,M=A.viewY,S=A.pathSlice,R=A.toMoveInsideSlice,x=A.strTransform,E=A.hasTransition,T=A.handleSlicesExit,i=A.makeUpdateSliceInterpolator,D=A.makeUpdateTextInterpolator,b=A.prevEntry,O={},F=c._context.staticPlot,V=c._fullLayout,_=f[0],U=_.trace,H=U.textposition.indexOf("left")!==-1,z=U.textposition.indexOf("right")!==-1,G=U.textposition.indexOf("bottom")!==-1,Y=w(m,[d,u],{flipX:U.tiling.flip.indexOf("x")>-1,flipY:U.tiling.flip.indexOf("y")>-1,orientation:U.tiling.orientation,pad:{inner:U.tiling.pad},maxDepth:U._maxDepth}),J=Y.descendants(),ae=1/0,oe=-1/0;J.forEach(function(K){var re=K.depth;re>=U._maxDepth?(K.x0=K.x1=(K.x0+K.x1)/2,K.y0=K.y1=(K.y0+K.y1)/2):(ae=Math.min(ae,re),oe=Math.max(oe,re))}),v=v.data(J,t.getPtId),U._maxVisibleLayers=isFinite(oe)?oe-ae+1:0,v.enter().append("g").classed("slice",!0),T(v,n,O,[d,u],S),v.order();var he=null;if(E&&b){var q=t.getPtId(b);v.each(function(K){he===null&&t.getPtId(K)===q&&(he={x0:K.x0,x1:K.x1,y0:K.y0,y1:K.y1})})}var Z=function(){return he||{x0:0,x1:d,y0:0,y1:u}},$=v;return E&&($=$.transition().each("end",function(){var K=p.select(this);t.setSliceCursor(K,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),$.each(function(K){K._x0=y(K.x0),K._x1=y(K.x1),K._y0=M(K.y0),K._y1=M(K.y1),K._hoverX=y(K.x1-U.tiling.pad),K._hoverY=M(G?K.y1-U.tiling.pad/2:K.y0+U.tiling.pad/2);var re=p.select(this),le=L.ensureSingle(re,"path","surface",function(se){se.style("pointer-events",F?"none":"all")});E?le.transition().attrTween("d",function(se){var ve=i(se,n,Z(),[d,u],{orientation:U.tiling.orientation,flipX:U.tiling.flip.indexOf("x")>-1,flipY:U.tiling.flip.indexOf("y")>-1});return function(be){return S(ve(be))}}):le.attr("d",S),re.call(r,m,c,f,{styleOne:h,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,c,{isTransitioning:c._transitioning}),le.call(h,K,U,c,{hovered:!1}),K.x0===K.x1||K.y0===K.y1?K._text="":K._text=s(K,m,U,f,V)||"";var te=L.ensureSingle(re,"g","slicetext"),ee=L.ensureSingle(te,"text","",function(se){se.attr("data-notex",1)}),ue=L.ensureUniformFontSize(c,t.determineTextFont(U,K,V.font));ee.text(K._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":H?"start":"middle").call(a.font,ue).call(C.convertToTspans,c),K.textBB=a.bBox(ee.node()),K.transform=R(K,{fontSize:ue.size}),K.transform.fontSize=ue.size,E?ee.transition().attrTween("transform",function(se){var ve=D(se,n,Z(),[d,u]);return function(be){return x(ve(be))}}):ee.attr("transform",x(K))}),he}},69816:function(B,N,e){B.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(B){B.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(B,N,e){var p=e(71828),L=e(92894);B.exports=function(C,w){function h(g,t){return p.coerce(C,w,L,g,t)}h("iciclecolorway",w.colorway),h("extendiciclecolors")}},21538:function(B,N,e){var p=e(674),L=e(14102);B.exports=function(C,w,h){var g=h.flipX,t=h.flipY,r=h.orientation==="h",s=h.maxDepth,n=w[0],l=w[1];s&&(n=(C.height+1)*w[0]/Math.min(C.height+1,s),l=(C.height+1)*w[1]/Math.min(C.height+1,s));var c=p.partition().padding(h.pad.inner).size(r?[w[1],n]:[w[0],l])(C);return(r||g||t)&&L(c,w,{swapXY:r,flipX:g,flipY:t}),c}},85596:function(B,N,e){var p=e(80694),L=e(90666);B.exports=function(C,w,h,g){return p(C,w,h,g,{type:"icicle",drawDescendants:L})}},82454:function(B,N,e){var p=e(39898),L=e(7901),a=e(71828),C=e(72597).resizeText,w=e(43467);function h(t){var r=t._fullLayout._iciclelayer.selectAll(".trace");C(t,r,"icicle"),r.each(function(s){var n=p.select(this),l=s[0],c=l.trace;n.style("opacity",c.opacity),n.selectAll("path.surface").each(function(f){p.select(this).call(g,f,c,t)})})}function g(t,r,s,n){var l=r.data.data,c=!r.children,f=l.i,m=a.castOption(s,f,"marker.line.color")||L.defaultLine,v=a.castOption(s,f,"marker.line.width")||0;t.call(w,r,s,n).style("stroke-width",v).call(L.stroke,m).style("opacity",c?s.leaf.opacity:null)}B.exports={style:h,styleOne:g}},17230:function(B,N,e){for(var p=e(9012),L=e(5386).fF,a=e(1426).extendFlat,C=e(51877).colormodel,w=["rgb","rgba","rgba256","hsl","hsla"],h=[],g=[],t=0;t<w.length;t++){var r=C[w[t]];h.push("For the `"+w[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),g.push("For the `"+w[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}B.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:w,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},p.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:L({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(B,N,e){var p=e(71828),L=e(51877),a=e(92770),C=e(89298),w=e(71828).maxRowLength,h=e(67395).A;B.exports=function(n,l){var c,f;if(l._hasZ)c=l.z.length,f=w(l.z);else if(l._hasSource){var m=h(l.source);c=m.height,f=m.width}var v=C.getFromId(n,l.xaxis||"x"),A=C.getFromId(n,l.yaxis||"y"),d=v.d2c(l.x0)-l.dx/2,u=A.d2c(l.y0)-l.dy/2,y,M=[d,d+f*l.dx],S=[u,u+c*l.dy];if(v&&v.type==="log")for(y=0;y<f;y++)M.push(d+y*l.dx);if(A&&A.type==="log")for(y=0;y<c;y++)S.push(u+y*l.dy);l._extremes[v._id]=C.findExtremes(v,M),l._extremes[A._id]=C.findExtremes(A,S),l._scaler=r(l);var R={x0:d,y0:u,z:l.z,w:f,h:c};return[R]};function g(s,n,l,c){return function(f){return p.constrain((f-s)*n,l,c)}}function t(s,n){return function(l){return p.constrain(l,s,n)}}function r(s){var n=L.colormodel[s.colormodel],l=n.colormodel||s.colormodel,c=l.length;s._sArray=[];for(var f=0;f<c;f++)n.min[f]!==s.zmin[f]||n.max[f]!==s.zmax[f]?s._sArray.push(g(s.zmin[f],(n.max[f]-n.min[f])/(s.zmax[f]-s.zmin[f]),n.min[f],n.max[f])):s._sArray.push(t(n.min[f],n.max[f]));return function(m){for(var v=m.slice(0,c),A=0;A<c;A++){var d=v[A];if(!a(d))return!1;v[A]=s._sArray[A](d)}return v}}},51877:function(B){B.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(N){return N.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(N){return N.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(N){return N.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(N){var e=N.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(N){var e=N.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13245:function(B,N,e){var p=e(71828),L=e(17230),a=e(51877),C=e(25095).IMAGE_URL_PREFIX;B.exports=function(h,g){function t(n,l){return p.coerce(h,g,L,n,l)}t("source"),g.source&&!g.source.match(C)&&delete g.source,g._hasSource=!!g.source;var r=t("z");if(g._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!g._hasZ&&!g._hasSource){g.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var s;g._hasZ?(t("colormodel","rgb"),s=a.colormodel[g.colormodel],t("zmin",s.zminDflt||s.min),t("zmax",s.zmaxDflt||s.max)):g._hasSource&&(g.colormodel="rgba256",s=a.colormodel[g.colormodel],g.zmin=s.zminDflt,g.zmax=s.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),g._length=null}},30835:function(B){B.exports=function(e,p){return"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e.color=p.color,e.colormodel=p.trace.colormodel,e.z||(e.z=p.color),e}},67395:function(B,N,e){var p=e(33575),L=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;N.A=function(C){var w=C.replace(L,""),h=new a(w,"base64");return p(h)}},28749:function(B,N,e){var p=e(30211),L=e(71828),a=e(51877);B.exports=function(w,h,g){var t=w.cd[0],r=t.trace,s=w.xa,n=w.ya;if(!(p.inbox(h-t.x0,h-(t.x0+t.w*r.dx),0)>0||p.inbox(g-t.y0,g-(t.y0+t.h*r.dy),0)>0)){var l=Math.floor((h-t.x0)/r.dx),c=Math.floor(Math.abs(g-t.y0)/r.dy),f;if(r._hasZ?f=t.z[c][l]:r._hasSource&&(f=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,c,1,1).data),!!f){var m=t.hi||r.hoverinfo,v;if(m){var A=m.split("+");A.indexOf("all")!==-1&&(A=["color"]),A.indexOf("color")!==-1&&(v=!0)}var d=a.colormodel[r.colormodel],u=d.colormodel||r.colormodel,y=u.length,M=r._scaler(f),S=d.suffix,R=[];(r.hovertemplate||v)&&(R.push("["+[M[0]+S[0],M[1]+S[1],M[2]+S[2]].join(", ")),y===4&&R.push(", "+M[3]+S[3]),R.push("]"),R=R.join(""),w.extraText=u.toUpperCase()+": "+R);var x;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[c])?x=r.hovertext[c][l]:Array.isArray(r.text)&&Array.isArray(r.text[c])&&(x=r.text[c][l]);var E=n.c2p(t.y0+(c+.5)*r.dy),T=t.x0+(l+.5)*r.dx,i=t.y0+(c+.5)*r.dy,D="["+f.slice(0,r.colormodel.length).join(", ")+"]";return[L.extendFlat(w,{index:[c,l],x0:s.c2p(t.x0+l*r.dx),x1:s.c2p(t.x0+(l+1)*r.dx),y0:E,y1:E,color:M,xVal:T,xLabelVal:T,yVal:i,yLabelVal:i,zLabelVal:D,text:x,hovertemplateLabels:{zLabel:D,colorLabel:R,"color[0]Label":M[0]+S[0],"color[1]Label":M[1]+S[1],"color[2]Label":M[2]+S[2],"color[3]Label":M[3]+S[3]}})]}}}},94507:function(B,N,e){B.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(B,N,e){var p=e(39898),L=e(71828),a=L.strTranslate,C=e(77922),w=e(51877),h=e(3883),g=e(32396).STYLE;B.exports=function(r,s,n,l){var c=s.xaxis,f=s.yaxis,m=!r._context._exportedPlot&&h();L.makeTraceGroups(l,n,"im").each(function(v){var A=p.select(this),d=v[0],u=d.trace,y=(u.zsmooth==="fast"||u.zsmooth===!1&&m)&&!u._hasZ&&u._hasSource&&c.type==="linear"&&f.type==="linear";u._realImage=y;var M=d.z,S=d.x0,R=d.y0,x=d.w,E=d.h,T=u.dx,i=u.dy,D,b,O,F,V,_;for(_=0;D===void 0&&_<x;)D=c.c2p(S+_*T),_++;for(_=x;b===void 0&&_>0;)b=c.c2p(S+_*T),_--;for(_=0;F===void 0&&_<E;)F=f.c2p(R+_*i),_++;for(_=E;V===void 0&&_>0;)V=f.c2p(R+_*i),_--;if(b<D&&(O=b,b=D,D=O),V<F&&(O=F,F=V,V=O),!y){var U=.5;D=Math.max(-U*c._length,D),b=Math.min((1+U)*c._length,b),F=Math.max(-U*f._length,F),V=Math.min((1+U)*f._length,V)}var H=Math.round(b-D),z=Math.round(V-F),G=H<=0||z<=0;if(G){var Y=A.selectAll("image").data([]);Y.exit().remove();return}function J(te){var ee=document.createElement("canvas");ee.width=H,ee.height=z;var ue=ee.getContext("2d",{willReadFrequently:!0}),se=function(Ne){return L.constrain(Math.round(c.c2p(S+Ne*T)-D),0,H)},ve=function(Ne){return L.constrain(Math.round(f.c2p(R+Ne*i)-F),0,z)},be=w.colormodel[u.colormodel],Ee=be.colormodel||u.colormodel,Ae=be.fmt,Oe;for(_=0;_<d.w;_++){var Ue=se(_),Le=se(_+1);if(!(Le===Ue||isNaN(Le)||isNaN(Ue)))for(var we=0;we<d.h;we++){var Ce=ve(we),Ve=ve(we+1);Ve===Ce||isNaN(Ve)||isNaN(Ce)||!te(_,we)||(Oe=u._scaler(te(_,we)),Oe?ue.fillStyle=Ee+"("+Ae(Oe).join(",")+")":ue.fillStyle="rgba(0,0,0,0)",ue.fillRect(Ue,Ce,Le-Ue,Ve-Ce))}}return ee}var ae=A.selectAll("image").data([v]);ae.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),ae.exit().remove();var oe=u.zsmooth===!1?g:"";if(y){var he=L.simpleMap(c.range,c.r2l),q=L.simpleMap(f.range,f.r2l),Z=he[1]<he[0],$=q[1]>q[0];if(Z||$){var K=D+H/2,re=F+z/2;oe+="transform:"+a(K+"px",re+"px")+"scale("+(Z?-1:1)+","+($?-1:1)+")"+a(-K+"px",-re+"px")+";"}}ae.attr("style",oe);var le=new Promise(function(te){if(u._hasZ)te();else if(u._hasSource)if(u._canvas&&u._canvas.el.width===x&&u._canvas.el.height===E&&u._canvas.source===u.source)te();else{var ee=document.createElement("canvas");ee.width=x,ee.height=E;var ue=ee.getContext("2d",{willReadFrequently:!0});u._image=u._image||new Image;var se=u._image;se.onload=function(){ue.drawImage(se,0,0),u._canvas={el:ee,source:u.source},te()},se.setAttribute("src",u.source)}}).then(function(){var te,ee;if(u._hasZ)ee=J(function(ve,be){return M[be][ve]}),te=ee.toDataURL("image/png");else if(u._hasSource)if(y)te=u.source;else{var ue=u._canvas.el.getContext("2d",{willReadFrequently:!0}),se=ue.getImageData(0,0,x,E).data;ee=J(function(ve,be){var Ee=4*(be*x+ve);return[se[Ee],se[Ee+1],se[Ee+2],se[Ee+3]]}),te=ee.toDataURL("image/png")}ae.attr({"xlink:href":te,height:z,width:H,x:D,y:F})});r._promises.push(le)})}},12826:function(B,N,e){var p=e(39898);B.exports=function(a){p.select(a).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},54846:function(B,N,e){var p=e(1426).extendFlat,L=e(1426).extendDeep,a=e(30962).overrideAll,C=e(41940),w=e(22399),h=e(27670).Y,g=e(13838),t=e(44467).templatedArray,r=e(22372),s=e(12663).descriptionOnlyNumbers,n=C({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:w.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},c={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},f=t("step",L({},l,{range:c}));B.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:h({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:p({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:s("value")},font:p({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:s("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:p({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:L({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:w.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:c,visible:p({},g.visible,{dflt:!0}),tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:p({},g.ticks,{dflt:"outside"}),ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:C({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,editType:"plot"},"plot"),steps:f,threshold:{line:{color:p({},l.line.color,{}),width:p({},l.line.width,{dflt:1}),editType:"plot"},thickness:p({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(B,N,e){var p=e(74875);N.name="indicator",N.plot=function(L,a,C,w){p.plotBasePlot(N.name,L,a,C,w)},N.clean=function(L,a,C,w){p.cleanBasePlot(N.name,L,a,C,w)}},24667:function(B){function N(e,p){var L=[],a=p.value;typeof p._lastValue!="number"&&(p._lastValue=p.value);var C=p._lastValue,w=C;return p._hasDelta&&typeof p.delta.reference=="number"&&(w=p.delta.reference),L[0]={y:a,lastY:C,delta:a-w,relativeDelta:(a-w)/w},L}B.exports={calc:N}},84577:function(B){B.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(B,N,e){var p=e(71828),L=e(54846),a=e(27670).c,C=e(44467),w=e(85501),h=e(84577),g=e(26218),t=e(38701),r=e(96115),s=e(89426);function n(c,f,m,v){function A(V,_){return p.coerce(c,f,L,V,_)}a(f,v,A),A("mode"),f._hasNumber=f.mode.indexOf("number")!==-1,f._hasDelta=f.mode.indexOf("delta")!==-1,f._hasGauge=f.mode.indexOf("gauge")!==-1;var d=A("value");f._range=[0,typeof d=="number"?1.5*d:1];var u=new Array(2),y;f._hasNumber&&(A("number.valueformat"),A("number.font.color",v.font.color),A("number.font.family",v.font.family),A("number.font.size"),f.number.font.size===void 0&&(f.number.font.size=h.defaultNumberFontSize,u[0]=!0),A("number.prefix"),A("number.suffix"),y=f.number.font.size);var M;f._hasDelta&&(A("delta.font.color",v.font.color),A("delta.font.family",v.font.family),A("delta.font.size"),f.delta.font.size===void 0&&(f.delta.font.size=(f._hasNumber?.5:1)*(y||h.defaultNumberFontSize),u[1]=!0),A("delta.reference",f.value),A("delta.relative"),A("delta.valueformat",f.delta.relative?"2%":""),A("delta.increasing.symbol"),A("delta.increasing.color"),A("delta.decreasing.symbol"),A("delta.decreasing.color"),A("delta.position"),A("delta.prefix"),A("delta.suffix"),M=f.delta.font.size),f._scaleNumbers=(!f._hasNumber||u[0])&&(!f._hasDelta||u[1])||!1,A("title.font.color",v.font.color),A("title.font.family",v.font.family),A("title.font.size",.25*(y||M||h.defaultNumberFontSize)),A("title.text");var S,R,x,E;function T(V,_){return p.coerce(S,R,L.gauge,V,_)}function i(V,_){return p.coerce(x,E,L.gauge.axis,V,_)}if(f._hasGauge){S=c.gauge,S||(S={}),R=C.newContainer(f,"gauge"),T("shape");var D=f._isBullet=f.gauge.shape==="bullet";D||A("title.align","center");var b=f._isAngular=f.gauge.shape==="angular";b||A("align","center"),T("bgcolor",v.paper_bgcolor),T("borderwidth"),T("bordercolor"),T("bar.color"),T("bar.line.color"),T("bar.line.width");var O=h.valueThickness*(f.gauge.shape==="bullet"?.5:1);T("bar.thickness",O),w(S,R,{name:"steps",handleItemDefaults:l}),T("threshold.value"),T("threshold.thickness"),T("threshold.line.width"),T("threshold.line.color"),x={},S&&(x=S.axis||{}),E=C.newContainer(R,"axis"),i("visible"),f._range=i("range",f._range);var F={outerTicks:!0};g(x,E,i,"linear"),s(x,E,i,"linear",F),r(x,E,i,"linear",F),t(x,E,i,F)}else A("title.align","center"),A("align","center"),f._isAngular=f._isBullet=!1;f._length=null}function l(c,f){function m(v,A){return p.coerce(c,f,L.gauge.steps,v,A)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}B.exports={supplyDefaults:n}},15154:function(B,N,e){B.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(B,N,e){var p=e(39898),L=e(81684).sX,a=e(81684).k4,C=e(71828),w=C.strScale,h=C.strTranslate,g=C.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),s=e(84577),n=e(63893),l=e(89298),c=e(71453),f=e(52830),m=e(13838),v=e(7901),A={left:"start",center:"middle",right:"end"},d={left:0,center:.5,right:1},u=/[yzafpnµmkMGTPEZY]/;function y(F){return F&&F.duration>0}B.exports=function(V,_,U,H){var z=V._fullLayout,G;y(U)&&H&&(G=H()),C.makeTraceGroups(z._indicatorlayer,_,"trace").each(function(Y){var J=Y[0],ae=J.trace,oe=p.select(this),he=ae._hasGauge,q=ae._isAngular,Z=ae._isBullet,$=ae.domain,K={w:z._size.w*($.x[1]-$.x[0]),h:z._size.h*($.y[1]-$.y[0]),l:z._size.l+z._size.w*$.x[0],r:z._size.r+z._size.w*(1-$.x[1]),t:z._size.t+z._size.h*(1-$.y[1]),b:z._size.b+z._size.h*$.y[0]},re=K.l+K.w/2,le=K.t+K.h/2,te=Math.min(K.w/2,K.h),ee=s.innerRadius*te,ue,se,ve,be=ae.align||"center";if(se=le,!he)ue=K.l+d[be]*K.w,ve=function(ke){return i(ke,K.w,K.h)};else if(q&&(ue=re,se=le+te/2,ve=function(ke){return D(ke,.9*ee)}),Z){var Ee=s.bulletPadding,Ae=1-s.bulletNumberDomainSize+Ee;ue=K.l+(Ae+(1-Ae)*d[be])*K.w,ve=function(ke){return i(ke,(s.bulletNumberDomainSize-Ee)*K.w,K.h)}}R(V,oe,Y,{numbersX:ue,numbersY:se,numbersScaler:ve,transitionOpts:U,onComplete:G});var Oe,Ue;he&&(Oe={range:ae.gauge.axis.range,color:ae.gauge.bgcolor,line:{color:ae.gauge.bordercolor,width:0},thickness:1},Ue={range:ae.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ae.gauge.bordercolor,width:ae.gauge.borderwidth},thickness:1});var Le=oe.selectAll("g.angular").data(q?Y:[]);Le.exit().remove();var we=oe.selectAll("g.angularaxis").data(q?Y:[]);we.exit().remove(),q&&S(V,oe,Y,{radius:te,innerRadius:ee,gauge:Le,layer:we,size:K,gaugeBg:Oe,gaugeOutline:Ue,transitionOpts:U,onComplete:G});var Ce=oe.selectAll("g.bullet").data(Z?Y:[]);Ce.exit().remove();var Ve=oe.selectAll("g.bulletaxis").data(Z?Y:[]);Ve.exit().remove(),Z&&M(V,oe,Y,{gauge:Ce,layer:Ve,size:K,gaugeBg:Oe,gaugeOutline:Ue,transitionOpts:U,onComplete:G});var Ne=oe.selectAll("text.title").data(Y);Ne.exit().remove(),Ne.enter().append("text").classed("title",!0),Ne.attr("text-anchor",function(){return Z?A.right:A[ae.title.align]}).text(ae.title.text).call(r.font,ae.title.font).call(n.convertToTspans,V),Ne.attr("transform",function(){var ke=K.l+K.w*d[ae.title.align],We,rt=s.titlePadding,et=r.bBox(Ne.node());if(he){if(q)if(ae.gauge.axis.visible){var tt=r.bBox(we.node());We=tt.top-rt-et.bottom}else We=K.t+K.h/2-te/2-et.bottom-rt;Z&&(We=se-(et.top+et.bottom)/2,ke=K.l-s.bulletPadding*K.w)}else We=ae._numbersTop-rt-et.bottom;return h(ke,We)})})};function M(F,V,_,U){var H=_[0].trace,z=U.gauge,G=U.layer,Y=U.gaugeBg,J=U.gaugeOutline,ae=U.size,oe=H.domain,he=U.transitionOpts,q=U.onComplete,Z,$,K,re,le;z.enter().append("g").classed("bullet",!0),z.attr("transform",h(ae.l,ae.t)),G.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),G.selectAll("g.xbulletaxistick,path,text").remove();var te=ae.h,ee=H.gauge.bar.thickness*te,ue=oe.x[0],se=oe.x[0]+(oe.x[1]-oe.x[0])*(H._hasNumber||H._hasDelta?1-s.bulletNumberDomainSize:1);Z=T(F,H.gauge.axis),Z._id="xbulletaxis",Z.domain=[ue,se],Z.setScale(),$=l.calcTicks(Z),K=l.makeTransTickFn(Z),re=l.getTickSigns(Z)[2],le=ae.t+ae.h,Z.visible&&(l.drawTicks(F,Z,{vals:Z.ticks==="inside"?l.clipEnds(Z,$):$,layer:G,path:l.makeTickPath(Z,le,re),transFn:K}),l.drawLabels(F,Z,{vals:$,layer:G,transFn:K,labelFns:l.makeLabelFns(Z,le)}));function ve(we){we.attr("width",function(Ce){return Math.max(0,Z.c2p(Ce.range[1])-Z.c2p(Ce.range[0]))}).attr("x",function(Ce){return Z.c2p(Ce.range[0])}).attr("y",function(Ce){return .5*(1-Ce.thickness)*te}).attr("height",function(Ce){return Ce.thickness*te})}var be=[Y].concat(H.gauge.steps),Ee=z.selectAll("g.bg-bullet").data(be);Ee.enter().append("g").classed("bg-bullet",!0).append("rect"),Ee.select("rect").call(ve).call(x),Ee.exit().remove();var Ae=z.selectAll("g.value-bullet").data([H.gauge.bar]);Ae.enter().append("g").classed("value-bullet",!0).append("rect"),Ae.select("rect").attr("height",ee).attr("y",(te-ee)/2).call(x),y(he)?Ae.select("rect").transition().duration(he.duration).ease(he.easing).each("end",function(){q&&q()}).each("interrupt",function(){q&&q()}).attr("width",Math.max(0,Z.c2p(Math.min(H.gauge.axis.range[1],_[0].y)))):Ae.select("rect").attr("width",typeof _[0].y=="number"?Math.max(0,Z.c2p(Math.min(H.gauge.axis.range[1],_[0].y))):0),Ae.exit().remove();var Oe=_.filter(function(){return H.gauge.threshold.value||H.gauge.threshold.value===0}),Ue=z.selectAll("g.threshold-bullet").data(Oe);Ue.enter().append("g").classed("threshold-bullet",!0).append("line"),Ue.select("line").attr("x1",Z.c2p(H.gauge.threshold.value)).attr("x2",Z.c2p(H.gauge.threshold.value)).attr("y1",(1-H.gauge.threshold.thickness)/2*te).attr("y2",(1-(1-H.gauge.threshold.thickness)/2)*te).call(v.stroke,H.gauge.threshold.line.color).style("stroke-width",H.gauge.threshold.line.width),Ue.exit().remove();var Le=z.selectAll("g.gauge-outline").data([J]);Le.enter().append("g").classed("gauge-outline",!0).append("rect"),Le.select("rect").call(ve).call(x),Le.exit().remove()}function S(F,V,_,U){var H=_[0].trace,z=U.size,G=U.radius,Y=U.innerRadius,J=U.gaugeBg,ae=U.gaugeOutline,oe=[z.l+z.w/2,z.t+z.h/2+G/2],he=U.gauge,q=U.layer,Z=U.transitionOpts,$=U.onComplete,K=Math.PI/2;function re(at){var ct=H.gauge.axis.range[0],dt=H.gauge.axis.range[1],gt=(at-ct)/(dt-ct)*Math.PI-K;return gt<-K?-K:gt>K?K:gt}function le(at){return p.svg.arc().innerRadius((Y+G)/2-at/2*(G-Y)).outerRadius((Y+G)/2+at/2*(G-Y)).startAngle(-K)}function te(at){at.attr("d",function(ct){return le(ct.thickness).startAngle(re(ct.range[0])).endAngle(re(ct.range[1]))()})}var ee,ue,se,ve;he.enter().append("g").classed("angular",!0),he.attr("transform",h(oe[0],oe[1])),q.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),q.selectAll("g.xangularaxistick,path,text").remove(),ee=T(F,H.gauge.axis),ee.type="linear",ee.range=H.gauge.axis.range,ee._id="xangularaxis",ee.ticklabeloverflow="allow",ee.setScale();var be=function(at){return(ee.range[0]-at.x)/(ee.range[1]-ee.range[0])*Math.PI+Math.PI},Ee={},Ae=l.makeLabelFns(ee,0),Oe=Ae.labelStandoff;Ee.xFn=function(at){var ct=be(at);return Math.cos(ct)*Oe},Ee.yFn=function(at){var ct=be(at),dt=Math.sin(ct)>0?.2:1;return-Math.sin(ct)*(Oe+at.fontSize*dt)+Math.abs(Math.cos(ct))*(at.fontSize*t)},Ee.anchorFn=function(at){var ct=be(at),dt=Math.cos(ct);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},Ee.heightFn=function(at,ct,dt){var gt=be(at);return-.5*(1+Math.sin(gt))*dt};var Ue=function(at){return h(oe[0]+G*Math.cos(at),oe[1]-G*Math.sin(at))};se=function(at){return Ue(be(at))};var Le=function(at){var ct=be(at);return Ue(ct)+"rotate("+-g(ct)+")"};if(ue=l.calcTicks(ee),ve=l.getTickSigns(ee)[2],ee.visible){ve=ee.ticks==="inside"?-1:1;var we=(ee.linewidth||1)/2;l.drawTicks(F,ee,{vals:ue,layer:q,path:"M"+ve*we+",0h"+ve*ee.ticklen,transFn:Le}),l.drawLabels(F,ee,{vals:ue,layer:q,transFn:se,labelFns:Ee})}var Ce=[J].concat(H.gauge.steps),Ve=he.selectAll("g.bg-arc").data(Ce);Ve.enter().append("g").classed("bg-arc",!0).append("path"),Ve.select("path").call(te).call(x),Ve.exit().remove();var Ne=le(H.gauge.bar.thickness),ke=he.selectAll("g.value-arc").data([H.gauge.bar]);ke.enter().append("g").classed("value-arc",!0).append("path");var We=ke.select("path");y(Z)?(We.transition().duration(Z.duration).ease(Z.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()}).attrTween("d",E(Ne,re(_[0].lastY),re(_[0].y))),H._lastValue=_[0].y):We.attr("d",typeof _[0].y=="number"?Ne.endAngle(re(_[0].y)):"M0,0Z"),We.call(x),ke.exit().remove(),Ce=[];var rt=H.gauge.threshold.value;(rt||rt===0)&&Ce.push({range:[rt,rt],color:H.gauge.threshold.color,line:{color:H.gauge.threshold.line.color,width:H.gauge.threshold.line.width},thickness:H.gauge.threshold.thickness});var et=he.selectAll("g.threshold-arc").data(Ce);et.enter().append("g").classed("threshold-arc",!0).append("path"),et.select("path").call(te).call(x),et.exit().remove();var tt=he.selectAll("g.gauge-outline").data([ae]);tt.enter().append("g").classed("gauge-outline",!0).append("path"),tt.select("path").call(te).call(x),tt.exit().remove()}function R(F,V,_,U){var H=_[0].trace,z=U.numbersX,G=U.numbersY,Y=H.align||"center",J=A[Y],ae=U.transitionOpts,oe=U.onComplete,he=C.ensureSingle(V,"g","numbers"),q,Z,$,K=[];H._hasNumber&&K.push("number"),H._hasDelta&&(K.push("delta"),H.delta.position==="left"&&K.reverse());var re=he.selectAll("text").data(K);re.enter().append("text"),re.attr("text-anchor",function(){return J}).attr("class",function(Ue){return Ue}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),re.exit().remove();function le(Ue,Le,we,Ce){if(Ue.match("s")&&we>=0!=Ce>=0&&!Le(we).slice(-1).match(u)&&!Le(Ce).slice(-1).match(u)){var Ve=Ue.slice().replace("s","f").replace(/\d+/,function(ke){return parseInt(ke)-1}),Ne=T(F,{tickformat:Ve});return function(ke){return Math.abs(ke)<1?l.tickText(Ne,ke).text:Le(ke)}}else return Le}function te(){var Ue=T(F,{tickformat:H.number.valueformat},H._range);Ue.setScale(),l.prepTicks(Ue);var Le=function(ke){return l.tickText(Ue,ke).text},we=H.number.suffix,Ce=H.number.prefix,Ve=he.select("text.number");function Ne(){var ke=typeof _[0].y=="number"?Ce+Le(_[0].y)+we:"-";Ve.text(ke).call(r.font,H.number.font).call(n.convertToTspans,F)}return y(ae)?Ve.transition().duration(ae.duration).ease(ae.easing).each("end",function(){Ne(),oe&&oe()}).each("interrupt",function(){Ne(),oe&&oe()}).attrTween("text",function(){var ke=p.select(this),We=a(_[0].lastY,_[0].y);H._lastValue=_[0].y;var rt=le(H.number.valueformat,Le,_[0].lastY,_[0].y);return function(et){ke.text(Ce+rt(We(et))+we)}}):Ne(),q=b(Ce+Le(_[0].y)+we,H.number.font,J,F),Ve}function ee(){var Ue=T(F,{tickformat:H.delta.valueformat},H._range);Ue.setScale(),l.prepTicks(Ue);var Le=function(et){return l.tickText(Ue,et).text},we=H.delta.suffix,Ce=H.delta.prefix,Ve=function(et){var tt=H.delta.relative?et.relativeDelta:et.delta;return tt},Ne=function(et,tt){return et===0||typeof et!="number"||isNaN(et)?"-":(et>0?H.delta.increasing.symbol:H.delta.decreasing.symbol)+Ce+tt(et)+we},ke=function(et){return et.delta>=0?H.delta.increasing.color:H.delta.decreasing.color};H._deltaLastValue===void 0&&(H._deltaLastValue=Ve(_[0]));var We=he.select("text.delta");We.call(r.font,H.delta.font).call(v.fill,ke({delta:H._deltaLastValue}));function rt(){We.text(Ne(Ve(_[0]),Le)).call(v.fill,ke(_[0])).call(n.convertToTspans,F)}return y(ae)?We.transition().duration(ae.duration).ease(ae.easing).tween("text",function(){var et=p.select(this),tt=Ve(_[0]),at=H._deltaLastValue,ct=le(H.delta.valueformat,Le,at,tt),dt=a(at,tt);return H._deltaLastValue=tt,function(gt){et.text(Ne(dt(gt),ct)),et.call(v.fill,ke({delta:dt(gt)}))}}).each("end",function(){rt(),oe&&oe()}).each("interrupt",function(){rt(),oe&&oe()}):rt(),Z=b(Ne(Ve(_[0]),Le),H.delta.font,J,F),We}var ue=H.mode+H.align,se;if(H._hasDelta&&(se=ee(),ue+=H.delta.position+H.delta.font.size+H.delta.font.family+H.delta.valueformat,ue+=H.delta.increasing.symbol+H.delta.decreasing.symbol,$=Z),H._hasNumber&&(te(),ue+=H.number.font.size+H.number.font.family+H.number.valueformat+H.number.suffix+H.number.prefix,$=q),H._hasDelta&&H._hasNumber){var ve=[(q.left+q.right)/2,(q.top+q.bottom)/2],be=[(Z.left+Z.right)/2,(Z.top+Z.bottom)/2],Ee,Ae,Oe=.75*H.delta.font.size;H.delta.position==="left"&&(Ee=O(H,"deltaPos",0,-1*(q.width*d[H.align]+Z.width*(1-d[H.align])+Oe),ue,Math.min),Ae=ve[1]-be[1],$={width:q.width+Z.width+Oe,height:Math.max(q.height,Z.height),left:Z.left+Ee,right:q.right,top:Math.min(q.top,Z.top+Ae),bottom:Math.max(q.bottom,Z.bottom+Ae)}),H.delta.position==="right"&&(Ee=O(H,"deltaPos",0,q.width*(1-d[H.align])+Z.width*d[H.align]+Oe,ue,Math.max),Ae=ve[1]-be[1],$={width:q.width+Z.width+Oe,height:Math.max(q.height,Z.height),left:q.left,right:Z.right+Ee,top:Math.min(q.top,Z.top+Ae),bottom:Math.max(q.bottom,Z.bottom+Ae)}),H.delta.position==="bottom"&&(Ee=null,Ae=Z.height,$={width:Math.max(q.width,Z.width),height:q.height+Z.height,left:Math.min(q.left,Z.left),right:Math.max(q.right,Z.right),top:q.bottom-q.height,bottom:q.bottom+Z.height}),H.delta.position==="top"&&(Ee=null,Ae=q.top,$={width:Math.max(q.width,Z.width),height:q.height+Z.height,left:Math.min(q.left,Z.left),right:Math.max(q.right,Z.right),top:q.bottom-q.height-Z.height,bottom:q.bottom}),se.attr({dx:Ee,dy:Ae})}(H._hasNumber||H._hasDelta)&&he.attr("transform",function(){var Ue=U.numbersScaler($);ue+=Ue[2];var Le=O(H,"numbersScale",1,Ue[0],ue,Math.min),we;H._scaleNumbers||(Le=1),H._isAngular?we=G-Le*$.bottom:we=G-Le*($.top+$.bottom)/2,H._numbersTop=Le*$.top+we;var Ce=$[Y];Y==="center"&&(Ce=($.left+$.right)/2);var Ve=z-Le*Ce;return Ve=O(H,"numbersTranslate",0,Ve,ue,Math.max),h(Ve,we)+w(Le)})}function x(F){F.each(function(V){v.stroke(p.select(this),V.line.color)}).each(function(V){v.fill(p.select(this),V.color)}).style("stroke-width",function(V){return V.line.width})}function E(F,V,_){return function(){var U=L(V,_);return function(H){return F.endAngle(U(H))()}}}function T(F,V,_){var U=F._fullLayout,H=C.extendFlat({type:"linear",ticks:"outside",range:_,showline:!0},V),z={type:"linear",_id:"x"+V._id},G={letter:"x",font:U.font,noHover:!0,noTickson:!0};function Y(J,ae){return C.coerce(H,z,m,J,ae)}return c(H,z,Y,G,U),f(H,z,Y,G),z}function i(F,V,_){var U=Math.min(V/F.width,_/F.height);return[U,F,V+"x"+_]}function D(F,V){var _=Math.sqrt(F.width/2*(F.width/2)+F.height*F.height),U=V/_;return[U,F,V]}function b(F,V,_,U){var H=document.createElementNS("http://www.w3.org/2000/svg","text"),z=p.select(H);return z.text(F).attr("x",0).attr("y",0).attr("text-anchor",_).attr("data-unformatted",F).call(n.convertToTspans,U).call(r.font,V),r.bBox(z.node())}function O(F,V,_,U,H,z){var G="_cache"+V;F[G]&&F[G].key===H||(F[G]={key:H,value:_});var Y=C.aggNums(z,null,[F[G].value,U],2);return F[G].value=Y,Y}},16249:function(B,N,e){var p=e(50693),L=e(12663).axisHoverFormat,a=e(5386).fF,C=e(2418),w=e(9012),h=e(1426).extendFlat,g=e(30962).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var s=B.exports=g(h({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),valuehoverformat:L("value",1),showlegend:h({},w.showlegend,{dflt:!1})},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:h({},w.hoverinfo)}),"calc","nested");s.flatshading.dflt=!0,s.lighting.facenormalsepsilon.dflt=0,s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},56959:function(B,N,e){var p=e(78803),L=e(88489).processGrid,a=e(88489).filter;B.exports=function(w,h){h._len=Math.min(h.x.length,h.y.length,h.z.length,h.value.length),h._x=a(h.x,h._len),h._y=a(h.y,h._len),h._z=a(h.z,h._len),h._value=a(h.value,h._len);var g=L(h);h._gridFill=g.fill,h._Xs=g.Xs,h._Ys=g.Ys,h._Zs=g.Zs,h._len=g.len;for(var t=1/0,r=-1/0,s=0;s<h._len;s++){var n=h._value[s];t=Math.min(t,n),r=Math.max(r,n)}h._minValues=t,h._maxValues=r,h._vMin=h.isomin===void 0||h.isomin===null?t:h.isomin,h._vMax=h.isomax===void 0||h.isomin===null?r:h.isomax,p(w,h,{vals:[h._vMin,h._vMax],containerStr:"",cLetter:"c"})}},22674:function(B,N,e){var p=e(9330).gl_mesh3d,L=e(81697).parseColorScale,a=e(78614),C=e(21081).extractOpts,w=e(90060),h=function(l,c){for(var f=c.length-1;f>0;f--){var m=Math.min(c[f],c[f-1]),v=Math.max(c[f],c[f-1]);if(v>m&&m<l&&l<=v)return{id:f,distRatio:(v-l)/(v-m)}}return{id:0,distRatio:0}};function g(l,c,f){this.scene=l,this.uid=f,this.mesh=c,this.name="",this.data=null,this.showContour=!1}var t=g.prototype;t.handlePick=function(l){if(l.object===this.mesh){var c=l.data.index,f=this.data._meshX[c],m=this.data._meshY[c],v=this.data._meshZ[c],A=this.data._Ys.length,d=this.data._Zs.length,u=h(f,this.data._Xs).id,y=h(m,this.data._Ys).id,M=h(v,this.data._Zs).id,S=l.index=M+d*y+d*A*u;l.traceCoordinate=[this.data._meshX[S],this.data._meshY[S],this.data._meshZ[S],this.data._value[S]];var R=this.data.hovertext||this.data.text;return Array.isArray(R)&&R[S]!==void 0?l.textLabel=R[S]:R&&(l.textLabel=R),!0}},t.update=function(l){var c=this.scene,f=c.fullSceneLayout;this.data=s(l);function m(y,M,S,R){return M.map(function(x){return y.d2l(x,0,R)*S})}var v=w(m(f.xaxis,l._meshX,c.dataScale[0],l.xcalendar),m(f.yaxis,l._meshY,c.dataScale[1],l.ycalendar),m(f.zaxis,l._meshZ,c.dataScale[2],l.zcalendar)),A=w(l._meshI,l._meshJ,l._meshK),d={positions:v,cells:A,lightPosition:[l.lightposition.x,l.lightposition.y,l.lightposition.z],ambient:l.lighting.ambient,diffuse:l.lighting.diffuse,specular:l.lighting.specular,roughness:l.lighting.roughness,fresnel:l.lighting.fresnel,vertexNormalsEpsilon:l.lighting.vertexnormalsepsilon,faceNormalsEpsilon:l.lighting.facenormalsepsilon,opacity:l.opacity,contourEnable:l.contour.show,contourColor:a(l.contour.color).slice(0,3),contourWidth:l.contour.width,useFacetNormals:l.flatshading},u=C(l);d.vertexIntensity=l._meshIntensity,d.vertexIntensityBounds=[u.min,u.max],d.colormap=L(l),this.mesh.update(d)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function s(l){l._meshI=[],l._meshJ=[],l._meshK=[];var c=l.surface.show,f=l.spaceframe.show,m=l.surface.fill,v=l.spaceframe.fill,A=!1,d=!1,u=0,y,M,S=l._Xs,R=l._Ys,x=l._Zs,E=S.length,T=R.length,i=x.length,D=r.indexOf(l._gridFill.replace(/-/g,"").replace(/\+/g,"")),b=function(_e,Fe,Be){switch(D){case 5:return Be+i*Fe+i*T*_e;case 4:return Be+i*_e+i*E*Fe;case 3:return Fe+T*Be+T*i*_e;case 2:return Fe+T*_e+T*E*Be;case 1:return _e+E*Be+E*i*Fe;default:return _e+E*Fe+E*T*Be}},O=l._minValues,F=l._maxValues,V=l._vMin,_=l._vMax,U,H,z,G;function Y(_e,Fe,Be){for(var De=G.length,Te=M;Te<De;Te++)if(_e===U[Te]&&Fe===H[Te]&&Be===z[Te])return Te;return-1}function J(){M=y}function ae(){U=[],H=[],z=[],G=[],y=0,J()}function oe(_e,Fe,Be,De){return U.push(_e),H.push(Fe),z.push(Be),G.push(De),y++,y-1}function he(_e,Fe,Be){return l._meshI.push(_e),l._meshJ.push(Fe),l._meshK.push(Be),u++,u-1}function q(_e,Fe,Be){for(var De=[],Te=0;Te<_e.length;Te++)De[Te]=(_e[Te]+Fe[Te]+Be[Te])/3;return De}function Z(_e,Fe,Be){for(var De=[],Te=0;Te<_e.length;Te++)De[Te]=_e[Te]*(1-Be)+Be*Fe[Te];return De}var $;function K(_e){$=_e}function re(_e,Fe){var Be=_e[0],De=_e[1],Te=_e[2],xe=q(Be,De,Te),Me=Math.sqrt(1-$),Pe=Z(xe,Be,Me),He=Z(xe,De,Me),Ke=Z(xe,Te,Me),qe=Fe[0],vt=Fe[1],bt=Fe[2];return{xyzv:[[Be,De,He],[He,Pe,Be],[De,Te,Ke],[Ke,He,De],[Te,Be,Pe],[Pe,Ke,Te]],abc:[[qe,vt,-1],[-1,-1,qe],[vt,bt,-1],[-1,-1,vt],[bt,qe,-1],[-1,-1,bt]]}}function le(_e,Fe){return _e==="all"||_e===null?!0:_e.indexOf(Fe)>-1}function te(_e,Fe){return _e===null?Fe:_e}function ee(_e,Fe,Be){J();var De=[Fe],Te=[Be];if($>=1)De=[Fe],Te=[Be];else if($>0){var xe=re(Fe,Be);De=xe.xyzv,Te=xe.abc}for(var Me=0;Me<De.length;Me++){Fe=De[Me],Be=Te[Me];for(var Pe=[],He=0;He<3;He++){var Ke=Fe[He][0],qe=Fe[He][1],vt=Fe[He][2],bt=Fe[He][3],Wt=Be[He]>-1?Be[He]:Y(Ke,qe,vt);Wt>-1?Pe[He]=Wt:Pe[He]=oe(Ke,qe,vt,te(_e,bt))}he(Pe[0],Pe[1],Pe[2])}}function ue(_e,Fe,Be){var De=function(Te,xe,Me){ee(_e,[Fe[Te],Fe[xe],Fe[Me]],[Be[Te],Be[xe],Be[Me]])};De(0,1,2),De(2,3,0)}function se(_e,Fe,Be){var De=function(Te,xe,Me){ee(_e,[Fe[Te],Fe[xe],Fe[Me]],[Be[Te],Be[xe],Be[Me]])};De(0,1,2),De(3,0,1),De(2,3,0),De(1,2,3)}function ve(_e,Fe,Be,De){var Te=_e[3];Te<Be&&(Te=Be),Te>De&&(Te=De);for(var xe=(_e[3]-Te)/(_e[3]-Fe[3]+1e-9),Me=[],Pe=0;Pe<4;Pe++)Me[Pe]=(1-xe)*_e[Pe]+xe*Fe[Pe];return Me}function be(_e,Fe,Be){return _e>=Fe&&_e<=Be}function Ee(_e){var Fe=.001*(_-V);return _e>=V-Fe&&_e<=_+Fe}function Ae(_e){for(var Fe=[],Be=0;Be<4;Be++){var De=_e[Be];Fe.push([l._x[De],l._y[De],l._z[De],l._value[De]])}return Fe}var Oe=3;function Ue(_e,Fe,Be,De,Te,xe){xe||(xe=1),Be=[-1,-1,-1];var Me=!1,Pe=[be(Fe[0][3],De,Te),be(Fe[1][3],De,Te),be(Fe[2][3],De,Te)];if(!Pe[0]&&!Pe[1]&&!Pe[2])return!1;var He=function(qe,vt,bt){return Ee(vt[0][3])&&Ee(vt[1][3])&&Ee(vt[2][3])?(ee(qe,vt,bt),!0):xe<Oe?Ue(qe,vt,bt,V,_,++xe):!1};if(Pe[0]&&Pe[1]&&Pe[2])return He(_e,Fe,Be)||Me;var Ke=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(qe){if(Pe[qe[0]]&&Pe[qe[1]]&&!Pe[qe[2]]){var vt=Fe[qe[0]],bt=Fe[qe[1]],Wt=Fe[qe[2]],qt=ve(Wt,vt,De,Te),At=ve(Wt,bt,De,Te);Me=He(_e,[At,qt,vt],[-1,-1,Be[qe[0]]])||Me,Me=He(_e,[vt,bt,At],[Be[qe[0]],Be[qe[1]],-1])||Me,Ke=!0}}),Ke||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(qe){if(Pe[qe[0]]&&!Pe[qe[1]]&&!Pe[qe[2]]){var vt=Fe[qe[0]],bt=Fe[qe[1]],Wt=Fe[qe[2]],qt=ve(bt,vt,De,Te),At=ve(Wt,vt,De,Te);Me=He(_e,[At,qt,vt],[-1,-1,Be[qe[0]]])||Me,Ke=!0}}),Me}function Le(_e,Fe,Be,De){var Te=!1,xe=Ae(Fe),Me=[be(xe[0][3],Be,De),be(xe[1][3],Be,De),be(xe[2][3],Be,De),be(xe[3][3],Be,De)];if(!Me[0]&&!Me[1]&&!Me[2]&&!Me[3])return Te;if(Me[0]&&Me[1]&&Me[2]&&Me[3])return d&&(Te=se(_e,xe,Fe)||Te),Te;var Pe=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(He){if(Me[He[0]]&&Me[He[1]]&&Me[He[2]]&&!Me[He[3]]){var Ke=xe[He[0]],qe=xe[He[1]],vt=xe[He[2]],bt=xe[He[3]];if(d)Te=ee(_e,[Ke,qe,vt],[Fe[He[0]],Fe[He[1]],Fe[He[2]]])||Te;else{var Wt=ve(bt,Ke,Be,De),qt=ve(bt,qe,Be,De),At=ve(bt,vt,Be,De);Te=ee(null,[Wt,qt,At],[-1,-1,-1])||Te}Pe=!0}}),Pe||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(He){if(Me[He[0]]&&Me[He[1]]&&!Me[He[2]]&&!Me[He[3]]){var Ke=xe[He[0]],qe=xe[He[1]],vt=xe[He[2]],bt=xe[He[3]],Wt=ve(vt,Ke,Be,De),qt=ve(vt,qe,Be,De),At=ve(bt,qe,Be,De),zt=ve(bt,Ke,Be,De);d?(Te=ee(_e,[Ke,zt,Wt],[Fe[He[0]],-1,-1])||Te,Te=ee(_e,[qe,qt,At],[Fe[He[1]],-1,-1])||Te):Te=ue(null,[Wt,qt,At,zt],[-1,-1,-1,-1])||Te,Pe=!0}}),Pe)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(He){if(Me[He[0]]&&!Me[He[1]]&&!Me[He[2]]&&!Me[He[3]]){var Ke=xe[He[0]],qe=xe[He[1]],vt=xe[He[2]],bt=xe[He[3]],Wt=ve(qe,Ke,Be,De),qt=ve(vt,Ke,Be,De),At=ve(bt,Ke,Be,De);d?(Te=ee(_e,[Ke,Wt,qt],[Fe[He[0]],-1,-1])||Te,Te=ee(_e,[Ke,qt,At],[Fe[He[0]],-1,-1])||Te,Te=ee(_e,[Ke,At,Wt],[Fe[He[0]],-1,-1])||Te):Te=ee(null,[Wt,qt,At],[-1,-1,-1])||Te,Pe=!0}}),Te}function we(_e,Fe,Be,De,Te,xe,Me,Pe,He,Ke,qe){var vt=!1;return A&&(le(_e,"A")&&(vt=Le(null,[Fe,Be,De,xe],Ke,qe)||vt),le(_e,"B")&&(vt=Le(null,[Be,De,Te,He],Ke,qe)||vt),le(_e,"C")&&(vt=Le(null,[Be,xe,Me,He],Ke,qe)||vt),le(_e,"D")&&(vt=Le(null,[De,xe,Pe,He],Ke,qe)||vt),le(_e,"E")&&(vt=Le(null,[Be,De,xe,He],Ke,qe)||vt)),d&&(vt=Le(_e,[Be,De,xe,He],Ke,qe)||vt),vt}function Ce(_e,Fe,Be,De,Te,xe,Me,Pe){return[Pe[0]===!0?!0:Ue(_e,Ae([Fe,Be,De]),[Fe,Be,De],xe,Me),Pe[1]===!0?!0:Ue(_e,Ae([De,Te,Fe]),[De,Te,Fe],xe,Me)]}function Ve(_e,Fe,Be,De,Te,xe,Me,Pe,He){return Pe?Ce(_e,Fe,Be,Te,De,xe,Me,He):Ce(_e,Be,Te,De,Fe,xe,Me,He)}function Ne(_e,Fe,Be,De,Te,xe,Me){var Pe=!1,He,Ke,qe,vt,bt=function(){Pe=Ue(_e,[He,Ke,qe],[-1,-1,-1],Te,xe)||Pe,Pe=Ue(_e,[qe,vt,He],[-1,-1,-1],Te,xe)||Pe},Wt=Me[0],qt=Me[1],At=Me[2];return Wt&&(He=Z(Ae([b(Fe,Be-0,De-0)])[0],Ae([b(Fe-1,Be-0,De-0)])[0],Wt),Ke=Z(Ae([b(Fe,Be-0,De-1)])[0],Ae([b(Fe-1,Be-0,De-1)])[0],Wt),qe=Z(Ae([b(Fe,Be-1,De-1)])[0],Ae([b(Fe-1,Be-1,De-1)])[0],Wt),vt=Z(Ae([b(Fe,Be-1,De-0)])[0],Ae([b(Fe-1,Be-1,De-0)])[0],Wt),bt()),qt&&(He=Z(Ae([b(Fe-0,Be,De-0)])[0],Ae([b(Fe-0,Be-1,De-0)])[0],qt),Ke=Z(Ae([b(Fe-0,Be,De-1)])[0],Ae([b(Fe-0,Be-1,De-1)])[0],qt),qe=Z(Ae([b(Fe-1,Be,De-1)])[0],Ae([b(Fe-1,Be-1,De-1)])[0],qt),vt=Z(Ae([b(Fe-1,Be,De-0)])[0],Ae([b(Fe-1,Be-1,De-0)])[0],qt),bt()),At&&(He=Z(Ae([b(Fe-0,Be-0,De)])[0],Ae([b(Fe-0,Be-0,De-1)])[0],At),Ke=Z(Ae([b(Fe-0,Be-1,De)])[0],Ae([b(Fe-0,Be-1,De-1)])[0],At),qe=Z(Ae([b(Fe-1,Be-1,De)])[0],Ae([b(Fe-1,Be-1,De-1)])[0],At),vt=Z(Ae([b(Fe-1,Be-0,De)])[0],Ae([b(Fe-1,Be-0,De-1)])[0],At),bt()),Pe}function ke(_e,Fe,Be,De,Te,xe,Me,Pe,He,Ke,qe,vt){var bt=_e;return vt?(A&&_e==="even"&&(bt=null),we(bt,Fe,Be,De,Te,xe,Me,Pe,He,Ke,qe)):(A&&_e==="odd"&&(bt=null),we(bt,He,Pe,Me,xe,Te,De,Be,Fe,Ke,qe))}function We(_e,Fe,Be,De,Te){for(var xe=[],Me=0,Pe=0;Pe<Fe.length;Pe++)for(var He=Fe[Pe],Ke=1;Ke<i;Ke++)for(var qe=1;qe<T;qe++)xe.push(Ve(_e,b(He,qe-1,Ke-1),b(He,qe-1,Ke),b(He,qe,Ke-1),b(He,qe,Ke),Be,De,(He+qe+Ke)%2,Te&&Te[Me]?Te[Me]:[])),Me++;return xe}function rt(_e,Fe,Be,De,Te){for(var xe=[],Me=0,Pe=0;Pe<Fe.length;Pe++)for(var He=Fe[Pe],Ke=1;Ke<E;Ke++)for(var qe=1;qe<i;qe++)xe.push(Ve(_e,b(Ke-1,He,qe-1),b(Ke,He,qe-1),b(Ke-1,He,qe),b(Ke,He,qe),Be,De,(Ke+He+qe)%2,Te&&Te[Me]?Te[Me]:[])),Me++;return xe}function et(_e,Fe,Be,De,Te){for(var xe=[],Me=0,Pe=0;Pe<Fe.length;Pe++)for(var He=Fe[Pe],Ke=1;Ke<T;Ke++)for(var qe=1;qe<E;qe++)xe.push(Ve(_e,b(qe-1,Ke-1,He),b(qe-1,Ke,He),b(qe,Ke-1,He),b(qe,Ke,He),Be,De,(qe+Ke+He)%2,Te&&Te[Me]?Te[Me]:[])),Me++;return xe}function tt(_e,Fe,Be){for(var De=1;De<i;De++)for(var Te=1;Te<T;Te++)for(var xe=1;xe<E;xe++)ke(_e,b(xe-1,Te-1,De-1),b(xe-1,Te-1,De),b(xe-1,Te,De-1),b(xe-1,Te,De),b(xe,Te-1,De-1),b(xe,Te-1,De),b(xe,Te,De-1),b(xe,Te,De),Fe,Be,(xe+Te+De)%2)}function at(_e,Fe,Be){d=!0,tt(_e,Fe,Be),d=!1}function ct(_e,Fe,Be){A=!0,tt(_e,Fe,Be),A=!1}function dt(_e,Fe,Be,De,Te,xe){for(var Me=[],Pe=0,He=0;He<Fe.length;He++)for(var Ke=Fe[He],qe=1;qe<i;qe++)for(var vt=1;vt<T;vt++)Me.push(Ne(_e,Ke,vt,qe,Be,De,Te[He],xe&&xe[Pe]?xe[Pe]:[])),Pe++;return Me}function gt(_e,Fe,Be,De,Te,xe){for(var Me=[],Pe=0,He=0;He<Fe.length;He++)for(var Ke=Fe[He],qe=1;qe<E;qe++)for(var vt=1;vt<i;vt++)Me.push(Ne(_e,qe,Ke,vt,Be,De,Te[He],xe&&xe[Pe]?xe[Pe]:[])),Pe++;return Me}function Et(_e,Fe,Be,De,Te,xe){for(var Me=[],Pe=0,He=0;He<Fe.length;He++)for(var Ke=Fe[He],qe=1;qe<T;qe++)for(var vt=1;vt<E;vt++)Me.push(Ne(_e,vt,qe,Ke,Be,De,Te[He],xe&&xe[Pe]?xe[Pe]:[])),Pe++;return Me}function Ct(_e,Fe){for(var Be=[],De=_e;De<Fe;De++)Be.push(De);return Be}function Vt(){for(var _e=0;_e<E;_e++)for(var Fe=0;Fe<T;Fe++)for(var Be=0;Be<i;Be++){var De=b(_e,Fe,Be);oe(l._x[De],l._y[De],l._z[De],l._value[De])}}function Je(){ae(),Vt();var _e=null;if(f&&v&&(K(v),at(_e,V,_)),c&&m){K(m);for(var Fe=l.surface.pattern,Be=l.surface.count,De=0;De<Be;De++){var Te=Be===1?.5:De/(Be-1),xe=(1-Te)*V+Te*_,Me=Math.abs(xe-O),Pe=Math.abs(xe-F),He=Me>Pe?[O,xe]:[xe,F];ct(Fe,He[0],He[1])}}var Ke=[[Math.min(V,F),Math.max(V,F)],[Math.min(O,_),Math.max(O,_)]];["x","y","z"].forEach(function(qe){for(var vt=[],bt=0;bt<Ke.length;bt++){var Wt=0,qt=Ke[bt][0],At=Ke[bt][1],zt=l.slices[qe];if(zt.show&&zt.fill){K(zt.fill);var Kt=[],Sr=[],yt=[];if(zt.locations.length)for(var Zt=0;Zt<zt.locations.length;Zt++){var $t=h(zt.locations[Zt],qe==="x"?S:qe==="y"?R:x);$t.distRatio===0?Kt.push($t.id):$t.id>0&&(Sr.push($t.id),qe==="x"?yt.push([$t.distRatio,0,0]):qe==="y"?yt.push([0,$t.distRatio,0]):yt.push([0,0,$t.distRatio]))}else qe==="x"?Kt=Ct(1,E-1):qe==="y"?Kt=Ct(1,T-1):Kt=Ct(1,i-1);Sr.length>0&&(qe==="x"?vt[Wt]=dt(_e,Sr,qt,At,yt,vt[Wt]):qe==="y"?vt[Wt]=gt(_e,Sr,qt,At,yt,vt[Wt]):vt[Wt]=Et(_e,Sr,qt,At,yt,vt[Wt]),Wt++),Kt.length>0&&(qe==="x"?vt[Wt]=We(_e,Kt,qt,At,vt[Wt]):qe==="y"?vt[Wt]=rt(_e,Kt,qt,At,vt[Wt]):vt[Wt]=et(_e,Kt,qt,At,vt[Wt]),Wt++)}var mr=l.caps[qe];mr.show&&mr.fill&&(K(mr.fill),qe==="x"?vt[Wt]=We(_e,[0,E-1],qt,At,vt[Wt]):qe==="y"?vt[Wt]=rt(_e,[0,T-1],qt,At,vt[Wt]):vt[Wt]=et(_e,[0,i-1],qt,At,vt[Wt]),Wt++)}}),u===0&&ae(),l._meshX=U,l._meshY=H,l._meshZ=z,l._meshIntensity=G,l._Xs=S,l._Ys=R,l._Zs=x}return Je(),l}function n(l,c){var f=l.glplot.gl,m=p({gl:f}),v=new g(l,m,c.uid);return m._trace=v,v.update(c),l.glplot.add(m),v}B.exports={findNearestOnAxis:h,generateIsoMeshes:s,createIsosurfaceTrace:n}},82738:function(B,N,e){var p=e(71828),L=e(73972),a=e(16249),C=e(1586);function w(g,t,r,s){function n(l,c){return p.coerce(g,t,a,l,c)}h(g,t,r,s,n)}function h(g,t,r,s,n){var l=n("isomin"),c=n("isomax");c!=null&&l!==void 0&&l!==null&&l>c&&(t.isomin=null,t.isomax=null);var f=n("x"),m=n("y"),v=n("z"),A=n("value");if(!f||!f.length||!m||!m.length||!v||!v.length||!A||!A.length){t.visible=!1;return}var d=L.getComponentMethod("calendars","handleTraceDefaults");d(g,t,["x","y","z"],s),n("valuehoverformat"),["x","y","z"].forEach(function(S){n(S+"hoverformat");var R="caps."+S,x=n(R+".show");x&&n(R+".fill");var E="slices."+S,T=n(E+".show");T&&(n(E+".fill"),n(E+".locations"))});var u=n("spaceframe.show");u&&n("spaceframe.fill");var y=n("surface.show");y&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var M=n("contour.show");M&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(S){n(S)}),C(g,t,s,n,{prefix:"",cLetter:"c"}),t._length=null}B.exports={supplyDefaults:w,supplyIsoDefaults:h}},64943:function(B,N,e){B.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(B,N,e){var p=e(50693),L=e(12663).axisHoverFormat,a=e(5386).fF,C=e(54532),w=e(9012),h=e(1426).extendFlat;B.exports=h({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},p("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:h({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:h({},C.lightposition.x,{dflt:1e5}),y:h({},C.lightposition.y,{dflt:1e5}),z:h({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:h({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:h({},w.hoverinfo,{editType:"calc"}),showlegend:h({},w.showlegend,{dflt:!1})})},82932:function(B,N,e){var p=e(78803);B.exports=function(a,C){C.intensity&&p(a,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},91134:function(B,N,e){var p=e(9330).gl_mesh3d,L=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,C=e(9330).convex_hull,w=e(81697).parseColorScale,h=e(78614),g=e(21081).extractOpts,t=e(90060);function r(A,d,u){this.scene=A,this.uid=u,this.mesh=d,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var s=r.prototype;s.handlePick=function(A){if(A.object===this.mesh){var d=A.index=A.data.index;A.data._cellCenter?A.traceCoordinate=A.data.dataCoordinate:A.traceCoordinate=[this.data.x[d],this.data.y[d],this.data.z[d]];var u=this.data.hovertext||this.data.text;return Array.isArray(u)&&u[d]!==void 0?A.textLabel=u[d]:u&&(A.textLabel=u),!0}};function n(A){for(var d=[],u=A.length,y=0;y<u;y++)d[y]=h(A[y]);return d}function l(A,d,u,y){for(var M=[],S=d.length,R=0;R<S;R++)M[R]=A.d2l(d[R],0,y)*u;return M}function c(A){for(var d=[],u=A.length,y=0;y<u;y++)d[y]=Math.round(A[y]);return d}function f(A,d){for(var u=["x","y","z"].indexOf(A),y=[],M=d.length,S=0;S<M;S++)y[S]=[d[S][(u+1)%3],d[S][(u+2)%3]];return L(y)}function m(A,d){for(var u=A.length,y=0;y<u;y++)if(A[y]<=-.5||A[y]>=d-.5)return!1;return!0}s.update=function(A){var d=this.scene,u=d.fullSceneLayout;this.data=A;var y=A.x.length,M=t(l(u.xaxis,A.x,d.dataScale[0],A.xcalendar),l(u.yaxis,A.y,d.dataScale[1],A.ycalendar),l(u.zaxis,A.z,d.dataScale[2],A.zcalendar)),S;if(A.i&&A.j&&A.k){if(A.i.length!==A.j.length||A.j.length!==A.k.length||!m(A.i,y)||!m(A.j,y)||!m(A.k,y))return;S=t(c(A.i),c(A.j),c(A.k))}else A.alphahull===0?S=C(M):A.alphahull>0?S=a(A.alphahull,M):S=f(A.delaunayaxis,M);var R={positions:M,cells:S,lightPosition:[A.lightposition.x,A.lightposition.y,A.lightposition.z],ambient:A.lighting.ambient,diffuse:A.lighting.diffuse,specular:A.lighting.specular,roughness:A.lighting.roughness,fresnel:A.lighting.fresnel,vertexNormalsEpsilon:A.lighting.vertexnormalsepsilon,faceNormalsEpsilon:A.lighting.facenormalsepsilon,opacity:A.opacity,contourEnable:A.contour.show,contourColor:h(A.contour.color).slice(0,3),contourWidth:A.contour.width,useFacetNormals:A.flatshading};if(A.intensity){var x=g(A);this.color="#fff";var E=A.intensitymode;R[E+"Intensity"]=A.intensity,R[E+"IntensityBounds"]=[x.min,x.max],R.colormap=w(A)}else A.vertexcolor?(this.color=A.vertexcolor[0],R.vertexColors=n(A.vertexcolor)):A.facecolor?(this.color=A.facecolor[0],R.cellColors=n(A.facecolor)):(this.color=A.color,R.meshColor=h(A.color));this.mesh.update(R)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function v(A,d){var u=A.glplot.gl,y=p({gl:u}),M=new r(A,y,d.uid);return y._trace=M,M.update(d),A.glplot.add(y),M}B.exports=v},58669:function(B,N,e){var p=e(73972),L=e(71828),a=e(1586),C=e(2418);B.exports=function(h,g,t,r){function s(m,v){return L.coerce(h,g,C,m,v)}function n(m){var v=m.map(function(A){var d=s(A);return d&&L.isArrayOrTypedArray(d)?d:null});return v.every(function(A){return A&&A.length===v[0].length})&&v}var l=n(["x","y","z"]);if(!l){g.visible=!1;return}if(n(["i","j","k"]),g.i&&(!g.j||!g.k)||g.j&&(!g.k||!g.i)||g.k&&(!g.i||!g.j)){g.visible=!1;return}var c=p.getComponentMethod("calendars","handleTraceDefaults");c(h,g,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){s(m)});var f=s("contour.show");f&&(s("contour.color"),s("contour.width")),"intensity"in h?(s("intensity"),s("intensitymode"),a(h,g,r,s,{prefix:"",cLetter:"c"})):(g.showscale=!1,"facecolor"in h?s("facecolor"):"vertexcolor"in h?s("vertexcolor"):s("color",t)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),g._length=null}},21164:function(B,N,e){B.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(B,N,e){var p=e(71828).extendFlat,L=e(82196),a=e(12663).axisHoverFormat,C=e(79952).P,w=e(77914),h=e(22372),g=h.INCREASING.COLOR,t=h.DECREASING.COLOR,r=L.line;function s(n){return{line:{color:p({},r.color,{dflt:n}),width:r.width,dash:C,editType:"style"},editType:"style"}}B.exports={xperiod:L.xperiod,xperiod0:L.xperiod0,xperiodalignment:L.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:p({},r.width,{}),dash:p({},C,{}),editType:"style"},increasing:s(g),decreasing:s(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:p({},w.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(B,N,e){var p=e(71828),L=p._,a=e(89298),C=e(42973),w=e(50606).BADNUM;function h(s,n){var l=a.getFromId(s,n.xaxis),c=a.getFromId(s,n.yaxis),f=r(s,l,n),m=n._minDiff;n._minDiff=null;var v=n._origX;n._origX=null;var A=n._xcalc;n._xcalc=null;var d=t(s,n,v,A,c,g);return n._extremes[l._id]=a.findExtremes(l,A,{vpad:m/2}),d.length?(p.extendFlat(d[0].t,{wHover:m/2,tickLen:f}),d):[{t:{empty:!0}}]}function g(s,n,l,c){return{o:s,h:n,l,c}}function t(s,n,l,c,f,m){for(var v=f.makeCalcdata(n,"open"),A=f.makeCalcdata(n,"high"),d=f.makeCalcdata(n,"low"),u=f.makeCalcdata(n,"close"),y=Array.isArray(n.text),M=Array.isArray(n.hovertext),S=!0,R=null,x=!!n.xperiodalignment,E=[],T=0;T<c.length;T++){var i=c[T],D=v[T],b=A[T],O=d[T],F=u[T];if(i!==w&&D!==w&&b!==w&&O!==w&&F!==w){F===D?R!==null&&F!==R&&(S=F>R):S=F>D,R=F;var V=m(D,b,O,F);V.pos=i,V.yc=(D+F)/2,V.i=T,V.dir=S?"increasing":"decreasing",V.x=V.pos,V.y=[O,b],x&&(V.orig_p=l[T]),y&&(V.tx=n.text[T]),M&&(V.htx=n.hovertext[T]),E.push(V)}else E.push({pos:i,empty:!0})}return n._extremes[f._id]=a.findExtremes(f,p.concat(d,A),{padded:!0}),E.length&&(E[0].t={labels:{open:L(s,"open:")+" ",high:L(s,"high:")+" ",low:L(s,"low:")+" ",close:L(s,"close:")+" "}}),E}function r(s,n,l){var c=l._minDiff;if(!c){var f=s._fullData,m=[];c=1/0;var v;for(v=0;v<f.length;v++){var A=f[v];if(A.type==="ohlc"&&A.visible===!0&&A.xaxis===n._id){m.push(A);var d=n.makeCalcdata(A,"x");A._origX=d;var u=C(l,n,"x",d).vals;A._xcalc=u;var y=p.distinctVals(u).minDiff;y&&isFinite(y)&&(c=Math.min(c,y))}}for(c===1/0&&(c=1),v=0;v<m.length;v++)m[v]._minDiff=c}return c*l.tickwidth}B.exports={calc:h,calcCommon:t}},16169:function(B,N,e){var p=e(71828),L=e(14555),a=e(73927),C=e(2522);B.exports=function(g,t,r,s){function n(c,f){return p.coerce(g,t,C,c,f)}var l=L(g,t,n,s);if(!l){t.visible=!1;return}a(g,t,s,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),w(g,t,n,"increasing"),w(g,t,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),s._requestRangeslider[t.xaxis]=!0};function w(h,g,t,r){t(r+".line.color"),t(r+".line.width",g.line.width),t(r+".line.dash",g.line.dash)}},66449:function(B,N,e){var p=e(89298),L=e(71828),a=e(30211),C=e(7901),w=e(71828).fillText,h=e(22372),g={increasing:h.INCREASING.SYMBOL,decreasing:h.DECREASING.SYMBOL};function t(l,c,f,m){var v=l.cd,A=v[0].trace;return A.hoverlabel.split?s(l,c,f,m):n(l,c,f,m)}function r(l,c,f,m){var v=l.cd,A=l.xa,d=v[0].trace,u=v[0].t,y=d.type,M=y==="ohlc"?"l":"min",S=y==="ohlc"?"h":"max",R,x,E=u.bPos||0,T=function(Y){return Y.pos+E-c},i=u.bdPos||u.tickLen,D=u.wHover,b=Math.min(1,i/Math.abs(A.r2c(A.range[1])-A.r2c(A.range[0])));R=l.maxHoverDistance-b,x=l.maxSpikeDistance-b;function O(Y){var J=T(Y);return a.inbox(J-D,J+D,R)}function F(Y){var J=Y[M],ae=Y[S];return J===ae||a.inbox(J-f,ae-f,R)}function V(Y){return(O(Y)+F(Y))/2}var _=a.getDistanceFunction(m,O,F,V);if(a.getClosest(v,_,l),l.index===!1)return null;var U=v[l.index];if(U.empty)return null;var H=U.dir,z=d[H],G=z.line.color;return C.opacity(G)&&z.line.width?l.color=G:l.color=z.fillcolor,l.x0=A.c2p(U.pos+E-i,!0),l.x1=A.c2p(U.pos+E+i,!0),l.xLabelVal=U.orig_p!==void 0?U.orig_p:U.pos,l.spikeDistance=V(U)*x/R,l.xSpike=A.c2p(U.pos,!0),l}function s(l,c,f,m){var v=l.cd,A=l.ya,d=v[0].trace,u=v[0].t,y=[],M=r(l,c,f,m);if(!M)return[];var S=M.index,R=v[S],x=R.hi||d.hoverinfo,E=x.split("+"),T=x==="all",i=T||E.indexOf("y")!==-1;if(!i)return[];for(var D=["high","open","close","low"],b={},O=0;O<D.length;O++){var F=D[O],V=d[F][M.index],_=A.c2p(V,!0),U;V in b?(U=b[V],U.yLabel+="<br>"+u.labels[F]+p.hoverLabelText(A,V,d.yhoverformat)):(U=L.extendFlat({},M),U.y0=U.y1=_,U.yLabelVal=V,U.yLabel=u.labels[F]+p.hoverLabelText(A,V,d.yhoverformat),U.name="",y.push(U),b[V]=U)}return y}function n(l,c,f,m){var v=l.cd,A=l.ya,d=v[0].trace,u=v[0].t,y=r(l,c,f,m);if(!y)return[];var M=y.index,S=v[M],R=y.index=S.i,x=S.dir;function E(V){return u.labels[V]+p.hoverLabelText(A,d[V][R],d.yhoverformat)}var T=S.hi||d.hoverinfo,i=T.split("+"),D=T==="all",b=D||i.indexOf("y")!==-1,O=D||i.indexOf("text")!==-1,F=b?[E("open"),E("high"),E("low"),E("close")+"  "+g[x]]:[];return O&&w(S,d,F),y.extraText=F.join("<br>"),y.y0=y.y1=A.c2p(S.yc,!0),[y]}B.exports={hoverPoints:t,hoverSplit:s,hoverOnPoints:n}},54186:function(B,N,e){B.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(B,N,e){var p=e(73972),L=e(71828);B.exports=function(C,w,h,g){var t=h("x"),r=h("open"),s=h("high"),n=h("low"),l=h("close");h("hoverlabel.split");var c=p.getComponentMethod("calendars","handleTraceDefaults");if(c(C,w,["x"],g),!!(r&&s&&n&&l)){var f=Math.min(r.length,s.length,n.length,l.length);return t&&(f=Math.min(f,L.minRowLength(t))),w._length=f,f}}},72314:function(B,N,e){var p=e(39898),L=e(71828);B.exports=function(C,w,h,g){var t=w.yaxis,r=w.xaxis,s=!!r.rangebreaks;L.makeTraceGroups(g,h,"trace ohlc").each(function(n){var l=p.select(this),c=n[0],f=c.t,m=c.trace;if(m.visible!==!0||f.empty){l.remove();return}var v=f.tickLen,A=l.selectAll("path").data(L.identity);A.enter().append("path"),A.exit().remove(),A.attr("d",function(d){if(d.empty)return"M0,0Z";var u=r.c2p(d.pos-v,!0),y=r.c2p(d.pos+v,!0),M=s?(u+y)/2:r.c2p(d.pos,!0),S=t.c2p(d.o,!0),R=t.c2p(d.h,!0),x=t.c2p(d.l,!0),E=t.c2p(d.c,!0);return"M"+u+","+S+"H"+M+"M"+M+","+R+"V"+x+"M"+y+","+E+"H"+M})})}},67324:function(B){B.exports=function(e,p){var L=e.cd,a=e.xaxis,C=e.yaxis,w=[],h,g=L[0].t.bPos||0;if(p===!1)for(h=0;h<L.length;h++)L[h].selected=0;else for(h=0;h<L.length;h++){var t=L[h];p.contains([a.c2p(t.pos+g),C.c2p(t.yc)],null,t.i,e)?(w.push({pointNumber:t.i,x:a.c2d(t.pos),y:C.c2d(t.yc)}),t.selected=1):t.selected=0}return w}},53101:function(B,N,e){var p=e(39898),L=e(91424),a=e(7901);B.exports=function(w,h,g){var t=g||p.select(w).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var s=r[0].trace;p.select(this).selectAll("path").each(function(n){if(!n.empty){var l=s[n.dir].line;p.select(this).style("fill","none").call(a.stroke,l.color).call(L.dashLine,l.dash,l.width).style("opacity",s.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(B,N,e){var p=e(1426).extendFlat,L=e(9012),a=e(41940),C=e(50693),w=e(5386).fF,h=e(27670).Y,g=p({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:w({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});B.exports={domain:h({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:p({},L.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:w({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:g,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(B,N,e){var p=e(27659).a0,L=e(45784),a="parcats";N.name=a,N.plot=function(C,w,h,g){var t=p(C.calcdata,a);if(t.length){var r=t[0];L(C,r,h,g)}},N.clean=function(C,w,h,g){var t=g._has&&g._has("parcats"),r=w._has&&w._has("parcats");t&&!r&&g._paperdiv.selectAll(".parcats").remove()}},28699:function(B,N,e){var p=e(28984).wrap,L=e(52075).hasColorscale,a=e(78803),C=e(75744),w=e(91424),h=e(71828),g=e(92770);B.exports=function(u,y){var M=h.filterVisible(y.dimensions);if(M.length===0)return[];var S=M.map(function(q){var Z;if(q.categoryorder==="trace")Z=null;else if(q.categoryorder==="array")Z=q.categoryarray;else{Z=C(q.values);for(var $=!0,K=0;K<Z.length;K++)if(!g(Z[K])){$=!1;break}Z.sort($?h.sorterAsc:void 0),q.categoryorder==="category descending"&&(Z=Z.reverse())}return f(q.values,Z)}),R,x,E;h.isArrayOrTypedArray(y.counts)?R=y.counts:R=[y.counts],m(M),M.forEach(function(q,Z){v(q,S[Z])});var T=y.line,i;T?(L(y,"line")&&a(u,y,{vals:y.line.color,containerStr:"line",cLetter:"c"}),i=w.tryColorscale(T)):i=h.identity;function D(q){var Z,$;return h.isArrayOrTypedArray(T.color)?(Z=T.color[q%T.color.length],$=Z):Z=T.color,{color:i(Z),rawColor:$}}var b=M[0].values.length,O={},F=S.map(function(q){return q.inds});E=0;var V,_;for(V=0;V<b;V++){var U=[];for(_=0;_<F.length;_++)U.push(F[_][V]);x=R[V%R.length],E+=x;var H=D(V),z=U+"-"+H.rawColor;O[z]===void 0&&(O[z]=l(U,H.color,H.rawColor)),c(O[z],V,x)}var G=M.map(function(q,Z){return r(Z,q._index,q._displayindex,q.label,E)});for(V=0;V<b;V++)for(x=R[V%R.length],_=0;_<G.length;_++){var Y=G[_].containerInd,J=S[_].inds[V],ae=G[_].categories;if(ae[J]===void 0){var oe=y.dimensions[Y]._categoryarray[J],he=y.dimensions[Y]._ticktext[J];ae[J]=s(_,J,oe,he)}n(ae[J],V,x)}return p(t(G,O,E))};function t(d,u,y){var M=d.map(function(S){return S.categories.length}).reduce(function(S,R){return Math.max(S,R)});return{dimensions:d,paths:u,trace:void 0,maxCats:M,count:y}}function r(d,u,y,M,S){return{dimensionInd:d,containerInd:u,displayInd:y,dimensionLabel:M,count:S,categories:[],dragX:null}}function s(d,u,y,M){return{dimensionInd:d,categoryInd:u,categoryValue:y,displayInd:u,categoryLabel:M,valueInds:[],count:0,dragY:null}}function n(d,u,y){d.valueInds.push(u),d.count+=y}function l(d,u,y){return{categoryInds:d,color:u,rawColor:y,valueInds:[],count:0}}function c(d,u,y){d.valueInds.push(u),d.count+=y}function f(d,u){u==null?u=[]:u=u.map(function(i){return i});var y={},M={},S=[];u.forEach(function(i,D){y[i]=0,M[i]=D});for(var R=0;R<d.length;R++){var x=d[R],E;y[x]===void 0?(y[x]=1,E=u.push(x)-1,M[x]=E):(y[x]++,E=M[x]),S.push(E)}var T=u.map(function(i){return y[i]});return{uniqueValues:u,uniqueCounts:T,inds:S}}function m(d){var u=d.map(function(M){return M.displayindex}),y;if(A(u))for(y=0;y<d.length;y++)d[y]._displayindex=d[y].displayindex;else for(y=0;y<d.length;y++)d[y]._displayindex=y}function v(d,u){d._categoryarray=u.uniqueValues,d.ticktext===null||d.ticktext===void 0?d._ticktext=[]:d._ticktext=d.ticktext.slice();for(var y=d._ticktext.length;y<u.uniqueValues.length;y++)d._ticktext.push(u.uniqueValues[y])}function A(d){for(var u=new Array(d.length),y=0;y<d.length;y++){if(d[y]<0||d[y]>=d.length||u[d[y]]!==void 0)return!1;u[d[y]]=!0}return!0}},14647:function(B,N,e){var p=e(71828),L=e(52075).hasColorscale,a=e(1586),C=e(27670).c,w=e(85501),h=e(99506),g=e(94397);function t(s,n,l,c,f){f("line.shape"),f("line.hovertemplate");var m=f("line.color",c.colorway[0]);if(L(s,"line")&&p.isArrayOrTypedArray(m)){if(m.length)return f("line.colorscale"),a(s,n,c,f,{prefix:"line.",cLetter:"c"}),m.length;n.line.color=l}return 1/0}function r(s,n){function l(u,y){return p.coerce(s,n,h.dimensions,u,y)}var c=l("values"),f=l("visible");if(c&&c.length||(f=n.visible=!1),f){l("label"),l("displayindex",n._index);var m=s.categoryarray,v=Array.isArray(m)&&m.length>0,A;v&&(A="array");var d=l("categoryorder",A);d==="array"?(l("categoryarray"),l("ticktext")):(delete s.categoryarray,delete s.ticktext),!v&&d==="array"&&(n.categoryorder="trace")}}B.exports=function(n,l,c,f){function m(y,M){return p.coerce(n,l,h,y,M)}var v=w(n,l,{name:"dimensions",handleItemDefaults:r}),A=t(n,l,c,f,m);C(l,f,m),(!Array.isArray(v)||!v.length)&&(l.visible=!1),g(l,v,"values",A),m("hoveron"),m("hovertemplate"),m("arrangement"),m("bundlecolors"),m("sortpaths"),m("counts");var d={family:f.font.family,size:Math.round(f.font.size),color:f.font.color};p.coerceFont(m,"labelfont",d);var u={family:f.font.family,size:Math.round(f.font.size/1.2),color:f.font.color};p.coerceFont(m,"tickfont",u)}},94873:function(B,N,e){B.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(B,N,e){var p=e(39898),L=e(81684).k4,a=e(72391),C=e(30211),w=e(71828),h=w.strTranslate,g=e(91424),t=e(84267),r=e(63893);function s(K,re,le,te){var ee=re._context.staticPlot,ue=K.map(oe.bind(0,re,le)),se=te.selectAll("g.parcatslayer").data([null]);se.enter().append("g").attr("class","parcatslayer").style("pointer-events",ee?"none":"all");var ve=se.selectAll("g.trace.parcats").data(ue,n),be=ve.enter().append("g").attr("class","trace parcats");ve.attr("transform",function(We){return h(We.x,We.y)}),be.append("g").attr("class","paths");var Ee=ve.select("g.paths"),Ae=Ee.selectAll("path.path").data(function(We){return We.paths},n);Ae.attr("fill",function(We){return We.model.color});var Oe=Ae.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(We){return We.model.color}).attr("fill-opacity",0);u(Oe),Ae.attr("d",function(We){return We.svgD}),Oe.empty()||Ae.sort(c),Ae.exit().remove(),Ae.on("mouseover",f).on("mouseout",m).on("click",d),be.append("g").attr("class","dimensions");var Ue=ve.select("g.dimensions"),Le=Ue.selectAll("g.dimension").data(function(We){return We.dimensions},n);Le.enter().append("g").attr("class","dimension"),Le.attr("transform",function(We){return h(We.x,0)}),Le.exit().remove();var we=Le.selectAll("g.category").data(function(We){return We.categories},n),Ce=we.enter().append("g").attr("class","category");we.attr("transform",function(We){return h(0,We.y)}),Ce.append("rect").attr("class","catrect").attr("pointer-events","none"),we.select("rect.catrect").attr("fill","none").attr("width",function(We){return We.width}).attr("height",function(We){return We.height}),S(Ce);var Ve=we.selectAll("rect.bandrect").data(function(We){return We.bands},n);Ve.each(function(){w.raiseToTop(this)}),Ve.attr("fill",function(We){return We.color});var Ne=Ve.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(We){return We.color}).attr("fill-opacity",0);Ve.attr("fill",function(We){return We.color}).attr("width",function(We){return We.width}).attr("height",function(We){return We.height}).attr("y",function(We){return We.y}).attr("cursor",function(We){return We.parcatsViewModel.arrangement==="fixed"?"default":We.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),x(Ne),Ve.exit().remove(),Ce.append("text").attr("class","catlabel").attr("pointer-events","none");var ke=re._fullLayout.paper_bgcolor;we.select("text.catlabel").attr("text-anchor",function(We){return l(We)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(ke)).style("fill","rgb(0, 0, 0)").attr("x",function(We){return l(We)?We.width+5:-5}).attr("y",function(We){return We.height/2}).text(function(We){return We.model.categoryLabel}).each(function(We){g.font(p.select(this),We.parcatsViewModel.categorylabelfont),r.convertToTspans(p.select(this),re)}),Ce.append("text").attr("class","dimlabel"),we.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(We){return We.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(We){return We.width/2}).attr("y",-5).text(function(We,rt){return rt===0?We.parcatsViewModel.model.dimensions[We.model.dimensionInd].dimensionLabel:null}).each(function(We){g.font(p.select(this),We.parcatsViewModel.labelfont)}),we.selectAll("rect.bandrect").on("mouseover",_).on("mouseout",U),we.exit().remove(),Le.call(p.behavior.drag().origin(function(We){return{x:We.x,y:0}}).on("dragstart",H).on("drag",z).on("dragend",G)),ve.each(function(We){We.traceSelection=p.select(this),We.pathSelection=p.select(this).selectAll("g.paths").selectAll("path.path"),We.dimensionSelection=p.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ve.exit().remove()}B.exports=function(K,re,le,te){s(le,K,te,re)};function n(K){return K.key}function l(K){var re=K.parcatsViewModel.dimensions.length,le=K.parcatsViewModel.dimensions[re-1].model.dimensionInd;return K.model.dimensionInd===le}function c(K,re){return K.model.rawColor>re.model.rawColor?1:K.model.rawColor<re.model.rawColor?-1:0}function f(K){if(!K.parcatsViewModel.dragDimension&&K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){w.raiseToTop(this),y(p.select(this));var re=v(K),le=A(K);if(K.parcatsViewModel.graphDiv.emit("plotly_hover",{points:re,event:p.event,constraints:le}),K.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var te=p.mouse(this)[0],ee=K.parcatsViewModel.graphDiv,ue=K.parcatsViewModel.trace,se=ee._fullLayout,ve=se._paperdiv.node().getBoundingClientRect(),be=K.parcatsViewModel.graphDiv.getBoundingClientRect(),Ee,Ae,Oe;for(Oe=0;Oe<K.leftXs.length-1;Oe++)if(K.leftXs[Oe]+K.dimWidths[Oe]-2<=te&&te<=K.leftXs[Oe+1]+2){var Ue=K.parcatsViewModel.dimensions[Oe],Le=K.parcatsViewModel.dimensions[Oe+1];Ee=(Ue.x+Ue.width+Le.x)/2,Ae=(K.topYs[Oe]+K.topYs[Oe+1]+K.height)/2;break}var we=K.parcatsViewModel.x+Ee,Ce=K.parcatsViewModel.y+Ae,Ve=t.mostReadable(K.model.color,["black","white"]),Ne=K.model.count,ke=Ne/K.parcatsViewModel.model.count,We={countLabel:Ne,probabilityLabel:ke.toFixed(3)},rt=[];K.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&rt.push(["Count:",We.countLabel].join(" ")),K.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&rt.push(["P:",We.probabilityLabel].join(" "));var et=rt.join("<br>"),tt=p.mouse(ee)[0];C.loneHover({trace:ue,x:we-ve.left+be.left,y:Ce-ve.top+be.top,text:et,color:K.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ve,idealAlign:tt<we?"right":"left",hovertemplate:(ue.line||{}).hovertemplate,hovertemplateLabels:We,eventData:[{data:ue._input,fullData:ue,count:Ne,probability:ke}]},{container:se._hoverlayer.node(),outerContainer:se._paper.node(),gd:ee})}}}function m(K){if(!K.parcatsViewModel.dragDimension&&(u(p.select(this)),C.loneUnhover(K.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),K.parcatsViewModel.pathSelection.sort(c),K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var re=v(K),le=A(K);K.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:re,event:p.event,constraints:le})}}function v(K){for(var re=[],le=Y(K.parcatsViewModel),te=0;te<K.model.valueInds.length;te++){var ee=K.model.valueInds[te];re.push({curveNumber:le,pointNumber:ee})}return re}function A(K){for(var re={},le=K.parcatsViewModel.model.dimensions,te=0;te<le.length;te++){var ee=le[te],ue=ee.categories[K.model.categoryInds[te]];re[ee.containerInd]=ue.categoryValue}return K.model.rawColor!==void 0&&(re.color=K.model.rawColor),re}function d(K){if(K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var re=v(K),le=A(K);K.parcatsViewModel.graphDiv.emit("plotly_click",{points:re,event:p.event,constraints:le})}}function u(K){K.attr("fill",function(re){return re.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function y(K){K.attr("fill-opacity",.8).attr("stroke",function(re){return t.mostReadable(re.model.color,["black","white"])}).attr("stroke-width",.3)}function M(K){K.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function S(K){K.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function R(K){K.attr("stroke","black").attr("stroke-width",1.5)}function x(K){K.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(K){var re=K.parcatsViewModel.pathSelection,le=K.categoryViewModel.model.dimensionInd,te=K.categoryViewModel.model.categoryInd;return re.filter(function(ee){return ee.model.categoryInds[le]===te&&ee.model.color===K.color})}function T(K){var re=p.select(K.parentNode).selectAll("rect.bandrect");re.each(function(le){var te=E(le);y(te),te.each(function(){w.raiseToTop(this)})}),M(p.select(K.parentNode))}function i(K){var re=p.select(K).datum(),le=E(re);y(le),le.each(function(){w.raiseToTop(this)}),p.select(K.parentNode).selectAll("rect.bandrect").filter(function(te){return te.color===re.color}).each(function(){w.raiseToTop(this),R(p.select(this))})}function D(K,re,le){var te=p.select(K).datum(),ee=te.categoryViewModel.model,ue=te.parcatsViewModel.graphDiv,se=p.select(K.parentNode).selectAll("rect.bandrect"),ve=[];se.each(function(Ee){var Ae=E(Ee);Ae.each(function(Oe){Array.prototype.push.apply(ve,v(Oe))})});var be={};be[ee.dimensionInd]=ee.categoryValue,ue.emit(re,{points:ve,event:le,constraints:be})}function b(K,re,le){var te=p.select(K).datum(),ee=te.categoryViewModel.model,ue=te.parcatsViewModel.graphDiv,se=E(te),ve=[];se.each(function(Ee){Array.prototype.push.apply(ve,v(Ee))});var be={};be[ee.dimensionInd]=ee.categoryValue,te.rawColor!==void 0&&(be.color=te.rawColor),ue.emit(re,{points:ve,event:le,constraints:be})}function O(K,re,le){K._fullLayout._calcInverseTransform(K);var te=K._fullLayout._invScaleX,ee=K._fullLayout._invScaleY,ue=p.select(le.parentNode).select("rect.catrect"),se=ue.node().getBoundingClientRect(),ve=ue.datum(),be=ve.parcatsViewModel,Ee=be.model.dimensions[ve.model.dimensionInd],Ae=be.trace,Oe=se.top+se.height/2,Ue,Le;be.dimensions.length>1&&Ee.displayInd===be.dimensions.length-1?(Ue=se.left,Le="left"):(Ue=se.left+se.width,Le="right");var we=ve.model.count,Ce=ve.model.categoryLabel,Ve=we/ve.parcatsViewModel.model.count,Ne={countLabel:we,categoryLabel:Ce,probabilityLabel:Ve.toFixed(3)},ke=[];ve.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ke.push(["Count:",Ne.countLabel].join(" ")),ve.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ke.push(["P("+Ne.categoryLabel+"):",Ne.probabilityLabel].join(" "));var We=ke.join("<br>");return{trace:Ae,x:te*(Ue-re.left),y:ee*(Oe-re.top),text:We,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Le,hovertemplate:Ae.hovertemplate,hovertemplateLabels:Ne,eventData:[{data:Ae._input,fullData:Ae,count:we,category:Ce,probability:Ve}]}}function F(K,re,le){var te=[];return p.select(le.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var ee=this;te.push(O(K,re,ee))}),te}function V(K,re,le){K._fullLayout._calcInverseTransform(K);var te=K._fullLayout._invScaleX,ee=K._fullLayout._invScaleY,ue=le.getBoundingClientRect(),se=p.select(le).datum(),ve=se.categoryViewModel,be=ve.parcatsViewModel,Ee=be.model.dimensions[ve.model.dimensionInd],Ae=be.trace,Oe=ue.y+ue.height/2,Ue,Le;be.dimensions.length>1&&Ee.displayInd===be.dimensions.length-1?(Ue=ue.left,Le="left"):(Ue=ue.left+ue.width,Le="right");var we=ve.model.categoryLabel,Ce=se.parcatsViewModel.model.count,Ve=0;se.categoryViewModel.bands.forEach(function(gt){gt.color===se.color&&(Ve+=gt.count)});var Ne=ve.model.count,ke=0;be.pathSelection.each(function(gt){gt.model.color===se.color&&(ke+=gt.model.count)});var We=Ve/Ce,rt=Ve/ke,et=Ve/Ne,tt={countLabel:Ce,categoryLabel:we,probabilityLabel:We.toFixed(3)},at=[];ve.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&at.push(["Count:",tt.countLabel].join(" ")),ve.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(at.push("P(color ∩ "+we+"): "+tt.probabilityLabel),at.push("P("+we+" | color): "+rt.toFixed(3)),at.push("P(color | "+we+"): "+et.toFixed(3)));var ct=at.join("<br>"),dt=t.mostReadable(se.color,["black","white"]);return{trace:Ae,x:te*(Ue-re.left),y:ee*(Oe-re.top),text:ct,color:se.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:dt,fontSize:10,idealAlign:Le,hovertemplate:Ae.hovertemplate,hovertemplateLabels:tt,eventData:[{data:Ae._input,fullData:Ae,category:we,count:Ce,probability:We,categorycount:Ne,colorcount:ke,bandcolorcount:Ve}]}}function _(K){if(!K.parcatsViewModel.dragDimension&&K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var re=p.mouse(this)[1];if(re<-1)return;var le=K.parcatsViewModel.graphDiv,te=le._fullLayout,ee=te._paperdiv.node().getBoundingClientRect(),ue=K.parcatsViewModel.hoveron,se=this;if(ue==="color"?(i(se),b(se,"plotly_hover",p.event)):(T(se),D(se,"plotly_hover",p.event)),K.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ve;ue==="category"?ve=O(le,ee,se):ue==="color"?ve=V(le,ee,se):ue==="dimension"&&(ve=F(le,ee,se)),ve&&C.loneHover(ve,{container:te._hoverlayer.node(),outerContainer:te._paper.node(),gd:le})}}}function U(K){var re=K.parcatsViewModel;if(!re.dragDimension&&(u(re.pathSelection),S(re.dimensionSelection.selectAll("g.category")),x(re.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(re.graphDiv._fullLayout._hoverlayer.node()),re.pathSelection.sort(c),re.hoverinfoItems.indexOf("skip")===-1)){var le=K.parcatsViewModel.hoveron,te=this;le==="color"?b(te,"plotly_unhover",p.event):D(te,"plotly_unhover",p.event)}}function H(K){K.parcatsViewModel.arrangement!=="fixed"&&(K.dragDimensionDisplayInd=K.model.displayInd,K.initialDragDimensionDisplayInds=K.parcatsViewModel.model.dimensions.map(function(re){return re.displayInd}),K.dragHasMoved=!1,K.dragCategoryDisplayInd=null,p.select(this).selectAll("g.category").select("rect.catrect").each(function(re){var le=p.mouse(this)[0],te=p.mouse(this)[1];-2<=le&&le<=re.width+2&&-2<=te&&te<=re.height+2&&(K.dragCategoryDisplayInd=re.model.displayInd,K.initialDragCategoryDisplayInds=K.model.categories.map(function(ee){return ee.displayInd}),re.model.dragY=re.y,w.raiseToTop(this.parentNode),p.select(this.parentNode).selectAll("rect.bandrect").each(function(ee){ee.y<te&&te<=ee.y+ee.height&&(K.potentialClickBand=this)}))}),K.parcatsViewModel.dragDimension=K,C.loneUnhover(K.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(K){if(K.parcatsViewModel.arrangement!=="fixed"&&(K.dragHasMoved=!0,K.dragDimensionDisplayInd!==null)){var re=K.dragDimensionDisplayInd,le=re-1,te=re+1,ee=K.parcatsViewModel.dimensions[re];if(K.dragCategoryDisplayInd!==null){var ue=ee.categories[K.dragCategoryDisplayInd];ue.model.dragY+=p.event.dy;var se=ue.model.dragY,ve=ue.model.displayInd,be=ee.categories,Ee=be[ve-1],Ae=be[ve+1];Ee!==void 0&&se<Ee.y+Ee.height/2&&(ue.model.displayInd=Ee.model.displayInd,Ee.model.displayInd=ve),Ae!==void 0&&se+ue.height>Ae.y+Ae.height/2&&(ue.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=ve),K.dragCategoryDisplayInd=ue.model.displayInd}if(K.dragCategoryDisplayInd===null||K.parcatsViewModel.arrangement==="freeform"){ee.model.dragX=p.event.x;var Oe=K.parcatsViewModel.dimensions[le],Ue=K.parcatsViewModel.dimensions[te];Oe!==void 0&&ee.model.dragX<Oe.x+Oe.width&&(ee.model.displayInd=Oe.model.displayInd,Oe.model.displayInd=re),Ue!==void 0&&ee.model.dragX+ee.width>Ue.x&&(ee.model.displayInd=Ue.model.displayInd,Ue.model.displayInd=K.dragDimensionDisplayInd),K.dragDimensionDisplayInd=ee.model.displayInd}Z(K.parcatsViewModel),q(K.parcatsViewModel),ae(K.parcatsViewModel),J(K.parcatsViewModel)}}function G(K){if(K.parcatsViewModel.arrangement!=="fixed"&&K.dragDimensionDisplayInd!==null){p.select(this).selectAll("text").attr("font-weight","normal");var re={},le=Y(K.parcatsViewModel),te=K.parcatsViewModel.model.dimensions.map(function(Ue){return Ue.displayInd}),ee=K.initialDragDimensionDisplayInds.some(function(Ue,Le){return Ue!==te[Le]});ee&&te.forEach(function(Ue,Le){var we=K.parcatsViewModel.model.dimensions[Le].containerInd;re["dimensions["+we+"].displayindex"]=Ue});var ue=!1;if(K.dragCategoryDisplayInd!==null){var se=K.model.categories.map(function(Ue){return Ue.displayInd});if(ue=K.initialDragCategoryDisplayInds.some(function(Ue,Le){return Ue!==se[Le]}),ue){var ve=K.model.categories.slice().sort(function(Ue,Le){return Ue.displayInd-Le.displayInd}),be=ve.map(function(Ue){return Ue.categoryValue}),Ee=ve.map(function(Ue){return Ue.categoryLabel});re["dimensions["+K.model.containerInd+"].categoryarray"]=[be],re["dimensions["+K.model.containerInd+"].ticktext"]=[Ee],re["dimensions["+K.model.containerInd+"].categoryorder"]="array"}}if(K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!K.dragHasMoved&&K.potentialClickBand&&(K.parcatsViewModel.hoveron==="color"?b(K.potentialClickBand,"plotly_click",p.event.sourceEvent):D(K.potentialClickBand,"plotly_click",p.event.sourceEvent)),K.model.dragX=null,K.dragCategoryDisplayInd!==null){var Ae=K.parcatsViewModel.dimensions[K.dragDimensionDisplayInd].categories[K.dragCategoryDisplayInd];Ae.model.dragY=null,K.dragCategoryDisplayInd=null}K.dragDimensionDisplayInd=null,K.parcatsViewModel.dragDimension=null,K.dragHasMoved=null,K.potentialClickBand=null,Z(K.parcatsViewModel),q(K.parcatsViewModel);var Oe=p.transition().duration(300).ease("cubic-in-out");Oe.each(function(){ae(K.parcatsViewModel,!0),J(K.parcatsViewModel,!0)}).each("end",function(){(ee||ue)&&a.restyle(K.parcatsViewModel.graphDiv,re,[le])})}}function Y(K){for(var re,le=K.graphDiv._fullData,te=0;te<le.length;te++)if(K.key===le[te].uid){re=te;break}return re}function J(K,re){re===void 0&&(re=!1);function le(te){return re?te.transition():te}K.pathSelection.data(function(te){return te.paths},n),le(K.pathSelection).attr("d",function(te){return te.svgD})}function ae(K,re){re===void 0&&(re=!1);function le(be){return re?be.transition():be}K.dimensionSelection.data(function(be){return be.dimensions},n);var te=K.dimensionSelection.selectAll("g.category").data(function(be){return be.categories},n);le(K.dimensionSelection).attr("transform",function(be){return h(be.x,0)}),le(te).attr("transform",function(be){return h(0,be.y)});var ee=te.select(".dimlabel");ee.text(function(be,Ee){return Ee===0?be.parcatsViewModel.model.dimensions[be.model.dimensionInd].dimensionLabel:null});var ue=te.select(".catlabel");ue.attr("text-anchor",function(be){return l(be)?"start":"end"}).attr("x",function(be){return l(be)?be.width+5:-5}).each(function(be){var Ee,Ae;l(be)?(Ee=be.width+5,Ae="start"):(Ee=-5,Ae="end"),p.select(this).selectAll("tspan").attr("x",Ee).attr("text-anchor",Ae)});var se=te.selectAll("rect.bandrect").data(function(be){return be.bands},n),ve=se.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(be){return be.color}).attr("fill-opacity",0);se.attr("fill",function(be){return be.color}).attr("width",function(be){return be.width}).attr("height",function(be){return be.height}).attr("y",function(be){return be.y}),x(ve),se.each(function(){w.raiseToTop(this)}),se.exit().remove()}function oe(K,re,le){var te=le[0],ee=re.margin||{l:80,r:80,t:100,b:80},ue=te.trace,se=ue.domain,ve=re.width,be=re.height,Ee=Math.floor(ve*(se.x[1]-se.x[0])),Ae=Math.floor(be*(se.y[1]-se.y[0])),Oe=se.x[0]*ve+ee.l,Ue=re.height-se.y[1]*re.height+ee.t,Le=ue.line.shape,we;ue.hoverinfo==="all"?we=["count","probability"]:we=(ue.hoverinfo||"").split("+");var Ce={trace:ue,key:ue.uid,model:te,x:Oe,y:Ue,width:Ee,height:Ae,hoveron:ue.hoveron,hoverinfoItems:we,arrangement:ue.arrangement,bundlecolors:ue.bundlecolors,sortpaths:ue.sortpaths,labelfont:ue.labelfont,categorylabelfont:ue.tickfont,pathShape:Le,dragDimension:null,margin:ee,paths:[],dimensions:[],graphDiv:K,traceSelection:null,pathSelection:null,dimensionSelection:null};return te.dimensions&&(Z(Ce),q(Ce)),Ce}function he(K,re,le,te,ee){var ue=[],se=[],ve,be;for(be=0;be<le.length-1;be++)ve=L(le[be]+K[be],K[be+1]),ue.push(ve(ee)),se.push(ve(1-ee));var Ee="M "+K[0]+","+re[0];for(Ee+="l"+le[0]+",0 ",be=1;be<le.length;be++)Ee+="C"+ue[be-1]+","+re[be-1]+" "+se[be-1]+","+re[be]+" "+K[be]+","+re[be],Ee+="l"+le[be]+",0 ";for(Ee+="l0,"+te+" ",Ee+="l -"+le[le.length-1]+",0 ",be=le.length-2;be>=0;be--)Ee+="C"+se[be]+","+(re[be+1]+te)+" "+ue[be]+","+(re[be]+te)+" "+(K[be]+le[be])+","+(re[be]+te),Ee+="l-"+le[be]+",0 ";return Ee+="Z",Ee}function q(K){var re=K.dimensions,le=K.model,te=re.map(function(Vt){return Vt.categories.map(function(Je){return Je.y})}),ee=K.model.dimensions.map(function(Vt){return Vt.categories.map(function(Je){return Je.displayInd})}),ue=K.model.dimensions.map(function(Vt){return Vt.displayInd}),se=K.dimensions.map(function(Vt){return Vt.model.dimensionInd}),ve=re.map(function(Vt){return Vt.x}),be=re.map(function(Vt){return Vt.width}),Ee=[];for(var Ae in le.paths)le.paths.hasOwnProperty(Ae)&&Ee.push(le.paths[Ae]);function Oe(Vt){var Je=Vt.categoryInds.map(function(Fe,Be){return ee[Be][Fe]}),_e=se.map(function(Fe){return Je[Fe]});return _e}Ee.sort(function(Vt,Je){var _e=Oe(Vt),Fe=Oe(Je);return K.sortpaths==="backward"&&(_e.reverse(),Fe.reverse()),_e.push(Vt.valueInds[0]),Fe.push(Je.valueInds[0]),K.bundlecolors&&(_e.unshift(Vt.rawColor),Fe.unshift(Je.rawColor)),_e<Fe?-1:_e>Fe?1:0});for(var Ue=new Array(Ee.length),Le=re[0].model.count,we=re[0].categories.map(function(Vt){return Vt.height}).reduce(function(Vt,Je){return Vt+Je}),Ce=0;Ce<Ee.length;Ce++){var Ve=Ee[Ce],Ne;Le>0?Ne=we*(Ve.count/Le):Ne=0;for(var ke=new Array(te.length),We=0;We<Ve.categoryInds.length;We++){var rt=Ve.categoryInds[We],et=ee[We][rt],tt=ue[We];ke[tt]=te[tt][et],te[tt][et]+=Ne;var at=K.dimensions[tt].categories[et],ct=at.bands.length,dt=at.bands[ct-1];if(dt===void 0||Ve.rawColor!==dt.rawColor){var gt=dt===void 0?0:dt.y+dt.height;at.bands.push({key:gt,color:Ve.color,rawColor:Ve.rawColor,height:Ne,width:at.width,count:Ve.count,y:gt,categoryViewModel:at,parcatsViewModel:K})}else{var Et=at.bands[ct-1];Et.height+=Ne,Et.count+=Ve.count}}var Ct;K.pathShape==="hspline"?Ct=he(ve,ke,be,Ne,.5):Ct=he(ve,ke,be,Ne,0),Ue[Ce]={key:Ve.valueInds[0],model:Ve,height:Ne,leftXs:ve,topYs:ke,dimWidths:be,svgD:Ct,parcatsViewModel:K}}K.paths=Ue}function Z(K){var re=K.model.dimensions.map(function(se){return{displayInd:se.displayInd,dimensionInd:se.dimensionInd}});re.sort(function(se,ve){return se.displayInd-ve.displayInd});var le=[];for(var te in re){var ee=re[te].dimensionInd,ue=K.model.dimensions[ee];le.push($(K,ue))}K.dimensions=le}function $(K,re){var le=40,te=16,ee=K.model.dimensions.length,ue=re.displayInd,se,ve,be;ee>1?se=(K.width-2*le-te)/(ee-1):se=0,ve=le,be=ve+se*ue;var Ee=[],Ae=K.model.maxCats,Oe=re.categories.length,Ue=8,Le=re.count,we=K.height-Ue*(Ae-1),Ce,Ve,Ne,ke,We,rt=(Ae-Oe)*Ue/2,et=re.categories.map(function(tt){return{displayInd:tt.displayInd,categoryInd:tt.categoryInd}});for(et.sort(function(tt,at){return tt.displayInd-at.displayInd}),We=0;We<Oe;We++)ke=et[We].categoryInd,Ve=re.categories[ke],Le>0?Ce=Ve.count/Le*we:Ce=0,Ne={key:Ve.valueInds[0],model:Ve,width:te,height:Ce,y:Ve.dragY!==null?Ve.dragY:rt,bands:[],parcatsViewModel:K},rt=rt+Ce+Ue,Ee.push(Ne);return{key:re.dimensionInd,x:re.dragX!==null?re.dragX:be,y:0,width:te,model:re,categories:Ee,parcatsViewModel:K,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(B,N,e){var p=e(45460);B.exports=function(a,C,w,h){var g=a._fullLayout,t=g._paper,r=g._size;p(a,t,C,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},w,h)}},73362:function(B,N,e){var p=e(50693),L=e(13838),a=e(41940),C=e(27670).Y,w=e(1426).extendFlat,h=e(44467).templatedArray;B.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:h("dimension",{label:{valType:"string",editType:"plot"},tickvals:w({},L.tickvals,{editType:"plot"}),ticktext:w({},L.ticktext,{editType:"plot"}),tickformat:w({},L.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:w({editType:"calc"},p("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(B,N,e){var p=e(25706),L=e(39898),a=e(28984).keyFun,C=e(28984).repeat,w=e(71828).sorterAsc,h=e(71828).strTranslate,g=p.bar.snapRatio;function t(G,Y){return G*(1-g)+Y*g}var r=p.bar.snapClose;function s(G,Y){return G*(1-r)+Y*r}function n(G,Y,J,ae){if(l(J,ae))return J;var oe=G?-1:1,he=0,q=Y.length-1;if(oe<0){var Z=he;he=q,q=Z}for(var $=Y[he],K=$,re=he;oe*re<oe*q;re+=oe){var le=re+oe,te=Y[le];if(oe*J<oe*s($,te))return t($,K);if(oe*J<oe*te||le===q)return t(te,$);K=$,$=te}}function l(G,Y){for(var J=0;J<Y.length;J++)if(G>=Y[J][0]&&G<=Y[J][1])return!0;return!1}function c(G){G.attr("x",-p.bar.captureWidth/2).attr("width",p.bar.captureWidth)}function f(G){G.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(G){if(!G.brush.filterSpecified)return"0,"+G.height;for(var Y=v(G.brush.filter.getConsolidated(),G.height),J=[0],ae,oe,he,q=Y.length?Y[0][0]:null,Z=0;Z<Y.length;Z++)ae=Y[Z],oe=ae[1]-ae[0],J.push(q),J.push(oe),he=Z+1,he<Y.length&&(q=Y[he][0]-ae[1]);return J.push(G.height),J}function v(G,Y){return G.map(function(J){return J.map(function(ae){return Math.max(0,ae*Y)}).sort(w)})}function A(G,Y){var J=p.bar.handleHeight;if(!(Y>G[1]+J||Y<G[0]-J))return Y>=.9*G[1]+.1*G[0]?"n":Y<=.9*G[0]+.1*G[1]?"s":"ns"}function d(){L.select(document.body).style("cursor",null)}function u(G){G.attr("stroke-dasharray",m)}function y(G,Y){var J=L.select(G).selectAll(".highlight, .highlight-shadow"),ae=Y?J.transition().duration(p.bar.snapDuration).each("end",Y):J;u(ae)}function M(G,Y){var J=G.brush,ae=J.filterSpecified,oe=NaN,he={},q;if(ae){var Z=G.height,$=J.filter.getConsolidated(),K=v($,Z),re=NaN,le=NaN,te=NaN;for(q=0;q<=K.length;q++){var ee=K[q];if(ee&&ee[0]<=Y&&Y<=ee[1]){re=q;break}else if(le=q?q-1:NaN,ee&&ee[0]>Y){te=q;break}}if(oe=re,isNaN(oe)&&(isNaN(le)||isNaN(te)?oe=isNaN(le)?te:le:oe=Y-K[le][1]<K[te][0]-Y?le:te),!isNaN(oe)){var ue=K[oe],se=A(ue,Y);se&&(he.interval=$[oe],he.intervalPix=ue,he.region=se)}}if(G.ordinal&&!he.region){var ve=G.unitTickvals,be=G.unitToPaddedPx.invert(Y);for(q=0;q<ve.length;q++){var Ee=[ve[Math.max(q-1,0)]*.25+ve[q]*.75,ve[Math.min(q+1,ve.length-1)]*.25+ve[q]*.75];if(be>=Ee[0]&&be<=Ee[1]){he.clickableOrdinalRange=Ee;break}}}return he}function S(G,Y){L.event.sourceEvent.stopPropagation();var J=Y.height-L.mouse(G)[1]-2*p.verticalPadding,ae=Y.unitToPaddedPx.invert(J),oe=Y.brush,he=M(Y,J),q=he.interval,Z=oe.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=he.region==="ns",Z.grabbingBar){var $=q.map(Y.unitToPaddedPx);Z.grabPoint=J-$[0]-p.verticalPadding,Z.barLength=$[1]-$[0]}Z.clickableOrdinalRange=he.clickableOrdinalRange,Z.stayingIntervals=Y.multiselect&&oe.filterSpecified?oe.filter.getConsolidated():[],q&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(K){return K[0]!==q[0]&&K[1]!==q[1]})),Z.startExtent=he.region?q[he.region==="s"?1:0]:ae,Y.parent.inBrushDrag=!0,Z.brushStartCallback()}function R(G,Y){L.event.sourceEvent.stopPropagation();var J=Y.height-L.mouse(G)[1]-2*p.verticalPadding,ae=Y.brush.svgBrush;ae.wasDragged=!0,ae._dragging=!0,ae.grabbingBar?ae.newExtent=[J-ae.grabPoint,J+ae.barLength-ae.grabPoint].map(Y.unitToPaddedPx.invert):ae.newExtent=[ae.startExtent,Y.unitToPaddedPx.invert(J)].sort(w),Y.brush.filterSpecified=!0,ae.extent=ae.stayingIntervals.concat([ae.newExtent]),ae.brushCallback(Y),y(G.parentNode)}function x(G,Y){var J=Y.brush,ae=J.filter,oe=J.svgBrush;oe._dragging||(E(G,Y),R(G,Y),Y.brush.svgBrush.wasDragged=!1),oe._dragging=!1;var he=L.event;he.sourceEvent.stopPropagation();var q=oe.grabbingBar;if(oe.grabbingBar=!1,oe.grabLocation=void 0,Y.parent.inBrushDrag=!1,d(),!oe.wasDragged){oe.wasDragged=void 0,oe.clickableOrdinalRange?J.filterSpecified&&Y.multiselect?oe.extent.push(oe.clickableOrdinalRange):(oe.extent=[oe.clickableOrdinalRange],J.filterSpecified=!0):q?(oe.extent=oe.stayingIntervals,oe.extent.length===0&&F(J)):F(J),oe.brushCallback(Y),y(G.parentNode),oe.brushEndCallback(J.filterSpecified?ae.getConsolidated():[]);return}var Z=function(){ae.set(ae.getConsolidated())};if(Y.ordinal){var $=Y.unitTickvals;$[$.length-1]<$[0]&&$.reverse(),oe.newExtent=[n(0,$,oe.newExtent[0],oe.stayingIntervals),n(1,$,oe.newExtent[1],oe.stayingIntervals)];var K=oe.newExtent[1]>oe.newExtent[0];oe.extent=oe.stayingIntervals.concat(K?[oe.newExtent]:[]),oe.extent.length||F(J),oe.brushCallback(Y),K?y(G.parentNode,Z):(Z(),y(G.parentNode))}else Z();oe.brushEndCallback(J.filterSpecified?ae.getConsolidated():[])}function E(G,Y){var J=Y.height-L.mouse(G)[1]-2*p.verticalPadding,ae=M(Y,J),oe="crosshair";ae.clickableOrdinalRange?oe="pointer":ae.region&&(oe=ae.region+"-resize"),L.select(document.body).style("cursor",oe)}function T(G){G.on("mousemove",function(Y){L.event.preventDefault(),Y.parent.inBrushDrag||E(this,Y)}).on("mouseleave",function(Y){Y.parent.inBrushDrag||d()}).call(L.behavior.drag().on("dragstart",function(Y){S(this,Y)}).on("drag",function(Y){R(this,Y)}).on("dragend",function(Y){x(this,Y)}))}function i(G,Y){return G[0]-Y[0]}function D(G,Y,J){var ae=J._context.staticPlot,oe=G.selectAll(".background").data(C);oe.enter().append("rect").classed("background",!0).call(c).call(f).style("pointer-events",ae?"none":"auto").attr("transform",h(0,p.verticalPadding)),oe.call(T).attr("height",function(Z){return Z.height-p.verticalPadding});var he=G.selectAll(".highlight-shadow").data(C);he.enter().append("line").classed("highlight-shadow",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width+p.bar.strokeWidth).attr("stroke",Y).attr("opacity",p.bar.strokeOpacity).attr("stroke-linecap","butt"),he.attr("y1",function(Z){return Z.height}).call(u);var q=G.selectAll(".highlight").data(C);q.enter().append("line").classed("highlight",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width-p.bar.strokeWidth).attr("stroke",p.bar.fillColor).attr("opacity",p.bar.fillOpacity).attr("stroke-linecap","butt"),q.attr("y1",function(Z){return Z.height}).call(u)}function b(G,Y,J){var ae=G.selectAll("."+p.cn.axisBrush).data(C,a);ae.enter().append("g").classed(p.cn.axisBrush,!0),D(ae,Y,J)}function O(G){return G.svgBrush.extent.map(function(Y){return Y.slice()})}function F(G){G.filterSpecified=!1,G.svgBrush.extent=[[-1/0,1/0]]}function V(G){return function(J){var ae=J.brush,oe=O(ae),he=oe.slice();ae.filter.set(he),G()}}function _(G){for(var Y=G.slice(),J=[],ae,oe=Y.shift();oe;){for(ae=oe.slice();(oe=Y.shift())&&oe[0]<=ae[1];)ae[1]=Math.max(ae[1],oe[1]);J.push(ae)}return J.length===1&&J[0][0]>J[0][1]&&(J=[]),J}function U(){var G=[],Y,J;return{set:function(ae){G=ae.map(function(oe){return oe.slice().sort(w)}).sort(i),G.length===1&&G[0][0]===-1/0&&G[0][1]===1/0&&(G=[[0,-1]]),Y=_(G),J=G.reduce(function(oe,he){return[Math.min(oe[0],he[0]),Math.max(oe[1],he[1])]},[1/0,-1/0])},get:function(){return G.slice()},getConsolidated:function(){return Y},getBounds:function(){return J}}}function H(G,Y,J,ae,oe,he){var q=U();return q.set(J),{filter:q,filterSpecified:Y,svgBrush:{extent:[],brushStartCallback:ae,brushCallback:V(oe),brushEndCallback:he}}}function z(G,Y){if(Array.isArray(G[0])?(G=G.map(function(ae){return ae.sort(w)}),Y.multiselect?G=_(G.sort(i)):G=[G[0]]):G=[G.sort(w)],Y.tickvals){var J=Y.tickvals.slice().sort(w);if(G=G.map(function(ae){var oe=[n(0,J,ae[0],[]),n(1,J,ae[1],[])];if(oe[1]>oe[0])return oe}).filter(function(ae){return ae}),!G.length)return}return G.length>1?G:G[0]}B.exports={makeBrush:H,ensureAxisBrush:b,cleanRanges:z}},71791:function(B,N,e){B.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(B,N,e){var p=e(39898),L=e(27659).a0,a=e(21341),C=e(77922);N.name="parcoords",N.plot=function(w){var h=L(w.calcdata,"parcoords")[0];h.length&&a(w,h)},N.clean=function(w,h,g,t){var r=t._has&&t._has("parcoords"),s=h._has&&h._has("parcoords");r&&!s&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},N.toSVG=function(w){var h=w._fullLayout._glimages,g=p.select(w).selectAll(".svg-container"),t=g.filter(function(s,n){return n===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var s=this,n=s.toDataURL("image/png"),l=h.append("svg:image");l.attr({xmlns:C.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:s.style.width,height:s.style.height})}t.each(r),window.setTimeout(function(){p.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(B,N,e){var p=e(71828).isArrayOrTypedArray,L=e(21081),a=e(28984).wrap;B.exports=function(h,g){var t,r;return L.hasColorscale(g,"line")&&p(g.line.color)?(t=g.line.color,r=L.extractOpts(g.line).colorscale,L.calc(h,g,{vals:t,containerStr:"line",cLetter:"c"})):(t=C(g._length),r=[[0,g.line.color],[1,g.line.color]]),a({lineColor:t,cscale:r})};function C(w){for(var h=new Array(w),g=0;g<w;g++)h[g]=.5;return h}},25706:function(B){B.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(B,N,e){var p=e(71828),L=e(52075).hasColorscale,a=e(1586),C=e(27670).c,w=e(85501),h=e(89298),g=e(73362),t=e(57920),r=e(25706).maxDimensionCount,s=e(94397);function n(c,f,m,v,A){var d=A("line.color",m);if(L(c,"line")&&p.isArrayOrTypedArray(d)){if(d.length)return A("line.colorscale"),a(c,f,v,A,{prefix:"line.",cLetter:"c"}),d.length;f.line.color=m}return 1/0}function l(c,f,m,v){function A(S,R){return p.coerce(c,f,g.dimensions,S,R)}var d=A("values"),u=A("visible");if(d&&d.length||(u=f.visible=!1),u){A("label"),A("tickvals"),A("ticktext"),A("tickformat");var y=A("range");f._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:y},h.setConvert(f._ax,v.layout),A("multiselect");var M=A("constraintrange");M&&(f.constraintrange=t.cleanRanges(M,f))}}B.exports=function(f,m,v,A){function d(R,x){return p.coerce(f,m,g,R,x)}var u=f.dimensions;Array.isArray(u)&&u.length>r&&(p.log("parcoords traces support up to "+r+" dimensions at the moment"),u.splice(r));var y=w(f,m,{name:"dimensions",layout:A,handleItemDefaults:l}),M=n(f,m,v,A,d);C(m,A,d),(!Array.isArray(y)||!y.length)&&(m.visible=!1),s(m,y,"values",M);var S={family:A.font.family,size:Math.round(A.font.size/1.2),color:A.font.color};p.coerceFont(d,"labelfont",S),p.coerceFont(d,"tickfont",S),p.coerceFont(d,"rangefont",S),d("labelangle"),d("labelside"),d("unselected.line.color"),d("unselected.line.opacity")}},1602:function(B,N,e){var p=e(71828).isTypedArray;N.convertTypedArray=function(L){return p(L)?Array.prototype.slice.call(L):L},N.isOrdinal=function(L){return!!L.tickvals},N.isVisible=function(L){return L.visible||!("visible"in L)}},67618:function(B,N,e){var p=e(71791);p.plot=e(21341),B.exports=p},83398:function(B,N,e){var p=e(56068),L=p([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=p([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),C=e(25706).maxDimensionCount,w=e(71828),h=1e-6,g=2048,t=new Uint8Array(4),r=new Uint8Array(4),s={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(E){E.read({x:0,y:0,width:1,height:1,data:t})}function l(E,T,i,D,b){var O=E._gl;O.enable(O.SCISSOR_TEST),O.scissor(T,i,D,b),E.clear({color:[0,0,0,0],depth:1})}function c(E,T,i,D,b,O){var F=O.key;function V(_){var U=Math.min(D,b-_*D);_===0&&(window.cancelAnimationFrame(i.currentRafs[F]),delete i.currentRafs[F],l(E,O.scissorX,O.scissorY,O.scissorWidth,O.viewBoxSize[1])),!i.clearOnly&&(O.count=2*U,O.offset=2*_*D,T(O),_*D+U<b&&(i.currentRafs[F]=window.requestAnimationFrame(function(){V(_+1)})),i.drawCompleted=!1)}i.drawCompleted||(n(E),i.drawCompleted=!0),V(0)}function f(E){return Math.max(h,Math.min(1-h,E))}function m(E,T){for(var i=new Array(256),D=0;D<256;D++)i[D]=E(D/255).concat(T);return i}function v(E,T){return(E>>>8*T)%256/255}function A(E,T,i){for(var D=new Array(E*(C+4)),b=0,O=0;O<E;O++){for(var F=0;F<C;F++)D[b++]=F<T.length?T[F].paddedUnitValues[O]:.5;D[b++]=v(O,2),D[b++]=v(O,1),D[b++]=v(O,0),D[b++]=f(i[O])}return D}function d(E,T,i){for(var D=new Array(T*8),b=0,O=0;O<T;O++)for(var F=0;F<2;F++)for(var V=0;V<4;V++){var _=E*4+V,U=i[O*64+_];_===63&&F===0&&(U*=-1),D[b++]=U}return D}function u(E){var T="0"+E;return T.substr(T.length-2)}function y(E){return E<C?"p"+u(E+1)+"_"+u(E+4):"colors"}function M(E,T,i){for(var D=0;D<=C;D+=4)E[y(D)](d(D/4,T,i))}function S(E){for(var T={},i=0;i<=C;i+=4)T[y(i)]=E.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return T}function R(E,T,i,D,b,O,F,V,_,U,H,z,G,Y){for(var J=[[],[]],ae=0;ae<64;ae++)J[0][ae]=ae===b?1:0,J[1][ae]=ae===O?1:0;F*=Y,V*=Y,_*=Y,U*=Y;var oe=E.lines.canvasOverdrag*Y,he=E.domain,q=E.canvasWidth*Y,Z=E.canvasHeight*Y,$=E.pad.l*Y,K=E.pad.b*Y,re=E.layoutHeight*Y,le=E.layoutWidth*Y,te=E.deselectedLines.color,ee=E.deselectedLines.opacity,ue=w.extendFlat({key:H,resolution:[q,Z],viewBoxPos:[F+oe,V],viewBoxSize:[_,U],i0:b,i1:O,dim0A:J[0].slice(0,16),dim0B:J[0].slice(16,32),dim0C:J[0].slice(32,48),dim0D:J[0].slice(48,64),dim1A:J[1].slice(0,16),dim1B:J[1].slice(16,32),dim1C:J[1].slice(32,48),dim1D:J[1].slice(48,64),drwLayer:z,contextColor:[te[0]/255,te[1]/255,te[2]/255,ee!=="auto"?te[3]*ee:Math.max(1/255,Math.pow(1/E.lines.color.length,1/3))],scissorX:(D===T?0:F+oe)+($-oe)+le*he.x[0],scissorWidth:(D===i?q-F+oe:_+.5)+(D===T?F+oe:0),scissorY:V+K+re*he.y[0],scissorHeight:U,viewportX:$-oe+le*he.x[0],viewportY:K+re*he.y[0],viewportWidth:q,viewportHeight:Z},G);return ue}function x(E){var T=g-1,i=Math.max(0,Math.floor(E[0]*T),0),D=Math.min(T,Math.ceil(E[1]*T),T);return[Math.min(i,D),Math.max(i,D)]}B.exports=function(E,T){var i=T.context,D=T.pick,b=T.regl,O=b._gl,F=O.getParameter(O.ALIASED_LINE_WIDTH_RANGE),V=Math.max(F[0],Math.min(F[1],T.viewModel.plotGlPixelRatio)),_={currentRafs:{},drawCompleted:!0,clearOnly:!1},U,H,z,G,Y=S(b),J,ae=b.texture(s),oe=[];q(T);var he=b({profile:!1,blend:{enable:i,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!i,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:b.prop("scissorX"),y:b.prop("scissorY"),width:b.prop("scissorWidth"),height:b.prop("scissorHeight")}},viewport:{x:b.prop("viewportX"),y:b.prop("viewportY"),width:b.prop("viewportWidth"),height:b.prop("viewportHeight")},dither:!1,vert:L,frag:a,primitive:"lines",lineWidth:V,attributes:Y,uniforms:{resolution:b.prop("resolution"),viewBoxPos:b.prop("viewBoxPos"),viewBoxSize:b.prop("viewBoxSize"),dim0A:b.prop("dim0A"),dim1A:b.prop("dim1A"),dim0B:b.prop("dim0B"),dim1B:b.prop("dim1B"),dim0C:b.prop("dim0C"),dim1C:b.prop("dim1C"),dim0D:b.prop("dim0D"),dim1D:b.prop("dim1D"),loA:b.prop("loA"),hiA:b.prop("hiA"),loB:b.prop("loB"),hiB:b.prop("hiB"),loC:b.prop("loC"),hiC:b.prop("hiC"),loD:b.prop("loD"),hiD:b.prop("hiD"),palette:ae,contextColor:b.prop("contextColor"),maskTexture:b.prop("maskTexture"),drwLayer:b.prop("drwLayer"),maskHeight:b.prop("maskHeight")},offset:b.prop("offset"),count:b.prop("count")});function q(te){U=te.model,H=te.viewModel,z=H.dimensions.slice(),G=z[0]?z[0].values.length:0;var ee=U.lines,ue=D?ee.color.map(function(ve,be){return be/ee.color.length}):ee.color,se=A(G,z,ue);M(Y,G,se),!i&&!D&&(ae=b.texture(w.extendFlat({data:m(U.unitToColor,255)},s)))}function Z(te){var ee,ue,se,ve=[[],[]];for(se=0;se<64;se++){var be=!te&&se<z.length?z[se].brush.filter.getBounds():[-1/0,1/0];ve[0][se]=be[0],ve[1][se]=be[1]}var Ee=g*8,Ae=new Array(Ee);for(ee=0;ee<Ee;ee++)Ae[ee]=255;if(!te)for(ee=0;ee<z.length;ee++){var Oe=ee%8,Ue=(ee-Oe)/8,Le=Math.pow(2,Oe),we=z[ee],Ce=we.brush.filter.get();if(!(Ce.length<2)){var Ve=x(Ce[0])[1];for(ue=1;ue<Ce.length;ue++){var Ne=x(Ce[ue]);for(se=Ve+1;se<Ne[0];se++)Ae[se*8+Ue]&=~Le;Ve=Math.max(Ve,Ne[1])}}}var ke={shape:[8,g],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ae};return J?J(ke):J=b.texture(ke),{maskTexture:J,maskHeight:g,loA:ve[0].slice(0,16),loB:ve[0].slice(16,32),loC:ve[0].slice(32,48),loD:ve[0].slice(48,64),hiA:ve[1].slice(0,16),hiB:ve[1].slice(16,32),hiC:ve[1].slice(32,48),hiD:ve[1].slice(48,64)}}function $(te,ee,ue){var se=te.length,ve,be,Ee,Ae=1/0,Oe=-1/0;for(ve=0;ve<se;ve++)te[ve].dim0.canvasX<Ae&&(Ae=te[ve].dim0.canvasX,be=ve),te[ve].dim1.canvasX>Oe&&(Oe=te[ve].dim1.canvasX,Ee=ve);se===0&&l(b,0,0,U.canvasWidth,U.canvasHeight);var Ue=Z(i);for(ve=0;ve<se;ve++){var Le=te[ve],we=Le.dim0.crossfilterDimensionIndex,Ce=Le.dim1.crossfilterDimensionIndex,Ve=Le.canvasX,Ne=Le.canvasY,ke=Ve+Le.panelSizeX,We=Le.plotGlPixelRatio;if(ee||!oe[we]||oe[we][0]!==Ve||oe[we][1]!==ke){oe[we]=[Ve,ke];var rt=R(U,be,Ee,ve,we,Ce,Ve,Ne,Le.panelSizeX,Le.panelSizeY,Le.dim0.crossfilterDimensionIndex,i?0:D?2:1,Ue,We);_.clearOnly=ue;var et=ee?U.lines.blockLineCount:G;c(b,he,_,et,G,rt)}}}function K(te,ee){return b.read({x:te,y:ee,width:1,height:1,data:r}),r}function re(te,ee,ue,se){var ve=new Uint8Array(4*ue*se);return b.read({x:te,y:ee,width:ue,height:se,data:ve}),ve}function le(){E.style["pointer-events"]="none",ae.destroy(),J&&J.destroy();for(var te in Y)Y[te].destroy()}return{render:$,readPixel:K,readPixels:re,destroy:le,update:q}}},94397:function(B){B.exports=function(N,e,p,L){L||(L=1/0);var a,C;for(a=0;a<e.length;a++)C=e[a],C.visible&&(L=Math.min(L,C[p].length));for(L===1/0&&(L=0),N._length=L,a=0;a<e.length;a++)C=e[a],C.visible&&(C._length=L);return L}},17171:function(B,N,e){var p=e(39898),L=e(71828),a=L.numberFormat,C=e(36652),w=e(89298),h=L.strRotate,g=L.strTranslate,t=e(63893),r=e(91424),s=e(21081),n=e(28984),l=n.keyFun,c=n.repeat,f=n.unwrap,m=e(1602),v=e(25706),A=e(57920),d=e(83398);function u(J,ae,oe){return L.aggNums(J,null,ae,oe)}function y(J,ae){return S(u(Math.min,J,ae),u(Math.max,J,ae))}function M(J){var ae=J.range;return ae?S(ae[0],ae[1]):y(J.values,J._length)}function S(J,ae){return(isNaN(J)||!isFinite(J))&&(J=0),(isNaN(ae)||!isFinite(ae))&&(ae=0),J===ae&&(J===0?(J-=1,ae+=1):(J*=.9,ae*=1.1)),[J,ae]}function R(J,ae){return ae?function(oe,he){var q=ae[he];return q??J(oe)}:J}function x(J,ae,oe,he,q){var Z=M(oe);return he?p.scale.ordinal().domain(he.map(R(a(oe.tickformat),q))).range(he.map(function($){var K=($-Z[0])/(Z[1]-Z[0]);return J-ae+K*(2*ae-J)})):p.scale.linear().domain(Z).range([J-ae,ae])}function E(J,ae){return p.scale.linear().range([ae,J-ae])}function T(J,ae){return p.scale.linear().domain(M(J)).range([ae,1-ae])}function i(J){if(J.tickvals){var ae=M(J);return p.scale.ordinal().domain(J.tickvals).range(J.tickvals.map(function(oe){return(oe-ae[0])/(ae[1]-ae[0])}))}}function D(J){var ae=J.map(function(Z){return Z[0]}),oe=J.map(function(Z){var $=C(Z[1]);return p.rgb("rgb("+$[0]+","+$[1]+","+$[2]+")")}),he=function(Z){return function($){return $[Z]}},q="rgb".split("").map(function(Z){return p.scale.linear().clamp(!0).domain(ae).range(oe.map(he(Z)))});return function(Z){return q.map(function($){return $(Z)})}}function b(J){return J.dimensions.some(function(ae){return ae.brush.filterSpecified})}function O(J,ae,oe){var he=f(ae),q=he.trace,Z=m.convertTypedArray(he.lineColor),$=q.line,K={color:C(q.unselected.line.color),opacity:q.unselected.line.opacity},re=s.extractOpts($),le=re.reversescale?s.flipScale(he.cscale):he.cscale,te=q.domain,ee=q.dimensions,ue=J.width,se=q.labelangle,ve=q.labelside,be=q.labelfont,Ee=q.tickfont,Ae=q.rangefont,Oe=L.extendDeepNoArrays({},$,{color:Z.map(p.scale.linear().domain(M({values:Z,range:[re.min,re.max],_length:q._length}))),blockLineCount:v.blockLineCount,canvasOverdrag:v.overdrag*v.canvasPixelRatio}),Ue=Math.floor(ue*(te.x[1]-te.x[0])),Le=Math.floor(J.height*(te.y[1]-te.y[0])),we=J.margin||{l:80,r:80,t:100,b:80},Ce=Ue,Ve=Le;return{key:oe,colCount:ee.filter(m.isVisible).length,dimensions:ee,tickDistance:v.tickDistance,unitToColor:D(le),lines:Oe,deselectedLines:K,labelAngle:se,labelSide:ve,labelFont:be,tickFont:Ee,rangeFont:Ae,layoutWidth:ue,layoutHeight:J.height,domain:te,translateX:te.x[0]*ue,translateY:J.height-te.y[1]*J.height,pad:we,canvasWidth:Ce*v.canvasPixelRatio+2*Oe.canvasOverdrag,canvasHeight:Ve*v.canvasPixelRatio,width:Ce,height:Ve,canvasPixelRatio:v.canvasPixelRatio}}function F(J,ae,oe){var he=oe.width,q=oe.height,Z=oe.dimensions,$=oe.canvasPixelRatio,K=function(ue){return he*ue/Math.max(1,oe.colCount-1)},re=v.verticalPadding/q,le=E(q,v.verticalPadding),te={key:oe.key,xScale:K,model:oe,inBrushDrag:!1},ee={};return te.dimensions=Z.filter(m.isVisible).map(function(ue,se){var ve=T(ue,re),be=ee[ue.label];ee[ue.label]=(be||0)+1;var Ee=ue.label+(be?"__"+be:""),Ae=ue.constraintrange,Oe=Ae&&Ae.length;Oe&&!Array.isArray(Ae[0])&&(Ae=[Ae]);var Ue=Oe?Ae.map(function(tt){return tt.map(ve)}):[[-1/0,1/0]],Le=function(){var tt=te;tt.focusLayer&&tt.focusLayer.render(tt.panels,!0);var at=b(tt);!J.contextShown()&&at?(tt.contextLayer&&tt.contextLayer.render(tt.panels,!0),J.contextShown(!0)):J.contextShown()&&!at&&(tt.contextLayer&&tt.contextLayer.render(tt.panels,!0,!0),J.contextShown(!1))},we=ue.values;we.length>ue._length&&(we=we.slice(0,ue._length));var Ce=ue.tickvals,Ve;function Ne(tt,at){return{val:tt,text:Ve[at]}}function ke(tt,at){return tt.val-at.val}if(Array.isArray(Ce)&&Ce.length){Ve=ue.ticktext,!Array.isArray(Ve)||!Ve.length?Ve=Ce.map(a(ue.tickformat)):Ve.length>Ce.length?Ve=Ve.slice(0,Ce.length):Ce.length>Ve.length&&(Ce=Ce.slice(0,Ve.length));for(var We=1;We<Ce.length;We++)if(Ce[We]<Ce[We-1]){for(var rt=Ce.map(Ne).sort(ke),et=0;et<Ce.length;et++)Ce[et]=rt[et].val,Ve[et]=rt[et].text;break}}else Ce=void 0;return we=m.convertTypedArray(we),{key:Ee,label:ue.label,tickFormat:ue.tickformat,tickvals:Ce,ticktext:Ve,ordinal:m.isOrdinal(ue),multiselect:ue.multiselect,xIndex:se,crossfilterDimensionIndex:se,visibleIndex:ue._index,height:q,values:we,paddedUnitValues:we.map(ve),unitTickvals:Ce&&Ce.map(ve),xScale:K,x:K(se),canvasX:K(se)*$,unitToPaddedPx:le,domainScale:x(q,v.verticalPadding,ue,Ce,Ve),ordinalScale:i(ue),parent:te,model:oe,brush:A.makeBrush(J,Oe,Ue,function(){J.linePickActive(!1)},Le,function(tt){if(te.focusLayer.render(te.panels,!0),te.pickLayer&&te.pickLayer.render(te.panels,!0),J.linePickActive(!0),ae&&ae.filterChanged){var at=ve.invert,ct=tt.map(function(dt){return dt.map(at).sort(L.sorterAsc)}).sort(function(dt,gt){return dt[0]-gt[0]});ae.filterChanged(te.key,ue._index,ct)}})}}),te}function V(J){J.classed(v.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function _(){var J=!0,ae=!1;return{linePickActive:function(oe){return arguments.length?J=!!oe:J},contextShown:function(oe){return arguments.length?ae=!!oe:ae}}}function U(J,ae){var oe=ae==="top"?1:-1,he=J*Math.PI/180,q=Math.sin(he),Z=Math.cos(he);return{dir:oe,dx:q,dy:Z,degrees:J}}function H(J,ae,oe){for(var he=ae.panels||(ae.panels=[]),q=J.data(),Z=0;Z<q.length-1;Z++){var $=he[Z]||(he[Z]={}),K=q[Z],re=q[Z+1];$.dim0=K,$.dim1=re,$.canvasX=K.canvasX,$.panelSizeX=re.canvasX-K.canvasX,$.panelSizeY=ae.model.canvasHeight,$.y=0,$.canvasY=0,$.plotGlPixelRatio=oe}}function z(J){for(var ae=0;ae<J.length;ae++)for(var oe=0;oe<J[ae].length;oe++)for(var he=J[ae][oe].trace,q=he.dimensions,Z=0;Z<q.length;Z++){var $=q[Z].values,K=q[Z]._ax;K&&(K.range?K.range=S(K.range[0],K.range[1]):K.range=y($,he._length),K.dtick||(K.dtick=.01*(Math.abs(K.range[1]-K.range[0])||1)),K.tickformat=q[Z].tickformat,w.calcTicks(K),K.cleanRange())}}function G(J,ae){return w.tickText(J._ax,ae,!1).text}function Y(J,ae){if(J.ordinal)return"";var oe=J.domainScale.domain(),he=oe[ae?oe.length-1:0];return G(J.model.dimensions[J.visibleIndex],he)}B.exports=function(ae,oe,he,q){var Z=ae._context.staticPlot,$=ae._fullLayout,K=$._toppaper,re=$._glcontainer,le=ae._context.plotGlPixelRatio,te=ae._fullLayout.paper_bgcolor;z(oe);var ee=_(),ue=oe.filter(function(et){return f(et).trace.visible}).map(O.bind(0,he)).map(F.bind(0,ee,q));re.each(function(et,tt){return L.extendFlat(et,ue[tt])});var se=re.selectAll(".gl-canvas").each(function(et){et.viewModel=ue[0],et.viewModel.plotGlPixelRatio=le,et.viewModel.paperColor=te,et.model=et.viewModel?et.viewModel.model:null}),ve=null,be=se.filter(function(et){return et.pick});be.style("pointer-events",Z?"none":"auto").on("mousemove",function(et){if(ee.linePickActive()&&et.lineLayer&&q&&q.hover){var tt=p.event,at=this.width,ct=this.height,dt=p.mouse(this),gt=dt[0],Et=dt[1];if(gt<0||Et<0||gt>=at||Et>=ct)return;var Ct=et.lineLayer.readPixel(gt,ct-1-Et),Vt=Ct[3]!==0,Je=Vt?Ct[2]+256*(Ct[1]+256*Ct[0]):null,_e={x:gt,y:Et,clientX:tt.clientX,clientY:tt.clientY,dataIndex:et.model.key,curveNumber:Je};Je!==ve&&(Vt?q.hover(_e):q.unhover&&q.unhover(_e),ve=Je)}}),se.style("opacity",function(et){return et.pick?0:1}),K.style("background","rgba(255, 255, 255, 0)");var Ee=K.selectAll("."+v.cn.parcoords).data(ue,l);Ee.exit().remove(),Ee.enter().append("g").classed(v.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ee.attr("transform",function(et){return g(et.model.translateX,et.model.translateY)});var Ae=Ee.selectAll("."+v.cn.parcoordsControlView).data(c,l);Ae.enter().append("g").classed(v.cn.parcoordsControlView,!0),Ae.attr("transform",function(et){return g(et.model.pad.l,et.model.pad.t)});var Oe=Ae.selectAll("."+v.cn.yAxis).data(function(et){return et.dimensions},l);Oe.enter().append("g").classed(v.cn.yAxis,!0),Ae.each(function(et){H(Oe,et,le)}),se.each(function(et){if(et.viewModel){!et.lineLayer||q?et.lineLayer=d(this,et):et.lineLayer.update(et),(et.key||et.key===0)&&(et.viewModel[et.key]=et.lineLayer);var tt=!et.context||q;et.lineLayer.render(et.viewModel.panels,tt)}}),Oe.attr("transform",function(et){return g(et.xScale(et.xIndex),0)}),Oe.call(p.behavior.drag().origin(function(et){return et}).on("drag",function(et){var tt=et.parent;ee.linePickActive(!1),et.x=Math.max(-v.overdrag,Math.min(et.model.width+v.overdrag,p.event.x)),et.canvasX=et.x*et.model.canvasPixelRatio,Oe.sort(function(at,ct){return at.x-ct.x}).each(function(at,ct){at.xIndex=ct,at.x=et===at?at.x:at.xScale(at.xIndex),at.canvasX=at.x*at.model.canvasPixelRatio}),H(Oe,tt,le),Oe.filter(function(at){return Math.abs(et.xIndex-at.xIndex)!==0}).attr("transform",function(at){return g(at.xScale(at.xIndex),0)}),p.select(this).attr("transform",g(et.x,0)),Oe.each(function(at,ct,dt){dt===et.parent.key&&(tt.dimensions[ct]=at)}),tt.contextLayer&&tt.contextLayer.render(tt.panels,!1,!b(tt)),tt.focusLayer.render&&tt.focusLayer.render(tt.panels)}).on("dragend",function(et){var tt=et.parent;et.x=et.xScale(et.xIndex),et.canvasX=et.x*et.model.canvasPixelRatio,H(Oe,tt,le),p.select(this).attr("transform",function(at){return g(at.x,0)}),tt.contextLayer&&tt.contextLayer.render(tt.panels,!1,!b(tt)),tt.focusLayer&&tt.focusLayer.render(tt.panels),tt.pickLayer&&tt.pickLayer.render(tt.panels,!0),ee.linePickActive(!0),q&&q.axesMoved&&q.axesMoved(tt.key,tt.dimensions.map(function(at){return at.crossfilterDimensionIndex}))})),Oe.exit().remove();var Ue=Oe.selectAll("."+v.cn.axisOverlays).data(c,l);Ue.enter().append("g").classed(v.cn.axisOverlays,!0),Ue.selectAll("."+v.cn.axis).remove();var Le=Ue.selectAll("."+v.cn.axis).data(c,l);Le.enter().append("g").classed(v.cn.axis,!0),Le.each(function(et){var tt=et.model.height/et.model.tickDistance,at=et.domainScale,ct=at.domain();p.select(this).call(p.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(tt,et.tickFormat).tickValues(et.ordinal?ct:null).tickFormat(function(dt){return m.isOrdinal(et)?dt:G(et.model.dimensions[et.visibleIndex],dt)}).scale(at)),r.font(Le.selectAll("text"),et.model.tickFont)}),Le.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Le.selectAll("text").style("text-shadow",t.makeTextShadow(te)).style("cursor","default");var we=Ue.selectAll("."+v.cn.axisHeading).data(c,l);we.enter().append("g").classed(v.cn.axisHeading,!0);var Ce=we.selectAll("."+v.cn.axisTitle).data(c,l);Ce.enter().append("text").classed(v.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",Z?"none":"auto"),Ce.text(function(et){return et.label}).each(function(et){var tt=p.select(this);r.font(tt,et.model.labelFont),t.convertToTspans(tt,ae)}).attr("transform",function(et){var tt=U(et.model.labelAngle,et.model.labelSide),at=v.axisTitleOffset;return(tt.dir>0?"":g(0,2*at+et.model.height))+h(tt.degrees)+g(-at*tt.dx,-at*tt.dy)}).attr("text-anchor",function(et){var tt=U(et.model.labelAngle,et.model.labelSide),at=Math.abs(tt.dx),ct=Math.abs(tt.dy);return 2*at>ct?tt.dir*tt.dx<0?"start":"end":"middle"});var Ve=Ue.selectAll("."+v.cn.axisExtent).data(c,l);Ve.enter().append("g").classed(v.cn.axisExtent,!0);var Ne=Ve.selectAll("."+v.cn.axisExtentTop).data(c,l);Ne.enter().append("g").classed(v.cn.axisExtentTop,!0),Ne.attr("transform",g(0,-v.axisExtentOffset));var ke=Ne.selectAll("."+v.cn.axisExtentTopText).data(c,l);ke.enter().append("text").classed(v.cn.axisExtentTopText,!0).call(V),ke.text(function(et){return Y(et,!0)}).each(function(et){r.font(p.select(this),et.model.rangeFont)});var We=Ve.selectAll("."+v.cn.axisExtentBottom).data(c,l);We.enter().append("g").classed(v.cn.axisExtentBottom,!0),We.attr("transform",function(et){return g(0,et.model.height+v.axisExtentOffset)});var rt=We.selectAll("."+v.cn.axisExtentBottomText).data(c,l);rt.enter().append("text").classed(v.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(V),rt.text(function(et){return Y(et,!1)}).each(function(et){r.font(p.select(this),et.model.rangeFont)}),A.ensureAxisBrush(Ue,te,ae)}},21341:function(B,N,e){var p=e(17171),L=e(79749),a=e(1602).isVisible,C={};function w(t,r,s){var n=r.indexOf(s),l=t.indexOf(n);return l===-1&&(l+=r.length),l}function h(t,r){return function(n,l){return w(t,r,n)-w(t,r,l)}}var g=B.exports=function(r,s){var n=r._fullLayout,l=L(r,[],C);if(l){var c={},f={},m={},v={},A=n._size;s.forEach(function(S,R){var x=S[0].trace;m[R]=x.index;var E=v[R]=x._fullInput.index;c[R]=r.data[E].dimensions,f[R]=r.data[E].dimensions.slice()});var d=function(S,R,x){var E=f[S][R],T=x.map(function(V){return V.slice()}),i="dimensions["+R+"].constraintrange",D=n._tracePreGUI[r._fullData[m[S]]._fullInput.uid];if(D[i]===void 0){var b=E.constraintrange;D[i]=b||null}var O=r._fullData[m[S]].dimensions[R];T.length?(T.length===1&&(T=T[0]),E.constraintrange=T,O.constraintrange=T.slice(),T=[T]):(delete E.constraintrange,delete O.constraintrange,T=null);var F={};F[i]=T,r.emit("plotly_restyle",[F,[v[S]]])},u=function(S){r.emit("plotly_hover",S)},y=function(S){r.emit("plotly_unhover",S)},M=function(S,R){var x=h(R,f[S].filter(a));c[S].sort(x),f[S].filter(function(E){return!a(E)}).sort(function(E){return f[S].indexOf(E)}).forEach(function(E){c[S].splice(c[S].indexOf(E),1),c[S].splice(f[S].indexOf(E),0,E)}),r.emit("plotly_restyle",[{dimensions:[c[S]]},[v[S]]])};p(r,s,{width:A.w,height:A.h,margin:{t:A.t,r:A.r,b:A.b,l:A.l}},{filterChanged:d,hover:u,unhover:y,axesMoved:M})}};g.reglPrecompiled=C},34e3:function(B,N,e){var p=e(9012),L=e(27670).Y,a=e(41940),C=e(22399),w=e(5386).fF,h=e(5386).si,g=e(1426).extendFlat,t=e(79952).u,r=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});B.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:g({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:w({},{keys:["label","color","value","percent","text"]}),texttemplate:h({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:g({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:g({},r,{}),outsidetextfont:g({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:g({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:L({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:g({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(B,N,e){var p=e(74875);N.name="pie",N.plot=function(L,a,C,w){p.plotBasePlot(N.name,L,a,C,w)},N.clean=function(L,a,C,w){p.cleanBasePlot(N.name,L,a,C,w)}},32354:function(B,N,e){var p=e(92770),L=e(84267),a=e(7901),C={};function w(r,s){var n=[],l=r._fullLayout,c=l.hiddenlabels||[],f=s.labels,m=s.marker.colors||[],v=s.values,A=s._length,d=s._hasValues&&A,u,y;if(s.dlabel)for(f=new Array(A),u=0;u<A;u++)f[u]=String(s.label0+u*s.dlabel);var M={},S=h(l["_"+s.type+"colormap"]),R=0,x=!1;for(u=0;u<A;u++){var E,T,i;if(d){if(E=v[u],!p(E))continue;E=+E}else E=1;T=f[u],(T===void 0||T==="")&&(T=u),T=String(T);var D=M[T];D===void 0?(M[T]=n.length,i=c.indexOf(T)!==-1,i||(R+=E),n.push({v:E,label:T,color:S(m[u],T),i:u,pts:[u],hidden:i})):(x=!0,y=n[D],y.v+=E,y.pts.push(u),y.hidden||(R+=E),y.color===!1&&m[u]&&(y.color=S(m[u],T)))}n=n.filter(function(O){return O.v>=0});var b=s.type==="funnelarea"?x:s.sort;return b&&n.sort(function(O,F){return F.v-O.v}),n[0]&&(n[0].vTotal=R),n}function h(r){return function(n,l){return!n||(n=L(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),r[l]||(r[l]=n),n)}}function g(r,s){var n=(s||{}).type;n||(n="pie");var l=r._fullLayout,c=r.calcdata,f=l[n+"colorway"],m=l["_"+n+"colormap"];l["extend"+n+"colors"]&&(f=t(f,C));for(var v=0,A=0;A<c.length;A++){var d=c[A],u=d[0].trace.type;if(u===n)for(var y=0;y<d.length;y++){var M=d[y];M.color===!1&&(m[M.label]?M.color=m[M.label]:(m[M.label]=M.color=f[v%f.length],v++))}}}function t(r,s){var n,l=JSON.stringify(r),c=s[l];if(!c){for(c=r.slice(),n=0;n<r.length;n++)c.push(L(r[n]).lighten(20).toHexString());for(n=0;n<r.length;n++)c.push(L(r[n]).darken(20).toHexString());s[l]=c}return c}B.exports={calc:w,crossTraceCalc:g,makePullColorFn:h,generateExtendedColors:t}},37434:function(B,N,e){var p=e(92770),L=e(71828),a=e(34e3),C=e(27670).c,w=e(90769).handleText,h=e(71828).coercePattern;function g(s,n){var l=Array.isArray(s),c=L.isArrayOrTypedArray(n),f=Math.min(l?s.length:1/0,c?n.length:1/0);if(isFinite(f)||(f=0),f&&c){for(var m,v=0;v<f;v++){var A=n[v];if(p(A)&&A>0){m=!0;break}}m||(f=0)}return{hasLabels:l,hasValues:c,len:f}}function t(s,n,l,c,f){var m=c("marker.line.width");m&&c("marker.line.color",f?void 0:l.paper_bgcolor);var v=c("marker.colors");h(c,"marker.pattern",v),s.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=s.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=l.paper_bgcolor)}function r(s,n,l,c){function f(D,b){return L.coerce(s,n,a,D,b)}var m=f("labels"),v=f("values"),A=g(m,v),d=A.len;if(n._hasLabels=A.hasLabels,n._hasValues=A.hasValues,!n._hasLabels&&n._hasValues&&(f("label0"),f("dlabel")),!d){n.visible=!1;return}n._length=d,t(s,n,c,f,!0),f("scalegroup");var u=f("text"),y=f("texttemplate"),M;if(y||(M=f("textinfo",Array.isArray(u)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),y||M&&M!=="none"){var S=f("textposition");w(s,n,c,f,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var R=Array.isArray(S)||S==="auto",x=R||S==="outside";x&&f("automargin"),(S==="inside"||S==="auto"||Array.isArray(S))&&f("insidetextorientation")}C(n,c,f);var E=f("hole"),T=f("title.text");if(T){var i=f("title.position",E?"middle center":"top center");!E&&i==="middle center"&&(n.title.position="top center"),L.coerceFont(f,"title.font",c.font)}f("sort"),f("direction"),f("rotation"),f("pull")}B.exports={handleLabelsAndValues:g,handleMarkerDefaults:t,supplyDefaults:r}},20007:function(B,N,e){var p=e(23469).appendArrayMultiPointValues;B.exports=function(a,C){var w={curveNumber:C.index,pointNumbers:a.pts,data:C._input,fullData:C,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(w.pointNumber=w.i=a.pts[0]),p(w,C,a.pts),C.type==="funnelarea"&&(delete w.v,delete w.i),w}},22209:function(B,N,e){var p=e(91424),L=e(7901);B.exports=function(C,w,h,g){var t=h.marker.pattern;t&&t.shape?p.pointStyle(C,h,g,w):L.fill(C,w.color)}},53581:function(B,N,e){var p=e(71828);function L(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}N.formatPiePercent=function(C,w){var h=L((C*100).toPrecision(3));return p.numSeparate(h,w)+"%"},N.formatPieValue=function(C,w){var h=L(C.toPrecision(10));return p.numSeparate(h,w)},N.getFirstFilled=function(C,w){if(Array.isArray(C))for(var h=0;h<w.length;h++){var g=C[w[h]];if(g||g===0||g==="")return g}},N.castOption=function(C,w){if(Array.isArray(C))return N.getFirstFilled(C,w);if(C)return C},N.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},58810:function(B,N,e){B.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(B){B.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(B,N,e){var p=e(71828),L=e(92774);B.exports=function(C,w){function h(g,t){return p.coerce(C,w,L,g,t)}h("hiddenlabels"),h("piecolorway",w.colorway),h("extendpiecolors")}},14575:function(B,N,e){var p=e(39898),L=e(74875),a=e(30211),C=e(7901),w=e(91424),h=e(71828),g=h.strScale,t=h.strTranslate,r=e(63893),s=e(72597),n=s.recordMinTextSize,l=s.clearMinTextSize,c=e(97313).TEXTPAD,f=e(53581),m=e(20007),v=e(71828).isValidTextValue;function A(Z,$){var K=Z._context.staticPlot,re=Z._fullLayout,le=re._size;l("pie",re),S($,Z),Y($,le);var te=h.makeTraceGroups(re._pielayer,$,"trace").each(function(ee){var ue=p.select(this),se=ee[0],ve=se.trace;ae(ee),ue.attr("stroke-linejoin","round"),ue.each(function(){var be=p.select(this).selectAll("g.slice").data(ee);be.enter().append("g").classed("slice",!0),be.exit().remove();var Ee=[[[],[]],[[],[]]],Ae=!1;be.each(function(ke,We){if(ke.hidden){p.select(this).selectAll("path,g").remove();return}ke.pointNumber=ke.i,ke.curveNumber=ve.index,Ee[ke.pxmid[1]<0?0:1][ke.pxmid[0]<0?0:1].push(ke);var rt=se.cx,et=se.cy,tt=p.select(this),at=tt.selectAll("path.surface").data([ke]);if(at.enter().append("path").classed("surface",!0).style({"pointer-events":K?"none":"all"}),tt.call(u,Z,ee),ve.pull){var ct=+f.castOption(ve.pull,ke.pts)||0;ct>0&&(rt+=ct*ke.pxmid[0],et+=ct*ke.pxmid[1])}ke.cxFinal=rt,ke.cyFinal=et;function dt(Fe,Be,De,Te){var xe=Te*(Be[0]-Fe[0]),Me=Te*(Be[1]-Fe[1]);return"a"+Te*se.r+","+Te*se.r+" 0 "+ke.largeArc+(De?" 1 ":" 0 ")+xe+","+Me}var gt=ve.hole;if(ke.v===se.vTotal){var Et="M"+(rt+ke.px0[0])+","+(et+ke.px0[1])+dt(ke.px0,ke.pxmid,!0,1)+dt(ke.pxmid,ke.px0,!0,1)+"Z";gt?at.attr("d","M"+(rt+gt*ke.px0[0])+","+(et+gt*ke.px0[1])+dt(ke.px0,ke.pxmid,!1,gt)+dt(ke.pxmid,ke.px0,!1,gt)+"Z"+Et):at.attr("d",Et)}else{var Ct=dt(ke.px0,ke.px1,!0,1);if(gt){var Vt=1-gt;at.attr("d","M"+(rt+gt*ke.px1[0])+","+(et+gt*ke.px1[1])+dt(ke.px1,ke.px0,!1,gt)+"l"+Vt*ke.px0[0]+","+Vt*ke.px0[1]+Ct+"Z")}else at.attr("d","M"+rt+","+et+"l"+ke.px0[0]+","+ke.px0[1]+Ct+"Z")}he(Z,ke,se);var Je=f.castOption(ve.textposition,ke.pts),_e=tt.selectAll("g.slicetext").data(ke.text&&Je!=="none"?[0]:[]);_e.enter().append("g").classed("slicetext",!0),_e.exit().remove(),_e.each(function(){var Fe=h.ensureSingle(p.select(this),"text","",function(Ke){Ke.attr("data-notex",1)}),Be=h.ensureUniformFontSize(Z,Je==="outside"?y(ve,ke,re.font):M(ve,ke,re.font));Fe.text(ke.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(w.font,Be).call(r.convertToTspans,Z);var De=w.bBox(Fe.node()),Te;if(Je==="outside")Te=F(De,ke);else if(Te=R(De,ke,se),Je==="auto"&&Te.scale<1){var xe=h.ensureUniformFontSize(Z,ve.outsidetextfont);Fe.call(w.font,xe),De=w.bBox(Fe.node()),Te=F(De,ke)}var Me=Te.textPosAngle,Pe=Me===void 0?ke.pxmid:oe(se.r,Me);if(Te.targetX=rt+Pe[0]*Te.rCenter+(Te.x||0),Te.targetY=et+Pe[1]*Te.rCenter+(Te.y||0),q(Te,De),Te.outside){var He=Te.targetY;ke.yLabelMin=He-De.height/2,ke.yLabelMid=He,ke.yLabelMax=He+De.height/2,ke.labelExtraX=0,ke.labelExtraY=0,Ae=!0}Te.fontSize=Be.size,n(ve.type,Te,re),ee[We].transform=Te,h.setTransormAndDisplay(Fe,Te)})});var Oe=p.select(this).selectAll("g.titletext").data(ve.title.text?[0]:[]);if(Oe.enter().append("g").classed("titletext",!0),Oe.exit().remove(),Oe.each(function(){var ke=h.ensureSingle(p.select(this),"text","",function(et){et.attr("data-notex",1)}),We=ve.title.text;ve._meta&&(We=h.templateString(We,ve._meta)),ke.text(We).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(w.font,ve.title.font).call(r.convertToTspans,Z);var rt;ve.title.position==="middle center"?rt=V(se):rt=_(se,le),ke.attr("transform",t(rt.x,rt.y)+g(Math.min(1,rt.scale))+t(rt.tx,rt.ty))}),Ae&&G(Ee,ve),d(be,ve),Ae&&ve.automargin){var Ue=w.bBox(ue.node()),Le=ve.domain,we=le.w*(Le.x[1]-Le.x[0]),Ce=le.h*(Le.y[1]-Le.y[0]),Ve=(.5*we-se.r)/le.w,Ne=(.5*Ce-se.r)/le.h;L.autoMargin(Z,"pie."+ve.uid+".automargin",{xl:Le.x[0]-Ve,xr:Le.x[1]+Ve,yb:Le.y[0]-Ne,yt:Le.y[1]+Ne,l:Math.max(se.cx-se.r-Ue.left,0),r:Math.max(Ue.right-(se.cx+se.r),0),b:Math.max(Ue.bottom-(se.cy+se.r),0),t:Math.max(se.cy-se.r-Ue.top,0),pad:5})}})});setTimeout(function(){te.selectAll("tspan").each(function(){var ee=p.select(this);ee.attr("dy")&&ee.attr("dy",ee.attr("dy"))})},0)}function d(Z,$){Z.each(function(K){var re=p.select(this);if(!K.labelExtraX&&!K.labelExtraY){re.select("path.textline").remove();return}var le=re.select("g.slicetext text");K.transform.targetX+=K.labelExtraX,K.transform.targetY+=K.labelExtraY,h.setTransormAndDisplay(le,K.transform);var te=K.cxFinal+K.pxmid[0],ee=K.cyFinal+K.pxmid[1],ue="M"+te+","+ee,se=(K.yLabelMax-K.yLabelMin)*(K.pxmid[0]<0?-1:1)/4;if(K.labelExtraX){var ve=K.labelExtraX*K.pxmid[1]/K.pxmid[0],be=K.yLabelMid+K.labelExtraY-(K.cyFinal+K.pxmid[1]);Math.abs(ve)>Math.abs(be)?ue+="l"+be*K.pxmid[0]/K.pxmid[1]+","+be+"H"+(te+K.labelExtraX+se):ue+="l"+K.labelExtraX+","+ve+"v"+(be-ve)+"h"+se}else ue+="V"+(K.yLabelMid+K.labelExtraY)+"h"+se;h.ensureSingle(re,"path","textline").call(C.stroke,$.outsidetextfont.color).attr({"stroke-width":Math.min(2,$.outsidetextfont.size/8),d:ue,fill:"none"})})}function u(Z,$,K){var re=K[0],le=re.cx,te=re.cy,ee=re.trace,ue=ee.type==="funnelarea";"_hasHoverLabel"in ee||(ee._hasHoverLabel=!1),"_hasHoverEvent"in ee||(ee._hasHoverEvent=!1),Z.on("mouseover",function(se){var ve=$._fullLayout,be=$._fullData[ee.index];if(!($._dragging||ve.hovermode===!1)){var Ee=be.hoverinfo;if(Array.isArray(Ee)&&(Ee=a.castHoverinfo({hoverinfo:[f.castOption(Ee,se.pts)],_module:ee._module},ve,0)),Ee==="all"&&(Ee="label+text+value+percent+name"),be.hovertemplate||Ee!=="none"&&Ee!=="skip"&&Ee){var Ae=se.rInscribed||0,Oe=le+se.pxmid[0]*(1-Ae),Ue=te+se.pxmid[1]*(1-Ae),Le=ve.separators,we=[];if(Ee&&Ee.indexOf("label")!==-1&&we.push(se.label),se.text=f.castOption(be.hovertext||be.text,se.pts),Ee&&Ee.indexOf("text")!==-1){var Ce=se.text;h.isValidTextValue(Ce)&&we.push(Ce)}se.value=se.v,se.valueLabel=f.formatPieValue(se.v,Le),Ee&&Ee.indexOf("value")!==-1&&we.push(se.valueLabel),se.percent=se.v/re.vTotal,se.percentLabel=f.formatPiePercent(se.percent,Le),Ee&&Ee.indexOf("percent")!==-1&&we.push(se.percentLabel);var Ve=be.hoverlabel,Ne=Ve.font,ke=[];a.loneHover({trace:ee,x0:Oe-Ae*re.r,x1:Oe+Ae*re.r,y:Ue,_x0:ue?le+se.TL[0]:Oe-Ae*re.r,_x1:ue?le+se.TR[0]:Oe+Ae*re.r,_y0:ue?te+se.TL[1]:Ue-Ae*re.r,_y1:ue?te+se.BL[1]:Ue+Ae*re.r,text:we.join("<br>"),name:be.hovertemplate||Ee.indexOf("name")!==-1?be.name:void 0,idealAlign:se.pxmid[0]<0?"left":"right",color:f.castOption(Ve.bgcolor,se.pts)||se.color,borderColor:f.castOption(Ve.bordercolor,se.pts),fontFamily:f.castOption(Ne.family,se.pts),fontSize:f.castOption(Ne.size,se.pts),fontColor:f.castOption(Ne.color,se.pts),nameLength:f.castOption(Ve.namelength,se.pts),textAlign:f.castOption(Ve.align,se.pts),hovertemplate:f.castOption(be.hovertemplate,se.pts),hovertemplateLabels:se,eventData:[m(se,be)]},{container:ve._hoverlayer.node(),outerContainer:ve._paper.node(),gd:$,inOut_bbox:ke}),se.bbox=ke[0],ee._hasHoverLabel=!0}ee._hasHoverEvent=!0,$.emit("plotly_hover",{points:[m(se,be)],event:p.event})}}),Z.on("mouseout",function(se){var ve=$._fullLayout,be=$._fullData[ee.index],Ee=p.select(this).datum();ee._hasHoverEvent&&(se.originalEvent=p.event,$.emit("plotly_unhover",{points:[m(Ee,be)],event:p.event}),ee._hasHoverEvent=!1),ee._hasHoverLabel&&(a.loneUnhover(ve._hoverlayer.node()),ee._hasHoverLabel=!1)}),Z.on("click",function(se){var ve=$._fullLayout,be=$._fullData[ee.index];$._dragging||ve.hovermode===!1||($._hoverdata=[m(se,be)],a.click($,p.event))})}function y(Z,$,K){var re=f.castOption(Z.outsidetextfont.color,$.pts)||f.castOption(Z.textfont.color,$.pts)||K.color,le=f.castOption(Z.outsidetextfont.family,$.pts)||f.castOption(Z.textfont.family,$.pts)||K.family,te=f.castOption(Z.outsidetextfont.size,$.pts)||f.castOption(Z.textfont.size,$.pts)||K.size;return{color:re,family:le,size:te}}function M(Z,$,K){var re=f.castOption(Z.insidetextfont.color,$.pts);!re&&Z._input.textfont&&(re=f.castOption(Z._input.textfont.color,$.pts));var le=f.castOption(Z.insidetextfont.family,$.pts)||f.castOption(Z.textfont.family,$.pts)||K.family,te=f.castOption(Z.insidetextfont.size,$.pts)||f.castOption(Z.textfont.size,$.pts)||K.size;return{color:re||C.contrast($.color),family:le,size:te}}function S(Z,$){for(var K,re,le=0;le<Z.length;le++)if(K=Z[le][0],re=K.trace,re.title.text){var te=re.title.text;re._meta&&(te=h.templateString(te,re._meta));var ee=w.tester.append("text").attr("data-notex",1).text(te).call(w.font,re.title.font).call(r.convertToTspans,$),ue=w.bBox(ee.node(),!0);K.titleBox={width:ue.width,height:ue.height},ee.remove()}}function R(Z,$,K){var re=K.r||$.rpx1,le=$.rInscribed,te=$.startangle===$.stopangle;if(te)return{rCenter:1-le,scale:0,rotate:0,textPosAngle:0};var ee=$.ring,ue=ee===1&&Math.abs($.startangle-$.stopangle)===Math.PI*2,se=$.halfangle,ve=$.midangle,be=K.trace.insidetextorientation,Ee=be==="horizontal",Ae=be==="tangential",Oe=be==="radial",Ue=be==="auto",Le=[],we;if(!Ue){var Ce=function(tt,at){if(x($,tt)){var ct=Math.abs(tt-$.startangle),dt=Math.abs(tt-$.stopangle),gt=ct<dt?ct:dt;at==="tan"?we=T(Z,re,ee,gt,0):we=E(Z,re,ee,gt,Math.PI/2),we.textPosAngle=tt,Le.push(we)}},Ve;if(Ee||Ae){for(Ve=4;Ve>=-4;Ve-=2)Ce(Math.PI*Ve,"tan");for(Ve=4;Ve>=-4;Ve-=2)Ce(Math.PI*(Ve+1),"tan")}if(Ee||Oe){for(Ve=4;Ve>=-4;Ve-=2)Ce(Math.PI*(Ve+1.5),"rad");for(Ve=4;Ve>=-4;Ve-=2)Ce(Math.PI*(Ve+.5),"rad")}}if(ue||Ue||Ee){var Ne=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if(we={scale:le*re*2/Ne,rCenter:1-le,rotate:0},we.textPosAngle=($.startangle+$.stopangle)/2,we.scale>=1)return we;Le.push(we)}(Ue||Oe)&&(we=E(Z,re,ee,se,ve),we.textPosAngle=($.startangle+$.stopangle)/2,Le.push(we)),(Ue||Ae)&&(we=T(Z,re,ee,se,ve),we.textPosAngle=($.startangle+$.stopangle)/2,Le.push(we));for(var ke=0,We=0,rt=0;rt<Le.length;rt++){var et=Le[rt].scale;if(We<et&&(We=et,ke=rt),!Ue&&We>=1)break}return Le[ke]}function x(Z,$){var K=Z.startangle,re=Z.stopangle;return K>$&&$>re||K<$&&$<re}function E(Z,$,K,re,le){$=Math.max(0,$-2*c);var te=Z.width/Z.height,ee=b(te,re,$,K);return{scale:ee*2/Z.height,rCenter:i(te,ee/$),rotate:D(le)}}function T(Z,$,K,re,le){$=Math.max(0,$-2*c);var te=Z.height/Z.width,ee=b(te,re,$,K);return{scale:ee*2/Z.width,rCenter:i(te,ee/$),rotate:D(le+Math.PI/2)}}function i(Z,$){return Math.cos($)-Z*$}function D(Z){return(180/Math.PI*Z+720)%180-90}function b(Z,$,K,re){var le=Z+1/(2*Math.tan($));return K*Math.min(1/(Math.sqrt(le*le+.5)+le),re/(Math.sqrt(Z*Z+re/2)+Z))}function O(Z,$){return Z.v===$.vTotal&&!$.trace.hole?1:Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2)}function F(Z,$){var K=$.pxmid[0],re=$.pxmid[1],le=Z.width/2,te=Z.height/2;return K<0&&(le*=-1),re<0&&(te*=-1),{scale:1,rCenter:1,rotate:0,x:le+Math.abs(te)*(le>0?1:-1)/2,y:te/(1+K*K/(re*re)),outside:!0}}function V(Z){var $=Math.sqrt(Z.titleBox.width*Z.titleBox.width+Z.titleBox.height*Z.titleBox.height);return{x:Z.cx,y:Z.cy,scale:Z.trace.hole*Z.r*2/$,tx:0,ty:-Z.titleBox.height/2+Z.trace.title.font.size}}function _(Z,$){var K=1,re=1,le,te=Z.trace,ee={x:Z.cx,y:Z.cy},ue={tx:0,ty:0};ue.ty+=te.title.font.size,le=z(te),te.title.position.indexOf("top")!==-1?(ee.y-=(1+le)*Z.r,ue.ty-=Z.titleBox.height):te.title.position.indexOf("bottom")!==-1&&(ee.y+=(1+le)*Z.r);var se=U(Z.r,Z.trace.aspectratio),ve=$.w*(te.domain.x[1]-te.domain.x[0])/2;return te.title.position.indexOf("left")!==-1?(ve=ve+se,ee.x-=(1+le)*se,ue.tx+=Z.titleBox.width/2):te.title.position.indexOf("center")!==-1?ve*=2:te.title.position.indexOf("right")!==-1&&(ve=ve+se,ee.x+=(1+le)*se,ue.tx-=Z.titleBox.width/2),K=ve/Z.titleBox.width,re=H(Z,$)/Z.titleBox.height,{x:ee.x,y:ee.y,scale:Math.min(K,re),tx:ue.tx,ty:ue.ty}}function U(Z,$){return Z/($===void 0?1:$)}function H(Z,$){var K=Z.trace,re=$.h*(K.domain.y[1]-K.domain.y[0]);return Math.min(Z.titleBox.height,re/2)}function z(Z){var $=Z.pull;if(!$)return 0;var K;if(Array.isArray($))for($=0,K=0;K<Z.pull.length;K++)Z.pull[K]>$&&($=Z.pull[K]);return $}function G(Z,$){var K,re,le,te,ee,ue,se,ve,be,Ee,Ae,Oe,Ue;function Le(Ne,ke){return Ne.pxmid[1]-ke.pxmid[1]}function we(Ne,ke){return ke.pxmid[1]-Ne.pxmid[1]}function Ce(Ne,ke){ke||(ke={});var We=ke.labelExtraY+(re?ke.yLabelMax:ke.yLabelMin),rt=re?Ne.yLabelMin:Ne.yLabelMax,et=re?Ne.yLabelMax:Ne.yLabelMin,tt=Ne.cyFinal+ee(Ne.px0[1],Ne.px1[1]),at=We-rt,ct,dt,gt,Et,Ct,Vt;if(at*se>0&&(Ne.labelExtraY=at),!!Array.isArray($.pull))for(dt=0;dt<Ee.length;dt++)gt=Ee[dt],!(gt===Ne||(f.castOption($.pull,Ne.pts)||0)>=(f.castOption($.pull,gt.pts)||0))&&((Ne.pxmid[1]-gt.pxmid[1])*se>0?(Et=gt.cyFinal+ee(gt.px0[1],gt.px1[1]),at=Et-rt-Ne.labelExtraY,at*se>0&&(Ne.labelExtraY+=at)):(et+Ne.labelExtraY-tt)*se>0&&(ct=3*ue*Math.abs(dt-Ee.indexOf(Ne)),Ct=gt.cxFinal+te(gt.px0[0],gt.px1[0]),Vt=Ct+ct-(Ne.cxFinal+Ne.pxmid[0])-Ne.labelExtraX,Vt*ue>0&&(Ne.labelExtraX+=Vt)))}for(re=0;re<2;re++)for(le=re?Le:we,ee=re?Math.max:Math.min,se=re?1:-1,K=0;K<2;K++){for(te=K?Math.max:Math.min,ue=K?1:-1,ve=Z[re][K],ve.sort(le),be=Z[1-re][K],Ee=be.concat(ve),Oe=[],Ae=0;Ae<ve.length;Ae++)ve[Ae].yLabelMid!==void 0&&Oe.push(ve[Ae]);for(Ue=!1,Ae=0;re&&Ae<be.length;Ae++)if(be[Ae].yLabelMid!==void 0){Ue=be[Ae];break}for(Ae=0;Ae<Oe.length;Ae++){var Ve=Ae&&Oe[Ae-1];Ue&&!Ae&&(Ve=Ue),Ce(Oe[Ae],Ve)}}}function Y(Z,$){for(var K=[],re=0;re<Z.length;re++){var le=Z[re][0],te=le.trace,ee=te.domain,ue=$.w*(ee.x[1]-ee.x[0]),se=$.h*(ee.y[1]-ee.y[0]);te.title.text&&te.title.position!=="middle center"&&(se-=H(le,$));var ve=ue/2,be=se/2;te.type==="funnelarea"&&!te.scalegroup&&(be/=te.aspectratio),le.r=Math.min(ve,be)/(1+z(te)),le.cx=$.l+$.w*(te.domain.x[1]+te.domain.x[0])/2,le.cy=$.t+$.h*(1-te.domain.y[0])-se/2,te.title.text&&te.title.position.indexOf("bottom")!==-1&&(le.cy-=H(le,$)),te.scalegroup&&K.indexOf(te.scalegroup)===-1&&K.push(te.scalegroup)}J(Z,K)}function J(Z,$){for(var K,re,le,te=0;te<$.length;te++){var ee=1/0,ue=$[te];for(re=0;re<Z.length;re++)if(K=Z[re][0],le=K.trace,le.scalegroup===ue){var se;if(le.type==="pie")se=K.r*K.r;else if(le.type==="funnelarea"){var ve,be;le.aspectratio>1?(ve=K.r,be=ve/le.aspectratio):(be=K.r,ve=be*le.aspectratio),ve*=(1+le.baseratio)/2,se=ve*be}ee=Math.min(ee,se/K.vTotal)}for(re=0;re<Z.length;re++)if(K=Z[re][0],le=K.trace,le.scalegroup===ue){var Ee=ee*K.vTotal;le.type==="funnelarea"&&(Ee/=(1+le.baseratio)/2,Ee/=le.aspectratio),K.r=Math.sqrt(Ee)}}}function ae(Z){var $=Z[0],K=$.r,re=$.trace,le=f.getRotationAngle(re.rotation),te=2*Math.PI/$.vTotal,ee="px0",ue="px1",se,ve,be;if(re.direction==="counterclockwise"){for(se=0;se<Z.length&&Z[se].hidden;se++);if(se===Z.length)return;le+=te*Z[se].v,te*=-1,ee="px1",ue="px0"}for(be=oe(K,le),se=0;se<Z.length;se++)ve=Z[se],!ve.hidden&&(ve[ee]=be,ve.startangle=le,le+=te*ve.v/2,ve.pxmid=oe(K,le),ve.midangle=le,le+=te*ve.v/2,be=oe(K,le),ve.stopangle=le,ve[ue]=be,ve.largeArc=ve.v>$.vTotal/2?1:0,ve.halfangle=Math.PI*Math.min(ve.v/$.vTotal,.5),ve.ring=1-re.hole,ve.rInscribed=O(ve,$))}function oe(Z,$){return[Z*Math.sin($),-Z*Math.cos($)]}function he(Z,$,K){var re=Z._fullLayout,le=K.trace,te=le.texttemplate,ee=le.textinfo;if(!te&&ee&&ee!=="none"){var ue=ee.split("+"),se=function(ke){return ue.indexOf(ke)!==-1},ve=se("label"),be=se("text"),Ee=se("value"),Ae=se("percent"),Oe=re.separators,Ue;if(Ue=ve?[$.label]:[],be){var Le=f.getFirstFilled(le.text,$.pts);v(Le)&&Ue.push(Le)}Ee&&Ue.push(f.formatPieValue($.v,Oe)),Ae&&Ue.push(f.formatPiePercent($.v/K.vTotal,Oe)),$.text=Ue.join("<br>")}function we(ke){return{label:ke.label,value:ke.v,valueLabel:f.formatPieValue(ke.v,re.separators),percent:ke.v/K.vTotal,percentLabel:f.formatPiePercent(ke.v/K.vTotal,re.separators),color:ke.color,text:ke.text,customdata:h.castOption(le,ke.i,"customdata")}}if(te){var Ce=h.castOption(le,$.i,"texttemplate");if(!Ce)$.text="";else{var Ve=we($),Ne=f.getFirstFilled(le.text,$.pts);(v(Ne)||Ne==="")&&(Ve.text=Ne),$.text=h.texttemplateString(Ce,Ve,Z._fullLayout._d3locale,Ve,le._meta||{})}}}function q(Z,$){var K=Z.rotate*Math.PI/180,re=Math.cos(K),le=Math.sin(K),te=($.left+$.right)/2,ee=($.top+$.bottom)/2;Z.textX=te*re-ee*le,Z.textY=te*le+ee*re,Z.noCenter=!0}B.exports={plot:A,formatSliceLabel:he,transformInsideText:R,determineInsideTextFont:M,positionTitleOutside:_,prerenderTitles:S,layoutAreas:Y,attachFxHandlers:u,computeTransform:q}},68357:function(B,N,e){var p=e(39898),L=e(63463),a=e(72597).resizeText;B.exports=function(w){var h=w._fullLayout._pielayer.selectAll(".trace");a(w,h,"pie"),h.each(function(g){var t=g[0],r=t.trace,s=p.select(this);s.style({opacity:r.opacity}),s.selectAll("path.surface").each(function(n){p.select(this).call(L,n,r,w)})})}},63463:function(B,N,e){var p=e(7901),L=e(53581).castOption,a=e(22209);B.exports=function(w,h,g,t){var r=g.marker.line,s=L(r.color,h.pts)||p.defaultLine,n=L(r.width,h.pts)||0;w.call(a,h,g,t).style("stroke-width",n).call(p.stroke,s)}},10959:function(B,N,e){var p=e(82196);B.exports={x:p.x,y:p.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:p.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(B,N,e){var p=e(9330).gl_pointcloud2d,L=e(78614),a=e(71739).findExtremes,C=e(34603);function w(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=p(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var h=w.prototype;h.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},h.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=C(t,{})},h.updateFast=function(t){var r=this.xData=this.pickXData=t.x,s=this.yData=this.pickYData=t.y,n=this.pickXYData=t.xy,l=t.xbounds&&t.ybounds,c=t.indices,f,m,v,A=this.bounds,d,u,y;if(n){if(v=n,f=n.length>>>1,l)A[0]=t.xbounds[0],A[2]=t.xbounds[1],A[1]=t.ybounds[0],A[3]=t.ybounds[1];else for(y=0;y<f;y++)d=v[y*2],u=v[y*2+1],d<A[0]&&(A[0]=d),d>A[2]&&(A[2]=d),u<A[1]&&(A[1]=u),u>A[3]&&(A[3]=u);if(c)m=c;else for(m=new Int32Array(f),y=0;y<f;y++)m[y]=y}else for(f=r.length,v=new Float32Array(2*f),m=new Int32Array(f),y=0;y<f;y++)d=r[y],u=s[y],m[y]=y,v[y*2]=d,v[y*2+1]=u,d<A[0]&&(A[0]=d),d>A[2]&&(A[2]=d),u<A[1]&&(A[1]=u),u>A[3]&&(A[3]=u);this.idToIndex=m,this.pointcloudOptions.idToIndex=m,this.pointcloudOptions.positions=v;var M=L(t.marker.color),S=L(t.marker.border.color),R=t.opacity*t.marker.opacity;M[3]*=R,this.pointcloudOptions.color=M;var x=t.marker.blend;if(x===null){var E=100;x=r.length<E||s.length<E}this.pointcloudOptions.blend=x,S[3]*=R,this.pointcloudOptions.borderColor=S;var T=t.marker.sizemin,i=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=T,this.pointcloudOptions.sizeMax=i,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var D=this.scene.xaxis,b=this.scene.yaxis,O=i/2||.5;t._extremes[D._id]=a(D,[A[0],A[2]],{ppad:O}),t._extremes[b._id]=a(b,[A[1],A[3]],{ppad:O})},h.dispose=function(){this.pointcloud.dispose()};function g(t,r){var s=new w(t,r.uid);return s.update(r),s}B.exports=g},33876:function(B,N,e){var p=e(71828),L=e(10959);B.exports=function(C,w,h){function g(t,r){return p.coerce(C,w,L,t,r)}g("x"),g("y"),g("xbounds"),g("ybounds"),C.xy&&C.xy instanceof Float32Array&&(w.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(w.indices=C.indices),g("text"),g("marker.color",h),g("marker.opacity"),g("marker.blend"),g("marker.sizemin"),g("marker.sizemax"),g("marker.border.color",h),g("marker.border.arearatio"),w._length=null}},20593:function(B,N,e){B.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(B,N,e){var p=e(41940),L=e(9012),a=e(22399),C=e(77914),w=e(27670).Y,h=e(5386).fF,g=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,s=e(1426).extendFlat,n=e(30962).overrideAll,l=B.exports=n({hoverinfo:s({},L.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:w({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:p({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:h({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:h({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:s(g().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");l.transforms=void 0},75536:function(B,N,e){var p=e(30962).overrideAll,L=e(27659).a0,a=e(60436),C=e(528),w=e(6964),h=e(28569),g=e(47322).prepSelect,t=e(71828),r=e(73972),s="sankey";N.name=s,N.baseLayoutAttrOverrides=p({hoverlabel:C.hoverlabel},"plot","nested"),N.plot=function(l){var c=L(l.calcdata,s)[0];a(l,c),N.updateFx(l)},N.clean=function(l,c,f,m){var v=m._has&&m._has(s),A=c._has&&c._has(s);v&&!A&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},N.updateFx=function(l){for(var c=0;c<l._fullData.length;c++)n(l,c)};function n(l,c){var f=l._fullData[c],m=l._fullLayout,v=m.dragmode,A=m.dragmode==="pan"?"move":"crosshair",d=f._bgRect;if(d&&!(v==="pan"||v==="zoom")){w(d,A);var u={_id:"x",c2p:t.identity,_offset:f._sankey.translateX,_length:f._sankey.width},y={_id:"y",c2p:t.identity,_offset:f._sankey.translateY,_length:f._sankey.height},M={gd:l,element:d.node(),plotinfo:{id:c,xaxis:u,yaxis:y,fillRangeItems:t.noop},subplot:c,xaxes:[u],yaxes:[y],doneFnCompleted:function(S){var R=l._fullData[c],x,E=R.node.groups.slice(),T=[];function i(F){for(var V=R._sankey.graph.nodes,_=0;_<V.length;_++)if(V[_].pointNumber===F)return V[_]}for(var D=0;D<S.length;D++){var b=i(S[D].pointNumber);if(b)if(b.group){for(var O=0;O<b.childrenNodes.length;O++)T.push(b.childrenNodes[O].pointNumber);E[b.pointNumber-R.node._count]=!1}else T.push(b.pointNumber)}x=E.filter(Boolean).concat([T]),r.call("_guiRestyle",l,{"node.groups":[x]},c)}};M.prepFn=function(S,R,x){g(S,R,x,M,v)},h.init(M)}}},92930:function(B,N,e){var p=e(68664),L=e(71828),a=e(28984).wrap,C=L.isArrayOrTypedArray,w=L.isIndex,h=e(21081);function g(r){var s=r.node,n=r.link,l=[],c=C(n.color),f=C(n.customdata),m={},v={},A=n.colorscales.length,d;for(d=0;d<A;d++){var u=n.colorscales[d],y=h.extractScale(u,{cLetter:"c"}),M=h.makeColorScaleFunc(y);v[u.label]=M}var S=0;for(d=0;d<n.value.length;d++)n.source[d]>S&&(S=n.source[d]),n.target[d]>S&&(S=n.target[d]);var R=S+1;r.node._count=R;var x,E=r.node.groups,T={};for(d=0;d<E.length;d++){var i=E[d];for(x=0;x<i.length;x++){var D=i[x],b=R+d;T.hasOwnProperty(D)?L.warn("Node "+D+" is already part of a group."):T[D]=b}}var O={source:[],target:[]};for(d=0;d<n.value.length;d++){var F=n.value[d],V=n.source[d],_=n.target[d];if(F>0&&w(V,R)&&w(_,R)&&!(T.hasOwnProperty(V)&&T.hasOwnProperty(_)&&T[V]===T[_])){T.hasOwnProperty(_)&&(_=T[_]),T.hasOwnProperty(V)&&(V=T[V]),V=+V,_=+_,m[V]=m[_]=!0;var U="";n.label&&n.label[d]&&(U=n.label[d]);var H=null;U&&v.hasOwnProperty(U)&&(H=v[U]),l.push({pointNumber:d,label:U,color:c?n.color[d]:n.color,customdata:f?n.customdata[d]:n.customdata,concentrationscale:H,source:V,target:_,value:+F}),O.source.push(V),O.target.push(_)}}var z=R+E.length,G=C(s.color),Y=C(s.customdata),J=[];for(d=0;d<z;d++)if(m[d]){var ae=s.label[d];J.push({group:d>R-1,childrenNodes:[],pointNumber:d,label:ae,color:G?s.color[d]:s.color,customdata:Y?s.customdata[d]:s.customdata})}var oe=!1;return t(z,O.source,O.target)&&(oe=!0),{circular:oe,links:l,nodes:J,groups:E,groupLookup:T}}function t(r,s,n){for(var l=L.init2dArray(r,0),c=0;c<Math.min(s.length,n.length);c++)if(L.isIndex(s[c],r)&&L.isIndex(n[c],r)){if(s[c]===n[c])return!0;l[s[c]].push(n[c])}var f=p(l);return f.components.some(function(m){return m.length>1})}B.exports=function(s,n){var l=g(n);return a({circular:l.circular,_nodes:l.nodes,_links:l.links,_groups:l.groups,_groupLookup:l.groupLookup})}},85247:function(B){B.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(B,N,e){var p=e(71828),L=e(39953),a=e(7901),C=e(84267),w=e(27670).c,h=e(38048),g=e(44467),t=e(85501);B.exports=function(n,l,c,f){function m(i,D){return p.coerce(n,l,L,i,D)}var v=p.extendDeep(f.hoverlabel,n.hoverlabel),A=n.node,d=g.newContainer(l,"node");function u(i,D){return p.coerce(A,d,L.node,i,D)}u("label"),u("groups"),u("x"),u("y"),u("pad"),u("thickness"),u("line.color"),u("line.width"),u("hoverinfo",n.hoverinfo),h(A,d,u,v),u("hovertemplate");var y=f.colorway,M=function(i){return y[i%y.length]};u("color",d.label.map(function(i,D){return a.addOpacity(M(D),.8)})),u("customdata");var S=n.link||{},R=g.newContainer(l,"link");function x(i,D){return p.coerce(S,R,L.link,i,D)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",n.hoverinfo),h(S,R,x,v),x("hovertemplate");var E=C(f.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";x("color",p.repeat(E,R.value.length)),x("customdata"),t(S,R,{name:"colorscales",handleItemDefaults:r}),w(l,f,m),m("orientation"),m("valueformat"),m("valuesuffix");var T;d.x.length&&d.y.length&&(T="freeform"),m("arrangement",T),p.coerceFont(m,"textfont",p.extendFlat({},f.font)),l._length=null};function r(s,n){function l(c,f){return p.coerce(s,n,L.link.colorscales,c,f)}l("label"),l("cmin"),l("cmax"),l("colorscale")}},29396:function(B,N,e){B.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(B,N,e){var p=e(39898),L=e(71828),a=L.numberFormat,C=e(3393),w=e(30211),h=e(7901),g=e(85247).cn,t=L._;function r(y){return y!==""}function s(y,M){return y.filter(function(S){return S.key===M.traceId})}function n(y,M){p.select(y).select("path").style("fill-opacity",M),p.select(y).select("rect").style("fill-opacity",M)}function l(y){p.select(y).select("text.name").style("fill","black")}function c(y){return function(M){return y.node.sourceLinks.indexOf(M.link)!==-1||y.node.targetLinks.indexOf(M.link)!==-1}}function f(y){return function(M){return M.node.sourceLinks.indexOf(y.link)!==-1||M.node.targetLinks.indexOf(y.link)!==-1}}function m(y,M,S){M&&S&&s(S,M).selectAll("."+g.sankeyLink).filter(c(M)).call(A.bind(0,M,S,!1))}function v(y,M,S){M&&S&&s(S,M).selectAll("."+g.sankeyLink).filter(c(M)).call(d.bind(0,M,S,!1))}function A(y,M,S,R){var x=R.datum().link.label;R.style("fill-opacity",function(E){if(!E.link.concentrationscale)return .4}),x&&s(M,y).selectAll("."+g.sankeyLink).filter(function(E){return E.link.label===x}).style("fill-opacity",function(E){if(!E.link.concentrationscale)return .4}),S&&s(M,y).selectAll("."+g.sankeyNode).filter(f(y)).call(m)}function d(y,M,S,R){var x=R.datum().link.label;R.style("fill-opacity",function(E){return E.tinyColorAlpha}),x&&s(M,y).selectAll("."+g.sankeyLink).filter(function(E){return E.link.label===x}).style("fill-opacity",function(E){return E.tinyColorAlpha}),S&&s(M,y).selectAll(g.sankeyNode).filter(f(y)).call(v)}function u(y,M){var S=y.hoverlabel||{},R=L.nestedProperty(S,M).get();return Array.isArray(R)?!1:R}B.exports=function(M,S){for(var R=M._fullLayout,x=R._paper,E=R._size,T=0;T<M._fullData.length;T++)if(M._fullData[T].visible&&M._fullData[T].type===g.sankey&&!M._fullData[T]._viewInitial){var i=M._fullData[T].node;M._fullData[T]._viewInitial={node:{groups:i.groups.slice(),x:i.x.slice(),y:i.y.slice()}}}var D=function(oe,he){var q=he.link;q.originalEvent=p.event,M._hoverdata=[q],w.click(M,{target:!0})},b=function(oe,he,q){M._fullLayout.hovermode!==!1&&(p.select(oe).call(A.bind(0,he,q,!0)),he.link.trace.link.hoverinfo!=="skip"&&(he.link.fullData=he.link.trace,M.emit("plotly_hover",{event:p.event,points:[he.link]})))},O=t(M,"source:")+" ",F=t(M,"target:")+" ",V=t(M,"concentration:")+" ",_=t(M,"incoming flow count:")+" ",U=t(M,"outgoing flow count:")+" ",H=function(oe,he){if(M._fullLayout.hovermode===!1)return;var q=he.link.trace.link;if(q.hoverinfo==="none"||q.hoverinfo==="skip")return;var Z=[];function $(se){var ve,be;se.circular?(ve=(se.circularPathData.leftInnerExtent+se.circularPathData.rightInnerExtent)/2,be=se.circularPathData.verticalFullExtent):(ve=(se.source.x1+se.target.x0)/2,be=(se.y0+se.y1)/2);var Ee=[ve,be];return se.trace.orientation==="v"&&Ee.reverse(),Ee[0]+=he.parent.translateX,Ee[1]+=he.parent.translateY,Ee}for(var K=0,re=0;re<he.flow.links.length;re++){var le=he.flow.links[re];if(!(M._fullLayout.hovermode==="closest"&&he.link.pointNumber!==le.pointNumber)){he.link.pointNumber===le.pointNumber&&(K=re),le.fullData=le.trace,q=he.link.trace.link;var te=$(le),ee={valueLabel:a(he.valueFormat)(le.value)+he.valueSuffix};Z.push({x:te[0],y:te[1],name:ee.valueLabel,text:[le.label||"",O+le.source.label,F+le.target.label,le.concentrationscale?V+a("%0.2f")(le.flow.labelConcentration):""].filter(r).join("<br>"),color:u(q,"bgcolor")||h.addOpacity(le.color,1),borderColor:u(q,"bordercolor"),fontFamily:u(q,"font.family"),fontSize:u(q,"font.size"),fontColor:u(q,"font.color"),nameLength:u(q,"namelength"),textAlign:u(q,"align"),idealAlign:p.event.x<te[0]?"right":"left",hovertemplate:q.hovertemplate,hovertemplateLabels:ee,eventData:[le]})}}var ue=w.loneHover(Z,{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:M,anchorIndex:K});ue.each(function(){var se=this;he.link.concentrationscale||n(se,.65),l(se)})},z=function(oe,he,q){M._fullLayout.hovermode!==!1&&(p.select(oe).call(d.bind(0,he,q,!0)),he.link.trace.link.hoverinfo!=="skip"&&(he.link.fullData=he.link.trace,M.emit("plotly_unhover",{event:p.event,points:[he.link]})),w.loneUnhover(R._hoverlayer.node()))},G=function(oe,he,q){var Z=he.node;Z.originalEvent=p.event,M._hoverdata=[Z],p.select(oe).call(v,he,q),w.click(M,{target:!0})},Y=function(oe,he,q){M._fullLayout.hovermode!==!1&&(p.select(oe).call(m,he,q),he.node.trace.node.hoverinfo!=="skip"&&(he.node.fullData=he.node.trace,M.emit("plotly_hover",{event:p.event,points:[he.node]})))},J=function(oe,he){if(M._fullLayout.hovermode!==!1){var q=he.node.trace.node;if(!(q.hoverinfo==="none"||q.hoverinfo==="skip")){var Z=p.select(oe).select("."+g.nodeRect),$=M._fullLayout._paperdiv.node().getBoundingClientRect(),K=Z.node().getBoundingClientRect(),re=K.left-2-$.left,le=K.right+2-$.left,te=K.top+K.height/4-$.top,ee={valueLabel:a(he.valueFormat)(he.node.value)+he.valueSuffix};he.node.fullData=he.node.trace,M._fullLayout._calcInverseTransform(M);var ue=M._fullLayout._invScaleX,se=M._fullLayout._invScaleY,ve=w.loneHover({x0:ue*re,x1:ue*le,y:se*te,name:a(he.valueFormat)(he.node.value)+he.valueSuffix,text:[he.node.label,_+he.node.targetLinks.length,U+he.node.sourceLinks.length].filter(r).join("<br>"),color:u(q,"bgcolor")||he.tinyColorHue,borderColor:u(q,"bordercolor"),fontFamily:u(q,"font.family"),fontSize:u(q,"font.size"),fontColor:u(q,"font.color"),nameLength:u(q,"namelength"),textAlign:u(q,"align"),idealAlign:"left",hovertemplate:q.hovertemplate,hovertemplateLabels:ee,eventData:[he.node]},{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:M});n(ve,.85),l(ve)}}},ae=function(oe,he,q){M._fullLayout.hovermode!==!1&&(p.select(oe).call(v,he,q),he.node.trace.node.hoverinfo!=="skip"&&(he.node.fullData=he.node.trace,M.emit("plotly_unhover",{event:p.event,points:[he.node]})),w.loneUnhover(R._hoverlayer.node()))};C(M,x,S,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:b,follow:H,unhover:z,select:D},nodeEvents:{hover:Y,follow:J,unhover:ae,select:G}})}},3393:function(B,N,e){var p=e(49887),L=e(81684).k4,a=e(39898),C=e(30838),w=e(86781),h=e(85247),g=e(84267),t=e(7901),r=e(91424),s=e(71828),n=s.strTranslate,l=s.strRotate,c=e(28984),f=c.keyFun,m=c.repeat,v=c.unwrap,A=e(63893),d=e(73972),u=e(18783),y=u.CAP_SHIFT,M=u.LINE_SPACING,S=3;function R($,K,re){var le=v(K),te=le.trace,ee=te.domain,ue=te.orientation==="h",se=te.node.pad,ve=te.node.thickness,be=$.width*(ee.x[1]-ee.x[0]),Ee=$.height*(ee.y[1]-ee.y[0]),Ae=le._nodes,Oe=le._links,Ue=le.circular,Le;Ue?Le=w.sankeyCircular().circularLinkGap(0):Le=C.sankey(),Le.iterations(h.sankeyIterations).size(ue?[be,Ee]:[Ee,be]).nodeWidth(ve).nodePadding(se).nodeId(function(Ct){return Ct.pointNumber}).nodes(Ae).links(Oe);var we=Le();Le.nodePadding()<se&&s.warn("node.pad was reduced to ",Le.nodePadding()," to fit within the figure.");var Ce,Ve,Ne;for(var ke in le._groupLookup){var We=parseInt(le._groupLookup[ke]),rt;for(Ce=0;Ce<we.nodes.length;Ce++)if(we.nodes[Ce].pointNumber===We){rt=we.nodes[Ce];break}if(rt){var et={pointNumber:parseInt(ke),x0:rt.x0,x1:rt.x1,y0:rt.y0,y1:rt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};we.nodes.unshift(et),rt.childrenNodes.unshift(et)}}function tt(){for(Ce=0;Ce<we.nodes.length;Ce++){var Ct=we.nodes[Ce],Vt={},Je,_e;for(Ve=0;Ve<Ct.targetLinks.length;Ve++)_e=Ct.targetLinks[Ve],Je=_e.source.pointNumber+":"+_e.target.pointNumber,Vt.hasOwnProperty(Je)||(Vt[Je]=[]),Vt[Je].push(_e);var Fe=Object.keys(Vt);for(Ve=0;Ve<Fe.length;Ve++){Je=Fe[Ve];var Be=Vt[Je],De=0,Te={};for(Ne=0;Ne<Be.length;Ne++)_e=Be[Ne],Te[_e.label]||(Te[_e.label]=0),Te[_e.label]+=_e.value,De+=_e.value;for(Ne=0;Ne<Be.length;Ne++)_e=Be[Ne],_e.flow={value:De,labelConcentration:Te[_e.label]/De,concentration:_e.value/De,links:Be},_e.concentrationscale&&(_e.color=g(_e.concentrationscale(_e.flow.labelConcentration)))}var xe=0;for(Ve=0;Ve<Ct.sourceLinks.length;Ve++)xe+=Ct.sourceLinks[Ve].value;for(Ve=0;Ve<Ct.sourceLinks.length;Ve++)_e=Ct.sourceLinks[Ve],_e.concentrationOut=_e.value/xe;var Me=0;for(Ve=0;Ve<Ct.targetLinks.length;Ve++)Me+=Ct.targetLinks[Ve].value;for(Ve=0;Ve<Ct.targetLinks.length;Ve++)_e=Ct.targetLinks[Ve],_e.concenrationIn=_e.value/Me}}tt();function at(Ct){Ct.forEach(function(Vt){var Je,_e,Fe=0,Be=Vt.length,De;for(Vt.sort(function(Te,xe){return Te.y0-xe.y0}),De=0;De<Be;++De)Je=Vt[De],Je.y0>=Fe||(_e=Fe-Je.y0,_e>1e-6&&(Je.y0+=_e,Je.y1+=_e)),Fe=Je.y1+se})}function ct(Ct){var Vt=Ct.map(function(xe,Me){return{x0:xe.x0,index:Me}}).sort(function(xe,Me){return xe.x0-Me.x0}),Je=[],_e=-1,Fe,Be=-1/0,De;for(Ce=0;Ce<Vt.length;Ce++){var Te=Ct[Vt[Ce].index];Te.x0>Be+ve&&(_e+=1,Fe=Te.x0),Be=Te.x0,Je[_e]||(Je[_e]=[]),Je[_e].push(Te),De=Fe-Te.x0,Te.x0+=De,Te.x1+=De}return Je}if(te.node.x.length&&te.node.y.length){for(Ce=0;Ce<Math.min(te.node.x.length,te.node.y.length,we.nodes.length);Ce++)if(te.node.x[Ce]&&te.node.y[Ce]){var dt=[te.node.x[Ce]*be,te.node.y[Ce]*Ee];we.nodes[Ce].x0=dt[0]-ve/2,we.nodes[Ce].x1=dt[0]+ve/2;var gt=we.nodes[Ce].y1-we.nodes[Ce].y0;we.nodes[Ce].y0=dt[1]-gt/2,we.nodes[Ce].y1=dt[1]+gt/2}if(te.arrangement==="snap"){Ae=we.nodes;var Et=ct(Ae);at(Et)}Le.update(we)}return{circular:Ue,key:re,trace:te,guid:s.randstr(),horizontal:ue,width:be,height:Ee,nodePad:te.node.pad,nodeLineColor:te.node.line.color,nodeLineWidth:te.node.line.width,linkLineColor:te.link.line.color,linkLineWidth:te.link.line.width,linkArrowLength:te.link.arrowlen,valueFormat:te.valueformat,valueSuffix:te.valuesuffix,textFont:te.textfont,translateX:ee.x[0]*$.width+$.margin.l,translateY:$.height-ee.y[1]*$.height+$.margin.t,dragParallel:ue?Ee:be,dragPerpendicular:ue?be:Ee,arrangement:te.arrangement,sankey:Le,graph:we,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function x($,K,re){var le=g(K.color),te=K.source.label+"|"+K.target.label,ee=te+"__"+re;return K.trace=$.trace,K.curveNumber=$.trace.index,{circular:$.circular,key:ee,traceId:$.key,pointNumber:K.pointNumber,link:K,tinyColorHue:t.tinyRGB(le),tinyColorAlpha:le.getAlpha(),linkPath:T,linkLineColor:$.linkLineColor,linkLineWidth:$.linkLineWidth,linkArrowLength:$.linkArrowLength,valueFormat:$.valueFormat,valueSuffix:$.valueSuffix,sankey:$.sankey,parent:$,interactionState:$.interactionState,flow:K.flow}}function E($,K){var re="",le=$.width/2,te=$.circularPathData;return $.circularLinkType==="top"?re="M "+(te.targetX-K)+" "+(te.targetY+le)+" L"+(te.rightInnerExtent-K)+" "+(te.targetY+le)+"A"+(te.rightLargeArcRadius+le)+" "+(te.rightSmallArcRadius+le)+" 0 0 1 "+(te.rightFullExtent-le-K)+" "+(te.targetY-te.rightSmallArcRadius)+"L"+(te.rightFullExtent-le-K)+" "+te.verticalRightInnerExtent+"A"+(te.rightLargeArcRadius+le)+" "+(te.rightLargeArcRadius+le)+" 0 0 1 "+(te.rightInnerExtent-K)+" "+(te.verticalFullExtent-le)+"L"+te.leftInnerExtent+" "+(te.verticalFullExtent-le)+"A"+(te.leftLargeArcRadius+le)+" "+(te.leftLargeArcRadius+le)+" 0 0 1 "+(te.leftFullExtent+le)+" "+te.verticalLeftInnerExtent+"L"+(te.leftFullExtent+le)+" "+(te.sourceY-te.leftSmallArcRadius)+"A"+(te.leftLargeArcRadius+le)+" "+(te.leftSmallArcRadius+le)+" 0 0 1 "+te.leftInnerExtent+" "+(te.sourceY+le)+"L"+te.sourceX+" "+(te.sourceY+le)+"L"+te.sourceX+" "+(te.sourceY-le)+"L"+te.leftInnerExtent+" "+(te.sourceY-le)+"A"+(te.leftLargeArcRadius-le)+" "+(te.leftSmallArcRadius-le)+" 0 0 0 "+(te.leftFullExtent-le)+" "+(te.sourceY-te.leftSmallArcRadius)+"L"+(te.leftFullExtent-le)+" "+te.verticalLeftInnerExtent+"A"+(te.leftLargeArcRadius-le)+" "+(te.leftLargeArcRadius-le)+" 0 0 0 "+te.leftInnerExtent+" "+(te.verticalFullExtent+le)+"L"+(te.rightInnerExtent-K)+" "+(te.verticalFullExtent+le)+"A"+(te.rightLargeArcRadius-le)+" "+(te.rightLargeArcRadius-le)+" 0 0 0 "+(te.rightFullExtent+le-K)+" "+te.verticalRightInnerExtent+"L"+(te.rightFullExtent+le-K)+" "+(te.targetY-te.rightSmallArcRadius)+"A"+(te.rightLargeArcRadius-le)+" "+(te.rightSmallArcRadius-le)+" 0 0 0 "+(te.rightInnerExtent-K)+" "+(te.targetY-le)+"L"+(te.targetX-K)+" "+(te.targetY-le)+(K>0?"L"+te.targetX+" "+te.targetY:"")+"Z":re="M "+(te.targetX-K)+" "+(te.targetY-le)+" L"+(te.rightInnerExtent-K)+" "+(te.targetY-le)+"A"+(te.rightLargeArcRadius+le)+" "+(te.rightSmallArcRadius+le)+" 0 0 0 "+(te.rightFullExtent-le-K)+" "+(te.targetY+te.rightSmallArcRadius)+"L"+(te.rightFullExtent-le-K)+" "+te.verticalRightInnerExtent+"A"+(te.rightLargeArcRadius+le)+" "+(te.rightLargeArcRadius+le)+" 0 0 0 "+(te.rightInnerExtent-K)+" "+(te.verticalFullExtent+le)+"L"+te.leftInnerExtent+" "+(te.verticalFullExtent+le)+"A"+(te.leftLargeArcRadius+le)+" "+(te.leftLargeArcRadius+le)+" 0 0 0 "+(te.leftFullExtent+le)+" "+te.verticalLeftInnerExtent+"L"+(te.leftFullExtent+le)+" "+(te.sourceY+te.leftSmallArcRadius)+"A"+(te.leftLargeArcRadius+le)+" "+(te.leftSmallArcRadius+le)+" 0 0 0 "+te.leftInnerExtent+" "+(te.sourceY-le)+"L"+te.sourceX+" "+(te.sourceY-le)+"L"+te.sourceX+" "+(te.sourceY+le)+"L"+te.leftInnerExtent+" "+(te.sourceY+le)+"A"+(te.leftLargeArcRadius-le)+" "+(te.leftSmallArcRadius-le)+" 0 0 1 "+(te.leftFullExtent-le)+" "+(te.sourceY+te.leftSmallArcRadius)+"L"+(te.leftFullExtent-le)+" "+te.verticalLeftInnerExtent+"A"+(te.leftLargeArcRadius-le)+" "+(te.leftLargeArcRadius-le)+" 0 0 1 "+te.leftInnerExtent+" "+(te.verticalFullExtent-le)+"L"+(te.rightInnerExtent-K)+" "+(te.verticalFullExtent-le)+"A"+(te.rightLargeArcRadius-le)+" "+(te.rightLargeArcRadius-le)+" 0 0 1 "+(te.rightFullExtent+le-K)+" "+te.verticalRightInnerExtent+"L"+(te.rightFullExtent+le-K)+" "+(te.targetY+te.rightSmallArcRadius)+"A"+(te.rightLargeArcRadius-le)+" "+(te.rightSmallArcRadius-le)+" 0 0 1 "+(te.rightInnerExtent-K)+" "+(te.targetY+le)+"L"+(te.targetX-K)+" "+(te.targetY+le)+(K>0?"L"+te.targetX+" "+te.targetY:"")+"Z",re}function T(){var $=.5;function K(re){var le=re.linkArrowLength;if(re.link.circular)return E(re.link,le);var te=Math.abs((re.link.target.x0-re.link.source.x1)/2);le>te&&(le=te);var ee=re.link.source.x1,ue=re.link.target.x0-le,se=L(ee,ue),ve=se($),be=se(1-$),Ee=re.link.y0-re.link.width/2,Ae=re.link.y0+re.link.width/2,Oe=re.link.y1-re.link.width/2,Ue=re.link.y1+re.link.width/2,Le="M"+ee+","+Ee,we="C"+ve+","+Ee+" "+be+","+Oe+" "+ue+","+Oe,Ce="C"+be+","+Ue+" "+ve+","+Ae+" "+ee+","+Ae,Ve=le>0?"L"+(ue+le)+","+(Oe+re.link.width/2):"";return Ve+="L"+ue+","+Ue,Le+we+Ve+Ce+"Z"}return K}function i($,K){var re=g(K.color),le=h.nodePadAcross,te=$.nodePad/2;K.dx=K.x1-K.x0,K.dy=K.y1-K.y0;var ee=K.dx,ue=Math.max(.5,K.dy),se="node_"+K.pointNumber;return K.group&&(se=s.randstr()),K.trace=$.trace,K.curveNumber=$.trace.index,{index:K.pointNumber,key:se,partOfGroup:K.partOfGroup||!1,group:K.group,traceId:$.key,trace:$.trace,node:K,nodePad:$.nodePad,nodeLineColor:$.nodeLineColor,nodeLineWidth:$.nodeLineWidth,textFont:$.textFont,size:$.horizontal?$.height:$.width,visibleWidth:Math.ceil(ee),visibleHeight:ue,zoneX:-le,zoneY:-te,zoneWidth:ee+2*le,zoneHeight:ue+2*te,labelY:$.horizontal?K.dy/2+1:K.dx/2+1,left:K.originalLayer===1,sizeAcross:$.width,forceLayouts:$.forceLayouts,horizontal:$.horizontal,darkBackground:re.getBrightness()<=128,tinyColorHue:t.tinyRGB(re),tinyColorAlpha:re.getAlpha(),valueFormat:$.valueFormat,valueSuffix:$.valueSuffix,sankey:$.sankey,graph:$.graph,arrangement:$.arrangement,uniqueNodeLabelPathId:[$.guid,$.key,se].join("_"),interactionState:$.interactionState,figure:$}}function D($){$.attr("transform",function(K){return n(K.node.x0.toFixed(3),K.node.y0.toFixed(3))})}function b($){$.call(D)}function O($,K){$.call(b),K.attr("d",T())}function F($){$.attr("width",function(K){return K.node.x1-K.node.x0}).attr("height",function(K){return K.visibleHeight})}function V($){return $.link.width>1||$.linkLineWidth>0}function _($){var K=n($.translateX,$.translateY);return K+($.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function U($,K,re){$.on(".basic",null).on("mouseover.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(re.hover(this,le,K),le.interactionState.hovered=[this,le])}).on("mousemove.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(re.follow(this,le),le.interactionState.hovered=[this,le])}).on("mouseout.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(re.unhover(this,le,K),le.interactionState.hovered=!1)}).on("click.basic",function(le){le.interactionState.hovered&&(re.unhover(this,le,K),le.interactionState.hovered=!1),!le.interactionState.dragInProgress&&!le.partOfGroup&&re.select(this,le,K)})}function H($,K,re,le){var te=a.behavior.drag().origin(function(ee){return{x:ee.node.x0+ee.visibleWidth/2,y:ee.node.y0+ee.visibleHeight/2}}).on("dragstart",function(ee){if(ee.arrangement!=="fixed"&&(s.ensureSingle(le._fullLayout._infolayer,"g","dragcover",function(se){le._fullLayout._dragCover=se}),s.raiseToTop(this),ee.interactionState.dragInProgress=ee.node,oe(ee.node),ee.interactionState.hovered&&(re.nodeEvents.unhover.apply(0,ee.interactionState.hovered),ee.interactionState.hovered=!1),ee.arrangement==="snap")){var ue=ee.traceId+"|"+ee.key;ee.forceLayouts[ue]?ee.forceLayouts[ue].alpha(1):z($,ue,ee),G($,K,ee,ue,le)}}).on("drag",function(ee){if(ee.arrangement!=="fixed"){var ue=a.event.x,se=a.event.y;ee.arrangement==="snap"?(ee.node.x0=ue-ee.visibleWidth/2,ee.node.x1=ue+ee.visibleWidth/2,ee.node.y0=se-ee.visibleHeight/2,ee.node.y1=se+ee.visibleHeight/2):(ee.arrangement==="freeform"&&(ee.node.x0=ue-ee.visibleWidth/2,ee.node.x1=ue+ee.visibleWidth/2),se=Math.max(0,Math.min(ee.size-ee.visibleHeight/2,se)),ee.node.y0=se-ee.visibleHeight/2,ee.node.y1=se+ee.visibleHeight/2),oe(ee.node),ee.arrangement!=="snap"&&(ee.sankey.update(ee.graph),O($.filter(he(ee)),K))}}).on("dragend",function(ee){if(ee.arrangement!=="fixed"){ee.interactionState.dragInProgress=!1;for(var ue=0;ue<ee.node.childrenNodes.length;ue++)ee.node.childrenNodes[ue].x=ee.node.x,ee.node.childrenNodes[ue].y=ee.node.y;ee.arrangement!=="snap"&&J(ee,le)}});$.on(".drag",null).call(te)}function z($,K,re,le){q(re.graph.nodes);var te=re.graph.nodes.filter(function(ee){return ee.originalX===re.node.originalX}).filter(function(ee){return!ee.partOfGroup});re.forceLayouts[K]=p.forceSimulation(te).alphaDecay(0).force("collide",p.forceCollide().radius(function(ee){return ee.dy/2+re.nodePad/2}).strength(1).iterations(h.forceIterations)).force("constrain",Y($,K,te,re)).stop()}function G($,K,re,le,te){window.requestAnimationFrame(function ee(){var ue;for(ue=0;ue<h.forceTicksPerFrame;ue++)re.forceLayouts[le].tick();var se=re.graph.nodes;if(Z(se),re.sankey.update(re.graph),O($.filter(he(re)),K),re.forceLayouts[le].alpha()>0)window.requestAnimationFrame(ee);else{var ve=re.node.originalX;re.node.x0=ve-re.visibleWidth/2,re.node.x1=ve+re.visibleWidth/2,J(re,te)}})}function Y($,K,re,le){return function(){for(var ee=0,ue=0;ue<re.length;ue++){var se=re[ue];se===le.interactionState.dragInProgress?(se.x=se.lastDraggedX,se.y=se.lastDraggedY):(se.vx=(se.originalX-se.x)/h.forceTicksPerFrame,se.y=Math.min(le.size-se.dy/2,Math.max(se.dy/2,se.y))),ee=Math.max(ee,Math.abs(se.vx),Math.abs(se.vy))}!le.interactionState.dragInProgress&&ee<.1&&le.forceLayouts[K].alpha()>0&&le.forceLayouts[K].alpha(0)}}function J($,K){for(var re=[],le=[],te=0;te<$.graph.nodes.length;te++){var ee=($.graph.nodes[te].x0+$.graph.nodes[te].x1)/2,ue=($.graph.nodes[te].y0+$.graph.nodes[te].y1)/2;re.push(ee/$.figure.width),le.push(ue/$.figure.height)}d.call("_guiRestyle",K,{"node.x":[re],"node.y":[le]},$.trace.index).then(function(){K._fullLayout._dragCover&&K._fullLayout._dragCover.remove()})}function ae($){var K=[],re;for(re=0;re<$.length;re++)$[re].originalX=($[re].x0+$[re].x1)/2,$[re].originalY=($[re].y0+$[re].y1)/2,K.indexOf($[re].originalX)===-1&&K.push($[re].originalX);for(K.sort(function(le,te){return le-te}),re=0;re<$.length;re++)$[re].originalLayerIndex=K.indexOf($[re].originalX),$[re].originalLayer=$[re].originalLayerIndex/(K.length-1)}function oe($){$.lastDraggedX=$.x0+$.dx/2,$.lastDraggedY=$.y0+$.dy/2}function he($){return function(K){return K.node.originalX===$.node.originalX}}function q($){for(var K=0;K<$.length;K++)$[K].y=($[K].y0+$[K].y1)/2,$[K].x=($[K].x0+$[K].x1)/2}function Z($){for(var K=0;K<$.length;K++)$[K].y0=$[K].y-$[K].dy/2,$[K].y1=$[K].y0+$[K].dy,$[K].x0=$[K].x-$[K].dx/2,$[K].x1=$[K].x0+$[K].dx}B.exports=function($,K,re,le,te){var ee=$._context.staticPlot,ue=!1;s.ensureSingle($._fullLayout._infolayer,"g","first-render",function(){ue=!0});var se=$._fullLayout._dragCover,ve=re.filter(function(Ce){return v(Ce).trace.visible}).map(R.bind(null,le)),be=K.selectAll("."+h.cn.sankey).data(ve,f);be.exit().remove(),be.enter().append("g").classed(h.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",ee?"none":"auto").attr("transform",_),be.each(function(Ce,Ve){$._fullData[Ve]._sankey=Ce;var Ne="bgsankey-"+Ce.trace.uid+"-"+Ve;s.ensureSingle($._fullLayout._draggers,"rect",Ne),$._fullData[Ve]._bgRect=a.select("."+Ne),$._fullData[Ve]._bgRect.style("pointer-events",ee?"none":"all").attr("width",Ce.width).attr("height",Ce.height).attr("x",Ce.translateX).attr("y",Ce.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),be.transition().ease(h.ease).duration(h.duration).attr("transform",_);var Ee=be.selectAll("."+h.cn.sankeyLinks).data(m,f);Ee.enter().append("g").classed(h.cn.sankeyLinks,!0).style("fill","none");var Ae=Ee.selectAll("."+h.cn.sankeyLink).data(function(Ce){var Ve=Ce.graph.links;return Ve.filter(function(Ne){return Ne.value}).map(x.bind(null,Ce))},f);Ae.enter().append("path").classed(h.cn.sankeyLink,!0).call(U,be,te.linkEvents),Ae.style("stroke",function(Ce){return V(Ce)?t.tinyRGB(g(Ce.linkLineColor)):Ce.tinyColorHue}).style("stroke-opacity",function(Ce){return V(Ce)?t.opacity(Ce.linkLineColor):Ce.tinyColorAlpha}).style("fill",function(Ce){return Ce.tinyColorHue}).style("fill-opacity",function(Ce){return Ce.tinyColorAlpha}).style("stroke-width",function(Ce){return V(Ce)?Ce.linkLineWidth:1}).attr("d",T()),Ae.style("opacity",function(){return $._context.staticPlot||ue||se?1:0}).transition().ease(h.ease).duration(h.duration).style("opacity",1),Ae.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var Oe=be.selectAll("."+h.cn.sankeyNodeSet).data(m,f);Oe.enter().append("g").classed(h.cn.sankeyNodeSet,!0),Oe.style("cursor",function(Ce){switch(Ce.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ue=Oe.selectAll("."+h.cn.sankeyNode).data(function(Ce){var Ve=Ce.graph.nodes;return ae(Ve),Ve.map(i.bind(null,Ce))},f);Ue.enter().append("g").classed(h.cn.sankeyNode,!0).call(D).style("opacity",function(Ce){return($._context.staticPlot||ue)&&!Ce.partOfGroup?1:0}),Ue.call(U,be,te.nodeEvents).call(H,Ae,te,$),Ue.transition().ease(h.ease).duration(h.duration).call(D).style("opacity",function(Ce){return Ce.partOfGroup?0:1}),Ue.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var Le=Ue.selectAll("."+h.cn.nodeRect).data(m);Le.enter().append("rect").classed(h.cn.nodeRect,!0).call(F),Le.style("stroke-width",function(Ce){return Ce.nodeLineWidth}).style("stroke",function(Ce){return t.tinyRGB(g(Ce.nodeLineColor))}).style("stroke-opacity",function(Ce){return t.opacity(Ce.nodeLineColor)}).style("fill",function(Ce){return Ce.tinyColorHue}).style("fill-opacity",function(Ce){return Ce.tinyColorAlpha}),Le.transition().ease(h.ease).duration(h.duration).call(F);var we=Ue.selectAll("."+h.cn.nodeLabel).data(m);we.enter().append("text").classed(h.cn.nodeLabel,!0).style("cursor","default"),we.attr("data-notex",1).text(function(Ce){return Ce.node.label}).each(function(Ce){var Ve=a.select(this);r.font(Ve,Ce.textFont),A.convertToTspans(Ve,$)}).style("text-shadow",A.makeTextShadow($._fullLayout.paper_bgcolor)).attr("text-anchor",function(Ce){return Ce.horizontal&&Ce.left?"end":"start"}).attr("transform",function(Ce){var Ve=a.select(this),Ne=A.lineCount(Ve),ke=Ce.textFont.size*((Ne-1)*M-y),We=Ce.nodeLineWidth/2+S,rt=((Ce.horizontal?Ce.visibleHeight:Ce.visibleWidth)-ke)/2;Ce.horizontal&&(Ce.left?We=-We:We+=Ce.visibleWidth);var et=Ce.horizontal?"":"scale(-1,1)"+l(90);return n(Ce.horizontal?We:rt,Ce.horizontal?rt:We)+et}),we.transition().ease(h.ease).duration(h.duration)}},84564:function(B){B.exports=function(e,p){for(var L=e.cd,a=[],C=L[0].trace,w=C._sankey.graph.nodes,h=0;h<w.length;h++){var g=w[h];if(!g.partOfGroup){var t=[(g.x0+g.x1)/2,(g.y0+g.y1)/2];C.orientation==="v"&&t.reverse(),p&&p.contains(t,!1,h,e)&&a.push({pointNumber:g.pointNumber})}}return a}},75225:function(B,N,e){var p=e(71828);B.exports=function(a,C){for(var w=0;w<a.length;w++)a[w].i=w;p.mergeArray(C.text,a,"tx"),p.mergeArray(C.texttemplate,a,"txt"),p.mergeArray(C.hovertext,a,"htx"),p.mergeArray(C.customdata,a,"data"),p.mergeArray(C.textposition,a,"tp"),C.textfont&&(p.mergeArrayCastPositive(C.textfont.size,a,"ts"),p.mergeArray(C.textfont.color,a,"tc"),p.mergeArray(C.textfont.family,a,"tf"));var h=C.marker;if(h){p.mergeArrayCastPositive(h.size,a,"ms"),p.mergeArrayCastPositive(h.opacity,a,"mo"),p.mergeArray(h.symbol,a,"mx"),p.mergeArray(h.angle,a,"ma"),p.mergeArray(h.standoff,a,"mf"),p.mergeArray(h.color,a,"mc");var g=h.line;h.line&&(p.mergeArray(g.color,a,"mlc"),p.mergeArrayCastPositive(g.width,a,"mlw"));var t=h.gradient;t&&t.type!=="none"&&(p.mergeArray(t.type,a,"mgt"),p.mergeArray(t.color,a,"mgc"))}}},82196:function(B,N,e){var p=e(12663).axisHoverFormat,L=e(5386).si,a=e(5386).fF,C=e(50693),w=e(41940),h=e(79952).P,g=e(79952).u,t=e(91424),r=e(47581),s=e(1426).extendFlat;function n(f){return{valType:"any",dflt:0,editType:"calc"}}function l(f){return{valType:"any",editType:"calc"}}function c(f){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}B.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:n(),yperiod:n(),xperiod0:l(),yperiod0:l(),xperiodalignment:c(),yperiodalignment:c(),xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:L({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:s({},h,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:g,marker:s({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:s({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:w({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(B,N,e){var p=e(92770),L=e(71828),a=e(89298),C=e(42973),w=e(50606).BADNUM,h=e(34098),g=e(36922),t=e(75225),r=e(66279);function s(v,A){var d=v._fullLayout,u=A._xA=a.getFromId(v,A.xaxis||"x","x"),y=A._yA=a.getFromId(v,A.yaxis||"y","y"),M=u.makeCalcdata(A,"x"),S=y.makeCalcdata(A,"y"),R=C(A,u,"x",M),x=C(A,y,"y",S),E=R.vals,T=x.vals,i=A._length,D=new Array(i),b=A.ids,O=m(A,d,u,y),F=!1,V,_,U,H,z,G;c(d,A);var Y="x",J="y",ae;if(O)L.pushUnique(O.traceIndices,A._expandedIndex),V=O.orientation==="v",V?(J="s",ae="x"):(Y="s",ae="y"),z=O.stackgaps==="interpolate";else{var oe=l(A,i);n(v,A,u,y,E,T,oe)}var he=!!A.xperiodalignment,q=!!A.yperiodalignment;for(_=0;_<i;_++){var Z=D[_]={},$=p(E[_]),K=p(T[_]);$&&K?(Z[Y]=E[_],Z[J]=T[_],he&&(Z.orig_x=M[_],Z.xEnd=R.ends[_],Z.xStart=R.starts[_]),q&&(Z.orig_y=S[_],Z.yEnd=x.ends[_],Z.yStart=x.starts[_])):O&&(V?$:K)?(Z[ae]=V?E[_]:T[_],Z.gap=!0,z?(Z.s=w,F=!0):Z.s=0):Z[Y]=Z[J]=w,b&&(Z.id=String(b[_]))}if(t(D,A),g(v,A),r(D,A),O){for(_=0;_<D.length;)D[_][ae]===w?D.splice(_,1):_++;if(L.sort(D,function(ee,ue){return ee[ae]-ue[ae]||ee.i-ue.i}),F){for(_=0;_<D.length-1&&D[_].gap;)_++;for(G=D[_].s,G||(G=D[_].s=0),U=0;U<_;U++)D[U].s=G;for(H=D.length-1;H>_&&D[H].gap;)H--;for(G=D[H].s,U=D.length-1;U>H;U--)D[U].s=G;for(;_<H;)if(_++,D[_].gap){for(U=_+1;D[U].gap;)U++;for(var re=D[_-1][ae],le=D[_-1].s,te=(D[U].s-le)/(D[U][ae]-re);_<U;)D[_].s=le+(D[_][ae]-re)*te,_++}}}return D}function n(v,A,d,u,y,M,S){var R=A._length,x=v._fullLayout,E=d._id,T=u._id,i=x._firstScatter[f(A)]===A.uid,D=(m(A,x,d,u)||{}).orientation,b=A.fill;d._minDtick=0,u._minDtick=0;var O={padded:!0},F={padded:!0};S&&(O.ppad=F.ppad=S);var V=R<2||y[0]!==y[R-1]||M[0]!==M[R-1];V&&(b==="tozerox"||b==="tonextx"&&(i||D==="h"))?O.tozero=!0:!(A.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!h.hasMarkers(A)&&!h.hasText(A))&&(O.padded=!1,O.ppad=0),V&&(b==="tozeroy"||b==="tonexty"&&(i||D==="v"))?F.tozero=!0:(b==="tonextx"||b==="tozerox")&&(F.padded=!1),E&&(A._extremes[E]=a.findExtremes(d,y,O)),T&&(A._extremes[T]=a.findExtremes(u,M,F))}function l(v,A){if(h.hasMarkers(v)){var d=v.marker,u=1.6*(v.marker.sizeref||1),y;if(v.marker.sizemode==="area"?y=function(E){return Math.max(Math.sqrt((E||0)/u),3)}:y=function(E){return Math.max((E||0)/u,3)},L.isArrayOrTypedArray(d.size)){var M={type:"linear"};a.setConvert(M);for(var S=M.makeCalcdata(v.marker,"size"),R=new Array(A),x=0;x<A;x++)R[x]=y(S[x]);return R}else return y(d.size)}}function c(v,A){var d=f(A),u=v._firstScatter;u[d]||(u[d]=A.uid)}function f(v){var A=v.stackgroup;return v.xaxis+v.yaxis+v.type+(A?"-"+A:"")}function m(v,A,d,u){var y=v.stackgroup;if(y){var M=A._scatterStackOpts[d._id+u._id][y],S=M.orientation==="v"?u:d;if(S.type==="linear"||S.type==="log")return M}}B.exports={calc:s,calcMarkerSize:l,calcAxisExpansion:n,setFirstScatter:c,getStackOpts:m}},66279:function(B,N,e){var p=e(71828);B.exports=function(a,C){p.isArrayOrTypedArray(C.selectedpoints)&&p.tagSelected(a,C)}},36922:function(B,N,e){var p=e(52075).hasColorscale,L=e(78803),a=e(34098);B.exports=function(w,h){a.hasLines(h)&&p(h,"line")&&L(w,h,{vals:h.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(h)&&(p(h,"marker")&&L(w,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),p(h,"marker.line")&&L(w,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(B){B.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(B,N,e){var p=e(47761),L=e(11661).setGroupPositions;function a(h,g){for(var t=g.xaxis,r=g.yaxis,s=h._fullLayout,n=h._fullData,l=h.calcdata,c=[],f=[],m=0;m<n.length;m++){var v=n[m];v.visible===!0&&v.type==="scatter"&&v.xaxis===t._id&&v.yaxis===r._id&&(v.orientation==="h"?c.push(l[m]):v.orientation==="v"&&f.push(l[m]))}var A={mode:s.scattermode,gap:s.scattergap};L(h,t,r,f,A),L(h,r,t,c,A)}B.exports=function(g,t){g._fullLayout.scattermode==="group"&&a(g,t);var r=t.xaxis,s=t.yaxis,n=r._id+s._id,l=g._fullLayout._scatterStackOpts[n];if(l){var c=g.calcdata,f,m,v,A,d,u,y,M,S,R,x,E,T,i,D;for(var b in l){R=l[b];var O=R.traceIndices;if(O.length){for(x=R.stackgaps==="interpolate",E=R.groupnorm,R.orientation==="v"?(T="x",i="y"):(T="y",i="x"),D=new Array(O.length),f=0;f<D.length;f++)D[f]=!1;u=c[O[0]];var F=new Array(u.length);for(f=0;f<u.length;f++)F[f]=u[f][T];for(f=1;f<O.length;f++){for(d=c[O[f]],m=v=0;m<d.length;m++){for(y=d[m][T];y>F[v]&&v<F.length;v++)C(d,m,F[v],f,D,x,T),m++;if(y!==F[v]){for(A=0;A<f;A++)C(c[O[A]],v,y,A,D,x,T);F.splice(v,0,y)}v++}for(;v<F.length;v++)C(d,m,F[v],f,D,x,T),m++}var V=F.length;for(m=0;m<u.length;m++){for(M=u[m][i]=u[m].s,f=1;f<O.length;f++)d=c[O[f]],d[0].trace._rawLength=d[0].trace._length,d[0].trace._length=V,M+=d[m].s,d[m][i]=M;if(E)for(S=(E==="fraction"?M:M/100)||1,f=0;f<O.length;f++){var _=c[O[f]][m];_[i]/=S,_.sNorm=_.s/S}}for(f=0;f<O.length;f++){d=c[O[f]];var U=d[0].trace,H=p.calcMarkerSize(U,U._rawLength),z=Array.isArray(H);if(H&&D[f]||z){var G=H;for(H=new Array(V),m=0;m<V;m++)H[m]=d[m].gap?0:z?G[d[m].i]:G}var Y=new Array(V),J=new Array(V);for(m=0;m<V;m++)Y[m]=d[m].x,J[m]=d[m].y;p.calcAxisExpansion(g,U,r,s,Y,J,H),d[0].t.orientation=R.orientation}}}}};function C(h,g,t,r,s,n,l){s[r]=!0;var c={i:null,gap:!0,s:0};if(c[l]=t,h.splice(g,0,c),g&&t===h[g-1][l]){var f=h[g-1];c.s=f.s,c.i=f.i,c.gap=f.gap}else n&&(c.s=w(h,g,t,l));g||(h[0].t=h[1].t,h[0].trace=h[1].trace,delete h[1].t,delete h[1].trace)}function w(h,g,t,r){var s=h[g-1],n=h[g+1];return n?s?s.s+(n.s-s.s)*(t-s[r])/(n[r]-s[r]):n.s:s.s}},34936:function(B,N,e){var p=e(71828),L=e(26125),a=e(82196);B.exports=function(w,h){var g,t,r;function s(m){return p.coerce(t._input,t,a,m)}if(h.scattermode==="group")for(r=0;r<w.length;r++)t=w[r],t.type==="scatter"&&(g=t._input,L(g,t,h,s));for(r=0;r<w.length;r++){var n=w[r];if(n.type==="scatter"){var l=n.fill;if(!(l==="none"||l==="toself")&&(n.opacity=void 0,l==="tonexty"||l==="tonextx"))for(var c=r-1;c>=0;c--){var f=w[c];if(f.type==="scatter"&&f.xaxis===n.xaxis&&f.yaxis===n.yaxis){f.opacity=void 0;break}}}}}},17438:function(B,N,e){var p=e(71828),L=e(73972),a=e(82196),C=e(47581),w=e(34098),h=e(67513),g=e(73927),t=e(565),r=e(49508),s=e(11058),n=e(94039),l=e(82410),c=e(28908),f=e(71828).coercePattern;B.exports=function(v,A,d,u){function y(D,b){return p.coerce(v,A,a,D,b)}var M=h(v,A,u,y);if(M||(A.visible=!1),!!A.visible){g(v,A,u,y),y("xhoverformat"),y("yhoverformat");var S=t(v,A,u,y);u.scattermode==="group"&&A.orientation===void 0&&y("orientation","v");var R=!S&&M<C.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("mode",R),w.hasLines(A)&&(s(v,A,d,u,y,{backoff:!0}),n(v,A,y),y("connectgaps"),y("line.simplify")),w.hasMarkers(A)&&r(v,A,d,u,y,{gradient:!0}),w.hasText(A)&&(y("texttemplate"),l(v,A,u,y));var x=[];(w.hasMarkers(A)||w.hasText(A))&&(y("cliponaxis"),y("marker.maxdisplayed"),x.push("points")),y("fill",S?S.fillDflt:"none"),A.fill!=="none"&&(c(v,A,d,y),w.hasLines(A)||n(v,A,y),f(y,"fillpattern",A.fillcolor,!1));var E=(A.line||{}).color,T=(A.marker||{}).color;(A.fill==="tonext"||A.fill==="toself")&&x.push("fills"),y("hoveron",x.join("+")||"points"),A.hoveron!=="fills"&&y("hovertemplate");var i=L.getComponentMethod("errorbars","supplyDefaults");i(v,A,E||T||d,{axis:"y"}),i(v,A,E||T||d,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(A,y)}}},28908:function(B,N,e){var p=e(7901),L=e(71828).isArrayOrTypedArray;B.exports=function(C,w,h,g){var t=!1;if(w.marker){var r=w.marker.color,s=(w.marker.line||{}).color;r&&!L(r)?t=r:s&&!L(s)&&(t=s)}g("fillcolor",p.addOpacity((w.line||{}).color||t||h,.5))}},8225:function(B,N,e){var p=e(89298);B.exports=function(a,C,w){var h={},g={_fullLayout:w},t=p.getFromTrace(g,C,"x"),r=p.getFromTrace(g,C,"y"),s=a.orig_x;s===void 0&&(s=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),h.xLabel=p.tickText(t,t.c2l(s),!0).text,h.yLabel=p.tickText(r,r.c2l(n),!0).text,h}},34603:function(B,N,e){var p=e(7901),L=e(34098);B.exports=function(C,w){var h,g;if(C.mode==="lines")return h=C.line.color,h&&p.opacity(h)?h:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var t=w.mcc||(C.marker||{}).color,r=w.mlcc||((C.marker||{}).line||{}).color;return g=t&&p.opacity(t)?t:r&&p.opacity(r)&&(w.mlw||((C.marker||{}).line||{}).width)?r:"",g?p.opacity(g)<.3?p.addOpacity(g,.3):g:(h=(C.line||{}).color,h&&p.opacity(h)&&L.hasLines(C)&&C.line.width?h:C.fillcolor)}},26125:function(B,N,e){var p=e(99082).getAxisGroup;B.exports=function(a,C,w,h){var g=C.orientation,t=C[{v:"x",h:"y"}[g]+"axis"],r=p(w,t)+g,s=w._alignmentOpts||{},n=h("alignmentgroup"),l=s[r];l||(l=s[r]={});var c=l[n];c?c.traces.push(C):c=l[n]={traces:[C],alignmentIndex:Object.keys(l).length,offsetGroups:{}};var f=h("offsetgroup"),m=c.offsetGroups,v=m[f];f&&(v||(v=m[f]={offsetIndex:Object.keys(m).length}),C._offsetIndex=v.offsetIndex)}},33720:function(B,N,e){var p=e(71828),L=e(30211),a=e(73972),C=e(34603),w=e(7901),h=p.fillText;B.exports=function(t,r,s,n){var l=t.cd,c=l[0].trace,f=t.xa,m=t.ya,v=f.c2p(r),A=m.c2p(s),d=[v,A],u=c.hoveron||"",y=c.mode.indexOf("markers")!==-1?3:.5,M=!!c.xperiodalignment,S=!!c.yperiodalignment;if(u.indexOf("points")!==-1){var R=function(ve){if(M){var be=f.c2p(ve.xStart),Ee=f.c2p(ve.xEnd);return v>=Math.min(be,Ee)&&v<=Math.max(be,Ee)?0:1/0}var Ae=Math.max(3,ve.mrc||0),Oe=1-1/Ae,Ue=Math.abs(f.c2p(ve.x)-v);return Ue<Ae?Oe*Ue/Ae:Ue-Ae+Oe},x=function(ve){if(S){var be=m.c2p(ve.yStart),Ee=m.c2p(ve.yEnd);return A>=Math.min(be,Ee)&&A<=Math.max(be,Ee)?0:1/0}var Ae=Math.max(3,ve.mrc||0),Oe=1-1/Ae,Ue=Math.abs(m.c2p(ve.y)-A);return Ue<Ae?Oe*Ue/Ae:Ue-Ae+Oe},E=function(ve){var be=Math.max(y,ve.mrc||0),Ee=f.c2p(ve.x)-v,Ae=m.c2p(ve.y)-A;return Math.max(Math.sqrt(Ee*Ee+Ae*Ae)-be,1-y/be)},T=L.getDistanceFunction(n,R,x,E);if(L.getClosest(l,T,t),t.index!==!1){var i=l[t.index],D=f.c2p(i.x,!0),b=m.c2p(i.y,!0),O=i.mrc||1;t.index=i.i;var F=l[0].t.orientation,V=F&&(i.sNorm||i.s),_=F==="h"?V:i.orig_x!==void 0?i.orig_x:i.x,U=F==="v"?V:i.orig_y!==void 0?i.orig_y:i.y;return p.extendFlat(t,{color:C(c,i),x0:D-O,x1:D+O,xLabelVal:_,y0:b-O,y1:b+O,yLabelVal:U,spikeDistance:E(i),hovertemplate:c.hovertemplate}),h(i,c,t),a.getComponentMethod("errorbars","hoverInfo")(i,c,t),[t]}}if(u.indexOf("fills")!==-1&&c._polygons){var H=c._polygons,z=[],G=!1,Y=1/0,J=-1/0,ae=1/0,oe=-1/0,he,q,Z,$,K,re,le,te,ee;for(he=0;he<H.length;he++)Z=H[he],Z.contains(d)&&(G=!G,z.push(Z),ae=Math.min(ae,Z.ymin),oe=Math.max(oe,Z.ymax));if(G){ae=Math.max(ae,0),oe=Math.min(oe,m._length);var ue=(ae+oe)/2;for(he=0;he<z.length;he++)for($=z[he].pts,q=1;q<$.length;q++)te=$[q-1][1],ee=$[q][1],te>ue!=ee>=ue&&(re=$[q-1][0],le=$[q][0],ee-te&&(K=re+(le-re)*(ue-te)/(ee-te),Y=Math.min(Y,K),J=Math.max(J,K)));Y=Math.max(Y,0),J=Math.min(J,f._length);var se=w.defaultLine;return w.opacity(c.fillcolor)?se=c.fillcolor:w.opacity((c.line||{}).color)&&(se=c.line.color),p.extendFlat(t,{distance:t.maxHoverDistance,x0:Y,x1:J,y0:ue,y1:ue,color:se,hovertemplate:!1}),delete t.index,c.text&&!Array.isArray(c.text)?t.text=String(c.text):t.text=c.name,[t]}}}},67368:function(B,N,e){var p=e(34098);B.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(B){B.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(B,N,e){var p=e(71828),L=e(21479);B.exports=function(a,C){function w(g,t){return p.coerce(a,C,L,g,t)}var h=C.barmode==="group";C.scattermode==="group"&&w("scattergap",h?C.bargap:.2)}},11058:function(B,N,e){var p=e(71828).isArrayOrTypedArray,L=e(52075).hasColorscale,a=e(1586);B.exports=function(w,h,g,t,r,s){s||(s={});var n=(w.marker||{}).color;if(r("line.color",g),L(w,"line"))a(w,h,t,r,{prefix:"line.",cLetter:"c"});else{var l=(p(n)?!1:n)||g;r("line.color",l)}r("line.width"),s.noDash||r("line.dash"),s.backoff&&r("line.backoff")}},34621:function(B,N,e){var p=e(91424),L=e(50606),a=L.BADNUM,C=L.LOG_CLIP,w=C+.5,h=C-.5,g=e(71828),t=g.segmentsIntersect,r=g.constrain,s=e(47581);B.exports=function(l,c){var f=c.trace||{},m=c.xaxis,v=c.yaxis,A=m.type==="log",d=v.type==="log",u=m._length,y=v._length,M=c.backoff,S=f.marker,R=c.connectGaps,x=c.baseTolerance,E=c.shape,T=E==="linear",i=f.fill&&f.fill!=="none",D=[],b=s.minTolerance,O=l.length,F=new Array(O),V=0,_,U,H,z,G,Y,J,ae,oe,he,q,Z,$,K,re,le;function te(vt){var bt=l[vt];if(!bt)return!1;var Wt=c.linearized?m.l2p(bt.x):m.c2p(bt.x),qt=c.linearized?v.l2p(bt.y):v.c2p(bt.y);if(Wt===a){if(A&&(Wt=m.c2p(bt.x,!0)),Wt===a)return!1;d&&qt===a&&(Wt*=Math.abs(m._m*y*(m._m>0?w:h)/(v._m*u*(v._m>0?w:h)))),Wt*=1e3}if(qt===a){if(d&&(qt=v.c2p(bt.y,!0)),qt===a)return!1;qt*=1e3}return[Wt,qt]}function ee(vt,bt,Wt,qt){var At=Wt-vt,zt=qt-bt,Kt=.5-vt,Sr=.5-bt,yt=At*At+zt*zt,Zt=At*Kt+zt*Sr;if(Zt>0&&Zt<yt){var $t=Kt*zt-Sr*At;if($t*$t<yt)return!0}}var ue,se;function ve(vt,bt){var Wt=vt[0]/u,qt=vt[1]/y,At=Math.max(0,-Wt,Wt-1,-qt,qt-1);return At&&ue!==void 0&&ee(Wt,qt,ue,se)&&(At=0),At&&bt&&ee(Wt,qt,bt[0]/u,bt[1]/y)&&(At=0),(1+s.toleranceGrowth*At)*x}function be(vt,bt){var Wt=vt[0]-bt[0],qt=vt[1]-bt[1];return Math.sqrt(Wt*Wt+qt*qt)}var Ee=s.maxScreensAway,Ae=-u*Ee,Oe=u*(1+Ee),Ue=-y*Ee,Le=y*(1+Ee),we=[[Ae,Ue,Oe,Ue],[Oe,Ue,Oe,Le],[Oe,Le,Ae,Le],[Ae,Le,Ae,Ue]],Ce,Ve,Ne,ke,We,rt;function et(vt,bt){for(var Wt=[],qt=0,At=0;At<4;At++){var zt=we[At],Kt=t(vt[0],vt[1],bt[0],bt[1],zt[0],zt[1],zt[2],zt[3]);Kt&&(!qt||Math.abs(Kt.x-Wt[0][0])>1||Math.abs(Kt.y-Wt[0][1])>1)&&(Kt=[Kt.x,Kt.y],qt&&be(Kt,vt)<be(Wt[0],vt)?Wt.unshift(Kt):Wt.push(Kt),qt++)}return Wt}function tt(vt){if(vt[0]<Ae||vt[0]>Oe||vt[1]<Ue||vt[1]>Le)return[r(vt[0],Ae,Oe),r(vt[1],Ue,Le)]}function at(vt,bt){if(vt[0]===bt[0]&&(vt[0]===Ae||vt[0]===Oe)||vt[1]===bt[1]&&(vt[1]===Ue||vt[1]===Le))return!0}function ct(vt,bt){var Wt=[],qt=tt(vt),At=tt(bt);return qt&&At&&at(qt,At)||(qt&&Wt.push(qt),At&&Wt.push(At)),Wt}function dt(vt,bt,Wt){return function(qt,At){var zt=tt(qt),Kt=tt(At),Sr=[];if(zt&&Kt&&at(zt,Kt))return Sr;zt&&Sr.push(zt),Kt&&Sr.push(Kt);var yt=2*g.constrain((qt[vt]+At[vt])/2,bt,Wt)-((zt||qt)[vt]+(Kt||At)[vt]);if(yt){var Zt;zt&&Kt?Zt=yt>0==zt[vt]>Kt[vt]?zt:Kt:Zt=zt||Kt,Zt[vt]+=yt}return Sr}}var gt;E==="linear"||E==="spline"?gt=et:E==="hv"||E==="vh"?gt=ct:E==="hvh"?gt=dt(0,Ae,Oe):E==="vhv"&&(gt=dt(1,Ue,Le));function Et(vt,bt){var Wt=bt[0]-vt[0],qt=(bt[1]-vt[1])/Wt,At=(vt[1]*bt[0]-bt[1]*vt[0])/Wt;return At>0?[qt>0?Ae:Oe,Le]:[qt>0?Oe:Ae,Ue]}function Ct(vt){var bt=vt[0],Wt=vt[1],qt=bt===F[V-1][0],At=Wt===F[V-1][1];if(!(qt&&At))if(V>1){var zt=bt===F[V-2][0],Kt=Wt===F[V-2][1];qt&&(bt===Ae||bt===Oe)&&zt?Kt?V--:F[V-1]=vt:At&&(Wt===Ue||Wt===Le)&&Kt?zt?V--:F[V-1]=vt:F[V++]=vt}else F[V++]=vt}function Vt(vt){F[V-1][0]!==vt[0]&&F[V-1][1]!==vt[1]&&Ct([Ne,ke]),Ct(vt),We=null,Ne=ke=0}var Je=g.isArrayOrTypedArray(S);function _e(vt){if(vt&&M&&(vt.i=_,vt.d=l,vt.trace=f,vt.marker=Je?S[vt.i]:S,vt.backoff=M),ue=vt[0]/u,se=vt[1]/y,Ce=vt[0]<Ae?Ae:vt[0]>Oe?Oe:0,Ve=vt[1]<Ue?Ue:vt[1]>Le?Le:0,Ce||Ve){if(!V)F[V++]=[Ce||vt[0],Ve||vt[1]];else if(We){var bt=gt(We,vt);bt.length>1&&(Vt(bt[0]),F[V++]=bt[1])}else rt=gt(F[V-1],vt)[0],F[V++]=rt;var Wt=F[V-1];Ce&&Ve&&(Wt[0]!==Ce||Wt[1]!==Ve)?(We&&(Ne!==Ce&&ke!==Ve?Ct(Ne&&ke?Et(We,vt):[Ne||Ce,ke||Ve]):Ne&&ke&&Ct([Ne,ke])),Ct([Ce,Ve])):Ne-Ce&&ke-Ve&&Ct([Ce||Ne,Ve||ke]),We=vt,Ne=Ce,ke=Ve}else We&&Vt(gt(We,vt)[0]),F[V++]=vt}for(_=0;_<O;_++)if(U=te(_),!!U){for(V=0,We=null,_e(U),_++;_<O;_++){if(z=te(_),!z){if(R)continue;break}if(!T||!c.simplify){_e(z);continue}var Fe=te(_+1);if(he=be(z,U),!(!(i&&(V===0||V===O-1))&&he<ve(z,Fe)*b)){for(ae=[(z[0]-U[0])/he,(z[1]-U[1])/he],G=U,q=he,Z=K=re=0,J=!1,H=z,_++;_<l.length;_++){if(Y=Fe,Fe=te(_+1),!Y){if(R)continue;break}if(oe=[Y[0]-U[0],Y[1]-U[1]],le=oe[0]*ae[1]-oe[1]*ae[0],K=Math.min(K,le),re=Math.max(re,le),re-K>ve(Y,Fe))break;H=Y,$=oe[0]*ae[0]+oe[1]*ae[1],$>q?(q=$,z=Y,J=!1):$<Z&&(Z=$,G=Y,J=!0)}if(J?(_e(z),H!==G&&_e(G)):(G!==U&&_e(G),H!==z&&_e(z)),_e(H),_>=l.length||!Y)break;_e(Y),U=Y}}We&&Ct([Ne||We[0],ke||We[1]]),D.push(F.slice(0,V))}var Be=E.slice(E.length-1);if(M&&Be!=="h"&&Be!=="v"){for(var De=!1,Te=-1,xe=[],Me=0;Me<D.length;Me++)for(var Pe=0;Pe<D[Me].length-1;Pe++){var He=D[Me][Pe],Ke=D[Me][Pe+1],qe=p.applyBackoff(Ke,He);(qe[0]!==Ke[0]||qe[1]!==Ke[1])&&(De=!0),xe[Te+1]||(Te++,xe[Te]=[He,[qe[0],qe[1]]])}return De?xe:D}return D}},94039:function(B){B.exports=function(e,p,L){var a=L("line.shape");a==="spline"&&L("line.smoothing")}},68687:function(B){var N={tonextx:1,tonexty:1,tonext:1};B.exports=function(p,L,a){var C,w,h,g,t,r={},s=!1,n=-1,l=0,c=-1;for(w=0;w<a.length;w++)C=a[w][0].trace,h=C.stackgroup||"",h?h in r?t=r[h]:(t=r[h]=l,l++):C.fill in N&&c>=0?t=c:(t=c=l,l++),t<n&&(s=!0),C._groupIndex=n=t;var f=a.slice();s&&f.sort(function(v,A){var d=v[0].trace,u=A[0].trace;return d._groupIndex-u._groupIndex||d.index-u.index});var m={};for(w=0;w<f.length;w++)C=f[w][0].trace,h=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in N&&(g=m[h],C._prevtrace=g||null,g&&(g._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),m[h]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return f}},39984:function(B,N,e){var p=e(92770);B.exports=function(a,C){C||(C=2);var w=a.marker,h=w.sizeref||1,g=w.sizemin||0,t=w.sizemode==="area"?function(r){return Math.sqrt(r/h)}:function(r){return r/h};return function(r){var s=t(r/C);return p(s)&&s>0?Math.max(s,g):0}}},4898:function(B){B.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(B,N,e){var p=e(7901),L=e(52075).hasColorscale,a=e(1586),C=e(34098);B.exports=function(h,g,t,r,s,n){var l=C.isBubble(h),c=(h.line||{}).color,f;if(n=n||{},c&&(t=c),s("marker.symbol"),s("marker.opacity",l?.7:1),s("marker.size"),n.noAngle||(s("marker.angle"),n.noAngleRef||s("marker.angleref"),n.noStandOff||s("marker.standoff")),s("marker.color",t),L(h,"marker")&&a(h,g,r,s,{prefix:"marker.",cLetter:"c"}),n.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),n.noLine||(c&&!Array.isArray(c)&&g.marker.color!==c?f=c:l?f=p.background:f=p.defaultLine,s("marker.line.color",f),L(h,"marker.line")&&a(h,g,r,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",l?1:0)),l&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),n.gradient){var m=s("marker.gradient.type");m!=="none"&&s("marker.gradient.color")}}},73927:function(B,N,e){var p=e(71828).dateTick0,L=e(50606),a=L.ONEWEEK;function C(w,h){return w%a===0?p(h,1):p(h,0)}B.exports=function(h,g,t,r,s){if(s||(s={x:!0,y:!0}),s.x){var n=r("xperiod");n&&(r("xperiod0",C(n,g.xcalendar)),r("xperiodalignment"))}if(s.y){var l=r("yperiod");l&&(r("yperiod0",C(l,g.ycalendar)),r("yperiodalignment"))}}},32663:function(B,N,e){var p=e(39898),L=e(73972),a=e(71828),C=a.ensureSingle,w=a.identity,h=e(91424),g=e(34098),t=e(34621),r=e(68687),s=e(61082).tester;B.exports=function(m,v,A,d,u,y){var M,S,R=!u,x=!!u&&u.duration>0,E=r(m,v,A);if(M=d.selectAll("g.trace").data(E,function(i){return i[0].trace.uid}),M.enter().append("g").attr("class",function(i){return"trace scatter trace"+i[0].trace.uid}).style("stroke-miterlimit",2),M.order(),n(m,M,v),x){y&&(S=y());var T=p.transition().duration(u.duration).ease(u.easing).each("end",function(){S&&S()}).each("interrupt",function(){S&&S()});T.each(function(){d.selectAll("g.trace").each(function(i,D){l(m,D,v,i,E,this,u)})})}else M.each(function(i,D){l(m,D,v,i,E,this,u)});R&&M.exit().remove(),d.selectAll("path:not([d])").remove()};function n(f,m,v){m.each(function(A){var d=C(p.select(this),"g","fills");h.setClipUrl(d,v.layerClipId,f);var u=A[0].trace,y=[];u._ownfill&&y.push("_ownFill"),u._nexttrace&&y.push("_nextFill");var M=d.selectAll("g").data(y,w);M.enter().append("g"),M.exit().each(function(S){u[S]=null}).remove(),M.order().each(function(S){u[S]=C(p.select(this),"path","js-fill")})})}function l(f,m,v,A,d,u,y){var M=f._context.staticPlot,S;c(f,m,v,A,d);var R=!!y&&y.duration>0;function x(ke){return R?ke.transition():ke}var E=v.xaxis,T=v.yaxis,i=A[0].trace,D=i.line,b=p.select(u),O=C(b,"g","errorbars"),F=C(b,"g","lines"),V=C(b,"g","points"),_=C(b,"g","text");if(L.getComponentMethod("errorbars","plot")(f,O,v,y),i.visible!==!0)return;x(b).style("opacity",i.opacity);var U,H,z=i.fill.charAt(i.fill.length-1);z!=="x"&&z!=="y"&&(z=""),A[0][v.isRangePlot?"nodeRangePlot3":"node3"]=b;var G="",Y=[],J=i._prevtrace;J&&(G=J._prevRevpath||"",H=J._nextFill,Y=J._polygons);var ae,oe,he="",q="",Z,$,K,re,le,te,ee,ue=[],se=a.noop;if(U=i._ownFill,g.hasLines(i)||i.fill!=="none"){for(H&&H.datum(A),["hv","vh","hvh","vhv"].indexOf(D.shape)!==-1?(Z=h.steps(D.shape),$=h.steps(D.shape.split("").reverse().join(""))):D.shape==="spline"?Z=$=function(ke){var We=ke[ke.length-1];return ke.length>1&&ke[0][0]===We[0]&&ke[0][1]===We[1]?h.smoothclosed(ke.slice(1),D.smoothing):h.smoothopen(ke,D.smoothing)}:Z=$=function(ke){return"M"+ke.join("L")},K=function(ke){return $(ke.reverse())},ue=t(A,{xaxis:E,yaxis:T,trace:i,connectGaps:i.connectgaps,baseTolerance:Math.max(D.width||1,3)/4,shape:D.shape,backoff:D.backoff,simplify:D.simplify,fill:i.fill}),ee=i._polygons=new Array(ue.length),S=0;S<ue.length;S++)i._polygons[S]=s(ue[S]);ue.length&&(re=ue[0][0],le=ue[ue.length-1],te=le[le.length-1]),se=function(ke){return function(We){if(ae=Z(We),oe=K(We),he?z?(he+="L"+ae.substr(1),q=oe+("L"+q.substr(1))):(he+="Z"+ae,q=oe+"Z"+q):(he=ae,q=oe),g.hasLines(i)){var rt=p.select(this);if(rt.datum(A),ke)x(rt.style("opacity",0).attr("d",ae).call(h.lineGroupStyle)).style("opacity",1);else{var et=x(rt);et.attr("d",ae),h.singleLineStyle(A,et)}}}}}var ve=F.selectAll(".js-line").data(ue);x(ve.exit()).style("opacity",0).remove(),ve.each(se(!1)),ve.enter().append("path").classed("js-line",!0).style("vector-effect",M?"none":"non-scaling-stroke").call(h.lineGroupStyle).each(se(!0)),h.setClipUrl(ve,v.layerClipId,f);function be(ke){x(ke).attr("d","M0,0Z")}ue.length?(U?(U.datum(A),re&&te&&(z?(z==="y"?re[1]=te[1]=T.c2p(0,!0):z==="x"&&(re[0]=te[0]=E.c2p(0,!0)),x(U).attr("d","M"+te+"L"+re+"L"+he.substr(1)).call(h.singleFillStyle,f)):x(U).attr("d",he+"Z").call(h.singleFillStyle,f))):H&&(i.fill.substr(0,6)==="tonext"&&he&&G?(i.fill==="tonext"?x(H).attr("d",he+"Z"+G+"Z").call(h.singleFillStyle,f):x(H).attr("d",he+"L"+G.substr(1)+"Z").call(h.singleFillStyle,f),i._polygons=i._polygons.concat(Y)):(be(H),i._polygons=null)),i._prevRevpath=q,i._prevPolygons=ee):(U?be(U):H&&be(H),i._polygons=i._prevRevpath=i._prevPolygons=null);function Ee(ke){return ke.filter(function(We){return!We.gap&&We.vis})}function Ae(ke){return ke.filter(function(We){return We.vis})}function Oe(ke){return ke.filter(function(We){return!We.gap})}function Ue(ke){return ke.id}function Le(ke){if(ke.ids)return Ue}function we(){return!1}function Ce(ke,We,rt){var et,tt,at,ct=rt[0].trace,dt=g.hasMarkers(ct),gt=g.hasText(ct),Et=Le(ct),Ct=we,Vt=we;if(dt||gt){var Je=w,_e=ct.stackgroup,Fe=_e&&f._fullLayout._scatterStackOpts[E._id+T._id][_e].stackgaps==="infer zero";ct.marker.maxdisplayed||ct._needsCull?Je=Fe?Ae:Ee:_e&&!Fe&&(Je=Oe),dt&&(Ct=Je),gt&&(Vt=Je)}tt=ke.selectAll("path.point"),et=tt.data(Ct,Et);var Be=et.enter().append("path").classed("point",!0);R&&Be.call(h.pointStyle,ct,f).call(h.translatePoints,E,T).style("opacity",0).transition().style("opacity",1),et.order();var De;dt&&(De=h.makePointStyleFns(ct)),et.each(function(Te){var xe=p.select(this),Me=x(xe);at=h.translatePoint(Te,Me,E,T),at?(h.singlePointStyle(Te,Me,ct,De,f),v.layerClipId&&h.hideOutsideRangePoint(Te,Me,E,T,ct.xcalendar,ct.ycalendar),ct.customdata&&xe.classed("plotly-customdata",Te.data!==null&&Te.data!==void 0)):Me.remove()}),R?et.exit().transition().style("opacity",0).remove():et.exit().remove(),tt=We.selectAll("g"),et=tt.data(Vt,Et),et.enter().append("g").classed("textpoint",!0).append("text"),et.order(),et.each(function(Te){var xe=p.select(this),Me=x(xe.select("text"));at=h.translatePoint(Te,Me,E,T),at?v.layerClipId&&h.hideOutsideRangePoint(Te,xe,E,T,ct.xcalendar,ct.ycalendar):xe.remove()}),et.selectAll("text").call(h.textPointStyle,ct,f).each(function(Te){var xe=E.c2p(Te.x),Me=T.c2p(Te.y);p.select(this).selectAll("tspan.line").each(function(){x(p.select(this)).attr({x:xe,y:Me})})}),et.exit().remove()}V.datum(A),_.datum(A),Ce(V,_,A);var Ve=i.cliponaxis===!1,Ne=Ve?null:v.layerClipId;h.setClipUrl(V,Ne,f),h.setClipUrl(_,Ne,f)}function c(f,m,v,A,d){var u=v.xaxis,y=v.yaxis,M=p.extent(a.simpleMap(u.range,u.r2c)),S=p.extent(a.simpleMap(y.range,y.r2c)),R=A[0].trace;if(g.hasMarkers(R)){var x=R.marker.maxdisplayed;if(x!==0){var E=A.filter(function(b){return b.x>=M[0]&&b.x<=M[1]&&b.y>=S[0]&&b.y<=S[1]}),T=Math.ceil(E.length/x),i=0;d.forEach(function(b,O){var F=b[0].trace;g.hasMarkers(F)&&F.marker.maxdisplayed>0&&O<m&&i++});var D=Math.round(i*T/3+Math.floor(i/3)*T/7.1);A.forEach(function(b){delete b.vis}),E.forEach(function(b,O){Math.round((O+D)%T)===0&&(b.vis=!0)})}}}},98002:function(B,N,e){var p=e(34098);B.exports=function(a,C){var w=a.cd,h=a.xaxis,g=a.yaxis,t=[],r=w[0].trace,s,n,l,c,f=!p.hasMarkers(r)&&!p.hasText(r);if(f)return[];if(C===!1)for(s=0;s<w.length;s++)w[s].selected=0;else for(s=0;s<w.length;s++)n=w[s],l=h.c2p(n.x),c=g.c2p(n.y),n.i!==null&&C.contains([l,c],!1,s,a)?(t.push({pointNumber:n.i,x:h.c2d(n.x),y:g.c2d(n.y)}),n.selected=1):n.selected=0;return t}},565:function(B){var N=["orientation","groupnorm","stackgaps"];B.exports=function(p,L,a,C){var w=a._scatterStackOpts,h=C("stackgroup");if(h){var g=L.xaxis+L.yaxis,t=w[g];t||(t=w[g]={});var r=t[h],s=!1;r?r.traces.push(L):(r=t[h]={traceIndices:[],traces:[L]},s=!0);for(var n={orientation:L.x&&!L.y?"h":"v"},l=0;l<N.length;l++){var c=N[l],f=c+"Found";if(!r[f]){var m=p[c]!==void 0,v=c==="orientation";if((m||s)&&(r[c]=C(c,n[c]),v&&(r.fillDflt=r[c]==="h"?"tonextx":"tonexty"),m&&(r[f]=!0,!s&&(delete r.traces[0][c],v))))for(var A=0;A<r.traces.length-1;A++){var d=r.traces[A];d._input.fill!==d.fill&&(d.fill=r.fillDflt)}}}return r}}},16296:function(B,N,e){var p=e(39898),L=e(91424),a=e(73972);function C(t){var r=p.select(t).selectAll("g.trace.scatter");r.style("opacity",function(s){return s[0].trace.opacity}),r.selectAll("g.points").each(function(s){var n=p.select(this),l=s.trace||s[0].trace;w(n,l,t)}),r.selectAll("g.text").each(function(s){var n=p.select(this),l=s.trace||s[0].trace;h(n,l,t)}),r.selectAll("g.trace path.js-line").call(L.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(L.fillGroupStyle,t),a.getComponentMethod("errorbars","style")(r)}function w(t,r,s){L.pointStyle(t.selectAll("path.point"),r,s)}function h(t,r,s){L.textPointStyle(t.selectAll("text"),r,s)}function g(t,r,s){var n=r[0].trace;n.selectedpoints?(L.selectedPointStyle(s.selectAll("path.point"),n),L.selectedTextStyle(s.selectAll("text"),n)):(w(s,n,t),h(s,n,t))}B.exports={style:C,stylePoints:w,styleText:h,styleOnSelect:g}},34098:function(B,N,e){var p=e(71828);B.exports={hasLines:function(L){return L.visible&&L.mode&&L.mode.indexOf("lines")!==-1},hasMarkers:function(L){return L.visible&&(L.mode&&L.mode.indexOf("markers")!==-1||L.type==="splom")},hasText:function(L){return L.visible&&L.mode&&L.mode.indexOf("text")!==-1},isBubble:function(L){return p.isPlainObject(L.marker)&&p.isArrayOrTypedArray(L.marker.size)}}},82410:function(B,N,e){var p=e(71828);B.exports=function(L,a,C,w,h){h=h||{},w("textposition"),p.coerceFont(w,"textfont",h.font||C.font),h.noSelect||(w("selected.textfont.color"),w("unselected.textfont.color"))}},67513:function(B,N,e){var p=e(71828),L=e(73972);B.exports=function(C,w,h,g){var t=g("x"),r=g("y"),s,n=L.getComponentMethod("calendars","handleTraceDefaults");if(n(C,w,["x","y"],h),t){var l=p.minRowLength(t);r?s=Math.min(l,p.minRowLength(r)):(s=l,g("y0"),g("dy"))}else{if(!r)return 0;s=p.minRowLength(r),g("x0"),g("dx")}return w._length=s,s}},44542:function(B,N,e){var p=e(82196),L=e(50693),a=e(12663).axisHoverFormat,C=e(5386).fF,w=e(5386).si,h=e(9012),g=e(29659),t=e(87381),r=e(1426).extendFlat,s=e(30962).overrideAll,n=e(78607),l=p.line,c=p.marker,f=c.line,m=r({width:l.width,dash:{valType:"enumerated",values:n(g),dflt:"solid"}},L("line"));function v(d){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var A=B.exports=s({x:p.x,y:p.y,z:{valType:"data_array"},text:r({},p.text,{}),texttemplate:w({},{}),hovertext:r({},p.hovertext,{}),hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:r({},p.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:v(),y:v(),z:v()},connectgaps:p.connectgaps,line:m,marker:r({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:r({},c.size,{dflt:8}),sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:r({},c.opacity,{arrayOk:!1}),colorbar:c.colorbar,line:r({width:r({},f.width,{arrayOk:!1})},L("marker.line"))},L("marker")),textposition:r({},p.textposition,{dflt:"top center"}),textfont:{color:p.textfont.color,size:p.textfont.size,family:r({},p.textfont.family,{arrayOk:!1})},opacity:h.opacity,hoverinfo:r({},h.hoverinfo)},"calc","nested");A.x.editType=A.y.editType=A.z.editType="calc+clearAxisTypes"},36563:function(B,N,e){var p=e(75225),L=e(36922);B.exports=function(C,w){var h=[{x:!1,y:!1,trace:w,t:{}}];return p(h,w),L(C,w),h}},67336:function(B,N,e){var p=e(73972);function L(w,h,g,t){if(!h||!h.visible)return null;for(var r=p.getComponentMethod("errorbars","makeComputeError")(h),s=new Array(w.length),n=0;n<w.length;n++){var l=r(+w[n],n);if(t.type==="log"){var c=t.c2l(w[n]),f=w[n]-l[0],m=w[n]+l[1];if(s[n]=[(t.c2l(f,!0)-c)*g,(t.c2l(m,!0)-c)*g],f>0){var v=t.c2l(f);t._lowerLogErrorBound||(t._lowerLogErrorBound=v),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,v)}}else s[n]=[-l[0]*g,l[1]*g]}return s}function a(w){for(var h=0;h<w.length;h++)if(w[h])return w[h].length;return 0}function C(w,h,g){var t=[L(w.x,w.error_x,h[0],g.xaxis),L(w.y,w.error_y,h[1],g.yaxis),L(w.z,w.error_z,h[2],g.zaxis)],r=a(t);if(r===0)return null;for(var s=new Array(r),n=0;n<r;n++){for(var l=[[0,0,0],[0,0,0]],c=0;c<3;c++)if(t[c])for(var f=0;f<2;f++)l[f][c]=t[c][n][f];s[n]=l}return s}B.exports=C},58925:function(B,N,e){var p=e(9330).gl_line3d,L=e(9330).gl_scatter3d,a=e(9330).gl_error3d,C=e(9330).gl_mesh3d,w=e(9330).delaunay_triangulate,h=e(71828),g=e(78614),t=e(81697).formatColor,r=e(39984),s=e(29659),n=e(87381),l=e(89298),c=e(23469).appendArrayPointValue,f=e(67336);function m(b,O){this.scene=b,this.uid=O,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var v=m.prototype;v.handlePick=function(b){if(b.object&&(b.object===this.linePlot||b.object===this.delaunayMesh||b.object===this.textMarkers||b.object===this.scatterPlot)){var O=b.index=b.data.index;return b.object.highlight&&b.object.highlight(null),this.scatterPlot&&(b.object=this.scatterPlot,this.scatterPlot.highlight(b.data)),b.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[O]||this.textLabels[O]===0)&&(b.textLabel=this.textLabels[O]):b.textLabel=this.textLabels),b.traceCoordinate=[this.data.x[O],this.data.y[O],this.data.z[O]],!0}};function A(b,O,F){var V=(F+1)%3,_=(F+2)%3,U=[],H=[],z;for(z=0;z<b.length;++z){var G=b[z];isNaN(G[V])||!isFinite(G[V])||isNaN(G[_])||!isFinite(G[_])||(U.push([G[V],G[_]]),H.push(z))}var Y=w(U);for(z=0;z<Y.length;++z)for(var J=Y[z],ae=0;ae<J.length;++ae)J[ae]=H[J[ae]];return{positions:b,cells:Y,meshColor:O}}function d(b){for(var O=[0,0,0],F=[[0,0,0],[0,0,0],[0,0,0]],V=[1,1,1],_=0;_<3;_++){var U=b[_];U&&U.copy_zstyle!==!1&&b[2].visible!==!1&&(U=b[2]),!(!U||!U.visible)&&(O[_]=U.width/2,F[_]=g(U.color),V[_]=U.thickness)}return{capSize:O,color:F,lineWidth:V}}function u(b){return b==null?0:b.indexOf("left")>-1?-1:b.indexOf("right")>-1?1:0}function y(b){return b==null?0:b.indexOf("top")>-1?-1:b.indexOf("bottom")>-1?1:0}function M(b){var O=0,F=0,V=[O,F];if(Array.isArray(b))for(var _=0;_<b.length;_++)V[_]=[O,F],b[_]&&(V[_][0]=u(b[_]),V[_][1]=y(b[_]));else V[0]=u(b),V[1]=y(b);return V}function S(b,O){return O(b*4)}function R(b){return n[b]}function x(b,O,F,V,_){var U=null;if(h.isArrayOrTypedArray(b)){U=[];for(var H=0;H<O;H++)b[H]===void 0?U[H]=V:U[H]=F(b[H],_)}else U=F(b,h.identity);return U}function E(b,O){var F=[],V=b.fullSceneLayout,_=b.dataScale,U=V.xaxis,H=V.yaxis,z=V.zaxis,G=O.marker,Y=O.line,J=O.x||[],ae=O.y||[],oe=O.z||[],he=J.length,q=O.xcalendar,Z=O.ycalendar,$=O.zcalendar,K,re,le,te,ee,ue;for(ee=0;ee<he;ee++)K=U.d2l(J[ee],0,q)*_[0],re=H.d2l(ae[ee],0,Z)*_[1],le=z.d2l(oe[ee],0,$)*_[2],F[ee]=[K,re,le];if(Array.isArray(O.text))ue=O.text;else if(O.text!==void 0)for(ue=new Array(he),ee=0;ee<he;ee++)ue[ee]=O.text;function se(et,tt){var at=V[et];return l.tickText(at,at.d2l(tt),!0).text}var ve=O.texttemplate;if(ve){var be=b.fullLayout,Ee=be._d3locale,Ae=Array.isArray(ve),Oe=Ae?Math.min(ve.length,he):he,Ue=Ae?function(et){return ve[et]}:function(){return ve};for(ue=new Array(Oe),ee=0;ee<Oe;ee++){var Le={x:J[ee],y:ae[ee],z:oe[ee]},we={xLabel:se("xaxis",J[ee]),yLabel:se("yaxis",ae[ee]),zLabel:se("zaxis",oe[ee])},Ce={};c(Ce,O,ee);var Ve=O._meta||{};ue[ee]=h.texttemplateString(Ue(ee),we,Ee,Ce,Le,Ve)}}if(te={position:F,mode:O.mode,text:ue},"line"in O&&(te.lineColor=t(Y,1,he),te.lineWidth=Y.width,te.lineDashes=Y.dash),"marker"in O){var Ne=r(O);te.scatterColor=t(G,1,he),te.scatterSize=x(G.size,he,S,20,Ne),te.scatterMarker=x(G.symbol,he,R,"●"),te.scatterLineWidth=G.line.width,te.scatterLineColor=t(G.line,1,he),te.scatterAngle=0}"textposition"in O&&(te.textOffset=M(O.textposition),te.textColor=t(O.textfont,1,he),te.textSize=x(O.textfont.size,he,h.identity,12),te.textFont=O.textfont.family,te.textAngle=0);var ke=["x","y","z"];for(te.project=[!1,!1,!1],te.projectScale=[1,1,1],te.projectOpacity=[1,1,1],ee=0;ee<3;++ee){var We=O.projection[ke[ee]];(te.project[ee]=We.show)&&(te.projectOpacity[ee]=We.opacity,te.projectScale[ee]=We.scale)}te.errorBounds=f(O,_,V);var rt=d([O.error_x,O.error_y,O.error_z]);return te.errorColor=rt.color,te.errorLineWidth=rt.lineWidth,te.errorCapSize=rt.capSize,te.delaunayAxis=O.surfaceaxis,te.delaunayColor=g(O.surfacecolor),te}function T(b){if(h.isArrayOrTypedArray(b)){var O=b[0];return h.isArrayOrTypedArray(O)&&(b=O),"rgb("+b.slice(0,3).map(function(F){return Math.round(F*255)})+")"}return null}function i(b){return h.isArrayOrTypedArray(b)?b.length===4&&typeof b[0]=="number"?T(b):b.map(T):null}v.update=function(b){var O=this.scene.glplot.gl,F,V,_,U,H=s.solid;this.data=b;var z=E(this.scene,b);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in s&&(H=s[z.lineDashes]),this.color=i(z.scatterColor)||i(z.lineColor),this.dataPoints=z.position,F={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:H[0],dashScale:H[1],opacity:b.opacity,connectGaps:b.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(F):(this.linePlot=p(F),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var G=b.opacity;if(b.marker&&b.marker.opacity!==void 0&&(G*=b.marker.opacity),V={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:G,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(V):(this.scatterPlot=L(V),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),U={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity},this.textLabels=b.hovertext||b.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(U):(this.textMarkers=L(U),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),_={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:b.opacity},this.errorBars?z.errorBounds?this.errorBars.update(_):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=a(_),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var Y=A(z.position,z.delaunayColor,z.delaunayAxis);Y.opacity=b.opacity,this.delaunayMesh?this.delaunayMesh.update(Y):(Y.gl=O,this.delaunayMesh=C(Y),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},v.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function D(b,O){var F=new m(b,O.uid);return F.update(O),F}B.exports=D},21428:function(B,N,e){var p=e(73972),L=e(71828),a=e(34098),C=e(49508),w=e(11058),h=e(82410),g=e(44542);B.exports=function(s,n,l,c){function f(S,R){return L.coerce(s,n,g,S,R)}var m=t(s,n,f,c);if(!m){n.visible=!1;return}f("text"),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat"),f("zhoverformat"),f("mode"),a.hasLines(n)&&(f("connectgaps"),w(s,n,l,c,f)),a.hasMarkers(n)&&C(s,n,l,c,f,{noSelect:!0,noAngle:!0}),a.hasText(n)&&(f("texttemplate"),h(s,n,c,f,{noSelect:!0}));var v=(n.line||{}).color,A=(n.marker||{}).color;f("surfaceaxis")>=0&&f("surfacecolor",v||A);for(var d=["x","y","z"],u=0;u<3;++u){var y="projection."+d[u];f(y+".show")&&(f(y+".opacity"),f(y+".scale"))}var M=p.getComponentMethod("errorbars","supplyDefaults");M(s,n,v||A||l,{axis:"z"}),M(s,n,v||A||l,{axis:"y",inherit:"z"}),M(s,n,v||A||l,{axis:"x",inherit:"z"})};function t(r,s,n,l){var c=0,f=n("x"),m=n("y"),v=n("z"),A=p.getComponentMethod("calendars","handleTraceDefaults");return A(r,s,["x","y","z"],l),f&&m&&v&&(c=Math.min(f.length,m.length,v.length),s._length=s._xlength=s._ylength=s._zlength=c),c}},13551:function(B,N,e){B.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(B,N,e){var p=e(82196),L=e(9012),a=e(5386).fF,C=e(5386).si,w=e(50693),h=e(1426).extendFlat,g=p.marker,t=p.line,r=g.line;B.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:h({},p.mode,{dflt:"markers"}),text:h({},p.text,{}),texttemplate:C({editType:"plot"},{keys:["a","b","text"]}),hovertext:h({},p.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:h({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:p.connectgaps,fill:h({},p.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:p.fillcolor,marker:h({symbol:g.symbol,opacity:g.opacity,maxdisplayed:g.maxdisplayed,angle:g.angle,angleref:g.angleref,standoff:g.standoff,size:g.size,sizeref:g.sizeref,sizemin:g.sizemin,sizemode:g.sizemode,line:h({width:r.width,editType:"calc"},w("marker.line")),gradient:g.gradient,editType:"calc"},w("marker")),textfont:p.textfont,textposition:p.textposition,selected:p.selected,unselected:p.unselected,hoverinfo:h({},L.hoverinfo,{flags:["a","b","text","name"]}),hoveron:p.hoveron,hovertemplate:a()}},34618:function(B,N,e){var p=e(92770),L=e(36922),a=e(75225),C=e(66279),w=e(47761).calcMarkerSize,h=e(22882);B.exports=function(t,r){var s=r._carpetTrace=h(t,r);if(!(!s||!s.visible||s.visible==="legendonly")){var n;r.xaxis=s.xaxis,r.yaxis=s.yaxis;var l=r._length,c=new Array(l),f,m,v=!1;for(n=0;n<l;n++)if(f=r.a[n],m=r.b[n],p(f)&&p(m)){var A=s.ab2xy(+f,+m,!0),d=s.isVisible(+f,+m);d||(v=!0),c[n]={x:A[0],y:A[1],a:f,b:m,vis:d}}else c[n]={x:!1,y:!1};return r._needsCull=v,c[0].carpet=s,c[0].trace=r,w(r,l),L(t,r),a(c,r),C(c,r),c}}},98965:function(B,N,e){var p=e(71828),L=e(47581),a=e(34098),C=e(49508),w=e(11058),h=e(94039),g=e(82410),t=e(28908),r=e(97001);B.exports=function(n,l,c,f){function m(S,R){return p.coerce(n,l,r,S,R)}m("carpet"),l.xaxis="x",l.yaxis="y";var v=m("a"),A=m("b"),d=Math.min(v.length,A.length);if(!d){l.visible=!1;return}l._length=d,m("text"),m("texttemplate"),m("hovertext");var u=d<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",u),a.hasLines(l)&&(w(n,l,c,f,m,{backoff:!0}),h(n,l,m),m("connectgaps")),a.hasMarkers(l)&&C(n,l,c,f,m,{gradient:!0}),a.hasText(l)&&g(n,l,f,m);var y=[];(a.hasMarkers(l)||a.hasText(l))&&(m("marker.maxdisplayed"),y.push("points")),m("fill"),l.fill!=="none"&&(t(n,l,c,m),a.hasLines(l)||h(n,l,m)),(l.fill==="tonext"||l.fill==="toself")&&y.push("fills");var M=m("hoveron",y.join("+")||"points");M!=="fills"&&m("hovertemplate"),p.coerceSelectionMarkerOpacity(l,m)}},16165:function(B){B.exports=function(e,p,L,a,C){var w=a[C];return e.a=w.a,e.b=w.b,e.y=w.y,e}},48953:function(B){B.exports=function(e,p){var L={},a=p._carpet,C=a.ab2ij([e.a,e.b]),w=Math.floor(C[0]),h=C[0]-w,g=Math.floor(C[1]),t=C[1]-g,r=a.evalxy([],w,g,h,t);return L.yLabel=r[1].toFixed(3),L}},22931:function(B,N,e){var p=e(33720),L=e(71828).fillText;B.exports=function(C,w,h,g){var t=p(C,w,h,g);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var s=1-r.y0/C.ya._length,n=C.xa._length,l=n*s/2,c=n-l;return r.x0=Math.max(Math.min(r.x0,c),l),r.x1=Math.max(Math.min(r.x1,c),l),t}var f=r.cd[r.index];r.a=f.a,r.b=f.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var m=r.trace,v=m._carpet,A=m._module.formatLabels(f,m);r.yLabel=A.yLabel,delete r.text;var d=[];function u(S,R){var x;S.labelprefix&&S.labelprefix.length>0?x=S.labelprefix.replace(/ = $/,""):x=S._hovertitle,d.push(x+": "+R.toFixed(3)+S.labelsuffix)}if(!m.hovertemplate){var y=f.hi||m.hoverinfo,M=y.split("+");M.indexOf("all")!==-1&&(M=["a","b","text"]),M.indexOf("a")!==-1&&u(v.aaxis,f.a),M.indexOf("b")!==-1&&u(v.baxis,f.b),d.push("y: "+r.yLabel),M.indexOf("text")!==-1&&L(f,m,d),r.extraText=d.join("<br>")}return t}},46858:function(B,N,e){B.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(B,N,e){var p=e(32663),L=e(89298),a=e(91424);B.exports=function(w,h,g,t){var r,s,n,l=g[0][0].carpet,c=L.getFromId(w,l.xaxis||"x"),f=L.getFromId(w,l.yaxis||"y"),m={xaxis:c,yaxis:f,plot:h.plot};for(r=0;r<g.length;r++)s=g[r][0].trace,s._xA=c,s._yA=f;for(p(w,m,g,t),r=0;r<g.length;r++)s=g[r][0].trace,n=t.selectAll("g.trace"+s.uid+" .js-line"),a.setClipUrl(n,g[r][0].carpet._clipPathId,w)}},19316:function(B,N,e){var p=e(5386).fF,L=e(5386).si,a=e(82196),C=e(9012),w=e(50693),h=e(79952).P,g=e(1426).extendFlat,t=e(30962).overrideAll,r=a.marker,s=a.line,n=r.line;B.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:g({},a.mode,{dflt:"markers"}),text:g({},a.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:g({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:s.color,width:s.width,dash:h},connectgaps:a.connectgaps,marker:g({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:g({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:g({width:n.width},w("marker.line")),gradient:r.gradient},w("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:g({},C.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:p()},"calc","nested")},84622:function(B,N,e){var p=e(92770),L=e(50606).BADNUM,a=e(36922),C=e(75225),w=e(66279),h=e(71828)._;function g(t){return t&&typeof t=="string"}B.exports=function(r,s){var n=Array.isArray(s.locations),l=n?s.locations.length:s._length,c=new Array(l),f;s.geojson?f=function(y){return g(y)||p(y)}:f=g;for(var m=0;m<l;m++){var v=c[m]={};if(n){var A=s.locations[m];v.loc=f(A)?A:null}else{var d=s.lon[m],u=s.lat[m];p(d)&&p(u)?v.lonlat=[+d,+u]:v.lonlat=[L,L]}}return C(c,s),a(r,s),w(c,s),l&&(c[0].t={labels:{lat:h(r,"lat:")+" ",lon:h(r,"lon:")+" "}}),c}},10659:function(B,N,e){var p=e(71828),L=e(34098),a=e(49508),C=e(11058),w=e(82410),h=e(28908),g=e(19316);B.exports=function(r,s,n,l){function c(M,S){return p.coerce(r,s,g,M,S)}var f=c("locations"),m;if(f&&f.length){var v=c("geojson"),A;(typeof v=="string"&&v!==""||p.isPlainObject(v))&&(A="geojson-id");var d=c("locationmode",A);d==="geojson-id"&&c("featureidkey"),m=f.length}else{var u=c("lon")||[],y=c("lat")||[];m=Math.min(u.length,y.length)}if(!m){s.visible=!1;return}s._length=m,c("text"),c("hovertext"),c("hovertemplate"),c("mode"),L.hasLines(s)&&(C(r,s,n,l,c),c("connectgaps")),L.hasMarkers(s)&&a(r,s,n,l,c,{gradient:!0}),L.hasText(s)&&(c("texttemplate"),w(r,s,l,c)),c("fill"),s.fill!=="none"&&h(r,s,n,c),p.coerceSelectionMarkerOpacity(s,c)}},84084:function(B){B.exports=function(e,p,L,a,C){e.lon=p.lon,e.lat=p.lat,e.location=p.loc?p.loc:null;var w=a[C];return w.fIn&&w.fIn.properties&&(e.properties=w.fIn.properties),e}},82719:function(B,N,e){var p=e(89298);B.exports=function(a,C,w){var h={},g=w[C.geo]._subplot,t=g.mockAxis,r=a.lonlat;return h.lonLabel=p.tickText(t,t.c2l(r[0]),!0).text,h.latLabel=p.tickText(t,t.c2l(r[1]),!0).text,h}},14977:function(B,N,e){var p=e(30211),L=e(50606).BADNUM,a=e(34603),C=e(71828).fillText,w=e(19316);B.exports=function(t,r,s){var n=t.cd,l=n[0].trace,c=t.xa,f=t.ya,m=t.subplot,v=m.projection.isLonLatOverEdges,A=m.project;function d(E){var T=E.lonlat;if(T[0]===L||v(T))return 1/0;var i=A(T),D=A([r,s]),b=Math.abs(i[0]-D[0]),O=Math.abs(i[1]-D[1]),F=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(b*b+O*O)-F,1-3/F)}if(p.getClosest(n,d,t),t.index!==!1){var u=n[t.index],y=u.lonlat,M=[c.c2p(y),f.c2p(y)],S=u.mrc||1;t.x0=M[0]-S,t.x1=M[0]+S,t.y0=M[1]-S,t.y1=M[1]+S,t.loc=u.loc,t.lon=y[0],t.lat=y[1];var R={};R[l.geo]={_subplot:m};var x=l._module.formatLabels(u,l,R);return t.lonLabel=x.lonLabel,t.latLabel=x.latLabel,t.color=a(l,u),t.extraText=h(l,u,t,n[0].t.labels),t.hovertemplate=l.hovertemplate,[t]}};function h(g,t,r,s){if(g.hovertemplate)return;var n=t.hi||g.hoverinfo,l=n==="all"?w.hoverinfo.flags:n.split("+"),c=l.indexOf("location")!==-1&&Array.isArray(g.locations),f=l.indexOf("lon")!==-1,m=l.indexOf("lat")!==-1,v=l.indexOf("text")!==-1,A=[];function d(u){return u+"°"}return c?A.push(t.loc):f&&m?A.push("("+d(r.latLabel)+", "+d(r.lonLabel)+")"):f?A.push(s.lon+d(r.lonLabel)):m&&A.push(s.lat+d(r.latLabel)),v&&C(t,g,A),A.join("<br>")}},17988:function(B,N,e){B.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(B,N,e){var p=e(39898),L=e(71828),a=e(90973).getTopojsonFeatures,C=e(18214),w=e(41327),h=e(71739).findExtremes,g=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),s=e(33095);function n(c,f,m){var v=f.layers.frontplot.select(".scatterlayer"),A=L.makeTraceGroups(v,m,"trace scattergeo");function d(u,y){u.lonlat[0]===g&&p.select(y).remove()}A.selectAll("*").remove(),A.each(function(u){var y=p.select(this),M=u[0].trace;if(r.hasLines(M)||M.fill!=="none"){var S=C.calcTraceToLineCoords(u),R=M.fill!=="none"?C.makePolygon(S):C.makeLine(S);y.selectAll("path.js-line").data([{geojson:R,trace:M}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(M)&&y.selectAll("path.point").data(L.identity).enter().append("path").classed("point",!0).each(function(x){d(x,this)}),r.hasText(M)&&y.selectAll("g").data(L.identity).enter().append("g").append("text").each(function(x){d(x,this)}),s(c,u)})}function l(c,f){var m=c[0].trace,v=f[m.geo],A=v._subplot,d=m._length,u,y;if(Array.isArray(m.locations)){var M=m.locationmode,S=M==="geojson-id"?w.extractTraceFeature(c):a(m,A.topojson);for(u=0;u<d;u++){y=c[u];var R=M==="geojson-id"?y.fOut:w.locationToFeature(M,y.loc,S);y.lonlat=R?R.properties.ct:[g,g]}}var x={padded:!0},E,T;if(v.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var i=w.computeBbox(w.getTraceGeojson(m));E=[i[0],i[2]],T=[i[1],i[3]]}else{for(E=new Array(d),T=new Array(d),u=0;u<d;u++)y=c[u],E[u]=y.lonlat[0],T[u]=y.lonlat[1];x.ppad=t(m,d)}m._extremes.lon=h(v.lonaxis._ax,E,x),m._extremes.lat=h(v.lataxis._ax,T,x)}B.exports={calcGeoJSON:l,plot:n}},20548:function(B,N,e){var p=e(34098),L=e(50606).BADNUM;B.exports=function(C,w){var h=C.cd,g=C.xaxis,t=C.yaxis,r=[],s=h[0].trace,n,l,c,f,m,v=!p.hasMarkers(s)&&!p.hasText(s);if(v)return[];if(w===!1)for(m=0;m<h.length;m++)h[m].selected=0;else for(m=0;m<h.length;m++)n=h[m],l=n.lonlat,l[0]!==L&&(c=g.c2p(l),f=t.c2p(l),w.contains([c,f],null,m,C)?(r.push({pointNumber:m,lon:l[0],lat:l[1]}),n.selected=1):n.selected=0);return r}},33095:function(B,N,e){var p=e(39898),L=e(91424),a=e(7901),C=e(16296),w=C.stylePoints,h=C.styleText;B.exports=function(r,s){s&&g(r,s)};function g(t,r){var s=r[0].trace,n=r[0].node3;n.style("opacity",r[0].trace.opacity),w(n,s,t),h(n,s,t),n.selectAll("path.js-line").style("fill","none").each(function(l){var c=p.select(this),f=l.trace,m=f.line||{};c.call(a.stroke,m.color).call(L.dashLine,m.dash||"",m.width||0),f.fill!=="none"&&c.call(a.fill,f.fillcolor)})}},42341:function(B,N,e){var p=e(9012),L=e(82196),a=e(12663).axisHoverFormat,C=e(50693),w=e(78607),h=e(1426).extendFlat,g=e(30962).overrideAll,t=e(78232).DASHES,r=L.line,s=L.marker,n=s.line,l=B.exports=g({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:L.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:w(t),dflt:"solid"}},marker:h({},C("marker"),{symbol:s.symbol,angle:s.angle,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:h({},C("marker.line"),{width:n.width})}),connectgaps:L.connectgaps,fill:h({},L.fill,{dflt:"none"}),fillcolor:L.fillcolor,selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:p.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=L.hovertemplate,l.texttemplate=L.texttemplate},72156:function(B,N,e){var p=e(20794);B.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:p.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(B,N,e){var p=e(88294),L=e(71828),a=e(41675),C=e(71739).findExtremes,w=e(42973),h=e(47761),g=h.calcMarkerSize,t=h.calcAxisExpansion,r=h.setFirstScatter,s=e(36922),n=e(19635),l=e(38967),c=e(50606).BADNUM,f=e(78232).TOO_MANY_POINTS;B.exports=function(d,u){var y=d._fullLayout,M=u._xA=a.getFromId(d,u.xaxis,"x"),S=u._yA=a.getFromId(d,u.yaxis,"y"),R=y._plots[u.xaxis+u.yaxis],x=u._length,E=x>=f,T=x*2,i={},D,b=M.makeCalcdata(u,"x"),O=S.makeCalcdata(u,"y"),F=w(u,M,"x",b),V=w(u,S,"y",O),_=F.vals,U=V.vals;u._x=_,u._y=U,u.xperiodalignment&&(u._origX=b,u._xStarts=F.starts,u._xEnds=F.ends),u.yperiodalignment&&(u._origY=O,u._yStarts=V.starts,u._yEnds=V.ends);var H=new Array(T),z=new Array(x);for(D=0;D<x;D++)H[D*2]=_[D]===c?NaN:_[D],H[D*2+1]=U[D]===c?NaN:U[D],z[D]=D;if(M.type==="log")for(D=0;D<T;D+=2)H[D]=M.c2l(H[D]);if(S.type==="log")for(D=1;D<T;D+=2)H[D]=S.c2l(H[D]);E&&M.type!=="log"&&S.type!=="log"?i.tree=p(H):i.ids=z,s(d,u);var G=v(d,R,u,H,_,U),Y=l(d,R);r(y,u);var J;return E?G.marker&&(J=G.marker.sizeAvg||Math.max(G.marker.size,3)):J=g(u,x),t(d,u,M,S,_,U,J),G.errorX&&m(u,M,G.errorX),G.errorY&&m(u,S,G.errorY),G.fill&&!Y.fill2d&&(Y.fill2d=!0),G.marker&&!Y.scatter2d&&(Y.scatter2d=!0),G.line&&!Y.line2d&&(Y.line2d=!0),(G.errorX||G.errorY)&&!Y.error2d&&(Y.error2d=!0),G.text&&!Y.glText&&(Y.glText=!0),G.marker&&(G.marker.snap=x),Y.lineOptions.push(G.line),Y.errorXOptions.push(G.errorX),Y.errorYOptions.push(G.errorY),Y.fillOptions.push(G.fill),Y.markerOptions.push(G.marker),Y.markerSelectedOptions.push(G.markerSel),Y.markerUnselectedOptions.push(G.markerUnsel),Y.textOptions.push(G.text),Y.textSelectedOptions.push(G.textSel),Y.textUnselectedOptions.push(G.textUnsel),Y.selectBatch.push([]),Y.unselectBatch.push([]),i._scene=Y,i.index=Y.count,i.x=_,i.y=U,i.positions=H,Y.count++,[{x:!1,y:!1,t:i,trace:u}]};function m(A,d,u){var y=A._extremes[d._id],M=C(d,u._bnds,{padded:!0});y.min=y.min.concat(M.min),y.max=y.max.concat(M.max)}function v(A,d,u,y,M,S){var R=n.style(A,u);if(R.marker&&(R.marker.positions=y),R.line&&y.length>1&&L.extendFlat(R.line,n.linePositions(A,u,y)),R.errorX||R.errorY){var x=n.errorBarPositions(A,u,y,M,S);R.errorX&&L.extendFlat(R.errorX,x.x),R.errorY&&L.extendFlat(R.errorY,x.y)}return R.text&&(L.extendFlat(R.text,{positions:y},n.textPosition(A,u,R.text,R.marker)),L.extendFlat(R.textSel,{positions:y},n.textPosition(A,u,R.text,R.markerSel)),L.extendFlat(R.textUnsel,{positions:y},n.textPosition(A,u,R.text,R.markerUnsel))),R}},78232:function(B){var N=20;B.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:N,SYMBOL_STROKE:N/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(B,N,e){var p=e(92770),L=e(82019),a=e(25075),C=e(73972),w=e(71828),h=e(91424),g=e(41675),t=e(81697).formatColor,r=e(34098),s=e(39984),n=e(68645),l=e(78232),c=e(37822).DESELECTDIM,f={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},m=e(23469).appendArrayPointValue;function v(F,V){var _,U={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},H=F._context.plotGlPixelRatio;if(V.visible!==!0)return U;if(r.hasText(V)&&(U.text=A(F,V),U.textSel=y(F,V,V.selected),U.textUnsel=y(F,V,V.unselected)),r.hasMarkers(V)&&(U.marker=d(F,V),U.markerSel=u(F,V,V.selected),U.markerUnsel=u(F,V,V.unselected),!V.unselected&&w.isArrayOrTypedArray(V.marker.opacity))){var z=V.marker.opacity;for(U.markerUnsel.opacity=new Array(z.length),_=0;_<z.length;_++)U.markerUnsel.opacity[_]=c*z[_]}if(r.hasLines(V)){U.line={overlay:!0,thickness:V.line.width*H,color:V.line.color,opacity:V.opacity};var G=(l.DASHES[V.line.dash]||[1]).slice();for(_=0;_<G.length;++_)G[_]*=V.line.width*H;U.line.dashes=G}return V.error_x&&V.error_x.visible&&(U.errorX=M(V,V.error_x,H)),V.error_y&&V.error_y.visible&&(U.errorY=M(V,V.error_y,H)),V.fill&&V.fill!=="none"&&(U.fill={closed:!0,fill:V.fillcolor,thickness:0}),U}function A(F,V){var _=F._fullLayout,U=V._length,H=V.textfont,z=V.textposition,G=Array.isArray(z)?z:[z],Y=H.color,J=H.size,ae=H.family,oe={},he,q=F._context.plotGlPixelRatio,Z=V.texttemplate;if(Z){oe.text=[];var $=_._d3locale,K=Array.isArray(Z),re=K?Math.min(Z.length,U):U,le=K?function(Ee){return Z[Ee]}:function(){return Z};for(he=0;he<re;he++){var te={i:he},ee=V._module.formatLabels(te,V,_),ue={};m(ue,V,he);var se=V._meta||{};oe.text.push(w.texttemplateString(le(he),ee,$,ue,te,se))}}else Array.isArray(V.text)&&V.text.length<U?oe.text=V.text.slice():oe.text=V.text;if(Array.isArray(oe.text))for(he=oe.text.length;he<U;he++)oe.text[he]="";for(oe.opacity=V.opacity,oe.font={},oe.align=[],oe.baseline=[],he=0;he<G.length;he++){var ve=G[he].split(/\s+/);switch(ve[1]){case"left":oe.align.push("right");break;case"right":oe.align.push("left");break;default:oe.align.push(ve[1])}switch(ve[0]){case"top":oe.baseline.push("bottom");break;case"bottom":oe.baseline.push("top");break;default:oe.baseline.push(ve[0])}}if(Array.isArray(Y))for(oe.color=new Array(U),he=0;he<U;he++)oe.color[he]=Y[he];else oe.color=Y;if(w.isArrayOrTypedArray(J)||Array.isArray(ae))for(oe.font=new Array(U),he=0;he<U;he++){var be=oe.font[he]={};be.size=(w.isTypedArray(J)?J[he]:Array.isArray(J)?p(J[he])?J[he]:0:J)*q,be.family=Array.isArray(ae)?ae[he]:ae}else oe.font={size:J*q,family:ae};return oe}function d(F,V){var _=V._length,U=V.marker,H={},z,G=w.isArrayOrTypedArray(U.symbol),Y=w.isArrayOrTypedArray(U.angle),J=w.isArrayOrTypedArray(U.color),ae=w.isArrayOrTypedArray(U.line.color),oe=w.isArrayOrTypedArray(U.opacity),he=w.isArrayOrTypedArray(U.size),q=w.isArrayOrTypedArray(U.line.width),Z;if(G||(Z=n.isOpenSymbol(U.symbol)),G||J||ae||oe||Y){H.symbols=new Array(_),H.angles=new Array(_),H.colors=new Array(_),H.borderColors=new Array(_);var $=U.symbol,K=U.angle,re=t(U,U.opacity,_),le=t(U.line,U.opacity,_);if(!Array.isArray(le[0])){var te=le;for(le=Array(_),z=0;z<_;z++)le[z]=te}if(!Array.isArray(re[0])){var ee=re;for(re=Array(_),z=0;z<_;z++)re[z]=ee}if(!Array.isArray($)){var ue=$;for($=Array(_),z=0;z<_;z++)$[z]=ue}if(!Array.isArray(K)){var se=K;for(K=Array(_),z=0;z<_;z++)K[z]=se}for(H.symbols=$,H.angles=K,H.colors=re,H.borderColors=le,z=0;z<_;z++)G&&(Z=n.isOpenSymbol(U.symbol[z])),Z&&(le[z]=re[z].slice(),re[z]=re[z].slice(),re[z][3]=0);for(H.opacity=V.opacity,H.markers=new Array(_),z=0;z<_;z++)H.markers[z]=i({mx:H.symbols[z],ma:H.angles[z]},V)}else Z?(H.color=a(U.color,"uint8"),H.color[3]=0,H.borderColor=a(U.color,"uint8")):(H.color=a(U.color,"uint8"),H.borderColor=a(U.line.color,"uint8")),H.opacity=V.opacity*U.opacity,H.marker=i({mx:U.symbol,ma:U.angle},V);var ve=1,be=s(V,ve),Ee;if(he||q){var Ae=H.sizes=new Array(_),Oe=H.borderSizes=new Array(_),Ue=0,Le;if(he){for(z=0;z<_;z++)Ae[z]=be(U.size[z]),Ue+=Ae[z];Le=Ue/_}else for(Ee=be(U.size),z=0;z<_;z++)Ae[z]=Ee;if(q)for(z=0;z<_;z++)Oe[z]=U.line.width[z];else for(Ee=U.line.width,z=0;z<_;z++)Oe[z]=Ee;H.sizeAvg=Le}else H.size=be(U&&U.size||10),H.borderSizes=be(U.line.width);return H}function u(F,V,_){var U=V.marker,H={};return _&&(_.marker&&_.marker.symbol?H=d(F,w.extendFlat({},U,_.marker)):_.marker&&(_.marker.size&&(H.size=_.marker.size),_.marker.color&&(H.colors=_.marker.color),_.marker.opacity!==void 0&&(H.opacity=_.marker.opacity))),H}function y(F,V,_){var U={};if(!_)return U;if(_.textfont){var H={opacity:1,text:V.text,texttemplate:V.texttemplate,textposition:V.textposition,textfont:w.extendFlat({},V.textfont)};_.textfont&&w.extendFlat(H.textfont,_.textfont),U=A(F,H)}return U}function M(F,V,_){var U={capSize:V.width*2*_,lineWidth:V.thickness*_,color:V.color};return V.copy_ystyle&&(U=F.error_y),U}var S=l.SYMBOL_SDF_SIZE,R=l.SYMBOL_SIZE,x=l.SYMBOL_STROKE,E={},T=h.symbolFuncs[0](R*.05);function i(F,V){var _=F.mx;if(_==="circle")return null;var U,H,z=h.symbolNumber(_),G=h.symbolFuncs[z%100],Y=!!h.symbolNoDot[z%100],J=!!h.symbolNoFill[z%100],ae=n.isDotSymbol(_);if(F.ma&&(_+="_"+F.ma),E[_])return E[_];var oe=h.getMarkerAngle(F,V);return ae&&!Y?U=G(R*1.1,oe)+T:U=G(R,oe),H=L(U,{w:S,h:S,viewBox:[-R,-R,R,R],stroke:J?x:-x}),E[_]=H,H||null}function D(F,V,_){var U=_.length,H=U/2,z,G;if(r.hasLines(V)&&H)if(V.line.shape==="hv"){for(z=[],G=0;G<H-1;G++)isNaN(_[G*2])||isNaN(_[G*2+1])?z.push(NaN,NaN,NaN,NaN):(z.push(_[G*2],_[G*2+1]),!isNaN(_[G*2+2])&&!isNaN(_[G*2+3])?z.push(_[G*2+2],_[G*2+1]):z.push(NaN,NaN));z.push(_[U-2],_[U-1])}else if(V.line.shape==="hvh"){for(z=[],G=0;G<H-1;G++)if(isNaN(_[G*2])||isNaN(_[G*2+1])||isNaN(_[G*2+2])||isNaN(_[G*2+3]))!isNaN(_[G*2])&&!isNaN(_[G*2+1])?z.push(_[G*2],_[G*2+1]):z.push(NaN,NaN),z.push(NaN,NaN);else{var Y=(_[G*2]+_[G*2+2])/2;z.push(_[G*2],_[G*2+1],Y,_[G*2+1],Y,_[G*2+3])}z.push(_[U-2],_[U-1])}else if(V.line.shape==="vhv"){for(z=[],G=0;G<H-1;G++)if(isNaN(_[G*2])||isNaN(_[G*2+1])||isNaN(_[G*2+2])||isNaN(_[G*2+3]))!isNaN(_[G*2])&&!isNaN(_[G*2+1])?z.push(_[G*2],_[G*2+1]):z.push(NaN,NaN),z.push(NaN,NaN);else{var J=(_[G*2+1]+_[G*2+3])/2;z.push(_[G*2],_[G*2+1],_[G*2],J,_[G*2+2],J)}z.push(_[U-2],_[U-1])}else if(V.line.shape==="vh"){for(z=[],G=0;G<H-1;G++)isNaN(_[G*2])||isNaN(_[G*2+1])?z.push(NaN,NaN,NaN,NaN):(z.push(_[G*2],_[G*2+1]),!isNaN(_[G*2+2])&&!isNaN(_[G*2+3])?z.push(_[G*2],_[G*2+3]):z.push(NaN,NaN));z.push(_[U-2],_[U-1])}else z=_;var ae=!1;for(G=0;G<z.length;G++)if(isNaN(z[G])){ae=!0;break}var oe=ae||z.length>l.TOO_MANY_POINTS||r.hasMarkers(V)?"rect":"round";if(ae&&V.connectgaps){var he=z[0],q=z[1];for(G=0;G<z.length;G+=2)isNaN(z[G])||isNaN(z[G+1])?(z[G]=he,z[G+1]=q):(he=z[G],q=z[G+1])}return{join:oe,positions:z}}function b(F,V,_,U,H){var z=C.getComponentMethod("errorbars","makeComputeError"),G=g.getFromId(F,V.xaxis,"x"),Y=g.getFromId(F,V.yaxis,"y"),J=_.length/2,ae={};function oe(he,q){var Z=q._id.charAt(0),$=V["error_"+Z];if($&&$.visible&&(q.type==="linear"||q.type==="log")){for(var K=z($),re={x:0,y:1}[Z],le={x:[0,1,2,3],y:[2,3,0,1]}[Z],te=new Float64Array(4*J),ee=1/0,ue=-1/0,se=0,ve=0;se<J;se++,ve+=4){var be=he[se];if(p(be)){var Ee=_[se*2+re],Ae=K(be,se),Oe=Ae[0],Ue=Ae[1];if(p(Oe)&&p(Ue)){var Le=be-Oe,we=be+Ue;te[ve+le[0]]=Ee-q.c2l(Le),te[ve+le[1]]=q.c2l(we)-Ee,te[ve+le[2]]=0,te[ve+le[3]]=0,ee=Math.min(ee,be-Oe),ue=Math.max(ue,be+Ue)}}}ae[Z]={positions:_,errors:te,_bnds:[ee,ue]}}}return oe(U,G),oe(H,Y),ae}function O(F,V,_,U){var H=V._length,z={},G;if(r.hasMarkers(V)){var Y=_.font,J=_.align,ae=_.baseline;for(z.offset=new Array(H),G=0;G<H;G++){var oe=U.sizes?U.sizes[G]:U.size,he=Array.isArray(Y)?Y[G].size:Y.size,q=Array.isArray(J)?J.length>1?J[G]:J[0]:J,Z=Array.isArray(ae)?ae.length>1?ae[G]:ae[0]:ae,$=f[q],K=f[Z],re=oe?oe/.8+1:0,le=-K*re-K*.5;z.offset[G]=[$*re/he,le/he]}}return z}B.exports={style:v,markerStyle:d,markerSelection:u,linePositions:D,errorBarPositions:b,textPosition:O}},47148:function(B,N,e){var p=e(71828),L=e(73972),a=e(68645),C=e(42341),w=e(47581),h=e(34098),g=e(67513),t=e(73927),r=e(49508),s=e(11058),n=e(28908),l=e(82410);B.exports=function(f,m,v,A){function d(T,i){return p.coerce(f,m,C,T,i)}var u=f.marker?a.isOpenSymbol(f.marker.symbol):!1,y=h.isBubble(f),M=g(f,m,A,d);if(!M){m.visible=!1;return}t(f,m,A,d),d("xhoverformat"),d("yhoverformat");var S=M<w.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("hovertemplate"),d("mode",S),h.hasLines(m)&&(d("connectgaps"),s(f,m,v,A,d),d("line.shape")),h.hasMarkers(m)&&(r(f,m,v,A,d,{noAngleRef:!0,noStandOff:!0}),d("marker.line.width",u||y?1:0)),h.hasText(m)&&(d("texttemplate"),l(f,m,A,d));var R=(m.line||{}).color,x=(m.marker||{}).color;d("fill"),m.fill!=="none"&&n(f,m,v,d);var E=L.getComponentMethod("errorbars","supplyDefaults");E(f,m,R||x||v,{axis:"y"}),E(f,m,R||x||v,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(m,d)}},5345:function(B,N,e){var p=e(71828),L=e(7901),a=e(37822).DESELECTDIM;function C(w){var h=w[0],g=h.trace,t=h.t,r=t._scene,s=t.index,n=r.selectBatch[s],l=r.unselectBatch[s],c=r.textOptions[s],f=r.textSelectedOptions[s]||{},m=r.textUnselectedOptions[s]||{},v=p.extendFlat({},c),A,d;if(n.length||l.length){var u=f.color,y=m.color,M=c.color,S=Array.isArray(M);for(v.color=new Array(g._length),A=0;A<n.length;A++)d=n[A],v.color[d]=u||(S?M[d]:M);for(A=0;A<l.length;A++){d=l[A];var R=S?M[d]:M;v.color[d]=y||(u?R:L.addOpacity(R,a))}}r.glText[s].update(v)}B.exports={styleTextSelection:C}},68101:function(B,N,e){var p=e(8225);B.exports=function(a,C,w){var h=a.i;return"x"in a||(a.x=C._x[h]),"y"in a||(a.y=C._y[h]),p(a,C,w)}},68645:function(B,N,e){var p=e(78232);N.isOpenSymbol=function(L){return typeof L=="string"?p.OPEN_RE.test(L):L%200>100},N.isDotSymbol=function(L){return typeof L=="string"?p.DOT_RE.test(L):L>200}},20794:function(B,N,e){var p=e(73972),L=e(71828),a=e(34603);function C(h,g,t,r){var s=h.cd,n=s[0].t,l=s[0].trace,c=h.xa,f=h.ya,m=n.x,v=n.y,A=c.c2p(g),d=f.c2p(t),u=h.distance,y;if(n.tree){var M=c.p2c(A-u),S=c.p2c(A+u),R=f.p2c(d-u),x=f.p2c(d+u);r==="x"?y=n.tree.range(Math.min(M,S),Math.min(f._rl[0],f._rl[1]),Math.max(M,S),Math.max(f._rl[0],f._rl[1])):y=n.tree.range(Math.min(M,S),Math.min(R,x),Math.max(M,S),Math.max(R,x))}else y=n.ids;var E,T,i,D,b,O,F,V,_,U=u;if(r==="x"){var H=!!l.xperiodalignment,z=!!l.yperiodalignment;for(b=0;b<y.length;b++){if(E=y[b],i=m[E],O=Math.abs(c.c2p(i)-A),H){var G=c.c2p(l._xStarts[E]),Y=c.c2p(l._xEnds[E]);O=A>=Math.min(G,Y)&&A<=Math.max(G,Y)?0:1/0}if(O<U){if(U=O,D=v[E],F=f.c2p(D)-d,z){var J=f.c2p(l._yStarts[E]),ae=f.c2p(l._yEnds[E]);F=d>=Math.min(J,ae)&&d<=Math.max(J,ae)?0:1/0}_=Math.sqrt(O*O+F*F),T=y[b]}}}else for(b=y.length-1;b>-1;b--)E=y[b],i=m[E],D=v[E],O=c.c2p(i)-A,F=f.c2p(D)-d,V=Math.sqrt(O*O+F*F),V<U&&(U=_=V,T=E);return h.index=T,h.distance=U,h.dxy=_,T===void 0?[h]:[w(h,m,v,l)]}function w(h,g,t,r){var s=h.xa,n=h.ya,l=h.distance,c=h.dxy,f=h.index,m={pointNumber:f,x:g[f],y:t[f]};m.tx=Array.isArray(r.text)?r.text[f]:r.text,m.htx=Array.isArray(r.hovertext)?r.hovertext[f]:r.hovertext,m.data=Array.isArray(r.customdata)?r.customdata[f]:r.customdata,m.tp=Array.isArray(r.textposition)?r.textposition[f]:r.textposition;var v=r.textfont;v&&(m.ts=L.isArrayOrTypedArray(v.size)?v.size[f]:v.size,m.tc=Array.isArray(v.color)?v.color[f]:v.color,m.tf=Array.isArray(v.family)?v.family[f]:v.family);var A=r.marker;A&&(m.ms=L.isArrayOrTypedArray(A.size)?A.size[f]:A.size,m.mo=L.isArrayOrTypedArray(A.opacity)?A.opacity[f]:A.opacity,m.mx=L.isArrayOrTypedArray(A.symbol)?A.symbol[f]:A.symbol,m.ma=L.isArrayOrTypedArray(A.angle)?A.angle[f]:A.angle,m.mc=L.isArrayOrTypedArray(A.color)?A.color[f]:A.color);var d=A&&A.line;d&&(m.mlc=Array.isArray(d.color)?d.color[f]:d.color,m.mlw=L.isArrayOrTypedArray(d.width)?d.width[f]:d.width);var u=A&&A.gradient;u&&u.type!=="none"&&(m.mgt=Array.isArray(u.type)?u.type[f]:u.type,m.mgc=Array.isArray(u.color)?u.color[f]:u.color);var y=s.c2p(m.x,!0),M=n.c2p(m.y,!0),S=m.mrc||1,R=r.hoverlabel;R&&(m.hbg=Array.isArray(R.bgcolor)?R.bgcolor[f]:R.bgcolor,m.hbc=Array.isArray(R.bordercolor)?R.bordercolor[f]:R.bordercolor,m.hts=L.isArrayOrTypedArray(R.font.size)?R.font.size[f]:R.font.size,m.htc=Array.isArray(R.font.color)?R.font.color[f]:R.font.color,m.htf=Array.isArray(R.font.family)?R.font.family[f]:R.font.family,m.hnl=L.isArrayOrTypedArray(R.namelength)?R.namelength[f]:R.namelength);var x=r.hoverinfo;x&&(m.hi=Array.isArray(x)?x[f]:x);var E=r.hovertemplate;E&&(m.ht=Array.isArray(E)?E[f]:E);var T={};T[h.index]=m;var i=r._origX,D=r._origY,b=L.extendFlat({},h,{color:a(r,m),x0:y-S,x1:y+S,xLabelVal:i?i[f]:m.x,y0:M-S,y1:M+S,yLabelVal:D?D[f]:m.y,cd:T,distance:l,spikeDistance:c,hovertemplate:m.ht});return m.htx?b.text=m.htx:m.tx?b.text=m.tx:r.text&&(b.text=r.text),L.fillText(m,r,b),p.getComponentMethod("errorbars","hoverInfo")(m,r,b),b}B.exports={hoverPoints:C,calcHover:w}},68868:function(B,N,e){var p=e(72156);p.plot=e(26787),B.exports=p},26787:function(B,N,e){var p=e(11870),L=e(46075),a=e(3593),C=e(42505),w=e(71828),h=e(64505).selectMode,g=e(79749),t=e(34098),r=e(68687),s=e(5345).styleTextSelection,n={};function l(f,m,v,A){var d=f._size,u=f.width*A,y=f.height*A,M=d.l*A,S=d.b*A,R=d.r*A,x=d.t*A,E=d.w*A,T=d.h*A;return[M+m.domain[0]*E,S+v.domain[0]*T,u-R-(1-m.domain[1])*E,y-x-(1-v.domain[1])*T]}var c=B.exports=function(m,v,A){if(A.length){var d=m._fullLayout,u=v._scene,y=v.xaxis,M=v.yaxis,S,R;if(u){var x=g(m,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!x){u.init();return}var E=u.count,T=d._glcanvas.data()[0].regl;if(r(m,v,A),u.dirty){if(u.error2d===!0&&(u.error2d=a(T)),u.line2d===!0&&(u.line2d=L(T)),u.scatter2d===!0&&(u.scatter2d=p(T)),u.fill2d===!0&&(u.fill2d=L(T)),u.glText===!0)for(u.glText=new Array(E),S=0;S<E;S++)u.glText[S]=new C(T);if(u.glText){if(E>u.glText.length){var i=E-u.glText.length;for(S=0;S<i;S++)u.glText.push(new C(T))}else if(E<u.glText.length){var D=u.glText.length-E,b=u.glText.splice(E,D);b.forEach(function(te){te.destroy()})}for(S=0;S<E;S++)u.glText[S].update(u.textOptions[S])}if(u.line2d&&(u.line2d.update(u.lineOptions),u.lineOptions=u.lineOptions.map(function(te){if(te&&te.positions){for(var ee=te.positions,ue=0;ue<ee.length&&(isNaN(ee[ue])||isNaN(ee[ue+1]));)ue+=2;for(var se=ee.length-2;se>ue&&(isNaN(ee[se])||isNaN(ee[se+1]));)se-=2;te.positions=ee.slice(ue,se+2)}return te}),u.line2d.update(u.lineOptions)),u.error2d){var O=(u.errorXOptions||[]).concat(u.errorYOptions||[]);u.error2d.update(O)}u.scatter2d&&u.scatter2d.update(u.markerOptions),u.fillOrder=w.repeat(null,E),u.fill2d&&(u.fillOptions=u.fillOptions.map(function(te,ee){var ue=A[ee];if(!(!te||!ue||!ue[0]||!ue[0].trace)){var se=ue[0],ve=se.trace,be=se.t,Ee=u.lineOptions[ee],Ae,Oe,Ue=[];ve._ownfill&&Ue.push(ee),ve._nexttrace&&Ue.push(ee+1),Ue.length&&(u.fillOrder[ee]=Ue);var Le=[],we=Ee&&Ee.positions||be.positions,Ce,Ve;if(ve.fill==="tozeroy"){for(Ce=0;Ce<we.length&&isNaN(we[Ce+1]);)Ce+=2;for(Ve=we.length-2;Ve>Ce&&isNaN(we[Ve+1]);)Ve-=2;we[Ce+1]!==0&&(Le=[we[Ce],0]),Le=Le.concat(we.slice(Ce,Ve+2)),we[Ve+1]!==0&&(Le=Le.concat([we[Ve],0]))}else if(ve.fill==="tozerox"){for(Ce=0;Ce<we.length&&isNaN(we[Ce]);)Ce+=2;for(Ve=we.length-2;Ve>Ce&&isNaN(we[Ve]);)Ve-=2;we[Ce]!==0&&(Le=[0,we[Ce+1]]),Le=Le.concat(we.slice(Ce,Ve+2)),we[Ve]!==0&&(Le=Le.concat([0,we[Ve+1]]))}else if(ve.fill==="toself"||ve.fill==="tonext"){for(Le=[],Ae=0,te.splitNull=!0,Oe=0;Oe<we.length;Oe+=2)(isNaN(we[Oe])||isNaN(we[Oe+1]))&&(Le=Le.concat(we.slice(Ae,Oe)),Le.push(we[Ae],we[Ae+1]),Le.push(null,null),Ae=Oe+2);Le=Le.concat(we.slice(Ae)),Ae&&Le.push(we[Ae],we[Ae+1])}else{var Ne=ve._nexttrace;if(Ne){var ke=u.lineOptions[ee+1];if(ke){var We=ke.positions;if(ve.fill==="tonexty"){for(Le=we.slice(),ee=Math.floor(We.length/2);ee--;){var rt=We[ee*2],et=We[ee*2+1];isNaN(rt)||isNaN(et)||Le.push(rt,et)}te.fill=Ne.fillcolor}}}}if(ve._prevtrace&&ve._prevtrace.fill==="tonext"){var tt=u.lineOptions[ee-1].positions,at=Le.length/2;Ae=at;var ct=[Ae];for(Oe=0;Oe<tt.length;Oe+=2)(isNaN(tt[Oe])||isNaN(tt[Oe+1]))&&(ct.push(Oe/2+at+1),Ae=Oe+2);Le=Le.concat(tt),te.hole=ct}return te.fillmode=ve.fill,te.opacity=ve.opacity,te.positions=Le,te}}),u.fill2d.update(u.fillOptions))}var F=d.dragmode,V=h(F),_=d.clickmode.indexOf("select")>-1;for(S=0;S<E;S++){var U=A[S][0],H=U.trace,z=U.t,G=z.index,Y=H._length,J=z.x,ae=z.y;if(H.selectedpoints||V||_){if(V||(V=!0),H.selectedpoints){var oe=u.selectBatch[G]=w.selIndices2selPoints(H),he={};for(R=0;R<oe.length;R++)he[oe[R]]=1;var q=[];for(R=0;R<Y;R++)he[R]||q.push(R);u.unselectBatch[G]=q}var Z=z.xpx=new Array(Y),$=z.ypx=new Array(Y);for(R=0;R<Y;R++)Z[R]=y.c2p(J[R]),$[R]=M.c2p(ae[R])}else z.xpx=z.ypx=null}if(V){if(u.select2d||(u.select2d=p(d._glcanvas.data()[1].regl)),u.scatter2d){var K=new Array(E);for(S=0;S<E;S++)K[S]=u.selectBatch[S].length||u.unselectBatch[S].length?u.markerUnselectedOptions[S]:{};u.scatter2d.update(K)}u.select2d&&(u.select2d.update(u.markerOptions),u.select2d.update(u.markerSelectedOptions)),u.glText&&A.forEach(function(te){var ee=((te||[])[0]||{}).trace||{};t.hasText(ee)&&s(te)})}else u.scatter2d&&u.scatter2d.update(u.markerOptions);var re={viewport:l(d,y,M,m._context.plotGlPixelRatio),range:[(y._rl||y.range)[0],(M._rl||M.range)[0],(y._rl||y.range)[1],(M._rl||M.range)[1]]},le=w.repeat(re,u.count);u.fill2d&&u.fill2d.update(le),u.line2d&&u.line2d.update(le),u.error2d&&u.error2d.update(le.concat(le)),u.scatter2d&&u.scatter2d.update(le),u.select2d&&u.select2d.update(le),u.glText&&u.glText.forEach(function(te){te.update(re)})}}};c.reglPrecompiled=n},38967:function(B,N,e){var p=e(71828);B.exports=function(a,C){var w=C._scene,h={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},g={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(w=C._scene={},w.init=function(){p.extendFlat(w,g,h)},w.init(),w.update=function(r){var s=p.repeat(r,w.count);if(w.fill2d&&w.fill2d.update(s),w.scatter2d&&w.scatter2d.update(s),w.line2d&&w.line2d.update(s),w.error2d&&w.error2d.update(s.concat(s)),w.select2d&&w.select2d.update(s),w.glText)for(var n=0;n<w.count;n++)w.glText[n].update(r)},w.draw=function(){for(var r=w.count,s=w.fill2d,n=w.error2d,l=w.line2d,c=w.scatter2d,f=w.glText,m=w.select2d,v=w.selectBatch,A=w.unselectBatch,d=0;d<r;d++){if(s&&w.fillOrder[d]&&s.draw(w.fillOrder[d]),l&&w.lineOptions[d]&&l.draw(d),n&&(w.errorXOptions[d]&&n.draw(d),w.errorYOptions[d]&&n.draw(d+r)),c&&w.markerOptions[d])if(A[d].length){var u=p.repeat([],w.count);u[d]=A[d],c.draw(u)}else v[d].length||c.draw(d);f[d]&&w.textOptions[d]&&f[d].render()}m&&m.draw(v),w.dirty=!1},w.destroy=function(){w.fill2d&&w.fill2d.destroy&&w.fill2d.destroy(),w.scatter2d&&w.scatter2d.destroy&&w.scatter2d.destroy(),w.error2d&&w.error2d.destroy&&w.error2d.destroy(),w.line2d&&w.line2d.destroy&&w.line2d.destroy(),w.select2d&&w.select2d.destroy&&w.select2d.destroy(),w.glText&&w.glText.forEach(function(r){r.destroy&&r.destroy()}),w.lineOptions=null,w.fillOptions=null,w.markerOptions=null,w.markerSelectedOptions=null,w.markerUnselectedOptions=null,w.errorXOptions=null,w.errorYOptions=null,w.textOptions=null,w.textSelectedOptions=null,w.textUnselectedOptions=null,w.selectBatch=null,w.unselectBatch=null,C._scene=null}),w.dirty||p.extendFlat(w,h),w}},58147:function(B,N,e){var p=e(34098),L=e(5345).styleTextSelection;B.exports=function(C,w){var h=C.cd,g=C.xaxis,t=C.yaxis,r=[],s=h[0].trace,n=h[0].t,l=s._length,c=n.x,f=n.y,m=n._scene,v=n.index;if(!m)return r;var A=p.hasText(s),d=p.hasMarkers(s),u=!d&&!A;if(s.visible!==!0||u)return r;var y=[],M=[];if(w!==!1&&!w.degenerate)for(var S=0;S<l;S++)w.contains([n.xpx[S],n.ypx[S]],!1,S,C)?(y.push(S),r.push({pointNumber:S,x:g.c2d(c[S]),y:t.c2d(f[S])})):M.push(S);if(d){var R=m.scatter2d;if(!y.length&&!M.length){var x=new Array(m.count);x[v]=m.markerOptions[v],R.update.apply(R,x)}else if(!m.selectBatch[v].length&&!m.unselectBatch[v].length){var E=new Array(m.count);E[v]=m.markerUnselectedOptions[v],R.update.apply(R,E)}}return m.selectBatch[v]=y,m.unselectBatch[v]=M,A&&L(h),r}},99181:function(B,N,e){var p=e(5386).fF,L=e(5386).si,a=e(19316),C=e(82196),w=e(23585),h=e(9012),g=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,s=e(23585),n=a.line,l=a.marker;B.exports=r({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},s.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},l.opacity,{dflt:1})},mode:t({},C.mode,{dflt:"markers"}),text:t({},C.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},C.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:C.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},g("marker")),fill:a.fill,fillcolor:C.fillcolor,textfont:w.layers.symbol.textfont,textposition:w.layers.symbol.textposition,below:{valType:"string"},selected:{marker:C.selected.marker},unselected:{marker:C.unselected.marker},hoverinfo:t({},h.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:p()},"calc","nested")},15790:function(B,N,e){var p=e(92770),L=e(71828),a=e(50606).BADNUM,C=e(18214),w=e(21081),h=e(91424),g=e(39984),t=e(34098),r=e(13056),s=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,l=e(63893).BR_TAG_ALL;B.exports=function(M,S){var R=S[0].trace,x=R.visible===!0&&R._length!==0,E=R.fill!=="none",T=t.hasLines(R),i=t.hasMarkers(R),D=t.hasText(R),b=i&&R.marker.symbol==="circle",O=i&&R.marker.symbol!=="circle",F=R.cluster&&R.cluster.enabled,V=c("fill"),_=c("line"),U=c("circle"),H=c("symbol"),z={fill:V,line:_,circle:U,symbol:H};if(!x)return z;var G;if((E||T)&&(G=C.calcTraceToLineCoords(S)),E&&(V.geojson=C.makePolygon(G),V.layout.visibility="visible",L.extendFlat(V.paint,{"fill-color":R.fillcolor})),T&&(_.geojson=C.makeLine(G),_.layout.visibility="visible",L.extendFlat(_.paint,{"line-width":R.line.width,"line-color":R.line.color,"line-opacity":R.opacity})),b){var Y=f(S);U.geojson=Y.geojson,U.layout.visibility="visible",F&&(U.filter=["!",["has","point_count"]],z.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":u(R.cluster.color,R.cluster.step),"circle-radius":u(R.cluster.size,R.cluster.step),"circle-opacity":u(R.cluster.opacity,R.cluster.step)}},z.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),L.extendFlat(U.paint,{"circle-color":Y.mcc,"circle-radius":Y.mrc,"circle-opacity":Y.mo})}if(b&&F&&(U.filter=["!",["has","point_count"]]),(O||D)&&(H.geojson=m(S,M),L.extendFlat(H.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),O&&(L.extendFlat(H.layout,{"icon-size":R.marker.size/10}),"angle"in R.marker&&R.marker.angle!=="auto"&&L.extendFlat(H.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),H.layout["icon-allow-overlap"]=R.marker.allowoverlap,L.extendFlat(H.paint,{"icon-opacity":R.opacity*R.marker.opacity,"icon-color":R.marker.color})),D)){var J=(R.marker||{}).size,ae=r(R.textposition,J);L.extendFlat(H.layout,{"text-size":R.textfont.size,"text-anchor":ae.anchor,"text-offset":ae.offset,"text-font":R.textfont.family.split(", ")}),L.extendFlat(H.paint,{"text-color":R.textfont.color,"text-opacity":R.opacity})}return z};function c(y){return{type:y,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function f(y){var M=y[0].trace,S=M.marker,R=M.selectedpoints,x=L.isArrayOrTypedArray(S.color),E=L.isArrayOrTypedArray(S.size),T=L.isArrayOrTypedArray(S.opacity),i;function D(J){return M.opacity*J}function b(J){return J/2}var O;x&&(w.hasColorscale(M,"marker")?O=w.makeColorScaleFuncFromTrace(S):O=L.identity);var F;E&&(F=g(M));var V;T&&(V=function(J){var ae=p(J)?+L.constrain(J,0,1):0;return D(ae)});var _=[];for(i=0;i<y.length;i++){var U=y[i],H=U.lonlat;if(!d(H)){var z={};O&&(z.mcc=U.mcc=O(U.mc)),F&&(z.mrc=U.mrc=F(U.ms)),V&&(z.mo=V(U.mo)),R&&(z.selected=U.selected||0),_.push({type:"Feature",id:i+1,geometry:{type:"Point",coordinates:H},properties:z})}}var G;if(R)for(G=h.makeSelectedPointStyleFns(M),i=0;i<_.length;i++){var Y=_[i].properties;G.selectedOpacityFn&&(Y.mo=D(G.selectedOpacityFn(Y))),G.selectedColorFn&&(Y.mcc=G.selectedColorFn(Y)),G.selectedSizeFn&&(Y.mrc=G.selectedSizeFn(Y))}return{geojson:{type:"FeatureCollection",features:_},mcc:x||G&&G.selectedColorFn?{type:"identity",property:"mcc"}:S.color,mrc:E||G&&G.selectedSizeFn?{type:"identity",property:"mrc"}:b(S.size),mo:T||G&&G.selectedOpacityFn?{type:"identity",property:"mo"}:D(S.opacity)}}function m(y,M){for(var S=M._fullLayout,R=y[0].trace,x=R.marker||{},E=x.symbol,T=x.angle,i=E!=="circle"?v(E):A,D=T!=="auto"?v(T,!0):A,b=t.hasText(R)?v(R.text):A,O=[],F=0;F<y.length;F++){var V=y[F];if(!d(V.lonlat)){var _=R.texttemplate,U;if(_){var H=Array.isArray(_)?_[F]||"":_,z=R._module.formatLabels(V,R,S),G={};s(G,R,V.i);var Y=R._meta||{};U=L.texttemplateString(H,z,S._d3locale,G,V,Y)}else U=b(F);U&&(U=U.replace(n,"").replace(l,`
`)),O.push({type:"Feature",geometry:{type:"Point",coordinates:V.lonlat},properties:{symbol:i(F),angle:D(F),text:U}})}}return{type:"FeatureCollection",features:O}}function v(y,M){return L.isArrayOrTypedArray(y)?M?function(S){return p(y[S])?+y[S]:0}:function(S){return y[S]}:y?function(){return y}:A}function A(){return""}function d(y){return y[0]===a}function u(y,M){var S;if(L.isArrayOrTypedArray(y)&&L.isArrayOrTypedArray(M)){S=["step",["get","point_count"],y[0]];for(var R=1;R<y.length;R++)S.push(M[R-1],y[R])}else S=y;return S}},76645:function(B,N,e){var p=e(71828),L=e(34098),a=e(49508),C=e(11058),w=e(82410),h=e(28908),g=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];B.exports=function(n,l,c,f){function m(E,T){return p.coerce(n,l,g,E,T)}function v(E,T){return p.coerce2(n,l,g,E,T)}var A=r(n,l,m);if(!A){l.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),L.hasLines(l)&&(C(n,l,c,f,m,{noDash:!0}),m("connectgaps")),L.hasMarkers(l)){a(n,l,c,f,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var d=l.marker;d.symbol!=="circle"&&(p.isArrayOrTypedArray(d.size)&&(d.size=d.size[0]),p.isArrayOrTypedArray(d.color)&&(d.color=d.color[0]))}var u=v("cluster.maxzoom"),y=v("cluster.step"),M=v("cluster.color",l.marker&&l.marker.color||c),S=v("cluster.size"),R=v("cluster.opacity"),x=u!==!1||y!==!1||M!==!1||S!==!1||R!==!1;m("cluster.enabled",x),L.hasText(l)&&w(n,l,f,m,{noSelect:!0,font:{family:t.indexOf(f.font.family)!==-1?f.font.family:"Open Sans Regular",size:f.font.size,color:f.font.color}}),m("fill"),l.fill!=="none"&&h(n,l,c,m),p.coerceSelectionMarkerOpacity(l,m)};function r(s,n,l){var c=l("lon")||[],f=l("lat")||[],m=Math.min(c.length,f.length);return n._length=m,m}},53353:function(B){B.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e}},15636:function(B,N,e){var p=e(89298);B.exports=function(a,C,w){var h={},g=w[C.subplot]._subplot,t=g.mockAxis,r=a.lonlat;return h.lonLabel=p.tickText(t,t.c2l(r[0]),!0).text,h.latLabel=p.tickText(t,t.c2l(r[1]),!0).text,h}},28178:function(B,N,e){var p=e(30211),L=e(71828),a=e(34603),C=L.fillText,w=e(50606).BADNUM,h=e(77734).traceLayerPrefix;function g(r,s,n){var l=r.cd,c=l[0].trace,f=r.xa,m=r.ya,v=r.subplot,A=[],d=h+c.uid+"-circle",u=c.cluster&&c.cluster.enabled;if(u){var y=v.map.queryRenderedFeatures(null,{layers:[d]});A=y.map(function(_){return _.id})}var M=s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360),S=M*360,R=s-S;function x(_){var U=_.lonlat;if(U[0]===w||u&&A.indexOf(_.i+1)===-1)return 1/0;var H=L.modHalf(U[0],360),z=U[1],G=v.project([H,z]),Y=G.x-f.c2p([R,z]),J=G.y-m.c2p([H,n]),ae=Math.max(3,_.mrc||0);return Math.max(Math.sqrt(Y*Y+J*J)-ae,1-3/ae)}if(p.getClosest(l,x,r),r.index!==!1){var E=l[r.index],T=E.lonlat,i=[L.modHalf(T[0],360)+S,T[1]],D=f.c2p(i),b=m.c2p(i),O=E.mrc||1;r.x0=D-O,r.x1=D+O,r.y0=b-O,r.y1=b+O;var F={};F[c.subplot]={_subplot:v};var V=c._module.formatLabels(E,c,F);return r.lonLabel=V.lonLabel,r.latLabel=V.latLabel,r.color=a(c,E),r.extraText=t(c,E,l[0].t.labels),r.hovertemplate=c.hovertemplate,[r]}}function t(r,s,n){if(r.hovertemplate)return;var l=s.hi||r.hoverinfo,c=l.split("+"),f=c.indexOf("all")!==-1,m=c.indexOf("lon")!==-1,v=c.indexOf("lat")!==-1,A=s.lonlat,d=[];function u(y){return y+"°"}return f||m&&v?d.push("("+u(A[1])+", "+u(A[0])+")"):m?d.push(n.lon+u(A[0])):v&&d.push(n.lat+u(A[1])),(f||c.indexOf("text")!==-1)&&C(s,r,d),d.join("<br>")}B.exports={hoverPoints:g,getExtraText:t}},20467:function(B,N,e){B.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(p,L){if(L){var a=L[0].trace;a._glTrace.update(L)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(B,N,e){var p=e(71828),L=e(15790),a=e(77734).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function w(g,t,r,s){this.type="scattermapbox",this.subplot=g,this.uid=t,this.clusterEnabled=r,this.isHidden=s,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var h=w.prototype;h.addSource=function(g,t,r){var s={type:"geojson",data:t.geojson};r&&r.enabled&&p.extendFlat(s,{cluster:!0,clusterMaxZoom:r.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[g]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[g],s)},h.setSourceData=function(g,t){this.subplot.map.getSource(this.sourceIds[g]).setData(t.geojson)},h.addLayer=function(g,t,r){var s={type:t.type,id:this.layerIds[g],source:this.sourceIds[g],layout:t.layout,paint:t.paint};t.filter&&(s.filter=t.filter);for(var n=this.layerIds[g],l,c=this.subplot.getMapLayers(),f=0;f<c.length;f++)if(c[f].id===n){l=!0;break}l?(this.subplot.setOptions(n,"setLayoutProperty",s.layout),s.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",s.paint)):this.subplot.addLayer(s,r)},h.update=function(t){var r=t[0].trace,s=this.subplot,n=s.map,l=L(s.gd,t),c=s.belowLookup["trace-"+this.uid],f=!!(r.cluster&&r.cluster.enabled),m=!!this.clusterEnabled,v=this;function A(T){T||v.addSource("circle",l.circle,r.cluster);for(var i=C.cluster,D=0;D<i.length;D++){var b=i[D],O=l[b];v.addLayer(b,O,c)}}function d(T){for(var i=C.cluster,D=i.length-1;D>=0;D--){var b=i[D];n.removeLayer(v.layerIds[b])}T||n.removeSource(v.sourceIds.circle)}function u(T){for(var i=C.nonCluster,D=0;D<i.length;D++){var b=i[D],O=l[b];T||v.addSource(b,O),v.addLayer(b,O,c)}}function y(T){for(var i=C.nonCluster,D=i.length-1;D>=0;D--){var b=i[D];n.removeLayer(v.layerIds[b]),T||n.removeSource(v.sourceIds[b])}}function M(T){m?d(T):y(T)}function S(T){f?A(T):u(T)}function R(){for(var T=f?C.cluster:C.nonCluster,i=0;i<T.length;i++){var D=T[i],b=l[D];b&&(s.setOptions(v.layerIds[D],"setLayoutProperty",b.layout),b.layout.visibility==="visible"&&(D!=="cluster"&&v.setSourceData(D,b),s.setOptions(v.layerIds[D],"setPaintProperty",b.paint)))}}var x=this.isHidden,E=r.visible!==!0;E?x||M():x?E||S():m!==f?(M(),S()):(this.below!==c&&(M(!0),S(!0)),R()),this.clusterEnabled=f,this.isHidden=E,this.below=c,t[0].trace._glTrace=this},h.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?C.cluster:C.nonCluster,s=r.length-1;s>=0;s--){var n=r[s];t.removeLayer(this.layerIds[n]),t.removeSource(this.sourceIds[n])}},B.exports=function(t,r){var s=r[0].trace,n=s.cluster&&s.cluster.enabled,l=s.visible!==!0,c=new w(t,s.uid,n,l),f=L(t.gd,r),m=c.below=t.belowLookup["trace-"+s.uid],v,A,d;if(n)for(c.addSource("circle",f.circle,s.cluster),v=0;v<C.cluster.length;v++)A=C.cluster[v],d=f[A],c.addLayer(A,d,m);else for(v=0;v<C.nonCluster.length;v++)A=C.nonCluster[v],d=f[A],c.addSource(A,d,s.cluster),c.addLayer(A,d,m);return r[0].trace._glTrace=c,c}},86387:function(B,N,e){var p=e(71828),L=e(34098),a=e(50606).BADNUM;B.exports=function(w,h){var g=w.cd,t=w.xaxis,r=w.yaxis,s=[],n=g[0].trace,l;if(!L.hasMarkers(n))return[];if(h===!1)for(l=0;l<g.length;l++)g[l].selected=0;else for(l=0;l<g.length;l++){var c=g[l],f=c.lonlat;if(f[0]!==a){var m=[p.modHalf(f[0],360),f[1]],v=[t.c2p(m),r.c2p(m)];h.contains(v,null,l,w)?(s.push({pointNumber:l,lon:f[0],lat:f[1]}),c.selected=1):c.selected=0}}return s}},81245:function(B,N,e){var p=e(5386).fF,L=e(5386).si,a=e(1426).extendFlat,C=e(82196),w=e(9012),h=C.line;B.exports={mode:C.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:L({editType:"plot"},{keys:["r","theta","text"]}),hovertext:C.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:a({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:a({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:a({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:a({},w.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:C.hoveron,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},26442:function(B,N,e){var p=e(92770),L=e(50606).BADNUM,a=e(89298),C=e(36922),w=e(75225),h=e(66279),g=e(47761).calcMarkerSize;B.exports=function(r,s){for(var n=r._fullLayout,l=s.subplot,c=n[l].radialaxis,f=n[l].angularaxis,m=c.makeCalcdata(s,"r"),v=f.makeCalcdata(s,"theta"),A=s._length,d=new Array(A),u=0;u<A;u++){var y=m[u],M=v[u],S=d[u]={};p(y)&&p(M)?(S.r=y,S.theta=M):S.r=L}var R=g(s,A);return s._extremes.x=a.findExtremes(c,m,{ppad:R}),C(r,s),w(d,s),h(d,s),d}},22184:function(B,N,e){var p=e(71828),L=e(34098),a=e(49508),C=e(11058),w=e(94039),h=e(82410),g=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function s(l,c,f,m){function v(u,y){return p.coerce(l,c,r,u,y)}var A=n(l,c,m,v);if(!A){c.visible=!1;return}v("thetaunit"),v("mode",A<t?"lines+markers":"lines"),v("text"),v("hovertext"),c.hoveron!=="fills"&&v("hovertemplate"),L.hasLines(c)&&(C(l,c,f,m,v,{backoff:!0}),w(l,c,v),v("connectgaps")),L.hasMarkers(c)&&a(l,c,f,m,v,{gradient:!0}),L.hasText(c)&&(v("texttemplate"),h(l,c,m,v));var d=[];(L.hasMarkers(c)||L.hasText(c))&&(v("cliponaxis"),v("marker.maxdisplayed"),d.push("points")),v("fill"),c.fill!=="none"&&(g(l,c,f,v),L.hasLines(c)||w(l,c,v)),(c.fill==="tonext"||c.fill==="toself")&&d.push("fills"),v("hoveron",d.join("+")||"points"),p.coerceSelectionMarkerOpacity(c,v)}function n(l,c,f,m){var v=m("r"),A=m("theta"),d;if(v)A?d=Math.min(v.length,A.length):(d=v.length,m("theta0"),m("dtheta"));else{if(!A)return 0;d=c.theta.length,m("r0"),m("dr")}return c._length=d,d}B.exports={handleRThetaDefaults:n,supplyDefaults:s}},98608:function(B,N,e){var p=e(71828),L=e(89298);B.exports=function(C,w,h){var g={},t=h[w.subplot]._subplot,r,s;t?(r=t.radialAxis,s=t.angularAxis):(t=h[w.subplot],r=t.radialaxis,s=t.angularaxis);var n=r.c2l(C.r);g.rLabel=L.tickText(r,n,!0).text;var l=s.thetaunit==="degrees"?p.rad2deg(C.theta):C.theta;return g.thetaLabel=L.tickText(s,l,!0).text,g}},59150:function(B,N,e){var p=e(33720);function L(C,w,h,g){var t=p(C,w,h,g);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var s=C.subplot,n=r.cd[r.index],l=r.trace;if(s.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(n,l,s,r),r.hovertemplate=l.hovertemplate,t}}function a(C,w,h,g){var t=h.radialAxis,r=h.angularAxis;t._hovertitle="r",r._hovertitle="θ";var s={};s[w.subplot]={_subplot:h};var n=w._module.formatLabels(C,w,s);g.rLabel=n.rLabel,g.thetaLabel=n.thetaLabel;var l=C.hi||w.hoverinfo,c=[];function f(v,A){c.push(v._hovertitle+": "+A)}if(!w.hovertemplate){var m=l.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&f(t,g.rLabel),m.indexOf("theta")!==-1&&f(r,g.thetaLabel),m.indexOf("text")!==-1&&g.text&&(c.push(g.text),delete g.text),g.extraText=c.join("<br>")}}B.exports={hoverPoints:L,makeHoverPointText:a}},91271:function(B,N,e){B.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(B,N,e){var p=e(32663),L=e(50606).BADNUM;B.exports=function(C,w,h){for(var g=w.layers.frontplot.select("g.scatterlayer"),t=w.xaxis,r=w.yaxis,s={xaxis:t,yaxis:r,plot:w.framework,layerClipId:w._hasClipOnAxisFalse?w.clipIds.forTraces:null},n=w.radialAxis,l=w.angularAxis,c=0;c<h.length;c++)for(var f=h[c],m=0;m<f.length;m++){m===0&&(f[0].trace._xA=t,f[0].trace._yA=r);var v=f[m],A=v.r;if(A===L)v.x=v.y=L;else{var d=n.c2g(A),u=l.c2g(v.theta);v.x=d*Math.cos(u),v.y=d*Math.sin(u)}}p(C,s,h,g)}},53286:function(B,N,e){var p=e(81245),L=e(42341),a=e(5386).si;B.exports={mode:p.mode,r:p.r,theta:p.theta,r0:p.r0,dr:p.dr,theta0:p.theta0,dtheta:p.dtheta,thetaunit:p.thetaunit,text:p.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:p.hovertext,hovertemplate:p.hovertemplate,line:L.line,connectgaps:L.connectgaps,marker:L.marker,fill:L.fill,fillcolor:L.fillcolor,textposition:L.textposition,textfont:L.textfont,hoverinfo:p.hoverinfo,selected:p.selected,unselected:p.unselected}},65746:function(B,N,e){B.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(B,N,e){var p=e(36922),L=e(47761).calcMarkerSize,a=e(19635),C=e(89298),w=e(78232).TOO_MANY_POINTS;B.exports=function(g,t){var r=g._fullLayout,s=t.subplot,n=r[s].radialaxis,l=r[s].angularaxis,c=t._r=n.makeCalcdata(t,"r"),f=t._theta=l.makeCalcdata(t,"theta"),m=t._length,v={};m<c.length&&(c=c.slice(0,m)),m<f.length&&(f=f.slice(0,m)),v.r=c,v.theta=f,p(g,t);var A=v.opts=a.style(g,t),d;return m<w?d=L(t,m):A.marker&&(d=2*(A.marker.sizeAvg||Math.max(A.marker.size,3))),t._extremes.x=C.findExtremes(n,c,{ppad:d}),[{x:!1,y:!1,t:v,trace:t}]}},75485:function(B,N,e){var p=e(71828),L=e(34098),a=e(22184).handleRThetaDefaults,C=e(49508),w=e(11058),h=e(82410),g=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);B.exports=function(n,l,c,f){function m(A,d){return p.coerce(n,l,r,A,d)}var v=a(n,l,f,m);if(!v){l.visible=!1;return}m("thetaunit"),m("mode",v<t?"lines+markers":"lines"),m("text"),m("hovertext"),l.hoveron!=="fills"&&m("hovertemplate"),L.hasLines(l)&&(w(n,l,c,f,m),m("connectgaps")),L.hasMarkers(l)&&C(n,l,c,f,m,{noAngleRef:!0,noStandOff:!0}),L.hasText(l)&&(m("texttemplate"),h(n,l,f,m)),m("fill"),l.fill!=="none"&&g(n,l,c,m),p.coerceSelectionMarkerOpacity(l,m)}},46255:function(B,N,e){var p=e(98608);B.exports=function(a,C,w){var h=a.i;return"r"in a||(a.r=C._r[h]),"theta"in a||(a.theta=C._theta[h]),p(a,C,w)}},29347:function(B,N,e){var p=e(20794),L=e(59150).makeHoverPointText;function a(C,w,h,g){var t=C.cd,r=t[0].t,s=r.r,n=r.theta,l=p.hoverPoints(C,w,h,g);if(!(!l||l[0].index===!1)){var c=l[0];if(c.index===void 0)return l;var f=C.subplot,m=c.cd[c.index],v=c.trace;if(m.r=s[c.index],m.theta=n[c.index],!!f.isPtInside(m))return c.xLabelVal=void 0,c.yLabelVal=void 0,L(m,v,f,c),l}}B.exports={hoverPoints:a}},21461:function(B,N,e){var p=e(65746);p.plot=e(49741),B.exports=p},49741:function(B,N,e){var p=e(88294),L=e(92770),a=e(26787),C=e(38967),w=e(19635),h=e(71828),g=e(78232).TOO_MANY_POINTS,t={};B.exports=function(s,n,l){if(l.length){var c=n.radialAxis,f=n.angularAxis,m=C(s,n);return l.forEach(function(v){if(!(!v||!v[0]||!v[0].trace)){var A=v[0],d=A.trace,u=A.t,y=d._length,M=u.r,S=u.theta,R=u.opts,x,E=M.slice(),T=S.slice();for(x=0;x<M.length;x++)n.isPtInside({r:M[x],theta:S[x]})||(E[x]=NaN,T[x]=NaN);var i=new Array(y*2),D=Array(y),b=Array(y);for(x=0;x<y;x++){var O=E[x],F,V;if(L(O)){var _=c.c2g(O),U=f.c2g(T[x],d.thetaunit);F=_*Math.cos(U),V=_*Math.sin(U)}else F=V=NaN;D[x]=i[x*2]=F,b[x]=i[x*2+1]=V}u.tree=p(i),R.marker&&y>=g&&(R.marker.cluster=u.tree),R.marker&&(R.markerSel.positions=R.markerUnsel.positions=R.marker.positions=i),R.line&&i.length>1&&h.extendFlat(R.line,w.linePositions(s,d,i)),R.text&&(h.extendFlat(R.text,{positions:i},w.textPosition(s,d,R.text,R.marker)),h.extendFlat(R.textSel,{positions:i},w.textPosition(s,d,R.text,R.markerSel)),h.extendFlat(R.textUnsel,{positions:i},w.textPosition(s,d,R.text,R.markerUnsel))),R.fill&&!m.fill2d&&(m.fill2d=!0),R.marker&&!m.scatter2d&&(m.scatter2d=!0),R.line&&!m.line2d&&(m.line2d=!0),R.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(R.line),m.fillOptions.push(R.fill),m.markerOptions.push(R.marker),m.markerSelectedOptions.push(R.markerSel),m.markerUnselectedOptions.push(R.markerUnsel),m.textOptions.push(R.text),m.textSelectedOptions.push(R.textSel),m.textUnselectedOptions.push(R.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),u.x=D,u.y=b,u.rawx=D,u.rawy=b,u.r=M,u.theta=S,u.positions=i,u._scene=m,u.index=m.count,m.count++}}),a(s,n,l)}},B.exports.reglPrecompiled=t},48300:function(B,N,e){var p=e(5386).fF,L=e(5386).si,a=e(1426).extendFlat,C=e(82196),w=e(9012),h=C.line;B.exports={mode:C.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:L({editType:"plot"},{keys:["real","imag","text"]}),hovertext:C.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:a({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:a({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:a({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:a({},w.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:C.hoveron,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},30621:function(B,N,e){var p=e(92770),L=e(50606).BADNUM,a=e(36922),C=e(75225),w=e(66279),h=e(47761).calcMarkerSize;B.exports=function(t,r){for(var s=t._fullLayout,n=r.subplot,l=s[n].realaxis,c=s[n].imaginaryaxis,f=l.makeCalcdata(r,"real"),m=c.makeCalcdata(r,"imag"),v=r._length,A=new Array(v),d=0;d<v;d++){var u=f[d],y=m[d],M=A[d]={};p(u)&&p(y)?(M.real=u,M.imag=y):M.real=L}return h(r,v),a(t,r),C(A,r),w(A,r),A}},65269:function(B,N,e){var p=e(71828),L=e(34098),a=e(49508),C=e(11058),w=e(94039),h=e(82410),g=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);B.exports=function(l,c,f,m){function v(u,y){return p.coerce(l,c,r,u,y)}var A=s(l,c,m,v);if(!A){c.visible=!1;return}v("mode",A<t?"lines+markers":"lines"),v("text"),v("hovertext"),c.hoveron!=="fills"&&v("hovertemplate"),L.hasLines(c)&&(C(l,c,f,m,v,{backoff:!0}),w(l,c,v),v("connectgaps")),L.hasMarkers(c)&&a(l,c,f,m,v,{gradient:!0}),L.hasText(c)&&(v("texttemplate"),h(l,c,m,v));var d=[];(L.hasMarkers(c)||L.hasText(c))&&(v("cliponaxis"),v("marker.maxdisplayed"),d.push("points")),v("fill"),c.fill!=="none"&&(g(l,c,f,v),L.hasLines(c)||w(l,c,v)),(c.fill==="tonext"||c.fill==="toself")&&d.push("fills"),v("hoveron",d.join("+")||"points"),p.coerceSelectionMarkerOpacity(c,v)};function s(n,l,c,f){var m=f("real"),v=f("imag"),A;return m&&v&&(A=Math.min(m.length,v.length)),l._length=A,A}},62047:function(B,N,e){var p=e(89298);B.exports=function(a,C,w){var h={},g=w[C.subplot]._subplot;return h.realLabel=p.tickText(g.radialAxis,a.real,!0).text,h.imagLabel=p.tickText(g.angularAxis,a.imag,!0).text,h}},11350:function(B,N,e){var p=e(33720);function L(C,w,h,g){var t=p(C,w,h,g);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var s=C.subplot,n=r.cd[r.index],l=r.trace;if(s.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(n,l,s,r),r.hovertemplate=l.hovertemplate,t}}function a(C,w,h,g){var t=h.radialAxis,r=h.angularAxis;t._hovertitle="real",r._hovertitle="imag";var s={};s[w.subplot]={_subplot:h};var n=w._module.formatLabels(C,w,s);g.realLabel=n.realLabel,g.imagLabel=n.imagLabel;var l=C.hi||w.hoverinfo,c=[];function f(v,A){c.push(v._hovertitle+": "+A)}if(!w.hovertemplate){var m=l.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&f(t,g.realLabel),m.indexOf("imag")!==-1&&f(r,g.imagLabel),m.indexOf("text")!==-1&&g.text&&(c.push(g.text),delete g.text),g.extraText=c.join("<br>")}}B.exports={hoverPoints:L,makeHoverPointText:a}},85956:function(B,N,e){B.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(B,N,e){var p=e(32663),L=e(50606).BADNUM,a=e(23893),C=a.smith;B.exports=function(h,g,t){for(var r=g.layers.frontplot.select("g.scatterlayer"),s=g.xaxis,n=g.yaxis,l={xaxis:s,yaxis:n,plot:g.framework,layerClipId:g._hasClipOnAxisFalse?g.clipIds.forTraces:null},c=0;c<t.length;c++)for(var f=t[c],m=0;m<f.length;m++){m===0&&(f[0].trace._xA=s,f[0].trace._yA=n);var v=f[m],A=v.real;if(A===L)v.x=v.y=L;else{var d=C([A,v.imag]);v.x=d[0],v.y=d[1]}}p(h,l,t,r)}},50413:function(B,N,e){var p=e(5386).fF,L=e(5386).si,a=e(82196),C=e(9012),w=e(50693),h=e(79952).P,g=e(1426).extendFlat,t=a.marker,r=a.line,s=t.line;B.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:g({},a.mode,{dflt:"markers"}),text:g({},a.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:g({},a.hovertext,{}),line:{color:r.color,width:r.width,dash:h,backoff:r.backoff,shape:g({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:g({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:g({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:g({width:s.width,editType:"calc"},w("marker.line")),gradient:t.gradient,editType:"calc"},w("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:g({},C.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:p()}},54337:function(B,N,e){var p=e(92770),L=e(36922),a=e(75225),C=e(66279),w=e(47761).calcMarkerSize,h=["a","b","c"],g={a:["b","c"],b:["a","c"],c:["a","b"]};B.exports=function(r,s){var n=r._fullLayout[s.subplot],l=n.sum,c=s.sum||l,f={a:s.a,b:s.b,c:s.c},m,v,A,d,u,y;for(m=0;m<h.length;m++)if(A=h[m],!f[A]){for(u=f[g[A][0]],y=f[g[A][1]],d=new Array(u.length),v=0;v<u.length;v++)d[v]=c-u[v]-y[v];f[A]=d}var M=s._length,S=new Array(M),R,x,E,T,i,D;for(m=0;m<M;m++)R=f.a[m],x=f.b[m],E=f.c[m],p(R)&&p(x)&&p(E)?(R=+R,x=+x,E=+E,T=l/(R+x+E),T!==1&&(R*=T,x*=T,E*=T),D=R,i=E-x,S[m]={x:i,y:D,a:R,b:x,c:E}):S[m]={x:!1,y:!1};return w(s,M),L(r,s),a(S,s),C(S,s),S}},46008:function(B,N,e){var p=e(71828),L=e(47581),a=e(34098),C=e(49508),w=e(11058),h=e(94039),g=e(82410),t=e(28908),r=e(50413);B.exports=function(n,l,c,f){function m(S,R){return p.coerce(n,l,r,S,R)}var v=m("a"),A=m("b"),d=m("c"),u;if(v?(u=v.length,A?(u=Math.min(u,A.length),d&&(u=Math.min(u,d.length))):d?u=Math.min(u,d.length):u=0):A&&d&&(u=Math.min(A.length,d.length)),!u){l.visible=!1;return}l._length=u,m("sum"),m("text"),m("hovertext"),l.hoveron!=="fills"&&m("hovertemplate");var y=u<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",y),a.hasLines(l)&&(w(n,l,c,f,m,{backoff:!0}),h(n,l,m),m("connectgaps")),a.hasMarkers(l)&&C(n,l,c,f,m,{gradient:!0}),a.hasText(l)&&(m("texttemplate"),g(n,l,f,m));var M=[];(a.hasMarkers(l)||a.hasText(l))&&(m("cliponaxis"),m("marker.maxdisplayed"),M.push("points")),m("fill"),l.fill!=="none"&&(t(n,l,c,m),a.hasLines(l)||h(n,l,m)),(l.fill==="tonext"||l.fill==="toself")&&M.push("fills"),m("hoveron",M.join("+")||"points"),p.coerceSelectionMarkerOpacity(l,m)}},4524:function(B){B.exports=function(e,p,L,a,C){if(p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),a[C]){var w=a[C];e.a=w.a,e.b=w.b,e.c=w.c}else e.a=p.a,e.b=p.b,e.c=p.c;return e}},93645:function(B,N,e){var p=e(89298);B.exports=function(a,C,w){var h={},g=w[C.subplot]._subplot;return h.aLabel=p.tickText(g.aaxis,a.a,!0).text,h.bLabel=p.tickText(g.baxis,a.b,!0).text,h.cLabel=p.tickText(g.caxis,a.c,!0).text,h}},47250:function(B,N,e){var p=e(33720);B.exports=function(a,C,w,h){var g=p(a,C,w,h);if(!g||g[0].index===!1)return;var t=g[0];if(t.index===void 0){var r=1-t.y0/a.ya._length,s=a.xa._length,n=s*r/2,l=s-n;return t.x0=Math.max(Math.min(t.x0,l),n),t.x1=Math.max(Math.min(t.x1,l),n),g}var c=t.cd[t.index],f=t.trace,m=t.subplot;t.a=c.a,t.b=c.b,t.c=c.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var v={};v[f.subplot]={_subplot:m};var A=f._module.formatLabels(c,f,v);t.aLabel=A.aLabel,t.bLabel=A.bLabel,t.cLabel=A.cLabel;var d=c.hi||f.hoverinfo,u=[];function y(S,R){u.push(S._hovertitle+": "+R)}if(!f.hovertemplate){var M=d.split("+");M.indexOf("all")!==-1&&(M=["a","b","c"]),M.indexOf("a")!==-1&&y(m.aaxis,t.aLabel),M.indexOf("b")!==-1&&y(m.baxis,t.bLabel),M.indexOf("c")!==-1&&y(m.caxis,t.cLabel)}return t.extraText=u.join("<br>"),t.hovertemplate=f.hovertemplate,g}},52979:function(B,N,e){B.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(B,N,e){var p=e(32663);B.exports=function(a,C,w){var h=C.plotContainer;h.select(".scatterlayer").selectAll("*").remove();for(var g=C.xaxis,t=C.yaxis,r={xaxis:g,yaxis:t,plot:h,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},s=C.layers.frontplot.select("g.scatterlayer"),n=0;n<w.length;n++){var l=w[n];l.length&&(l[0].trace._xA=g,l[0].trace._yA=t)}p(a,r,w,s)}},46880:function(B,N,e){var p=e(82196),L=e(50693),a=e(12663).axisHoverFormat,C=e(5386).fF,w=e(42341),h=e(85555).idRegex,g=e(44467).templatedArray,t=e(1426).extendFlat,r=p.marker,s=r.line,n=t(L("marker.line",{editTypeOverride:"calc"}),{width:t({},s.width,{editType:"calc"}),editType:"calc"}),l=t(L("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:n,editType:"calc"});l.color.editType=l.cmin.editType=l.cmax.editType="style";function c(f){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:h[f],editType:"plot"}}}B.exports={dimensions:g("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},w.text,{}),hovertext:t({},w.hovertext,{}),hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),marker:l,xaxes:c("x"),yaxes:c("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:w.selected.marker,editType:"calc"},unselected:{marker:w.unselected.marker,editType:"calc"},opacity:w.opacity}},65017:function(B,N,e){var p=e(73972),L=e(83312);B.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},p.register(L)},16947:function(B,N,e){var p=e(46075),L=e(73972),a=e(79749),C=e(27659).a0,w=e(93612),h=e(41675).getFromId,g=e(89298).shouldShowZeroLine,t="splom",r={};function s(v){var A=v._fullLayout,d=L.getModule(t),u=C(v.calcdata,d)[0],y=a(v,["ANGLE_instanced_arrays","OES_element_index_uint"],r);y&&(A._hasOnlyLargeSploms&&c(v),d.plot(v,{},u))}function n(v){var A=v.calcdata,d=v._fullLayout;d._hasOnlyLargeSploms&&c(v);for(var u=0;u<A.length;u++){var y=A[u][0],M=y.trace,S=d._splomScenes[M.uid];M.type==="splom"&&S&&S.matrix&&l(v,M,S)}}function l(v,A,d){for(var u=d.matrixOptions.data.length,y=A._visibleDims,M=d.viewOpts.ranges=new Array(u),S=0;S<y.length;S++){var R=y[S],x=M[S]=new Array(4),E=h(v,A._diag[R][0]);E&&(x[0]=E.r2l(E.range[0]),x[2]=E.r2l(E.range[1]));var T=h(v,A._diag[R][1]);T&&(x[1]=T.r2l(T.range[0]),x[3]=T.r2l(T.range[1]))}d.selectBatch.length||d.unselectBatch.length?d.matrix.update({ranges:M},{ranges:M}):d.matrix.update({ranges:M})}function c(v){var A=v._fullLayout,d=A._glcanvas.data()[0].regl,u=A._splomGrid;u||(u=A._splomGrid=p(d)),u.update(f(v))}function f(v){var A=v._context.plotGlPixelRatio,d=v._fullLayout,u=d._size,y=[0,0,d.width*A,d.height*A],M={},S;function R(Y,J,ae,oe,he,q){ae*=A,oe*=A,he*=A,q*=A;var Z=J[Y+"color"],$=J[Y+"width"],K=String(Z+$);K in M?M[K].data.push(NaN,NaN,ae,oe,he,q):M[K]={data:[ae,oe,he,q],join:"rect",thickness:$*A,color:Z,viewport:y,range:y,overlay:!1}}for(S in d._splomSubplots){var x=d._plots[S],E=x.xaxis,T=x.yaxis,i=E._gridVals,D=T._gridVals,b=E._offset,O=E._length,F=T._length,V=u.b+T.domain[0]*u.h,_=-T._m,U=-_*T.r2l(T.range[0],T.calendar),H,z;if(E.showgrid)for(S=0;S<i.length;S++)H=b+E.l2p(i[S].x),R("grid",E,H,V,H,V+F);if(T.showgrid)for(S=0;S<D.length;S++)z=V+U+_*D[S].x,R("grid",T,b,z,b+O,z);g(v,E,T)&&(H=b+E.l2p(0),R("zeroline",E,H,V,H,V+F)),g(v,T,E)&&(z=V+U+0,R("zeroline",T,b,z,b+O,z))}var G=[];for(S in M)G.push(M[S]);return G}function m(v,A,d,u){var y={},M;if(u._splomScenes){for(M=0;M<v.length;M++){var S=v[M];S.type==="splom"&&(y[S.uid]=1)}for(M=0;M<d.length;M++){var R=d[M];if(!y[R.uid]){var x=u._splomScenes[R.uid];x&&x.destroy&&x.destroy(),u._splomScenes[R.uid]=null,delete u._splomScenes[R.uid]}}}Object.keys(u._splomScenes||{}).length===0&&delete u._splomScenes,u._splomGrid&&!A._hasOnlyLargeSploms&&u._hasOnlyLargeSploms&&(u._splomGrid.destroy(),u._splomGrid=null,delete u._splomGrid),w.clean(v,A,d,u)}B.exports={name:t,attr:w.attr,attrRegex:w.attrRegex,layoutAttributes:w.layoutAttributes,supplyLayoutDefaults:w.supplyLayoutDefaults,drawFramework:w.drawFramework,plot:s,drag:n,updateGrid:c,clean:m,updateFx:w.updateFx,toSVG:w.toSVG,reglPrecompiled:r}},87625:function(B,N,e){var p=e(71828),L=e(41675),a=e(47761).calcMarkerSize,C=e(47761).calcAxisExpansion,w=e(36922),h=e(19635).markerSelection,g=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,s=e(78232).TOO_MANY_POINTS;B.exports=function(l,c){var f=c.dimensions,m=c._length,v={},A=v.cdata=[],d=v.data=[],u=c._visibleDims=[],y,M,S,R,x;function E(O,F){for(var V=O.makeCalcdata({v:F.values,vcalendar:c.calendar},"v"),_=0;_<V.length;_++)V[_]=V[_]===r?NaN:V[_];A.push(V),d.push(O.type==="log"?p.simpleMap(V,O.c2l):V)}for(y=0;y<f.length;y++)if(S=f[y],S.visible){if(R=L.getFromId(l,c._diag[y][0]),x=L.getFromId(l,c._diag[y][1]),R&&x&&R.type!==x.type){p.log("Skipping splom dimension "+y+" with conflicting axis types");continue}R?(E(R,S),x&&x.type==="category"&&(x._categories=R._categories.slice())):E(x,S),u.push(y)}w(l,c),p.extendFlat(v,g(l,c));var T=A.length,i=T*m>s,D;for(i?D=v.sizeAvg||Math.max(v.size,3):D=a(c,m),M=0;M<u.length;M++)y=u[M],S=f[y],R=L.getFromId(l,c._diag[y][0])||{},x=L.getFromId(l,c._diag[y][1])||{},C(l,c,R,x,A[M],A[M],D);var b=t(l,c);return b.matrix||(b.matrix=!0),b.matrixOptions=v,b.selectedOptions=h(l,c,c.selected),b.unselectedOptions=h(l,c,c.unselected),[{x:!1,y:!1,t:{},trace:c}]}},25784:function(B,N,e){var p=e(71828),L=e(85501),a=e(46880),C=e(34098),w=e(49508),h=e(94397),g=e(68645).isOpenSymbol;B.exports=function(n,l,c,f){function m(R,x){return p.coerce(n,l,a,R,x)}var v=L(n,l,{name:"dimensions",handleItemDefaults:t}),A=m("diagonal.visible"),d=m("showupperhalf"),u=m("showlowerhalf"),y=h(l,v,"values");if(!y||!A&&!d&&!u){l.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),w(n,l,c,f,m,{noAngleRef:!0,noStandOff:!0});var M=g(l.marker.symbol),S=C.isBubble(l);m("marker.line.width",M||S?1:0),r(n,l,f,m),p.coerceSelectionMarkerOpacity(l,m)};function t(s,n){function l(f,m){return p.coerce(s,n,a.dimensions,f,m)}l("label");var c=l("values");c&&c.length?l("visible"):n.visible=!1,l("axis.type"),l("axis.matches")}function r(s,n,l,c){var f=n.dimensions,m=f.length,v=n.showupperhalf,A=n.showlowerhalf,d=n.diagonal.visible,u,y,M=new Array(m),S=new Array(m);for(u=0;u<m;u++){var R=u?u+1:"";M[u]="x"+R,S[u]="y"+R}var x=c("xaxes",M),E=c("yaxes",S),T=n._diag=new Array(m);n._xaxes={},n._yaxes={};var i=[],D=[];function b(Y,J,ae,oe){if(Y){var he=Y.charAt(0),q=l._splomAxes[he];if(n["_"+he+"axes"][Y]=1,oe.push(Y),!(Y in q)){var Z=q[Y]={};ae&&(Z.label=ae.label||"",ae.visible&&ae.axis&&(ae.axis.type&&(Z.type=ae.axis.type),ae.axis.matches&&(Z.matches=J)))}}}var O=!d&&!A,F=!d&&!v;for(n._axesDim={},u=0;u<m;u++){var V=f[u],_=u===0,U=u===m-1,H=_&&O||U&&F?void 0:x[u],z=_&&F||U&&O?void 0:E[u];b(H,z,V,i),b(z,H,V,D),T[u]=[H,z],n._axesDim[H]=u,n._axesDim[z]=u}for(u=0;u<i.length;u++)for(y=0;y<D.length;y++){var G=i[u]+D[y];(u>y&&v||u<y&&A||u===y&&(d||!A||!v))&&(l._splomSubplots[G]=1)}(!A||!d&&v&&A)&&(l._splomGridDflt.xside="bottom",l._splomGridDflt.yside="left")}},28801:function(B,N,e){var p=e(71828),L=e(36922),a=e(19635).markerStyle;B.exports=function(w,h){var g=h.trace,t=w._fullLayout._splomScenes[g.uid];if(t){L(w,g),p.extendFlat(t.matrixOptions,a(w,g));var r=p.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(B,N){N.getDimIndex=function(p,L){for(var a=L._id,C=a.charAt(0),w={x:0,y:1}[C],h=p._visibleDims,g=0;g<h.length;g++){var t=h[g];if(p._diag[t][w]===a)return g}return!1}},8567:function(B,N,e){var p=e(35948),L=e(20794).calcHover;function a(C,w,h){var g=C.cd,t=g[0].trace,r=C.scene,s=r.matrixOptions.cdata,n=C.xa,l=C.ya,c=n.c2p(w),f=l.c2p(h),m=C.distance,v=p.getDimIndex(t,n),A=p.getDimIndex(t,l);if(v===!1||A===!1)return[C];for(var d=s[v],u=s[A],y,M,S=m,R=0;R<d.length;R++){var x=d[R],E=u[R],T=n.c2p(x)-c,i=l.c2p(E)-f,D=Math.sqrt(T*T+i*i);D<S&&(S=M=D,y=R)}return C.index=y,C.distance=S,C.dxy=M,y===void 0?[C]:[L(C,d,u,t)]}B.exports={hoverPoints:a}},6419:function(B,N,e){var p=e(65017);p.basePlotModule=e(16947),B.exports=p},79410:function(B,N,e){var p=e(60487),L=e(71828),a=e(41675),C=e(64505).selectMode;B.exports=function(g,t,r){if(r.length)for(var s=0;s<r.length;s++)w(g,r[s][0])};function w(h,g){var t=h._fullLayout,r=t._size,s=g.trace,n=g.t,l=t._splomScenes[s.uid],c=l.matrixOptions,f=c.cdata,m=t._glcanvas.data()[0].regl,v=t.dragmode,A,d,u,y,M;if(f.length!==0){c.lower=s.showupperhalf,c.upper=s.showlowerhalf,c.diagonal=s.diagonal.visible;var S=s._visibleDims,R=f.length,x=l.viewOpts={};for(x.ranges=new Array(R),x.domains=new Array(R),M=0;M<S.length;M++){u=S[M];var E=x.ranges[M]=new Array(4),T=x.domains[M]=new Array(4);A=a.getFromId(h,s._diag[u][0]),A&&(E[0]=A._rl[0],E[2]=A._rl[1],T[0]=A.domain[0],T[2]=A.domain[1]),d=a.getFromId(h,s._diag[u][1]),d&&(E[1]=d._rl[0],E[3]=d._rl[1],T[1]=d.domain[0],T[3]=d.domain[1])}var i=h._context.plotGlPixelRatio,D=r.l*i,b=r.b*i,O=r.w*i,F=r.h*i;x.viewport=[D,b,O+D,F+b],l.matrix===!0&&(l.matrix=p(m));var V=t.clickmode.indexOf("select")>-1,_=C(v)||!!s.selectedpoints||V,U=!0;if(_){var H=s._length;if(s.selectedpoints){l.selectBatch=s.selectedpoints;var z=s.selectedpoints,G={};for(u=0;u<z.length;u++)G[z[u]]=!0;var Y=[];for(u=0;u<H;u++)G[u]||Y.push(u);l.unselectBatch=Y}var J=n.xpx=new Array(R),ae=n.ypx=new Array(R);for(M=0;M<S.length;M++){if(u=S[M],A=a.getFromId(h,s._diag[u][0]),A)for(J[M]=new Array(H),y=0;y<H;y++)J[M][y]=A.c2p(f[M][y]);if(d=a.getFromId(h,s._diag[u][1]),d)for(ae[M]=new Array(H),y=0;y<H;y++)ae[M][y]=d.c2p(f[M][y])}if(l.selectBatch.length||l.unselectBatch.length){var oe=L.extendFlat({},c,l.unselectedOptions,x),he=L.extendFlat({},c,l.selectedOptions,x);l.matrix.update(oe,he),U=!1}}else n.xpx=n.ypx=null;if(U){var q=L.extendFlat({},c,x);l.matrix.update(q,null)}}}},10164:function(B,N,e){var p=e(71828);B.exports=function(a,C){var w=a._fullLayout,h=C.uid,g=w._splomScenes;g||(g=w._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},s=g[C.uid];return s||(s=g[h]=p.extendFlat({},t,r),s.draw=function(){s.matrix&&s.matrix.draw&&(s.selectBatch.length||s.unselectBatch.length?s.matrix.draw(s.unselectBatch,s.selectBatch):s.matrix.draw()),s.dirty=!1},s.destroy=function(){s.matrix&&s.matrix.destroy&&s.matrix.destroy(),s.matrixOptions=null,s.selectBatch=null,s.unselectBatch=null,s=null}),s.dirty||p.extendFlat(s,t),s}},8689:function(B,N,e){var p=e(71828),L=p.pushUnique,a=e(34098),C=e(35948);B.exports=function(h,g){var t=h.cd,r=t[0].trace,s=t[0].t,n=h.scene,l=n.matrixOptions.cdata,c=h.xaxis,f=h.yaxis,m=[];if(!n)return m;var v=!a.hasMarkers(r)&&!a.hasText(r);if(r.visible!==!0||v)return m;var A=C.getDimIndex(r,c),d=C.getDimIndex(r,f);if(A===!1||d===!1)return m;var u=s.xpx[A],y=s.ypx[d],M=l[A],S=l[d],R=(h.scene.selectBatch||[]).slice(),x=[];if(g!==!1&&!g.degenerate)for(var E=0;E<M.length;E++)g.contains([u[E],y[E]],null,E,h)?(m.push({pointNumber:E,x:M[E],y:S[E]}),L(R,E)):R.indexOf(E)!==-1?L(R,E):x.push(E);var T=n.matrixOptions;return!R.length&&!x.length?n.matrix.update(T,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,p.extendFlat({},T,n.selectedOptions,n.viewOpts)),n.selectBatch=R,n.unselectBatch=x,m}},21850:function(B,N,e){var p=e(50693),L=e(12663).axisHoverFormat,a=e(5386).fF,C=e(2418),w=e(9012),h=e(1426).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:h({},w.showlegend,{dflt:!1})};h(g,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){g[r]=C[r]}),g.hoverinfo=h({},w.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,B.exports=g},88489:function(B,N,e){var p=e(71828),L=e(78803);function a(g,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=h(t.u,t._len),t._v=h(t.v,t._len),t._w=h(t.w,t._len),t._x=h(t.x,t._len),t._y=h(t.y,t._len),t._z=h(t.z,t._len);var r=C(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var s=0,n,l,c;t.starts&&(n=h(t.starts.x||[]),l=h(t.starts.y||[]),c=h(t.starts.z||[]),s=Math.min(n.length,l.length,c.length)),t._startsX=n||[],t._startsY=l||[],t._startsZ=c||[];var f=0,m=1/0,v;for(v=0;v<t._len;v++){var A=t._u[v],d=t._v[v],u=t._w[v],y=Math.sqrt(A*A+d*d+u*u);f=Math.max(f,y),m=Math.min(m,y)}for(L(g,t,{vals:[m,f],containerStr:"",cLetter:"c"}),v=0;v<s;v++){var M=n[v];r.xMax=Math.max(r.xMax,M),r.xMin=Math.min(r.xMin,M);var S=l[v];r.yMax=Math.max(r.yMax,S),r.yMin=Math.min(r.yMin,S);var R=c[v];r.zMax=Math.max(r.zMax,R),r.zMin=Math.min(r.zMin,R)}t._slen=s,t._normMax=f,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function C(g){var t=g._x,r=g._y,s=g._z,n=g._len,l,c,f,m=-1/0,v=1/0,A=-1/0,d=1/0,u=-1/0,y=1/0,M="",S,R,x,E,T,i,D,b,O;for(n&&(E=t[0],i=r[0],b=s[0]),n>1&&(T=t[n-1],D=r[n-1],O=s[n-1]),l=0;l<n;l++)m=Math.max(m,t[l]),v=Math.min(v,t[l]),A=Math.max(A,r[l]),d=Math.min(d,r[l]),u=Math.max(u,s[l]),y=Math.min(y,s[l]),!S&&t[l]!==E&&(S=!0,M+="x"),!R&&r[l]!==i&&(R=!0,M+="y"),!x&&s[l]!==b&&(x=!0,M+="z");S||(M+="x"),R||(M+="y"),x||(M+="z");var F=w(g._x),V=w(g._y),_=w(g._z);M=M.replace("x",(E>T?"-":"+")+"x"),M=M.replace("y",(i>D?"-":"+")+"y"),M=M.replace("z",(b>O?"-":"+")+"z");var U=function(){n=0,F=[],V=[],_=[]};(!n||n<F.length*V.length*_.length)&&U();var H=function(ve){return ve==="x"?t:ve==="y"?r:s},z=function(ve){return ve==="x"?F:ve==="y"?V:_},G=function(ve){return ve[n-1]<ve[0]?-1:1},Y=H(M[1]),J=H(M[3]),ae=H(M[5]),oe=z(M[1]).length,he=z(M[3]).length,q=z(M[5]).length,Z=!1,$=function(ve,be,Ee){return oe*(he*ve+be)+Ee},K=G(H(M[1])),re=G(H(M[3])),le=G(H(M[5]));for(l=0;l<q-1;l++){for(c=0;c<he-1;c++){for(f=0;f<oe-1;f++){var te=$(l,c,f),ee=$(l,c,f+1),ue=$(l,c+1,f),se=$(l+1,c,f);if((!(Y[te]*K<Y[ee]*K)||!(J[te]*re<J[ue]*re)||!(ae[te]*le<ae[se]*le))&&(Z=!0),Z)break}if(Z)break}if(Z)break}return Z&&(p.warn("Encountered arbitrary coordinates! Unable to input data grid."),U()),{xMin:v,yMin:d,zMin:y,xMax:m,yMax:A,zMax:u,Xs:F,Ys:V,Zs:_,len:n,fill:M}}function w(g){return p.distinctVals(g).vals}function h(g,t){if(t===void 0&&(t=g.length),p.isTypedArray(g))return g.subarray(0,t);for(var r=[],s=0;s<t;s++)r[s]=+g[s];return r}B.exports={calc:a,filter:h,processGrid:C}},90154:function(B,N,e){var p=e(9330).gl_streamtube3d,L=p.createTubeMesh,a=e(71828),C=e(81697).parseColorScale,w=e(21081).extractOpts,h=e(90060),g={xaxis:0,yaxis:1,zaxis:2};function t(f,m){this.scene=f,this.uid=m,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(f){var m=this.scene.fullSceneLayout,v=this.scene.dataScale;function A(y,M){var S=m[M],R=v[g[M]];return S.l2c(y)/R}if(f.object===this.mesh){var d=f.data.position,u=f.data.velocity;return f.traceCoordinate=[A(d[0],"xaxis"),A(d[1],"yaxis"),A(d[2],"zaxis"),A(u[0],"xaxis"),A(u[1],"yaxis"),A(u[2],"zaxis"),f.data.intensity*this.data._normMax,f.data.divergence],f.textLabel=this.data.hovertext||this.data.text,!0}};function s(f){var m=f.length,v;return m>2?v=f.slice(1,m-1):m===2?v=[(f[0]+f[1])/2]:v=f,v}function n(f){var m=f.length;return m===1?[.5,.5]:[f[1]-f[0],f[m-1]-f[m-2]]}function l(f,m){var v=f.fullSceneLayout,A=f.dataScale,d=m._len,u={};function y(he,q){var Z=v[q],$=A[g[q]];return a.simpleMap(he,function(K){return Z.d2l(K)*$})}if(u.vectors=h(y(m._u,"xaxis"),y(m._v,"yaxis"),y(m._w,"zaxis"),d),!d)return{positions:[],cells:[]};var M=y(m._Xs,"xaxis"),S=y(m._Ys,"yaxis"),R=y(m._Zs,"zaxis");u.meshgrid=[M,S,R],u.gridFill=m._gridFill;var x=m._slen;if(x)u.startingPositions=h(y(m._startsX,"xaxis"),y(m._startsY,"yaxis"),y(m._startsZ,"zaxis"));else{for(var E=S[0],T=s(M),i=s(R),D=new Array(T.length*i.length),b=0,O=0;O<T.length;O++)for(var F=0;F<i.length;F++)D[b++]=[T[O],E,i[F]];u.startingPositions=D}u.colormap=C(m),u.tubeSize=m.sizeref,u.maxLength=m.maxdisplayed;var V=y(m._xbnds,"xaxis"),_=y(m._ybnds,"yaxis"),U=y(m._zbnds,"zaxis"),H=n(M),z=n(S),G=n(R),Y=[[V[0]-H[0],_[0]-z[0],U[0]-G[0]],[V[1]+H[1],_[1]+z[1],U[1]+G[1]]],J=p(u,Y),ae=w(m);J.vertexIntensityBounds=[ae.min/m._normMax,ae.max/m._normMax];var oe=m.lightposition;return J.lightPosition=[oe.x,oe.y,oe.z],J.ambient=m.lighting.ambient,J.diffuse=m.lighting.diffuse,J.specular=m.lighting.specular,J.roughness=m.lighting.roughness,J.fresnel=m.lighting.fresnel,J.opacity=m.opacity,m._pad=J.tubeScale*m.sizeref*2,J}r.update=function(f){this.data=f;var m=l(this.scene,f);this.mesh.update(m)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(f,m){var v=f.glplot.gl,A=l(f,m),d=L(v,A),u=new t(f,m.uid);return u.mesh=d,u.data=m,d._trace=u,f.glplot.add(d),u}B.exports=c},22459:function(B,N,e){var p=e(71828),L=e(1586),a=e(21850);B.exports=function(w,h,g,t){function r(v,A){return p.coerce(w,h,a,v,A)}var s=r("u"),n=r("v"),l=r("w"),c=r("x"),f=r("y"),m=r("z");if(!s||!s.length||!n||!n.length||!l||!l.length||!c||!c.length||!f||!f.length||!m||!m.length){h.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),L(w,h,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),h._length=null}},61510:function(B,N,e){B.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(p,L){return p.tubex=p.x,p.tubey=p.y,p.tubez=p.z,p.tubeu=L.traceCoordinate[3],p.tubev=L.traceCoordinate[4],p.tubew=L.traceCoordinate[5],p.norm=L.traceCoordinate[6],p.divergence=L.traceCoordinate[7],delete p.x,delete p.y,delete p.z,p},meta:{}}},57564:function(B,N,e){var p=e(9012),L=e(5386).fF,a=e(5386).si,C=e(50693),w=e(27670).Y,h=e(34e3),g=e(7055),t=e(1426).extendFlat,r=e(79952).u;B.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},h.marker.line.color,{dflt:null}),width:t({},h.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:h.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:h.hovertext,hoverinfo:t({},p.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:L({},{keys:g.eventDataKeys}),textfont:h.textfont,insidetextorientation:h.insidetextorientation,insidetextfont:h.insidetextfont,outsidetextfont:t({},h.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:h.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:w({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(B,N,e){var p=e(74875);N.name="sunburst",N.plot=function(L,a,C,w){p.plotBasePlot(N.name,L,a,C,w)},N.clean=function(L,a,C,w){p.cleanBasePlot(N.name,L,a,C,w)}},52147:function(B,N,e){var p=e(674),L=e(92770),a=e(71828),C=e(21081).makeColorScaleFuncFromTrace,w=e(32354).makePullColorFn,h=e(32354).generateExtendedColors,g=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},s={},n={};N.calc=function(c,f){var m=c._fullLayout,v=f.ids,A=a.isArrayOrTypedArray(v),d=f.labels,u=f.parents,y=f.values,M=a.isArrayOrTypedArray(y),S=[],R={},x={},E=function(K,re){R[K]?R[K].push(re):R[K]=[re],x[re]=1},T=function(K){return K||typeof K=="number"},i=function(K){return!M||L(y[K])&&y[K]>=0},D,b,O;A?(D=Math.min(v.length,u.length),b=function(K){return T(v[K])&&i(K)},O=function(K){return String(v[K])}):(D=Math.min(d.length,u.length),b=function(K){return T(d[K])&&i(K)},O=function(K){return String(d[K])}),M&&(D=Math.min(D,y.length));for(var F=0;F<D;F++)if(b(F)){var V=O(F),_=T(u[F])?String(u[F]):"",U={i:F,id:V,pid:_,label:T(d[F])?String(d[F]):""};M&&(U.v=+y[F]),S.push(U),E(_,V)}if(R[""]){if(R[""].length>1){for(var G=a.randstr(),Y=0;Y<S.length;Y++)S[Y].pid===""&&(S[Y].pid=G);S.unshift({hasMultipleRoots:!0,id:G,pid:"",label:""})}}else{var H=[],z;for(z in R)x[z]||H.push(z);if(H.length===1)z=H[0],S.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z});else return a.warn(["Multiple implied roots, cannot build",f.type,"hierarchy of",f.name+".","These roots include:",H.join(", ")].join(" "))}var J;try{J=p.stratify().id(function(K){return K.id}).parentId(function(K){return K.pid})(S)}catch(K){return a.warn(["Failed to build",f.type,"hierarchy of",f.name+".","Error:",K.message].join(" "))}var ae=p.hierarchy(J),oe=!1;if(M)switch(f.branchvalues){case"remainder":ae.sum(function(K){return K.data.v});break;case"total":ae.each(function(K){var re=K.data.data,le=re.v;if(K.children){var te=K.children.reduce(function(ee,ue){return ee+ue.data.data.v},0);if((re.hasImpliedRoot||re.hasMultipleRoots)&&(le=te),le<te*t)return oe=!0,a.warn(["Total value for node",K.data.data.id,"of",f.name,"is smaller than the sum of its children.",`
parent value =`,le,`
children sum =`,te].join(" "))}K.value=le});break}else l(ae,f,{branches:f.count.indexOf("branches")!==-1,leaves:f.count.indexOf("leaves")!==-1});if(!oe){f.sort&&ae.sort(function(K,re){return re.value-K.value});var he,q,Z=f.marker.colors||[],$=!!Z.length;return f._hasColorscale?($||(Z=M?f.values:f._values),g(c,f,{vals:Z,containerStr:"marker",cLetter:"c"}),q=C(f.marker)):he=w(m["_"+f.type+"colormap"]),ae.each(function(K){var re=K.data.data;re.color=f._hasColorscale?q(Z[re.i]):he(Z[re.i],re.id)}),S[0].hierarchy=ae,S}},N._runCrossTraceCalc=function(c,f){var m=f._fullLayout,v=f.calcdata,A=m[c+"colorway"],d=m["_"+c+"colormap"];m["extend"+c+"colors"]&&(A=h(A,c==="icicle"?n:c==="treemap"?s:r));var u=0,y;function M(E){var T=E.data.data,i=T.id;T.color===!1&&(d[i]?T.color=d[i]:E.parent?E.parent.parent?T.color=E.parent.data.data.color:(d[i]=T.color=A[u%A.length],u++):T.color=y)}for(var S=0;S<v.length;S++){var R=v[S],x=R[0];x.trace.type===c&&x.hierarchy&&(y=x.trace.root.color,x.hierarchy.each(M))}},N.crossTraceCalc=function(c){return N._runCrossTraceCalc("sunburst",c)};function l(c,f,m){var v=0,A=c.children;if(A){for(var d=A.length,u=0;u<d;u++)v+=l(A[u],f,m);m.branches&&v++}else m.leaves&&v++;return c.value=c.data.data.value=v,f._values||(f._values=[]),f._values[c.data.data.i]=v,v}},7055:function(B){B.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(B,N,e){var p=e(71828),L=e(57564),a=e(27670).c,C=e(90769).handleText,w=e(37434).handleMarkerDefaults,h=e(21081),g=h.hasColorscale,t=h.handleDefaults;B.exports=function(s,n,l,c){function f(M,S){return p.coerce(s,n,L,M,S)}var m=f("labels"),v=f("parents");if(!m||!m.length||!v||!v.length){n.visible=!1;return}var A=f("values");A&&A.length?f("branchvalues"):f("count"),f("level"),f("maxdepth"),w(s,n,c,f);var d=n._hasColorscale=g(s,"marker","colors")||(s.marker||{}).coloraxis;d&&t(s,n,c,f,{prefix:"marker.",cLetter:"c"}),f("leaf.opacity",d?1:.7);var u=f("text");f("texttemplate"),n.texttemplate||f("textinfo",Array.isArray(u)?"text+label":"label"),f("hovertext"),f("hovertemplate");var y="auto";C(s,n,c,f,y,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("insidetextorientation"),f("sort"),f("rotation"),f("root.color"),a(n,c,f),n._length=null}},43467:function(B,N,e){var p=e(91424),L=e(7901);B.exports=function(C,w,h,g,t){var r=w.data.data,s=r.i,n=t||r.color;if(s>=0){w.i=r.i;var l=h.marker;l.pattern?(!l.colors||!l.pattern.shape)&&(l.color=n,w.color=n):(l.color=n,w.color=n),p.pointStyle(C,h,g,w)}else L.fill(C,n)}},83523:function(B,N,e){var p=e(39898),L=e(73972),a=e(23469).appendArrayPointValue,C=e(30211),w=e(71828),h=e(11086),g=e(2791),t=e(53581),r=t.formatPieValue;B.exports=function(l,c,f,m,v){var A=m[0],d=A.trace,u=A.hierarchy,y=d.type==="sunburst",M=d.type==="treemap"||d.type==="icicle";"_hasHoverLabel"in d||(d._hasHoverLabel=!1),"_hasHoverEvent"in d||(d._hasHoverEvent=!1);var S=function(E){var T=f._fullLayout;if(!(f._dragging||T.hovermode===!1)){var i=f._fullData[d.index],D=E.data.data,b=D.i,O=g.isHierarchyRoot(E),F=g.getParent(u,E),V=g.getValue(E),_=function(ee){return w.castOption(i,b,ee)},U=_("hovertemplate"),H=C.castHoverinfo(i,T,b),z=T.separators,G;if(U||H&&H!=="none"&&H!=="skip"){var Y,J;y&&(Y=A.cx+E.pxmid[0]*(1-E.rInscribed),J=A.cy+E.pxmid[1]*(1-E.rInscribed)),M&&(Y=E._hoverX,J=E._hoverY);var ae={},oe=[],he=[],q=function(ee){return oe.indexOf(ee)!==-1};H&&(oe=H==="all"?i._module.attributes.hoverinfo.flags:H.split("+")),ae.label=D.label,q("label")&&ae.label&&he.push(ae.label),D.hasOwnProperty("v")&&(ae.value=D.v,ae.valueLabel=r(ae.value,z),q("value")&&he.push(ae.valueLabel)),ae.currentPath=E.currentPath=g.getPath(E.data),q("current path")&&!O&&he.push(ae.currentPath);var Z,$=[],K=function(){$.indexOf(Z)===-1&&(he.push(Z),$.push(Z))};ae.percentParent=E.percentParent=V/g.getValue(F),ae.parent=E.parentString=g.getPtLabel(F),q("percent parent")&&(Z=g.formatPercent(ae.percentParent,z)+" of "+ae.parent,K()),ae.percentEntry=E.percentEntry=V/g.getValue(c),ae.entry=E.entry=g.getPtLabel(c),q("percent entry")&&!O&&!E.onPathbar&&(Z=g.formatPercent(ae.percentEntry,z)+" of "+ae.entry,K()),ae.percentRoot=E.percentRoot=V/g.getValue(u),ae.root=E.root=g.getPtLabel(u),q("percent root")&&!O&&(Z=g.formatPercent(ae.percentRoot,z)+" of "+ae.root,K()),ae.text=_("hovertext")||_("text"),q("text")&&(Z=ae.text,w.isValidTextValue(Z)&&he.push(Z)),G=[s(E,i,v.eventDataKeys)];var re={trace:i,y:J,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:he.join("<br>"),name:U||q("name")?i.name:void 0,color:_("hoverlabel.bgcolor")||D.color,borderColor:_("hoverlabel.bordercolor"),fontFamily:_("hoverlabel.font.family"),fontSize:_("hoverlabel.font.size"),fontColor:_("hoverlabel.font.color"),nameLength:_("hoverlabel.namelength"),textAlign:_("hoverlabel.align"),hovertemplate:U,hovertemplateLabels:ae,eventData:G};y&&(re.x0=Y-E.rInscribed*E.rpx1,re.x1=Y+E.rInscribed*E.rpx1,re.idealAlign=E.pxmid[0]<0?"left":"right"),M&&(re.x=Y,re.idealAlign=Y<0?"left":"right");var le=[];C.loneHover(re,{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:f,inOut_bbox:le}),G[0].bbox=le[0],d._hasHoverLabel=!0}if(M){var te=l.select("path.surface");v.styleOne(te,E,i,f,{hovered:!0})}d._hasHoverEvent=!0,f.emit("plotly_hover",{points:G||[s(E,i,v.eventDataKeys)],event:p.event})}},R=function(E){var T=f._fullLayout,i=f._fullData[d.index],D=p.select(this).datum();if(d._hasHoverEvent&&(E.originalEvent=p.event,f.emit("plotly_unhover",{points:[s(D,i,v.eventDataKeys)],event:p.event}),d._hasHoverEvent=!1),d._hasHoverLabel&&(C.loneUnhover(T._hoverlayer.node()),d._hasHoverLabel=!1),M){var b=l.select("path.surface");v.styleOne(b,D,i,f,{hovered:!1})}},x=function(E){var T=f._fullLayout,i=f._fullData[d.index],D=y&&(g.isHierarchyRoot(E)||g.isLeaf(E)),b=g.getPtId(E),O=g.isEntry(E)?g.findEntryWithChild(u,b):g.findEntryWithLevel(u,b),F=g.getPtId(O),V={points:[s(E,i,v.eventDataKeys)],event:p.event};D||(V.nextLevel=F);var _=h.triggerHandler(f,"plotly_"+d.type+"click",V);if(_!==!1&&T.hovermode&&(f._hoverdata=[s(E,i,v.eventDataKeys)],C.click(f,p.event)),!D&&_!==!1&&!f._dragging&&!f._transitioning){L.call("_storeDirectGUIEdit",i,T._tracePreGUI[i.uid],{level:i.level});var U={data:[{level:F}],traces:[d.index]},H={frame:{redraw:!1,duration:v.transitionTime},transition:{duration:v.transitionTime,easing:v.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(T._hoverlayer.node()),L.call("animate",f,U,H)}};l.on("mouseover",S),l.on("mouseout",R),l.on("click",x)};function s(n,l,c){for(var f=n.data.data,m={curveNumber:l.index,pointNumber:f.i,data:l._input,fullData:l},v=0;v<c.length;v++){var A=c[v];A in n&&(m[A]=n[A])}return"parentString"in n&&!g.isHierarchyRoot(n)&&(m.parent=n.parentString),a(m,l,f.i),m}},2791:function(B,N,e){var p=e(71828),L=e(7901),a=e(6964),C=e(53581);N.findEntryWithLevel=function(t,r){var s;return r&&t.eachAfter(function(n){if(N.getPtId(n)===r)return s=n.copy()}),s||t},N.findEntryWithChild=function(t,r){var s;return t.eachAfter(function(n){for(var l=n.children||[],c=0;c<l.length;c++){var f=l[c];if(N.getPtId(f)===r)return s=n.copy()}}),s||t},N.isEntry=function(t){return!t.parent},N.isLeaf=function(t){return!t.children},N.getPtId=function(t){return t.data.data.id},N.getPtLabel=function(t){return t.data.data.label},N.getValue=function(t){return t.value},N.isHierarchyRoot=function(t){return g(t)===""},N.setSliceCursor=function(t,r,s){var n=s.isTransitioning;if(!n){var l=t.datum();n=s.hideOnRoot&&N.isHierarchyRoot(l)||s.hideOnLeaves&&N.isLeaf(l)}a(t,n?null:"pointer")};function w(t,r,s){return{color:N.getOutsideTextFontKey("color",t,r,s),family:N.getOutsideTextFontKey("family",t,r,s),size:N.getOutsideTextFontKey("size",t,r,s)}}function h(t,r,s,n){var l=(n||{}).onPathbar,c=r.data.data,f=c.i,m=p.castOption(t,f,(l?"pathbar.textfont":"insidetextfont")+".color");return!m&&t._input.textfont&&(m=p.castOption(t._input,f,"textfont.color")),{color:m||L.contrast(c.color),family:N.getInsideTextFontKey("family",t,r,s,n),size:N.getInsideTextFontKey("size",t,r,s,n)}}N.getInsideTextFontKey=function(t,r,s,n,l){var c=(l||{}).onPathbar,f=c?"pathbar.textfont":"insidetextfont",m=s.data.data.i;return p.castOption(r,m,f+"."+t)||p.castOption(r,m,"textfont."+t)||n.size},N.getOutsideTextFontKey=function(t,r,s,n){var l=s.data.data.i;return p.castOption(r,l,"outsidetextfont."+t)||p.castOption(r,l,"textfont."+t)||n.size},N.isOutsideText=function(t,r){return!t._hasColorscale&&N.isHierarchyRoot(r)},N.determineTextFont=function(t,r,s,n){return N.isOutsideText(t,r)?w(t,r,s):h(t,r,s,n)},N.hasTransition=function(t){return!!(t&&t.duration>0)},N.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},N.isHeader=function(t,r){return!(N.isLeaf(t)||t.depth===r._maxDepth-1)};function g(t){return t.data.data.pid}N.getParent=function(t,r){return N.findEntryWithLevel(t,g(r))},N.listPath=function(t,r){var s=t.parent;if(!s)return[];var n=r?[s.data[r]]:[s];return N.listPath(s,r).concat(n)},N.getPath=function(t){return N.listPath(t,"label").join("/")+"/"},N.formatValue=C.formatPieValue,N.formatPercent=function(t,r){var s=p.formatPercent(t,0);return s==="0%"&&(s=C.formatPiePercent(t,r)),s}},87619:function(B,N,e){B.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(B){B.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(B,N,e){var p=e(71828),L=e(2654);B.exports=function(C,w){function h(g,t){return p.coerce(C,w,L,g,t)}h("sunburstcolorway",w.colorway),h("extendsunburstcolors")}},24714:function(B,N,e){var p=e(39898),L=e(674),a=e(81684).sX,C=e(91424),w=e(71828),h=e(63893),g=e(72597),t=g.recordMinTextSize,r=g.clearMinTextSize,s=e(14575),n=e(53581).getRotationAngle,l=s.computeTransform,c=s.transformInsideText,f=e(29969).styleOne,m=e(16688).resizeText,v=e(83523),A=e(7055),d=e(2791);N.plot=function(x,E,T,i){var D=x._fullLayout,b=D._sunburstlayer,O,F,V=!T,_=!D.uniformtext.mode&&d.hasTransition(T);if(r("sunburst",D),O=b.selectAll("g.trace.sunburst").data(E,function(H){return H[0].trace.uid}),O.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),O.order(),_){i&&(F=i());var U=p.transition().duration(T.duration).ease(T.easing).each("end",function(){F&&F()}).each("interrupt",function(){F&&F()});U.each(function(){b.selectAll("g.trace").each(function(H){u(x,H,this,T)})})}else O.each(function(H){u(x,H,this,T)}),D.uniformtext.mode&&m(x,D._sunburstlayer.selectAll(".trace"),"sunburst");V&&O.exit().remove()};function u(x,E,T,i){var D=x._context.staticPlot,b=x._fullLayout,O=!b.uniformtext.mode&&d.hasTransition(i),F=p.select(T),V=F.selectAll("g.slice"),_=E[0],U=_.trace,H=_.hierarchy,z=d.findEntryWithLevel(H,U.level),G=d.getMaxDepth(U),Y=b._size,J=U.domain,ae=Y.w*(J.x[1]-J.x[0]),oe=Y.h*(J.y[1]-J.y[0]),he=.5*Math.min(ae,oe),q=_.cx=Y.l+Y.w*(J.x[1]+J.x[0])/2,Z=_.cy=Y.t+Y.h*(1-J.y[0])-oe/2;if(!z)return V.remove();var $=null,K={};O&&V.each(function(We){K[d.getPtId(We)]={rpx0:We.rpx0,rpx1:We.rpx1,x0:We.x0,x1:We.x1,transform:We.transform},!$&&d.isEntry(We)&&($=We)});var re=y(z).descendants(),le=z.height+1,te=0,ee=G;_.hasMultipleRoots&&d.isHierarchyRoot(z)&&(re=re.slice(1),le-=1,te=1,ee+=1),re=re.filter(function(We){return We.y1<=ee});var ue=n(U.rotation);ue&&re.forEach(function(We){We.x0+=ue,We.x1+=ue});var se=Math.min(le,G),ve=function(We){return(We-te)/se*he},be=function(We,rt){return[We*Math.cos(rt),-We*Math.sin(rt)]},Ee=function(We){return w.pathAnnulus(We.rpx0,We.rpx1,We.x0,We.x1,q,Z)},Ae=function(We){return q+S(We)[0]*(We.transform.rCenter||0)+(We.transform.x||0)},Oe=function(We){return Z+S(We)[1]*(We.transform.rCenter||0)+(We.transform.y||0)};V=V.data(re,d.getPtId),V.enter().append("g").classed("slice",!0),O?V.exit().transition().each(function(){var We=p.select(this),rt=We.select("path.surface");rt.transition().attrTween("d",function(tt){var at=Ce(tt);return function(ct){return Ee(at(ct))}});var et=We.select("g.slicetext");et.attr("opacity",0)}).remove():V.exit().remove(),V.order();var Ue=null;if(O&&$){var Le=d.getPtId($);V.each(function(We){Ue===null&&d.getPtId(We)===Le&&(Ue=We.x1)})}var we=V;O&&(we=we.transition().each("end",function(){var We=p.select(this);d.setSliceCursor(We,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),we.each(function(We){var rt=p.select(this),et=w.ensureSingle(rt,"path","surface",function(Et){Et.style("pointer-events",D?"none":"all")});We.rpx0=ve(We.y0),We.rpx1=ve(We.y1),We.xmid=(We.x0+We.x1)/2,We.pxmid=be(We.rpx1,We.xmid),We.midangle=-(We.xmid-Math.PI/2),We.startangle=-(We.x0-Math.PI/2),We.stopangle=-(We.x1-Math.PI/2),We.halfangle=.5*Math.min(w.angleDelta(We.x0,We.x1)||Math.PI,Math.PI),We.ring=1-We.rpx0/We.rpx1,We.rInscribed=M(We),O?et.transition().attrTween("d",function(Et){var Ct=Ve(Et);return function(Vt){return Ee(Ct(Vt))}}):et.attr("d",Ee),rt.call(v,z,x,E,{eventDataKeys:A.eventDataKeys,transitionTime:A.CLICK_TRANSITION_TIME,transitionEasing:A.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),et.call(f,We,U,x);var tt=w.ensureSingle(rt,"g","slicetext"),at=w.ensureSingle(tt,"text","",function(Et){Et.attr("data-notex",1)}),ct=w.ensureUniformFontSize(x,d.determineTextFont(U,We,b.font));at.text(N.formatSliceLabel(We,z,U,E,b)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,ct).call(h.convertToTspans,x);var dt=C.bBox(at.node());We.transform=c(dt,We,_),We.transform.targetX=Ae(We),We.transform.targetY=Oe(We);var gt=function(Et,Ct){var Vt=Et.transform;return l(Vt,Ct),Vt.fontSize=ct.size,t(U.type,Vt,b),w.getTextTransform(Vt)};O?at.transition().attrTween("transform",function(Et){var Ct=Ne(Et);return function(Vt){return gt(Ct(Vt),dt)}}):at.attr("transform",gt(We,dt))});function Ce(We){var rt=d.getPtId(We),et=K[rt],tt=K[d.getPtId(z)],at;if(tt){var ct=(We.x1>tt.x1?2*Math.PI:0)+ue;at=We.rpx1<tt.rpx1?{x0:We.x0,x1:We.x1,rpx0:0,rpx1:0}:{x0:ct,x1:ct,rpx0:We.rpx0,rpx1:We.rpx1}}else{var dt,gt=d.getPtId(We.parent);V.each(function(_e){if(d.getPtId(_e)===gt)return dt=_e});var Et=dt.children,Ct;Et.forEach(function(_e,Fe){if(d.getPtId(_e)===rt)return Ct=Fe});var Vt=Et.length,Je=a(dt.x0,dt.x1);at={rpx0:he,rpx1:he,x0:Je(Ct/Vt),x1:Je((Ct+1)/Vt)}}return a(et,at)}function Ve(We){var rt=K[d.getPtId(We)],et,tt={x0:We.x0,x1:We.x1,rpx0:We.rpx0,rpx1:We.rpx1};if(rt)et=rt;else if($)if(We.parent)if(Ue){var at=(We.x1>Ue?2*Math.PI:0)+ue;et={x0:at,x1:at}}else et={rpx0:he,rpx1:he},w.extendFlat(et,ke(We));else et={rpx0:0,rpx1:0};else et={x0:ue,x1:ue};return a(et,tt)}function Ne(We){var rt=K[d.getPtId(We)],et,tt=We.transform;if(rt)et=rt;else if(et={rpx1:We.rpx1,transform:{textPosAngle:tt.textPosAngle,scale:0,rotate:tt.rotate,rCenter:tt.rCenter,x:tt.x,y:tt.y}},$)if(We.parent)if(Ue){var at=We.x1>Ue?2*Math.PI:0;et.x0=et.x1=at}else w.extendFlat(et,ke(We));else et.x0=et.x1=ue;else et.x0=et.x1=ue;var ct=a(et.transform.textPosAngle,We.transform.textPosAngle),dt=a(et.rpx1,We.rpx1),gt=a(et.x0,We.x0),Et=a(et.x1,We.x1),Ct=a(et.transform.scale,tt.scale),Vt=a(et.transform.rotate,tt.rotate),Je=tt.rCenter===0?3:et.transform.rCenter===0?1/3:1,_e=a(et.transform.rCenter,tt.rCenter),Fe=function(Be){return _e(Math.pow(Be,Je))};return function(Be){var De=dt(Be),Te=gt(Be),xe=Et(Be),Me=Fe(Be),Pe=be(De,(Te+xe)/2),He=ct(Be),Ke={pxmid:Pe,rpx1:De,transform:{textPosAngle:He,rCenter:Me,x:tt.x,y:tt.y}};return t(U.type,tt,b),{transform:{targetX:Ae(Ke),targetY:Oe(Ke),scale:Ct(Be),rotate:Vt(Be),rCenter:Me}}}}function ke(We){var rt=We.parent,et=K[d.getPtId(rt)],tt={};if(et){var at=rt.children,ct=at.indexOf(We),dt=at.length,gt=a(et.x0,et.x1);tt.x0=gt(ct/dt),tt.x1=gt(ct/dt)}else tt.x0=tt.x1=0;return tt}}function y(x){return L.partition().size([2*Math.PI,x.height+1])(x)}N.formatSliceLabel=function(x,E,T,i,D){var b=T.texttemplate,O=T.textinfo;if(!b&&(!O||O==="none"))return"";var F=D.separators,V=i[0],_=x.data.data,U=V.hierarchy,H=d.isHierarchyRoot(x),z=d.getParent(U,x),G=d.getValue(x);if(!b){var Y=O.split("+"),J=function(te){return Y.indexOf(te)!==-1},ae=[],oe;if(J("label")&&_.label&&ae.push(_.label),_.hasOwnProperty("v")&&J("value")&&ae.push(d.formatValue(_.v,F)),!H){J("current path")&&ae.push(d.getPath(x.data));var he=0;J("percent parent")&&he++,J("percent entry")&&he++,J("percent root")&&he++;var q=he>1;if(he){var Z,$=function(te){oe=d.formatPercent(Z,F),q&&(oe+=" of "+te),ae.push(oe)};J("percent parent")&&!H&&(Z=G/d.getValue(z),$("parent")),J("percent entry")&&(Z=G/d.getValue(E),$("entry")),J("percent root")&&(Z=G/d.getValue(U),$("root"))}}return J("text")&&(oe=w.castOption(T,_.i,"text"),w.isValidTextValue(oe)&&ae.push(oe)),ae.join("<br>")}var K=w.castOption(T,_.i,"texttemplate");if(!K)return"";var re={};_.label&&(re.label=_.label),_.hasOwnProperty("v")&&(re.value=_.v,re.valueLabel=d.formatValue(_.v,F)),re.currentPath=d.getPath(x.data),H||(re.percentParent=G/d.getValue(z),re.percentParentLabel=d.formatPercent(re.percentParent,F),re.parent=d.getPtLabel(z)),re.percentEntry=G/d.getValue(E),re.percentEntryLabel=d.formatPercent(re.percentEntry,F),re.entry=d.getPtLabel(E),re.percentRoot=G/d.getValue(U),re.percentRootLabel=d.formatPercent(re.percentRoot,F),re.root=d.getPtLabel(U),_.hasOwnProperty("color")&&(re.color=_.color);var le=w.castOption(T,_.i,"text");return(w.isValidTextValue(le)||le==="")&&(re.text=le),re.customdata=w.castOption(T,_.i,"customdata"),w.texttemplateString(K,re,D._d3locale,re,T._meta||{})};function M(x){return x.rpx0===0&&w.isFullCircle([x.x0,x.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(x.halfangle)),x.ring/2))}function S(x){return R(x.rpx1,x.transform.textPosAngle)}function R(x,E){return[x*Math.sin(E),-x*Math.cos(E)]}},29969:function(B,N,e){var p=e(39898),L=e(7901),a=e(71828),C=e(72597).resizeText,w=e(43467);function h(t){var r=t._fullLayout._sunburstlayer.selectAll(".trace");C(t,r,"sunburst"),r.each(function(s){var n=p.select(this),l=s[0],c=l.trace;n.style("opacity",c.opacity),n.selectAll("path.surface").each(function(f){p.select(this).call(g,f,c,t)})})}function g(t,r,s,n){var l=r.data.data,c=!r.children,f=l.i,m=a.castOption(s,f,"marker.line.color")||L.defaultLine,v=a.castOption(s,f,"marker.line.width")||0;t.call(w,r,s,n).style("stroke-width",v).call(L.stroke,m).style("opacity",c?s.leaf.opacity:null)}B.exports={style:h,styleOne:g}},54532:function(B,N,e){var p=e(7901),L=e(50693),a=e(12663).axisHoverFormat,C=e(5386).fF,w=e(9012),h=e(1426).extendFlat,g=e(30962).overrideAll;function t(n){return{valType:"boolean",dflt:!1}}function r(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:p.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:p.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=B.exports=g(h({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},L("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:h({},L.zauto,{}),zmin:h({},L.zmin,{}),zmax:h({},L.zmax,{})},hoverinfo:h({},w.hoverinfo),showlegend:h({},w.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},18396:function(B,N,e){var p=e(78803);B.exports=function(a,C){C.surfacecolor?p(a,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):p(a,C,{vals:C.z,containerStr:"",cLetter:"c"})}},43768:function(B,N,e){var p=e(9330).gl_surface3d,L=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,C=e(824),w=e(43907),h=e(71828).isArrayOrTypedArray,g=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function s(i,D,b){this.scene=i,this.uid=b,this.surface=D,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=s.prototype;n.getXat=function(i,D,b,O){var F=h(this.data.x)?h(this.data.x[0])?this.data.x[D][i]:this.data.x[i]:i;return b===void 0?F:O.d2l(F,0,b)},n.getYat=function(i,D,b,O){var F=h(this.data.y)?h(this.data.y[0])?this.data.y[D][i]:this.data.y[D]:D;return b===void 0?F:O.d2l(F,0,b)},n.getZat=function(i,D,b,O){var F=this.data.z[D][i];return F===null&&this.data.connectgaps&&this.data._interpolatedZ&&(F=this.data._interpolatedZ[D][i]),b===void 0?F:O.d2l(F,0,b)},n.handlePick=function(i){if(i.object===this.surface){var D=(i.data.index[0]-1)/this.dataScaleX-1,b=(i.data.index[1]-1)/this.dataScaleY-1,O=Math.max(Math.min(Math.round(D),this.data.z[0].length-1),0),F=Math.max(Math.min(Math.round(b),this.data._ylength-1),0);i.index=[O,F],i.traceCoordinate=[this.getXat(O,F),this.getYat(O,F),this.getZat(O,F)],i.dataCoordinate=[this.getXat(O,F,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(O,F,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(O,F,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var V=0;V<3;V++){var _=i.dataCoordinate[V];_!=null&&(i.dataCoordinate[V]*=this.scene.dataScale[V])}var U=this.data.hovertext||this.data.text;return Array.isArray(U)&&U[F]&&U[F][O]!==void 0?i.textLabel=U[F][O]:U?i.textLabel=U:i.textLabel="",i.data.dataCoordinate=i.dataCoordinate.slice(),this.surface.highlight(i.data),this.scene.glplot.spikes.position=i.dataCoordinate,!0}};function l(i){var D=i[0].rgb,b=i[i.length-1].rgb;return D[0]===b[0]&&D[1]===b[1]&&D[2]===b[2]&&D[3]===b[3]}var c=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function f(i,D){if(i<D)return 0;for(var b=0;Math.floor(i%D)===0;)i/=D,b++;return b}function m(i){for(var D=[],b=0;b<c.length;b++){var O=c[b];D.push(f(i,O))}return D}function v(i){for(var D=m(i),b=i,O=0;O<c.length;O++)if(D[O]>0){b=c[O];break}return b}function A(i,D){if(!(i<1||D<1)){for(var b=m(i),O=m(D),F=1,V=0;V<c.length;V++)F*=Math.pow(c[V],Math.max(b[V],O[V]));return F}}function d(i){if(i.length!==0){for(var D=1,b=0;b<i.length;b++)D=A(D,i[b]);return D}}n.calcXnums=function(i){var D,b=[];for(D=1;D<i;D++){var O=this.getXat(D-1,0),F=this.getXat(D,0);F!==O&&O!==void 0&&O!==null&&F!==void 0&&F!==null?b[D-1]=Math.abs(F-O):b[D-1]=0}var V=0;for(D=1;D<i;D++)V+=b[D-1];for(D=1;D<i;D++)b[D-1]===0?b[D-1]=1:b[D-1]=Math.round(V/b[D-1]);return b},n.calcYnums=function(i){var D,b=[];for(D=1;D<i;D++){var O=this.getYat(0,D-1),F=this.getYat(0,D);F!==O&&O!==void 0&&O!==null&&F!==void 0&&F!==null?b[D-1]=Math.abs(F-O):b[D-1]=0}var V=0;for(D=1;D<i;D++)V+=b[D-1];for(D=1;D<i;D++)b[D-1]===0?b[D-1]=1:b[D-1]=Math.round(V/b[D-1]);return b};var u=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],y=u[9],M=u[13];n.estimateScale=function(i,D){for(var b=D===0?this.calcXnums(i):this.calcYnums(i),O=1+d(b);O<y;)O*=2;for(;O>M;)O--,O/=v(O),O++,O<y&&(O=M);var F=Math.round(O/i);return F>1?F:1};function S(i,D,b){var O=b[8]+b[2]*D[0]+b[5]*D[1];return i[0]=(b[6]+b[0]*D[0]+b[3]*D[1])/O,i[1]=(b[7]+b[1]*D[0]+b[4]*D[1])/O,i}function R(i,D,b){return x(i,D,S,b),i}function x(i,D,b,O){for(var F=[0,0],V=i.shape[0],_=i.shape[1],U=0;U<V;U++)for(var H=0;H<_;H++)b(F,[U,H],O),i.set(U,H,a(D,F[0],F[1]));return i}n.refineCoords=function(i){for(var D=this.dataScaleX,b=this.dataScaleY,O=i[0].shape[0],F=i[0].shape[1],V=Math.floor(i[0].shape[0]*D+1)|0,_=Math.floor(i[0].shape[1]*b+1)|0,U=1+O+1,H=1+F+1,z=L(new Float32Array(U*H),[U,H]),G=[1/D,0,0,0,1/b,0,0,0,1],Y=0;Y<i.length;++Y){this.surface.padField(z,i[Y]);var J=L(new Float32Array(V*_),[V,_]);R(J,z,G),i[Y]=J}};function E(i,D){for(var b=!1,O=0;O<i.length;O++)if(D===i[O]){b=!0;break}b===!1&&i.push(D)}n.setContourLevels=function(){var i=[[],[],[]],D=[!1,!1,!1],b=!1,O,F,V;for(O=0;O<3;++O)if(this.showContour[O]&&(b=!0,this.contourSize[O]>0&&this.contourStart[O]!==null&&this.contourEnd[O]!==null&&this.contourEnd[O]>this.contourStart[O]))for(D[O]=!0,F=this.contourStart[O];F<this.contourEnd[O];F+=this.contourSize[O])V=F*this.scene.dataScale[O],E(i[O],V);if(b){var _=[[],[],[]];for(O=0;O<3;++O)this.showContour[O]&&(_[O]=D[O]?i[O]:this.scene.contourLevels[O]);this.surface.update({levels:_})}},n.update=function(i){var D=this.scene,b=D.fullSceneLayout,O=this.surface,F=g(i),V=D.dataScale,_=i.z[0].length,U=i._ylength,H=D.contourLevels;this.data=i;var z,G,Y,J,ae=[];for(z=0;z<3;z++)for(ae[z]=[],G=0;G<_;G++)ae[z][G]=[];for(G=0;G<_;G++)for(Y=0;Y<U;Y++)ae[0][G][Y]=this.getXat(G,Y,i.xcalendar,b.xaxis),ae[1][G][Y]=this.getYat(G,Y,i.ycalendar,b.yaxis),ae[2][G][Y]=this.getZat(G,Y,i.zcalendar,b.zaxis);if(i.connectgaps)for(i._emptypoints=w(ae[2]),C(ae[2],i._emptypoints),i._interpolatedZ=[],G=0;G<_;G++)for(i._interpolatedZ[G]=[],Y=0;Y<U;Y++)i._interpolatedZ[G][Y]=ae[2][G][Y];for(z=0;z<3;z++)for(G=0;G<_;G++)for(Y=0;Y<U;Y++)J=ae[z][G][Y],J==null?ae[z][G][Y]=NaN:J=ae[z][G][Y]*=V[z];for(z=0;z<3;z++)for(G=0;G<_;G++)for(Y=0;Y<U;Y++)J=ae[z][G][Y],J!=null&&(this.minValues[z]>J&&(this.minValues[z]=J),this.maxValues[z]<J&&(this.maxValues[z]=J));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(G=0;G<_;G++)for(Y=0;Y<U;Y++)J=ae[z][G][Y],J!=null&&(ae[z][G][Y]-=this.objectOffset[z]);var oe=[L(new Float32Array(_*U),[_,U]),L(new Float32Array(_*U),[_,U]),L(new Float32Array(_*U),[_,U])];for(z=0;z<3;z++)for(G=0;G<_;G++)for(Y=0;Y<U;Y++)oe[z].set(G,Y,ae[z][G][Y]);ae=[];var he={colormap:F,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!i.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:i.opacityscale,opacity:i.opacity},q=r(i);if(he.intensityBounds=[q.min,q.max],i.surfacecolor){var Z=L(new Float32Array(_*U),[_,U]);for(G=0;G<_;G++)for(Y=0;Y<U;Y++)Z.set(G,Y,i.surfacecolor[Y][G]);oe.push(Z)}else he.intensityBounds[0]*=V[2],he.intensityBounds[1]*=V[2];(M<oe[0].shape[0]||M<oe[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(oe[0].shape[0],0),this.dataScaleY=this.estimateScale(oe[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(oe)),i.surfacecolor&&(he.intensity=oe.pop());var $=[!0,!0,!0],K=["x","y","z"];for(z=0;z<3;++z){var re=i.contours[K[z]];$[z]=re.highlight,he.showContour[z]=re.show||re.highlight,he.showContour[z]&&(he.contourProject[z]=[re.project.x,re.project.y,re.project.z],re.show?(this.showContour[z]=!0,he.levels[z]=H[z],O.highlightColor[z]=he.contourColor[z]=t(re.color),re.usecolormap?O.highlightTint[z]=he.contourTint[z]=0:O.highlightTint[z]=he.contourTint[z]=1,he.contourWidth[z]=re.width,this.contourStart[z]=re.start,this.contourEnd[z]=re.end,this.contourSize[z]=re.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),re.highlight&&(he.dynamicColor[z]=t(re.highlightcolor),he.dynamicWidth[z]=re.highlightwidth))}l(F)&&(he.vertexColor=!0),he.objectOffset=this.objectOffset,he.coords=oe,O.update(he),O.visible=i.visible,O.enableDynamic=$,O.enableHighlight=$,O.snapToData=!0,"lighting"in i&&(O.ambientLight=i.lighting.ambient,O.diffuseLight=i.lighting.diffuse,O.specularLight=i.lighting.specular,O.roughness=i.lighting.roughness,O.fresnel=i.lighting.fresnel),"lightposition"in i&&(O.lightPosition=[i.lightposition.x,i.lightposition.y,i.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function T(i,D){var b=i.glplot.gl,O=p({gl:b}),F=new s(i,O,D.uid);return O._trace=F,F.update(D),i.glplot.add(O),F}B.exports=T},91831:function(B,N,e){var p=e(73972),L=e(71828),a=e(1586),C=e(54532),w=.1;function h(n,l){for(var c=[],f=32,m=0;m<f;m++){var v=m/(f-1),A=l+(1-l)*(1-Math.pow(Math.sin(n*v*Math.PI),2));c.push([v,Math.max(0,Math.min(1,A))])}return c}function g(n){var l=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var c=0;c<n.length;c++){var f=n[c];if(f.length!==2||+f[0]<l)return!1;l=+f[0]}return!0}function t(n,l,c,f){var m,v;function A(i,D){return L.coerce(n,l,C,i,D)}var d=A("x"),u=A("y"),y=A("z");if(!y||!y.length||d&&d.length<1||u&&u.length<1){l.visible=!1;return}l._xlength=Array.isArray(d)&&L.isArrayOrTypedArray(d[0])?y.length:y[0].length,l._ylength=y.length;var M=p.getComponentMethod("calendars","handleTraceDefaults");M(n,l,["x","y","z"],f),A("text"),A("hovertext"),A("hovertemplate"),A("xhoverformat"),A("yhoverformat"),A("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(i){A(i)});var S=A("surfacecolor"),R=["x","y","z"];for(m=0;m<3;++m){var x="contours."+R[m],E=A(x+".show"),T=A(x+".highlight");if(E||T)for(v=0;v<3;++v)A(x+".project."+R[v]);E&&(A(x+".color"),A(x+".width"),A(x+".usecolormap")),T&&(A(x+".highlightcolor"),A(x+".highlightwidth")),A(x+".start"),A(x+".end"),A(x+".size")}S||(s(n,"zmin","cmin"),s(n,"zmax","cmax"),s(n,"zauto","cauto")),a(n,l,f,A,{prefix:"",cLetter:"c"}),r(n,l,f,A),l._length=null}function r(n,l,c,f){var m=f("opacityscale");m==="max"?l.opacityscale=[[0,w],[1,1]]:m==="min"?l.opacityscale=[[0,1],[1,w]]:m==="extremes"?l.opacityscale=h(1,w):g(m)||(l.opacityscale=void 0)}function s(n,l,c){l in n&&!(c in n)&&(n[c]=n[l])}B.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(B,N,e){B.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(B,N,e){var p=e(50215),L=e(1426).extendFlat,a=e(30962).overrideAll,C=e(41940),w=e(27670).Y,h=e(12663).descriptionOnlyNumbers,g=B.exports=a({domain:w({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))}},"calc","from-root");g.transforms=void 0},99469:function(B,N,e){var p=e(27659).a0,L=e(36736),a="table";N.name=a,N.plot=function(C){var w=p(C.calcdata,a)[0];w.length&&L(C,w)},N.clean=function(C,w,h,g){var t=g._has&&g._has(a),r=w._has&&w._has(a);t&&!r&&g._paperdiv.selectAll(".table").remove()}},76333:function(B,N,e){var p=e(28984).wrap;B.exports=function(){return p({})}},49850:function(B){B.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(B,N,e){var p=e(49850),L=e(1426).extendFlat,a=e(92770);B.exports=function(c,f){var m=h(f.cells.values),v=function(G){return G.slice(f.header.values.length,G.length)},A=h(f.header.values);A.length&&!A[0].length&&(A[0]=[""],A=h(A));var d=A.concat(v(m).map(function(){return g((A[0]||[""]).length)})),u=f.domain,y=Math.floor(c._fullLayout._size.w*(u.x[1]-u.x[0])),M=Math.floor(c._fullLayout._size.h*(u.y[1]-u.y[0])),S=f.header.values.length?d[0].map(function(){return f.header.height}):[p.emptyHeaderHeight],R=m.length?m[0].map(function(){return f.cells.height}):[],x=S.reduce(w,0),E=M-x,T=E+p.uplift,i=s(R,T),D=s(S,x),b=r(D,[]),O=r(i,b),F={},V=f._fullInput.columnorder.concat(v(m.map(function(G,Y){return Y}))),_=d.map(function(G,Y){var J=Array.isArray(f.columnwidth)?f.columnwidth[Math.min(Y,f.columnwidth.length-1)]:f.columnwidth;return a(J)?Number(J):1}),U=_.reduce(w,0);_=_.map(function(G){return G/U*y});var H=Math.max(C(f.header.line.width),C(f.cells.line.width)),z={key:f.uid+c._context.staticPlot,translateX:u.x[0]*c._fullLayout._size.w,translateY:c._fullLayout._size.h*(1-u.y[1]),size:c._fullLayout._size,width:y,maxLineWidth:H,height:M,columnOrder:V,groupHeight:M,rowBlocks:O,headerRowBlocks:b,scrollY:0,cells:L({},f.cells,{values:m}),headerCells:L({},f.header,{values:d}),gdColumns:d.map(function(G){return G[0]}),gdColumnsOriginalOrder:d.map(function(G){return G[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(G,Y){var J=F[G];F[G]=(J||0)+1;var ae=G+"__"+F[G];return{key:ae,label:G,specIndex:Y,xIndex:V[Y],xScale:t,x:void 0,calcdata:void 0,columnWidth:_[Y]}})};return z.columns.forEach(function(G){G.calcdata=z,G.x=t(G)}),z};function C(l){if(Array.isArray(l)){for(var c=0,f=0;f<l.length;f++)c=Math.max(c,C(l[f]));return c}return l}function w(l,c){return l+c}function h(l){var c=l.slice(),f=1/0,m=0,v;for(v=0;v<c.length;v++)Array.isArray(c[v])||(c[v]=[c[v]]),f=Math.min(f,c[v].length),m=Math.max(m,c[v].length);if(f!==m)for(v=0;v<c.length;v++){var A=m-c[v].length;A&&(c[v]=c[v].concat(g(A)))}return c}function g(l){for(var c=new Array(l),f=0;f<l;f++)c[f]="";return c}function t(l){return l.calcdata.columns.reduce(function(c,f){return f.xIndex<l.xIndex?c+f.columnWidth:c},0)}function r(l,c){var f=Object.keys(l);return f.map(function(m){return L({},l[m],{auxiliaryBlocks:c})})}function s(l,c){for(var f={},m,v=0,A=0,d=n(),u=0,y=0,M=0;M<l.length;M++)m=l[M],d.rows.push({rowIndex:M,rowHeight:m}),A+=m,(A>=c||M===l.length-1)&&(f[v]=d,d.key=y++,d.firstRowIndex=u,d.lastRowIndex=M,d=n(),v+=A,u=M+1,A=0);return f}function n(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(B,N,e){var p=e(1426).extendFlat;N.splitToPanels=function(a){var C=[0,0],w=p({},a,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:p({},a.calcdata,{cells:a.calcdata.headerCells})}),h=p({},a,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),g=p({},a,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[h,g,w]},N.splitToCells=function(a){var C=L(a);return(a.values||[]).slice(C[0],C[1]).map(function(w,h){var g=typeof w=="string"&&w.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:h+g,key:C[0]+h,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:w}})};function L(a){var C=a.rowBlocks[a.page],w=C?C.rows[0].rowIndex:0,h=C?w+C.rows.length:0;return[w,h]}},39754:function(B,N,e){var p=e(71828),L=e(44464),a=e(27670).c;function C(w,h){for(var g=w.columnorder||[],t=w.header.values.length,r=g.slice(0,t),s=r.slice().sort(function(c,f){return c-f}),n=r.map(function(c){return s.indexOf(c)}),l=n.length;l<t;l++)n.push(l);h("columnorder",n)}B.exports=function(h,g,t,r){function s(n,l){return p.coerce(h,g,L,n,l)}a(g,r,s),s("columnwidth"),s("header.values"),s("header.format"),s("header.align"),s("header.prefix"),s("header.suffix"),s("header.height"),s("header.line.width"),s("header.line.color"),s("header.fill.color"),p.coerceFont(s,"header.font",p.extendFlat({},r.font)),C(g,s),s("cells.values"),s("cells.format"),s("cells.align"),s("cells.prefix"),s("cells.suffix"),s("cells.height"),s("cells.line.width"),s("cells.line.color"),s("cells.fill.color"),p.coerceFont(s,"cells.font",p.extendFlat({},r.font)),g._length=null}},96595:function(B,N,e){B.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(B,N,e){var p=e(49850),L=e(39898),a=e(71828),C=a.numberFormat,w=e(28984),h=e(91424),g=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,s=e(71828).cancelTransition,n=e(51018),l=e(56269),c=e(7901);B.exports=function(ue,se){var ve=!ue._context.staticPlot,be=ue._fullLayout._paper.selectAll("."+p.cn.table).data(se.map(function(tt){var at=w.unwrap(tt),ct=at.trace;return n(ue,ct)}),w.keyFun);be.exit().remove(),be.enter().append("g").classed(p.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),be.attr("width",function(tt){return tt.width+tt.size.l+tt.size.r}).attr("height",function(tt){return tt.height+tt.size.t+tt.size.b}).attr("transform",function(tt){return r(tt.translateX,tt.translateY)});var Ee=be.selectAll("."+p.cn.tableControlView).data(w.repeat,w.keyFun),Ae=Ee.enter().append("g").classed(p.cn.tableControlView,!0).style("box-sizing","content-box");if(ve){var Oe="onwheel"in document?"wheel":"mousewheel";Ae.on("mousemove",function(tt){Ee.filter(function(at){return tt===at}).call(d,ue)}).on(Oe,function(tt){if(!tt.scrollbarState.wheeling){tt.scrollbarState.wheeling=!0;var at=tt.scrollY+L.event.deltaY,ct=J(ue,Ee,null,at)(tt);ct||(L.event.stopPropagation(),L.event.preventDefault()),tt.scrollbarState.wheeling=!1}}).call(d,ue,!0)}Ee.attr("transform",function(tt){return r(tt.size.l,tt.size.t)});var Ue=Ee.selectAll("."+p.cn.scrollBackground).data(w.repeat,w.keyFun);Ue.enter().append("rect").classed(p.cn.scrollBackground,!0).attr("fill","none"),Ue.attr("width",function(tt){return tt.width}).attr("height",function(tt){return tt.height}),Ee.each(function(tt){h.setClipUrl(L.select(this),m(ue,tt),ue)});var Le=Ee.selectAll("."+p.cn.yColumn).data(function(tt){return tt.columns},w.keyFun);Le.enter().append("g").classed(p.cn.yColumn,!0),Le.exit().remove(),Le.attr("transform",function(tt){return r(tt.x,0)}),ve&&Le.call(L.behavior.drag().origin(function(tt){var at=L.select(this);return _(at,tt,-p.uplift),t(this),tt.calcdata.columnDragInProgress=!0,d(Ee.filter(function(ct){return tt.calcdata.key===ct.key}),ue),tt}).on("drag",function(tt){var at=L.select(this),ct=function(Et){return(tt===Et?L.event.x:Et.x)+Et.columnWidth/2};tt.x=Math.max(-p.overdrag,Math.min(tt.calcdata.width+p.overdrag-tt.columnWidth,L.event.x));var dt=A(Le).filter(function(Et){return Et.calcdata.key===tt.calcdata.key}),gt=dt.sort(function(Et,Ct){return ct(Et)-ct(Ct)});gt.forEach(function(Et,Ct){Et.xIndex=Ct,Et.x=tt===Et?Et.x:Et.xScale(Et)}),Le.filter(function(Et){return tt!==Et}).transition().ease(p.transitionEase).duration(p.transitionDuration).attr("transform",function(Et){return r(Et.x,0)}),at.call(s).attr("transform",r(tt.x,-p.uplift))}).on("dragend",function(tt){var at=L.select(this),ct=tt.calcdata;tt.x=tt.xScale(tt),tt.calcdata.columnDragInProgress=!1,_(at,tt,0),F(ue,ct,ct.columns.map(function(dt){return dt.xIndex}))})),Le.each(function(tt){h.setClipUrl(L.select(this),v(ue,tt),ue)});var we=Le.selectAll("."+p.cn.columnBlock).data(l.splitToPanels,w.keyFun);we.enter().append("g").classed(p.cn.columnBlock,!0).attr("id",function(tt){return tt.key}),we.style("cursor",function(tt){return tt.dragHandle?"ew-resize":tt.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ce=we.filter(H),Ve=we.filter(U);ve&&Ve.call(L.behavior.drag().origin(function(tt){return L.event.stopPropagation(),tt}).on("drag",J(ue,Ee,-1)).on("dragend",function(){})),u(ue,Ee,Ce,we),u(ue,Ee,Ve,we);var Ne=Ee.selectAll("."+p.cn.scrollAreaClip).data(w.repeat,w.keyFun);Ne.enter().append("clipPath").classed(p.cn.scrollAreaClip,!0).attr("id",function(tt){return m(ue,tt)});var ke=Ne.selectAll("."+p.cn.scrollAreaClipRect).data(w.repeat,w.keyFun);ke.enter().append("rect").classed(p.cn.scrollAreaClipRect,!0).attr("x",-p.overdrag).attr("y",-p.uplift).attr("fill","none"),ke.attr("width",function(tt){return tt.width+2*p.overdrag}).attr("height",function(tt){return tt.height+p.uplift});var We=Le.selectAll("."+p.cn.columnBoundary).data(w.repeat,w.keyFun);We.enter().append("g").classed(p.cn.columnBoundary,!0);var rt=Le.selectAll("."+p.cn.columnBoundaryClippath).data(w.repeat,w.keyFun);rt.enter().append("clipPath").classed(p.cn.columnBoundaryClippath,!0),rt.attr("id",function(tt){return v(ue,tt)});var et=rt.selectAll("."+p.cn.columnBoundaryRect).data(w.repeat,w.keyFun);et.enter().append("rect").classed(p.cn.columnBoundaryRect,!0).attr("fill","none"),et.attr("width",function(tt){return tt.columnWidth+2*f(tt)}).attr("height",function(tt){return tt.calcdata.height+2*f(tt)+p.uplift}).attr("x",function(tt){return-f(tt)}).attr("y",function(tt){return-f(tt)}),Y(null,Ve,Ee)};function f(ee){return Math.ceil(ee.calcdata.maxLineWidth/2)}function m(ee,ue){return"clip"+ee._fullLayout._uid+"_scrollAreaBottomClip_"+ue.key}function v(ee,ue){return"clip"+ee._fullLayout._uid+"_columnBoundaryClippath_"+ue.calcdata.key+"_"+ue.specIndex}function A(ee){return[].concat.apply([],ee.map(function(ue){return ue})).map(function(ue){return ue.__data__})}function d(ee,ue,se){function ve(Le){var we=Le.rowBlocks;return $(we,we.length-1)+(we.length?K(we[we.length-1],1/0):1)}var be=ee.selectAll("."+p.cn.scrollbarKit).data(w.repeat,w.keyFun);be.enter().append("g").classed(p.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),be.each(function(Le){var we=Le.scrollbarState;we.totalHeight=ve(Le),we.scrollableAreaHeight=Le.groupHeight-z(Le),we.currentlyVisibleHeight=Math.min(we.totalHeight,we.scrollableAreaHeight),we.ratio=we.currentlyVisibleHeight/we.totalHeight,we.barLength=Math.max(we.ratio*we.currentlyVisibleHeight,p.goldenRatio*p.scrollbarWidth),we.barWiggleRoom=we.currentlyVisibleHeight-we.barLength,we.wiggleRoom=Math.max(0,we.totalHeight-we.scrollableAreaHeight),we.topY=we.barWiggleRoom===0?0:Le.scrollY/we.wiggleRoom*we.barWiggleRoom,we.bottomY=we.topY+we.barLength,we.dragMultiplier=we.wiggleRoom/we.barWiggleRoom}).attr("transform",function(Le){var we=Le.width+p.scrollbarWidth/2+p.scrollbarOffset;return r(we,z(Le))});var Ee=be.selectAll("."+p.cn.scrollbar).data(w.repeat,w.keyFun);Ee.enter().append("g").classed(p.cn.scrollbar,!0);var Ae=Ee.selectAll("."+p.cn.scrollbarSlider).data(w.repeat,w.keyFun);Ae.enter().append("g").classed(p.cn.scrollbarSlider,!0),Ae.attr("transform",function(Le){return r(0,Le.scrollbarState.topY||0)});var Oe=Ae.selectAll("."+p.cn.scrollbarGlyph).data(w.repeat,w.keyFun);Oe.enter().append("line").classed(p.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",p.scrollbarWidth).attr("stroke-linecap","round").attr("y1",p.scrollbarWidth/2),Oe.attr("y2",function(Le){return Le.scrollbarState.barLength-p.scrollbarWidth/2}).attr("stroke-opacity",function(Le){return Le.columnDragInProgress||!Le.scrollbarState.barWiggleRoom||se?0:.4}),Oe.transition().delay(0).duration(0),Oe.transition().delay(p.scrollbarHideDelay).duration(p.scrollbarHideDuration).attr("stroke-opacity",0);var Ue=Ee.selectAll("."+p.cn.scrollbarCaptureZone).data(w.repeat,w.keyFun);Ue.enter().append("line").classed(p.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",p.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Le){var we=L.event.y,Ce=this.getBoundingClientRect(),Ve=Le.scrollbarState,Ne=we-Ce.top,ke=L.scale.linear().domain([0,Ve.scrollableAreaHeight]).range([0,Ve.totalHeight]).clamp(!0);Ve.topY<=Ne&&Ne<=Ve.bottomY||J(ue,ee,null,ke(Ne-Ve.barLength/2))(Le)}).call(L.behavior.drag().origin(function(Le){return L.event.stopPropagation(),Le.scrollbarState.scrollbarScrollInProgress=!0,Le}).on("drag",J(ue,ee)).on("dragend",function(){})),Ue.attr("y2",function(Le){return Le.scrollbarState.scrollableAreaHeight}),ue._context.staticPlot&&(Oe.remove(),Ue.remove())}function u(ee,ue,se,ve){var be=y(se),Ee=M(be);E(Ee);var Ae=S(Ee);i(Ae);var Oe=x(Ee),Ue=R(Oe);T(Ue),D(Ue,ue,ve,ee),Z(Ee)}function y(ee){var ue=ee.selectAll("."+p.cn.columnCells).data(w.repeat,w.keyFun);return ue.enter().append("g").classed(p.cn.columnCells,!0),ue.exit().remove(),ue}function M(ee){var ue=ee.selectAll("."+p.cn.columnCell).data(l.splitToCells,function(se){return se.keyWithinBlock});return ue.enter().append("g").classed(p.cn.columnCell,!0),ue.exit().remove(),ue}function S(ee){var ue=ee.selectAll("."+p.cn.cellRect).data(w.repeat,function(se){return se.keyWithinBlock});return ue.enter().append("rect").classed(p.cn.cellRect,!0),ue}function R(ee){var ue=ee.selectAll("."+p.cn.cellText).data(w.repeat,function(se){return se.keyWithinBlock});return ue.enter().append("text").classed(p.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){L.event.stopPropagation()}),ue}function x(ee){var ue=ee.selectAll("."+p.cn.cellTextHolder).data(w.repeat,function(se){return se.keyWithinBlock});return ue.enter().append("g").classed(p.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ue}function E(ee){ee.each(function(ue,se){var ve=ue.calcdata.cells.font,be=ue.column.specIndex,Ee={size:V(ve.size,be,se),color:V(ve.color,be,se),family:V(ve.family,be,se)};ue.rowNumber=ue.key,ue.align=V(ue.calcdata.cells.align,be,se),ue.cellBorderWidth=V(ue.calcdata.cells.line.width,be,se),ue.font=Ee})}function T(ee){ee.each(function(ue){h.font(L.select(this),ue.font)})}function i(ee){ee.attr("width",function(ue){return ue.column.columnWidth}).attr("stroke-width",function(ue){return ue.cellBorderWidth}).each(function(ue){var se=L.select(this);c.stroke(se,V(ue.calcdata.cells.line.color,ue.column.specIndex,ue.rowNumber)),c.fill(se,V(ue.calcdata.cells.fill.color,ue.column.specIndex,ue.rowNumber))})}function D(ee,ue,se,ve){ee.text(function(be){var Ee=be.column.specIndex,Ae=be.rowNumber,Oe=be.value,Ue=typeof Oe=="string",Le=Ue&&Oe.match(/<br>/i),we=!Ue||Le;be.mayHaveMarkup=Ue&&Oe.match(/[<&>]/);var Ce=b(Oe);be.latex=Ce;var Ve=Ce?"":V(be.calcdata.cells.prefix,Ee,Ae)||"",Ne=Ce?"":V(be.calcdata.cells.suffix,Ee,Ae)||"",ke=Ce?null:V(be.calcdata.cells.format,Ee,Ae)||null,We=Ve+(ke?C(ke)(be.value):be.value)+Ne,rt;be.wrappingNeeded=!be.wrapped&&!we&&!Ce&&(rt=O(We)),be.cellHeightMayIncrease=Le||Ce||be.mayHaveMarkup||(rt===void 0?O(We):rt),be.needsConvertToTspans=be.mayHaveMarkup||be.wrappingNeeded||be.latex;var et;if(be.wrappingNeeded){var tt=p.wrapSplitCharacter===" "?We.replace(/<a href=/ig,"<a_href="):We,at=tt.split(p.wrapSplitCharacter),ct=p.wrapSplitCharacter===" "?at.map(function(dt){return dt.replace(/<a_href=/ig,"<a href=")}):at;be.fragments=ct.map(function(dt){return{text:dt,width:null}}),be.fragments.push({fragment:p.wrapSpacer,width:null}),et=ct.join(p.lineBreaker)+p.lineBreaker+p.wrapSpacer}else delete be.fragments,et=We;return et}).attr("dy",function(be){return be.needsConvertToTspans?0:"0.75em"}).each(function(be){var Ee=this,Ae=L.select(Ee),Oe=be.wrappingNeeded?oe:he;be.needsConvertToTspans?g.convertToTspans(Ae,ve,Oe(se,Ee,ue,ve,be)):L.select(Ee.parentNode).attr("transform",function(Ue){return r(q(Ue),p.cellPad)}).attr("text-anchor",function(Ue){return{left:"start",center:"middle",right:"end"}[Ue.align]})})}function b(ee){return typeof ee=="string"&&ee.match(p.latexCheck)}function O(ee){return ee.indexOf(p.wrapSplitCharacter)!==-1}function F(ee,ue,se){var ve=ue.gdColumnsOriginalOrder;ue.gdColumns.sort(function(be,Ee){return se[ve.indexOf(be)]-se[ve.indexOf(Ee)]}),ue.columnorder=se,ee.emit("plotly_restyle")}function V(ee,ue,se){if(Array.isArray(ee)){var ve=ee[Math.min(ue,ee.length-1)];return Array.isArray(ve)?ve[Math.min(se,ve.length-1)]:ve}else return ee}function _(ee,ue,se){ee.transition().ease(p.releaseTransitionEase).duration(p.releaseTransitionDuration).attr("transform",r(ue.x,se))}function U(ee){return ee.type==="cells"}function H(ee){return ee.type==="header"}function z(ee){var ue=ee.rowBlocks.length?ee.rowBlocks[0].auxiliaryBlocks:[];return ue.reduce(function(se,ve){return se+K(ve,1/0)},0)}function G(ee,ue,se){for(var ve=[],be=0,Ee=0;Ee<ee.length;Ee++){for(var Ae=ee[Ee],Oe=Ae.rows,Ue=0,Le=0;Le<Oe.length;Le++)Ue+=Oe[Le].rowHeight;Ae.allRowsHeight=Ue;var we=be+Ue,Ce=ue,Ve=Ce+se;Ce<we&&Ve>be&&ve.push(Ee),be+=Ue}return ve}function Y(ee,ue,se){var ve=A(ue)[0];if(ve!==void 0){var be=ve.rowBlocks,Ee=ve.calcdata,Ae=$(be,be.length),Oe=ve.calcdata.groupHeight-z(ve),Ue=Ee.scrollY=Math.max(0,Math.min(Ae-Oe,Ee.scrollY)),Le=G(be,Ue,Oe);Le.length===1&&(Le[0]===be.length-1?Le.unshift(Le[0]-1):Le.push(Le[0]+1)),Le[0]%2&&Le.reverse(),ue.each(function(we,Ce){we.page=Le[Ce],we.scrollY=Ue}),ue.attr("transform",function(we){var Ce=$(we.rowBlocks,we.page)-we.scrollY;return r(0,Ce)}),ee&&(ae(ee,se,ue,Le,ve.prevPages,ve,0),ae(ee,se,ue,Le,ve.prevPages,ve,1),d(se,ee))}}function J(ee,ue,se,ve){return function(Ee){var Ae=Ee.calcdata?Ee.calcdata:Ee,Oe=ue.filter(function(Ce){return Ae.key===Ce.key}),Ue=se||Ae.scrollbarState.dragMultiplier,Le=Ae.scrollY;Ae.scrollY=ve===void 0?Ae.scrollY+Ue*L.event.dy:ve;var we=Oe.selectAll("."+p.cn.yColumn).selectAll("."+p.cn.columnBlock).filter(U);return Y(ee,we,Oe),Ae.scrollY===Le}}function ae(ee,ue,se,ve,be,Ee,Ae){var Oe=ve[Ae]!==be[Ae];Oe&&(clearTimeout(Ee.currentRepaint[Ae]),Ee.currentRepaint[Ae]=setTimeout(function(){var Ue=se.filter(function(Le,we){return we===Ae&&ve[we]!==be[we]});u(ee,ue,Ue,se),be[Ae]=ve[Ae]}))}function oe(ee,ue,se,ve){return function(){var Ee=L.select(ue.parentNode);Ee.each(function(Ae){var Oe=Ae.fragments;Ee.selectAll("tspan.line").each(function(We,rt){Oe[rt].width=this.getComputedTextLength()});var Ue=Oe[Oe.length-1].width,Le=Oe.slice(0,-1),we=[],Ce,Ve,Ne=0,ke=Ae.column.columnWidth-2*p.cellPad;for(Ae.value="";Le.length;)Ce=Le.shift(),Ve=Ce.width+Ue,Ne+Ve>ke&&(Ae.value+=we.join(p.wrapSpacer)+p.lineBreaker,we=[],Ne=0),we.push(Ce.text),Ne+=Ve;Ne&&(Ae.value+=we.join(p.wrapSpacer)),Ae.wrapped=!0}),Ee.selectAll("tspan.line").remove(),D(Ee.select("."+p.cn.cellText),se,ee,ve),L.select(ue.parentNode.parentNode).call(Z)}}function he(ee,ue,se,ve,be){return function(){if(!be.settledY){var Ae=L.select(ue.parentNode),Oe=le(be),Ue=be.key-Oe.firstRowIndex,Le=Oe.rows[Ue].rowHeight,we=be.cellHeightMayIncrease?ue.parentNode.getBoundingClientRect().height+2*p.cellPad:Le,Ce=Math.max(we,Le),Ve=Ce-Oe.rows[Ue].rowHeight;Ve&&(Oe.rows[Ue].rowHeight=Ce,ee.selectAll("."+p.cn.columnCell).call(Z),Y(null,ee.filter(U),0),d(se,ve,!0)),Ae.attr("transform",function(){var Ne=this,ke=Ne.parentNode,We=ke.getBoundingClientRect(),rt=L.select(Ne.parentNode).select("."+p.cn.cellRect).node().getBoundingClientRect(),et=Ne.transform.baseVal.consolidate(),tt=rt.top-We.top+(et?et.matrix.f:p.cellPad);return r(q(be,L.select(Ne.parentNode).select("."+p.cn.cellTextHolder).node().getBoundingClientRect().width),tt)}),be.settledY=!0}}}function q(ee,ue){switch(ee.align){case"left":return p.cellPad;case"right":return ee.column.columnWidth-(ue||0)-p.cellPad;case"center":return(ee.column.columnWidth-(ue||0))/2;default:return p.cellPad}}function Z(ee){ee.attr("transform",function(ue){var se=ue.rowBlocks[0].auxiliaryBlocks.reduce(function(Ae,Oe){return Ae+K(Oe,1/0)},0),ve=le(ue),be=K(ve,ue.key),Ee=be+se;return r(0,Ee)}).selectAll("."+p.cn.cellRect).attr("height",function(ue){return te(le(ue),ue.key).rowHeight})}function $(ee,ue){for(var se=0,ve=ue-1;ve>=0;ve--)se+=re(ee[ve]);return se}function K(ee,ue){for(var se=0,ve=0;ve<ee.rows.length&&ee.rows[ve].rowIndex<ue;ve++)se+=ee.rows[ve].rowHeight;return se}function re(ee){var ue=ee.allRowsHeight;if(ue!==void 0)return ue;for(var se=0,ve=0;ve<ee.rows.length;ve++)se+=ee.rows[ve].rowHeight;return ee.allRowsHeight=se,se}function le(ee){return ee.rowBlocks[ee.page]}function te(ee,ue){return ee.rows[ue-ee.firstRowIndex]}},45802:function(B,N,e){var p=e(5386).fF,L=e(5386).si,a=e(50693),C=e(27670).Y,w=e(34e3),h=e(57564),g=e(43473),t=e(1426).extendFlat,r=e(79952).u;B.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:h.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:h.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},w.textfont,{}),editType:"calc"},text:w.text,textinfo:h.textinfo,texttemplate:L({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:w.hovertext,hoverinfo:h.hoverinfo,hovertemplate:p({},{keys:g.eventDataKeys}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:t({},w.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:w.sort,root:h.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},78018:function(B,N,e){var p=e(74875);N.name="treemap",N.plot=function(L,a,C,w){p.plotBasePlot(N.name,L,a,C,w)},N.clean=function(L,a,C,w){p.cleanBasePlot(N.name,L,a,C,w)}},65039:function(B,N,e){var p=e(52147);N.y=function(L,a){return p.calc(L,a)},N.T=function(L){return p._runCrossTraceCalc("treemap",L)}},43473:function(B){B.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(B,N,e){var p=e(71828),L=e(45802),a=e(7901),C=e(27670).c,w=e(90769).handleText,h=e(97313).TEXTPAD,g=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,s=t.handleDefaults;B.exports=function(l,c,f,m){function v(i,D){return p.coerce(l,c,L,i,D)}var A=v("labels"),d=v("parents");if(!A||!A.length||!d||!d.length){c.visible=!1;return}var u=v("values");u&&u.length?v("branchvalues"):v("count"),v("level"),v("maxdepth");var y=v("tiling.packing");y==="squarify"&&v("tiling.squarifyratio"),v("tiling.flip"),v("tiling.pad");var M=v("text");v("texttemplate"),c.texttemplate||v("textinfo",Array.isArray(M)?"text+label":"label"),v("hovertext"),v("hovertemplate");var S=v("pathbar.visible"),R="auto";w(l,c,m,v,R,{hasPathbar:S,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),v("textposition");var x=c.textposition.indexOf("bottom")!==-1;g(l,c,m,v);var E=c._hasColorscale=r(l,"marker","colors")||(l.marker||{}).coloraxis;E?s(l,c,m,v,{prefix:"marker.",cLetter:"c"}):v("marker.depthfade",!(c.marker.colors||[]).length);var T=c.textfont.size*2;v("marker.pad.t",x?T/4:T),v("marker.pad.l",T/4),v("marker.pad.r",T/4),v("marker.pad.b",x?T:T/4),v("marker.cornerradius"),c._hovered={marker:{line:{width:2,color:a.contrast(m.paper_bgcolor)}}},S&&(v("pathbar.thickness",c.pathbar.textfont.size+2*h),v("pathbar.side"),v("pathbar.edgeshape")),v("sort"),v("root.color"),C(c,m,v),c._length=null}},80694:function(B,N,e){var p=e(39898),L=e(2791),a=e(72597),C=a.clearMinTextSize,w=e(16688).resizeText,h=e(46650);B.exports=function(t,r,s,n,l){var c=l.type,f=l.drawDescendants,m=t._fullLayout,v=m["_"+c+"layer"],A,d,u=!s;if(C(c,m),A=v.selectAll("g.trace."+c).data(r,function(M){return M[0].trace.uid}),A.enter().append("g").classed("trace",!0).classed(c,!0),A.order(),!m.uniformtext.mode&&L.hasTransition(s)){n&&(d=n());var y=p.transition().duration(s.duration).ease(s.easing).each("end",function(){d&&d()}).each("interrupt",function(){d&&d()});y.each(function(){v.selectAll("g.trace").each(function(M){h(t,M,this,s,f)})})}else A.each(function(M){h(t,M,this,s,f)}),m.uniformtext.mode&&w(t,v.selectAll(".trace"),c);u&&A.exit().remove()}},66209:function(B,N,e){var p=e(39898),L=e(71828),a=e(91424),C=e(63893),w=e(37210),h=e(96362).styleOne,g=e(43473),t=e(2791),r=e(83523),s=!0;B.exports=function(l,c,f,m,v){var A=v.barDifY,d=v.width,u=v.height,y=v.viewX,M=v.viewY,S=v.pathSlice,R=v.toMoveInsideSlice,x=v.strTransform,E=v.hasTransition,T=v.handleSlicesExit,i=v.makeUpdateSliceInterpolator,D=v.makeUpdateTextInterpolator,b={},O=l._context.staticPlot,F=l._fullLayout,V=c[0],_=V.trace,U=V.hierarchy,H=d/_._entryDepth,z=t.listPath(f.data,"id"),G=w(U.copy(),[d,u],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();G=G.filter(function(J){var ae=z.indexOf(J.data.id);return ae===-1?!1:(J.x0=H*ae,J.x1=H*(ae+1),J.y0=A,J.y1=A+u,J.onPathbar=!0,!0)}),G.reverse(),m=m.data(G,t.getPtId),m.enter().append("g").classed("pathbar",!0),T(m,s,b,[d,u],S),m.order();var Y=m;E&&(Y=Y.transition().each("end",function(){var J=p.select(this);t.setSliceCursor(J,l,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(J){J._x0=y(J.x0),J._x1=y(J.x1),J._y0=M(J.y0),J._y1=M(J.y1),J._hoverX=y(J.x1-Math.min(d,u)/2),J._hoverY=M(J.y1-u/2);var ae=p.select(this),oe=L.ensureSingle(ae,"path","surface",function($){$.style("pointer-events",O?"none":"all")});E?oe.transition().attrTween("d",function($){var K=i($,s,b,[d,u]);return function(re){return S(K(re))}}):oe.attr("d",S),ae.call(r,f,l,c,{styleOne:h,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,l,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:l._transitioning}),oe.call(h,J,_,l,{hovered:!1}),J._text=(t.getPtLabel(J)||"").split("<br>").join(" ")||"";var he=L.ensureSingle(ae,"g","slicetext"),q=L.ensureSingle(he,"text","",function($){$.attr("data-notex",1)}),Z=L.ensureUniformFontSize(l,t.determineTextFont(_,J,F.font,{onPathbar:!0}));q.text(J._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,Z).call(C.convertToTspans,l),J.textBB=a.bBox(q.node()),J.transform=R(J,{fontSize:Z.size,onPathbar:!0}),J.transform.fontSize=Z.size,E?q.transition().attrTween("transform",function($){var K=D($,s,b,[d,u]);return function(re){return x(K(re))}}):q.attr("transform",x(J))})}},52583:function(B,N,e){var p=e(39898),L=e(71828),a=e(91424),C=e(63893),w=e(37210),h=e(96362).styleOne,g=e(43473),t=e(2791),r=e(83523),s=e(24714).formatSliceLabel,n=!1;B.exports=function(c,f,m,v,A){var d=A.width,u=A.height,y=A.viewX,M=A.viewY,S=A.pathSlice,R=A.toMoveInsideSlice,x=A.strTransform,E=A.hasTransition,T=A.handleSlicesExit,i=A.makeUpdateSliceInterpolator,D=A.makeUpdateTextInterpolator,b=A.prevEntry,O={},F=c._context.staticPlot,V=c._fullLayout,_=f[0],U=_.trace,H=U.textposition.indexOf("left")!==-1,z=U.textposition.indexOf("right")!==-1,G=U.textposition.indexOf("bottom")!==-1,Y=!G&&!U.marker.pad.t||G&&!U.marker.pad.b,J=w(m,[d,u],{packing:U.tiling.packing,squarifyratio:U.tiling.squarifyratio,flipX:U.tiling.flip.indexOf("x")>-1,flipY:U.tiling.flip.indexOf("y")>-1,pad:{inner:U.tiling.pad,top:U.marker.pad.t,left:U.marker.pad.l,right:U.marker.pad.r,bottom:U.marker.pad.b}}),ae=J.descendants(),oe=1/0,he=-1/0;ae.forEach(function(re){var le=re.depth;le>=U._maxDepth?(re.x0=re.x1=(re.x0+re.x1)/2,re.y0=re.y1=(re.y0+re.y1)/2):(oe=Math.min(oe,le),he=Math.max(he,le))}),v=v.data(ae,t.getPtId),U._maxVisibleLayers=isFinite(he)?he-oe+1:0,v.enter().append("g").classed("slice",!0),T(v,n,O,[d,u],S),v.order();var q=null;if(E&&b){var Z=t.getPtId(b);v.each(function(re){q===null&&t.getPtId(re)===Z&&(q={x0:re.x0,x1:re.x1,y0:re.y0,y1:re.y1})})}var $=function(){return q||{x0:0,x1:d,y0:0,y1:u}},K=v;return E&&(K=K.transition().each("end",function(){var re=p.select(this);t.setSliceCursor(re,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(re){var le=t.isHeader(re,U);re._x0=y(re.x0),re._x1=y(re.x1),re._y0=M(re.y0),re._y1=M(re.y1),re._hoverX=y(re.x1-U.marker.pad.r),re._hoverY=M(G?re.y1-U.marker.pad.b/2:re.y0+U.marker.pad.t/2);var te=p.select(this),ee=L.ensureSingle(te,"path","surface",function(be){be.style("pointer-events",F?"none":"all")});E?ee.transition().attrTween("d",function(be){var Ee=i(be,n,$(),[d,u]);return function(Ae){return S(Ee(Ae))}}):ee.attr("d",S),te.call(r,m,c,f,{styleOne:h,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,c,{isTransitioning:c._transitioning}),ee.call(h,re,U,c,{hovered:!1}),re.x0===re.x1||re.y0===re.y1?re._text="":le?re._text=Y?"":t.getPtLabel(re)||"":re._text=s(re,m,U,f,V)||"";var ue=L.ensureSingle(te,"g","slicetext"),se=L.ensureSingle(ue,"text","",function(be){be.attr("data-notex",1)}),ve=L.ensureUniformFontSize(c,t.determineTextFont(U,re,V.font));se.text(re._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":H||le?"start":"middle").call(a.font,ve).call(C.convertToTspans,c),re.textBB=a.bBox(se.node()),re.transform=R(re,{fontSize:ve.size,isHeader:le}),re.transform.fontSize=ve.size,E?se.transition().attrTween("transform",function(be){var Ee=D(be,n,$(),[d,u]);return function(Ae){return x(Ee(Ae))}}):se.attr("transform",x(re))}),q}},14102:function(B){B.exports=function N(e,p,L){var a;L.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),L.flipX&&(a=e.x0,e.x0=p[0]-e.x1,e.x1=p[0]-a),L.flipY&&(a=e.y0,e.y0=p[1]-e.y1,e.y1=p[1]-a);var C=e.children;if(C)for(var w=0;w<C.length;w++)N(C[w],p,L)}},70954:function(B,N,e){B.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(B){B.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(B,N,e){var p=e(71828),L=e(55479);B.exports=function(C,w){function h(g,t){return p.coerce(C,w,L,g,t)}h("treemapcolorway",w.colorway),h("extendtreemapcolors")}},37210:function(B,N,e){var p=e(674),L=e(14102);B.exports=function(w,h,g){var t=g.flipX,r=g.flipY,s=g.packing==="dice-slice",n=g.pad[r?"bottom":"top"],l=g.pad[t?"right":"left"],c=g.pad[t?"left":"right"],f=g.pad[r?"top":"bottom"],m;s&&(m=l,l=n,n=m,m=c,c=f,f=m);var v=p.treemap().tile(a(g.packing,g.squarifyratio)).paddingInner(g.pad.inner).paddingLeft(l).paddingRight(c).paddingTop(n).paddingBottom(f).size(s?[h[1],h[0]]:h)(w);return(s||t||r)&&L(v,h,{swapXY:s,flipX:t,flipY:r}),v};function a(C,w){switch(C){case"squarify":return p.treemapSquarify.ratio(w);case"binary":return p.treemapBinary;case"dice":return p.treemapDice;case"slice":return p.treemapSlice;default:return p.treemapSliceDice}}},5893:function(B,N,e){var p=e(80694),L=e(52583);B.exports=function(C,w,h,g){return p(C,w,h,g,{type:"treemap",drawDescendants:L})}},46650:function(B,N,e){var p=e(39898),L=e(81684).sX,a=e(2791),C=e(71828),w=e(97313).TEXTPAD,h=e(17295),g=h.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,s=e(43473),n=e(66209);function l(c){return a.isHierarchyRoot(c)?"":a.getPtId(c)}B.exports=function(f,m,v,A,d){var u=f._fullLayout,y=m[0],M=y.trace,S=M.type,R=S==="icicle",x=y.hierarchy,E=a.findEntryWithLevel(x,M.level),T=p.select(v),i=T.selectAll("g.pathbar"),D=T.selectAll("g.slice");if(!E){i.remove(),D.remove();return}var b=a.isHierarchyRoot(E),O=!u.uniformtext.mode&&a.hasTransition(A),F=a.getMaxDepth(M),V=function(Je){return Je.data.depth-E.data.depth<F},_=u._size,U=M.domain,H=_.w*(U.x[1]-U.x[0]),z=_.h*(U.y[1]-U.y[0]),G=H,Y=M.pathbar.thickness,J=M.marker.line.width+s.gapWithPathbar,ae=M.pathbar.visible?M.pathbar.side.indexOf("bottom")>-1?z+J:-(Y+J):0,oe={x0:G,x1:G,y0:ae,y1:ae+Y},he=function(Je,_e,Fe){var Be=M.tiling.pad,De=function(Pe){return Pe-Be<=_e.x0},Te=function(Pe){return Pe+Be>=_e.x1},xe=function(Pe){return Pe-Be<=_e.y0},Me=function(Pe){return Pe+Be>=_e.y1};return Je.x0===_e.x0&&Je.x1===_e.x1&&Je.y0===_e.y0&&Je.y1===_e.y1?{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1}:{x0:De(Je.x0-Be)?0:Te(Je.x0-Be)?Fe[0]:Je.x0,x1:De(Je.x1+Be)?0:Te(Je.x1+Be)?Fe[0]:Je.x1,y0:xe(Je.y0-Be)?0:Me(Je.y0-Be)?Fe[1]:Je.y0,y1:xe(Je.y1+Be)?0:Me(Je.y1+Be)?Fe[1]:Je.y1}},q=null,Z={},$={},K=null,re=function(Je,_e){return _e?Z[l(Je)]:$[l(Je)]},le=function(Je,_e,Fe,Be){if(_e)return Z[l(x)]||oe;var De=$[M.level]||Fe;return V(Je)?he(Je,De,Be):{}};y.hasMultipleRoots&&b&&F++,M._maxDepth=F,M._backgroundColor=u.paper_bgcolor,M._entryDepth=E.data.depth,M._atRootLevel=b;var te=-H/2+_.l+_.w*(U.x[1]+U.x[0])/2,ee=-z/2+_.t+_.h*(1-(U.y[1]+U.y[0])/2),ue=function(Je){return te+Je},se=function(Je){return ee+Je},ve=se(0),be=ue(0),Ee=function(Je){return be+Je},Ae=function(Je){return ve+Je};function Oe(Je,_e){return Je+","+_e}var Ue=Ee(0),Le=function(Je){Je.x=Math.max(Ue,Je.x)},we=M.pathbar.edgeshape,Ce=function(Je){var _e=Ee(Math.max(Math.min(Je.x0,Je.x0),0)),Fe=Ee(Math.min(Math.max(Je.x1,Je.x1),G)),Be=Ae(Je.y0),De=Ae(Je.y1),Te=Y/2,xe={},Me={};xe.x=_e,Me.x=Fe,xe.y=Me.y=(Be+De)/2;var Pe={x:_e,y:Be},He={x:Fe,y:Be},Ke={x:Fe,y:De},qe={x:_e,y:De};return we===">"?(Pe.x-=Te,He.x-=Te,Ke.x-=Te,qe.x-=Te):we==="/"?(Ke.x-=Te,qe.x-=Te,xe.x-=Te/2,Me.x-=Te/2):we==="\\"?(Pe.x-=Te,He.x-=Te,xe.x-=Te/2,Me.x-=Te/2):we==="<"&&(xe.x-=Te,Me.x-=Te),Le(Pe),Le(qe),Le(xe),Le(He),Le(Ke),Le(Me),"M"+Oe(Pe.x,Pe.y)+"L"+Oe(He.x,He.y)+"L"+Oe(Me.x,Me.y)+"L"+Oe(Ke.x,Ke.y)+"L"+Oe(qe.x,qe.y)+"L"+Oe(xe.x,xe.y)+"Z"},Ve=M[R?"tiling":"marker"].pad,Ne=function(Je){return M.textposition.indexOf(Je)!==-1},ke=Ne("top"),We=Ne("left"),rt=Ne("right"),et=Ne("bottom"),tt=function(Je){var _e=ue(Je.x0),Fe=ue(Je.x1),Be=se(Je.y0),De=se(Je.y1),Te=Fe-_e,xe=De-Be;if(!Te||!xe)return"";var Me=M.marker.cornerradius||0,Pe=Math.min(Me,Te/2,xe/2);Pe&&Je.data&&Je.data.data&&Je.data.data.label&&(ke&&(Pe=Math.min(Pe,Ve.t)),We&&(Pe=Math.min(Pe,Ve.l)),rt&&(Pe=Math.min(Pe,Ve.r)),et&&(Pe=Math.min(Pe,Ve.b)));var He=function(Ke,qe){return Pe?"a"+Oe(Pe,Pe)+" 0 0 1 "+Oe(Ke,qe):""};return"M"+Oe(_e,Be+Pe)+He(Pe,-Pe)+"L"+Oe(Fe-Pe,Be)+He(Pe,Pe)+"L"+Oe(Fe,De-Pe)+He(-Pe,Pe)+"L"+Oe(_e+Pe,De)+He(-Pe,-Pe)+"Z"},at=function(Je,_e){var Fe=Je.x0,Be=Je.x1,De=Je.y0,Te=Je.y1,xe=Je.textBB,Me=ke||_e.isHeader&&!et,Pe=Me?"start":et?"end":"middle",He=Ne("right"),Ke=Ne("left")||_e.onPathbar,qe=Ke?-1:He?1:0;if(_e.isHeader){if(Fe+=(R?Ve:Ve.l)-w,Be-=(R?Ve:Ve.r)-w,Fe>=Be){var vt=(Fe+Be)/2;Fe=vt,Be=vt}var bt;et?(bt=Te-(R?Ve:Ve.b),De<bt&&bt<Te&&(De=bt)):(bt=De+(R?Ve:Ve.t),De<bt&&bt<Te&&(Te=bt))}var Wt=g(Fe,Be,De,Te,xe,{isHorizontal:!1,constrained:!0,angle:0,anchor:Pe,leftToRight:qe});return Wt.fontSize=_e.fontSize,Wt.targetX=ue(Wt.targetX),Wt.targetY=se(Wt.targetY),isNaN(Wt.targetX)||isNaN(Wt.targetY)?{}:(Fe!==Be&&De!==Te&&r(M.type,Wt,u),{scale:Wt.scale,rotate:Wt.rotate,textX:Wt.textX,textY:Wt.textY,anchorX:Wt.anchorX,anchorY:Wt.anchorY,targetX:Wt.targetX,targetY:Wt.targetY})},ct=function(Je,_e){for(var Fe,Be=0,De=Je;!Fe&&Be<F;)Be++,De=De.parent,De?Fe=re(De,_e):Be=F;return Fe||{}},dt=function(Je,_e,Fe,Be){var De=re(Je,_e),Te;if(_e)Te=oe;else{var xe=re(E,_e);xe?Te=he(Je,xe,Be):Te={}}return L(De,Te)},gt=function(Je,_e,Fe,Be,De){var Te=re(Je,_e),xe;if(Te)xe=Te;else if(_e)xe=oe;else if(q)if(Je.parent){var Me=K||Fe;Me&&!_e?xe=he(Je,Me,Be):(xe={},C.extendFlat(xe,ct(Je,_e)))}else xe=C.extendFlat({},Je),R&&(De.orientation==="h"?De.flipX?xe.x0=Je.x1:xe.x1=0:De.flipY?xe.y0=Je.y1:xe.y1=0);else xe={};return L(xe,{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1})},Et=function(Je,_e,Fe,Be){var De=re(Je,_e),Te={},xe=le(Je,_e,Fe,Be);C.extendFlat(Te,{transform:at({x0:xe.x0,x1:xe.x1,y0:xe.y0,y1:xe.y1,textBB:Je.textBB,_text:Je._text},{isHeader:a.isHeader(Je,M)})}),De?Te=De:Je.parent&&C.extendFlat(Te,ct(Je,_e));var Me=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&r(M.type,Me,u),L(Te,{transform:{scale:Me.scale,rotate:Me.rotate,textX:Me.textX,textY:Me.textY,anchorX:Me.anchorX,anchorY:Me.anchorY,targetX:Me.targetX,targetY:Me.targetY}})},Ct=function(Je,_e,Fe,Be,De){var Te=Be[0],xe=Be[1];O?Je.exit().transition().each(function(){var Me=p.select(this),Pe=Me.select("path.surface");Pe.transition().attrTween("d",function(Ke){var qe=dt(Ke,_e,Fe,[Te,xe]);return function(vt){return De(qe(vt))}});var He=Me.select("g.slicetext");He.attr("opacity",0)}).remove():Je.exit().remove()},Vt=function(Je){var _e=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&r(M.type,_e,u),C.getTextTransform({textX:_e.textX,textY:_e.textY,anchorX:_e.anchorX,anchorY:_e.anchorY,targetX:_e.targetX,targetY:_e.targetY,scale:_e.scale,rotate:_e.rotate})};O&&(i.each(function(Je){Z[l(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(Z[l(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate})}),D.each(function(Je){$[l(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&($[l(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate}),!q&&a.isEntry(Je)&&(q=Je)})),K=d(f,m,E,D,{width:H,height:z,viewX:ue,viewY:se,pathSlice:tt,toMoveInsideSlice:at,prevEntry:q,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Et,handleSlicesExit:Ct,hasTransition:O,strTransform:Vt}),M.pathbar.visible?n(f,m,E,i,{barDifY:ae,width:G,height:Y,viewX:Ee,viewY:Ae,pathSlice:Ce,toMoveInsideSlice:at,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Et,handleSlicesExit:Ct,hasTransition:O,strTransform:Vt}):i.remove()}},96362:function(B,N,e){var p=e(39898),L=e(7901),a=e(71828),C=e(2791),w=e(72597).resizeText,h=e(43467);function g(r){var s=r._fullLayout._treemaplayer.selectAll(".trace");w(r,s,"treemap"),s.each(function(n){var l=p.select(this),c=n[0],f=c.trace;l.style("opacity",f.opacity),l.selectAll("path.surface").each(function(m){p.select(this).call(t,m,f,r,{hovered:!1})})})}function t(r,s,n,l,c){var f=(c||{}).hovered,m=s.data.data,v=m.i,A,d,u=m.color,y=C.isHierarchyRoot(s),M=1;if(f)A=n._hovered.marker.line.color,d=n._hovered.marker.line.width;else if(y&&u===n.root.color)M=100,A="rgba(0,0,0,0)",d=0;else if(A=a.castOption(n,v,"marker.line.color")||L.defaultLine,d=a.castOption(n,v,"marker.line.width")||0,!n._hasColorscale&&!s.onPathbar){var S=n.marker.depthfade;if(S){var R=L.combine(L.addOpacity(n._backgroundColor,.75),u),x;if(S===!0){var E=C.getMaxDepth(n);isFinite(E)?C.isLeaf(s)?x=0:x=n._maxVisibleLayers-(s.data.depth-n._entryDepth):x=s.data.height+1}else x=s.data.depth-n._entryDepth,n._atRootLevel||x++;if(x>0)for(var T=0;T<x;T++){var i=.5*T/x;u=L.combine(L.addOpacity(R,i),u)}}}r.call(h,s,n,l,u).style("stroke-width",d).call(L.stroke,A).style("opacity",M)}B.exports={style:g,styleOne:t}},68875:function(B,N,e){var p=e(53522),L=e(1426).extendFlat,a=e(12663).axisHoverFormat;B.exports={y:p.y,x:p.x,x0:p.x0,y0:p.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:L({},p.name,{}),orientation:L({},p.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,points:L({},p.boxpoints,{}),jitter:L({},p.jitter,{}),pointpos:L({},p.pointpos,{}),width:L({},p.width,{}),marker:p.marker,text:p.text,hovertext:p.hovertext,hovertemplate:p.hovertemplate,quartilemethod:p.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(B,N,e){var p=e(71828),L=e(89298),a=e(48518),C=e(60168),w=e(50606).BADNUM;B.exports=function(s,n){var l=a(s,n);if(l[0].t.empty)return l;for(var c=s._fullLayout,f=L.getFromId(s,n[n.orientation==="h"?"xaxis":"yaxis"]),m=1/0,v=-1/0,A=0,d=0,u=0;u<l.length;u++){var y=l[u],M=y.pts.map(C.extractVal),S=y.bandwidth=g(n,y,M),R=y.span=t(n,y,f,S);if(y.min===y.max&&S===0)R=y.span=[y.min,y.max],y.density=[{v:1,t:R[0]}],y.bandwidth=S,A=Math.max(A,1);else{var x=R[1]-R[0],E=Math.ceil(x/(S/3)),T=x/E;if(!isFinite(T)||!isFinite(E))return p.error("Something went wrong with computing the violin span"),l[0].t.empty=!0,l;var i=C.makeKDE(y,n,M);y.density=new Array(E);for(var D=0,b=R[0];b<R[1]+T/2;D++,b+=T){var O=i(b);y.density[D]={v:O,t:b},A=Math.max(A,O)}}d=Math.max(d,M.length),m=Math.min(m,R[0]),v=Math.max(v,R[1])}var F=L.findExtremes(f,[m,v],{padded:!0});if(n._extremes[f._id]=F,n.width)l[0].t.maxKDE=A;else{var V=c._violinScaleGroupStats,_=n.scalegroup,U=V[_];U?(U.maxKDE=Math.max(U.maxKDE,A),U.maxCount=Math.max(U.maxCount,d)):V[_]={maxKDE:A,maxCount:d}}return l[0].t.labels.kde=p._(s,"kde:"),l};function h(r,s,n){var l=Math.min(s,n/1.349);return 1.059*l*Math.pow(r,-.2)}function g(r,s,n){var l=s.max-s.min;if(!l)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,l/1e4);var c=n.length,f=p.stdev(n,c-1,s.mean);return Math.max(h(c,f,s.q3-s.q1),l/100)}function t(r,s,n,l){var c=r.spanmode,f=r.span||[],m=[s.min,s.max],v=[s.min-2*l,s.max+2*l],A;function d(y){var M=f[y],S=n.type==="multicategory"?n.r2c(M):n.d2c(M,0,r[s.valLetter+"calendar"]);return S===w?v[y]:S}c==="soft"?A=v:c==="hard"?A=m:A=[d(0),d(1)];var u={type:"linear",range:A};return L.setConvert(u),u.cleanRange(),A}},86403:function(B,N,e){var p=e(37188).setPositionOffset,L=["v","h"];B.exports=function(C,w){for(var h=C.calcdata,g=w.xaxis,t=w.yaxis,r=0;r<L.length;r++){for(var s=L[r],n=s==="h"?t:g,l=[],c=0;c<h.length;c++){var f=h[c],m=f[0].t,v=f[0].trace;v.visible===!0&&v.type==="violin"&&!m.empty&&v.orientation===s&&v.xaxis===g._id&&v.yaxis===t._id&&l.push(c)}p("violin",C,l,n)}}},15899:function(B,N,e){var p=e(71828),L=e(7901),a=e(36411),C=e(68875);B.exports=function(h,g,t,r){function s(T,i){return p.coerce(h,g,C,T,i)}function n(T,i){return p.coerce2(h,g,C,T,i)}if(a.handleSampleDefaults(h,g,s,r),g.visible!==!1){s("bandwidth"),s("side");var l=s("width");l||(s("scalegroup",g.name),s("scalemode"));var c=s("span"),f;Array.isArray(c)&&(f="manual"),s("spanmode",f);var m=s("line.color",(h.marker||{}).color||t),v=s("line.width"),A=s("fillcolor",L.addOpacity(g.line.color,.5));a.handlePointsDefaults(h,g,s,{prefix:""});var d=n("box.width"),u=n("box.fillcolor",A),y=n("box.line.color",m),M=n("box.line.width",v),S=s("box.visible",!!(d||u||y||M));S||(g.box={visible:!1});var R=n("meanline.color",m),x=n("meanline.width",v),E=s("meanline.visible",!!(R||x));E||(g.meanline={visible:!1}),s("quartilemethod")}}},60168:function(B,N,e){var p=e(71828),L={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};N.makeKDE=function(a,C,w){var h=w.length,g=L.gaussian,t=a.bandwidth,r=1/(h*t);return function(s){for(var n=0,l=0;l<h;l++)n+=g((s-w[l])/t);return r*n}},N.getPositionOnKdePath=function(a,C,w){var h,g;C.orientation==="h"?(h="y",g="x"):(h="x",g="y");var t=p.findPointOnPath(a.path,w,g,{pathLength:a.pathLength}),r=a.posCenterPx,s=t[h],n=C.side==="both"?2*r-s:r;return[s,n]},N.getKdeValue=function(a,C,w){var h=a.pts.map(N.extractVal),g=N.makeKDE(a,C,h);return g(w)/a.posDensityScale},N.extractVal=function(a){return a.v}},57634:function(B,N,e){var p=e(7901),L=e(71828),a=e(89298),C=e(41868),w=e(60168);B.exports=function(g,t,r,s,n){n||(n={});var l=n.hoverLayer,c=g.cd,f=c[0].trace,m=f.hoveron,v=m.indexOf("violins")!==-1,A=m.indexOf("kde")!==-1,d=[],u,y;if(v||A){var M=C.hoverOnBoxes(g,t,r,s);if(A&&M.length>0){var S=g.xa,R=g.ya,x,E,T,i,D;f.orientation==="h"?(D=t,x="y",T=R,E="x",i=S):(D=r,x="x",T=S,E="y",i=R);var b=c[g.index];if(D>=b.span[0]&&D<=b.span[1]){var O=L.extendFlat({},g),F=i.c2p(D,!0),V=w.getKdeValue(b,f,D),_=w.getPositionOnKdePath(b,f,F),U=T._offset,H=T._length;O[x+"0"]=_[0],O[x+"1"]=_[1],O[E+"0"]=O[E+"1"]=F,O[E+"Label"]=E+": "+a.hoverLabelText(i,D,f[E+"hoverformat"])+", "+c[0].t.labels.kde+" "+V.toFixed(3);for(var z=0,G=0;G<M.length;G++)if(M[G].attr==="med"){z=G;break}O.spikeDistance=M[z].spikeDistance;var Y=x+"Spike";O[Y]=M[z][Y],M[z].spikeDistance=void 0,M[z][Y]=void 0,O.hovertemplate=!1,d.push(O),y={},y[x+"1"]=L.constrain(U+_[0],U,U+H),y[x+"2"]=L.constrain(U+_[1],U,U+H),y[E+"1"]=y[E+"2"]=i._offset+F}}v&&(d=d.concat(M))}m.indexOf("points")!==-1&&(u=C.hoverOnPoints(g,t,r));var J=l.selectAll(".violinline-"+f.uid).data(y?[0]:[]);return J.enter().append("line").classed("violinline-"+f.uid,!0).attr("stroke-width",1.5),J.exit().remove(),J.attr(y).call(p.stroke,g.color),s==="closest"?u?[u]:d:(u&&d.push(u),d)}},47462:function(B,N,e){B.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(B,N,e){var p=e(40094),L=e(71828).extendFlat;B.exports={violinmode:L({},p.boxmode,{}),violingap:L({},p.boxgap,{}),violingroupgap:L({},p.boxgroupgap,{})}},33598:function(B,N,e){var p=e(71828),L=e(9228),a=e(4199);B.exports=function(w,h,g){function t(r,s){return p.coerce(w,h,L,r,s)}a._supply(w,h,g,t,"violin")}},28443:function(B,N,e){var p=e(39898),L=e(71828),a=e(91424),C=e(86047),w=e(34621),h=e(60168);B.exports=function(t,r,s,n){var l=t._context.staticPlot,c=t._fullLayout,f=r.xaxis,m=r.yaxis;function v(A,d){var u=w(A,{xaxis:f,yaxis:m,trace:d,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(u[0],1)}L.makeTraceGroups(n,s,"trace violins").each(function(A){var d=p.select(this),u=A[0],y=u.t,M=u.trace;if(M.visible!==!0||y.empty){d.remove();return}var S=y.bPos,R=y.bdPos,x=r[y.valLetter+"axis"],E=r[y.posLetter+"axis"],T=M.side==="both",i=T||M.side==="positive",D=T||M.side==="negative",b=d.selectAll("path.violin").data(L.identity);b.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","violin"),b.exit().remove(),b.each(function(G){var Y=p.select(this),J=G.density,ae=J.length,oe=E.c2l(G.pos+S,!0),he=E.l2p(oe),q;if(M.width)q=y.maxKDE/R;else{var Z=c._violinScaleGroupStats[M.scalegroup];q=M.scalemode==="count"?Z.maxKDE/R*(Z.maxCount/G.pts.length):Z.maxKDE/R}var $,K,re,le,te,ee,ue;if(i){for(ee=new Array(ae),le=0;le<ae;le++)ue=ee[le]={},ue[y.posLetter]=oe+J[le].v/q,ue[y.valLetter]=x.c2l(J[le].t,!0);$=v(ee,M)}if(D){for(ee=new Array(ae),te=0,le=ae-1;te<ae;te++,le--)ue=ee[te]={},ue[y.posLetter]=oe-J[le].v/q,ue[y.valLetter]=x.c2l(J[le].t,!0);K=v(ee,M)}if(T)re=$+"L"+K.substr(1)+"Z";else{var se=[he,x.c2p(J[0].t)],ve=[he,x.c2p(J[ae-1].t)];M.orientation==="h"&&(se.reverse(),ve.reverse()),i?re="M"+se+"L"+$.substr(1)+"L"+ve:re="M"+ve+"L"+K.substr(1)+"L"+se}Y.attr("d",re),G.posCenterPx=he,G.posDensityScale=q*R,G.path=Y.node(),G.pathLength=G.path.getTotalLength()/(T?2:1)});var O=M.box,F=O.width,V=(O.line||{}).width,_,U;T?(_=R*F,U=0):i?(_=[0,R*F/2],U=V*{x:1,y:-1}[y.posLetter]):(_=[R*F/2,0],U=V*{x:-1,y:1}[y.posLetter]),C.plotBoxAndWhiskers(d,{pos:E,val:x},M,{bPos:S,bdPos:_,bPosPxOffset:U}),C.plotBoxMean(d,{pos:E,val:x},M,{bPos:S,bdPos:_,bPosPxOffset:U});var H;!M.box.visible&&M.meanline.visible&&(H=L.identity);var z=d.selectAll("path.meanline").data(H||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",l?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(G){var Y=x.c2p(G.mean,!0),J=h.getPositionOnKdePath(G,M,Y);p.select(this).attr("d",M.orientation==="h"?"M"+Y+","+J[0]+"V"+J[1]:"M"+J[0]+","+Y+"H"+J[1])}),C.plotPoints(d,{x:f,y:m},M,y)})}},31847:function(B,N,e){var p=e(39898),L=e(7901),a=e(16296).stylePoints;B.exports=function(w){var h=p.select(w).selectAll("g.trace.violins");h.style("opacity",function(g){return g[0].trace.opacity}),h.each(function(g){var t=g[0].trace,r=p.select(this),s=t.box||{},n=s.line||{},l=t.meanline||{},c=l.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(L.stroke,t.line.color).call(L.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",n.width+"px").call(L.stroke,n.color).call(L.fill,s.fillcolor);var f={"stroke-width":c+"px","stroke-dasharray":2*c+"px,"+c+"px"};r.selectAll("path.mean").style(f).call(L.stroke,l.color),r.selectAll("path.meanline").style(f).call(L.stroke,l.color),a(r,t,w)})}},16336:function(B,N,e){var p=e(50693),L=e(16249),a=e(54532),C=e(9012),w=e(1426).extendFlat,h=e(30962).overrideAll,g=B.exports=h(w({x:L.x,y:L.y,z:L.z,value:L.value,isomin:L.isomin,isomax:L.isomax,surface:L.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:L.slices,caps:L.caps,text:L.text,hovertext:L.hovertext,xhoverformat:L.xhoverformat,yhoverformat:L.yhoverformat,zhoverformat:L.zhoverformat,valuehoverformat:L.valuehoverformat,hovertemplate:L.hovertemplate},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:L.colorbar,opacity:L.opacity,opacityscale:a.opacityscale,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:w({},C.hoverinfo),showlegend:w({},C.showlegend,{dflt:!1})}),"calc","nested");g.x.editType=g.y.editType=g.z.editType=g.value.editType="calc+clearAxisTypes",g.transforms=void 0},64809:function(B,N,e){var p=e(9330).gl_mesh3d,L=e(81697).parseColorScale,a=e(78614),C=e(21081).extractOpts,w=e(90060),h=e(22674).findNearestOnAxis,g=e(22674).generateIsoMeshes;function t(n,l,c){this.scene=n,this.uid=c,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(n){if(n.object===this.mesh){var l=n.data.index,c=this.data._meshX[l],f=this.data._meshY[l],m=this.data._meshZ[l],v=this.data._Ys.length,A=this.data._Zs.length,d=h(c,this.data._Xs).id,u=h(f,this.data._Ys).id,y=h(m,this.data._Zs).id,M=n.index=y+A*u+A*v*d;n.traceCoordinate=[this.data._meshX[M],this.data._meshY[M],this.data._meshZ[M],this.data._value[M]];var S=this.data.hovertext||this.data.text;return Array.isArray(S)&&S[M]!==void 0?n.textLabel=S[M]:S&&(n.textLabel=S),!0}},r.update=function(n){var l=this.scene,c=l.fullSceneLayout;this.data=g(n);function f(u,y,M,S){return y.map(function(R){return u.d2l(R,0,S)*M})}var m=w(f(c.xaxis,n._meshX,l.dataScale[0],n.xcalendar),f(c.yaxis,n._meshY,l.dataScale[1],n.ycalendar),f(c.zaxis,n._meshZ,l.dataScale[2],n.zcalendar)),v=w(n._meshI,n._meshJ,n._meshK),A={positions:m,cells:v,lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,opacityscale:n.opacityscale,contourEnable:n.contour.show,contourColor:a(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},d=C(n);A.vertexIntensity=n._meshIntensity,A.vertexIntensityBounds=[d.min,d.max],A.colormap=L(n),this.mesh.update(A)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function s(n,l){var c=n.glplot.gl,f=p({gl:c}),m=new t(n,f,l.uid);return f._trace=m,m.update(l),n.glplot.add(f),m}B.exports=s},47651:function(B,N,e){var p=e(71828),L=e(16336),a=e(82738).supplyIsoDefaults,C=e(91831).opacityscaleDefaults;B.exports=function(h,g,t,r){function s(n,l){return p.coerce(h,g,L,n,l)}a(h,g,t,r,s),C(h,g,r,s)}},17659:function(B,N,e){B.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(B,N,e){var p=e(1486),L=e(82196).line,a=e(9012),C=e(12663).axisHoverFormat,w=e(5386).fF,h=e(5386).si,g=e(48334),t=e(1426).extendFlat,r=e(7901);function s(n){return{marker:{color:t({},p.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},p.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},p.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}B.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:w({},{keys:g.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:h({editType:"plot"},{keys:g.eventDataKeys.concat(["label"])}),text:p.text,textposition:p.textposition,insidetextanchor:p.insidetextanchor,textangle:p.textangle,textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:p.orientation,offset:p.offset,width:p.width,increasing:s(),decreasing:s(),totals:s(),connector:{line:{color:t({},L.color,{dflt:r.defaultLine}),width:t({},L.width,{editType:"plot"}),dash:L.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup}},52752:function(B,N,e){var p=e(89298),L=e(42973),a=e(71828).mergeArray,C=e(66279),w=e(50606).BADNUM;function h(t){return t==="a"||t==="absolute"}function g(t){return t==="t"||t==="total"}B.exports=function(r,s){var n=p.getFromId(r,s.xaxis||"x"),l=p.getFromId(r,s.yaxis||"y"),c,f,m,v,A,d;s.orientation==="h"?(c=n.makeCalcdata(s,"x"),m=l.makeCalcdata(s,"y"),v=L(s,l,"y",m),A=!!s.yperiodalignment,d="y"):(c=l.makeCalcdata(s,"y"),m=n.makeCalcdata(s,"x"),v=L(s,n,"x",m),A=!!s.xperiodalignment,d="x"),f=v.vals;for(var u=Math.min(f.length,c.length),y=new Array(u),M=0,S,R=!1,x=0;x<u;x++){var E=c[x]||0,T=!1;(c[x]!==w||g(s.measure[x])||h(s.measure[x]))&&x+1<u&&(c[x+1]!==w||g(s.measure[x+1])||h(s.measure[x+1]))&&(T=!0);var i=y[x]={i:x,p:f[x],s:E,rawS:E,cNext:T};h(s.measure[x])?(M=i.s,i.isSum=!0,i.dir="totals",i.s=M):g(s.measure[x])?(i.isSum=!0,i.dir="totals",i.s=M):(i.isSum=!1,i.dir=i.rawS<0?"decreasing":"increasing",S=i.s,i.s=M+S,M+=S),i.dir==="totals"&&(R=!0),A&&(y[x].orig_p=m[x],y[x][d+"End"]=v.ends[x],y[x][d+"Start"]=v.starts[x]),s.ids&&(i.id=String(s.ids[x])),i.v=(s.base||0)+M}return y.length&&(y[0].hasTotals=R),a(s.text,y,"tx"),a(s.hovertext,y,"htx"),C(y,s),y}},48334:function(B){B.exports={eventDataKeys:["initial","delta","final"]}},70766:function(B,N,e){var p=e(11661).setGroupPositions;B.exports=function(a,C){var w=a._fullLayout,h=a._fullData,g=a.calcdata,t=C.xaxis,r=C.yaxis,s=[],n=[],l=[],c,f;for(f=0;f<h.length;f++){var m=h[f];m.visible===!0&&m.xaxis===t._id&&m.yaxis===r._id&&m.type==="waterfall"&&(c=g[f],m.orientation==="h"?l.push(c):n.push(c),s.push(c))}var v={mode:w.waterfallmode,norm:w.waterfallnorm,gap:w.waterfallgap,groupgap:w.waterfallgroupgap};for(p(a,t,r,n,v),p(a,r,t,l,v),f=0;f<s.length;f++){c=s[f];for(var A=0;A<c.length;A++){var d=c[A];d.isSum===!1&&(d.s0+=A===0?0:c[A-1].s),A+1<c.length&&(c[A].nextP0=c[A+1].p0,c[A].nextS0=c[A+1].s0)}}}},83266:function(B,N,e){var p=e(71828),L=e(26125),a=e(90769).handleText,C=e(67513),w=e(73927),h=e(43037),g=e(7901),t=e(22372),r=t.INCREASING.COLOR,s=t.DECREASING.COLOR,n="#4499FF";function l(m,v,A){m(v+".marker.color",A),m(v+".marker.line.color",g.defaultLine),m(v+".marker.line.width")}function c(m,v,A,d){function u(x,E){return p.coerce(m,v,h,x,E)}var y=C(m,v,d,u);if(!y){v.visible=!1;return}w(m,v,d,u),u("xhoverformat"),u("yhoverformat"),u("measure"),u("orientation",v.x&&!v.y?"h":"v"),u("base"),u("offset"),u("width"),u("text"),u("hovertext"),u("hovertemplate");var M=u("textposition");a(m,v,d,u,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v.textposition!=="none"&&(u("texttemplate"),v.texttemplate||u("textinfo")),l(u,"increasing",r),l(u,"decreasing",s),l(u,"totals",n);var S=u("connector.visible");if(S){u("connector.mode");var R=u("connector.line.width");R&&(u("connector.line.color"),u("connector.line.dash"))}}function f(m,v){var A,d;function u(M){return p.coerce(d._input,d,h,M)}if(v.waterfallmode==="group")for(var y=0;y<m.length;y++)d=m[y],A=d._input,L(A,d,v,u)}B.exports={supplyDefaults:c,crossTraceDefaults:f}},58593:function(B){B.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"initial"in p&&(e.initial=p.initial),"delta"in p&&(e.delta=p.delta),"final"in p&&(e.final=p.final),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},61326:function(B,N,e){var p=e(89298).hoverLabelText,L=e(7901).opacity,a=e(95423).hoverOnBars,C=e(22372),w={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};B.exports=function(t,r,s,n,l){var c=a(t,r,s,n,l);if(!c)return;var f=c.cd,m=f[0].trace,v=m.orientation==="h",A=v?"x":"y",d=v?t.xa:t.ya;function u(b){return p(d,b,m[A+"hoverformat"])}var y=c.index,M=f[y],S=M.isSum?M.b+M.s:M.rawS;c.initial=M.b+M.s-S,c.delta=S,c.final=c.initial+c.delta;var R=u(Math.abs(c.delta));c.deltaLabel=S<0?"("+R+")":R,c.finalLabel=u(c.final),c.initialLabel=u(c.initial);var x=M.hi||m.hoverinfo,E=[];if(x&&x!=="none"&&x!=="skip"){var T=x==="all",i=x.split("+"),D=function(b){return T||i.indexOf(b)!==-1};M.isSum||(D("final")&&(v?!D("x"):!D("y"))&&E.push(c.finalLabel),D("delta")&&(S<0?E.push(c.deltaLabel+" "+w.decreasing):E.push(c.deltaLabel+" "+w.increasing)),D("initial")&&E.push("Initial: "+c.initialLabel))}return E.length&&(c.extraText=E.join("<br>")),c.color=h(m,M),[c]};function h(g,t){var r=g[t.dir].marker,s=r.color,n=r.line.color,l=r.line.width;if(L(s))return s;if(L(n)&&l)return n}},19990:function(B,N,e){B.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(B){B.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(B,N,e){var p=e(71828),L=e(13494);B.exports=function(a,C,w){var h=!1;function g(s,n){return p.coerce(a,C,L,s,n)}for(var t=0;t<w.length;t++){var r=w[t];if(r.visible&&r.type==="waterfall"){h=!0;break}}h&&(g("waterfallmode"),g("waterfallgap",.2),g("waterfallgroupgap"))}},30436:function(B,N,e){var p=e(39898),L=e(71828),a=e(91424),C=e(50606).BADNUM,w=e(17295),h=e(72597).clearMinTextSize;B.exports=function(s,n,l,c){var f=s._fullLayout;h("waterfall",f),w.plot(s,n,l,c,{mode:f.waterfallmode,norm:f.waterfallmode,gap:f.waterfallgap,groupgap:f.waterfallgroupgap}),g(s,n,l,c)};function g(r,s,n,l){var c=s.xaxis,f=s.yaxis;L.makeTraceGroups(l,n,"trace bars").each(function(m){var v=p.select(this),A=m[0].trace,d=L.ensureSingle(v,"g","lines");if(!A.connector||!A.connector.visible){d.remove();return}var u=A.orientation==="h",y=A.connector.mode,M=d.selectAll("g.line").data(L.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var S=M.size();M.each(function(R,x){if(!(x!==S-1&&!R.cNext)){var E=t(R,c,f,u),T=E[0],i=E[1],D="";T[0]!==C&&i[0]!==C&&T[1]!==C&&i[1]!==C&&(y==="spanning"&&!R.isSum&&x>0&&(u?D+="M"+T[0]+","+i[1]+"V"+i[0]:D+="M"+T[1]+","+i[0]+"H"+T[0]),y!=="between"&&(R.isSum||x<S-1)&&(u?D+="M"+T[1]+","+i[0]+"V"+i[1]:D+="M"+T[0]+","+i[1]+"H"+T[1]),T[2]!==C&&i[2]!==C&&(u?D+="M"+T[1]+","+i[1]+"V"+i[2]:D+="M"+T[1]+","+i[1]+"H"+T[2])),D===""&&(D="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",D).call(a.setClipUrl,s.layerClipId,r)}})})}function t(r,s,n,l){var c=[],f=[],m=l?s:n,v=l?n:s;return c[0]=m.c2p(r.s0,!0),f[0]=v.c2p(r.p0,!0),c[1]=m.c2p(r.s1,!0),f[1]=v.c2p(r.p1,!0),c[2]=m.c2p(r.nextS0,!0),f[2]=v.c2p(r.nextP0,!0),l?[c,f]:[f,c]}},55750:function(B,N,e){var p=e(39898),L=e(91424),a=e(7901),C=e(37822).DESELECTDIM,w=e(16688),h=e(72597).resizeText,g=w.styleTextPoints;function t(r,s,n){var l=n||p.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");h(r,l,"waterfall"),l.style("opacity",function(c){return c[0].trace.opacity}),l.each(function(c){var f=p.select(this),m=c[0].trace;f.selectAll(".point > path").each(function(v){if(!v.isBlank){var A=m[v.dir].marker;p.select(this).call(a.fill,A.color).call(a.stroke,A.line.color).call(L.dashLine,A.line.dash,A.line.width).style("opacity",m.selectedpoints&&!v.selected?C:1)}}),g(f,m,r),f.selectAll(".lines").each(function(){var v=m.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),v.width,v.color,v.dash)})})}B.exports={style:t}},82887:function(B,N,e){var p=e(89298),L=e(71828),a=e(86281),C=e(79344).p,w=e(50606).BADNUM;N.moduleType="transform",N.name="aggregate";var h=N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},g=h.aggregations;N.supplyDefaults=function(c,f){var m={},v;function A(b,O){return L.coerce(c,m,h,b,O)}var d=A("enabled");if(!d)return m;var u=a.findArrayAttributes(f),y={};for(v=0;v<u.length;v++)y[u[v]]=1;var M=A("groups");if(!Array.isArray(M)){if(!y[M])return m.enabled=!1,m;y[M]=0}var S=c.aggregations||[],R=m.aggregations=new Array(S.length),x;function E(b,O){return L.coerce(S[v],x,g,b,O)}for(v=0;v<S.length;v++){x={_index:v};var T=E("target"),i=E("func"),D=E("enabled");D&&T&&(y[T]||i==="count"&&y[T]===void 0)?(i==="stddev"&&E("funcmode"),y[T]=0,R[v]=x):R[v]={enabled:!1,_index:v}}for(v=0;v<u.length;v++)y[u[v]]&&R.push({target:u[v],func:g.func.dflt,enabled:!0,_index:-1});return m},N.calcTransform=function(c,f,m){if(m.enabled){var v=m.groups,A=L.getTargetArray(f,{target:v});if(A){var d,u,y,M,S={},R={},x=[],E=C(f.transforms,m),T=A.length;for(f._length&&(T=Math.min(T,f._length)),d=0;d<T;d++)u=A[d],y=S[u],y===void 0?(S[u]=x.length,M=[d],x.push(M),R[S[u]]=E(d)):(x[y].push(d),R[S[u]]=(R[S[u]]||[]).concat(E(d)));m._indexToPoints=R;var i=m.aggregations;for(d=0;d<i.length;d++)t(c,f,x,i[d]);typeof v=="string"&&t(c,f,x,{target:v,func:"first",enabled:!0}),f._length=x.length}}};function t(c,f,m,v){if(v.enabled){for(var A=v.target,d=L.nestedProperty(f,A),u=d.get(),y=p.getDataConversions(c,f,A,u),M=r(v,y),S=new Array(m.length),R=0;R<m.length;R++)S[R]=M(u,m[R]);d.set(S),v.func==="count"&&L.pushUnique(f._arrayAttrs,A)}}function r(c,f){var m=c.func,v=f.d2c,A=f.c2d;switch(m){case"count":return s;case"first":return n;case"last":return l;case"sum":return function(d,u){for(var y=0,M=0;M<u.length;M++){var S=v(d[u[M]]);S!==w&&(y+=S)}return A(y)};case"avg":return function(d,u){for(var y=0,M=0,S=0;S<u.length;S++){var R=v(d[u[S]]);R!==w&&(y+=R,M++)}return M?A(y/M):w};case"min":return function(d,u){for(var y=1/0,M=0;M<u.length;M++){var S=v(d[u[M]]);S!==w&&(y=Math.min(y,S))}return y===1/0?w:A(y)};case"max":return function(d,u){for(var y=-1/0,M=0;M<u.length;M++){var S=v(d[u[M]]);S!==w&&(y=Math.max(y,S))}return y===-1/0?w:A(y)};case"range":return function(d,u){for(var y=1/0,M=-1/0,S=0;S<u.length;S++){var R=v(d[u[S]]);R!==w&&(y=Math.min(y,R),M=Math.max(M,R))}return M===-1/0||y===1/0?w:A(M-y)};case"change":return function(d,u){var y=v(d[u[0]]),M=v(d[u[u.length-1]]);return y===w||M===w?w:A(M-y)};case"median":return function(d,u){for(var y=[],M=0;M<u.length;M++){var S=v(d[u[M]]);S!==w&&y.push(S)}if(!y.length)return w;y.sort(L.sorterAsc);var R=(y.length-1)/2;return A((y[Math.floor(R)]+y[Math.ceil(R)])/2)};case"mode":return function(d,u){for(var y={},M=0,S=w,R=0;R<u.length;R++){var x=v(d[u[R]]);if(x!==w){var E=y[x]=(y[x]||0)+1;E>M&&(M=E,S=x)}}return M?A(S):w};case"rms":return function(d,u){for(var y=0,M=0,S=0;S<u.length;S++){var R=v(d[u[S]]);R!==w&&(y+=R*R,M++)}return M?A(Math.sqrt(y/M)):w};case"stddev":return function(d,u){var y=0,M=0,S=1,R=w,x;for(x=0;x<u.length&&R===w;x++)R=v(d[u[x]]);if(R===w)return w;for(;x<u.length;x++){var E=v(d[u[x]]);if(E!==w){var T=E-R;y+=T,M+=T*T,S++}}var i=c.funcmode==="sample"?S-1:S;return i?Math.sqrt((M-y*y/S)/i):0}}}function s(c,f){return f.length}function n(c,f){return c[f[0]]}function l(c,f){return c[f[f.length-1]]}},14382:function(B,N,e){var p=e(71828),L=e(73972),a=e(89298),C=e(79344).p,w=e(74808),h=w.COMPARISON_OPS,g=w.INTERVAL_OPS,t=w.SET_OPS;N.moduleType="transform",N.name="filter",N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(h).concat(g).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},N.supplyDefaults=function(s){var n={};function l(v,A){return p.coerce(s,n,N.attributes,v,A)}var c=l("enabled");if(c){var f=l("target");if(p.isArrayOrTypedArray(f)&&f.length===0)return n.enabled=!1,n;l("preservegaps"),l("operation"),l("value");var m=L.getComponentMethod("calendars","handleDefaults");m(s,n,"valuecalendar",null),m(s,n,"targetcalendar",null)}return n},N.calcTransform=function(s,n,l){if(!l.enabled)return;var c=p.getTargetArray(n,l);if(!c)return;var f=l.target,m=c.length;n._length&&(m=Math.min(m,n._length));var v=l.targetcalendar,A=n._arrayAttrs,d=l.preservegaps;if(typeof f=="string"){var u=p.nestedProperty(n,f+"calendar").get();u&&(v=u)}var y=a.getDataToCoordFunc(s,n,f,c),M=r(l,y,v),S={},R={},x=0;function E(F,V){for(var _=0;_<A.length;_++){var U=p.nestedProperty(n,A[_]);F(U,V)}}var T,i;d?(T=function(F){S[F.astr]=p.extendDeep([],F.get()),F.set(new Array(m))},i=function(F,V){var _=S[F.astr][V];F.get()[V]=_}):(T=function(F){S[F.astr]=p.extendDeep([],F.get()),F.set([])},i=function(F,V){var _=S[F.astr][V];F.get().push(_)}),E(T);for(var D=C(n.transforms,l),b=0;b<m;b++){var O=M(c[b]);O?(E(i,b),R[x++]=D(b)):d&&x++}l._indexToPoints=R,n._length=x};function r(s,n,l){var c=s.operation,f=s.value,m=Array.isArray(f);function v(y){return y.indexOf(c)!==-1}var A=function(y){return n(y,0,s.valuecalendar)},d=function(y){return n(y,0,l)},u;switch(v(h)?u=A(m?f[0]:f):v(g)?u=m?[A(f[0]),A(f[1])]:[A(f),A(f)]:v(t)&&(u=m?f.map(A):[A(f)]),c){case"=":return function(y){return d(y)===u};case"!=":return function(y){return d(y)!==u};case"<":return function(y){return d(y)<u};case"<=":return function(y){return d(y)<=u};case">":return function(y){return d(y)>u};case">=":return function(y){return d(y)>=u};case"[]":return function(y){var M=d(y);return M>=u[0]&&M<=u[1]};case"()":return function(y){var M=d(y);return M>u[0]&&M<u[1]};case"[)":return function(y){var M=d(y);return M>=u[0]&&M<u[1]};case"(]":return function(y){var M=d(y);return M>u[0]&&M<=u[1]};case"][":return function(y){var M=d(y);return M<=u[0]||M>=u[1]};case")(":return function(y){var M=d(y);return M<u[0]||M>u[1]};case"](":return function(y){var M=d(y);return M<=u[0]||M>u[1]};case")[":return function(y){var M=d(y);return M<u[0]||M>=u[1]};case"{}":return function(y){return u.indexOf(d(y))!==-1};case"}{":return function(y){return u.indexOf(d(y))===-1}}}},43102:function(B,N,e){var p=e(71828),L=e(86281),a=e(74875),C=e(79344).p;N.moduleType="transform",N.name="groupby",N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},N.supplyDefaults=function(h,g,t){var r,s={};function n(A,d){return p.coerce(h,s,N.attributes,A,d)}var l=n("enabled");if(!l)return s;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var c=h.styles,f=s.styles=[];if(c)for(r=0;r<c.length;r++){var m=f[r]={};p.coerce(c[r],f[r],N.attributes.styles,"target");var v=p.coerce(c[r],f[r],N.attributes.styles,"value");p.isPlainObject(v)?m.value=p.extendDeep({},v):v&&delete m.value}return s},N.transform=function(h,g){var t,r,s,n=[];for(r=0;r<h.length;r++)for(t=w(h[r],g),s=0;s<t.length;s++)n.push(t[s]);return n};function w(h,g){var t,r,s,n,l,c,f,m,v,A,d=g.transform,u=g.transformIndex,y=h.transforms[u].groups,M=C(h.transforms,d);if(!p.isArrayOrTypedArray(y)||y.length===0)return[h];var S=p.filterUnique(y),R=new Array(S.length),x=y.length,E=L.findArrayAttributes(h),T=d.styles||[],i={};for(t=0;t<T.length;t++)i[T[t].target]=T[t].value;d.styles&&(A=p.keyedContainer(d,"styles","target","value.name"));var D={},b={};for(t=0;t<S.length;t++){c=S[t],D[c]=t,b[c]=0,f=R[t]=p.extendDeepNoArrays({},h),f._group=c,f.transforms[u]._indexToPoints={};var O=null;for(A&&(O=A.get(c)),O||O===""?f.name=O:f.name=p.templateString(d.nameformat,{trace:h.name,group:c}),m=f.transforms,f.transforms=[],r=0;r<m.length;r++)f.transforms[r]=p.extendDeepNoArrays({},m[r]);for(r=0;r<E.length;r++)p.nestedProperty(f,E[r]).set([])}for(s=0;s<E.length;s++){for(n=E[s],r=0,v=[];r<S.length;r++)v[r]=p.nestedProperty(R[r],n).get();for(l=p.nestedProperty(h,n).get(),r=0;r<x;r++)v[D[y[r]]].push(l[r])}for(r=0;r<x;r++){f=R[D[y[r]]];var F=f.transforms[u]._indexToPoints;F[b[y[r]]]=M(r),b[y[r]]++}for(t=0;t<S.length;t++)c=S[t],f=R[t],a.clearExpandedTraceDefaultColors(f),f=p.extendDeepNoArrays(f,i[c]||{});return R}},79344:function(B,N){N.p=function(e,p){for(var L,a,C=0;C<e.length&&(L=e[C],L!==p);C++)!L._indexToPoints||L.enabled===!1||(a=L._indexToPoints);var w=a?function(h){return a[h]}:function(h){return[h]};return w}},32275:function(B,N,e){var p=e(71828),L=e(89298),a=e(79344).p,C=e(50606).BADNUM;N.moduleType="transform",N.name="sort",N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},N.supplyDefaults=function(g){var t={};function r(n,l){return p.coerce(g,t,N.attributes,n,l)}var s=r("enabled");return s&&(r("target"),r("order")),t},N.calcTransform=function(g,t,r){if(r.enabled){var s=p.getTargetArray(t,r);if(s){var n=r.target,l=s.length;t._length&&(l=Math.min(l,t._length));var c=t._arrayAttrs,f=L.getDataToCoordFunc(g,t,n,s),m=w(r,s,f,l),v=a(t.transforms,r),A={},d,u;for(d=0;d<c.length;d++){var y=p.nestedProperty(t,c[d]),M=y.get(),S=new Array(l);for(u=0;u<l;u++)S[u]=M[m[u]];y.set(S)}for(u=0;u<l;u++)A[u]=v(m[u]);r._indexToPoints=A,t._length=l}}};function w(g,t,r,s){var n=new Array(s),l=new Array(s),c;for(c=0;c<s;c++)n[c]={v:t[c],i:c};for(n.sort(h(g,r)),c=0;c<s;c++)l[c]=n[c].i;return l}function h(g,t){switch(g.order){case"ascending":return function(r,s){var n=t(r.v),l=t(s.v);return n===C?1:l===C?-1:n-l};case"descending":return function(r,s){var n=t(r.v),l=t(s.v);return n===C?1:l===C?-1:l-n}}}},11506:function(B,N){N.version="2.27.1"},9330:function(B,N,e){var p=e(90386);(function(a,C){B.exports=C()})(self,function(){return function(){var L={7386:function(h,g,t){h.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(h,g,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(Te,xe){if(!(Te instanceof xe))throw new TypeError("Cannot call a class as a function")}function s(Te,xe){for(var Me=0;Me<xe.length;Me++){var Pe=xe[Me];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(Te,Pe.key,Pe)}}function n(Te,xe,Me){return xe&&s(Te.prototype,xe),Me&&s(Te,Me),Object.defineProperty(Te,"prototype",{writable:!1}),Te}function l(Te,xe){if(typeof xe!="function"&&xe!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(xe&&xe.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),xe&&c(Te,xe)}function c(Te,xe){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Pe,He){return Pe.__proto__=He,Pe},c(Te,xe)}function f(Te){var xe=A();return function(){var Pe=d(Te),He;if(xe){var Ke=d(this).constructor;He=Reflect.construct(Pe,arguments,Ke)}else He=Pe.apply(this,arguments);return m(this,He)}}function m(Te,xe){if(xe&&(u(xe)==="object"||typeof xe=="function"))return xe;if(xe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(Te)}function v(Te){if(Te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Te}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(Te){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Me){return Me.__proto__||Object.getPrototypeOf(Me)},d(Te)}function u(Te){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},u(Te)}var y=t(3910),M=t(3187),S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.lW=T,g.h2=50;var R=2147483647;T.TYPED_ARRAY_SUPPORT=x(),!T.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{var Te=new Uint8Array(1),xe={foo:function(){return 42}};return Object.setPrototypeOf(xe,Uint8Array.prototype),Object.setPrototypeOf(Te,xe),Te.foo()===42}catch{return!1}}Object.defineProperty(T.prototype,"parent",{enumerable:!0,get:function(){if(T.isBuffer(this))return this.buffer}}),Object.defineProperty(T.prototype,"offset",{enumerable:!0,get:function(){if(T.isBuffer(this))return this.byteOffset}});function E(Te){if(Te>R)throw new RangeError('The value "'+Te+'" is invalid for option "size"');var xe=new Uint8Array(Te);return Object.setPrototypeOf(xe,T.prototype),xe}function T(Te,xe,Me){if(typeof Te=="number"){if(typeof xe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(Te)}return i(Te,xe,Me)}T.poolSize=8192;function i(Te,xe,Me){if(typeof Te=="string")return F(Te,xe);if(ArrayBuffer.isView(Te))return _(Te);if(Te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(Te));if(Je(Te,ArrayBuffer)||Te&&Je(Te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je(Te,SharedArrayBuffer)||Te&&Je(Te.buffer,SharedArrayBuffer)))return U(Te,xe,Me);if(typeof Te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Pe=Te.valueOf&&Te.valueOf();if(Pe!=null&&Pe!==Te)return T.from(Pe,xe,Me);var He=H(Te);if(He)return He;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Te[Symbol.toPrimitive]=="function")return T.from(Te[Symbol.toPrimitive]("string"),xe,Me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(Te))}T.from=function(Te,xe,Me){return i(Te,xe,Me)},Object.setPrototypeOf(T.prototype,Uint8Array.prototype),Object.setPrototypeOf(T,Uint8Array);function D(Te){if(typeof Te!="number")throw new TypeError('"size" argument must be of type number');if(Te<0)throw new RangeError('The value "'+Te+'" is invalid for option "size"')}function b(Te,xe,Me){return D(Te),Te<=0?E(Te):xe!==void 0?typeof Me=="string"?E(Te).fill(xe,Me):E(Te).fill(xe):E(Te)}T.alloc=function(Te,xe,Me){return b(Te,xe,Me)};function O(Te){return D(Te),E(Te<0?0:z(Te)|0)}T.allocUnsafe=function(Te){return O(Te)},T.allocUnsafeSlow=function(Te){return O(Te)};function F(Te,xe){if((typeof xe!="string"||xe==="")&&(xe="utf8"),!T.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);var Me=G(Te,xe)|0,Pe=E(Me),He=Pe.write(Te,xe);return He!==Me&&(Pe=Pe.slice(0,He)),Pe}function V(Te){for(var xe=Te.length<0?0:z(Te.length)|0,Me=E(xe),Pe=0;Pe<xe;Pe+=1)Me[Pe]=Te[Pe]&255;return Me}function _(Te){if(Je(Te,Uint8Array)){var xe=new Uint8Array(Te);return U(xe.buffer,xe.byteOffset,xe.byteLength)}return V(Te)}function U(Te,xe,Me){if(xe<0||Te.byteLength<xe)throw new RangeError('"offset" is outside of buffer bounds');if(Te.byteLength<xe+(Me||0))throw new RangeError('"length" is outside of buffer bounds');var Pe;return xe===void 0&&Me===void 0?Pe=new Uint8Array(Te):Me===void 0?Pe=new Uint8Array(Te,xe):Pe=new Uint8Array(Te,xe,Me),Object.setPrototypeOf(Pe,T.prototype),Pe}function H(Te){if(T.isBuffer(Te)){var xe=z(Te.length)|0,Me=E(xe);return Me.length===0||Te.copy(Me,0,0,xe),Me}if(Te.length!==void 0)return typeof Te.length!="number"||_e(Te.length)?E(0):V(Te);if(Te.type==="Buffer"&&Array.isArray(Te.data))return V(Te.data)}function z(Te){if(Te>=R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R.toString(16)+" bytes");return Te|0}T.isBuffer=function(xe){return xe!=null&&xe._isBuffer===!0&&xe!==T.prototype},T.compare=function(xe,Me){if(Je(xe,Uint8Array)&&(xe=T.from(xe,xe.offset,xe.byteLength)),Je(Me,Uint8Array)&&(Me=T.from(Me,Me.offset,Me.byteLength)),!T.isBuffer(xe)||!T.isBuffer(Me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(xe===Me)return 0;for(var Pe=xe.length,He=Me.length,Ke=0,qe=Math.min(Pe,He);Ke<qe;++Ke)if(xe[Ke]!==Me[Ke]){Pe=xe[Ke],He=Me[Ke];break}return Pe<He?-1:He<Pe?1:0},T.isEncoding=function(xe){switch(String(xe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},T.concat=function(xe,Me){if(!Array.isArray(xe))throw new TypeError('"list" argument must be an Array of Buffers');if(xe.length===0)return T.alloc(0);var Pe;if(Me===void 0)for(Me=0,Pe=0;Pe<xe.length;++Pe)Me+=xe[Pe].length;var He=T.allocUnsafe(Me),Ke=0;for(Pe=0;Pe<xe.length;++Pe){var qe=xe[Pe];if(Je(qe,Uint8Array))Ke+qe.length>He.length?(T.isBuffer(qe)||(qe=T.from(qe)),qe.copy(He,Ke)):Uint8Array.prototype.set.call(He,qe,Ke);else if(T.isBuffer(qe))qe.copy(He,Ke);else throw new TypeError('"list" argument must be an Array of Buffers');Ke+=qe.length}return He};function G(Te,xe){if(T.isBuffer(Te))return Te.length;if(ArrayBuffer.isView(Te)||Je(Te,ArrayBuffer))return Te.byteLength;if(typeof Te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(Te));var Me=Te.length,Pe=arguments.length>2&&arguments[2]===!0;if(!Pe&&Me===0)return 0;for(var He=!1;;)switch(xe){case"ascii":case"latin1":case"binary":return Me;case"utf8":case"utf-8":return dt(Te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me*2;case"hex":return Me>>>1;case"base64":return Ct(Te).length;default:if(He)return Pe?-1:dt(Te).length;xe=(""+xe).toLowerCase(),He=!0}}T.byteLength=G;function Y(Te,xe,Me){var Pe=!1;if((xe===void 0||xe<0)&&(xe=0),xe>this.length||((Me===void 0||Me>this.length)&&(Me=this.length),Me<=0)||(Me>>>=0,xe>>>=0,Me<=xe))return"";for(Te||(Te="utf8");;)switch(Te){case"hex":return ve(this,xe,Me);case"utf8":case"utf-8":return le(this,xe,Me);case"ascii":return ue(this,xe,Me);case"latin1":case"binary":return se(this,xe,Me);case"base64":return re(this,xe,Me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,xe,Me);default:if(Pe)throw new TypeError("Unknown encoding: "+Te);Te=(Te+"").toLowerCase(),Pe=!0}}T.prototype._isBuffer=!0;function J(Te,xe,Me){var Pe=Te[xe];Te[xe]=Te[Me],Te[Me]=Pe}T.prototype.swap16=function(){var xe=this.length;if(xe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Me=0;Me<xe;Me+=2)J(this,Me,Me+1);return this},T.prototype.swap32=function(){var xe=this.length;if(xe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Me=0;Me<xe;Me+=4)J(this,Me,Me+3),J(this,Me+1,Me+2);return this},T.prototype.swap64=function(){var xe=this.length;if(xe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Me=0;Me<xe;Me+=8)J(this,Me,Me+7),J(this,Me+1,Me+6),J(this,Me+2,Me+5),J(this,Me+3,Me+4);return this},T.prototype.toString=function(){var xe=this.length;return xe===0?"":arguments.length===0?le(this,0,xe):Y.apply(this,arguments)},T.prototype.toLocaleString=T.prototype.toString,T.prototype.equals=function(xe){if(!T.isBuffer(xe))throw new TypeError("Argument must be a Buffer");return this===xe?!0:T.compare(this,xe)===0},T.prototype.inspect=function(){var xe="",Me=g.h2;return xe=this.toString("hex",0,Me).replace(/(.{2})/g,"$1 ").trim(),this.length>Me&&(xe+=" ... "),"<Buffer "+xe+">"},S&&(T.prototype[S]=T.prototype.inspect),T.prototype.compare=function(xe,Me,Pe,He,Ke){if(Je(xe,Uint8Array)&&(xe=T.from(xe,xe.offset,xe.byteLength)),!T.isBuffer(xe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(xe));if(Me===void 0&&(Me=0),Pe===void 0&&(Pe=xe?xe.length:0),He===void 0&&(He=0),Ke===void 0&&(Ke=this.length),Me<0||Pe>xe.length||He<0||Ke>this.length)throw new RangeError("out of range index");if(He>=Ke&&Me>=Pe)return 0;if(He>=Ke)return-1;if(Me>=Pe)return 1;if(Me>>>=0,Pe>>>=0,He>>>=0,Ke>>>=0,this===xe)return 0;for(var qe=Ke-He,vt=Pe-Me,bt=Math.min(qe,vt),Wt=this.slice(He,Ke),qt=xe.slice(Me,Pe),At=0;At<bt;++At)if(Wt[At]!==qt[At]){qe=Wt[At],vt=qt[At];break}return qe<vt?-1:vt<qe?1:0};function ae(Te,xe,Me,Pe,He){if(Te.length===0)return-1;if(typeof Me=="string"?(Pe=Me,Me=0):Me>2147483647?Me=2147483647:Me<-2147483648&&(Me=-2147483648),Me=+Me,_e(Me)&&(Me=He?0:Te.length-1),Me<0&&(Me=Te.length+Me),Me>=Te.length){if(He)return-1;Me=Te.length-1}else if(Me<0)if(He)Me=0;else return-1;if(typeof xe=="string"&&(xe=T.from(xe,Pe)),T.isBuffer(xe))return xe.length===0?-1:oe(Te,xe,Me,Pe,He);if(typeof xe=="number")return xe=xe&255,typeof Uint8Array.prototype.indexOf=="function"?He?Uint8Array.prototype.indexOf.call(Te,xe,Me):Uint8Array.prototype.lastIndexOf.call(Te,xe,Me):oe(Te,[xe],Me,Pe,He);throw new TypeError("val must be string, number or Buffer")}function oe(Te,xe,Me,Pe,He){var Ke=1,qe=Te.length,vt=xe.length;if(Pe!==void 0&&(Pe=String(Pe).toLowerCase(),Pe==="ucs2"||Pe==="ucs-2"||Pe==="utf16le"||Pe==="utf-16le")){if(Te.length<2||xe.length<2)return-1;Ke=2,qe/=2,vt/=2,Me/=2}function bt(Kt,Sr){return Ke===1?Kt[Sr]:Kt.readUInt16BE(Sr*Ke)}var Wt;if(He){var qt=-1;for(Wt=Me;Wt<qe;Wt++)if(bt(Te,Wt)===bt(xe,qt===-1?0:Wt-qt)){if(qt===-1&&(qt=Wt),Wt-qt+1===vt)return qt*Ke}else qt!==-1&&(Wt-=Wt-qt),qt=-1}else for(Me+vt>qe&&(Me=qe-vt),Wt=Me;Wt>=0;Wt--){for(var At=!0,zt=0;zt<vt;zt++)if(bt(Te,Wt+zt)!==bt(xe,zt)){At=!1;break}if(At)return Wt}return-1}T.prototype.includes=function(xe,Me,Pe){return this.indexOf(xe,Me,Pe)!==-1},T.prototype.indexOf=function(xe,Me,Pe){return ae(this,xe,Me,Pe,!0)},T.prototype.lastIndexOf=function(xe,Me,Pe){return ae(this,xe,Me,Pe,!1)};function he(Te,xe,Me,Pe){Me=Number(Me)||0;var He=Te.length-Me;Pe?(Pe=Number(Pe),Pe>He&&(Pe=He)):Pe=He;var Ke=xe.length;Pe>Ke/2&&(Pe=Ke/2);var qe;for(qe=0;qe<Pe;++qe){var vt=parseInt(xe.substr(qe*2,2),16);if(_e(vt))return qe;Te[Me+qe]=vt}return qe}function q(Te,xe,Me,Pe){return Vt(dt(xe,Te.length-Me),Te,Me,Pe)}function Z(Te,xe,Me,Pe){return Vt(gt(xe),Te,Me,Pe)}function $(Te,xe,Me,Pe){return Vt(Ct(xe),Te,Me,Pe)}function K(Te,xe,Me,Pe){return Vt(Et(xe,Te.length-Me),Te,Me,Pe)}T.prototype.write=function(xe,Me,Pe,He){if(Me===void 0)He="utf8",Pe=this.length,Me=0;else if(Pe===void 0&&typeof Me=="string")He=Me,Pe=this.length,Me=0;else if(isFinite(Me))Me=Me>>>0,isFinite(Pe)?(Pe=Pe>>>0,He===void 0&&(He="utf8")):(He=Pe,Pe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ke=this.length-Me;if((Pe===void 0||Pe>Ke)&&(Pe=Ke),xe.length>0&&(Pe<0||Me<0)||Me>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");for(var qe=!1;;)switch(He){case"hex":return he(this,xe,Me,Pe);case"utf8":case"utf-8":return q(this,xe,Me,Pe);case"ascii":case"latin1":case"binary":return Z(this,xe,Me,Pe);case"base64":return $(this,xe,Me,Pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,xe,Me,Pe);default:if(qe)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),qe=!0}},T.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(Te,xe,Me){return xe===0&&Me===Te.length?y.fromByteArray(Te):y.fromByteArray(Te.slice(xe,Me))}function le(Te,xe,Me){Me=Math.min(Te.length,Me);for(var Pe=[],He=xe;He<Me;){var Ke=Te[He],qe=null,vt=Ke>239?4:Ke>223?3:Ke>191?2:1;if(He+vt<=Me){var bt=void 0,Wt=void 0,qt=void 0,At=void 0;switch(vt){case 1:Ke<128&&(qe=Ke);break;case 2:bt=Te[He+1],(bt&192)===128&&(At=(Ke&31)<<6|bt&63,At>127&&(qe=At));break;case 3:bt=Te[He+1],Wt=Te[He+2],(bt&192)===128&&(Wt&192)===128&&(At=(Ke&15)<<12|(bt&63)<<6|Wt&63,At>2047&&(At<55296||At>57343)&&(qe=At));break;case 4:bt=Te[He+1],Wt=Te[He+2],qt=Te[He+3],(bt&192)===128&&(Wt&192)===128&&(qt&192)===128&&(At=(Ke&15)<<18|(bt&63)<<12|(Wt&63)<<6|qt&63,At>65535&&At<1114112&&(qe=At))}}qe===null?(qe=65533,vt=1):qe>65535&&(qe-=65536,Pe.push(qe>>>10&1023|55296),qe=56320|qe&1023),Pe.push(qe),He+=vt}return ee(Pe)}var te=4096;function ee(Te){var xe=Te.length;if(xe<=te)return String.fromCharCode.apply(String,Te);for(var Me="",Pe=0;Pe<xe;)Me+=String.fromCharCode.apply(String,Te.slice(Pe,Pe+=te));return Me}function ue(Te,xe,Me){var Pe="";Me=Math.min(Te.length,Me);for(var He=xe;He<Me;++He)Pe+=String.fromCharCode(Te[He]&127);return Pe}function se(Te,xe,Me){var Pe="";Me=Math.min(Te.length,Me);for(var He=xe;He<Me;++He)Pe+=String.fromCharCode(Te[He]);return Pe}function ve(Te,xe,Me){var Pe=Te.length;(!xe||xe<0)&&(xe=0),(!Me||Me<0||Me>Pe)&&(Me=Pe);for(var He="",Ke=xe;Ke<Me;++Ke)He+=Fe[Te[Ke]];return He}function be(Te,xe,Me){for(var Pe=Te.slice(xe,Me),He="",Ke=0;Ke<Pe.length-1;Ke+=2)He+=String.fromCharCode(Pe[Ke]+Pe[Ke+1]*256);return He}T.prototype.slice=function(xe,Me){var Pe=this.length;xe=~~xe,Me=Me===void 0?Pe:~~Me,xe<0?(xe+=Pe,xe<0&&(xe=0)):xe>Pe&&(xe=Pe),Me<0?(Me+=Pe,Me<0&&(Me=0)):Me>Pe&&(Me=Pe),Me<xe&&(Me=xe);var He=this.subarray(xe,Me);return Object.setPrototypeOf(He,T.prototype),He};function Ee(Te,xe,Me){if(Te%1!==0||Te<0)throw new RangeError("offset is not uint");if(Te+xe>Me)throw new RangeError("Trying to access beyond buffer length")}T.prototype.readUintLE=T.prototype.readUIntLE=function(xe,Me,Pe){xe=xe>>>0,Me=Me>>>0,Pe||Ee(xe,Me,this.length);for(var He=this[xe],Ke=1,qe=0;++qe<Me&&(Ke*=256);)He+=this[xe+qe]*Ke;return He},T.prototype.readUintBE=T.prototype.readUIntBE=function(xe,Me,Pe){xe=xe>>>0,Me=Me>>>0,Pe||Ee(xe,Me,this.length);for(var He=this[xe+--Me],Ke=1;Me>0&&(Ke*=256);)He+=this[xe+--Me]*Ke;return He},T.prototype.readUint8=T.prototype.readUInt8=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,1,this.length),this[xe]},T.prototype.readUint16LE=T.prototype.readUInt16LE=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,2,this.length),this[xe]|this[xe+1]<<8},T.prototype.readUint16BE=T.prototype.readUInt16BE=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,2,this.length),this[xe]<<8|this[xe+1]},T.prototype.readUint32LE=T.prototype.readUInt32LE=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,4,this.length),(this[xe]|this[xe+1]<<8|this[xe+2]<<16)+this[xe+3]*16777216},T.prototype.readUint32BE=T.prototype.readUInt32BE=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,4,this.length),this[xe]*16777216+(this[xe+1]<<16|this[xe+2]<<8|this[xe+3])},T.prototype.readBigUInt64LE=Be(function(xe){xe=xe>>>0,et(xe,"offset");var Me=this[xe],Pe=this[xe+7];(Me===void 0||Pe===void 0)&&tt(xe,this.length-8);var He=Me+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,24),Ke=this[++xe]+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+Pe*Math.pow(2,24);return BigInt(He)+(BigInt(Ke)<<BigInt(32))}),T.prototype.readBigUInt64BE=Be(function(xe){xe=xe>>>0,et(xe,"offset");var Me=this[xe],Pe=this[xe+7];(Me===void 0||Pe===void 0)&&tt(xe,this.length-8);var He=Me*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+this[++xe],Ke=this[++xe]*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+Pe;return(BigInt(He)<<BigInt(32))+BigInt(Ke)}),T.prototype.readIntLE=function(xe,Me,Pe){xe=xe>>>0,Me=Me>>>0,Pe||Ee(xe,Me,this.length);for(var He=this[xe],Ke=1,qe=0;++qe<Me&&(Ke*=256);)He+=this[xe+qe]*Ke;return Ke*=128,He>=Ke&&(He-=Math.pow(2,8*Me)),He},T.prototype.readIntBE=function(xe,Me,Pe){xe=xe>>>0,Me=Me>>>0,Pe||Ee(xe,Me,this.length);for(var He=Me,Ke=1,qe=this[xe+--He];He>0&&(Ke*=256);)qe+=this[xe+--He]*Ke;return Ke*=128,qe>=Ke&&(qe-=Math.pow(2,8*Me)),qe},T.prototype.readInt8=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,1,this.length),this[xe]&128?(255-this[xe]+1)*-1:this[xe]},T.prototype.readInt16LE=function(xe,Me){xe=xe>>>0,Me||Ee(xe,2,this.length);var Pe=this[xe]|this[xe+1]<<8;return Pe&32768?Pe|4294901760:Pe},T.prototype.readInt16BE=function(xe,Me){xe=xe>>>0,Me||Ee(xe,2,this.length);var Pe=this[xe+1]|this[xe]<<8;return Pe&32768?Pe|4294901760:Pe},T.prototype.readInt32LE=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,4,this.length),this[xe]|this[xe+1]<<8|this[xe+2]<<16|this[xe+3]<<24},T.prototype.readInt32BE=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,4,this.length),this[xe]<<24|this[xe+1]<<16|this[xe+2]<<8|this[xe+3]},T.prototype.readBigInt64LE=Be(function(xe){xe=xe>>>0,et(xe,"offset");var Me=this[xe],Pe=this[xe+7];(Me===void 0||Pe===void 0)&&tt(xe,this.length-8);var He=this[xe+4]+this[xe+5]*Math.pow(2,8)+this[xe+6]*Math.pow(2,16)+(Pe<<24);return(BigInt(He)<<BigInt(32))+BigInt(Me+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,24))}),T.prototype.readBigInt64BE=Be(function(xe){xe=xe>>>0,et(xe,"offset");var Me=this[xe],Pe=this[xe+7];(Me===void 0||Pe===void 0)&&tt(xe,this.length-8);var He=(Me<<24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+this[++xe];return(BigInt(He)<<BigInt(32))+BigInt(this[++xe]*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+Pe)}),T.prototype.readFloatLE=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,4,this.length),M.read(this,xe,!0,23,4)},T.prototype.readFloatBE=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,4,this.length),M.read(this,xe,!1,23,4)},T.prototype.readDoubleLE=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,8,this.length),M.read(this,xe,!0,52,8)},T.prototype.readDoubleBE=function(xe,Me){return xe=xe>>>0,Me||Ee(xe,8,this.length),M.read(this,xe,!1,52,8)};function Ae(Te,xe,Me,Pe,He,Ke){if(!T.isBuffer(Te))throw new TypeError('"buffer" argument must be a Buffer instance');if(xe>He||xe<Ke)throw new RangeError('"value" argument is out of bounds');if(Me+Pe>Te.length)throw new RangeError("Index out of range")}T.prototype.writeUintLE=T.prototype.writeUIntLE=function(xe,Me,Pe,He){if(xe=+xe,Me=Me>>>0,Pe=Pe>>>0,!He){var Ke=Math.pow(2,8*Pe)-1;Ae(this,xe,Me,Pe,Ke,0)}var qe=1,vt=0;for(this[Me]=xe&255;++vt<Pe&&(qe*=256);)this[Me+vt]=xe/qe&255;return Me+Pe},T.prototype.writeUintBE=T.prototype.writeUIntBE=function(xe,Me,Pe,He){if(xe=+xe,Me=Me>>>0,Pe=Pe>>>0,!He){var Ke=Math.pow(2,8*Pe)-1;Ae(this,xe,Me,Pe,Ke,0)}var qe=Pe-1,vt=1;for(this[Me+qe]=xe&255;--qe>=0&&(vt*=256);)this[Me+qe]=xe/vt&255;return Me+Pe},T.prototype.writeUint8=T.prototype.writeUInt8=function(xe,Me,Pe){return xe=+xe,Me=Me>>>0,Pe||Ae(this,xe,Me,1,255,0),this[Me]=xe&255,Me+1},T.prototype.writeUint16LE=T.prototype.writeUInt16LE=function(xe,Me,Pe){return xe=+xe,Me=Me>>>0,Pe||Ae(this,xe,Me,2,65535,0),this[Me]=xe&255,this[Me+1]=xe>>>8,Me+2},T.prototype.writeUint16BE=T.prototype.writeUInt16BE=function(xe,Me,Pe){return xe=+xe,Me=Me>>>0,Pe||Ae(this,xe,Me,2,65535,0),this[Me]=xe>>>8,this[Me+1]=xe&255,Me+2},T.prototype.writeUint32LE=T.prototype.writeUInt32LE=function(xe,Me,Pe){return xe=+xe,Me=Me>>>0,Pe||Ae(this,xe,Me,4,4294967295,0),this[Me+3]=xe>>>24,this[Me+2]=xe>>>16,this[Me+1]=xe>>>8,this[Me]=xe&255,Me+4},T.prototype.writeUint32BE=T.prototype.writeUInt32BE=function(xe,Me,Pe){return xe=+xe,Me=Me>>>0,Pe||Ae(this,xe,Me,4,4294967295,0),this[Me]=xe>>>24,this[Me+1]=xe>>>16,this[Me+2]=xe>>>8,this[Me+3]=xe&255,Me+4};function Oe(Te,xe,Me,Pe,He){rt(xe,Pe,He,Te,Me,7);var Ke=Number(xe&BigInt(4294967295));Te[Me++]=Ke,Ke=Ke>>8,Te[Me++]=Ke,Ke=Ke>>8,Te[Me++]=Ke,Ke=Ke>>8,Te[Me++]=Ke;var qe=Number(xe>>BigInt(32)&BigInt(4294967295));return Te[Me++]=qe,qe=qe>>8,Te[Me++]=qe,qe=qe>>8,Te[Me++]=qe,qe=qe>>8,Te[Me++]=qe,Me}function Ue(Te,xe,Me,Pe,He){rt(xe,Pe,He,Te,Me,7);var Ke=Number(xe&BigInt(4294967295));Te[Me+7]=Ke,Ke=Ke>>8,Te[Me+6]=Ke,Ke=Ke>>8,Te[Me+5]=Ke,Ke=Ke>>8,Te[Me+4]=Ke;var qe=Number(xe>>BigInt(32)&BigInt(4294967295));return Te[Me+3]=qe,qe=qe>>8,Te[Me+2]=qe,qe=qe>>8,Te[Me+1]=qe,qe=qe>>8,Te[Me]=qe,Me+8}T.prototype.writeBigUInt64LE=Be(function(xe){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,xe,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),T.prototype.writeBigUInt64BE=Be(function(xe){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ue(this,xe,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),T.prototype.writeIntLE=function(xe,Me,Pe,He){if(xe=+xe,Me=Me>>>0,!He){var Ke=Math.pow(2,8*Pe-1);Ae(this,xe,Me,Pe,Ke-1,-Ke)}var qe=0,vt=1,bt=0;for(this[Me]=xe&255;++qe<Pe&&(vt*=256);)xe<0&&bt===0&&this[Me+qe-1]!==0&&(bt=1),this[Me+qe]=(xe/vt>>0)-bt&255;return Me+Pe},T.prototype.writeIntBE=function(xe,Me,Pe,He){if(xe=+xe,Me=Me>>>0,!He){var Ke=Math.pow(2,8*Pe-1);Ae(this,xe,Me,Pe,Ke-1,-Ke)}var qe=Pe-1,vt=1,bt=0;for(this[Me+qe]=xe&255;--qe>=0&&(vt*=256);)xe<0&&bt===0&&this[Me+qe+1]!==0&&(bt=1),this[Me+qe]=(xe/vt>>0)-bt&255;return Me+Pe},T.prototype.writeInt8=function(xe,Me,Pe){return xe=+xe,Me=Me>>>0,Pe||Ae(this,xe,Me,1,127,-128),xe<0&&(xe=255+xe+1),this[Me]=xe&255,Me+1},T.prototype.writeInt16LE=function(xe,Me,Pe){return xe=+xe,Me=Me>>>0,Pe||Ae(this,xe,Me,2,32767,-32768),this[Me]=xe&255,this[Me+1]=xe>>>8,Me+2},T.prototype.writeInt16BE=function(xe,Me,Pe){return xe=+xe,Me=Me>>>0,Pe||Ae(this,xe,Me,2,32767,-32768),this[Me]=xe>>>8,this[Me+1]=xe&255,Me+2},T.prototype.writeInt32LE=function(xe,Me,Pe){return xe=+xe,Me=Me>>>0,Pe||Ae(this,xe,Me,4,2147483647,-2147483648),this[Me]=xe&255,this[Me+1]=xe>>>8,this[Me+2]=xe>>>16,this[Me+3]=xe>>>24,Me+4},T.prototype.writeInt32BE=function(xe,Me,Pe){return xe=+xe,Me=Me>>>0,Pe||Ae(this,xe,Me,4,2147483647,-2147483648),xe<0&&(xe=4294967295+xe+1),this[Me]=xe>>>24,this[Me+1]=xe>>>16,this[Me+2]=xe>>>8,this[Me+3]=xe&255,Me+4},T.prototype.writeBigInt64LE=Be(function(xe){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,xe,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),T.prototype.writeBigInt64BE=Be(function(xe){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ue(this,xe,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(Te,xe,Me,Pe,He,Ke){if(Me+Pe>Te.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("Index out of range")}function we(Te,xe,Me,Pe,He){return xe=+xe,Me=Me>>>0,He||Le(Te,xe,Me,4),M.write(Te,xe,Me,Pe,23,4),Me+4}T.prototype.writeFloatLE=function(xe,Me,Pe){return we(this,xe,Me,!0,Pe)},T.prototype.writeFloatBE=function(xe,Me,Pe){return we(this,xe,Me,!1,Pe)};function Ce(Te,xe,Me,Pe,He){return xe=+xe,Me=Me>>>0,He||Le(Te,xe,Me,8),M.write(Te,xe,Me,Pe,52,8),Me+8}T.prototype.writeDoubleLE=function(xe,Me,Pe){return Ce(this,xe,Me,!0,Pe)},T.prototype.writeDoubleBE=function(xe,Me,Pe){return Ce(this,xe,Me,!1,Pe)},T.prototype.copy=function(xe,Me,Pe,He){if(!T.isBuffer(xe))throw new TypeError("argument should be a Buffer");if(Pe||(Pe=0),!He&&He!==0&&(He=this.length),Me>=xe.length&&(Me=xe.length),Me||(Me=0),He>0&&He<Pe&&(He=Pe),He===Pe||xe.length===0||this.length===0)return 0;if(Me<0)throw new RangeError("targetStart out of bounds");if(Pe<0||Pe>=this.length)throw new RangeError("Index out of range");if(He<0)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),xe.length-Me<He-Pe&&(He=xe.length-Me+Pe);var Ke=He-Pe;return this===xe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Me,Pe,He):Uint8Array.prototype.set.call(xe,this.subarray(Pe,He),Me),Ke},T.prototype.fill=function(xe,Me,Pe,He){if(typeof xe=="string"){if(typeof Me=="string"?(He=Me,Me=0,Pe=this.length):typeof Pe=="string"&&(He=Pe,Pe=this.length),He!==void 0&&typeof He!="string")throw new TypeError("encoding must be a string");if(typeof He=="string"&&!T.isEncoding(He))throw new TypeError("Unknown encoding: "+He);if(xe.length===1){var Ke=xe.charCodeAt(0);(He==="utf8"&&Ke<128||He==="latin1")&&(xe=Ke)}}else typeof xe=="number"?xe=xe&255:typeof xe=="boolean"&&(xe=Number(xe));if(Me<0||this.length<Me||this.length<Pe)throw new RangeError("Out of range index");if(Pe<=Me)return this;Me=Me>>>0,Pe=Pe===void 0?this.length:Pe>>>0,xe||(xe=0);var qe;if(typeof xe=="number")for(qe=Me;qe<Pe;++qe)this[qe]=xe;else{var vt=T.isBuffer(xe)?xe:T.from(xe,He),bt=vt.length;if(bt===0)throw new TypeError('The value "'+xe+'" is invalid for argument "value"');for(qe=0;qe<Pe-Me;++qe)this[qe+Me]=vt[qe%bt]}return this};var Ve={};function Ne(Te,xe,Me){Ve[Te]=function(Pe){l(Ke,Pe);var He=f(Ke);function Ke(){var qe;return r(this,Ke),qe=He.call(this),Object.defineProperty(v(qe),"message",{value:xe.apply(v(qe),arguments),writable:!0,configurable:!0}),qe.name="".concat(qe.name," [").concat(Te,"]"),qe.stack,delete qe.name,qe}return n(Ke,[{key:"code",get:function(){return Te},set:function(vt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:vt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Te,"]: ").concat(this.message)}}]),Ke}(Me)}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(Te){return Te?"".concat(Te," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(Te,xe){return'The "'.concat(Te,'" argument must be of type number. Received type ').concat(u(xe))},TypeError),Ne("ERR_OUT_OF_RANGE",function(Te,xe,Me){var Pe='The value of "'.concat(Te,'" is out of range.'),He=Me;return Number.isInteger(Me)&&Math.abs(Me)>Math.pow(2,32)?He=ke(String(Me)):typeof Me=="bigint"&&(He=String(Me),(Me>Math.pow(BigInt(2),BigInt(32))||Me<-Math.pow(BigInt(2),BigInt(32)))&&(He=ke(He)),He+="n"),Pe+=" It must be ".concat(xe,". Received ").concat(He),Pe},RangeError);function ke(Te){for(var xe="",Me=Te.length,Pe=Te[0]==="-"?1:0;Me>=Pe+4;Me-=3)xe="_".concat(Te.slice(Me-3,Me)).concat(xe);return"".concat(Te.slice(0,Me)).concat(xe)}function We(Te,xe,Me){et(xe,"offset"),(Te[xe]===void 0||Te[xe+Me]===void 0)&&tt(xe,Te.length-(Me+1))}function rt(Te,xe,Me,Pe,He,Ke){if(Te>Me||Te<xe){var qe=typeof xe=="bigint"?"n":"",vt;throw Ke>3?xe===0||xe===BigInt(0)?vt=">= 0".concat(qe," and < 2").concat(qe," ** ").concat((Ke+1)*8).concat(qe):vt=">= -(2".concat(qe," ** ").concat((Ke+1)*8-1).concat(qe,") and < 2 ** ")+"".concat((Ke+1)*8-1).concat(qe):vt=">= ".concat(xe).concat(qe," and <= ").concat(Me).concat(qe),new Ve.ERR_OUT_OF_RANGE("value",vt,Te)}We(Pe,He,Ke)}function et(Te,xe){if(typeof Te!="number")throw new Ve.ERR_INVALID_ARG_TYPE(xe,"number",Te)}function tt(Te,xe,Me){throw Math.floor(Te)!==Te?(et(Te,Me),new Ve.ERR_OUT_OF_RANGE(Me||"offset","an integer",Te)):xe<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(Me||"offset",">= ".concat(Me?1:0," and <= ").concat(xe),Te)}var at=/[^+/0-9A-Za-z-_]/g;function ct(Te){if(Te=Te.split("=")[0],Te=Te.trim().replace(at,""),Te.length<2)return"";for(;Te.length%4!==0;)Te=Te+"=";return Te}function dt(Te,xe){xe=xe||1/0;for(var Me,Pe=Te.length,He=null,Ke=[],qe=0;qe<Pe;++qe){if(Me=Te.charCodeAt(qe),Me>55295&&Me<57344){if(!He){if(Me>56319){(xe-=3)>-1&&Ke.push(239,191,189);continue}else if(qe+1===Pe){(xe-=3)>-1&&Ke.push(239,191,189);continue}He=Me;continue}if(Me<56320){(xe-=3)>-1&&Ke.push(239,191,189),He=Me;continue}Me=(He-55296<<10|Me-56320)+65536}else He&&(xe-=3)>-1&&Ke.push(239,191,189);if(He=null,Me<128){if((xe-=1)<0)break;Ke.push(Me)}else if(Me<2048){if((xe-=2)<0)break;Ke.push(Me>>6|192,Me&63|128)}else if(Me<65536){if((xe-=3)<0)break;Ke.push(Me>>12|224,Me>>6&63|128,Me&63|128)}else if(Me<1114112){if((xe-=4)<0)break;Ke.push(Me>>18|240,Me>>12&63|128,Me>>6&63|128,Me&63|128)}else throw new Error("Invalid code point")}return Ke}function gt(Te){for(var xe=[],Me=0;Me<Te.length;++Me)xe.push(Te.charCodeAt(Me)&255);return xe}function Et(Te,xe){for(var Me,Pe,He,Ke=[],qe=0;qe<Te.length&&!((xe-=2)<0);++qe)Me=Te.charCodeAt(qe),Pe=Me>>8,He=Me%256,Ke.push(He),Ke.push(Pe);return Ke}function Ct(Te){return y.toByteArray(ct(Te))}function Vt(Te,xe,Me,Pe){var He;for(He=0;He<Pe&&!(He+Me>=xe.length||He>=Te.length);++He)xe[He+Me]=Te[He];return He}function Je(Te,xe){return Te instanceof xe||Te!=null&&Te.constructor!=null&&Te.constructor.name!=null&&Te.constructor.name===xe.name}function _e(Te){return Te!==Te}var Fe=function(){for(var Te="0123456789abcdef",xe=new Array(256),Me=0;Me<16;++Me)for(var Pe=Me*16,He=0;He<16;++He)xe[Pe+He]=Te[Me]+Te[He];return xe}();function Be(Te){return typeof BigInt>"u"?De:Te}function De(){throw new Error("BigInt not supported")}},2321:function(h){h.exports=s,h.exports.isMobile=s,h.exports.default=s;var g=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function s(n){n||(n={});var l=n.ua;if(!l&&typeof navigator<"u"&&(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),typeof l!="string")return!1;var c=g.test(l)&&!t.test(l)||!!n.tablet&&r.test(l);return!c&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&l.indexOf("Macintosh")!==-1&&l.indexOf("Safari")!==-1&&(c=!0),c}},3910:function(h,g){g.byteLength=m,g.toByteArray=A,g.fromByteArray=y;for(var t=[],r=[],s=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=n.length;l<c;++l)t[l]=n[l],r[n.charCodeAt(l)]=l;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function f(M){var S=M.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=M.indexOf("=");R===-1&&(R=S);var x=R===S?0:4-R%4;return[R,x]}function m(M){var S=f(M),R=S[0],x=S[1];return(R+x)*3/4-x}function v(M,S,R){return(S+R)*3/4-R}function A(M){var S,R=f(M),x=R[0],E=R[1],T=new s(v(M,x,E)),i=0,D=E>0?x-4:x,b;for(b=0;b<D;b+=4)S=r[M.charCodeAt(b)]<<18|r[M.charCodeAt(b+1)]<<12|r[M.charCodeAt(b+2)]<<6|r[M.charCodeAt(b+3)],T[i++]=S>>16&255,T[i++]=S>>8&255,T[i++]=S&255;return E===2&&(S=r[M.charCodeAt(b)]<<2|r[M.charCodeAt(b+1)]>>4,T[i++]=S&255),E===1&&(S=r[M.charCodeAt(b)]<<10|r[M.charCodeAt(b+1)]<<4|r[M.charCodeAt(b+2)]>>2,T[i++]=S>>8&255,T[i++]=S&255),T}function d(M){return t[M>>18&63]+t[M>>12&63]+t[M>>6&63]+t[M&63]}function u(M,S,R){for(var x,E=[],T=S;T<R;T+=3)x=(M[T]<<16&16711680)+(M[T+1]<<8&65280)+(M[T+2]&255),E.push(d(x));return E.join("")}function y(M){for(var S,R=M.length,x=R%3,E=[],T=16383,i=0,D=R-x;i<D;i+=T)E.push(u(M,i,i+T>D?D:i+T));return x===1?(S=M[R-1],E.push(t[S>>2]+t[S<<4&63]+"==")):x===2&&(S=(M[R-2]<<8)+M[R-1],E.push(t[S>>10]+t[S>>4&63]+t[S<<2&63]+"=")),E.join("")}},3187:function(h,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(t,r,s,n,l){var c,f,m=l*8-n-1,v=(1<<m)-1,A=v>>1,d=-7,u=s?l-1:0,y=s?-1:1,M=t[r+u];for(u+=y,c=M&(1<<-d)-1,M>>=-d,d+=m;d>0;c=c*256+t[r+u],u+=y,d-=8);for(f=c&(1<<-d)-1,c>>=-d,d+=n;d>0;f=f*256+t[r+u],u+=y,d-=8);if(c===0)c=1-A;else{if(c===v)return f?NaN:(M?-1:1)*(1/0);f=f+Math.pow(2,n),c=c-A}return(M?-1:1)*f*Math.pow(2,c-n)},g.write=function(t,r,s,n,l,c){var f,m,v,A=c*8-l-1,d=(1<<A)-1,u=d>>1,y=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=n?0:c-1,S=n?1:-1,R=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(m=isNaN(r)?1:0,f=d):(f=Math.floor(Math.log(r)/Math.LN2),r*(v=Math.pow(2,-f))<1&&(f--,v*=2),f+u>=1?r+=y/v:r+=y*Math.pow(2,1-u),r*v>=2&&(f++,v/=2),f+u>=d?(m=0,f=d):f+u>=1?(m=(r*v-1)*Math.pow(2,l),f=f+u):(m=r*Math.pow(2,u-1)*Math.pow(2,l),f=0));l>=8;t[s+M]=m&255,M+=S,m/=256,l-=8);for(f=f<<l|m,A+=l;A>0;t[s+M]=f&255,M+=S,f/=256,A-=8);t[s+M-S]|=R*128}},1152:function(h,g,t){h.exports=f;var r=t(3440),s=t(7774),n=t(9298);function l(m,v){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(A){return m[A]}),this._mode=v,this._active=m[v],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=l.prototype;c.flush=function(m){for(var v=this._controllerList,A=0;A<v.length;++A)v[A].flush(m)},c.idle=function(m){for(var v=this._controllerList,A=0;A<v.length;++A)v[A].idle(m)},c.lookAt=function(m,v,A,d){for(var u=this._controllerList,y=0;y<u.length;++y)u[y].lookAt(m,v,A,d)},c.rotate=function(m,v,A,d){for(var u=this._controllerList,y=0;y<u.length;++y)u[y].rotate(m,v,A,d)},c.pan=function(m,v,A,d){for(var u=this._controllerList,y=0;y<u.length;++y)u[y].pan(m,v,A,d)},c.translate=function(m,v,A,d){for(var u=this._controllerList,y=0;y<u.length;++y)u[y].translate(m,v,A,d)},c.setMatrix=function(m,v){for(var A=this._controllerList,d=0;d<A.length;++d)A[d].setMatrix(m,v)},c.setDistanceLimits=function(m,v){for(var A=this._controllerList,d=0;d<A.length;++d)A[d].setDistanceLimits(m,v)},c.setDistance=function(m,v){for(var A=this._controllerList,d=0;d<A.length;++d)A[d].setDistance(m,v)},c.recalcMatrix=function(m){this._active.recalcMatrix(m)},c.getDistance=function(m){return this._active.getDistance(m)},c.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},c.lastT=function(){return this._active.lastT()},c.setMode=function(m){if(m!==this._mode){var v=this._controllerNames.indexOf(m);if(!(v<0)){var A=this._active,d=this._controllerList[v],u=Math.max(A.lastT(),d.lastT());A.recalcMatrix(u),d.setMatrix(u,A.computedMatrix),this._active=d,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode};function f(m){m=m||{};var v=m.eye||[0,0,1],A=m.center||[0,0,0],d=m.up||[0,1,0],u=m.distanceLimits||[0,1/0],y=m.mode||"turntable",M=r(),S=s(),R=n();return M.setDistanceLimits(u[0],u[1]),M.lookAt(0,v,A,d),S.setDistanceLimits(u[0],u[1]),S.lookAt(0,v,A,d),R.setDistanceLimits(u[0],u[1]),R.lookAt(0,v,A,d),new l({turntable:M,orbit:S,matrix:R},y)}},8126:function(h,g,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,s=t(5827),n=t(2944),l=new r;function c(f){var m=l.get(f),v=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!v||!f.isBuffer(v)){var A=s(f,new Float32Array([-1,-1,-1,4,4,-1]));m=n(f,[{buffer:A,type:f.FLOAT,size:2}]),m._triangleBuffer=A,l.set(f,m)}m.bind(),f.drawArrays(f.TRIANGLES,0,3),m.unbind()}h.exports=c},8008:function(h,g,t){var r=t(4930);h.exports=s;function s(n,l,c){l=typeof l=="number"?l:1,c=c||": ";var f=n.split(/\r?\n/),m=String(f.length+l-1).length;return f.map(function(v,A){var d=A+l,u=String(d).length,y=r(d,m-u);return y+c+v}).join(`
`)}},2153:function(h,g,t){h.exports=n;var r=t(417);function s(l,c){for(var f=new Array(c+1),m=0;m<l.length;++m)f[m]=l[m];for(var m=0;m<=l.length;++m){for(var v=l.length;v<=c;++v){for(var A=new Array(c),d=0;d<c;++d)A[d]=Math.pow(v+1-m,d);f[v]=A}var u=r.apply(void 0,f);if(u)return!0}return!1}function n(l){var c=l.length;if(c===0)return[];if(c===1)return[0];for(var f=l[0].length,m=[l[0]],v=[0],A=1;A<c;++A){if(m.push(l[A]),!s(m,f)){m.pop();continue}if(v.push(A),v.length===f+1)return v}return v}},4653:function(h,g,t){h.exports=n;var r=t(4419),s=t(1778);function n(l,c){return r(c).filter(function(f){for(var m=new Array(f.length),v=0;v<f.length;++v)m[v]=c[f[v]];return s(m)*l<1})}},2350:function(h,g,t){h.exports=n;var r=t(4653),s=t(8691);function n(l,c){return s(r(l,c))}},7896:function(h){h.exports=function(t){return atob(t)}},957:function(h,g,t){h.exports=n;var r=t(6606);function s(l){for(var c=0,f=0;f<l.length;++f)c+=l[f];return c}function n(l,c){for(var f=c.length,m=new Array(f+1),v=0;v<f;++v){for(var A=new Array(f+1),d=0;d<=f;++d)A[d]=l[d][v];m[v]=A}m[f]=new Array(f+1);for(var v=0;v<=f;++v)m[f][v]=1;for(var u=new Array(f+1),v=0;v<f;++v)u[v]=c[v];u[f]=1;var y=r(m,u),M=s(y[f+1]);M===0&&(M=1);for(var S=new Array(f+1),v=0;v<=f;++v)S[v]=s(y[v])/M;return S}},1539:function(h,g,t){var r=t(8524);h.exports=s;function s(n,l){return r(n[0].mul(l[1]).add(l[0].mul(n[1])),n[1].mul(l[1]))}},8846:function(h){h.exports=g;function g(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(h,g,t){var r=t(8524);h.exports=s;function s(n,l){return r(n[0].mul(l[1]),n[1].mul(l[0]))}},5125:function(h,g,t){var r=t(234),s=t(3218),n=t(5514),l=t(2813),c=t(8524),f=t(9189);h.exports=m;function m(v,A){if(r(v))return A?f(v,m(A)):[v[0].clone(),v[1].clone()];var d=0,u,y;if(s(v))u=v.clone();else if(typeof v=="string")u=l(v);else{if(v===0)return[n(0),n(1)];if(v===Math.floor(v))u=n(v);else{for(;v!==Math.floor(v);)v=v*Math.pow(2,256),d-=256;u=n(v)}}if(r(A))u.mul(A[1]),y=A[0].clone();else if(s(A))y=A.clone();else if(typeof A=="string")y=l(A);else if(!A)y=n(1);else if(A===Math.floor(A))y=n(A);else{for(;A!==Math.floor(A);)A=A*Math.pow(2,256),d+=256;y=n(A)}return d>0?u=u.ushln(d):d<0&&(y=y.ushln(-d)),c(u,y)}},234:function(h,g,t){var r=t(3218);h.exports=s;function s(n){return Array.isArray(n)&&n.length===2&&r(n[0])&&r(n[1])}},4275:function(h,g,t){var r=t(1928);h.exports=s;function s(n){return n.cmp(new r(0))}},9958:function(h,g,t){var r=t(4275);h.exports=s;function s(n){var l=n.length,c=n.words,f=0;if(l===1)f=c[0];else if(l===2)f=c[0]+c[1]*67108864;else for(var m=0;m<l;m++){var v=c[m];f+=v*Math.pow(67108864,m)}return r(n)*f}},1112:function(h,g,t){var r=t(8362),s=t(2288).countTrailingZeros;h.exports=n;function n(l){var c=s(r.lo(l));if(c<32)return c;var f=s(r.hi(l));return f>20?52:f+32}},3218:function(h,g,t){t(1928),h.exports=r;function r(s){return s&&typeof s=="object"&&!!s.words}},5514:function(h,g,t){var r=t(1928),s=t(8362);h.exports=n;function n(l){var c=s.exponent(l);return c<52?new r(l):new r(l*Math.pow(2,52-c)).ushln(c-52)}},8524:function(h,g,t){var r=t(5514),s=t(4275);h.exports=n;function n(l,c){var f=s(l),m=s(c);if(f===0)return[r(0),r(1)];if(m===0)return[r(0),r(0)];m<0&&(l=l.neg(),c=c.neg());var v=l.gcd(c);return v.cmpn(1)?[l.div(v),c.div(v)]:[l,c]}},2813:function(h,g,t){var r=t(1928);h.exports=s;function s(n){return new r(n)}},3962:function(h,g,t){var r=t(8524);h.exports=s;function s(n,l){return r(n[0].mul(l[0]),n[1].mul(l[1]))}},4951:function(h,g,t){var r=t(4275);h.exports=s;function s(n){return r(n[0])*r(n[1])}},4354:function(h,g,t){var r=t(8524);h.exports=s;function s(n,l){return r(n[0].mul(l[1]).sub(n[1].mul(l[0])),n[1].mul(l[1]))}},7999:function(h,g,t){var r=t(9958),s=t(1112);h.exports=n;function n(l){var c=l[0],f=l[1];if(c.cmpn(0)===0)return 0;var m=c.abs().divmod(f.abs()),v=m.div,A=r(v),d=m.mod,u=c.negative!==f.negative?-1:1;if(d.cmpn(0)===0)return u*A;if(A){var y=s(A)+4,M=r(d.ushln(y).divRound(f));return u*(A+M*Math.pow(2,-y))}else{var S=f.bitLength()-d.bitLength()+53,M=r(d.ushln(S).divRound(f));return S<1023?u*M*Math.pow(2,-S):(M*=Math.pow(2,-1023),u*M*Math.pow(2,1023-S))}}},5070:function(h){function g(c,f,m,v,A){for(var d=A+1;v<=A;){var u=v+A>>>1,y=c[u],M=m!==void 0?m(y,f):y-f;M>=0?(d=u,A=u-1):v=u+1}return d}function t(c,f,m,v,A){for(var d=A+1;v<=A;){var u=v+A>>>1,y=c[u],M=m!==void 0?m(y,f):y-f;M>0?(d=u,A=u-1):v=u+1}return d}function r(c,f,m,v,A){for(var d=v-1;v<=A;){var u=v+A>>>1,y=c[u],M=m!==void 0?m(y,f):y-f;M<0?(d=u,v=u+1):A=u-1}return d}function s(c,f,m,v,A){for(var d=v-1;v<=A;){var u=v+A>>>1,y=c[u],M=m!==void 0?m(y,f):y-f;M<=0?(d=u,v=u+1):A=u-1}return d}function n(c,f,m,v,A){for(;v<=A;){var d=v+A>>>1,u=c[d],y=m!==void 0?m(u,f):u-f;if(y===0)return d;y<=0?v=d+1:A=d-1}return-1}function l(c,f,m,v,A,d){return typeof m=="function"?d(c,f,m,v===void 0?0:v|0,A===void 0?c.length-1:A|0):d(c,f,void 0,m===void 0?0:m|0,v===void 0?c.length-1:v|0)}h.exports={ge:function(c,f,m,v,A){return l(c,f,m,v,A,g)},gt:function(c,f,m,v,A){return l(c,f,m,v,A,t)},lt:function(c,f,m,v,A){return l(c,f,m,v,A,r)},le:function(c,f,m,v,A){return l(c,f,m,v,A,s)},eq:function(c,f,m,v,A){return l(c,f,m,v,A,n)}}},2288:function(h,g){"use restrict";var t=32;g.INT_BITS=t,g.INT_MAX=2147483647,g.INT_MIN=-1<<t-1,g.sign=function(n){return(n>0)-(n<0)},g.abs=function(n){var l=n>>t-1;return(n^l)-l},g.min=function(n,l){return l^(n^l)&-(n<l)},g.max=function(n,l){return n^(n^l)&-(n<l)},g.isPow2=function(n){return!(n&n-1)&&!!n},g.log2=function(n){var l,c;return l=(n>65535)<<4,n>>>=l,c=(n>255)<<3,n>>>=c,l|=c,c=(n>15)<<2,n>>>=c,l|=c,c=(n>3)<<1,n>>>=c,l|=c,l|n>>1},g.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},g.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var l=32;return n&=-n,n&&l--,n&65535&&(l-=16),n&16711935&&(l-=8),n&252645135&&(l-=4),n&858993459&&(l-=2),n&1431655765&&(l-=1),l}g.countTrailingZeros=r,g.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},g.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},g.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var l=0;l<256;++l){var c=l,f=l,m=7;for(c>>>=1;c;c>>>=1)f<<=1,f|=c&1,--m;n[l]=f<<m&255}})(s),g.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},g.interleave2=function(n,l){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,n|l<<1},g.deinterleave2=function(n,l){return n=n>>>l&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},g.interleave3=function(n,l,c){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|=l<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,n|c<<2},g.deinterleave3=function(n,l){return n=n>>>l&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},g.nextCombination=function(n){var l=n|n-1;return l+1|(~l&-~l)-1>>>r(n)+1}},1928:function(h,g,t){h=t.nmd(h),function(r,s){function n(H,z){if(!H)throw new Error(z||"Assertion failed")}function l(H,z){H.super_=z;var G=function(){};G.prototype=z.prototype,H.prototype=new G,H.prototype.constructor=H}function c(H,z,G){if(c.isBN(H))return H;this.negative=0,this.words=null,this.length=0,this.red=null,H!==null&&((z==="le"||z==="be")&&(G=z,z=10),this._init(H||0,z||10,G||"be"))}typeof r=="object"?r.exports=c:s.BN=c,c.BN=c,c.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=t(6601).Buffer}catch{}c.isBN=function(z){return z instanceof c?!0:z!==null&&typeof z=="object"&&z.constructor.wordSize===c.wordSize&&Array.isArray(z.words)},c.max=function(z,G){return z.cmp(G)>0?z:G},c.min=function(z,G){return z.cmp(G)<0?z:G},c.prototype._init=function(z,G,Y){if(typeof z=="number")return this._initNumber(z,G,Y);if(typeof z=="object")return this._initArray(z,G,Y);G==="hex"&&(G=16),n(G===(G|0)&&G>=2&&G<=36),z=z.toString().replace(/\s+/g,"");var J=0;z[0]==="-"&&(J++,this.negative=1),J<z.length&&(G===16?this._parseHex(z,J,Y):(this._parseBase(z,G,J),Y==="le"&&this._initArray(this.toArray(),G,Y)))},c.prototype._initNumber=function(z,G,Y){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[z&67108863],this.length=1):z<4503599627370496?(this.words=[z&67108863,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[z&67108863,z/67108864&67108863,1],this.length=3),Y==="le"&&this._initArray(this.toArray(),G,Y)},c.prototype._initArray=function(z,G,Y){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var ae,oe,he=0;if(Y==="be")for(J=z.length-1,ae=0;J>=0;J-=3)oe=z[J]|z[J-1]<<8|z[J-2]<<16,this.words[ae]|=oe<<he&67108863,this.words[ae+1]=oe>>>26-he&67108863,he+=24,he>=26&&(he-=26,ae++);else if(Y==="le")for(J=0,ae=0;J<z.length;J+=3)oe=z[J]|z[J+1]<<8|z[J+2]<<16,this.words[ae]|=oe<<he&67108863,this.words[ae+1]=oe>>>26-he&67108863,he+=24,he>=26&&(he-=26,ae++);return this.strip()};function m(H,z){var G=H.charCodeAt(z);return G>=65&&G<=70?G-55:G>=97&&G<=102?G-87:G-48&15}function v(H,z,G){var Y=m(H,G);return G-1>=z&&(Y|=m(H,G-1)<<4),Y}c.prototype._parseHex=function(z,G,Y){this.length=Math.ceil((z.length-G)/6),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var ae=0,oe=0,he;if(Y==="be")for(J=z.length-1;J>=G;J-=2)he=v(z,G,J)<<ae,this.words[oe]|=he&67108863,ae>=18?(ae-=18,oe+=1,this.words[oe]|=he>>>26):ae+=8;else{var q=z.length-G;for(J=q%2===0?G+1:G;J<z.length;J+=2)he=v(z,G,J)<<ae,this.words[oe]|=he&67108863,ae>=18?(ae-=18,oe+=1,this.words[oe]|=he>>>26):ae+=8}this.strip()};function A(H,z,G,Y){for(var J=0,ae=Math.min(H.length,G),oe=z;oe<ae;oe++){var he=H.charCodeAt(oe)-48;J*=Y,he>=49?J+=he-49+10:he>=17?J+=he-17+10:J+=he}return J}c.prototype._parseBase=function(z,G,Y){this.words=[0],this.length=1;for(var J=0,ae=1;ae<=67108863;ae*=G)J++;J--,ae=ae/G|0;for(var oe=z.length-Y,he=oe%J,q=Math.min(oe,oe-he)+Y,Z=0,$=Y;$<q;$+=J)Z=A(z,$,$+J,G),this.imuln(ae),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(he!==0){var K=1;for(Z=A(z,$,z.length,G),$=0;$<he;$++)K*=G;this.imuln(K),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}this.strip()},c.prototype.copy=function(z){z.words=new Array(this.length);for(var G=0;G<this.length;G++)z.words[G]=this.words[G];z.length=this.length,z.negative=this.negative,z.red=this.red},c.prototype.clone=function(){var z=new c(null);return this.copy(z),z},c.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(z,G){z=z||10,G=G|0||1;var Y;if(z===16||z==="hex"){Y="";for(var J=0,ae=0,oe=0;oe<this.length;oe++){var he=this.words[oe],q=((he<<J|ae)&16777215).toString(16);ae=he>>>24-J&16777215,ae!==0||oe!==this.length-1?Y=d[6-q.length]+q+Y:Y=q+Y,J+=2,J>=26&&(J-=26,oe--)}for(ae!==0&&(Y=ae.toString(16)+Y);Y.length%G!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}if(z===(z|0)&&z>=2&&z<=36){var Z=u[z],$=y[z];Y="";var K=this.clone();for(K.negative=0;!K.isZero();){var re=K.modn($).toString(z);K=K.idivn($),K.isZero()?Y=re+Y:Y=d[Z-re.length]+re+Y}for(this.isZero()&&(Y="0"+Y);Y.length%G!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}n(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=this.words[1]*67108864:this.length===3&&this.words[2]===1?z+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(z,G){return n(typeof f<"u"),this.toArrayLike(f,z,G)},c.prototype.toArray=function(z,G){return this.toArrayLike(Array,z,G)},c.prototype.toArrayLike=function(z,G,Y){var J=this.byteLength(),ae=Y||Math.max(1,J);n(J<=ae,"byte array longer than desired length"),n(ae>0,"Requested array length <= 0"),this.strip();var oe=G==="le",he=new z(ae),q,Z,$=this.clone();if(oe){for(Z=0;!$.isZero();Z++)q=$.andln(255),$.iushrn(8),he[Z]=q;for(;Z<ae;Z++)he[Z]=0}else{for(Z=0;Z<ae-J;Z++)he[Z]=0;for(Z=0;!$.isZero();Z++)q=$.andln(255),$.iushrn(8),he[ae-Z-1]=q}return he},Math.clz32?c.prototype._countBits=function(z){return 32-Math.clz32(z)}:c.prototype._countBits=function(z){var G=z,Y=0;return G>=4096&&(Y+=13,G>>>=13),G>=64&&(Y+=7,G>>>=7),G>=8&&(Y+=4,G>>>=4),G>=2&&(Y+=2,G>>>=2),Y+G},c.prototype._zeroBits=function(z){if(z===0)return 26;var G=z,Y=0;return G&8191||(Y+=13,G>>>=13),G&127||(Y+=7,G>>>=7),G&15||(Y+=4,G>>>=4),G&3||(Y+=2,G>>>=2),G&1||Y++,Y},c.prototype.bitLength=function(){var z=this.words[this.length-1],G=this._countBits(z);return(this.length-1)*26+G};function M(H){for(var z=new Array(H.bitLength()),G=0;G<z.length;G++){var Y=G/26|0,J=G%26;z[G]=(H.words[Y]&1<<J)>>>J}return z}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,G=0;G<this.length;G++){var Y=this._zeroBits(this.words[G]);if(z+=Y,Y!==26)break}return z},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},c.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var G=0;G<z.length;G++)this.words[G]=this.words[G]|z.words[G];return this.strip()},c.prototype.ior=function(z){return n((this.negative|z.negative)===0),this.iuor(z)},c.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},c.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},c.prototype.iuand=function(z){var G;this.length>z.length?G=z:G=this;for(var Y=0;Y<G.length;Y++)this.words[Y]=this.words[Y]&z.words[Y];return this.length=G.length,this.strip()},c.prototype.iand=function(z){return n((this.negative|z.negative)===0),this.iuand(z)},c.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},c.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},c.prototype.iuxor=function(z){var G,Y;this.length>z.length?(G=this,Y=z):(G=z,Y=this);for(var J=0;J<Y.length;J++)this.words[J]=G.words[J]^Y.words[J];if(this!==G)for(;J<G.length;J++)this.words[J]=G.words[J];return this.length=G.length,this.strip()},c.prototype.ixor=function(z){return n((this.negative|z.negative)===0),this.iuxor(z)},c.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},c.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},c.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var G=Math.ceil(z/26)|0,Y=z%26;this._expand(G),Y>0&&G--;for(var J=0;J<G;J++)this.words[J]=~this.words[J]&67108863;return Y>0&&(this.words[J]=~this.words[J]&67108863>>26-Y),this.strip()},c.prototype.notn=function(z){return this.clone().inotn(z)},c.prototype.setn=function(z,G){n(typeof z=="number"&&z>=0);var Y=z/26|0,J=z%26;return this._expand(Y+1),G?this.words[Y]=this.words[Y]|1<<J:this.words[Y]=this.words[Y]&~(1<<J),this.strip()},c.prototype.iadd=function(z){var G;if(this.negative!==0&&z.negative===0)return this.negative=0,G=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,G=this.isub(z),z.negative=1,G._normSign();var Y,J;this.length>z.length?(Y=this,J=z):(Y=z,J=this);for(var ae=0,oe=0;oe<J.length;oe++)G=(Y.words[oe]|0)+(J.words[oe]|0)+ae,this.words[oe]=G&67108863,ae=G>>>26;for(;ae!==0&&oe<Y.length;oe++)G=(Y.words[oe]|0)+ae,this.words[oe]=G&67108863,ae=G>>>26;if(this.length=Y.length,ae!==0)this.words[this.length]=ae,this.length++;else if(Y!==this)for(;oe<Y.length;oe++)this.words[oe]=Y.words[oe];return this},c.prototype.add=function(z){var G;return z.negative!==0&&this.negative===0?(z.negative=0,G=this.sub(z),z.negative^=1,G):z.negative===0&&this.negative!==0?(this.negative=0,G=z.sub(this),this.negative=1,G):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},c.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var G=this.iadd(z);return z.negative=1,G._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var Y=this.cmp(z);if(Y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var J,ae;Y>0?(J=this,ae=z):(J=z,ae=this);for(var oe=0,he=0;he<ae.length;he++)G=(J.words[he]|0)-(ae.words[he]|0)+oe,oe=G>>26,this.words[he]=G&67108863;for(;oe!==0&&he<J.length;he++)G=(J.words[he]|0)+oe,oe=G>>26,this.words[he]=G&67108863;if(oe===0&&he<J.length&&J!==this)for(;he<J.length;he++)this.words[he]=J.words[he];return this.length=Math.max(this.length,he),J!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(z){return this.clone().isub(z)};function S(H,z,G){G.negative=z.negative^H.negative;var Y=H.length+z.length|0;G.length=Y,Y=Y-1|0;var J=H.words[0]|0,ae=z.words[0]|0,oe=J*ae,he=oe&67108863,q=oe/67108864|0;G.words[0]=he;for(var Z=1;Z<Y;Z++){for(var $=q>>>26,K=q&67108863,re=Math.min(Z,z.length-1),le=Math.max(0,Z-H.length+1);le<=re;le++){var te=Z-le|0;J=H.words[te]|0,ae=z.words[le]|0,oe=J*ae+K,$+=oe/67108864|0,K=oe&67108863}G.words[Z]=K|0,q=$|0}return q!==0?G.words[Z]=q|0:G.length--,G.strip()}var R=function(z,G,Y){var J=z.words,ae=G.words,oe=Y.words,he=0,q,Z,$,K=J[0]|0,re=K&8191,le=K>>>13,te=J[1]|0,ee=te&8191,ue=te>>>13,se=J[2]|0,ve=se&8191,be=se>>>13,Ee=J[3]|0,Ae=Ee&8191,Oe=Ee>>>13,Ue=J[4]|0,Le=Ue&8191,we=Ue>>>13,Ce=J[5]|0,Ve=Ce&8191,Ne=Ce>>>13,ke=J[6]|0,We=ke&8191,rt=ke>>>13,et=J[7]|0,tt=et&8191,at=et>>>13,ct=J[8]|0,dt=ct&8191,gt=ct>>>13,Et=J[9]|0,Ct=Et&8191,Vt=Et>>>13,Je=ae[0]|0,_e=Je&8191,Fe=Je>>>13,Be=ae[1]|0,De=Be&8191,Te=Be>>>13,xe=ae[2]|0,Me=xe&8191,Pe=xe>>>13,He=ae[3]|0,Ke=He&8191,qe=He>>>13,vt=ae[4]|0,bt=vt&8191,Wt=vt>>>13,qt=ae[5]|0,At=qt&8191,zt=qt>>>13,Kt=ae[6]|0,Sr=Kt&8191,yt=Kt>>>13,Zt=ae[7]|0,$t=Zt&8191,mr=Zt>>>13,ur=ae[8]|0,pt=ur&8191,st=ur>>>13,xt=ae[9]|0,St=xt&8191,Dt=xt>>>13;Y.negative=z.negative^G.negative,Y.length=19,q=Math.imul(re,_e),Z=Math.imul(re,Fe),Z=Z+Math.imul(le,_e)|0,$=Math.imul(le,Fe);var Rt=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,q=Math.imul(ee,_e),Z=Math.imul(ee,Fe),Z=Z+Math.imul(ue,_e)|0,$=Math.imul(ue,Fe),q=q+Math.imul(re,De)|0,Z=Z+Math.imul(re,Te)|0,Z=Z+Math.imul(le,De)|0,$=$+Math.imul(le,Te)|0;var Bt=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,q=Math.imul(ve,_e),Z=Math.imul(ve,Fe),Z=Z+Math.imul(be,_e)|0,$=Math.imul(be,Fe),q=q+Math.imul(ee,De)|0,Z=Z+Math.imul(ee,Te)|0,Z=Z+Math.imul(ue,De)|0,$=$+Math.imul(ue,Te)|0,q=q+Math.imul(re,Me)|0,Z=Z+Math.imul(re,Pe)|0,Z=Z+Math.imul(le,Me)|0,$=$+Math.imul(le,Pe)|0;var Nt=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,q=Math.imul(Ae,_e),Z=Math.imul(Ae,Fe),Z=Z+Math.imul(Oe,_e)|0,$=Math.imul(Oe,Fe),q=q+Math.imul(ve,De)|0,Z=Z+Math.imul(ve,Te)|0,Z=Z+Math.imul(be,De)|0,$=$+Math.imul(be,Te)|0,q=q+Math.imul(ee,Me)|0,Z=Z+Math.imul(ee,Pe)|0,Z=Z+Math.imul(ue,Me)|0,$=$+Math.imul(ue,Pe)|0,q=q+Math.imul(re,Ke)|0,Z=Z+Math.imul(re,qe)|0,Z=Z+Math.imul(le,Ke)|0,$=$+Math.imul(le,qe)|0;var Xt=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,q=Math.imul(Le,_e),Z=Math.imul(Le,Fe),Z=Z+Math.imul(we,_e)|0,$=Math.imul(we,Fe),q=q+Math.imul(Ae,De)|0,Z=Z+Math.imul(Ae,Te)|0,Z=Z+Math.imul(Oe,De)|0,$=$+Math.imul(Oe,Te)|0,q=q+Math.imul(ve,Me)|0,Z=Z+Math.imul(ve,Pe)|0,Z=Z+Math.imul(be,Me)|0,$=$+Math.imul(be,Pe)|0,q=q+Math.imul(ee,Ke)|0,Z=Z+Math.imul(ee,qe)|0,Z=Z+Math.imul(ue,Ke)|0,$=$+Math.imul(ue,qe)|0,q=q+Math.imul(re,bt)|0,Z=Z+Math.imul(re,Wt)|0,Z=Z+Math.imul(le,bt)|0,$=$+Math.imul(le,Wt)|0;var lr=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(lr>>>26)|0,lr&=67108863,q=Math.imul(Ve,_e),Z=Math.imul(Ve,Fe),Z=Z+Math.imul(Ne,_e)|0,$=Math.imul(Ne,Fe),q=q+Math.imul(Le,De)|0,Z=Z+Math.imul(Le,Te)|0,Z=Z+Math.imul(we,De)|0,$=$+Math.imul(we,Te)|0,q=q+Math.imul(Ae,Me)|0,Z=Z+Math.imul(Ae,Pe)|0,Z=Z+Math.imul(Oe,Me)|0,$=$+Math.imul(Oe,Pe)|0,q=q+Math.imul(ve,Ke)|0,Z=Z+Math.imul(ve,qe)|0,Z=Z+Math.imul(be,Ke)|0,$=$+Math.imul(be,qe)|0,q=q+Math.imul(ee,bt)|0,Z=Z+Math.imul(ee,Wt)|0,Z=Z+Math.imul(ue,bt)|0,$=$+Math.imul(ue,Wt)|0,q=q+Math.imul(re,At)|0,Z=Z+Math.imul(re,zt)|0,Z=Z+Math.imul(le,At)|0,$=$+Math.imul(le,zt)|0;var sr=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(sr>>>26)|0,sr&=67108863,q=Math.imul(We,_e),Z=Math.imul(We,Fe),Z=Z+Math.imul(rt,_e)|0,$=Math.imul(rt,Fe),q=q+Math.imul(Ve,De)|0,Z=Z+Math.imul(Ve,Te)|0,Z=Z+Math.imul(Ne,De)|0,$=$+Math.imul(Ne,Te)|0,q=q+Math.imul(Le,Me)|0,Z=Z+Math.imul(Le,Pe)|0,Z=Z+Math.imul(we,Me)|0,$=$+Math.imul(we,Pe)|0,q=q+Math.imul(Ae,Ke)|0,Z=Z+Math.imul(Ae,qe)|0,Z=Z+Math.imul(Oe,Ke)|0,$=$+Math.imul(Oe,qe)|0,q=q+Math.imul(ve,bt)|0,Z=Z+Math.imul(ve,Wt)|0,Z=Z+Math.imul(be,bt)|0,$=$+Math.imul(be,Wt)|0,q=q+Math.imul(ee,At)|0,Z=Z+Math.imul(ee,zt)|0,Z=Z+Math.imul(ue,At)|0,$=$+Math.imul(ue,zt)|0,q=q+Math.imul(re,Sr)|0,Z=Z+Math.imul(re,yt)|0,Z=Z+Math.imul(le,Sr)|0,$=$+Math.imul(le,yt)|0;var dr=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(dr>>>26)|0,dr&=67108863,q=Math.imul(tt,_e),Z=Math.imul(tt,Fe),Z=Z+Math.imul(at,_e)|0,$=Math.imul(at,Fe),q=q+Math.imul(We,De)|0,Z=Z+Math.imul(We,Te)|0,Z=Z+Math.imul(rt,De)|0,$=$+Math.imul(rt,Te)|0,q=q+Math.imul(Ve,Me)|0,Z=Z+Math.imul(Ve,Pe)|0,Z=Z+Math.imul(Ne,Me)|0,$=$+Math.imul(Ne,Pe)|0,q=q+Math.imul(Le,Ke)|0,Z=Z+Math.imul(Le,qe)|0,Z=Z+Math.imul(we,Ke)|0,$=$+Math.imul(we,qe)|0,q=q+Math.imul(Ae,bt)|0,Z=Z+Math.imul(Ae,Wt)|0,Z=Z+Math.imul(Oe,bt)|0,$=$+Math.imul(Oe,Wt)|0,q=q+Math.imul(ve,At)|0,Z=Z+Math.imul(ve,zt)|0,Z=Z+Math.imul(be,At)|0,$=$+Math.imul(be,zt)|0,q=q+Math.imul(ee,Sr)|0,Z=Z+Math.imul(ee,yt)|0,Z=Z+Math.imul(ue,Sr)|0,$=$+Math.imul(ue,yt)|0,q=q+Math.imul(re,$t)|0,Z=Z+Math.imul(re,mr)|0,Z=Z+Math.imul(le,$t)|0,$=$+Math.imul(le,mr)|0;var Ye=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,q=Math.imul(dt,_e),Z=Math.imul(dt,Fe),Z=Z+Math.imul(gt,_e)|0,$=Math.imul(gt,Fe),q=q+Math.imul(tt,De)|0,Z=Z+Math.imul(tt,Te)|0,Z=Z+Math.imul(at,De)|0,$=$+Math.imul(at,Te)|0,q=q+Math.imul(We,Me)|0,Z=Z+Math.imul(We,Pe)|0,Z=Z+Math.imul(rt,Me)|0,$=$+Math.imul(rt,Pe)|0,q=q+Math.imul(Ve,Ke)|0,Z=Z+Math.imul(Ve,qe)|0,Z=Z+Math.imul(Ne,Ke)|0,$=$+Math.imul(Ne,qe)|0,q=q+Math.imul(Le,bt)|0,Z=Z+Math.imul(Le,Wt)|0,Z=Z+Math.imul(we,bt)|0,$=$+Math.imul(we,Wt)|0,q=q+Math.imul(Ae,At)|0,Z=Z+Math.imul(Ae,zt)|0,Z=Z+Math.imul(Oe,At)|0,$=$+Math.imul(Oe,zt)|0,q=q+Math.imul(ve,Sr)|0,Z=Z+Math.imul(ve,yt)|0,Z=Z+Math.imul(be,Sr)|0,$=$+Math.imul(be,yt)|0,q=q+Math.imul(ee,$t)|0,Z=Z+Math.imul(ee,mr)|0,Z=Z+Math.imul(ue,$t)|0,$=$+Math.imul(ue,mr)|0,q=q+Math.imul(re,pt)|0,Z=Z+Math.imul(re,st)|0,Z=Z+Math.imul(le,pt)|0,$=$+Math.imul(le,st)|0;var je=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(je>>>26)|0,je&=67108863,q=Math.imul(Ct,_e),Z=Math.imul(Ct,Fe),Z=Z+Math.imul(Vt,_e)|0,$=Math.imul(Vt,Fe),q=q+Math.imul(dt,De)|0,Z=Z+Math.imul(dt,Te)|0,Z=Z+Math.imul(gt,De)|0,$=$+Math.imul(gt,Te)|0,q=q+Math.imul(tt,Me)|0,Z=Z+Math.imul(tt,Pe)|0,Z=Z+Math.imul(at,Me)|0,$=$+Math.imul(at,Pe)|0,q=q+Math.imul(We,Ke)|0,Z=Z+Math.imul(We,qe)|0,Z=Z+Math.imul(rt,Ke)|0,$=$+Math.imul(rt,qe)|0,q=q+Math.imul(Ve,bt)|0,Z=Z+Math.imul(Ve,Wt)|0,Z=Z+Math.imul(Ne,bt)|0,$=$+Math.imul(Ne,Wt)|0,q=q+Math.imul(Le,At)|0,Z=Z+Math.imul(Le,zt)|0,Z=Z+Math.imul(we,At)|0,$=$+Math.imul(we,zt)|0,q=q+Math.imul(Ae,Sr)|0,Z=Z+Math.imul(Ae,yt)|0,Z=Z+Math.imul(Oe,Sr)|0,$=$+Math.imul(Oe,yt)|0,q=q+Math.imul(ve,$t)|0,Z=Z+Math.imul(ve,mr)|0,Z=Z+Math.imul(be,$t)|0,$=$+Math.imul(be,mr)|0,q=q+Math.imul(ee,pt)|0,Z=Z+Math.imul(ee,st)|0,Z=Z+Math.imul(ue,pt)|0,$=$+Math.imul(ue,st)|0,q=q+Math.imul(re,St)|0,Z=Z+Math.imul(re,Dt)|0,Z=Z+Math.imul(le,St)|0,$=$+Math.imul(le,Dt)|0;var It=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(It>>>26)|0,It&=67108863,q=Math.imul(Ct,De),Z=Math.imul(Ct,Te),Z=Z+Math.imul(Vt,De)|0,$=Math.imul(Vt,Te),q=q+Math.imul(dt,Me)|0,Z=Z+Math.imul(dt,Pe)|0,Z=Z+Math.imul(gt,Me)|0,$=$+Math.imul(gt,Pe)|0,q=q+Math.imul(tt,Ke)|0,Z=Z+Math.imul(tt,qe)|0,Z=Z+Math.imul(at,Ke)|0,$=$+Math.imul(at,qe)|0,q=q+Math.imul(We,bt)|0,Z=Z+Math.imul(We,Wt)|0,Z=Z+Math.imul(rt,bt)|0,$=$+Math.imul(rt,Wt)|0,q=q+Math.imul(Ve,At)|0,Z=Z+Math.imul(Ve,zt)|0,Z=Z+Math.imul(Ne,At)|0,$=$+Math.imul(Ne,zt)|0,q=q+Math.imul(Le,Sr)|0,Z=Z+Math.imul(Le,yt)|0,Z=Z+Math.imul(we,Sr)|0,$=$+Math.imul(we,yt)|0,q=q+Math.imul(Ae,$t)|0,Z=Z+Math.imul(Ae,mr)|0,Z=Z+Math.imul(Oe,$t)|0,$=$+Math.imul(Oe,mr)|0,q=q+Math.imul(ve,pt)|0,Z=Z+Math.imul(ve,st)|0,Z=Z+Math.imul(be,pt)|0,$=$+Math.imul(be,st)|0,q=q+Math.imul(ee,St)|0,Z=Z+Math.imul(ee,Dt)|0,Z=Z+Math.imul(ue,St)|0,$=$+Math.imul(ue,Dt)|0;var kt=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(kt>>>26)|0,kt&=67108863,q=Math.imul(Ct,Me),Z=Math.imul(Ct,Pe),Z=Z+Math.imul(Vt,Me)|0,$=Math.imul(Vt,Pe),q=q+Math.imul(dt,Ke)|0,Z=Z+Math.imul(dt,qe)|0,Z=Z+Math.imul(gt,Ke)|0,$=$+Math.imul(gt,qe)|0,q=q+Math.imul(tt,bt)|0,Z=Z+Math.imul(tt,Wt)|0,Z=Z+Math.imul(at,bt)|0,$=$+Math.imul(at,Wt)|0,q=q+Math.imul(We,At)|0,Z=Z+Math.imul(We,zt)|0,Z=Z+Math.imul(rt,At)|0,$=$+Math.imul(rt,zt)|0,q=q+Math.imul(Ve,Sr)|0,Z=Z+Math.imul(Ve,yt)|0,Z=Z+Math.imul(Ne,Sr)|0,$=$+Math.imul(Ne,yt)|0,q=q+Math.imul(Le,$t)|0,Z=Z+Math.imul(Le,mr)|0,Z=Z+Math.imul(we,$t)|0,$=$+Math.imul(we,mr)|0,q=q+Math.imul(Ae,pt)|0,Z=Z+Math.imul(Ae,st)|0,Z=Z+Math.imul(Oe,pt)|0,$=$+Math.imul(Oe,st)|0,q=q+Math.imul(ve,St)|0,Z=Z+Math.imul(ve,Dt)|0,Z=Z+Math.imul(be,St)|0,$=$+Math.imul(be,Dt)|0;var jt=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(jt>>>26)|0,jt&=67108863,q=Math.imul(Ct,Ke),Z=Math.imul(Ct,qe),Z=Z+Math.imul(Vt,Ke)|0,$=Math.imul(Vt,qe),q=q+Math.imul(dt,bt)|0,Z=Z+Math.imul(dt,Wt)|0,Z=Z+Math.imul(gt,bt)|0,$=$+Math.imul(gt,Wt)|0,q=q+Math.imul(tt,At)|0,Z=Z+Math.imul(tt,zt)|0,Z=Z+Math.imul(at,At)|0,$=$+Math.imul(at,zt)|0,q=q+Math.imul(We,Sr)|0,Z=Z+Math.imul(We,yt)|0,Z=Z+Math.imul(rt,Sr)|0,$=$+Math.imul(rt,yt)|0,q=q+Math.imul(Ve,$t)|0,Z=Z+Math.imul(Ve,mr)|0,Z=Z+Math.imul(Ne,$t)|0,$=$+Math.imul(Ne,mr)|0,q=q+Math.imul(Le,pt)|0,Z=Z+Math.imul(Le,st)|0,Z=Z+Math.imul(we,pt)|0,$=$+Math.imul(we,st)|0,q=q+Math.imul(Ae,St)|0,Z=Z+Math.imul(Ae,Dt)|0,Z=Z+Math.imul(Oe,St)|0,$=$+Math.imul(Oe,Dt)|0;var tr=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(tr>>>26)|0,tr&=67108863,q=Math.imul(Ct,bt),Z=Math.imul(Ct,Wt),Z=Z+Math.imul(Vt,bt)|0,$=Math.imul(Vt,Wt),q=q+Math.imul(dt,At)|0,Z=Z+Math.imul(dt,zt)|0,Z=Z+Math.imul(gt,At)|0,$=$+Math.imul(gt,zt)|0,q=q+Math.imul(tt,Sr)|0,Z=Z+Math.imul(tt,yt)|0,Z=Z+Math.imul(at,Sr)|0,$=$+Math.imul(at,yt)|0,q=q+Math.imul(We,$t)|0,Z=Z+Math.imul(We,mr)|0,Z=Z+Math.imul(rt,$t)|0,$=$+Math.imul(rt,mr)|0,q=q+Math.imul(Ve,pt)|0,Z=Z+Math.imul(Ve,st)|0,Z=Z+Math.imul(Ne,pt)|0,$=$+Math.imul(Ne,st)|0,q=q+Math.imul(Le,St)|0,Z=Z+Math.imul(Le,Dt)|0,Z=Z+Math.imul(we,St)|0,$=$+Math.imul(we,Dt)|0;var or=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(or>>>26)|0,or&=67108863,q=Math.imul(Ct,At),Z=Math.imul(Ct,zt),Z=Z+Math.imul(Vt,At)|0,$=Math.imul(Vt,zt),q=q+Math.imul(dt,Sr)|0,Z=Z+Math.imul(dt,yt)|0,Z=Z+Math.imul(gt,Sr)|0,$=$+Math.imul(gt,yt)|0,q=q+Math.imul(tt,$t)|0,Z=Z+Math.imul(tt,mr)|0,Z=Z+Math.imul(at,$t)|0,$=$+Math.imul(at,mr)|0,q=q+Math.imul(We,pt)|0,Z=Z+Math.imul(We,st)|0,Z=Z+Math.imul(rt,pt)|0,$=$+Math.imul(rt,st)|0,q=q+Math.imul(Ve,St)|0,Z=Z+Math.imul(Ve,Dt)|0,Z=Z+Math.imul(Ne,St)|0,$=$+Math.imul(Ne,Dt)|0;var rr=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(rr>>>26)|0,rr&=67108863,q=Math.imul(Ct,Sr),Z=Math.imul(Ct,yt),Z=Z+Math.imul(Vt,Sr)|0,$=Math.imul(Vt,yt),q=q+Math.imul(dt,$t)|0,Z=Z+Math.imul(dt,mr)|0,Z=Z+Math.imul(gt,$t)|0,$=$+Math.imul(gt,mr)|0,q=q+Math.imul(tt,pt)|0,Z=Z+Math.imul(tt,st)|0,Z=Z+Math.imul(at,pt)|0,$=$+Math.imul(at,st)|0,q=q+Math.imul(We,St)|0,Z=Z+Math.imul(We,Dt)|0,Z=Z+Math.imul(rt,St)|0,$=$+Math.imul(rt,Dt)|0;var _t=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(_t>>>26)|0,_t&=67108863,q=Math.imul(Ct,$t),Z=Math.imul(Ct,mr),Z=Z+Math.imul(Vt,$t)|0,$=Math.imul(Vt,mr),q=q+Math.imul(dt,pt)|0,Z=Z+Math.imul(dt,st)|0,Z=Z+Math.imul(gt,pt)|0,$=$+Math.imul(gt,st)|0,q=q+Math.imul(tt,St)|0,Z=Z+Math.imul(tt,Dt)|0,Z=Z+Math.imul(at,St)|0,$=$+Math.imul(at,Dt)|0;var hr=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(hr>>>26)|0,hr&=67108863,q=Math.imul(Ct,pt),Z=Math.imul(Ct,st),Z=Z+Math.imul(Vt,pt)|0,$=Math.imul(Vt,st),q=q+Math.imul(dt,St)|0,Z=Z+Math.imul(dt,Dt)|0,Z=Z+Math.imul(gt,St)|0,$=$+Math.imul(gt,Dt)|0;var gr=(he+q|0)+((Z&8191)<<13)|0;he=($+(Z>>>13)|0)+(gr>>>26)|0,gr&=67108863,q=Math.imul(Ct,St),Z=Math.imul(Ct,Dt),Z=Z+Math.imul(Vt,St)|0,$=Math.imul(Vt,Dt);var pr=(he+q|0)+((Z&8191)<<13)|0;return he=($+(Z>>>13)|0)+(pr>>>26)|0,pr&=67108863,oe[0]=Rt,oe[1]=Bt,oe[2]=Nt,oe[3]=Xt,oe[4]=lr,oe[5]=sr,oe[6]=dr,oe[7]=Ye,oe[8]=je,oe[9]=It,oe[10]=kt,oe[11]=jt,oe[12]=tr,oe[13]=or,oe[14]=rr,oe[15]=_t,oe[16]=hr,oe[17]=gr,oe[18]=pr,he!==0&&(oe[19]=he,Y.length++),Y};Math.imul||(R=S);function x(H,z,G){G.negative=z.negative^H.negative,G.length=H.length+z.length;for(var Y=0,J=0,ae=0;ae<G.length-1;ae++){var oe=J;J=0;for(var he=Y&67108863,q=Math.min(ae,z.length-1),Z=Math.max(0,ae-H.length+1);Z<=q;Z++){var $=ae-Z,K=H.words[$]|0,re=z.words[Z]|0,le=K*re,te=le&67108863;oe=oe+(le/67108864|0)|0,te=te+he|0,he=te&67108863,oe=oe+(te>>>26)|0,J+=oe>>>26,oe&=67108863}G.words[ae]=he,Y=oe,oe=J}return Y!==0?G.words[ae]=Y:G.length--,G.strip()}function E(H,z,G){var Y=new T;return Y.mulp(H,z,G)}c.prototype.mulTo=function(z,G){var Y,J=this.length+z.length;return this.length===10&&z.length===10?Y=R(this,z,G):J<63?Y=S(this,z,G):J<1024?Y=x(this,z,G):Y=E(this,z,G),Y};function T(H,z){this.x=H,this.y=z}T.prototype.makeRBT=function(z){for(var G=new Array(z),Y=c.prototype._countBits(z)-1,J=0;J<z;J++)G[J]=this.revBin(J,Y,z);return G},T.prototype.revBin=function(z,G,Y){if(z===0||z===Y-1)return z;for(var J=0,ae=0;ae<G;ae++)J|=(z&1)<<G-ae-1,z>>=1;return J},T.prototype.permute=function(z,G,Y,J,ae,oe){for(var he=0;he<oe;he++)J[he]=G[z[he]],ae[he]=Y[z[he]]},T.prototype.transform=function(z,G,Y,J,ae,oe){this.permute(oe,z,G,Y,J,ae);for(var he=1;he<ae;he<<=1)for(var q=he<<1,Z=Math.cos(2*Math.PI/q),$=Math.sin(2*Math.PI/q),K=0;K<ae;K+=q)for(var re=Z,le=$,te=0;te<he;te++){var ee=Y[K+te],ue=J[K+te],se=Y[K+te+he],ve=J[K+te+he],be=re*se-le*ve;ve=re*ve+le*se,se=be,Y[K+te]=ee+se,J[K+te]=ue+ve,Y[K+te+he]=ee-se,J[K+te+he]=ue-ve,te!==q&&(be=Z*re-$*le,le=Z*le+$*re,re=be)}},T.prototype.guessLen13b=function(z,G){var Y=Math.max(G,z)|1,J=Y&1,ae=0;for(Y=Y/2|0;Y;Y=Y>>>1)ae++;return 1<<ae+1+J},T.prototype.conjugate=function(z,G,Y){if(!(Y<=1))for(var J=0;J<Y/2;J++){var ae=z[J];z[J]=z[Y-J-1],z[Y-J-1]=ae,ae=G[J],G[J]=-G[Y-J-1],G[Y-J-1]=-ae}},T.prototype.normalize13b=function(z,G){for(var Y=0,J=0;J<G/2;J++){var ae=Math.round(z[2*J+1]/G)*8192+Math.round(z[2*J]/G)+Y;z[J]=ae&67108863,ae<67108864?Y=0:Y=ae/67108864|0}return z},T.prototype.convert13b=function(z,G,Y,J){for(var ae=0,oe=0;oe<G;oe++)ae=ae+(z[oe]|0),Y[2*oe]=ae&8191,ae=ae>>>13,Y[2*oe+1]=ae&8191,ae=ae>>>13;for(oe=2*G;oe<J;++oe)Y[oe]=0;n(ae===0),n((ae&-8192)===0)},T.prototype.stub=function(z){for(var G=new Array(z),Y=0;Y<z;Y++)G[Y]=0;return G},T.prototype.mulp=function(z,G,Y){var J=2*this.guessLen13b(z.length,G.length),ae=this.makeRBT(J),oe=this.stub(J),he=new Array(J),q=new Array(J),Z=new Array(J),$=new Array(J),K=new Array(J),re=new Array(J),le=Y.words;le.length=J,this.convert13b(z.words,z.length,he,J),this.convert13b(G.words,G.length,$,J),this.transform(he,oe,q,Z,J,ae),this.transform($,oe,K,re,J,ae);for(var te=0;te<J;te++){var ee=q[te]*K[te]-Z[te]*re[te];Z[te]=q[te]*re[te]+Z[te]*K[te],q[te]=ee}return this.conjugate(q,Z,J),this.transform(q,Z,le,oe,J,ae),this.conjugate(le,oe,J),this.normalize13b(le,J),Y.negative=z.negative^G.negative,Y.length=z.length+G.length,Y.strip()},c.prototype.mul=function(z){var G=new c(null);return G.words=new Array(this.length+z.length),this.mulTo(z,G)},c.prototype.mulf=function(z){var G=new c(null);return G.words=new Array(this.length+z.length),E(this,z,G)},c.prototype.imul=function(z){return this.clone().mulTo(z,this)},c.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var G=0,Y=0;Y<this.length;Y++){var J=(this.words[Y]|0)*z,ae=(J&67108863)+(G&67108863);G>>=26,G+=J/67108864|0,G+=ae>>>26,this.words[Y]=ae&67108863}return G!==0&&(this.words[Y]=G,this.length++),this},c.prototype.muln=function(z){return this.clone().imuln(z)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(z){var G=M(z);if(G.length===0)return new c(1);for(var Y=this,J=0;J<G.length&&G[J]===0;J++,Y=Y.sqr());if(++J<G.length)for(var ae=Y.sqr();J<G.length;J++,ae=ae.sqr())G[J]!==0&&(Y=Y.mul(ae));return Y},c.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var G=z%26,Y=(z-G)/26,J=67108863>>>26-G<<26-G,ae;if(G!==0){var oe=0;for(ae=0;ae<this.length;ae++){var he=this.words[ae]&J,q=(this.words[ae]|0)-he<<G;this.words[ae]=q|oe,oe=he>>>26-G}oe&&(this.words[ae]=oe,this.length++)}if(Y!==0){for(ae=this.length-1;ae>=0;ae--)this.words[ae+Y]=this.words[ae];for(ae=0;ae<Y;ae++)this.words[ae]=0;this.length+=Y}return this.strip()},c.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},c.prototype.iushrn=function(z,G,Y){n(typeof z=="number"&&z>=0);var J;G?J=(G-G%26)/26:J=0;var ae=z%26,oe=Math.min((z-ae)/26,this.length),he=67108863^67108863>>>ae<<ae,q=Y;if(J-=oe,J=Math.max(0,J),q){for(var Z=0;Z<oe;Z++)q.words[Z]=this.words[Z];q.length=oe}if(oe!==0)if(this.length>oe)for(this.length-=oe,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+oe];else this.words[0]=0,this.length=1;var $=0;for(Z=this.length-1;Z>=0&&($!==0||Z>=J);Z--){var K=this.words[Z]|0;this.words[Z]=$<<26-ae|K>>>ae,$=K&he}return q&&$!==0&&(q.words[q.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(z,G,Y){return n(this.negative===0),this.iushrn(z,G,Y)},c.prototype.shln=function(z){return this.clone().ishln(z)},c.prototype.ushln=function(z){return this.clone().iushln(z)},c.prototype.shrn=function(z){return this.clone().ishrn(z)},c.prototype.ushrn=function(z){return this.clone().iushrn(z)},c.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var G=z%26,Y=(z-G)/26,J=1<<G;if(this.length<=Y)return!1;var ae=this.words[Y];return!!(ae&J)},c.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var G=z%26,Y=(z-G)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=Y)return this;if(G!==0&&Y++,this.length=Math.min(Y,this.length),G!==0){var J=67108863^67108863>>>G<<G;this.words[this.length-1]&=J}return this.strip()},c.prototype.maskn=function(z){return this.clone().imaskn(z)},c.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(this.words[0]|0)<z?(this.words[0]=z-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},c.prototype._iaddn=function(z){this.words[0]+=z;for(var G=0;G<this.length&&this.words[G]>=67108864;G++)this.words[G]-=67108864,G===this.length-1?this.words[G+1]=1:this.words[G+1]++;return this.length=Math.max(this.length,G+1),this},c.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var G=0;G<this.length&&this.words[G]<0;G++)this.words[G]+=67108864,this.words[G+1]-=1;return this.strip()},c.prototype.addn=function(z){return this.clone().iaddn(z)},c.prototype.subn=function(z){return this.clone().isubn(z)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(z,G,Y){var J=z.length+Y,ae;this._expand(J);var oe,he=0;for(ae=0;ae<z.length;ae++){oe=(this.words[ae+Y]|0)+he;var q=(z.words[ae]|0)*G;oe-=q&67108863,he=(oe>>26)-(q/67108864|0),this.words[ae+Y]=oe&67108863}for(;ae<this.length-Y;ae++)oe=(this.words[ae+Y]|0)+he,he=oe>>26,this.words[ae+Y]=oe&67108863;if(he===0)return this.strip();for(n(he===-1),he=0,ae=0;ae<this.length;ae++)oe=-(this.words[ae]|0)+he,he=oe>>26,this.words[ae]=oe&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(z,G){var Y=this.length-z.length,J=this.clone(),ae=z,oe=ae.words[ae.length-1]|0,he=this._countBits(oe);Y=26-he,Y!==0&&(ae=ae.ushln(Y),J.iushln(Y),oe=ae.words[ae.length-1]|0);var q=J.length-ae.length,Z;if(G!=="mod"){Z=new c(null),Z.length=q+1,Z.words=new Array(Z.length);for(var $=0;$<Z.length;$++)Z.words[$]=0}var K=J.clone()._ishlnsubmul(ae,1,q);K.negative===0&&(J=K,Z&&(Z.words[q]=1));for(var re=q-1;re>=0;re--){var le=(J.words[ae.length+re]|0)*67108864+(J.words[ae.length+re-1]|0);for(le=Math.min(le/oe|0,67108863),J._ishlnsubmul(ae,le,re);J.negative!==0;)le--,J.negative=0,J._ishlnsubmul(ae,1,re),J.isZero()||(J.negative^=1);Z&&(Z.words[re]=le)}return Z&&Z.strip(),J.strip(),G!=="div"&&Y!==0&&J.iushrn(Y),{div:Z||null,mod:J}},c.prototype.divmod=function(z,G,Y){if(n(!z.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var J,ae,oe;return this.negative!==0&&z.negative===0?(oe=this.neg().divmod(z,G),G!=="mod"&&(J=oe.div.neg()),G!=="div"&&(ae=oe.mod.neg(),Y&&ae.negative!==0&&ae.iadd(z)),{div:J,mod:ae}):this.negative===0&&z.negative!==0?(oe=this.divmod(z.neg(),G),G!=="mod"&&(J=oe.div.neg()),{div:J,mod:oe.mod}):this.negative&z.negative?(oe=this.neg().divmod(z.neg(),G),G!=="div"&&(ae=oe.mod.neg(),Y&&ae.negative!==0&&ae.isub(z)),{div:oe.div,mod:ae}):z.length>this.length||this.cmp(z)<0?{div:new c(0),mod:this}:z.length===1?G==="div"?{div:this.divn(z.words[0]),mod:null}:G==="mod"?{div:null,mod:new c(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new c(this.modn(z.words[0]))}:this._wordDiv(z,G)},c.prototype.div=function(z){return this.divmod(z,"div",!1).div},c.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},c.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},c.prototype.divRound=function(z){var G=this.divmod(z);if(G.mod.isZero())return G.div;var Y=G.div.negative!==0?G.mod.isub(z):G.mod,J=z.ushrn(1),ae=z.andln(1),oe=Y.cmp(J);return oe<0||ae===1&&oe===0?G.div:G.div.negative!==0?G.div.isubn(1):G.div.iaddn(1)},c.prototype.modn=function(z){n(z<=67108863);for(var G=(1<<26)%z,Y=0,J=this.length-1;J>=0;J--)Y=(G*Y+(this.words[J]|0))%z;return Y},c.prototype.idivn=function(z){n(z<=67108863);for(var G=0,Y=this.length-1;Y>=0;Y--){var J=(this.words[Y]|0)+G*67108864;this.words[Y]=J/z|0,G=J%z}return this.strip()},c.prototype.divn=function(z){return this.clone().idivn(z)},c.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var G=this,Y=z.clone();G.negative!==0?G=G.umod(z):G=G.clone();for(var J=new c(1),ae=new c(0),oe=new c(0),he=new c(1),q=0;G.isEven()&&Y.isEven();)G.iushrn(1),Y.iushrn(1),++q;for(var Z=Y.clone(),$=G.clone();!G.isZero();){for(var K=0,re=1;!(G.words[0]&re)&&K<26;++K,re<<=1);if(K>0)for(G.iushrn(K);K-- >0;)(J.isOdd()||ae.isOdd())&&(J.iadd(Z),ae.isub($)),J.iushrn(1),ae.iushrn(1);for(var le=0,te=1;!(Y.words[0]&te)&&le<26;++le,te<<=1);if(le>0)for(Y.iushrn(le);le-- >0;)(oe.isOdd()||he.isOdd())&&(oe.iadd(Z),he.isub($)),oe.iushrn(1),he.iushrn(1);G.cmp(Y)>=0?(G.isub(Y),J.isub(oe),ae.isub(he)):(Y.isub(G),oe.isub(J),he.isub(ae))}return{a:oe,b:he,gcd:Y.iushln(q)}},c.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var G=this,Y=z.clone();G.negative!==0?G=G.umod(z):G=G.clone();for(var J=new c(1),ae=new c(0),oe=Y.clone();G.cmpn(1)>0&&Y.cmpn(1)>0;){for(var he=0,q=1;!(G.words[0]&q)&&he<26;++he,q<<=1);if(he>0)for(G.iushrn(he);he-- >0;)J.isOdd()&&J.iadd(oe),J.iushrn(1);for(var Z=0,$=1;!(Y.words[0]&$)&&Z<26;++Z,$<<=1);if(Z>0)for(Y.iushrn(Z);Z-- >0;)ae.isOdd()&&ae.iadd(oe),ae.iushrn(1);G.cmp(Y)>=0?(G.isub(Y),J.isub(ae)):(Y.isub(G),ae.isub(J))}var K;return G.cmpn(1)===0?K=J:K=ae,K.cmpn(0)<0&&K.iadd(z),K},c.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var G=this.clone(),Y=z.clone();G.negative=0,Y.negative=0;for(var J=0;G.isEven()&&Y.isEven();J++)G.iushrn(1),Y.iushrn(1);do{for(;G.isEven();)G.iushrn(1);for(;Y.isEven();)Y.iushrn(1);var ae=G.cmp(Y);if(ae<0){var oe=G;G=Y,Y=oe}else if(ae===0||Y.cmpn(1)===0)break;G.isub(Y)}while(!0);return Y.iushln(J)},c.prototype.invm=function(z){return this.egcd(z).a.umod(z)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(z){return this.words[0]&z},c.prototype.bincn=function(z){n(typeof z=="number");var G=z%26,Y=(z-G)/26,J=1<<G;if(this.length<=Y)return this._expand(Y+1),this.words[Y]|=J,this;for(var ae=J,oe=Y;ae!==0&&oe<this.length;oe++){var he=this.words[oe]|0;he+=ae,ae=he>>>26,he&=67108863,this.words[oe]=he}return ae!==0&&(this.words[oe]=ae,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(z){var G=z<0;if(this.negative!==0&&!G)return-1;if(this.negative===0&&G)return 1;this.strip();var Y;if(this.length>1)Y=1;else{G&&(z=-z),n(z<=67108863,"Number is too big");var J=this.words[0]|0;Y=J===z?0:J<z?-1:1}return this.negative!==0?-Y|0:Y},c.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var G=this.ucmp(z);return this.negative!==0?-G|0:G},c.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var G=0,Y=this.length-1;Y>=0;Y--){var J=this.words[Y]|0,ae=z.words[Y]|0;if(J!==ae){J<ae?G=-1:J>ae&&(G=1);break}}return G},c.prototype.gtn=function(z){return this.cmpn(z)===1},c.prototype.gt=function(z){return this.cmp(z)===1},c.prototype.gten=function(z){return this.cmpn(z)>=0},c.prototype.gte=function(z){return this.cmp(z)>=0},c.prototype.ltn=function(z){return this.cmpn(z)===-1},c.prototype.lt=function(z){return this.cmp(z)===-1},c.prototype.lten=function(z){return this.cmpn(z)<=0},c.prototype.lte=function(z){return this.cmp(z)<=0},c.prototype.eqn=function(z){return this.cmpn(z)===0},c.prototype.eq=function(z){return this.cmp(z)===0},c.red=function(z){return new _(z)},c.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},c.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(z){return this.red=z,this},c.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},c.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},c.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},c.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},c.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},c.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},c.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},c.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},c.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var i={k256:null,p224:null,p192:null,p25519:null};function D(H,z){this.name=H,this.p=new c(z,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var z=new c(null);return z.words=new Array(Math.ceil(this.n/13)),z},D.prototype.ireduce=function(z){var G=z,Y;do this.split(G,this.tmp),G=this.imulK(G),G=G.iadd(this.tmp),Y=G.bitLength();while(Y>this.n);var J=Y<this.n?-1:G.ucmp(this.p);return J===0?(G.words[0]=0,G.length=1):J>0?G.isub(this.p):G.strip!==void 0?G.strip():G._strip(),G},D.prototype.split=function(z,G){z.iushrn(this.n,0,G)},D.prototype.imulK=function(z){return z.imul(this.k)};function b(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(b,D),b.prototype.split=function(z,G){for(var Y=4194303,J=Math.min(z.length,9),ae=0;ae<J;ae++)G.words[ae]=z.words[ae];if(G.length=J,z.length<=9){z.words[0]=0,z.length=1;return}var oe=z.words[9];for(G.words[G.length++]=oe&Y,ae=10;ae<z.length;ae++){var he=z.words[ae]|0;z.words[ae-10]=(he&Y)<<4|oe>>>22,oe=he}oe>>>=22,z.words[ae-10]=oe,oe===0&&z.length>10?z.length-=10:z.length-=9},b.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var G=0,Y=0;Y<z.length;Y++){var J=z.words[Y]|0;G+=J*977,z.words[Y]=G&67108863,G=J*64+(G/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z};function O(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(O,D);function F(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(F,D);function V(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(V,D),V.prototype.imulK=function(z){for(var G=0,Y=0;Y<z.length;Y++){var J=(z.words[Y]|0)*19+G,ae=J&67108863;J>>>=26,z.words[Y]=ae,G=J}return G!==0&&(z.words[z.length++]=G),z},c._prime=function(z){if(i[z])return i[z];var G;if(z==="k256")G=new b;else if(z==="p224")G=new O;else if(z==="p192")G=new F;else if(z==="p25519")G=new V;else throw new Error("Unknown prime "+z);return i[z]=G,G};function _(H){if(typeof H=="string"){var z=c._prime(H);this.m=z.p,this.prime=z}else n(H.gtn(1),"modulus must be greater than 1"),this.m=H,this.prime=null}_.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},_.prototype._verify2=function(z,G){n((z.negative|G.negative)===0,"red works only with positives"),n(z.red&&z.red===G.red,"red works only with red numbers")},_.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},_.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},_.prototype.add=function(z,G){this._verify2(z,G);var Y=z.add(G);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y._forceRed(this)},_.prototype.iadd=function(z,G){this._verify2(z,G);var Y=z.iadd(G);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y},_.prototype.sub=function(z,G){this._verify2(z,G);var Y=z.sub(G);return Y.cmpn(0)<0&&Y.iadd(this.m),Y._forceRed(this)},_.prototype.isub=function(z,G){this._verify2(z,G);var Y=z.isub(G);return Y.cmpn(0)<0&&Y.iadd(this.m),Y},_.prototype.shl=function(z,G){return this._verify1(z),this.imod(z.ushln(G))},_.prototype.imul=function(z,G){return this._verify2(z,G),this.imod(z.imul(G))},_.prototype.mul=function(z,G){return this._verify2(z,G),this.imod(z.mul(G))},_.prototype.isqr=function(z){return this.imul(z,z.clone())},_.prototype.sqr=function(z){return this.mul(z,z)},_.prototype.sqrt=function(z){if(z.isZero())return z.clone();var G=this.m.andln(3);if(n(G%2===1),G===3){var Y=this.m.add(new c(1)).iushrn(2);return this.pow(z,Y)}for(var J=this.m.subn(1),ae=0;!J.isZero()&&J.andln(1)===0;)ae++,J.iushrn(1);n(!J.isZero());var oe=new c(1).toRed(this),he=oe.redNeg(),q=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new c(2*Z*Z).toRed(this);this.pow(Z,q).cmp(he)!==0;)Z.redIAdd(he);for(var $=this.pow(Z,J),K=this.pow(z,J.addn(1).iushrn(1)),re=this.pow(z,J),le=ae;re.cmp(oe)!==0;){for(var te=re,ee=0;te.cmp(oe)!==0;ee++)te=te.redSqr();n(ee<le);var ue=this.pow($,new c(1).iushln(le-ee-1));K=K.redMul(ue),$=ue.redSqr(),re=re.redMul($),le=ee}return K},_.prototype.invm=function(z){var G=z._invmp(this.m);return G.negative!==0?(G.negative=0,this.imod(G).redNeg()):this.imod(G)},_.prototype.pow=function(z,G){if(G.isZero())return new c(1).toRed(this);if(G.cmpn(1)===0)return z.clone();var Y=4,J=new Array(1<<Y);J[0]=new c(1).toRed(this),J[1]=z;for(var ae=2;ae<J.length;ae++)J[ae]=this.mul(J[ae-1],z);var oe=J[0],he=0,q=0,Z=G.bitLength()%26;for(Z===0&&(Z=26),ae=G.length-1;ae>=0;ae--){for(var $=G.words[ae],K=Z-1;K>=0;K--){var re=$>>K&1;if(oe!==J[0]&&(oe=this.sqr(oe)),re===0&&he===0){q=0;continue}he<<=1,he|=re,q++,!(q!==Y&&(ae!==0||K!==0))&&(oe=this.mul(oe,J[he]),q=0,he=0)}Z=26}return oe},_.prototype.convertTo=function(z){var G=z.umod(this.m);return G===z?G.clone():G},_.prototype.convertFrom=function(z){var G=z.clone();return G.red=null,G},c.mont=function(z){return new U(z)};function U(H){_.call(this,H),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(U,_),U.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},U.prototype.convertFrom=function(z){var G=this.imod(z.mul(this.rinv));return G.red=null,G},U.prototype.imul=function(z,G){if(z.isZero()||G.isZero())return z.words[0]=0,z.length=1,z;var Y=z.imul(G),J=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ae=Y.isub(J).iushrn(this.shift),oe=ae;return ae.cmp(this.m)>=0?oe=ae.isub(this.m):ae.cmpn(0)<0&&(oe=ae.iadd(this.m)),oe._forceRed(this)},U.prototype.mul=function(z,G){if(z.isZero()||G.isZero())return new c(0)._forceRed(this);var Y=z.mul(G),J=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ae=Y.isub(J).iushrn(this.shift),oe=ae;return ae.cmp(this.m)>=0?oe=ae.isub(this.m):ae.cmpn(0)<0&&(oe=ae.iadd(this.m)),oe._forceRed(this)},U.prototype.invm=function(z){var G=this.imod(z._invmp(this.m).mul(this.r2));return G._forceRed(this)}}(h,this)},2692:function(h){h.exports=g;function g(t){var r,s,n,l=t.length,c=0;for(r=0;r<l;++r)c+=t[r].length;var f=new Array(c),m=0;for(r=0;r<l;++r){var v=t[r],A=v.length;for(s=0;s<A;++s){var d=f[m++]=new Array(A-1),u=0;for(n=0;n<A;++n)n!==s&&(d[u++]=v[n]);if(s&1){var y=d[1];d[1]=d[0],d[0]=y}}}return f}},2569:function(h,g,t){h.exports=u;var r=t(5306),s=t(1390),n=t(2337);function l(y,M){for(var S=0;S<y;++S)if(!(M[S]<=M[S+y]))return!0;return!1}function c(y,M,S,R){for(var x=0,E=0,T=0,i=y.length;T<i;++T){var D=y[T];if(!l(M,D)){for(var b=0;b<2*M;++b)S[x++]=D[b];R[E++]=T}}return E}function f(y,M,S,R){var x=y.length,E=M.length;if(!(x<=0||E<=0)){var T=y[0].length>>>1;if(!(T<=0)){var i,D=r.mallocDouble(2*T*x),b=r.mallocInt32(x);if(x=c(y,T,D,b),x>0){if(T===1&&R)s.init(x),i=s.sweepComplete(T,S,0,x,D,b,0,x,D,b);else{var O=r.mallocDouble(2*T*E),F=r.mallocInt32(E);E=c(M,T,O,F),E>0&&(s.init(x+E),T===1?i=s.sweepBipartite(T,S,0,x,D,b,0,E,O,F):i=n(T,S,R,x,D,b,E,O,F),r.free(O),r.free(F))}r.free(D),r.free(b)}return i}}}var m;function v(y,M){m.push([y,M])}function A(y){return m=[],f(y,y,v,!0),m}function d(y,M){return m=[],f(y,M,v,!1),m}function u(y,M,S){switch(arguments.length){case 1:return A(y);case 2:return typeof M=="function"?f(y,y,M,!0):d(y,M);case 3:return f(y,M,S,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(h,g){function t(){function n(f,m,v,A,d,u,y,M,S,R,x){for(var E=2*f,T=A,i=E*A;T<d;++T,i+=E){var D=u[m+i],b=u[m+i+f],O=y[T];e:for(var F=M,V=E*M;F<S;++F,V+=E){var _=R[m+V],U=R[m+V+f],H=x[F];if(!(U<D||b<_)){for(var z=m+1;z<f;++z){var G=u[z+i],Y=u[z+f+i],J=R[z+V],ae=R[z+f+V];if(Y<J||ae<G)continue e}var oe=v(O,H);if(oe!==void 0)return oe}}}}function l(f,m,v,A,d,u,y,M,S,R,x){for(var E=2*f,T=M,i=E*M;T<S;++T,i+=E){var D=R[m+i],b=R[m+i+f],O=x[T];e:for(var F=A,V=E*A;F<d;++F,V+=E){var _=u[m+V],U=u[m+V+f],H=y[F];if(!(b<_||U<D)){for(var z=m+1;z<f;++z){var G=u[z+V],Y=u[z+f+V],J=R[z+i],ae=R[z+f+i];if(Y<J||ae<G)continue e}var oe=v(H,O);if(oe!==void 0)return oe}}}}function c(f,m,v,A,d,u,y,M,S,R,x){return d-A>S-M?n(f,m,v,A,d,u,y,M,S,R,x):l(f,m,v,A,d,u,y,M,S,R,x)}return c}function r(){function n(v,A,d,u,y,M,S,R,x,E,T){for(var i=2*v,D=u,b=i*u;D<y;++D,b+=i){var O=M[A+b],F=M[A+b+v],V=S[D];e:for(var _=R,U=i*R;_<x;++_,U+=i){var H=E[A+U],z=T[_];if(!(H<=O||F<H)){for(var G=A+1;G<v;++G){var Y=M[G+b],J=M[G+v+b],ae=E[G+U],oe=E[G+v+U];if(J<ae||oe<Y)continue e}var he=d(z,V);if(he!==void 0)return he}}}}function l(v,A,d,u,y,M,S,R,x,E,T){for(var i=2*v,D=u,b=i*u;D<y;++D,b+=i){var O=M[A+b],F=M[A+b+v],V=S[D];e:for(var _=R,U=i*R;_<x;++_,U+=i){var H=E[A+U],z=T[_];if(!(H<O||F<H)){for(var G=A+1;G<v;++G){var Y=M[G+b],J=M[G+v+b],ae=E[G+U],oe=E[G+v+U];if(J<ae||oe<Y)continue e}var he=d(V,z);if(he!==void 0)return he}}}}function c(v,A,d,u,y,M,S,R,x,E,T){for(var i=2*v,D=R,b=i*R;D<x;++D,b+=i){var O=E[A+b],F=T[D];e:for(var V=u,_=i*u;V<y;++V,_+=i){var U=M[A+_],H=M[A+_+v],z=S[V];if(!(O<=U||H<O)){for(var G=A+1;G<v;++G){var Y=M[G+_],J=M[G+v+_],ae=E[G+b],oe=E[G+v+b];if(J<ae||oe<Y)continue e}var he=d(F,z);if(he!==void 0)return he}}}}function f(v,A,d,u,y,M,S,R,x,E,T){for(var i=2*v,D=R,b=i*R;D<x;++D,b+=i){var O=E[A+b],F=T[D];e:for(var V=u,_=i*u;V<y;++V,_+=i){var U=M[A+_],H=M[A+_+v],z=S[V];if(!(O<U||H<O)){for(var G=A+1;G<v;++G){var Y=M[G+_],J=M[G+v+_],ae=E[G+b],oe=E[G+v+b];if(J<ae||oe<Y)continue e}var he=d(z,F);if(he!==void 0)return he}}}}function m(v,A,d,u,y,M,S,R,x,E,T,i){return M-y>E-x?u?n(v,A,d,y,M,S,R,x,E,T,i):l(v,A,d,y,M,S,R,x,E,T,i):u?c(v,A,d,y,M,S,R,x,E,T,i):f(v,A,d,y,M,S,R,x,E,T,i)}return m}function s(n){return n?t():r()}g.partial=s(!1),g.full=s(!0)},2337:function(h,g,t){h.exports=H;var r=t(5306),s=t(2288),n=t(7333),l=n.partial,c=n.full,f=t(1390),m=t(2464),v=t(122),A=128,d=1<<22,u=1<<22,y=v("!(lo>=p0)&&!(p1>=hi)"),M=v("lo===p0"),S=v("lo<p0"),R=v("hi<=p0"),x=v("lo<=p0&&p0<=hi"),E=v("lo<p0&&p0<=hi"),T=6,i=2,D=1024,b=r.mallocInt32(D),O=r.mallocDouble(D);function F(z,G){var Y=8*s.log2(G+1)*(z+1)|0,J=s.nextPow2(T*Y);b.length<J&&(r.free(b),b=r.mallocInt32(J));var ae=s.nextPow2(i*Y);O.length<ae&&(r.free(O),O=r.mallocDouble(ae))}function V(z,G,Y,J,ae,oe,he,q,Z){var $=T*z;b[$]=G,b[$+1]=Y,b[$+2]=J,b[$+3]=ae,b[$+4]=oe,b[$+5]=he;var K=i*z;O[K]=q,O[K+1]=Z}function _(z,G,Y,J,ae,oe,he,q,Z,$,K){var re=2*z,le=Z*re,te=$[le+G];e:for(var ee=ae,ue=ae*re;ee<oe;++ee,ue+=re){var se=he[ue+G],ve=he[ue+G+z];if(!(te<se||ve<te)&&!(J&&te===se)){for(var be=q[ee],Ee=G+1;Ee<z;++Ee){var se=he[ue+Ee],ve=he[ue+Ee+z],Ae=$[le+Ee],Oe=$[le+Ee+z];if(ve<Ae||Oe<se)continue e}var Ue;if(J?Ue=Y(K,be):Ue=Y(be,K),Ue!==void 0)return Ue}}}function U(z,G,Y,J,ae,oe,he,q,Z,$){var K=2*z,re=q*K,le=Z[re+G];e:for(var te=J,ee=J*K;te<ae;++te,ee+=K){var ue=he[te];if(ue!==$){var se=oe[ee+G],ve=oe[ee+G+z];if(!(le<se||ve<le)){for(var be=G+1;be<z;++be){var se=oe[ee+be],ve=oe[ee+be+z],Ee=Z[re+be],Ae=Z[re+be+z];if(ve<Ee||Ae<se)continue e}var Oe=Y(ue,$);if(Oe!==void 0)return Oe}}}}function H(z,G,Y,J,ae,oe,he,q,Z){F(z,J+he);var $=0,K=2*z,re;for(V($++,0,0,J,0,he,Y?16:0,-1/0,1/0),Y||V($++,0,0,he,0,J,1,-1/0,1/0);$>0;){$-=1;var le=$*T,te=b[le],ee=b[le+1],ue=b[le+2],se=b[le+3],ve=b[le+4],be=b[le+5],Ee=$*i,Ae=O[Ee],Oe=O[Ee+1],Ue=be&1,Le=!!(be&16),we=ae,Ce=oe,Ve=q,Ne=Z;if(Ue&&(we=q,Ce=Z,Ve=ae,Ne=oe),!(be&2&&(ue=S(z,te,ee,ue,we,Ce,Oe),ee>=ue))&&!(be&4&&(ee=R(z,te,ee,ue,we,Ce,Ae),ee>=ue))){var ke=ue-ee,We=ve-se;if(Le){if(z*ke*(ke+We)<u){if(re=f.scanComplete(z,te,G,ee,ue,we,Ce,se,ve,Ve,Ne),re!==void 0)return re;continue}}else if(z*Math.min(ke,We)<A){if(re=l(z,te,G,Ue,ee,ue,we,Ce,se,ve,Ve,Ne),re!==void 0)return re;continue}else if(z*ke*We<d){if(re=f.scanBipartite(z,te,G,Ue,ee,ue,we,Ce,se,ve,Ve,Ne),re!==void 0)return re;continue}var rt=y(z,te,ee,ue,we,Ce,Ae,Oe);if(ee<rt)if(z*(rt-ee)<A){if(re=c(z,te+1,G,ee,rt,we,Ce,se,ve,Ve,Ne),re!==void 0)return re}else if(te===z-2){if(Ue?re=f.sweepBipartite(z,G,se,ve,Ve,Ne,ee,rt,we,Ce):re=f.sweepBipartite(z,G,ee,rt,we,Ce,se,ve,Ve,Ne),re!==void 0)return re}else V($++,te+1,ee,rt,se,ve,Ue,-1/0,1/0),V($++,te+1,se,ve,ee,rt,Ue^1,-1/0,1/0);if(rt<ue){var et=m(z,te,se,ve,Ve,Ne),tt=Ve[K*et+te],at=M(z,te,et,ve,Ve,Ne,tt);if(at<ve&&V($++,te,rt,ue,at,ve,(Ue|4)+(Le?16:0),tt,Oe),se<et&&V($++,te,rt,ue,se,et,(Ue|2)+(Le?16:0),Ae,tt),et+1===at){if(Le?re=U(z,te,G,rt,ue,we,Ce,et,Ve,Ne[et]):re=_(z,te,G,Ue,rt,ue,we,Ce,et,Ve,Ne[et]),re!==void 0)return re}else if(et<at){var ct;if(Le){if(ct=x(z,te,rt,ue,we,Ce,tt),rt<ct){var dt=M(z,te,rt,ct,we,Ce,tt);if(te===z-2){if(rt<dt&&(re=f.sweepComplete(z,G,rt,dt,we,Ce,et,at,Ve,Ne),re!==void 0)||dt<ct&&(re=f.sweepBipartite(z,G,dt,ct,we,Ce,et,at,Ve,Ne),re!==void 0))return re}else rt<dt&&V($++,te+1,rt,dt,et,at,16,-1/0,1/0),dt<ct&&(V($++,te+1,dt,ct,et,at,0,-1/0,1/0),V($++,te+1,et,at,dt,ct,1,-1/0,1/0))}}else Ue?ct=E(z,te,rt,ue,we,Ce,tt):ct=x(z,te,rt,ue,we,Ce,tt),rt<ct&&(te===z-2?Ue?re=f.sweepBipartite(z,G,et,at,Ve,Ne,rt,ct,we,Ce):re=f.sweepBipartite(z,G,rt,ct,we,Ce,et,at,Ve,Ne):(V($++,te+1,rt,ct,et,at,Ue,-1/0,1/0),V($++,te+1,et,at,rt,ct,Ue^1,-1/0,1/0)))}}}}}},2464:function(h,g,t){h.exports=c;var r=t(122),s=r("lo<p0"),n=8;function l(f,m,v,A,d,u){for(var y=2*f,M=y*(v+1)+m,S=v+1;S<A;++S,M+=y)for(var R=d[M],x=S,E=y*(S-1);x>v&&d[E+m]>R;--x,E-=y){for(var T=E,i=E+y,D=0;D<y;++D,++T,++i){var b=d[T];d[T]=d[i],d[i]=b}var O=u[x];u[x]=u[x-1],u[x-1]=O}}function c(f,m,v,A,d,u){if(A<=v+1)return v;for(var y=v,M=A,S=A+v>>>1,R=2*f,x=S,E=d[R*S+m];y<M;){if(M-y<n){l(f,m,y,M,d,u),E=d[R*S+m];break}var T=M-y,i=Math.random()*T+y|0,D=d[R*i+m],b=Math.random()*T+y|0,O=d[R*b+m],F=Math.random()*T+y|0,V=d[R*F+m];D<=O?V>=O?(x=b,E=O):D>=V?(x=i,E=D):(x=F,E=V):O>=V?(x=b,E=O):V>=D?(x=i,E=D):(x=F,E=V);for(var H=R*(M-1),z=R*x,_=0;_<R;++_,++H,++z){var U=d[H];d[H]=d[z],d[z]=U}var G=u[M-1];u[M-1]=u[x],u[x]=G,x=s(f,m,y,M-1,d,u,E);for(var H=R*(M-1),z=R*x,_=0;_<R;++_,++H,++z){var U=d[H];d[H]=d[z],d[z]=U}var G=u[M-1];if(u[M-1]=u[x],u[x]=G,S<x){for(M=x-1;y<M&&d[R*(M-1)+m]===E;)M-=1;M+=1}else if(x<S)for(y=x+1;y<M&&d[R*y+m]===E;)y+=1;else break}return s(f,m,v,S,d,u,d[R*S+m])}},122:function(h){h.exports=t;var g={"lo===p0":r,"lo<p0":s,"lo<=p0":n,"hi<=p0":l,"lo<p0&&p0<=hi":f,"lo<=p0&&p0<=hi":c,"!(lo>=p0)&&!(p1>=hi)":m};function t(v){return g[v]}function r(v,A,d,u,y,M,S){for(var R=2*v,x=R*d,E=x,T=d,i=A,D=v+A,b=d;u>b;++b,x+=R){var O=y[x+i];if(O===S)if(T===b)T+=1,E+=R;else{for(var F=0;R>F;++F){var V=y[x+F];y[x+F]=y[E],y[E++]=V}var _=M[b];M[b]=M[T],M[T++]=_}}return T}function s(v,A,d,u,y,M,S){for(var R=2*v,x=R*d,E=x,T=d,i=A,D=v+A,b=d;u>b;++b,x+=R){var O=y[x+i];if(O<S)if(T===b)T+=1,E+=R;else{for(var F=0;R>F;++F){var V=y[x+F];y[x+F]=y[E],y[E++]=V}var _=M[b];M[b]=M[T],M[T++]=_}}return T}function n(v,A,d,u,y,M,S){for(var R=2*v,x=R*d,E=x,T=d,i=A,D=v+A,b=d;u>b;++b,x+=R){var O=y[x+D];if(O<=S)if(T===b)T+=1,E+=R;else{for(var F=0;R>F;++F){var V=y[x+F];y[x+F]=y[E],y[E++]=V}var _=M[b];M[b]=M[T],M[T++]=_}}return T}function l(v,A,d,u,y,M,S){for(var R=2*v,x=R*d,E=x,T=d,i=A,D=v+A,b=d;u>b;++b,x+=R){var O=y[x+D];if(O<=S)if(T===b)T+=1,E+=R;else{for(var F=0;R>F;++F){var V=y[x+F];y[x+F]=y[E],y[E++]=V}var _=M[b];M[b]=M[T],M[T++]=_}}return T}function c(v,A,d,u,y,M,S){for(var R=2*v,x=R*d,E=x,T=d,i=A,D=v+A,b=d;u>b;++b,x+=R){var O=y[x+i],F=y[x+D];if(O<=S&&S<=F)if(T===b)T+=1,E+=R;else{for(var V=0;R>V;++V){var _=y[x+V];y[x+V]=y[E],y[E++]=_}var U=M[b];M[b]=M[T],M[T++]=U}}return T}function f(v,A,d,u,y,M,S){for(var R=2*v,x=R*d,E=x,T=d,i=A,D=v+A,b=d;u>b;++b,x+=R){var O=y[x+i],F=y[x+D];if(O<S&&S<=F)if(T===b)T+=1,E+=R;else{for(var V=0;R>V;++V){var _=y[x+V];y[x+V]=y[E],y[E++]=_}var U=M[b];M[b]=M[T],M[T++]=U}}return T}function m(v,A,d,u,y,M,S,R){for(var x=2*v,E=x*d,T=E,i=d,D=A,b=v+A,O=d;u>O;++O,E+=x){var F=y[E+D],V=y[E+b];if(!(F>=S)&&!(R>=V))if(i===O)i+=1,T+=x;else{for(var _=0;x>_;++_){var U=y[E+_];y[E+_]=y[T],y[T++]=U}var H=M[O];M[O]=M[i],M[i++]=H}}return i}},309:function(h){h.exports=t;var g=32;function t(A,d){d<=4*g?r(0,d-1,A):v(0,d-1,A)}function r(A,d,u){for(var y=2*(A+1),M=A+1;M<=d;++M){for(var S=u[y++],R=u[y++],x=M,E=y-2;x-- >A;){var T=u[E-2],i=u[E-1];if(T<S)break;if(T===S&&i<R)break;u[E]=T,u[E+1]=i,E-=2}u[E]=S,u[E+1]=R}}function s(A,d,u){A*=2,d*=2;var y=u[A],M=u[A+1];u[A]=u[d],u[A+1]=u[d+1],u[d]=y,u[d+1]=M}function n(A,d,u){A*=2,d*=2,u[A]=u[d],u[A+1]=u[d+1]}function l(A,d,u,y){A*=2,d*=2,u*=2;var M=y[A],S=y[A+1];y[A]=y[d],y[A+1]=y[d+1],y[d]=y[u],y[d+1]=y[u+1],y[u]=M,y[u+1]=S}function c(A,d,u,y,M){A*=2,d*=2,M[A]=M[d],M[d]=u,M[A+1]=M[d+1],M[d+1]=y}function f(A,d,u){A*=2,d*=2;var y=u[A],M=u[d];return y<M?!1:y===M?u[A+1]>u[d+1]:!0}function m(A,d,u,y){A*=2;var M=y[A];return M<d?!0:M===d?y[A+1]<u:!1}function v(A,d,u){var y=(d-A+1)/6|0,M=A+y,S=d-y,R=A+d>>1,x=R-y,E=R+y,T=M,i=x,D=R,b=E,O=S,F=A+1,V=d-1,_=0;f(T,i,u)&&(_=T,T=i,i=_),f(b,O,u)&&(_=b,b=O,O=_),f(T,D,u)&&(_=T,T=D,D=_),f(i,D,u)&&(_=i,i=D,D=_),f(T,b,u)&&(_=T,T=b,b=_),f(D,b,u)&&(_=D,D=b,b=_),f(i,O,u)&&(_=i,i=O,O=_),f(i,D,u)&&(_=i,i=D,D=_),f(b,O,u)&&(_=b,b=O,O=_);for(var U=u[2*i],H=u[2*i+1],z=u[2*b],G=u[2*b+1],Y=2*T,J=2*D,ae=2*O,oe=2*M,he=2*R,q=2*S,Z=0;Z<2;++Z){var $=u[Y+Z],K=u[J+Z],re=u[ae+Z];u[oe+Z]=$,u[he+Z]=K,u[q+Z]=re}n(x,A,u),n(E,d,u);for(var le=F;le<=V;++le)if(m(le,U,H,u))le!==F&&s(le,F,u),++F;else if(!m(le,z,G,u))for(;;)if(m(V,z,G,u)){m(V,U,H,u)?(l(le,F,V,u),++F,--V):(s(le,V,u),--V);break}else{if(--V<le)break;continue}c(A,F-1,U,H,u),c(d,V+1,z,G,u),F-2-A<=g?r(A,F-2,u):v(A,F-2,u),d-(V+2)<=g?r(V+2,d,u):v(V+2,d,u),V-F<=g?r(F,V,u):v(F,V,u)}},1390:function(h,g,t){h.exports={init:M,sweepBipartite:x,sweepComplete:E,scanBipartite:T,scanComplete:i};var r=t(5306),s=t(2288),n=t(309),l=1<<28,c=1024,f=r.mallocInt32(c),m=r.mallocInt32(c),v=r.mallocInt32(c),A=r.mallocInt32(c),d=r.mallocInt32(c),u=r.mallocInt32(c),y=r.mallocDouble(c*8);function M(D){var b=s.nextPow2(D);f.length<b&&(r.free(f),f=r.mallocInt32(b)),m.length<b&&(r.free(m),m=r.mallocInt32(b)),v.length<b&&(r.free(v),v=r.mallocInt32(b)),A.length<b&&(r.free(A),A=r.mallocInt32(b)),d.length<b&&(r.free(d),d=r.mallocInt32(b)),u.length<b&&(r.free(u),u=r.mallocInt32(b));var O=8*b;y.length<O&&(r.free(y),y=r.mallocDouble(O))}function S(D,b,O,F){var V=b[F],_=D[O-1];D[V]=_,b[_]=V}function R(D,b,O,F){D[O]=F,b[F]=O}function x(D,b,O,F,V,_,U,H,z,G){for(var Y=0,J=2*D,ae=D-1,oe=J-1,he=O;he<F;++he){var q=_[he],Z=J*he;y[Y++]=V[Z+ae],y[Y++]=-(q+1),y[Y++]=V[Z+oe],y[Y++]=q}for(var he=U;he<H;++he){var q=G[he]+l,$=J*he;y[Y++]=z[$+ae],y[Y++]=-q,y[Y++]=z[$+oe],y[Y++]=q}var K=Y>>>1;n(y,K);for(var re=0,le=0,he=0;he<K;++he){var te=y[2*he+1]|0;if(te>=l)te=te-l|0,S(v,A,le--,te);else if(te>=0)S(f,m,re--,te);else if(te<=-l){te=-te-l|0;for(var ee=0;ee<re;++ee){var ue=b(f[ee],te);if(ue!==void 0)return ue}R(v,A,le++,te)}else{te=-te-1|0;for(var ee=0;ee<le;++ee){var ue=b(te,v[ee]);if(ue!==void 0)return ue}R(f,m,re++,te)}}}function E(D,b,O,F,V,_,U,H,z,G){for(var Y=0,J=2*D,ae=D-1,oe=J-1,he=O;he<F;++he){var q=_[he]+1<<1,Z=J*he;y[Y++]=V[Z+ae],y[Y++]=-q,y[Y++]=V[Z+oe],y[Y++]=q}for(var he=U;he<H;++he){var q=G[he]+1<<1,$=J*he;y[Y++]=z[$+ae],y[Y++]=-q|1,y[Y++]=z[$+oe],y[Y++]=q|1}var K=Y>>>1;n(y,K);for(var re=0,le=0,te=0,he=0;he<K;++he){var ee=y[2*he+1]|0,ue=ee&1;if(he<K-1&&ee>>1===y[2*he+3]>>1&&(ue=2,he+=1),ee<0){for(var se=-(ee>>1)-1,ve=0;ve<te;++ve){var be=b(d[ve],se);if(be!==void 0)return be}if(ue!==0)for(var ve=0;ve<re;++ve){var be=b(f[ve],se);if(be!==void 0)return be}if(ue!==1)for(var ve=0;ve<le;++ve){var be=b(v[ve],se);if(be!==void 0)return be}ue===0?R(f,m,re++,se):ue===1?R(v,A,le++,se):ue===2&&R(d,u,te++,se)}else{var se=(ee>>1)-1;ue===0?S(f,m,re--,se):ue===1?S(v,A,le--,se):ue===2&&S(d,u,te--,se)}}}function T(D,b,O,F,V,_,U,H,z,G,Y,J){var ae=0,oe=2*D,he=b,q=b+D,Z=1,$=1;F?$=l:Z=l;for(var K=V;K<_;++K){var re=K+Z,le=oe*K;y[ae++]=U[le+he],y[ae++]=-re,y[ae++]=U[le+q],y[ae++]=re}for(var K=z;K<G;++K){var re=K+$,te=oe*K;y[ae++]=Y[te+he],y[ae++]=-re}var ee=ae>>>1;n(y,ee);for(var ue=0,K=0;K<ee;++K){var se=y[2*K+1]|0;if(se<0){var re=-se,ve=!1;if(re>=l?(ve=!F,re-=l):(ve=!!F,re-=1),ve)R(f,m,ue++,re);else{var be=J[re],Ee=oe*re,Ae=Y[Ee+b+1],Oe=Y[Ee+b+1+D];e:for(var Ue=0;Ue<ue;++Ue){var Le=f[Ue],we=oe*Le;if(!(Oe<U[we+b+1]||U[we+b+1+D]<Ae)){for(var Ce=b+2;Ce<D;++Ce)if(Y[Ee+Ce+D]<U[we+Ce]||U[we+Ce+D]<Y[Ee+Ce])continue e;var Ve=H[Le],Ne;if(F?Ne=O(be,Ve):Ne=O(Ve,be),Ne!==void 0)return Ne}}}}else S(f,m,ue--,se-Z)}}function i(D,b,O,F,V,_,U,H,z,G,Y){for(var J=0,ae=2*D,oe=b,he=b+D,q=F;q<V;++q){var Z=q+l,$=ae*q;y[J++]=_[$+oe],y[J++]=-Z,y[J++]=_[$+he],y[J++]=Z}for(var q=H;q<z;++q){var Z=q+1,K=ae*q;y[J++]=G[K+oe],y[J++]=-Z}var re=J>>>1;n(y,re);for(var le=0,q=0;q<re;++q){var te=y[2*q+1]|0;if(te<0){var Z=-te;if(Z>=l)f[le++]=Z-l;else{Z-=1;var ee=Y[Z],ue=ae*Z,se=G[ue+b+1],ve=G[ue+b+1+D];e:for(var be=0;be<le;++be){var Ee=f[be],Ae=U[Ee];if(Ae===ee)break;var Oe=ae*Ee;if(!(ve<_[Oe+b+1]||_[Oe+b+1+D]<se)){for(var Ue=b+2;Ue<D;++Ue)if(G[ue+Ue+D]<_[Oe+Ue]||_[Oe+Ue+D]<G[ue+Ue])continue e;var Le=O(Ae,ee);if(Le!==void 0)return Le}}}}else{for(var Z=te-l,be=le-1;be>=0;--be)if(f[be]===Z){for(var Ue=be+1;Ue<le;++Ue)f[Ue-1]=f[Ue];break}--le}}}},7761:function(h,g,t){var r=t(9971),s=t(743),n=t(2161),l=t(7098);h.exports=A;function c(d){return[Math.min(d[0],d[1]),Math.max(d[0],d[1])]}function f(d,u){return d[0]-u[0]||d[1]-u[1]}function m(d){return d.map(c).sort(f)}function v(d,u,y){return u in d?d[u]:y}function A(d,u,y){Array.isArray(u)?(y=y||{},u=u||[]):(y=u||{},u=[]);var M=!!v(y,"delaunay",!0),S=!!v(y,"interior",!0),R=!!v(y,"exterior",!0),x=!!v(y,"infinity",!1);if(!S&&!R||d.length===0)return[];var E=r(d,u);if(M||S!==R||x){for(var T=s(d.length,m(u)),i=0;i<E.length;++i){var D=E[i];T.addTriangle(D[0],D[1],D[2])}return M&&n(d,T),R?S?x?l(T,0,x):T.cells():l(T,1,x):l(T,-1)}else return E}},2161:function(h,g,t){var r=t(2227)[4];t(5070),h.exports=n;function s(l,c,f,m,v,A){var d=c.opposite(m,v);if(!(d<0)){if(v<m){var u=m;m=v,v=u,u=A,A=d,d=u}c.isConstraint(m,v)||r(l[m],l[v],l[A],l[d])<0&&f.push(m,v)}}function n(l,c){for(var f=[],m=l.length,v=c.stars,A=0;A<m;++A)for(var d=v[A],u=1;u<d.length;u+=2){var y=d[u];if(!(y<A)&&!c.isConstraint(A,y)){for(var M=d[u-1],S=-1,R=1;R<d.length;R+=2)if(d[R-1]===y){S=d[R];break}S<0||r(l[A],l[y],l[M],l[S])<0&&f.push(A,y)}}for(;f.length>0;){for(var y=f.pop(),A=f.pop(),M=-1,S=-1,d=v[A],x=1;x<d.length;x+=2){var E=d[x-1],T=d[x];E===y?S=T:T===y&&(M=E)}M<0||S<0||r(l[A],l[y],l[M],l[S])>=0||(c.flip(A,y),s(l,c,f,M,A,S),s(l,c,f,A,S,M),s(l,c,f,S,y,M),s(l,c,f,y,M,S))}}},7098:function(h,g,t){var r=t(5070);h.exports=m;function s(v,A,d,u,y,M,S){this.cells=v,this.neighbor=A,this.flags=u,this.constraint=d,this.active=y,this.next=M,this.boundary=S}var n=s.prototype;function l(v,A){return v[0]-A[0]||v[1]-A[1]||v[2]-A[2]}n.locate=function(){var v=[0,0,0];return function(A,d,u){var y=A,M=d,S=u;return d<u?d<A&&(y=d,M=u,S=A):u<A&&(y=u,M=A,S=d),y<0?-1:(v[0]=y,v[1]=M,v[2]=S,r.eq(this.cells,v,l))}}();function c(v,A){for(var d=v.cells(),u=d.length,y=0;y<u;++y){var M=d[y],S=M[0],R=M[1],x=M[2];R<x?R<S&&(M[0]=R,M[1]=x,M[2]=S):x<S&&(M[0]=x,M[1]=S,M[2]=R)}d.sort(l);for(var E=new Array(u),y=0;y<E.length;++y)E[y]=0;var T=[],i=[],D=new Array(3*u),b=new Array(3*u),O=null;A&&(O=[]);for(var F=new s(d,D,b,E,T,i,O),y=0;y<u;++y)for(var M=d[y],V=0;V<3;++V){var S=M[V],R=M[(V+1)%3],_=D[3*y+V]=F.locate(R,S,v.opposite(R,S)),U=b[3*y+V]=v.isConstraint(S,R);_<0&&(U?i.push(y):(T.push(y),E[y]=1),A&&O.push([R,S,-1]))}return F}function f(v,A,d){for(var u=0,y=0;y<v.length;++y)A[y]===d&&(v[u++]=v[y]);return v.length=u,v}function m(v,A,d){var u=c(v,d);if(A===0)return d?u.cells.concat(u.boundary):u.cells;for(var y=1,M=u.active,S=u.next,R=u.flags,x=u.cells,E=u.constraint,T=u.neighbor;M.length>0||S.length>0;){for(;M.length>0;){var i=M.pop();if(R[i]!==-y){R[i]=y,x[i];for(var D=0;D<3;++D){var b=T[3*i+D];b>=0&&R[b]===0&&(E[3*i+D]?S.push(b):(M.push(b),R[b]=y))}}}var O=S;S=M,M=O,S.length=0,y=-y}var F=f(x,R,A);return d?F.concat(u.boundary):F}},9971:function(h,g,t){var r=t(5070),s=t(417)[3],n=0,l=1,c=2;h.exports=S;function f(R,x,E,T,i){this.a=R,this.b=x,this.idx=E,this.lowerIds=T,this.upperIds=i}function m(R,x,E,T){this.a=R,this.b=x,this.type=E,this.idx=T}function v(R,x){var E=R.a[0]-x.a[0]||R.a[1]-x.a[1]||R.type-x.type;return E||R.type!==n&&(E=s(R.a,R.b,x.b),E)?E:R.idx-x.idx}function A(R,x){return s(R.a,R.b,x)}function d(R,x,E,T,i){for(var D=r.lt(x,T,A),b=r.gt(x,T,A),O=D;O<b;++O){for(var F=x[O],V=F.lowerIds,U=V.length;U>1&&s(E[V[U-2]],E[V[U-1]],T)>0;)R.push([V[U-1],V[U-2],i]),U-=1;V.length=U,V.push(i);for(var _=F.upperIds,U=_.length;U>1&&s(E[_[U-2]],E[_[U-1]],T)<0;)R.push([_[U-2],_[U-1],i]),U-=1;_.length=U,_.push(i)}}function u(R,x){var E;return R.a[0]<x.a[0]?E=s(R.a,R.b,x.a):E=s(x.b,x.a,R.a),E||(x.b[0]<R.b[0]?E=s(R.a,R.b,x.b):E=s(x.b,x.a,R.b),E||R.idx-x.idx)}function y(R,x,E){var T=r.le(R,E,u),i=R[T],D=i.upperIds,b=D[D.length-1];i.upperIds=[b],R.splice(T+1,0,new f(E.a,E.b,E.idx,[b],D))}function M(R,x,E){var T=E.a;E.a=E.b,E.b=T;var i=r.eq(R,E,u),D=R[i],b=R[i-1];b.upperIds=D.upperIds,R.splice(i,1)}function S(R,x){for(var E=R.length,T=x.length,i=[],D=0;D<E;++D)i.push(new m(R[D],null,n,D));for(var D=0;D<T;++D){var b=x[D],O=R[b[0]],F=R[b[1]];O[0]<F[0]?i.push(new m(O,F,c,D),new m(F,O,l,D)):O[0]>F[0]&&i.push(new m(F,O,c,D),new m(O,F,l,D))}i.sort(v);for(var V=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),_=[new f([V,1],[V,0],-1,[],[])],U=[],D=0,H=i.length;D<H;++D){var z=i[D],G=z.type;G===n?d(U,_,R,z.a,z.idx):G===c?y(_,R,z):M(_,R,z)}return U}},743:function(h,g,t){var r=t(5070);h.exports=c;function s(f,m){this.stars=f,this.edges=m}var n=s.prototype;function l(f,m,v){for(var A=1,d=f.length;A<d;A+=2)if(f[A-1]===m&&f[A]===v){f[A-1]=f[d-2],f[A]=f[d-1],f.length=d-2;return}}n.isConstraint=function(){var f=[0,0];function m(v,A){return v[0]-A[0]||v[1]-A[1]}return function(v,A){return f[0]=Math.min(v,A),f[1]=Math.max(v,A),r.eq(this.edges,f,m)>=0}}(),n.removeTriangle=function(f,m,v){var A=this.stars;l(A[f],m,v),l(A[m],v,f),l(A[v],f,m)},n.addTriangle=function(f,m,v){var A=this.stars;A[f].push(m,v),A[m].push(v,f),A[v].push(f,m)},n.opposite=function(f,m){for(var v=this.stars[m],A=1,d=v.length;A<d;A+=2)if(v[A]===f)return v[A-1];return-1},n.flip=function(f,m){var v=this.opposite(f,m),A=this.opposite(m,f);this.removeTriangle(f,m,v),this.removeTriangle(m,f,A),this.addTriangle(f,A,v),this.addTriangle(m,v,A)},n.edges=function(){for(var f=this.stars,m=[],v=0,A=f.length;v<A;++v)for(var d=f[v],u=0,y=d.length;u<y;u+=2)m.push([d[u],d[u+1]]);return m},n.cells=function(){for(var f=this.stars,m=[],v=0,A=f.length;v<A;++v)for(var d=f[v],u=0,y=d.length;u<y;u+=2){var M=d[u],S=d[u+1];v<Math.min(M,S)&&m.push([v,M,S])}return m};function c(f,m){for(var v=new Array(f),A=0;A<f;++A)v[A]=[];return new s(v,m)}},9887:function(h){h.exports=g;function g(t){for(var r=1,s=1;s<t.length;++s)for(var n=0;n<s;++n)if(t[s]<t[n])r=-r;else if(t[n]===t[s])return 0;return r}},9243:function(h,g,t){var r=t(3094),s=t(6606);function n(f,m){for(var v=0,A=f.length,d=0;d<A;++d)v+=f[d]*m[d];return v}function l(f){var m=f.length;if(m===0)return[];f[0].length;var v=r([f.length+1,f.length+1],1),A=r([f.length+1],1);v[m][m]=0;for(var d=0;d<m;++d){for(var u=0;u<=d;++u)v[u][d]=v[d][u]=2*n(f[d],f[u]);A[d]=n(f[d],f[d])}for(var y=s(v,A),M=0,S=y[m+1],d=0;d<S.length;++d)M+=S[d];for(var R=new Array(m),d=0;d<m;++d){for(var S=y[d],x=0,u=0;u<S.length;++u)x+=S[u];R[d]=x/M}return R}function c(f){if(f.length===0)return[];for(var m=f[0].length,v=r([m]),A=l(f),d=0;d<f.length;++d)for(var u=0;u<m;++u)v[u]+=f[d][u]*A[d];return v}c.barycenetric=l,h.exports=c},1778:function(h,g,t){h.exports=s;var r=t(9243);function s(n){for(var l=r(n),c=0,f=0;f<n.length;++f)for(var m=n[f],v=0;v<l.length;++v)c+=Math.pow(m[v]-l[v],2);return Math.sqrt(c/n.length)}},197:function(h,g,t){h.exports=O;var r=t(1731),s=t(2569),n=t(4434),l=t(5125),c=t(8846),f=t(7999),m=t(2826),v=t(8551),A=t(5528);function d(F){var V=f(F);return[v(V,-1/0),v(V,1/0)]}function u(F,V){for(var _=new Array(V.length),U=0;U<V.length;++U){var H=V[U],z=F[H[0]],G=F[H[1]];_[U]=[v(Math.min(z[0],G[0]),-1/0),v(Math.min(z[1],G[1]),-1/0),v(Math.max(z[0],G[0]),1/0),v(Math.max(z[1],G[1]),1/0)]}return _}function y(F){for(var V=new Array(F.length),_=0;_<F.length;++_){var U=F[_];V[_]=[v(U[0],-1/0),v(U[1],-1/0),v(U[0],1/0),v(U[1],1/0)]}return V}function M(F,V,_){var U=[];return s(_,function(H,z){var G=V[H],Y=V[z];if(!(G[0]===Y[0]||G[0]===Y[1]||G[1]===Y[0]||G[1]===Y[1])){var J=F[G[0]],ae=F[G[1]],oe=F[Y[0]],he=F[Y[1]];n(J,ae,oe,he)&&U.push([H,z])}}),U}function S(F,V,_,U){var H=[];return s(_,U,function(z,G){var Y=V[z];if(!(Y[0]===G||Y[1]===G)){var J=F[G],ae=F[Y[0]],oe=F[Y[1]];n(ae,oe,J,J)&&H.push([z,G])}}),H}function R(F,V,_,U,H){var z,G,Y=F.map(function(Ee){return[l(Ee[0]),l(Ee[1])]});for(z=0;z<_.length;++z){var J=_[z];G=J[0];var ae=J[1],oe=V[G],he=V[ae],q=A(m(F[oe[0]]),m(F[oe[1]]),m(F[he[0]]),m(F[he[1]]));if(q){var Z=F.length;F.push([f(q[0]),f(q[1])]),Y.push(q),U.push([G,Z],[ae,Z])}}for(U.sort(function(Ee,Ae){if(Ee[0]!==Ae[0])return Ee[0]-Ae[0];var Oe=Y[Ee[1]],Ue=Y[Ae[1]];return c(Oe[0],Ue[0])||c(Oe[1],Ue[1])}),z=U.length-1;z>=0;--z){var $=U[z];G=$[0];var K=V[G],re=K[0],le=K[1],te=F[re],ee=F[le];if((te[0]-ee[0]||te[1]-ee[1])<0){var ue=re;re=le,le=ue}K[0]=re;var se=K[1]=$[1],ve;for(H&&(ve=K[2]);z>0&&U[z-1][0]===G;){var $=U[--z],be=$[1];H?V.push([se,be,ve]):V.push([se,be]),se=be}H?V.push([se,le,ve]):V.push([se,le])}return Y}function x(F,V,_){for(var U=V.length,H=new r(U),z=[],G=0;G<V.length;++G){var Y=V[G],J=d(Y[0]),ae=d(Y[1]);z.push([v(J[0],-1/0),v(ae[0],-1/0),v(J[1],1/0),v(ae[1],1/0)])}s(z,function($,K){H.link($,K)});for(var oe=!0,he=new Array(U),G=0;G<U;++G){var q=H.find(G);q!==G&&(oe=!1,F[q]=[Math.min(F[G][0],F[q][0]),Math.min(F[G][1],F[q][1])])}if(oe)return null;for(var Z=0,G=0;G<U;++G){var q=H.find(G);q===G?(he[G]=Z,F[Z++]=F[G]):he[G]=-1}F.length=Z;for(var G=0;G<U;++G)he[G]<0&&(he[G]=he[H.find(G)]);return he}function E(F,V){return F[0]-V[0]||F[1]-V[1]}function T(F,V){var _=F[0]-V[0]||F[1]-V[1];return _||(F[2]<V[2]?-1:F[2]>V[2]?1:0)}function i(F,V,_){if(F.length!==0){if(V)for(var U=0;U<F.length;++U){var H=F[U],z=V[H[0]],G=V[H[1]];H[0]=Math.min(z,G),H[1]=Math.max(z,G)}else for(var U=0;U<F.length;++U){var H=F[U],z=H[0],G=H[1];H[0]=Math.min(z,G),H[1]=Math.max(z,G)}_?F.sort(T):F.sort(E);for(var Y=1,U=1;U<F.length;++U){var J=F[U-1],ae=F[U];ae[0]===J[0]&&ae[1]===J[1]&&(!_||ae[2]===J[2])||(F[Y++]=ae)}F.length=Y}}function D(F,V,_){var U=x(F,[],y(F));return i(V,U,_),!!U}function b(F,V,_){var U=u(F,V),H=M(F,V,U),z=y(F),G=S(F,V,U,z),Y=R(F,V,H,G,_),J=x(F,Y);return i(V,J,_),J?!0:H.length>0||G.length>0}function O(F,V,_){var U;if(_){U=V;for(var H=new Array(V.length),z=0;z<V.length;++z){var G=V[z];H[z]=[G[0],G[1],_[z]]}V=H}for(var Y=D(F,V,!!_);b(F,V,!!_);)Y=!0;if(_&&Y){U.length=0,_.length=0;for(var z=0;z<V.length;++z){var G=V[z];U.push([G[0],G[1]]),_.push(G[2])}}return Y}},5528:function(h,g,t){h.exports=A;var r=t(3962),s=t(9189),n=t(4354),l=t(4951),c=t(6695),f=t(7584),m=t(4469);function v(d,u){return n(r(d[0],u[1]),r(d[1],u[0]))}function A(d,u,y,M){var S=c(u,d),R=c(M,y),x=v(S,R);if(l(x)===0)return null;var E=c(d,y),T=v(R,E),i=s(T,x),D=m(S,i),b=f(d,D);return b}},5692:function(h){h.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(h,g,t){var r=t(5692),s=t(3578);h.exports=n;function n(m){var v,A,d,u,y,M,S,R,i,x,E;if(m||(m={}),R=(m.nshades||72)-1,S=m.format||"hex",M=m.colormap,M||(M="jet"),typeof M=="string"){if(M=M.toLowerCase(),!r[M])throw Error(M+" not a supported colorscale");y=r[M]}else if(Array.isArray(M))y=M.slice();else throw Error("unsupported colormap option",M);if(y.length>R+1)throw new Error(M+" map requires nshades to be at least size "+y.length);Array.isArray(m.alpha)?m.alpha.length!==2?x=[1,1]:x=m.alpha.slice():typeof m.alpha=="number"?x=[m.alpha,m.alpha]:x=[1,1],v=y.map(function(O){return Math.round(O.index*R)}),x[0]=Math.min(Math.max(x[0],0),1),x[1]=Math.min(Math.max(x[1],0),1);var T=y.map(function(O,F){var V=y[F].index,_=y[F].rgb.slice();return _.length===4&&_[3]>=0&&_[3]<=1||(_[3]=x[0]+(x[1]-x[0])*V),_}),i=[];for(E=0;E<v.length-1;++E){u=v[E+1]-v[E],A=T[E],d=T[E+1];for(var D=0;D<u;D++){var b=D/u;i.push([Math.round(s(A[0],d[0],b)),Math.round(s(A[1],d[1],b)),Math.round(s(A[2],d[2],b)),s(A[3],d[3],b)])}}return i.push(y[y.length-1].rgb.concat(x[1])),S==="hex"?i=i.map(c):S==="rgbaString"?i=i.map(f):S==="float"&&(i=i.map(l)),i}function l(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function c(m){for(var v,A="#",d=0;d<3;++d)v=m[d],v=v.toString(16),A+=("00"+v).substr(v.length);return A}function f(m){return"rgba("+m.join(",")+")"}},9398:function(h,g,t){h.exports=m;var r=t(417),s=t(7538),n=t(87),l=t(2019),c=t(9662);function f(v,A,d){var u=n(v[0],-A[0]),y=n(v[1],-A[1]),M=n(d[0],-A[0]),S=n(d[1],-A[1]),R=c(l(u,M),l(y,S));return R[R.length-1]>=0}function m(v,A,d,u){var y=r(A,d,u);if(y===0){var M=s(r(v,A,d)),S=s(r(v,A,u));if(M===S){if(M===0){var R=f(v,A,d),x=f(v,A,u);return R===x?0:R?1:-1}return 0}else{if(S===0)return M>0||f(v,A,u)?-1:1;if(M===0)return S>0||f(v,A,d)?1:-1}return s(S-M)}var E=r(v,A,d);if(E>0)return y>0&&r(v,A,u)>0?1:-1;if(E<0)return y>0||r(v,A,u)>0?1:-1;var T=r(v,A,u);return T>0||f(v,A,d)?1:-1}},7538:function(h){h.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(h){h.exports=r;var g=Math.min;function t(s,n){return s-n}function r(s,n){var l=s.length,c=s.length-n.length;if(c)return c;switch(l){case 0:return 0;case 1:return s[0]-n[0];case 2:return s[0]+s[1]-n[0]-n[1]||g(s[0],s[1])-g(n[0],n[1]);case 3:var f=s[0]+s[1],m=n[0]+n[1];if(c=f+s[2]-(m+n[2]),c)return c;var v=g(s[0],s[1]),A=g(n[0],n[1]);return g(v,s[2])-g(A,n[2])||g(v+s[2],f)-g(A+n[2],m);case 4:var d=s[0],u=s[1],y=s[2],M=s[3],S=n[0],R=n[1],x=n[2],E=n[3];return d+u+y+M-(S+R+x+E)||g(d,u,y,M)-g(S,R,x,E,S)||g(d+u,d+y,d+M,u+y,u+M,y+M)-g(S+R,S+x,S+E,R+x,R+E,x+E)||g(d+u+y,d+u+M,d+y+M,u+y+M)-g(S+R+x,S+R+E,S+x+E,R+x+E);default:for(var T=s.slice().sort(t),i=n.slice().sort(t),D=0;D<l;++D)if(c=T[D]-i[D],c)return c;return 0}}},1284:function(h,g,t){var r=t(9209),s=t(9887);h.exports=n;function n(l,c){return r(l,c)||s(l)-s(c)}},5537:function(h,g,t){var r=t(8950),s=t(8722),n=t(3332);h.exports=l;function l(c){var f=c.length;if(f===0)return[];if(f===1)return[[0]];var m=c[0].length;return m===0?[]:m===1?r(c):m===2?s(c):n(c,m)}},8950:function(h){h.exports=g;function g(t){for(var r=0,s=0,n=1;n<t.length;++n)t[n][0]<t[r][0]&&(r=n),t[n][0]>t[s][0]&&(s=n);return r<s?[[r],[s]]:r>s?[[s],[r]]:[[r]]}},8722:function(h,g,t){h.exports=s;var r=t(3266);function s(n){var l=r(n),c=l.length;if(c<=2)return[];for(var f=new Array(c),m=l[c-1],v=0;v<c;++v){var A=l[v];f[v]=[m,A],m=A}return f}},3332:function(h,g,t){h.exports=c;var r=t(2183),s=t(2153);function n(f,m){for(var v=f.length,A=new Array(v),d=0;d<m.length;++d)A[d]=f[m[d]];for(var u=m.length,d=0;d<v;++d)m.indexOf(d)<0&&(A[u++]=f[d]);return A}function l(f,m){for(var v=f.length,A=m.length,d=0;d<v;++d)for(var u=f[d],y=0;y<u.length;++y){var M=u[y];if(M<A)u[y]=m[M];else{M=M-A;for(var S=0;S<A;++S)M>=m[S]&&(M+=1);u[y]=M}}return f}function c(f,m){try{return r(f,!0)}catch{var v=s(f);if(v.length<=m)return[];var A=n(f,v),d=r(A,!0);return l(d,v)}}},9680:function(h){function g(r,s,n,l,c,f){var m=6*c*c-6*c,v=3*c*c-4*c+1,A=-6*c*c+6*c,d=3*c*c-2*c;if(r.length){f||(f=new Array(r.length));for(var u=r.length-1;u>=0;--u)f[u]=m*r[u]+v*s[u]+A*n[u]+d*l[u];return f}return m*r+v*s+A*n[u]+d*l}function t(r,s,n,l,c,f){var m=c-1,v=c*c,A=m*m,d=(1+2*c)*A,u=c*A,y=v*(3-2*c),M=v*m;if(r.length){f||(f=new Array(r.length));for(var S=r.length-1;S>=0;--S)f[S]=d*r[S]+u*s[S]+y*n[S]+M*l[S];return f}return d*r+u*s+y*n+M*l}h.exports=t,h.exports.derivative=g},4419:function(h,g,t){var r=t(2183),s=t(1215);h.exports=f;function n(m,v){this.point=m,this.index=v}function l(m,v){for(var A=m.point,d=v.point,u=A.length,y=0;y<u;++y){var M=d[y]-A[y];if(M)return M}return 0}function c(m,v,A){if(m===1)return A?[[-1,0]]:[];var d=v.map(function(R,x){return[R[0],x]});d.sort(function(R,x){return R[0]-x[0]});for(var u=new Array(m-1),y=1;y<m;++y){var M=d[y-1],S=d[y];u[y-1]=[M[1],S[1]]}return A&&u.push([-1,u[0][1]],[u[m-1][1],-1]),u}function f(m,v){var A=m.length;if(A===0)return[];var d=m[0].length;if(d<1)return[];if(d===1)return c(A,m,v);for(var u=new Array(A),y=1,M=0;M<A;++M){for(var S=m[M],R=new Array(d+1),x=0,E=0;E<d;++E){var T=S[E];R[E]=T,x+=T*T}R[d]=x,u[M]=new n(R,M),y=Math.max(x,y)}s(u,l),A=u.length;for(var i=new Array(A+d+1),D=new Array(A+d+1),b=(d+1)*(d+1)*y,O=new Array(d+1),M=0;M<=d;++M)O[M]=0;O[d]=b,i[0]=O.slice(),D[0]=-1;for(var M=0;M<=d;++M){var R=O.slice();R[M]=1,i[M+1]=R,D[M+1]=-1}for(var M=0;M<A;++M){var F=u[M];i[M+d+1]=F.point,D[M+d+1]=F.index}var V=r(i,!1);if(v?V=V.filter(function(_){for(var U=0,H=0;H<=d;++H){var z=D[_[H]];if(z<0&&++U>=2)return!1;_[H]=z}return!0}):V=V.filter(function(_){for(var U=0;U<=d;++U){var H=D[_[U]];if(H<0)return!1;_[U]=H}return!0}),d&1)for(var M=0;M<V.length;++M){var F=V[M],R=F[0];F[0]=F[1],F[1]=R}return V}},8362:function(h){var g=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,g=!0,r[1]===1072693248){let y=function(R,x){return r[0]=R,r[1]=x,t[0]},M=function(R){return t[0]=R,r[0]},S=function(R){return t[0]=R,r[1]};var n=y,l=M,c=S;h.exports=function(x){return t[0]=x,[r[0],r[1]]},h.exports.pack=y,h.exports.lo=M,h.exports.hi=S}else if(r[0]===1072693248){let y=function(R,x){return r[1]=R,r[0]=x,t[0]},M=function(R){return t[0]=R,r[1]},S=function(R){return t[0]=R,r[0]};var f=y,m=M,v=S;h.exports=function(x){return t[0]=x,[r[1],r[0]]},h.exports.pack=y,h.exports.lo=M,h.exports.hi=S}else g=!1}if(!g){let y=function(R,x){return s.writeUInt32LE(R,0,!0),s.writeUInt32LE(x,4,!0),s.readDoubleLE(0,!0)},M=function(R){return s.writeDoubleLE(R,0,!0),s.readUInt32LE(0,!0)},S=function(R){return s.writeDoubleLE(R,0,!0),s.readUInt32LE(4,!0)};var A=y,d=M,u=S,s=new Buffer(8);h.exports=function(x){return s.writeDoubleLE(x,0,!0),[s.readUInt32LE(0,!0),s.readUInt32LE(4,!0)]},h.exports.pack=y,h.exports.lo=M,h.exports.hi=S}h.exports.sign=function(y){return h.exports.hi(y)>>>31},h.exports.exponent=function(y){var M=h.exports.hi(y);return(M<<1>>>21)-1023},h.exports.fraction=function(y){var M=h.exports.lo(y),S=h.exports.hi(y),R=S&(1<<20)-1;return S&2146435072&&(R+=1048576),[M,R]},h.exports.denormalized=function(y){var M=h.exports.hi(y);return!(M&2146435072)}},3094:function(h){function g(s,n,l){var c=s[l]|0;if(c<=0)return[];var f=new Array(c),m;if(l===s.length-1)for(m=0;m<c;++m)f[m]=n;else for(m=0;m<c;++m)f[m]=g(s,n,l+1);return f}function t(s,n){var l,c;for(l=new Array(s),c=0;c<s;++c)l[c]=n;return l}function r(s,n){switch(typeof n>"u"&&(n=0),typeof s){case"number":if(s>0)return t(s|0,n);break;case"object":if(typeof s.length=="number")return g(s,n,0);break}return[]}h.exports=r},8348:function(h,g,t){h.exports=s;var r=t(1215);function s(n,l){var c=n.length;if(typeof l!="number"){l=0;for(var f=0;f<c;++f){var m=n[f];l=Math.max(l,m[0],m[1])}l=(l|0)+1}l=l|0;for(var v=new Array(l),f=0;f<l;++f)v[f]=[];for(var f=0;f<c;++f){var m=n[f];v[m[0]].push(m[1]),v[m[1]].push(m[0])}for(var A=0;A<l;++A)r(v[A],function(d,u){return d-u});return v}},5795:function(h){h.exports=g;function g(t,r,s){var n=r||0,l=s||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[l*t[12]-t[8],l*t[13]-t[9],l*t[14]-t[10],l*t[15]-t[11]]]}},8444:function(h,g,t){h.exports=m;var r=t(9680),s=t(5070);function n(v,A,d){return Math.min(A,Math.max(v,d))}function l(v,A,d){this.dimension=v.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var u=0;u<this.dimension;++u)this.bounds[0][u]=-1/0,this.bounds[1][u]=1/0;this._state=v.slice().reverse(),this._velocity=A.slice().reverse(),this._time=[d],this._scratch=[v.slice(),v.slice(),v.slice(),v.slice(),v.slice()]}var c=l.prototype;c.flush=function(v){var A=s.gt(this._time,v)-1;A<=0||(this._time.splice(0,A),this._state.splice(0,A*this.dimension),this._velocity.splice(0,A*this.dimension))},c.curve=function(v){var A=this._time,d=A.length,u=s.le(A,v),y=this._scratch[0],M=this._state,S=this._velocity,R=this.dimension,x=this.bounds;if(u<0)for(var E=R-1,T=0;T<R;++T,--E)y[T]=M[E];else if(u>=d-1)for(var E=M.length-1,i=v-A[d-1],T=0;T<R;++T,--E)y[T]=M[E]+i*S[E];else{for(var E=R*(u+1)-1,D=A[u],b=A[u+1],O=b-D||1,F=this._scratch[1],V=this._scratch[2],_=this._scratch[3],U=this._scratch[4],H=!0,T=0;T<R;++T,--E)F[T]=M[E],_[T]=S[E]*O,V[T]=M[E+R],U[T]=S[E+R]*O,H=H&&F[T]===V[T]&&_[T]===U[T]&&_[T]===0;if(H)for(var T=0;T<R;++T)y[T]=F[T];else r(F,_,V,U,(v-D)/O,y)}for(var z=x[0],G=x[1],T=0;T<R;++T)y[T]=n(z[T],G[T],y[T]);return y},c.dcurve=function(v){var A=this._time,d=A.length,u=s.le(A,v),y=this._scratch[0],M=this._state,S=this._velocity,R=this.dimension;if(u>=d-1){var x=M.length-1;v-A[d-1];for(var E=0;E<R;++E,--x)y[E]=S[x]}else{for(var x=R*(u+1)-1,T=A[u],i=A[u+1],D=i-T||1,b=this._scratch[1],O=this._scratch[2],F=this._scratch[3],V=this._scratch[4],_=!0,E=0;E<R;++E,--x)b[E]=M[x],F[E]=S[x]*D,O[E]=M[x+R],V[E]=S[x+R]*D,_=_&&b[E]===O[E]&&F[E]===V[E]&&F[E]===0;if(_)for(var E=0;E<R;++E)y[E]=0;else{r.derivative(b,F,O,V,(v-T)/D,y);for(var E=0;E<R;++E)y[E]/=D}}return y},c.lastT=function(){var v=this._time;return v[v.length-1]},c.stable=function(){for(var v=this._velocity,A=v.length,d=this.dimension-1;d>=0;--d)if(v[--A])return!1;return!0},c.jump=function(v){var A=this.lastT(),d=this.dimension;if(!(v<A||arguments.length!==d+1)){var u=this._state,y=this._velocity,M=u.length-this.dimension,S=this.bounds,R=S[0],x=S[1];this._time.push(A,v);for(var E=0;E<2;++E)for(var T=0;T<d;++T)u.push(u[M++]),y.push(0);this._time.push(v);for(var T=d;T>0;--T)u.push(n(R[T-1],x[T-1],arguments[T])),y.push(0)}},c.push=function(v){var A=this.lastT(),d=this.dimension;if(!(v<A||arguments.length!==d+1)){var u=this._state,y=this._velocity,M=u.length-this.dimension,S=v-A,R=this.bounds,x=R[0],E=R[1],T=S>1e-6?1/S:0;this._time.push(v);for(var i=d;i>0;--i){var D=n(x[i-1],E[i-1],arguments[i]);u.push(D),y.push((D-u[M++])*T)}}},c.set=function(v){var A=this.dimension;if(!(v<this.lastT()||arguments.length!==A+1)){var d=this._state,u=this._velocity,y=this.bounds,M=y[0],S=y[1];this._time.push(v);for(var R=A;R>0;--R)d.push(n(M[R-1],S[R-1],arguments[R])),u.push(0)}},c.move=function(v){var A=this.lastT(),d=this.dimension;if(!(v<=A||arguments.length!==d+1)){var u=this._state,y=this._velocity,M=u.length-this.dimension,S=this.bounds,R=S[0],x=S[1],E=v-A,T=E>1e-6?1/E:0;this._time.push(v);for(var i=d;i>0;--i){var D=arguments[i];u.push(n(R[i-1],x[i-1],u[M++]+D)),y.push(D*T)}}},c.idle=function(v){var A=this.lastT();if(!(v<A)){var d=this.dimension,u=this._state,y=this._velocity,M=u.length-d,S=this.bounds,R=S[0],x=S[1],E=v-A;this._time.push(v);for(var T=d-1;T>=0;--T)u.push(n(R[T],x[T],u[M]+E*y[M])),y.push(0),M+=1}};function f(v){for(var A=new Array(v),d=0;d<v;++d)A[d]=0;return A}function m(v,A,d){switch(arguments.length){case 0:return new l([0],[0],0);case 1:if(typeof v=="number"){var u=f(v);return new l(u,u,0)}else return new l(v,f(v.length),0);case 2:if(typeof A=="number"){var u=f(v.length);return new l(v,u,+A)}else d=0;case 3:if(v.length!==A.length)throw new Error("state and velocity lengths must match");return new l(v,A,d)}}},7080:function(h){h.exports=R;var g=0,t=1;function r(x,E,T,i,D,b){this._color=x,this.key=E,this.value=T,this.left=i,this.right=D,this._count=b}function s(x){return new r(x._color,x.key,x.value,x.left,x.right,x._count)}function n(x,E){return new r(x,E.key,E.value,E.left,E.right,E._count)}function l(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function c(x,E){this._compare=x,this.root=E}var f=c.prototype;Object.defineProperty(f,"keys",{get:function(){var x=[];return this.forEach(function(E,T){x.push(E)}),x}}),Object.defineProperty(f,"values",{get:function(){var x=[];return this.forEach(function(E,T){x.push(T)}),x}}),Object.defineProperty(f,"length",{get:function(){return this.root?this.root._count:0}}),f.insert=function(x,E){for(var T=this._compare,i=this.root,D=[],b=[];i;){var O=T(x,i.key);D.push(i),b.push(O),O<=0?i=i.left:i=i.right}D.push(new r(g,x,E,null,null,1));for(var F=D.length-2;F>=0;--F){var i=D[F];b[F]<=0?D[F]=new r(i._color,i.key,i.value,D[F+1],i.right,i._count+1):D[F]=new r(i._color,i.key,i.value,i.left,D[F+1],i._count+1)}for(var F=D.length-1;F>1;--F){var V=D[F-1],i=D[F];if(V._color===t||i._color===t)break;var _=D[F-2];if(_.left===V)if(V.left===i){var U=_.right;if(U&&U._color===g)V._color=t,_.right=n(t,U),_._color=g,F-=1;else{if(_._color=g,_.left=V.right,V._color=t,V.right=_,D[F-2]=V,D[F-1]=i,l(_),l(V),F>=3){var H=D[F-3];H.left===_?H.left=V:H.right=V}break}}else{var U=_.right;if(U&&U._color===g)V._color=t,_.right=n(t,U),_._color=g,F-=1;else{if(V.right=i.left,_._color=g,_.left=i.right,i._color=t,i.left=V,i.right=_,D[F-2]=i,D[F-1]=V,l(_),l(V),l(i),F>=3){var H=D[F-3];H.left===_?H.left=i:H.right=i}break}}else if(V.right===i){var U=_.left;if(U&&U._color===g)V._color=t,_.left=n(t,U),_._color=g,F-=1;else{if(_._color=g,_.right=V.left,V._color=t,V.left=_,D[F-2]=V,D[F-1]=i,l(_),l(V),F>=3){var H=D[F-3];H.right===_?H.right=V:H.left=V}break}}else{var U=_.left;if(U&&U._color===g)V._color=t,_.left=n(t,U),_._color=g,F-=1;else{if(V.left=i.right,_._color=g,_.right=i.left,i._color=t,i.right=V,i.left=_,D[F-2]=i,D[F-1]=V,l(_),l(V),l(i),F>=3){var H=D[F-3];H.right===_?H.right=i:H.left=i}break}}}return D[0]._color=t,new c(T,D[0])};function m(x,E){if(E.left){var T=m(x,E.left);if(T)return T}var T=x(E.key,E.value);if(T)return T;if(E.right)return m(x,E.right)}function v(x,E,T,i){var D=E(x,i.key);if(D<=0){if(i.left){var b=v(x,E,T,i.left);if(b)return b}var b=T(i.key,i.value);if(b)return b}if(i.right)return v(x,E,T,i.right)}function A(x,E,T,i,D){var b=T(x,D.key),O=T(E,D.key),F;if(b<=0&&(D.left&&(F=A(x,E,T,i,D.left),F)||O>0&&(F=i(D.key,D.value),F)))return F;if(O>0&&D.right)return A(x,E,T,i,D.right)}f.forEach=function(E,T,i){if(this.root)switch(arguments.length){case 1:return m(E,this.root);case 2:return v(T,this._compare,E,this.root);case 3:return this._compare(T,i)>=0?void 0:A(T,i,this._compare,E,this.root)}},Object.defineProperty(f,"begin",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.left;return new d(this,x)}}),Object.defineProperty(f,"end",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.right;return new d(this,x)}}),f.at=function(x){if(x<0)return new d(this,[]);for(var E=this.root,T=[];;){if(T.push(E),E.left){if(x<E.left._count){E=E.left;continue}x-=E.left._count}if(!x)return new d(this,T);if(x-=1,E.right){if(x>=E.right._count)break;E=E.right}else break}return new d(this,[])},f.ge=function(x){for(var E=this._compare,T=this.root,i=[],D=0;T;){var b=E(x,T.key);i.push(T),b<=0&&(D=i.length),b<=0?T=T.left:T=T.right}return i.length=D,new d(this,i)},f.gt=function(x){for(var E=this._compare,T=this.root,i=[],D=0;T;){var b=E(x,T.key);i.push(T),b<0&&(D=i.length),b<0?T=T.left:T=T.right}return i.length=D,new d(this,i)},f.lt=function(x){for(var E=this._compare,T=this.root,i=[],D=0;T;){var b=E(x,T.key);i.push(T),b>0&&(D=i.length),b<=0?T=T.left:T=T.right}return i.length=D,new d(this,i)},f.le=function(x){for(var E=this._compare,T=this.root,i=[],D=0;T;){var b=E(x,T.key);i.push(T),b>=0&&(D=i.length),b<0?T=T.left:T=T.right}return i.length=D,new d(this,i)},f.find=function(x){for(var E=this._compare,T=this.root,i=[];T;){var D=E(x,T.key);if(i.push(T),D===0)return new d(this,i);D<=0?T=T.left:T=T.right}return new d(this,[])},f.remove=function(x){var E=this.find(x);return E?E.remove():this},f.get=function(x){for(var E=this._compare,T=this.root;T;){var i=E(x,T.key);if(i===0)return T.value;i<=0?T=T.left:T=T.right}};function d(x,E){this.tree=x,this._stack=E}var u=d.prototype;Object.defineProperty(u,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(u,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),u.clone=function(){return new d(this.tree,this._stack.slice())};function y(x,E){x.key=E.key,x.value=E.value,x.left=E.left,x.right=E.right,x._color=E._color,x._count=E._count}function M(x){for(var E,T,i,D,b=x.length-1;b>=0;--b){if(E=x[b],b===0){E._color=t;return}if(T=x[b-1],T.left===E){if(i=T.right,i.right&&i.right._color===g){if(i=T.right=s(i),D=i.right=s(i.right),T.right=i.left,i.left=T,i.right=D,i._color=T._color,E._color=t,T._color=t,D._color=t,l(T),l(i),b>1){var O=x[b-2];O.left===T?O.left=i:O.right=i}x[b-1]=i;return}else if(i.left&&i.left._color===g){if(i=T.right=s(i),D=i.left=s(i.left),T.right=D.left,i.left=D.right,D.left=T,D.right=i,D._color=T._color,T._color=t,i._color=t,E._color=t,l(T),l(i),l(D),b>1){var O=x[b-2];O.left===T?O.left=D:O.right=D}x[b-1]=D;return}if(i._color===t)if(T._color===g){T._color=t,T.right=n(g,i);return}else{T.right=n(g,i);continue}else{if(i=s(i),T.right=i.left,i.left=T,i._color=T._color,T._color=g,l(T),l(i),b>1){var O=x[b-2];O.left===T?O.left=i:O.right=i}x[b-1]=i,x[b]=T,b+1<x.length?x[b+1]=E:x.push(E),b=b+2}}else{if(i=T.left,i.left&&i.left._color===g){if(i=T.left=s(i),D=i.left=s(i.left),T.left=i.right,i.right=T,i.left=D,i._color=T._color,E._color=t,T._color=t,D._color=t,l(T),l(i),b>1){var O=x[b-2];O.right===T?O.right=i:O.left=i}x[b-1]=i;return}else if(i.right&&i.right._color===g){if(i=T.left=s(i),D=i.right=s(i.right),T.left=D.right,i.right=D.left,D.right=T,D.left=i,D._color=T._color,T._color=t,i._color=t,E._color=t,l(T),l(i),l(D),b>1){var O=x[b-2];O.right===T?O.right=D:O.left=D}x[b-1]=D;return}if(i._color===t)if(T._color===g){T._color=t,T.left=n(g,i);return}else{T.left=n(g,i);continue}else{if(i=s(i),T.left=i.right,i.right=T,i._color=T._color,T._color=g,l(T),l(i),b>1){var O=x[b-2];O.right===T?O.right=i:O.left=i}x[b-1]=i,x[b]=T,b+1<x.length?x[b+1]=E:x.push(E),b=b+2}}}}u.remove=function(){var x=this._stack;if(x.length===0)return this.tree;var E=new Array(x.length),T=x[x.length-1];E[E.length-1]=new r(T._color,T.key,T.value,T.left,T.right,T._count);for(var i=x.length-2;i>=0;--i){var T=x[i];T.left===x[i+1]?E[i]=new r(T._color,T.key,T.value,E[i+1],T.right,T._count):E[i]=new r(T._color,T.key,T.value,T.left,E[i+1],T._count)}if(T=E[E.length-1],T.left&&T.right){var D=E.length;for(T=T.left;T.right;)E.push(T),T=T.right;var b=E[D-1];E.push(new r(T._color,b.key,b.value,T.left,T.right,T._count)),E[D-1].key=T.key,E[D-1].value=T.value;for(var i=E.length-2;i>=D;--i)T=E[i],E[i]=new r(T._color,T.key,T.value,T.left,E[i+1],T._count);E[D-1].left=E[D]}if(T=E[E.length-1],T._color===g){var O=E[E.length-2];O.left===T?O.left=null:O.right===T&&(O.right=null),E.pop();for(var i=0;i<E.length;++i)E[i]._count--;return new c(this.tree._compare,E[0])}else if(T.left||T.right){T.left?y(T,T.left):T.right&&y(T,T.right),T._color=t;for(var i=0;i<E.length-1;++i)E[i]._count--;return new c(this.tree._compare,E[0])}else{if(E.length===1)return new c(this.tree._compare,null);for(var i=0;i<E.length;++i)E[i]._count--;var F=E[E.length-2];M(E),F.left===T?F.left=null:F.right=null}return new c(this.tree._compare,E[0])},Object.defineProperty(u,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(u,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(u,"index",{get:function(){var x=0,E=this._stack;if(E.length===0){var T=this.tree.root;return T?T._count:0}else E[E.length-1].left&&(x=E[E.length-1].left._count);for(var i=E.length-2;i>=0;--i)E[i+1]===E[i].right&&(++x,E[i].left&&(x+=E[i].left._count));return x},enumerable:!0}),u.next=function(){var x=this._stack;if(x.length!==0){var E=x[x.length-1];if(E.right)for(E=E.right;E;)x.push(E),E=E.left;else for(x.pop();x.length>0&&x[x.length-1].right===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(u,"hasNext",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].right)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].left===x[E])return!0;return!1}}),u.update=function(x){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var T=new Array(E.length),i=E[E.length-1];T[T.length-1]=new r(i._color,i.key,x,i.left,i.right,i._count);for(var D=E.length-2;D>=0;--D)i=E[D],i.left===E[D+1]?T[D]=new r(i._color,i.key,i.value,T[D+1],i.right,i._count):T[D]=new r(i._color,i.key,i.value,i.left,T[D+1],i._count);return new c(this.tree._compare,T[0])},u.prev=function(){var x=this._stack;if(x.length!==0){var E=x[x.length-1];if(E.left)for(E=E.left;E;)x.push(E),E=E.right;else for(x.pop();x.length>0&&x[x.length-1].left===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(u,"hasPrev",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].left)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].right===x[E])return!0;return!1}});function S(x,E){return x<E?-1:x>E?1:0}function R(x){return new c(x||S,null)}},7453:function(h,g,t){h.exports=i;var r=t(9557),s=t(1681),n=t(1011),l=t(2864),c=t(8468),f=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(D,b){return D[0]=b[0],D[1]=b[1],D[2]=b[2],D}function v(D){this.gl=D,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(D)}var A=v.prototype;A.update=function(D){D=D||{};function b(oe,he,q){if(q in D){var Z=D[q],$=this[q],K;(oe?Array.isArray(Z)&&Array.isArray(Z[0]):Array.isArray(Z))?this[q]=K=[he(Z[0]),he(Z[1]),he(Z[2])]:this[q]=K=[he(Z),he(Z),he(Z)];for(var re=0;re<3;++re)if(K[re]!==$[re])return!0}return!1}var O=b.bind(this,!1,Number),F=b.bind(this,!1,Boolean),V=b.bind(this,!1,String),_=b.bind(this,!0,function(oe){if(Array.isArray(oe)){if(oe.length===3)return[+oe[0],+oe[1],+oe[2],1];if(oe.length===4)return[+oe[0],+oe[1],+oe[2],+oe[3]]}return[0,0,0,1]}),U,H=!1,z=!1;if("bounds"in D)for(var G=D.bounds,Y=0;Y<2;++Y)for(var J=0;J<3;++J)G[Y][J]!==this.bounds[Y][J]&&(z=!0),this.bounds[Y][J]=G[Y][J];if("ticks"in D){U=D.ticks,H=!0,this.autoTicks=!1;for(var Y=0;Y<3;++Y)this.tickSpacing[Y]=0}else O("tickSpacing")&&(this.autoTicks=!0,z=!0);if(this._firstInit&&("ticks"in D||"tickSpacing"in D||(this.autoTicks=!0),z=!0,H=!0,this._firstInit=!1),z&&this.autoTicks&&(U=c.create(this.bounds,this.tickSpacing),H=!0),H){for(var Y=0;Y<3;++Y)U[Y].sort(function(he,q){return he.x-q.x});c.equal(U,this.ticks)?H=!1:this.ticks=U}F("tickEnable"),V("tickFont")&&(H=!0),O("tickSize"),O("tickAngle"),O("tickPad"),_("tickColor");var ae=V("labels");V("labelFont")&&(ae=!0),F("labelEnable"),O("labelSize"),O("labelPad"),_("labelColor"),F("lineEnable"),F("lineMirror"),O("lineWidth"),_("lineColor"),F("lineTickEnable"),F("lineTickMirror"),O("lineTickLength"),O("lineTickWidth"),_("lineTickColor"),F("gridEnable"),O("gridWidth"),_("gridColor"),F("zeroEnable"),_("zeroLineColor"),O("zeroLineWidth"),F("backgroundEnable"),_("backgroundColor"),this._text?this._text&&(ae||H)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&H&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=s(this.gl,this.bounds,this.ticks))};function d(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var u=[new d,new d,new d];function y(D,b,O,F,V){for(var _=D.primalOffset,U=D.primalMinor,H=D.mirrorOffset,z=D.mirrorMinor,G=F[b],Y=0;Y<3;++Y)if(b!==Y){var J=_,ae=H,oe=U,he=z;G&1<<Y&&(J=H,ae=_,oe=z,he=U),J[Y]=O[0][Y],ae[Y]=O[1][Y],V[Y]>0?(oe[Y]=-1,he[Y]=0):(oe[Y]=0,he[Y]=1)}}var M=[0,0,0],S={model:f,view:f,projection:f,_ortho:!1};A.isOpaque=function(){return!0},A.isTransparent=function(){return!1},A.drawTransparent=function(D){};var R=0,x=[0,0,0],E=[0,0,0],T=[0,0,0];A.draw=function(D){D=D||S;for(var $=this.gl,b=D.model||f,O=D.view||f,F=D.projection||f,V=this.bounds,_=D._ortho||!1,U=l(b,O,F,V,_),H=U.cubeEdges,z=U.axis,G=O[12],Y=O[13],J=O[14],ae=O[15],oe=_?2:1,he=oe*this.pixelRatio*(F[3]*G+F[7]*Y+F[11]*J+F[15]*ae)/$.drawingBufferHeight,q=0;q<3;++q)this.lastCubeProps.cubeEdges[q]=H[q],this.lastCubeProps.axis[q]=z[q];for(var Z=u,q=0;q<3;++q)y(u[q],q,this.bounds,H,z);for(var $=this.gl,K=M,q=0;q<3;++q)this.backgroundEnable[q]?K[q]=z[q]:K[q]=0;this._background.draw(b,O,F,V,K,this.backgroundColor),this._lines.bind(b,O,F,this);for(var q=0;q<3;++q){var re=[0,0,0];z[q]>0?re[q]=V[1][q]:re[q]=V[0][q];for(var le=0;le<2;++le){var te=(q+1+le)%3,ee=(q+1+(le^1))%3;this.gridEnable[te]&&this._lines.drawGrid(te,ee,this.bounds,re,this.gridColor[te],this.gridWidth[te]*this.pixelRatio)}for(var le=0;le<2;++le){var te=(q+1+le)%3,ee=(q+1+(le^1))%3;this.zeroEnable[ee]&&Math.min(V[0][ee],V[1][ee])<=0&&Math.max(V[0][ee],V[1][ee])>=0&&this._lines.drawZero(te,ee,this.bounds,re,this.zeroLineColor[ee],this.zeroLineWidth[ee]*this.pixelRatio)}}for(var q=0;q<3;++q){this.lineEnable[q]&&this._lines.drawAxisLine(q,this.bounds,Z[q].primalOffset,this.lineColor[q],this.lineWidth[q]*this.pixelRatio),this.lineMirror[q]&&this._lines.drawAxisLine(q,this.bounds,Z[q].mirrorOffset,this.lineColor[q],this.lineWidth[q]*this.pixelRatio);for(var ue=m(x,Z[q].primalMinor),se=m(E,Z[q].mirrorMinor),ve=this.lineTickLength,le=0;le<3;++le){var be=he/b[5*le];ue[le]*=ve[le]*be,se[le]*=ve[le]*be}this.lineTickEnable[q]&&this._lines.drawAxisTicks(q,Z[q].primalOffset,ue,this.lineTickColor[q],this.lineTickWidth[q]*this.pixelRatio),this.lineTickMirror[q]&&this._lines.drawAxisTicks(q,Z[q].mirrorOffset,se,this.lineTickColor[q],this.lineTickWidth[q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(b,O,F,this.pixelRatio);var Ee,Ae=.5,Oe,Ue;function Le(We){Ue=[0,0,0],Ue[We]=1}function we(We,rt,et){var tt=(We+1)%3,at=(We+2)%3,ct=rt[tt],dt=rt[at],gt=et[tt],Et=et[at];if(ct>0&&Et>0){Le(tt);return}else if(ct>0&&Et<0){Le(tt);return}else if(ct<0&&Et>0){Le(tt);return}else if(ct<0&&Et<0){Le(tt);return}else if(dt>0&&gt>0){Le(at);return}else if(dt>0&&gt<0){Le(at);return}else if(dt<0&&gt>0){Le(at);return}else if(dt<0&&gt<0){Le(at);return}}for(var q=0;q<3;++q){for(var Ce=Z[q].primalMinor,Ve=Z[q].mirrorMinor,Ne=m(T,Z[q].primalOffset),le=0;le<3;++le)this.lineTickEnable[q]&&(Ne[le]+=he*Ce[le]*Math.max(this.lineTickLength[le],0)/b[5*le]);var ke=[0,0,0];if(ke[q]=1,this.tickEnable[q]){this.tickAngle[q]===-3600?(this.tickAngle[q]=0,this.tickAlign[q]="auto"):this.tickAlign[q]=-1,Oe=1,Ee=[this.tickAlign[q],Ae,Oe],Ee[0]==="auto"?Ee[0]=R:Ee[0]=parseInt(""+Ee[0]),Ue=[0,0,0],we(q,Ce,Ve);for(var le=0;le<3;++le)Ne[le]+=he*Ce[le]*this.tickPad[le]/b[5*le];this._text.drawTicks(q,this.tickSize[q],this.tickAngle[q],Ne,this.tickColor[q],ke,Ue,Ee)}if(this.labelEnable[q]){Oe=0,Ue=[0,0,0],this.labels[q].length>4&&(Le(q),Oe=1),Ee=[this.labelAlign[q],Ae,Oe],Ee[0]==="auto"?Ee[0]=R:Ee[0]=parseInt(""+Ee[0]);for(var le=0;le<3;++le)Ne[le]+=he*Ce[le]*this.labelPad[le]/b[5*le];Ne[q]+=.5*(V[0][q]+V[1][q]),this._text.drawLabel(q,this.labelSize[q],this.labelAngle[q],Ne,this.labelColor[q],[0,0,0],Ue,Ee)}}this._text.unbind()},A.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function i(D,b){var O=new v(D);return O.update(b),O}},1011:function(h,g,t){h.exports=f;var r=t(5827),s=t(2944),n=t(1943).bg;function l(m,v,A,d){this.gl=m,this.buffer=v,this.vao=A,this.shader=d}var c=l.prototype;c.draw=function(m,v,A,d,u,y){for(var M=!1,S=0;S<3;++S)M=M||u[S];if(M){var R=this.gl;R.enable(R.POLYGON_OFFSET_FILL),R.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:v,projection:A,bounds:d,enable:u,colors:y},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),R.disable(R.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function f(m){for(var v=[],A=[],d=0,u=0;u<3;++u)for(var y=(u+1)%3,M=(u+2)%3,S=[0,0,0],R=[0,0,0],x=-1;x<=1;x+=2){A.push(d,d+2,d+1,d+1,d+2,d+3),S[u]=x,R[u]=x;for(var E=-1;E<=1;E+=2){S[y]=E;for(var T=-1;T<=1;T+=2)S[M]=T,v.push(S[0],S[1],S[2],R[0],R[1],R[2]),d+=1}var i=y;y=M,M=i}var D=r(m,new Float32Array(v)),b=r(m,new Uint16Array(A),m.ELEMENT_ARRAY_BUFFER),O=s(m,[{buffer:D,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:D,type:m.FLOAT,size:3,offset:12,stride:24}],b),F=n(m);return F.attributes.position.location=0,F.attributes.normal.location=1,new l(m,D,O,F)}},2864:function(h,g,t){h.exports=x;var r=t(2288),s=t(104),n=t(4670),l=t(417),c=new Array(16),f=new Array(8),m=new Array(8),v=new Array(3),A=[0,0,0];(function(){for(var E=0;E<8;++E)f[E]=[1,1,1,1],m[E]=[1,1,1]})();function d(E,T,i){for(var D=0;D<4;++D){E[D]=i[12+D];for(var b=0;b<3;++b)E[D]+=T[b]*i[4*b+D]}}var u=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function y(E){for(var T=0;T<u.length;++T)if(E=n.positive(E,u[T]),E.length<3)return 0;for(var i=E[0],D=i[0]/i[3],b=i[1]/i[3],O=0,T=1;T+1<E.length;++T){var F=E[T],V=E[T+1],_=F[0]/F[3],U=F[1]/F[3],H=V[0]/V[3],z=V[1]/V[3],G=_-D,Y=U-b,J=H-D,ae=z-b;O+=Math.abs(G*ae-Y*J)}return O}var M=[1,1,1],S=[0,0,0],R={cubeEdges:M,axis:S};function x(E,T,i,D,b){s(c,T,E),s(c,i,c);for(var O=0,F=0;F<2;++F){v[2]=D[F][2];for(var V=0;V<2;++V){v[1]=D[V][1];for(var _=0;_<2;++_)v[0]=D[_][0],d(f[O],v,c),O+=1}}for(var U=-1,F=0;F<8;++F){for(var H=f[F][3],z=0;z<3;++z)m[F][z]=f[F][z]/H;b&&(m[F][2]*=-1),H<0&&(U<0||m[F][2]<m[U][2])&&(U=F)}if(U<0){U=0;for(var G=0;G<3;++G){for(var Y=(G+2)%3,J=(G+1)%3,ae=-1,oe=-1,he=0;he<2;++he){var q=he<<G,Z=q+(he<<Y)+(1-he<<J),$=q+(1-he<<Y)+(he<<J);l(m[q],m[Z],m[$],A)<0||(he?ae=1:oe=1)}if(ae<0||oe<0){oe>ae&&(U|=1<<G);continue}for(var he=0;he<2;++he){var q=he<<G,Z=q+(he<<Y)+(1-he<<J),$=q+(1-he<<Y)+(he<<J),K=y([f[q],f[Z],f[$],f[q+(1<<Y)+(1<<J)]]);he?ae=K:oe=K}if(oe>ae){U|=1<<G;continue}}}for(var re=7^U,le=-1,F=0;F<8;++F)F===U||F===re||(le<0||m[le][1]>m[F][1])&&(le=F);for(var te=-1,F=0;F<3;++F){var ee=le^1<<F;if(!(ee===U||ee===re)){te<0&&(te=ee);var J=m[ee];J[0]<m[te][0]&&(te=ee)}}for(var ue=-1,F=0;F<3;++F){var ee=le^1<<F;if(!(ee===U||ee===re||ee===te)){ue<0&&(ue=ee);var J=m[ee];J[0]>m[ue][0]&&(ue=ee)}}var se=M;se[0]=se[1]=se[2]=0,se[r.log2(te^le)]=le&te,se[r.log2(le^ue)]=le&ue;var ve=ue^7;ve===U||ve===re?(ve=te^7,se[r.log2(ue^ve)]=ve&ue):se[r.log2(te^ve)]=ve&te;for(var be=S,Ee=U,G=0;G<3;++G)Ee&1<<G?be[G]=-1:be[G]=1;return R}},1681:function(h,g,t){h.exports=M;var r=t(5827),s=t(2944),n=t(1943).j,l=[0,0,0],c=[0,0,0],f=[0,0,0],m=[0,0,0],v=[1,1];function A(S){return S[0]=S[1]=S[2]=0,S}function d(S,R){return S[0]=R[0],S[1]=R[1],S[2]=R[2],S}function u(S,R,x,E,T,i,D,b){this.gl=S,this.vertBuffer=R,this.vao=x,this.shader=E,this.tickCount=T,this.tickOffset=i,this.gridCount=D,this.gridOffset=b}var y=u.prototype;y.bind=function(S,R,x){this.shader.bind(),this.shader.uniforms.model=S,this.shader.uniforms.view=R,this.shader.uniforms.projection=x,v[0]=this.gl.drawingBufferWidth,v[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=v,this.vao.bind()},y.unbind=function(){this.vao.unbind()},y.drawAxisLine=function(S,R,x,E,T){var i=A(c);this.shader.uniforms.majorAxis=c,i[S]=R[1][S]-R[0][S],this.shader.uniforms.minorAxis=i;var D=d(m,x);D[S]+=R[0][S],this.shader.uniforms.offset=D,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=E;var b=A(f);b[(S+2)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6);var b=A(f);b[(S+1)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6)},y.drawAxisTicks=function(S,R,x,E,T){if(this.tickCount[S]){var i=A(l);i[S]=1,this.shader.uniforms.majorAxis=i,this.shader.uniforms.offset=R,this.shader.uniforms.minorAxis=x,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=T;var D=A(f);D[S]=1,this.shader.uniforms.screenAxis=D,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S])}},y.drawGrid=function(S,R,x,E,T,i){if(this.gridCount[S]){var D=A(c);D[R]=x[1][R]-x[0][R],this.shader.uniforms.minorAxis=D;var b=d(m,E);b[R]+=x[0][R],this.shader.uniforms.offset=b;var O=A(l);O[S]=1,this.shader.uniforms.majorAxis=O;var F=A(f);F[S]=1,this.shader.uniforms.screenAxis=F,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=T,this.vao.draw(this.gl.TRIANGLES,this.gridCount[S],this.gridOffset[S])}},y.drawZero=function(S,R,x,E,T,i){var D=A(c);this.shader.uniforms.majorAxis=D,D[S]=x[1][S]-x[0][S],this.shader.uniforms.minorAxis=D;var b=d(m,E);b[S]+=x[0][S],this.shader.uniforms.offset=b;var O=A(f);O[R]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=T,this.vao.draw(this.gl.TRIANGLES,6)},y.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function M(S,R,x){var E=[],T=[0,0,0],i=[0,0,0],D=[0,0,0],b=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var O=0;O<3;++O){for(var _=E.length/3|0,F=0;F<x[O].length;++F){var V=+x[O][F].x;E.push(V,0,1,V,1,1,V,0,-1,V,0,-1,V,1,1,V,1,-1)}var H=E.length/3|0;T[O]=_,i[O]=H-_;for(var _=E.length/3|0,U=0;U<x[O].length;++U){var V=+x[O][U].x;E.push(V,0,1,V,1,1,V,0,-1,V,0,-1,V,1,1,V,1,-1)}var H=E.length/3|0;D[O]=_,b[O]=H-_}var z=r(S,new Float32Array(E)),G=s(S,[{buffer:z,type:S.FLOAT,size:3,stride:0,offset:0}]),Y=n(S);return Y.attributes.position.location=0,new u(S,z,G,Y,i,T,b,D)}},1943:function(h,g,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.j=function(A){return s(A,n,l,null,[{name:"position",type:"vec3"}])};var c=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),f=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.f=function(A){return s(A,c,f,null,[{name:"position",type:"vec3"}])};var m=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),v=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);g.bg=function(A){return s(A,m,v,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(h,g,t){h.exports=y;var r=t(5827),s=t(2944),n=t(875),l=t(1943).f,c=window||p.global||{},f=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var m=3;function v(M,S,R,x){this.gl=M,this.shader=S,this.buffer=R,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var A=v.prototype,d=[0,0];A.bind=function(M,S,R,x){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=M,E.view=S,E.projection=R,E.pixelScale=x,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=d},A.unbind=function(){this.vao.unbind()},A.update=function(M,S,R,x,E){var T=[];function i(z,G,Y,J,ae,oe){var he=f[Y];he||(he=f[Y]={});var q=he[G];q||(q=he[G]=u(G,{triangles:!0,font:Y,textAlign:"center",textBaseline:"middle",lineSpacing:ae,styletags:oe}));for(var Z=(J||12)/12,$=q.positions,K=q.cells,re=0,le=K.length;re<le;++re)for(var te=K[re],ee=2;ee>=0;--ee){var ue=$[te[ee]];T.push(Z*ue[0],-Z*ue[1],z)}}for(var D=[0,0,0],b=[0,0,0],O=[0,0,0],F=[0,0,0],V=1.25,_={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},U=0;U<3;++U){O[U]=T.length/m|0,i(.5*(M[0][U]+M[1][U]),S[U],R[U],12,V,_),F[U]=(T.length/m|0)-O[U],D[U]=T.length/m|0;for(var H=0;H<x[U].length;++H)x[U][H].text&&i(x[U][H].x,x[U][H].text,x[U][H].font||E,x[U][H].fontSize||12,V,_);b[U]=(T.length/m|0)-D[U]}this.buffer.update(T),this.tickOffset=D,this.tickCount=b,this.labelOffset=O,this.labelCount=F},A.drawTicks=function(M,S,R,x,E,T,i,D){this.tickCount[M]&&(this.shader.uniforms.axis=T,this.shader.uniforms.color=E,this.shader.uniforms.angle=R,this.shader.uniforms.scale=S,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=D,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M]))},A.drawLabel=function(M,S,R,x,E,T,i,D){this.labelCount[M]&&(this.shader.uniforms.axis=T,this.shader.uniforms.color=E,this.shader.uniforms.angle=R,this.shader.uniforms.scale=S,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=D,this.vao.draw(this.gl.TRIANGLES,this.labelCount[M],this.labelOffset[M]))},A.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function u(M,S){try{return n(M,S)}catch(R){return console.warn('error vectorizing text:"'+M+'" error:',R),{cells:[],positions:[]}}}function y(M,S,R,x,E,T){var i=r(M),D=s(M,[{buffer:i,size:3}]),b=l(M);b.attributes.position.location=0;var O=new v(M,b,i,D);return O.update(S,R,x,E,T),O}},8468:function(h,g){g.create=r,g.equal=s;function t(n,l){var c=n+"",f=c.indexOf("."),m=0;f>=0&&(m=c.length-f-1);var v=Math.pow(10,m),A=Math.round(n*l*v),d=A+"";if(d.indexOf("e")>=0)return d;var u=A/v,y=A%v;A<0?(u=-Math.ceil(u)|0,y=-y|0):(u=Math.floor(u)|0,y=y|0);var M=""+u;if(A<0&&(M="-"+M),m){for(var S=""+y;S.length<m;)S="0"+S;return M+"."+S}else return M}function r(n,l){for(var c=[],f=0;f<3;++f){var m=[];.5*(n[0][f]+n[1][f]);for(var v=0;v*l[f]<=n[1][f];++v)m.push({x:v*l[f],text:t(l[f],v)});for(var v=-1;v*l[f]>=n[0][f];--v)m.push({x:v*l[f],text:t(l[f],v)});c.push(m)}return c}function s(n,l){for(var c=0;c<3;++c){if(n[c].length!==l[c].length)return!1;for(var f=0;f<n[c].length;++f){var m=n[c][f],v=l[c][f];if(m.x!==v.x||m.text!==v.text||m.font!==v.font||m.fontColor!==v.fontColor||m.fontSize!==v.fontSize||m.dx!==v.dx||m.dy!==v.dy)return!1}}return!0}},2771:function(h,g,t){h.exports=R;var r=t(5795),s=t(4670),n=t(2864),l=t(104),c=t(2142),f=t(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),v=new Float32Array(16);function A(x,E,T){this.lo=x,this.hi=E,this.pixelsPerDataUnit=T}var d=[0,0,0,1],u=[0,0,0,1];function y(x,E,T,i,D){for(var b=0;b<3;++b){for(var O=d,F=u,V=0;V<3;++V)F[V]=O[V]=T[V];F[3]=O[3]=1,F[b]+=1,f(F,F,E),F[3]<0&&(x[b]=1/0),O[b]-=1,f(O,O,E),O[3]<0&&(x[b]=1/0);var _=(O[0]/O[3]-F[0]/F[3])*i,U=(O[1]/O[3]-F[1]/F[3])*D;x[b]=.25*Math.sqrt(_*_+U*U)}return x}var M=[new A(1/0,-1/0,1/0),new A(1/0,-1/0,1/0),new A(1/0,-1/0,1/0)],S=[0,0,0];function R(x,E,T,i,U){var b=E.model||m,O=E.view||m,F=E.projection||m,V=E._ortho||!1,_=x.bounds,U=U||n(b,O,F,_,V),H=U.axis;l(v,O,b),l(v,F,v);for(var z=M,G=0;G<3;++G)z[G].lo=1/0,z[G].hi=-1/0,z[G].pixelsPerDataUnit=1/0;var Y=r(c(v,v));c(v,v);for(var J=0;J<3;++J){var ae=(J+1)%3,oe=(J+2)%3,he=S;e:for(var G=0;G<2;++G){var q=[];if(H[J]<0!=!!G){he[J]=_[G][J];for(var Z=0;Z<2;++Z){he[ae]=_[Z^G][ae];for(var $=0;$<2;++$)he[oe]=_[$^Z^G][oe],q.push(he.slice())}for(var K=V?5:4,Z=K;Z===K;++Z){if(q.length===0)continue e;q=s.positive(q,Y[Z])}for(var Z=0;Z<q.length;++Z)for(var oe=q[Z],re=y(S,v,oe,T,i),$=0;$<3;++$)z[$].lo=Math.min(z[$].lo,oe[$]),z[$].hi=Math.max(z[$].hi,oe[$]),$!==J&&(z[$].pixelsPerDataUnit=Math.min(z[$].pixelsPerDataUnit,Math.abs(re[$])))}}}return z}},5827:function(h,g,t){var r=t(5306),s=t(7498),n=t(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(u,y,M,S,R){this.gl=u,this.type=y,this.handle=M,this.length=S,this.usage=R}var f=c.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.unbind=function(){this.gl.bindBuffer(this.type,null)},f.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(u,y,M,S,R,x){var E=R.length*R.BYTES_PER_ELEMENT;if(x<0)return u.bufferData(y,R,S),E;if(E+x>M)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return u.bufferSubData(y,x,R),M}function v(u,y){for(var M=r.malloc(u.length,y),S=u.length,R=0;R<S;++R)M[R]=u[R];return M}function A(u,y){for(var M=1,S=y.length-1;S>=0;--S){if(y[S]!==M)return!1;M*=u[S]}return!0}f.update=function(u,y){if(typeof y!="number"&&(y=-1),this.bind(),typeof u=="object"&&typeof u.shape<"u"){var M=u.dtype;if(l.indexOf(M)<0&&(M="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var S=gl.getExtension("OES_element_index_uint");S&&M!=="uint16"?M="uint32":M="uint16"}if(M===u.dtype&&A(u.shape,u.stride))u.offset===0&&u.data.length===u.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,u.data,y):this.length=m(this.gl,this.type,this.length,this.usage,u.data.subarray(u.offset,u.shape[0]),y);else{var R=r.malloc(u.size,M),x=n(R,u.shape);s.assign(x,u),y<0?this.length=m(this.gl,this.type,this.length,this.usage,R,y):this.length=m(this.gl,this.type,this.length,this.usage,R.subarray(0,u.size),y),r.free(R)}}else if(Array.isArray(u)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=v(u,"uint16"):E=v(u,"float32"),y<0?this.length=m(this.gl,this.type,this.length,this.usage,E,y):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,u.length),y),r.free(E)}else if(typeof u=="object"&&typeof u.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,u,y);else if(typeof u=="number"||u===void 0){if(y>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");u=u|0,u<=0&&(u=1),this.gl.bufferData(this.type,u|0,this.usage),this.length=u}else throw new Error("gl-buffer: Invalid data type")};function d(u,y,M,S){if(M=M||u.ARRAY_BUFFER,S=S||u.DYNAMIC_DRAW,M!==u.ARRAY_BUFFER&&M!==u.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(S!==u.DYNAMIC_DRAW&&S!==u.STATIC_DRAW&&S!==u.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var R=u.createBuffer(),x=new c(u,M,R,0,S);return x.update(y),x}h.exports=d},1140:function(h,g,t){var r=t(2858);h.exports=function(n,l){var c=n.positions,f=n.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),m;for(var v=0,A=1/0,d=-1/0,u=1/0,y=-1/0,M=1/0,S=-1/0,R=null,x=null,E=[],T=1/0,i=!1,D=0;D<c.length;D++){var b=c[D];A=Math.min(b[0],A),d=Math.max(b[0],d),u=Math.min(b[1],u),y=Math.max(b[1],y),M=Math.min(b[2],M),S=Math.max(b[2],S);var O=f[D];if(r.length(O)>v&&(v=r.length(O)),D){var F=2*r.distance(R,b)/(r.length(x)+r.length(O));F?(T=Math.min(T,F),i=!1):i=!0}i||(R=b,x=O),E.push(O)}var V=[A,u,M],_=[d,y,S];l&&(l[0]=V,l[1]=_),v===0&&(v=1);var U=1/v;isFinite(T)||(T=1),m.vectorScale=T;var H=n.coneSize||.5;n.absoluteConeSize&&(H=n.absoluteConeSize*U),m.coneScale=H;for(var D=0,z=0;D<c.length;D++)for(var b=c[D],G=b[0],Y=b[1],J=b[2],ae=E[D],oe=r.length(ae)*U,he=0,q=8;he<q;he++){m.positions.push([G,Y,J,z++]),m.positions.push([G,Y,J,z++]),m.positions.push([G,Y,J,z++]),m.positions.push([G,Y,J,z++]),m.positions.push([G,Y,J,z++]),m.positions.push([G,Y,J,z++]),m.vectors.push(ae),m.vectors.push(ae),m.vectors.push(ae),m.vectors.push(ae),m.vectors.push(ae),m.vectors.push(ae),m.vertexIntensity.push(oe,oe,oe),m.vertexIntensity.push(oe,oe,oe);var Z=m.positions.length;m.cells.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}return m};var s=t(7234);h.exports.createMesh=t(5028),h.exports.createConeMesh=function(n,l){return h.exports.createMesh(n,l,{shaders:s,traceType:"cone"})}},5028:function(h,g,t){var r=t(5158),s=t(5827),n=t(2944),l=t(8931),c=t(104),f=t(7437),m=t(5050),v=t(9156),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(E,T,i,D,b,O,F,V,_,U,H){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=T,this.dirty=!0,this.triShader=i,this.pickShader=D,this.trianglePositions=b,this.triangleVectors=O,this.triangleColors=V,this.triangleUVs=_,this.triangleIds=F,this.triangleVAO=U,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=H,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=A,this._view=A,this._projection=A,this._resolution=[1,1]}var u=d.prototype;u.isOpaque=function(){return this.opacity>=1},u.isTransparent=function(){return this.opacity<1},u.pickSlots=1,u.setPickBase=function(E){this.pickId=E};function y(E){for(var T=v({colormap:E,nshades:256,format:"rgba"}),i=new Uint8Array(256*4),D=0;D<256;++D){for(var b=T[D],O=0;O<3;++O)i[4*D+O]=b[O];i[4*D+3]=b[3]*255}return m(i,[256,256,4],[4,0,1])}function M(E){for(var T=E.length,i=new Array(T),D=0;D<T;++D)i[D]=E[D][2];return i}u.update=function(E){E=E||{};var T=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=T.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=T.LINEAR,this.texture.setPixels(y(E.colormap)),this.texture.generateMipmap());var i=E.cells,D=E.positions,b=E.vectors;if(!(!D||!i||!b)){var O=[],F=[],V=[],_=[],U=[];this.cells=i,this.positions=D,this.vectors=b;var H=E.meshColor||[1,1,1,1],z=E.vertexIntensity,G=1/0,Y=-1/0;if(z)if(E.vertexIntensityBounds)G=+E.vertexIntensityBounds[0],Y=+E.vertexIntensityBounds[1];else for(var J=0;J<z.length;++J){var ae=z[J];G=Math.min(G,ae),Y=Math.max(Y,ae)}else for(var J=0;J<D.length;++J){var ae=D[J][2];G=Math.min(G,ae),Y=Math.max(Y,ae)}z?this.intensity=z:this.intensity=M(D),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var J=0;J<D.length;++J)for(var oe=D[J],he=0;he<3;++he)isNaN(oe[he])||!isFinite(oe[he])||(this.bounds[0][he]=Math.min(this.bounds[0][he],oe[he]),this.bounds[1][he]=Math.max(this.bounds[1][he],oe[he]));var q=0;e:for(var J=0;J<i.length;++J){var Z=i[J];switch(Z.length){case 3:for(var he=0;he<3;++he)for(var $=Z[he],oe=D[$],K=0;K<3;++K)if(isNaN(oe[K])||!isFinite(oe[K]))continue e;for(var he=0;he<3;++he){var $=Z[2-he],oe=D[$];O.push(oe[0],oe[1],oe[2],oe[3]);var re=b[$];F.push(re[0],re[1],re[2],re[3]||0);var le=H;le.length===3?V.push(le[0],le[1],le[2],1):V.push(le[0],le[1],le[2],le[3]);var te;z?te=[(z[$]-G)/(Y-G),0]:te=[(oe[2]-G)/(Y-G),0],_.push(te[0],te[1]),U.push(J)}q+=1;break}}this.triangleCount=q,this.trianglePositions.update(O),this.triangleVectors.update(F),this.triangleColors.update(V),this.triangleUVs.update(_),this.triangleIds.update(new Uint32Array(U))}},u.drawTransparent=u.draw=function(E){E=E||{};for(var T=this.gl,i=E.model||A,D=E.view||A,b=E.projection||A,O=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],F=0;F<3;++F)O[0][F]=Math.max(O[0][F],this.clipBounds[0][F]),O[1][F]=Math.min(O[1][F],this.clipBounds[1][F]);var V={model:i,view:D,projection:b,inverseModel:A.slice(),clipBounds:O,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};V.inverseModel=f(V.inverseModel,V.model),T.disable(T.CULL_FACE),this.texture.bind(0);var _=new Array(16);c(_,V.view,V.model),c(_,V.projection,_),f(_,_);for(var F=0;F<3;++F)V.eyePosition[F]=_[12+F]/_[15];for(var U=_[15],F=0;F<3;++F)U+=this.lightPosition[F]*_[4*F+3];for(var F=0;F<3;++F){for(var H=_[12+F],z=0;z<3;++z)H+=_[4*z+F]*this.lightPosition[z];V.lightPosition[F]=H/U}if(this.triangleCount>0){var G=this.triShader;G.bind(),G.uniforms=V,this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},u.drawPick=function(E){E=E||{};for(var T=this.gl,i=E.model||A,D=E.view||A,b=E.projection||A,O=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],F=0;F<3;++F)O[0][F]=Math.max(O[0][F],this.clipBounds[0][F]),O[1][F]=Math.min(O[1][F],this.clipBounds[1][F]);this._model=[].slice.call(i),this._view=[].slice.call(D),this._projection=[].slice.call(b),this._resolution=[T.drawingBufferWidth,T.drawingBufferHeight];var V={model:i,view:D,projection:b,clipBounds:O,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},_=this.pickShader;_.bind(),_.uniforms=V,this.triangleCount>0&&(this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},u.pick=function(E){if(!E||E.id!==this.pickId)return null;var T=E.value[0]+256*E.value[1]+65536*E.value[2],i=this.cells[T],D=this.positions[i[1]].slice(0,3),b={position:D,dataCoordinate:D,index:Math.floor(i[1]/48)};return this.traceType==="cone"?b.index=Math.floor(i[1]/48):this.traceType==="streamtube"&&(b.intensity=this.intensity[i[1]],b.velocity=this.vectors[i[1]].slice(0,3),b.divergence=this.vectors[i[1]][3],b.index=T),b},u.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function S(E,T){var i=r(E,T.meshShader.vertex,T.meshShader.fragment,null,T.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}function R(E,T){var i=r(E,T.pickShader.vertex,T.pickShader.fragment,null,T.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}function x(E,T,i){var D=i.shaders;arguments.length===1&&(T=E,E=T.gl);var b=S(E,D),O=R(E,D),F=l(E,m(new Uint8Array([255,255,255,255]),[1,1,4]));F.generateMipmap(),F.minFilter=E.LINEAR_MIPMAP_LINEAR,F.magFilter=E.LINEAR;var V=s(E),_=s(E),U=s(E),H=s(E),z=s(E),G=n(E,[{buffer:V,type:E.FLOAT,size:4},{buffer:z,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:U,type:E.FLOAT,size:4},{buffer:H,type:E.FLOAT,size:2},{buffer:_,type:E.FLOAT,size:4}]),Y=new d(E,F,b,O,V,_,z,U,H,G,i.traceType||"cone");return Y.update(T),Y}h.exports=x},7234:function(h,g,t){var r=t(6832),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},g.pickShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(h){h.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(h,g,t){var r=t(1950);h.exports=function(n){return r[n]}},3110:function(h,g,t){h.exports=d;var r=t(5827),s=t(2944),n=t(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(u,y,M,S){this.gl=u,this.shader=S,this.buffer=y,this.vao=M,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var f=c.prototype;f.isOpaque=function(){return!this.hasAlpha},f.isTransparent=function(){return this.hasAlpha},f.drawTransparent=f.draw=function(u){var y=this.gl,M=this.shader.uniforms;this.shader.bind();var S=M.view=u.view||l,R=M.projection=u.projection||l;M.model=u.model||l,M.clipBounds=this.clipBounds,M.opacity=this.opacity;var x=S[12],E=S[13],T=S[14],i=S[15],D=u._ortho||!1,b=D?2:1,O=b*this.pixelRatio*(R[3]*x+R[7]*E+R[11]*T+R[15]*i)/y.drawingBufferHeight;this.vao.bind();for(var F=0;F<3;++F)y.lineWidth(this.lineWidth[F]*this.pixelRatio),M.capSize=this.capSize[F]*O,this.lineCount[F]&&y.drawArrays(y.LINES,this.lineOffset[F],this.lineCount[F]);this.vao.unbind()};function m(u,y){for(var M=0;M<3;++M)u[0][M]=Math.min(u[0][M],y[M]),u[1][M]=Math.max(u[1][M],y[M])}var v=function(){for(var u=new Array(3),y=0;y<3;++y){for(var M=[],S=1;S<=2;++S)for(var R=-1;R<=1;R+=2){var x=(S+y)%3,E=[0,0,0];E[x]=R,M.push(E)}u[y]=M}return u}();function A(u,y,M,S){for(var R=v[S],x=0;x<R.length;++x){var E=R[x];u.push(y[0],y[1],y[2],M[0],M[1],M[2],M[3],E[0],E[1],E[2])}return R.length}f.update=function(u){u=u||{},"lineWidth"in u&&(this.lineWidth=u.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in u&&(this.capSize=u.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in u&&(this.opacity=+u.opacity,this.opacity<1&&(this.hasAlpha=!0));var y=u.color||[[0,0,0],[0,0,0],[0,0,0]],M=u.position,S=u.error;if(Array.isArray(y[0])||(y=[y,y,y]),M&&S){var R=[],x=M.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var T=0;T<3;++T){this.lineOffset[T]=E;e:for(var i=0;i<x;++i){for(var D=M[i],b=0;b<3;++b)if(isNaN(D[b])||!isFinite(D[b]))continue e;var O=S[i],F=y[T];if(Array.isArray(F[0])&&(F=y[i]),F.length===3?F=[F[0],F[1],F[2],1]:F.length===4&&(F=[F[0],F[1],F[2],F[3]],!this.hasAlpha&&F[3]<1&&(this.hasAlpha=!0)),!(isNaN(O[0][T])||isNaN(O[1][T]))){if(O[0][T]<0){var V=D.slice();V[T]+=O[0][T],R.push(D[0],D[1],D[2],F[0],F[1],F[2],F[3],0,0,0,V[0],V[1],V[2],F[0],F[1],F[2],F[3],0,0,0),m(this.bounds,V),E+=2+A(R,V,F,T)}if(O[1][T]>0){var V=D.slice();V[T]+=O[1][T],R.push(D[0],D[1],D[2],F[0],F[1],F[2],F[3],0,0,0,V[0],V[1],V[2],F[0],F[1],F[2],F[3],0,0,0),m(this.bounds,V),E+=2+A(R,V,F,T)}}}this.lineCount[T]=E-this.lineOffset[T]}this.buffer.update(R)}},f.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function d(u){var y=u.gl,M=r(y),S=s(y,[{buffer:M,type:y.FLOAT,size:3,offset:0,stride:40},{buffer:M,type:y.FLOAT,size:4,offset:12,stride:40},{buffer:M,type:y.FLOAT,size:3,offset:28,stride:40}]),R=n(y);R.attributes.position.location=0,R.attributes.color.location=1,R.attributes.offset.location=2;var x=new c(y,M,S,R);return x.update(u),x}},7667:function(h,g,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);h.exports=function(c){return s(c,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(h,g,t){var r=t(8931);h.exports=E;var s=null,n,l,c,f;function m(T){var i=T.getParameter(T.FRAMEBUFFER_BINDING),D=T.getParameter(T.RENDERBUFFER_BINDING),b=T.getParameter(T.TEXTURE_BINDING_2D);return[i,D,b]}function v(T,i){T.bindFramebuffer(T.FRAMEBUFFER,i[0]),T.bindRenderbuffer(T.RENDERBUFFER,i[1]),T.bindTexture(T.TEXTURE_2D,i[2])}function A(T,i){var D=T.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL);s=new Array(D+1);for(var b=0;b<=D;++b){for(var O=new Array(D),F=0;F<b;++F)O[F]=T.COLOR_ATTACHMENT0+F;for(var F=b;F<D;++F)O[F]=T.NONE;s[b]=O}}function d(T){switch(T){case n:throw new Error("gl-fbo: Framebuffer unsupported");case l:throw new Error("gl-fbo: Framebuffer incomplete attachment");case c:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case f:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function u(T,i,D,b,O,F){if(!b)return null;var V=r(T,i,D,O,b);return V.magFilter=T.NEAREST,V.minFilter=T.NEAREST,V.mipSamples=1,V.bind(),T.framebufferTexture2D(T.FRAMEBUFFER,F,T.TEXTURE_2D,V.handle,0),V}function y(T,i,D,b,O){var F=T.createRenderbuffer();return T.bindRenderbuffer(T.RENDERBUFFER,F),T.renderbufferStorage(T.RENDERBUFFER,b,i,D),T.framebufferRenderbuffer(T.FRAMEBUFFER,O,T.RENDERBUFFER,F),F}function M(T){var i=m(T.gl),D=T.gl,b=T.handle=D.createFramebuffer(),O=T._shape[0],F=T._shape[1],V=T.color.length,_=T._ext,U=T._useStencil,H=T._useDepth,z=T._colorType;D.bindFramebuffer(D.FRAMEBUFFER,b);for(var G=0;G<V;++G)T.color[G]=u(D,O,F,z,D.RGBA,D.COLOR_ATTACHMENT0+G);V===0?(T._color_rb=y(D,O,F,D.RGBA4,D.COLOR_ATTACHMENT0),_&&_.drawBuffersWEBGL(s[0])):V>1&&_.drawBuffersWEBGL(s[V]);var Y=D.getExtension("WEBGL_depth_texture");Y?U?T.depth=u(D,O,F,Y.UNSIGNED_INT_24_8_WEBGL,D.DEPTH_STENCIL,D.DEPTH_STENCIL_ATTACHMENT):H&&(T.depth=u(D,O,F,D.UNSIGNED_SHORT,D.DEPTH_COMPONENT,D.DEPTH_ATTACHMENT)):H&&U?T._depth_rb=y(D,O,F,D.DEPTH_STENCIL,D.DEPTH_STENCIL_ATTACHMENT):H?T._depth_rb=y(D,O,F,D.DEPTH_COMPONENT16,D.DEPTH_ATTACHMENT):U&&(T._depth_rb=y(D,O,F,D.STENCIL_INDEX,D.STENCIL_ATTACHMENT));var J=D.checkFramebufferStatus(D.FRAMEBUFFER);if(J!==D.FRAMEBUFFER_COMPLETE){T._destroyed=!0,D.bindFramebuffer(D.FRAMEBUFFER,null),D.deleteFramebuffer(T.handle),T.handle=null,T.depth&&(T.depth.dispose(),T.depth=null),T._depth_rb&&(D.deleteRenderbuffer(T._depth_rb),T._depth_rb=null);for(var G=0;G<T.color.length;++G)T.color[G].dispose(),T.color[G]=null;T._color_rb&&(D.deleteRenderbuffer(T._color_rb),T._color_rb=null),v(D,i),d(J)}v(D,i)}function S(T,i,D,b,O,F,V,_){this.gl=T,this._shape=[i|0,D|0],this._destroyed=!1,this._ext=_,this.color=new Array(O);for(var U=0;U<O;++U)this.color[U]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=b,this._useDepth=F,this._useStencil=V;var H=this,z=[i|0,D|0];Object.defineProperties(z,{0:{get:function(){return H._shape[0]},set:function(G){return H.width=G}},1:{get:function(){return H._shape[1]},set:function(G){return H.height=G}}}),this._shapeVector=z,M(this)}var R=S.prototype;function x(T,i,D){if(T._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(T._shape[0]===i&&T._shape[1]===D)){var b=T.gl,O=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(i<0||i>O||D<0||D>O)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");T._shape[0]=i,T._shape[1]=D;for(var F=m(b),V=0;V<T.color.length;++V)T.color[V].shape=T._shape;T._color_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,T._color_rb),b.renderbufferStorage(b.RENDERBUFFER,b.RGBA4,T._shape[0],T._shape[1])),T.depth&&(T.depth.shape=T._shape),T._depth_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,T._depth_rb),T._useDepth&&T._useStencil?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,T._shape[0],T._shape[1]):T._useDepth?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,T._shape[0],T._shape[1]):T._useStencil&&b.renderbufferStorage(b.RENDERBUFFER,b.STENCIL_INDEX,T._shape[0],T._shape[1])),b.bindFramebuffer(b.FRAMEBUFFER,T.handle);var _=b.checkFramebufferStatus(b.FRAMEBUFFER);_!==b.FRAMEBUFFER_COMPLETE&&(T.dispose(),v(b,F),d(_)),v(b,F)}}Object.defineProperties(R,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(T){if(Array.isArray(T)||(T=[T|0,T|0]),T.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var i=T[0]|0,D=T[1]|0;return x(this,i,D),[i,D]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(T){return T=T|0,x(this,T,this._shape[1]),T},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(T){return T=T|0,x(this,this._shape[0],T),T},enumerable:!1}}),R.bind=function(){if(!this._destroyed){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,this.handle),T.viewport(0,0,this._shape[0],this._shape[1])}},R.dispose=function(){if(!this._destroyed){this._destroyed=!0;var T=this.gl;T.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(T.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var i=0;i<this.color.length;++i)this.color[i].dispose(),this.color[i]=null;this._color_rb&&(T.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(T,i,D,b){n||(n=T.FRAMEBUFFER_UNSUPPORTED,l=T.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,c=T.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,f=T.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var O=T.getExtension("WEBGL_draw_buffers");if(!s&&O&&A(T,O),Array.isArray(i)&&(b=D,D=i[1]|0,i=i[0]|0),typeof i!="number")throw new Error("gl-fbo: Missing shape parameter");var F=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(i<0||i>F||D<0||D>F)throw new Error("gl-fbo: Parameters are too large for FBO");b=b||{};var V=1;if("color"in b){if(V=Math.max(b.color|0,0),V<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(V>1)if(O){if(V>T.getParameter(O.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+V+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var _=T.UNSIGNED_BYTE,U=T.getExtension("OES_texture_float");if(b.float&&V>0){if(!U)throw new Error("gl-fbo: Context does not support floating point textures");_=T.FLOAT}else b.preferFloat&&V>0&&U&&(_=T.FLOAT);var H=!0;"depth"in b&&(H=!!b.depth);var z=!1;return"stencil"in b&&(z=!!b.stencil),new S(T,i,D,_,V,H,z,O)}},3530:function(h,g,t){var r=t(8974).sprintf,s=t(6603),n=t(9365),l=t(8008);h.exports=c;function c(f,m,v){var A=n(m)||"of unknown name (see npm glsl-shader-name)",d="unknown type";v!==void 0&&(d=v===s.FRAGMENT_SHADER?"fragment":"vertex");for(var u=r(`Error compiling %s shader %s:
`,d,A),y=r("%s%s",u,f),M=f.split(`
`),S={},R=0;R<M.length;R++){var x=M[R];if(!(x===""||x==="\0")){var E=parseInt(x.split(":")[2]);if(isNaN(E))throw new Error(r("Could not parse error: %s",x));S[E]=x}}for(var T=l(m).split(`
`),R=0;R<T.length;R++)if(!(!S[R+3]&&!S[R+2]&&!S[R+1])){var i=T[R];if(u+=i+`
`,S[R+1]){var D=S[R+1];D=D.substr(D.split(":",3).join(":").length+1).trim(),u+=r(`^^^ %s

`,D)}}return{long:u.trim(),short:y.trim()}}},6386:function(h,g,t){h.exports=d;var r=t(5070),s=t(9560),n=t(5306),l=t(5158),c=t(5827),f=t(1292);function m(u,y,M,S,R,x,E){this.plot=u,this.shader=y,this.pickShader=M,this.positionBuffer=S,this.weightBuffer=R,this.colorBuffer=x,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var v=m.prototype,A=[0,0,1,0,0,1,1,0,1,1,0,1];v.draw=function(){var u=[1,0,0,0,1,0,0,0,1];return function(){var y=this.plot,M=this.shader,S=this.bounds,R=this.numVertices;if(!(R<=0)){var x=y.gl,E=y.dataBox,T=S[2]-S[0],i=S[3]-S[1],D=E[2]-E[0],b=E[3]-E[1];u[0]=2*T/D,u[4]=2*i/b,u[6]=2*(S[0]-E[0])/D-1,u[7]=2*(S[1]-E[1])/b-1,M.bind();var O=M.uniforms;O.viewTransform=u,O.shape=this.shape;var F=M.attributes;this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(x.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),F.color.pointer(x.UNSIGNED_BYTE,!0),x.drawArrays(x.TRIANGLES,0,R)}}}(),v.drawPick=function(){var u=[1,0,0,0,1,0,0,0,1],y=[0,0,0,0];return function(M){var S=this.plot,R=this.pickShader,x=this.bounds,E=this.numVertices;if(!(E<=0)){var T=S.gl,i=S.dataBox,D=x[2]-x[0],b=x[3]-x[1],O=i[2]-i[0],F=i[3]-i[1];u[0]=2*D/O,u[4]=2*b/F,u[6]=2*(x[0]-i[0])/O-1,u[7]=2*(x[1]-i[1])/F-1;for(var V=0;V<4;++V)y[V]=M>>V*8&255;this.pickOffset=M,R.bind();var _=R.uniforms;_.viewTransform=u,_.pickOffset=y,_.shape=this.shape;var U=R.attributes;return this.positionBuffer.bind(),U.position.pointer(),this.weightBuffer.bind(),U.weight.pointer(T.UNSIGNED_BYTE,!1),this.idBuffer.bind(),U.pickId.pointer(T.UNSIGNED_BYTE,!1),T.drawArrays(T.TRIANGLES,0,E),M+this.shape[0]*this.shape[1]}}}(),v.pick=function(u,y,M){var S=this.pickOffset,R=this.shape[0]*this.shape[1];if(M<S||M>=S+R)return null;var x=M-S,E=this.xData,T=this.yData;return{object:this,pointId:x,dataCoord:[E[x%this.shape[0]],T[x/this.shape[0]|0]]}},v.update=function(u){u=u||{};var y=u.shape||[0,0],M=u.x||s(y[0]),S=u.y||s(y[1]),R=u.z||new Float32Array(y[0]*y[1]),x=u.zsmooth!==!1;this.xData=M,this.yData=S;var E=u.colorLevels||[0],T=u.colorValues||[0,0,0,1],i=E.length,D=this.bounds,b,O,F,V;x?(b=D[0]=M[0],O=D[1]=S[0],F=D[2]=M[M.length-1],V=D[3]=S[S.length-1]):(b=D[0]=M[0]+(M[1]-M[0])/2,O=D[1]=S[0]+(S[1]-S[0])/2,F=D[2]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2,V=D[3]=S[S.length-1]+(S[S.length-1]-S[S.length-2])/2);var _=1/(F-b),U=1/(V-O),H=y[0],z=y[1];this.shape=[H,z];var G=(x?(H-1)*(z-1):H*z)*(A.length>>>1);this.numVertices=G;for(var Y=n.mallocUint8(G*4),J=n.mallocFloat32(G*2),ae=n.mallocUint8(G*2),oe=n.mallocUint32(G),he=0,q=x?H-1:H,Z=x?z-1:z,$=0;$<Z;++$){var K,re;x?(K=U*(S[$]-O),re=U*(S[$+1]-O)):(K=$<z-1?U*(S[$]-(S[$+1]-S[$])/2-O):U*(S[$]-(S[$]-S[$-1])/2-O),re=$<z-1?U*(S[$]+(S[$+1]-S[$])/2-O):U*(S[$]+(S[$]-S[$-1])/2-O));for(var le=0;le<q;++le){var te,ee;x?(te=_*(M[le]-b),ee=_*(M[le+1]-b)):(te=le<H-1?_*(M[le]-(M[le+1]-M[le])/2-b):_*(M[le]-(M[le]-M[le-1])/2-b),ee=le<H-1?_*(M[le]+(M[le+1]-M[le])/2-b):_*(M[le]+(M[le]-M[le-1])/2-b));for(var ue=0;ue<A.length;ue+=2){var se=A[ue],ve=A[ue+1],be=x?($+ve)*H+(le+se):$*H+le,Ee=R[be],Ae=r.le(E,Ee),Oe,Ue,Le,we;if(Ae<0)Oe=T[0],Ue=T[1],Le=T[2],we=T[3];else if(Ae===i-1)Oe=T[4*i-4],Ue=T[4*i-3],Le=T[4*i-2],we=T[4*i-1];else{var Ce=(Ee-E[Ae])/(E[Ae+1]-E[Ae]),Ve=1-Ce,Ne=4*Ae,ke=4*(Ae+1);Oe=Ve*T[Ne]+Ce*T[ke],Ue=Ve*T[Ne+1]+Ce*T[ke+1],Le=Ve*T[Ne+2]+Ce*T[ke+2],we=Ve*T[Ne+3]+Ce*T[ke+3]}Y[4*he]=255*Oe,Y[4*he+1]=255*Ue,Y[4*he+2]=255*Le,Y[4*he+3]=255*we,J[2*he]=te*.5+ee*.5,J[2*he+1]=K*.5+re*.5,ae[2*he]=se,ae[2*he+1]=ve,oe[he]=$*H+le,he+=1}}}this.positionBuffer.update(J),this.weightBuffer.update(ae),this.colorBuffer.update(Y),this.idBuffer.update(oe),n.free(J),n.free(Y),n.free(ae),n.free(oe)},v.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function d(u,y){var M=u.gl,S=l(M,f.vertex,f.fragment),R=l(M,f.pickVertex,f.pickFragment),x=c(M),E=c(M),T=c(M),i=c(M),D=new m(u,S,R,x,E,T,i);return D.update(y),u.addObject(D),D}},1292:function(h,g,t){var r=t(6832);h.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(h,g,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),f=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];g.createShader=function(m){return s(m,n,l,null,f)},g.createPickShader=function(m){return s(m,n,c,null,f)}},6086:function(h,g,t){h.exports=T;var r=t(5827),s=t(2944),n=t(8931),l=new Uint8Array(4),c=new Float32Array(l.buffer);function f(i,D,b,O){return l[0]=O,l[1]=b,l[2]=D,l[3]=i,c[0]}var m=t(5070),v=t(5050),A=t(248),d=A.createShader,u=A.createPickShader,y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function M(i,D){for(var b=0,O=0;O<3;++O){var F=i[O]-D[O];b+=F*F}return Math.sqrt(b)}function S(i){for(var D=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)D[0][b]=Math.max(i[0][b],D[0][b]),D[1][b]=Math.min(i[1][b],D[1][b]);return D}function R(i,D,b,O){this.arcLength=i,this.position=D,this.index=b,this.dataCoordinate=O}function x(i,D,b,O,F,V){this.gl=i,this.shader=D,this.pickShader=b,this.buffer=O,this.vao=F,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=V,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=x.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(i){this.pickId=i},E.drawTransparent=E.draw=function(i){if(this.vertexCount){var D=this.gl,b=this.shader,O=this.vao;b.bind(),b.uniforms={model:i.model||y,view:i.view||y,projection:i.projection||y,clipBounds:S(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[D.drawingBufferWidth,D.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(D.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},E.drawPick=function(i){if(this.vertexCount){var D=this.gl,b=this.pickShader,O=this.vao;b.bind(),b.uniforms={model:i.model||y,view:i.view||y,projection:i.projection||y,pickId:this.pickId,clipBounds:S(this.clipBounds),screenShape:[D.drawingBufferWidth,D.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(D.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},E.update=function(i){var D,b;this.dirty=!0;var O=!!i.connectGaps;"dashScale"in i&&(this.dashScale=i.dashScale),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var F=[],V=[],_=[],U=0,H=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],G=i.position||i.positions;if(G){var Y=i.color||i.colors||[0,0,0,1],J=i.lineWidth||1,ae=!1;e:for(D=1;D<G.length;++D){var oe=G[D-1],he=G[D];for(V.push(U),_.push(oe.slice()),b=0;b<3;++b){if(isNaN(oe[b])||isNaN(he[b])||!isFinite(oe[b])||!isFinite(he[b])){if(!O&&F.length>0){for(var q=0;q<24;++q)F.push(F[F.length-12]);H+=2,ae=!0}continue e}z[0][b]=Math.min(z[0][b],oe[b],he[b]),z[1][b]=Math.max(z[1][b],oe[b],he[b])}var Z,$;Array.isArray(Y[0])?(Z=Y.length>D-1?Y[D-1]:Y.length>0?Y[Y.length-1]:[0,0,0,1],$=Y.length>D?Y[D]:Y.length>0?Y[Y.length-1]:[0,0,0,1]):Z=$=Y,Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),$.length===3&&($=[$[0],$[1],$[2],1]),!this.hasAlpha&&Z[3]<1&&(this.hasAlpha=!0);var K;Array.isArray(J)?K=J.length>D-1?J[D-1]:J.length>0?J[J.length-1]:[0,0,0,1]:K=J;var re=U;if(U+=M(oe,he),ae){for(b=0;b<2;++b)F.push(oe[0],oe[1],oe[2],he[0],he[1],he[2],re,K,Z[0],Z[1],Z[2],Z[3]);H+=2,ae=!1}F.push(oe[0],oe[1],oe[2],he[0],he[1],he[2],re,K,Z[0],Z[1],Z[2],Z[3],oe[0],oe[1],oe[2],he[0],he[1],he[2],re,-K,Z[0],Z[1],Z[2],Z[3],he[0],he[1],he[2],oe[0],oe[1],oe[2],U,-K,$[0],$[1],$[2],$[3],he[0],he[1],he[2],oe[0],oe[1],oe[2],U,K,$[0],$[1],$[2],$[3]),H+=4}}if(this.buffer.update(F),V.push(U),_.push(G[G.length-1].slice()),this.bounds=z,this.vertexCount=H,this.points=_,this.arcLength=V,"dashes"in i){var le=i.dashes,te=le.slice();for(te.unshift(0),D=1;D<te.length;++D)te[D]=te[D-1]+te[D];var ee=v(new Array(256*4),[256,1,4]);for(D=0;D<256;++D){for(b=0;b<4;++b)ee.set(D,0,b,0);m.le(te,te[te.length-1]*D/255)&1?ee.set(D,0,0,0):ee.set(D,0,0,255)}this.texture.setPixels(ee)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(i){if(!i||i.id!==this.pickId)return null;var D=f(i.value[0],i.value[1],i.value[2],0),b=m.le(this.arcLength,D);if(b<0)return null;if(b===this.arcLength.length-1)return new R(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),b);for(var O=this.points[b],F=this.points[Math.min(b+1,this.points.length-1)],V=(D-this.arcLength[b])/(this.arcLength[b+1]-this.arcLength[b]),_=1-V,U=[0,0,0],H=0;H<3;++H)U[H]=_*O[H]+V*F[H];var z=Math.min(V<.5?b:b+1,this.points.length-1);return new R(D,U,z,this.points[z])};function T(i){var D=i.gl||i.scene&&i.scene.gl,b=d(D);b.attributes.position.location=0,b.attributes.nextPosition.location=1,b.attributes.arcLength.location=2,b.attributes.lineWidth.location=3,b.attributes.color.location=4;var O=u(D);O.attributes.position.location=0,O.attributes.nextPosition.location=1,O.attributes.arcLength.location=2,O.attributes.lineWidth.location=3,O.attributes.color.location=4;for(var F=r(D),V=s(D,[{buffer:F,size:3,offset:0,stride:48},{buffer:F,size:3,offset:12,stride:48},{buffer:F,size:1,offset:24,stride:48},{buffer:F,size:1,offset:28,stride:48},{buffer:F,size:4,offset:32,stride:48}]),_=v(new Array(256*4),[256,1,4]),U=0;U<1024;++U)_.data[U]=255;var H=n(D,_);H.wrap=D.REPEAT;var z=new x(D,b,O,F,V,H);return z.update(i),z}},7332:function(h){h.exports=g;function g(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(h){h.exports=g;function g(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(h){h.exports=g;function g(t){var r=t[0],s=t[1],n=t[2],l=t[3],c=t[4],f=t[5],m=t[6],v=t[7],A=t[8],d=t[9],u=t[10],y=t[11],M=t[12],S=t[13],R=t[14],x=t[15],E=r*f-s*c,T=r*m-n*c,i=r*v-l*c,D=s*m-n*f,b=s*v-l*f,O=n*v-l*m,F=A*S-d*M,V=A*R-u*M,_=A*x-y*M,U=d*R-u*S,H=d*x-y*S,z=u*x-y*R;return E*z-T*H+i*U+D*_-b*V+O*F}},5950:function(h){h.exports=g;function g(t,r){var s=r[0],n=r[1],l=r[2],c=r[3],f=s+s,m=n+n,v=l+l,A=s*f,d=n*f,u=n*m,y=l*f,M=l*m,S=l*v,R=c*f,x=c*m,E=c*v;return t[0]=1-u-S,t[1]=d+E,t[2]=y-x,t[3]=0,t[4]=d-E,t[5]=1-A-S,t[6]=M+R,t[7]=0,t[8]=y+x,t[9]=M-R,t[10]=1-A-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(h){h.exports=g;function g(t,r,s){var n=r[0],l=r[1],c=r[2],f=r[3],m=n+n,v=l+l,A=c+c,d=n*m,u=n*v,y=n*A,M=l*v,S=l*A,R=c*A,x=f*m,E=f*v,T=f*A;return t[0]=1-(M+R),t[1]=u+T,t[2]=y-E,t[3]=0,t[4]=u-T,t[5]=1-(d+R),t[6]=S+x,t[7]=0,t[8]=y+E,t[9]=S-x,t[10]=1-(d+M),t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}},9947:function(h){h.exports=g;function g(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(h){h.exports=g;function g(t,r){var s=r[0],n=r[1],l=r[2],c=r[3],f=r[4],m=r[5],v=r[6],A=r[7],d=r[8],u=r[9],y=r[10],M=r[11],S=r[12],R=r[13],x=r[14],E=r[15],T=s*m-n*f,i=s*v-l*f,D=s*A-c*f,b=n*v-l*m,O=n*A-c*m,F=l*A-c*v,V=d*R-u*S,_=d*x-y*S,U=d*E-M*S,H=u*x-y*R,z=u*E-M*R,G=y*E-M*x,Y=T*G-i*z+D*H+b*U-O*_+F*V;return Y?(Y=1/Y,t[0]=(m*G-v*z+A*H)*Y,t[1]=(l*z-n*G-c*H)*Y,t[2]=(R*F-x*O+E*b)*Y,t[3]=(y*O-u*F-M*b)*Y,t[4]=(v*U-f*G-A*_)*Y,t[5]=(s*G-l*U+c*_)*Y,t[6]=(x*D-S*F-E*i)*Y,t[7]=(d*F-y*D+M*i)*Y,t[8]=(f*z-m*U+A*V)*Y,t[9]=(n*U-s*z-c*V)*Y,t[10]=(S*O-R*D+E*T)*Y,t[11]=(u*D-d*O-M*T)*Y,t[12]=(m*_-f*H-v*V)*Y,t[13]=(s*H-n*_+l*V)*Y,t[14]=(R*i-S*b-x*T)*Y,t[15]=(d*b-u*i+y*T)*Y,t):null}},3012:function(h,g,t){var r=t(9947);h.exports=s;function s(n,l,c,f){var m,v,A,d,u,y,M,S,R,x,E=l[0],T=l[1],i=l[2],D=f[0],b=f[1],O=f[2],F=c[0],V=c[1],_=c[2];return Math.abs(E-F)<1e-6&&Math.abs(T-V)<1e-6&&Math.abs(i-_)<1e-6?r(n):(M=E-F,S=T-V,R=i-_,x=1/Math.sqrt(M*M+S*S+R*R),M*=x,S*=x,R*=x,m=b*R-O*S,v=O*M-D*R,A=D*S-b*M,x=Math.sqrt(m*m+v*v+A*A),x?(x=1/x,m*=x,v*=x,A*=x):(m=0,v=0,A=0),d=S*A-R*v,u=R*m-M*A,y=M*v-S*m,x=Math.sqrt(d*d+u*u+y*y),x?(x=1/x,d*=x,u*=x,y*=x):(d=0,u=0,y=0),n[0]=m,n[1]=d,n[2]=M,n[3]=0,n[4]=v,n[5]=u,n[6]=S,n[7]=0,n[8]=A,n[9]=y,n[10]=R,n[11]=0,n[12]=-(m*E+v*T+A*i),n[13]=-(d*E+u*T+y*i),n[14]=-(M*E+S*T+R*i),n[15]=1,n)}},104:function(h){h.exports=g;function g(t,r,s){var n=r[0],l=r[1],c=r[2],f=r[3],m=r[4],v=r[5],A=r[6],d=r[7],u=r[8],y=r[9],M=r[10],S=r[11],R=r[12],x=r[13],E=r[14],T=r[15],i=s[0],D=s[1],b=s[2],O=s[3];return t[0]=i*n+D*m+b*u+O*R,t[1]=i*l+D*v+b*y+O*x,t[2]=i*c+D*A+b*M+O*E,t[3]=i*f+D*d+b*S+O*T,i=s[4],D=s[5],b=s[6],O=s[7],t[4]=i*n+D*m+b*u+O*R,t[5]=i*l+D*v+b*y+O*x,t[6]=i*c+D*A+b*M+O*E,t[7]=i*f+D*d+b*S+O*T,i=s[8],D=s[9],b=s[10],O=s[11],t[8]=i*n+D*m+b*u+O*R,t[9]=i*l+D*v+b*y+O*x,t[10]=i*c+D*A+b*M+O*E,t[11]=i*f+D*d+b*S+O*T,i=s[12],D=s[13],b=s[14],O=s[15],t[12]=i*n+D*m+b*u+O*R,t[13]=i*l+D*v+b*y+O*x,t[14]=i*c+D*A+b*M+O*E,t[15]=i*f+D*d+b*S+O*T,t}},5268:function(h){h.exports=g;function g(t,r,s,n,l,c,f){var m=1/(r-s),v=1/(n-l),A=1/(c-f);return t[0]=-2*m,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*v,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*A,t[11]=0,t[12]=(r+s)*m,t[13]=(l+n)*v,t[14]=(f+c)*A,t[15]=1,t}},1120:function(h){h.exports=g;function g(t,r,s,n,l){var c=1/Math.tan(r/2),f=1/(n-l);return t[0]=c/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(l+n)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*l*n*f,t[15]=0,t}},4422:function(h){h.exports=g;function g(t,r,s,n){var l=n[0],c=n[1],f=n[2],m=Math.sqrt(l*l+c*c+f*f),v,A,d,u,y,M,S,R,x,E,T,i,D,b,O,F,V,_,U,H,z,G,Y,J;return Math.abs(m)<1e-6?null:(m=1/m,l*=m,c*=m,f*=m,v=Math.sin(s),A=Math.cos(s),d=1-A,u=r[0],y=r[1],M=r[2],S=r[3],R=r[4],x=r[5],E=r[6],T=r[7],i=r[8],D=r[9],b=r[10],O=r[11],F=l*l*d+A,V=c*l*d+f*v,_=f*l*d-c*v,U=l*c*d-f*v,H=c*c*d+A,z=f*c*d+l*v,G=l*f*d+c*v,Y=c*f*d-l*v,J=f*f*d+A,t[0]=u*F+R*V+i*_,t[1]=y*F+x*V+D*_,t[2]=M*F+E*V+b*_,t[3]=S*F+T*V+O*_,t[4]=u*U+R*H+i*z,t[5]=y*U+x*H+D*z,t[6]=M*U+E*H+b*z,t[7]=S*U+T*H+O*z,t[8]=u*G+R*Y+i*J,t[9]=y*G+x*Y+D*J,t[10]=M*G+E*Y+b*J,t[11]=S*G+T*Y+O*J,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(h){h.exports=g;function g(t,r,s){var n=Math.sin(s),l=Math.cos(s),c=r[4],f=r[5],m=r[6],v=r[7],A=r[8],d=r[9],u=r[10],y=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=c*l+A*n,t[5]=f*l+d*n,t[6]=m*l+u*n,t[7]=v*l+y*n,t[8]=A*l-c*n,t[9]=d*l-f*n,t[10]=u*l-m*n,t[11]=y*l-v*n,t}},7115:function(h){h.exports=g;function g(t,r,s){var n=Math.sin(s),l=Math.cos(s),c=r[0],f=r[1],m=r[2],v=r[3],A=r[8],d=r[9],u=r[10],y=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=c*l-A*n,t[1]=f*l-d*n,t[2]=m*l-u*n,t[3]=v*l-y*n,t[8]=c*n+A*l,t[9]=f*n+d*l,t[10]=m*n+u*l,t[11]=v*n+y*l,t}},5240:function(h){h.exports=g;function g(t,r,s){var n=Math.sin(s),l=Math.cos(s),c=r[0],f=r[1],m=r[2],v=r[3],A=r[4],d=r[5],u=r[6],y=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=c*l+A*n,t[1]=f*l+d*n,t[2]=m*l+u*n,t[3]=v*l+y*n,t[4]=A*l-c*n,t[5]=d*l-f*n,t[6]=u*l-m*n,t[7]=y*l-v*n,t}},3668:function(h){h.exports=g;function g(t,r,s){var n=s[0],l=s[1],c=s[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*l,t[5]=r[5]*l,t[6]=r[6]*l,t[7]=r[7]*l,t[8]=r[8]*c,t[9]=r[9]*c,t[10]=r[10]*c,t[11]=r[11]*c,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(h){h.exports=g;function g(t,r,s){var n=s[0],l=s[1],c=s[2],f,m,v,A,d,u,y,M,S,R,x,E;return r===t?(t[12]=r[0]*n+r[4]*l+r[8]*c+r[12],t[13]=r[1]*n+r[5]*l+r[9]*c+r[13],t[14]=r[2]*n+r[6]*l+r[10]*c+r[14],t[15]=r[3]*n+r[7]*l+r[11]*c+r[15]):(f=r[0],m=r[1],v=r[2],A=r[3],d=r[4],u=r[5],y=r[6],M=r[7],S=r[8],R=r[9],x=r[10],E=r[11],t[0]=f,t[1]=m,t[2]=v,t[3]=A,t[4]=d,t[5]=u,t[6]=y,t[7]=M,t[8]=S,t[9]=R,t[10]=x,t[11]=E,t[12]=f*n+d*l+S*c+r[12],t[13]=m*n+u*l+R*c+r[13],t[14]=v*n+y*l+x*c+r[14],t[15]=A*n+M*l+E*c+r[15]),t}},2142:function(h){h.exports=g;function g(t,r){if(t===r){var s=r[1],n=r[2],l=r[3],c=r[6],f=r[7],m=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=s,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=c,t[11]=r[14],t[12]=l,t[13]=f,t[14]=m}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(h,g,t){var r=t(957),s=t(7309);h.exports=m;function n(v,A){for(var d=[0,0,0,0],u=0;u<4;++u)for(var y=0;y<4;++y)d[y]+=v[4*u+y]*A[u];return d}function l(v,A,d,u,y){for(var M=n(u,n(d,n(A,[v[0],v[1],v[2],1]))),S=0;S<3;++S)M[S]/=M[3];return[.5*y[0]*(1+M[0]),.5*y[1]*(1-M[1])]}function c(v,A){if(v.length===2){for(var d=0,u=0,y=0;y<2;++y)d+=Math.pow(A[y]-v[0][y],2),u+=Math.pow(A[y]-v[1][y],2);return d=Math.sqrt(d),u=Math.sqrt(u),d+u<1e-6?[1,0]:[u/(d+u),d/(u+d)]}else if(v.length===3){var M=[0,0];return s(v[0],v[1],v[2],A,M),r(v,M)}return[]}function f(v,A){for(var d=[0,0,0],u=0;u<v.length;++u)for(var y=v[u],M=A[u],S=0;S<3;++S)d[S]+=M*y[S];return d}function m(v,A,d,u,y,M){if(v.length===1)return[0,v[0].slice()];for(var S=new Array(v.length),R=0;R<v.length;++R)S[R]=l(v[R],d,u,y,M);for(var x=0,E=1/0,R=0;R<S.length;++R){for(var T=0,i=0;i<2;++i)T+=Math.pow(S[R][i]-A[i],2);T<E&&(E=T,x=R)}for(var D=c(S,A),b=0,R=0;R<3;++R){if(D[R]<-.001||D[R]>1.0001)return null;b+=D[R]}return Math.abs(b-1)>.001?null:[x,f(v,D),D]}},2056:function(h,g,t){var r=t(6832),s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),v=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),A=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),d=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),u=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),y=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);g.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.wireShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.pointShader={vertex:f,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},g.pickShader={vertex:v,fragment:A,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},g.pointPickShader={vertex:d,fragment:A,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},g.contourShader={vertex:u,fragment:y,attributes:[{name:"position",type:"vec3"}]}},8116:function(h,g,t){var r=1e-6,s=1e-6,n=t(5158),l=t(5827),c=t(2944),f=t(8931),m=t(115),v=t(104),A=t(7437),d=t(5050),u=t(9156),y=t(7212),M=t(5306),S=t(2056),R=t(4340),x=S.meshShader,E=S.wireShader,T=S.pointShader,i=S.pickShader,D=S.pointPickShader,b=S.contourShader,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function F(q,Z,$,K,re,le,te,ee,ue,se,ve,be,Ee,Ae,Oe,Ue,Le,we,Ce,Ve,Ne,ke,We,rt,et,tt,at){this.gl=q,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=$,this.lineShader=K,this.pointShader=re,this.pickShader=le,this.pointPickShader=te,this.contourShader=ee,this.trianglePositions=ue,this.triangleColors=ve,this.triangleNormals=Ee,this.triangleUVs=be,this.triangleIds=se,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Oe,this.edgeColors=Le,this.edgeUVs=we,this.edgeIds=Ue,this.edgeVAO=Ce,this.edgeCount=0,this.pointPositions=Ve,this.pointColors=ke,this.pointUVs=We,this.pointSizes=rt,this.pointIds=Ne,this.pointVAO=et,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=tt,this.contourVAO=at,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=O,this._view=O,this._projection=O,this._resolution=[1,1]}var V=F.prototype;V.isOpaque=function(){return!this.hasAlpha},V.isTransparent=function(){return this.hasAlpha},V.pickSlots=1,V.setPickBase=function(q){this.pickId=q};function _(q,Z){if(!Z||!Z.length)return 1;for(var $=0;$<Z.length;++$){if(Z.length<2)return 1;if(Z[$][0]===q)return Z[$][1];if(Z[$][0]>q&&$>0){var K=(Z[$][0]-q)/(Z[$][0]-Z[$-1][0]);return Z[$][1]*(1-K)+K*Z[$-1][1]}}return 1}function U(q,Z){for(var $=u({colormap:q,nshades:256,format:"rgba"}),K=new Uint8Array(256*4),re=0;re<256;++re){for(var le=$[re],te=0;te<3;++te)K[4*re+te]=le[te];Z?K[4*re+3]=255*_(re/255,Z):K[4*re+3]=255*le[3]}return d(K,[256,256,4],[4,0,1])}function H(q){for(var Z=q.length,$=new Array(Z),K=0;K<Z;++K)$[K]=q[K][2];return $}V.highlight=function(q){if(!q||!this.contourEnable){this.contourCount=0;return}for(var Z=y(this.cells,this.intensity,q.intensity),$=Z.cells,K=Z.vertexIds,re=Z.vertexWeights,le=$.length,te=M.mallocFloat32(2*3*le),ee=0,ue=0;ue<le;++ue)for(var se=$[ue],ve=0;ve<2;++ve){var be=se[0];se.length===2&&(be=se[ve]);for(var Ee=K[be][0],Ae=K[be][1],Oe=re[be],Ue=1-Oe,Le=this.positions[Ee],we=this.positions[Ae],Ce=0;Ce<3;++Ce)te[ee++]=Oe*Le[Ce]+Ue*we[Ce]}this.contourCount=ee/3|0,this.contourPositions.update(te.subarray(0,ee)),M.free(te)},V.update=function(q){q=q||{};var Z=this.gl;this.dirty=!0,"contourEnable"in q&&(this.contourEnable=q.contourEnable),"contourColor"in q&&(this.contourColor=q.contourColor),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"lightPosition"in q&&(this.lightPosition=q.lightPosition),this.hasAlpha=!1,"opacity"in q&&(this.opacity=q.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in q&&(this.opacityscale=q.opacityscale,this.hasAlpha=!0),"ambient"in q&&(this.ambientLight=q.ambient),"diffuse"in q&&(this.diffuseLight=q.diffuse),"specular"in q&&(this.specularLight=q.specular),"roughness"in q&&(this.roughness=q.roughness),"fresnel"in q&&(this.fresnel=q.fresnel),q.texture?(this.texture.dispose(),this.texture=f(Z,q.texture)):q.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(U(q.colormap,this.opacityscale)),this.texture.generateMipmap());var $=q.cells,K=q.positions;if(!(!K||!$)){var re=[],le=[],te=[],ee=[],ue=[],se=[],ve=[],be=[],Ee=[],Ae=[],Oe=[],Ue=[],Le=[],we=[];this.cells=$,this.positions=K;var Ce=q.vertexNormals,Ve=q.cellNormals,Ne=q.vertexNormalsEpsilon===void 0?r:q.vertexNormalsEpsilon,ke=q.faceNormalsEpsilon===void 0?s:q.faceNormalsEpsilon;q.useFacetNormals&&!Ve&&(Ve=m.faceNormals($,K,ke)),!Ve&&!Ce&&(Ce=m.vertexNormals($,K,Ne));var We=q.vertexColors,rt=q.cellColors,et=q.meshColor||[1,1,1,1],tt=q.vertexUVs,at=q.vertexIntensity,ct=q.cellUVs,dt=q.cellIntensity,gt=1/0,Et=-1/0;if(!tt&&!ct)if(at)if(q.vertexIntensityBounds)gt=+q.vertexIntensityBounds[0],Et=+q.vertexIntensityBounds[1];else for(var Ct=0;Ct<at.length;++Ct){var Vt=at[Ct];gt=Math.min(gt,Vt),Et=Math.max(Et,Vt)}else if(dt)if(q.cellIntensityBounds)gt=+q.cellIntensityBounds[0],Et=+q.cellIntensityBounds[1];else for(var Ct=0;Ct<dt.length;++Ct){var Vt=dt[Ct];gt=Math.min(gt,Vt),Et=Math.max(Et,Vt)}else for(var Ct=0;Ct<K.length;++Ct){var Vt=K[Ct][2];gt=Math.min(gt,Vt),Et=Math.max(Et,Vt)}at?this.intensity=at:dt?this.intensity=dt:this.intensity=H(K),this.pickVertex=!(dt||rt);var Je=q.pointSizes,_e=q.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Ct=0;Ct<K.length;++Ct)for(var Fe=K[Ct],Be=0;Be<3;++Be)isNaN(Fe[Be])||!isFinite(Fe[Be])||(this.bounds[0][Be]=Math.min(this.bounds[0][Be],Fe[Be]),this.bounds[1][Be]=Math.max(this.bounds[1][Be],Fe[Be]));var De=0,Te=0,xe=0;e:for(var Ct=0;Ct<$.length;++Ct){var Me=$[Ct];switch(Me.length){case 1:for(var Pe=Me[0],Fe=K[Pe],Be=0;Be<3;++Be)if(isNaN(Fe[Be])||!isFinite(Fe[Be]))continue e;Ae.push(Fe[0],Fe[1],Fe[2]);var He;We?He=We[Pe]:rt?He=rt[Ct]:He=et,this.opacityscale&&at?le.push(He[0],He[1],He[2],this.opacity*_((at[Pe]-gt)/(Et-gt),this.opacityscale)):He.length===3?Oe.push(He[0],He[1],He[2],this.opacity):(Oe.push(He[0],He[1],He[2],He[3]*this.opacity),He[3]<1&&(this.hasAlpha=!0));var Ke;tt?Ke=tt[Pe]:at?Ke=[(at[Pe]-gt)/(Et-gt),0]:ct?Ke=ct[Ct]:dt?Ke=[(dt[Ct]-gt)/(Et-gt),0]:Ke=[(Fe[2]-gt)/(Et-gt),0],Ue.push(Ke[0],Ke[1]),Je?Le.push(Je[Pe]):Le.push(_e),we.push(Ct),xe+=1;break;case 2:for(var Be=0;Be<2;++Be)for(var Pe=Me[Be],Fe=K[Pe],qe=0;qe<3;++qe)if(isNaN(Fe[qe])||!isFinite(Fe[qe]))continue e;for(var Be=0;Be<2;++Be){var Pe=Me[Be],Fe=K[Pe];se.push(Fe[0],Fe[1],Fe[2]);var He;We?He=We[Pe]:rt?He=rt[Ct]:He=et,this.opacityscale&&at?le.push(He[0],He[1],He[2],this.opacity*_((at[Pe]-gt)/(Et-gt),this.opacityscale)):He.length===3?ve.push(He[0],He[1],He[2],this.opacity):(ve.push(He[0],He[1],He[2],He[3]*this.opacity),He[3]<1&&(this.hasAlpha=!0));var Ke;tt?Ke=tt[Pe]:at?Ke=[(at[Pe]-gt)/(Et-gt),0]:ct?Ke=ct[Ct]:dt?Ke=[(dt[Ct]-gt)/(Et-gt),0]:Ke=[(Fe[2]-gt)/(Et-gt),0],be.push(Ke[0],Ke[1]),Ee.push(Ct)}Te+=1;break;case 3:for(var Be=0;Be<3;++Be)for(var Pe=Me[Be],Fe=K[Pe],qe=0;qe<3;++qe)if(isNaN(Fe[qe])||!isFinite(Fe[qe]))continue e;for(var Be=0;Be<3;++Be){var Pe=Me[2-Be],Fe=K[Pe];re.push(Fe[0],Fe[1],Fe[2]);var He;We?He=We[Pe]:rt?He=rt[Ct]:He=et,He?this.opacityscale&&at?le.push(He[0],He[1],He[2],this.opacity*_((at[Pe]-gt)/(Et-gt),this.opacityscale)):He.length===3?le.push(He[0],He[1],He[2],this.opacity):(le.push(He[0],He[1],He[2],He[3]*this.opacity),He[3]<1&&(this.hasAlpha=!0)):le.push(.5,.5,.5,1);var Ke;tt?Ke=tt[Pe]:at?Ke=[(at[Pe]-gt)/(Et-gt),0]:ct?Ke=ct[Ct]:dt?Ke=[(dt[Ct]-gt)/(Et-gt),0]:Ke=[(Fe[2]-gt)/(Et-gt),0],ee.push(Ke[0],Ke[1]);var vt;Ce?vt=Ce[Pe]:vt=Ve[Ct],te.push(vt[0],vt[1],vt[2]),ue.push(Ct)}De+=1;break}}this.pointCount=xe,this.edgeCount=Te,this.triangleCount=De,this.pointPositions.update(Ae),this.pointColors.update(Oe),this.pointUVs.update(Ue),this.pointSizes.update(Le),this.pointIds.update(new Uint32Array(we)),this.edgePositions.update(se),this.edgeColors.update(ve),this.edgeUVs.update(be),this.edgeIds.update(new Uint32Array(Ee)),this.trianglePositions.update(re),this.triangleColors.update(le),this.triangleUVs.update(ee),this.triangleNormals.update(te),this.triangleIds.update(new Uint32Array(ue))}},V.drawTransparent=V.draw=function(q){q=q||{};for(var Z=this.gl,$=q.model||O,K=q.view||O,re=q.projection||O,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],te=0;te<3;++te)le[0][te]=Math.max(le[0][te],this.clipBounds[0][te]),le[1][te]=Math.min(le[1][te],this.clipBounds[1][te]);var ee={model:$,view:K,projection:re,inverseModel:O.slice(),clipBounds:le,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};ee.inverseModel=A(ee.inverseModel,ee.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var ue=new Array(16);v(ue,ee.view,ee.model),v(ue,ee.projection,ue),A(ue,ue);for(var te=0;te<3;++te)ee.eyePosition[te]=ue[12+te]/ue[15];for(var se=ue[15],te=0;te<3;++te)se+=this.lightPosition[te]*ue[4*te+3];for(var te=0;te<3;++te){for(var ve=ue[12+te],be=0;be<3;++be)ve+=ue[4*be+te]*this.lightPosition[be];ee.lightPosition[te]=ve/se}if(this.triangleCount>0){var Ee=this.triShader;Ee.bind(),Ee.uniforms=ee,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ee=this.lineShader;Ee.bind(),Ee.uniforms=ee,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ee=this.pointShader;Ee.bind(),Ee.uniforms=ee,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ee=this.contourShader;Ee.bind(),Ee.uniforms=ee,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind()}},V.drawPick=function(q){q=q||{};for(var Z=this.gl,$=q.model||O,K=q.view||O,re=q.projection||O,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],te=0;te<3;++te)le[0][te]=Math.max(le[0][te],this.clipBounds[0][te]),le[1][te]=Math.min(le[1][te],this.clipBounds[1][te]);this._model=[].slice.call($),this._view=[].slice.call(K),this._projection=[].slice.call(re),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var ee={model:$,view:K,projection:re,clipBounds:le,pickId:this.pickId/255},ue=this.pickShader;if(ue.bind(),ue.uniforms=ee,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ue=this.pointPickShader;ue.bind(),ue.uniforms=ee,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}},V.pick=function(q){if(!q||q.id!==this.pickId)return null;for(var Z=q.value[0]+256*q.value[1]+65536*q.value[2],$=this.cells[Z],K=this.positions,re=new Array($.length),le=0;le<$.length;++le)re[le]=K[$[le]];var te=q.coord[0],ee=q.coord[1];if(!this.pickVertex){var ue=this.positions[$[0]],se=this.positions[$[1]],ve=this.positions[$[2]],be=[(ue[0]+se[0]+ve[0])/3,(ue[1]+se[1]+ve[1])/3,(ue[2]+se[2]+ve[2])/3];return{_cellCenter:!0,position:[te,ee],index:Z,cell:$,cellId:Z,intensity:this.intensity[Z],dataCoordinate:be}}var Ee=R(re,[te*this.pixelRatio,this._resolution[1]-ee*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ee)return null;for(var Ae=Ee[2],Oe=0,le=0;le<$.length;++le)Oe+=Ae[le]*this.intensity[$[le]];return{position:Ee[1],index:$[Ee[0]],cell:$,cellId:Z,intensity:Oe,dataCoordinate:this.positions[$[Ee[0]]]}},V.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function z(q){var Z=n(q,x.vertex,x.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.normal.location=4,Z}function G(q){var Z=n(q,E.vertex,E.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z}function Y(q){var Z=n(q,T.vertex,T.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}function J(q){var Z=n(q,i.vertex,i.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}function ae(q){var Z=n(q,D.vertex,D.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}function oe(q){var Z=n(q,b.vertex,b.fragment);return Z.attributes.position.location=0,Z}function he(q,Z){arguments.length===1&&(Z=q,q=Z.gl);var $=q.getExtension("OES_standard_derivatives")||q.getExtension("MOZ_OES_standard_derivatives")||q.getExtension("WEBKIT_OES_standard_derivatives");if(!$)throw new Error("derivatives not supported");var K=z(q),re=G(q),le=Y(q),te=J(q),ee=ae(q),ue=oe(q),se=f(q,d(new Uint8Array([255,255,255,255]),[1,1,4]));se.generateMipmap(),se.minFilter=q.LINEAR_MIPMAP_LINEAR,se.magFilter=q.LINEAR;var ve=l(q),be=l(q),Ee=l(q),Ae=l(q),Oe=l(q),Ue=c(q,[{buffer:ve,type:q.FLOAT,size:3},{buffer:Oe,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:q.FLOAT,size:4},{buffer:Ee,type:q.FLOAT,size:2},{buffer:Ae,type:q.FLOAT,size:3}]),Le=l(q),we=l(q),Ce=l(q),Ve=l(q),Ne=c(q,[{buffer:Le,type:q.FLOAT,size:3},{buffer:Ve,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:we,type:q.FLOAT,size:4},{buffer:Ce,type:q.FLOAT,size:2}]),ke=l(q),We=l(q),rt=l(q),et=l(q),tt=l(q),at=c(q,[{buffer:ke,type:q.FLOAT,size:3},{buffer:tt,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:We,type:q.FLOAT,size:4},{buffer:rt,type:q.FLOAT,size:2},{buffer:et,type:q.FLOAT,size:1}]),ct=l(q),dt=c(q,[{buffer:ct,type:q.FLOAT,size:3}]),gt=new F(q,se,K,re,le,te,ee,ue,ve,Oe,be,Ee,Ae,Ue,Le,Ve,we,Ce,Ne,ke,tt,We,rt,et,at,ct,dt);return gt.update(Z),gt}h.exports=he},4554:function(h,g,t){h.exports=f;var r=t(5827),s=t(5158),n=t(2709);function l(m,v,A){this.plot=m,this.vbo=v,this.shader=A}var c=l.prototype;c.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},c.drawBox=function(){var m=[0,0],v=[0,0];return function(A,d,u,y,M){var S=this.plot,R=this.shader,x=S.gl;m[0]=A,m[1]=d,v[0]=u,v[1]=y,R.uniforms.lo=m,R.uniforms.hi=v,R.uniforms.color=M,x.drawArrays(x.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(m){var v=m.gl,A=r(v,[0,0,0,1,1,0,1,1]),d=s(v,n.boxVert,n.lineFrag);return new l(m,A,d)}},3016:function(h,g,t){h.exports=v;var r=t(5827),s=t(5158),n=t(5070),l=t(2709);function c(A,d,u,y){this.plot=A,this.vbo=d,this.shader=u,this.tickShader=y,this.ticks=[[],[]]}function f(A,d){return A-d}var m=c.prototype;m.draw=function(){var A=[0,0],d=[0,0],u=[0,0];return function(){for(var y=this.plot,M=this.vbo,S=this.shader,R=this.ticks,x=y.gl,E=y._tickBounds,T=y.dataBox,i=y.viewBox,D=y.gridLineWidth,b=y.gridLineColor,O=y.gridLineEnable,F=y.pixelRatio,V=0;V<2;++V){var _=E[V],U=E[V+2],H=U-_,z=.5*(T[V+2]+T[V]),G=T[V+2]-T[V];d[V]=2*H/G,A[V]=2*(_-z)/G}S.bind(),M.bind(),S.attributes.dataCoord.pointer(),S.uniforms.dataShift=A,S.uniforms.dataScale=d;for(var Y=0,V=0;V<2;++V){u[0]=u[1]=0,u[V]=1,S.uniforms.dataAxis=u,S.uniforms.lineWidth=D[V]/(i[V+2]-i[V])*F,S.uniforms.color=b[V];var J=R[V].length*6;O[V]&&J&&x.drawArrays(x.TRIANGLES,Y,J),Y+=J}}}(),m.drawTickMarks=function(){var A=[0,0],d=[0,0],u=[1,0],y=[0,1],M=[0,0],S=[0,0];return function(){for(var R=this.plot,x=this.vbo,E=this.tickShader,T=this.ticks,i=R.gl,D=R._tickBounds,b=R.dataBox,O=R.viewBox,F=R.pixelRatio,V=R.screenBox,_=V[2]-V[0],U=V[3]-V[1],H=O[2]-O[0],z=O[3]-O[1],G=0;G<2;++G){var Y=D[G],J=D[G+2],ae=J-Y,oe=.5*(b[G+2]+b[G]),he=b[G+2]-b[G];d[G]=2*ae/he,A[G]=2*(Y-oe)/he}d[0]*=H/_,A[0]*=H/_,d[1]*=z/U,A[1]*=z/U,E.bind(),x.bind(),E.attributes.dataCoord.pointer();var q=E.uniforms;q.dataShift=A,q.dataScale=d;var Z=R.tickMarkLength,$=R.tickMarkWidth,K=R.tickMarkColor,re=0,le=T[0].length*6,te=Math.min(n.ge(T[0],(b[0]-D[0])/(D[2]-D[0]),f),T[0].length),ee=Math.min(n.gt(T[0],(b[2]-D[0])/(D[2]-D[0]),f),T[0].length),ue=re+6*te,se=6*Math.max(0,ee-te),ve=Math.min(n.ge(T[1],(b[1]-D[1])/(D[3]-D[1]),f),T[1].length),be=Math.min(n.gt(T[1],(b[3]-D[1])/(D[3]-D[1]),f),T[1].length),Ee=le+6*ve,Ae=6*Math.max(0,be-ve);M[0]=2*(O[0]-Z[1])/_-1,M[1]=(O[3]+O[1])/U-1,S[0]=Z[1]*F/_,S[1]=$[1]*F/U,Ae&&(q.color=K[1],q.tickScale=S,q.dataAxis=y,q.screenOffset=M,i.drawArrays(i.TRIANGLES,Ee,Ae)),M[0]=(O[2]+O[0])/_-1,M[1]=2*(O[1]-Z[0])/U-1,S[0]=$[0]*F/_,S[1]=Z[0]*F/U,se&&(q.color=K[0],q.tickScale=S,q.dataAxis=u,q.screenOffset=M,i.drawArrays(i.TRIANGLES,ue,se)),M[0]=2*(O[2]+Z[3])/_-1,M[1]=(O[3]+O[1])/U-1,S[0]=Z[3]*F/_,S[1]=$[3]*F/U,Ae&&(q.color=K[3],q.tickScale=S,q.dataAxis=y,q.screenOffset=M,i.drawArrays(i.TRIANGLES,Ee,Ae)),M[0]=(O[2]+O[0])/_-1,M[1]=2*(O[3]+Z[2])/U-1,S[0]=$[2]*F/_,S[1]=Z[2]*F/U,se&&(q.color=K[2],q.tickScale=S,q.dataAxis=u,q.screenOffset=M,i.drawArrays(i.TRIANGLES,ue,se))}}(),m.update=function(){var A=[1,1,-1,-1,1,-1],d=[1,-1,1,1,-1,-1];return function(u){var y=u.ticks,M=u.bounds,S=new Float32Array(6*3*(y[0].length+y[1].length));this.plot.zeroLineEnable;for(var R=0,x=[[],[]],E=0;E<2;++E)for(var T=x[E],i=y[E],D=M[E],b=M[E+2],O=0;O<i.length;++O){var F=(i[O].x-D)/(b-D);T.push(F);for(var V=0;V<6;++V)S[R++]=F,S[R++]=A[V],S[R++]=d[V]}this.ticks=x,this.vbo.update(S)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function v(A){var d=A.gl,u=r(d),y=s(d,l.gridVert,l.gridFrag),M=s(d,l.tickVert,l.gridFrag),S=new c(A,u,y,M);return S}},1154:function(h,g,t){h.exports=f;var r=t(5827),s=t(5158),n=t(2709);function l(m,v,A){this.plot=m,this.vbo=v,this.shader=A}var c=l.prototype;c.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},c.drawLine=function(){var m=[0,0],v=[0,0];return function(A,d,u,y,M,S){var R=this.plot,x=this.shader,E=R.gl;m[0]=A,m[1]=d,v[0]=u,v[1]=y,x.uniforms.start=m,x.uniforms.end=v,x.uniforms.width=M*R.pixelRatio,x.uniforms.color=S,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(m){var v=m.gl,A=r(v,[-1,-1,-1,1,1,-1,1,1]),d=s(v,n.lineVert,n.lineFrag),u=new l(m,A,d);return u}},2709:function(h,g,t){var r=t(6832),s=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);h.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:s,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:s,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:s,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(h,g,t){h.exports=v;var r=t(5827),s=t(5158),n=t(6946),l=t(5070),c=t(2709);function f(A,d,u){this.plot=A,this.vbo=d,this.shader=u,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=f.prototype;m.drawTicks=function(){var A=[0,0],d=[0,0],u=[0,0];return function(y){var M=this.plot,S=this.shader,R=this.tickX[y],x=this.tickOffset[y],E=M.gl,T=M.viewBox,i=M.dataBox,D=M.screenBox,b=M.pixelRatio,O=M.tickEnable,F=M.tickPad,V=M.tickColor,_=M.tickAngle,U=M.labelEnable,H=M.labelPad,z=M.labelColor,G=M.labelAngle,Y=this.labelOffset[y],J=this.labelCount[y],ae=l.lt(R,i[y]),oe=l.le(R,i[y+2]);A[0]=A[1]=0,A[y]=1,d[y]=(T[2+y]+T[y])/(D[2+y]-D[y])-1;var he=2/D[2+(y^1)]-D[y^1];d[y^1]=he*T[y^1]-1,O[y]&&(d[y^1]-=he*b*F[y],ae<oe&&x[oe]>x[ae]&&(S.uniforms.dataAxis=A,S.uniforms.screenOffset=d,S.uniforms.color=V[y],S.uniforms.angle=_[y],E.drawArrays(E.TRIANGLES,x[ae],x[oe]-x[ae]))),U[y]&&J&&(d[y^1]-=he*b*H[y],S.uniforms.dataAxis=u,S.uniforms.screenOffset=d,S.uniforms.color=z[y],S.uniforms.angle=G[y],E.drawArrays(E.TRIANGLES,Y,J)),d[y^1]=he*T[2+(y^1)]-1,O[y+2]&&(d[y^1]+=he*b*F[y+2],ae<oe&&x[oe]>x[ae]&&(S.uniforms.dataAxis=A,S.uniforms.screenOffset=d,S.uniforms.color=V[y+2],S.uniforms.angle=_[y+2],E.drawArrays(E.TRIANGLES,x[ae],x[oe]-x[ae]))),U[y+2]&&J&&(d[y^1]+=he*b*H[y+2],S.uniforms.dataAxis=u,S.uniforms.screenOffset=d,S.uniforms.color=z[y+2],S.uniforms.angle=G[y+2],E.drawArrays(E.TRIANGLES,Y,J))}}(),m.drawTitle=function(){var A=[0,0],d=[0,0];return function(){var u=this.plot,y=this.shader,M=u.gl,S=u.screenBox,R=u.titleCenter,x=u.titleAngle,E=u.titleColor,T=u.pixelRatio;if(this.titleCount){for(var i=0;i<2;++i)d[i]=2*(R[i]*T-S[i])/(S[2+i]-S[i])-1;y.bind(),y.uniforms.dataAxis=A,y.uniforms.screenOffset=d,y.uniforms.angle=x,y.uniforms.color=E,M.drawArrays(M.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var A=[0,0],d=[0,0],u=[0,0];return function(){var y=this.plot,M=this.shader,S=y._tickBounds,R=y.dataBox,x=y.screenBox,E=y.viewBox;M.bind();for(var T=0;T<2;++T){var i=S[T],D=S[T+2],b=D-i,O=.5*(R[T+2]+R[T]),F=R[T+2]-R[T],V=E[T],_=E[T+2],U=_-V,H=x[T],z=x[T+2],G=z-H;d[T]=2*b/F*U/G,A[T]=2*(i-O)/F*U/G}u[1]=2*y.pixelRatio/(x[3]-x[1]),u[0]=u[1]*(x[3]-x[1])/(x[2]-x[0]),M.uniforms.dataScale=d,M.uniforms.dataShift=A,M.uniforms.textScale=u,this.vbo.bind(),M.attributes.textCoordinate.pointer()}}(),m.update=function(A){var d=[],u=A.ticks,y=A.bounds,M,S,R,x,E;for(E=0;E<2;++E){var T=[Math.floor(d.length/3)],i=[-1/0],D=u[E];for(M=0;M<D.length;++M){var b=D[M],O=b.x,F=b.text,V=b.font||"sans-serif";x=b.fontSize||12;for(var _=1/(y[E+2]-y[E]),U=y[E],H=F.split(`
`),z=0;z<H.length;z++)for(R=n(V,H[z]).data,S=0;S<R.length;S+=2)d.push(R[S]*x,-R[S+1]*x-z*x*1.2,(O-U)*_);T.push(Math.floor(d.length/3)),i.push(O)}this.tickOffset[E]=T,this.tickX[E]=i}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(d.length/3),R=n(A.labelFont[E],A.labels[E],{textAlign:"center"}).data,x=A.labelSize[E],M=0;M<R.length;M+=2)d.push(R[M]*x,-R[M+1]*x,0);this.labelCount[E]=Math.floor(d.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(d.length/3),R=n(A.titleFont,A.title).data,x=A.titleSize,M=0;M<R.length;M+=2)d.push(R[M]*x,-R[M+1]*x,0);this.titleCount=Math.floor(d.length/3)-this.titleOffset,this.vbo.update(d)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function v(A){var d=A.gl,u=r(d),y=s(d,c.textVert,c.textFrag),M=new f(A,u,y);return M}},2117:function(h,g,t){h.exports=d;var r=t(2611),s=t(3016),n=t(5613),l=t(1154),c=t(4554);function f(u,y){this.gl=u,this.pickBuffer=y,this.screenBox=[0,0,u.drawingBufferWidth,u.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=f.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var u=this.gl,y=this.screenBox,M=this.viewBox,S=this.dataBox,R=this.pixelRatio,x=this.grid,E=this.line,T=this.text,i=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,u.bindFramebuffer(u.FRAMEBUFFER,null),u.enable(u.SCISSOR_TEST),u.disable(u.DEPTH_TEST),u.depthFunc(u.LESS),u.depthMask(!1),u.enable(u.BLEND),u.blendEquation(u.FUNC_ADD,u.FUNC_ADD),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),this.borderColor){u.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]);var D=this.borderColor;u.clearColor(D[0]*D[3],D[1]*D[3],D[2]*D[3],D[3]),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT)}u.scissor(M[0],M[1],M[2]-M[0],M[3]-M[1]),u.viewport(M[0],M[1],M[2]-M[0],M[3]-M[1]);var b=this.backgroundColor;u.clearColor(b[0]*b[3],b[1]*b[3],b[2]*b[3],b[3]),u.clear(u.COLOR_BUFFER_BIT),x.draw();var O=this.zeroLineEnable,F=this.zeroLineColor,V=this.zeroLineWidth;if(O[0]||O[1]){E.bind();for(var _=0;_<2;++_)if(!(!O[_]||!(S[_]<=0&&S[_+2]>=0))){var U=y[_]-S[_]*(y[_+2]-y[_])/(S[_+2]-S[_]);_===0?E.drawLine(U,y[1],U,y[3],V[_],F[_]):E.drawLine(y[0],U,y[2],U,V[_],F[_])}}for(var _=0;_<i.length;++_)i[_].draw();u.viewport(y[0],y[1],y[2]-y[0],y[3]-y[1]),u.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]),this.grid.drawTickMarks(),E.bind();var H=this.borderLineEnable,z=this.borderLineWidth,G=this.borderLineColor;H[1]&&E.drawLine(M[0],M[1]-.5*z[1]*R,M[0],M[3]+.5*z[3]*R,z[1],G[1]),H[0]&&E.drawLine(M[0]-.5*z[0]*R,M[1],M[2]+.5*z[2]*R,M[1],z[0],G[0]),H[3]&&E.drawLine(M[2],M[1]-.5*z[1]*R,M[2],M[3]+.5*z[3]*R,z[3],G[3]),H[2]&&E.drawLine(M[0]-.5*z[0]*R,M[3],M[2]+.5*z[2]*R,M[3],z[2],G[2]),T.bind();for(var _=0;_<2;++_)T.drawTicks(_);this.titleEnable&&T.drawTitle();for(var Y=this.overlays,_=0;_<Y.length;++_)Y[_].draw();u.disable(u.SCISSOR_TEST),u.disable(u.BLEND),u.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var u=this.pickBuffer;this.gl,this._pickTimeout=null,u.begin();for(var y=1,M=this.objects,S=0;S<M.length;++S)y=M[S].drawPick(y);u.end()}}}(),m.pick=function(){return function(u,y){if(!this.static){var M=this.pixelRatio,S=this.pickPixelRatio,R=this.viewBox,x=Math.round((u-R[0]/M)*S)|0,E=Math.round((y-R[1]/M)*S)|0,T=this.pickBuffer.query(x,E,this.pickRadius);if(!T)return null;for(var i=T.id+(T.value[0]<<8)+(T.value[1]<<16)+(T.value[2]<<24),D=this.objects,b=0;b<D.length;++b){var O=D[b].pick(x,E,i);if(O)return O}return null}}}();function v(u){for(var y=u.slice(),M=0;M<y.length;++M)y[M]=y[M].slice();return y}function A(u,y){return u.x-y.x}m.setScreenBox=function(u){var y=this.screenBox,M=this.pixelRatio;y[0]=Math.round(u[0]*M)|0,y[1]=Math.round(u[1]*M)|0,y[2]=Math.round(u[2]*M)|0,y[3]=Math.round(u[3]*M)|0,this.setDirty()},m.setDataBox=function(u){var y=this.dataBox,M=y[0]!==u[0]||y[1]!==u[1]||y[2]!==u[2]||y[3]!==u[3];M&&(y[0]=u[0],y[1]=u[1],y[2]=u[2],y[3]=u[3],this.setDirty())},m.setViewBox=function(u){var y=this.pixelRatio,M=this.viewBox;M[0]=Math.round(u[0]*y)|0,M[1]=Math.round(u[1]*y)|0,M[2]=Math.round(u[2]*y)|0,M[3]=Math.round(u[3]*y)|0;var S=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((u[2]-u[0])*S)|0,Math.round((u[3]-u[1])*S)|0],this.setDirty()},m.update=function(u){u=u||{};var y=this.gl;this.pixelRatio=u.pixelRatio||1;var M=this.pixelRatio;this.pickPixelRatio=Math.max(M,1),this.setScreenBox(u.screenBox||[0,0,y.drawingBufferWidth/M,y.drawingBufferHeight/M]),this.screenBox,this.setViewBox(u.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/M,.125*(this.screenBox[3]-this.screenBox[1])/M,.875*(this.screenBox[2]-this.screenBox[0])/M,.875*(this.screenBox[3]-this.screenBox[1])/M]);var S=this.viewBox,R=(S[2]-S[0])/(S[3]-S[1]);this.setDataBox(u.dataBox||[-10,-10/R,10,10/R]),this.borderColor=u.borderColor!==!1?(u.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(u.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(u.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(u.gridLineWidth||[1,1]).slice(),this.gridLineColor=v(u.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(u.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(u.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=v(u.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(u.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(u.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=v(u.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(u.titleCenter||[.5*(S[0]+S[2])/M,(S[3]+120)/M]).slice(),this.titleEnable=!("titleEnable"in u)||!!u.titleEnable,this.titleAngle=u.titleAngle||0,this.titleColor=(u.titleColor||[0,0,0,1]).slice(),this.labelPad=(u.labelPad||[15,15,15,15]).slice(),this.labelAngle=(u.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(u.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=v(u.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(u.tickPad||[15,15,15,15]).slice(),this.tickAngle=(u.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(u.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=v(u.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(u.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(u.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=v(u.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var x=u.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var T=0;T<2;++T){var i=x[T].slice(0);i.length!==0&&(i.sort(A),E[T]=Math.min(E[T],i[0].x),E[T+2]=Math.max(E[T+2],i[i.length-1].x))}this.grid.update({bounds:E,ticks:x}),this.text.update({bounds:E,ticks:x,labels:u.labels||["x","y"],labelSize:u.labelSize||[12,12],labelFont:u.labelFont||["sans-serif","sans-serif"],title:u.title||"",titleSize:u.titleSize||18,titleFont:u.titleFont||"sans-serif"}),this.static=!!u.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var u=this.objects.length-1;u>=0;--u)this.objects[u].dispose();this.objects.length=0;for(var u=this.overlays.length-1;u>=0;--u)this.overlays[u].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(u){this.objects.indexOf(u)<0&&(this.objects.push(u),this.setDirty())},m.removeObject=function(u){for(var y=this.objects,M=0;M<y.length;++M)if(y[M]===u){y.splice(M,1),this.setDirty();break}},m.addOverlay=function(u){this.overlays.indexOf(u)<0&&(this.overlays.push(u),this.setOverlayDirty())},m.removeOverlay=function(u){for(var y=this.overlays,M=0;M<y.length;++M)if(y[M]===u){y.splice(M,1),this.setOverlayDirty();break}};function d(u){var y=u.gl,M=r(y,[y.drawingBufferWidth,y.drawingBufferHeight]),S=new f(y,M);return S.grid=s(S),S.text=n(S),S.line=l(S),S.box=c(S),S.update(u),S}},4296:function(h,g,t){h.exports=m;var r=t(8161),s=t(1152),n=t(6145),l=t(6475),c=t(2565),f=t(5233);function m(v,A){v=v||document.body,A=A||{};var d=[.01,1/0];"distanceLimits"in A&&(d[0]=A.distanceLimits[0],d[1]=A.distanceLimits[1]),"zoomMin"in A&&(d[0]=A.zoomMin),"zoomMax"in A&&(d[1]=A.zoomMax);var u=s({center:A.center||[0,0,0],up:A.up||[0,1,0],eye:A.eye||[0,0,10],mode:A.mode||"orbit",distanceLimits:d}),y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=0,S=v.clientWidth,R=v.clientHeight,x={keyBindingMode:"rotate",enableWheel:!0,view:u,element:v,delay:A.delay||16,rotateSpeed:A.rotateSpeed||1,zoomSpeed:A.zoomSpeed||1,translateSpeed:A.translateSpeed||1,flipX:!!A.flipX,flipY:!!A.flipY,modes:u.modes,_ortho:A._ortho||A.projection&&A.projection.type==="orthographic"||!1,tick:function(){var E=r(),T=this.delay,i=E-2*T;u.idle(E-T),u.recalcMatrix(i),u.flush(E-(100+T*2));for(var D=!0,b=u.computedMatrix,O=0;O<16;++O)D=D&&y[O]===b[O],y[O]=b[O];var F=v.clientWidth===S&&v.clientHeight===R;return S=v.clientWidth,R=v.clientHeight,D?!F:(M=Math.exp(u.computedRadius[0]),!0)},lookAt:function(E,T,i){u.lookAt(u.lastT(),E,T,i)},rotate:function(E,T,i){u.rotate(u.lastT(),E,T,i)},pan:function(E,T,i){u.pan(u.lastT(),E,T,i)},translate:function(E,T,i){u.translate(u.lastT(),E,T,i)}};return Object.defineProperties(x,{matrix:{get:function(){return u.computedMatrix},set:function(E){return u.setMatrix(u.lastT(),E),u.computedMatrix},enumerable:!0},mode:{get:function(){return u.getMode()},set:function(E){var T=u.computedUp.slice(),i=u.computedEye.slice(),D=u.computedCenter.slice();if(u.setMode(E),E==="turntable"){var b=r();u._active.lookAt(b,i,D,T),u._active.lookAt(b+500,i,D,[0,0,1]),u._active.flush(b)}return u.getMode()},enumerable:!0},center:{get:function(){return u.computedCenter},set:function(E){return u.lookAt(u.lastT(),null,E),u.computedCenter},enumerable:!0},eye:{get:function(){return u.computedEye},set:function(E){return u.lookAt(u.lastT(),E),u.computedEye},enumerable:!0},up:{get:function(){return u.computedUp},set:function(E){return u.lookAt(u.lastT(),null,null,E),u.computedUp},enumerable:!0},distance:{get:function(){return M},set:function(E){return u.setDistance(u.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return u.getDistanceLimits(d)},set:function(E){return u.setDistanceLimits(E),E},enumerable:!0}}),v.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),x._lastX=-1,x._lastY=-1,x._lastMods={shift:!1,control:!1,alt:!1,meta:!1},x.enableMouseListeners=function(){x.mouseListener=n(v,E),v.addEventListener("touchstart",function(T){var i=c(T.changedTouches[0],v);E(0,i[0],i[1],x._lastMods),E(1,i[0],i[1],x._lastMods)},f?{passive:!0}:!1),v.addEventListener("touchmove",function(T){var i=c(T.changedTouches[0],v);E(1,i[0],i[1],x._lastMods),T.preventDefault()},f?{passive:!1}:!1),v.addEventListener("touchend",function(T){E(0,x._lastX,x._lastY,x._lastMods)},f?{passive:!0}:!1);function E(T,i,D,b){var O=x.keyBindingMode;if(O!==!1){var F=O==="rotate",V=O==="pan",_=O==="zoom",U=!!b.control,H=!!b.alt,z=!!b.shift,G=!!(T&1),Y=!!(T&2),J=!!(T&4),ae=1/v.clientHeight,oe=ae*(i-x._lastX),he=ae*(D-x._lastY),q=x.flipX?1:-1,Z=x.flipY?1:-1,$=Math.PI*x.rotateSpeed,K=r();if(x._lastX!==-1&&x._lastY!==-1&&((F&&G&&!U&&!H&&!z||G&&!U&&!H&&z)&&u.rotate(K,q*$*oe,-Z*$*he,0),(V&&G&&!U&&!H&&!z||Y||G&&U&&!H&&!z)&&u.pan(K,-x.translateSpeed*oe*M,x.translateSpeed*he*M,0),_&&G&&!U&&!H&&!z||J||G&&!U&&H&&!z)){var re=-x.zoomSpeed*he/window.innerHeight*(K-u.lastT())*100;u.pan(K,0,0,M*(Math.exp(re)-1))}return x._lastX=i,x._lastY=D,x._lastMods=b,!0}}x.wheelListener=l(v,function(T,i){if(x.keyBindingMode!==!1&&x.enableWheel){var D=x.flipX?1:-1,b=x.flipY?1:-1,O=r();if(Math.abs(T)>Math.abs(i))u.rotate(O,0,0,-T*D*Math.PI*x.rotateSpeed/window.innerWidth);else if(!x._ortho){var F=-x.zoomSpeed*b*i/window.innerHeight*(O-u.lastT())/20;u.pan(O,0,0,M*(Math.exp(F)-1))}}},!0)},x.enableMouseListeners(),x}},8245:function(h,g,t){var r=t(6832),s=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),l=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);h.exports=function(c){return s(c,n,l,null,[{name:"position",type:"vec2"}])}},1059:function(h,g,t){var r=t(4296),s=t(7453),n=t(2771),l=t(6496),c=t(2611),f=t(4234),m=t(8126),v=t(6145),A=t(1120),d=t(5268),u=t(8245),y=t(2321)({tablet:!0,featureDetect:!0});h.exports={createScene:E,createCamera:r};function M(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function S(i,D){var b=null;try{b=i.getContext("webgl",D),b||(b=i.getContext("experimental-webgl",D))}catch{return null}return b}function R(i){var D=Math.round(Math.log(Math.abs(i))/Math.log(10));if(D<0){var b=Math.round(Math.pow(10,-D));return Math.ceil(i*b)/b}else if(D>0){var b=Math.round(Math.pow(10,D));return Math.ceil(i/b)*b}return Math.ceil(i)}function x(i){return typeof i=="boolean"?i:!0}function E(i){i=i||{},i.camera=i.camera||{};var D=i.canvas;if(!D)if(D=document.createElement("canvas"),i.container){var b=i.container;b.appendChild(D)}else document.body.appendChild(D);var O=i.gl;if(O||(i.glOptions&&(y=!!i.glOptions.preserveDrawingBuffer),O=S(D,i.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:y})),!O)throw new Error("webgl not supported");var F=i.bounds||[[-10,-10,-10],[10,10,10]],V=new M,_=f(O,O.drawingBufferWidth,O.drawingBufferHeight,{preferFloat:!y}),U=u(O),H=i.cameraObject&&i.cameraObject._ortho===!0||i.camera.projection&&i.camera.projection.type==="orthographic"||!1,z={eye:i.camera.eye||[2,0,0],center:i.camera.center||[0,0,0],up:i.camera.up||[0,1,0],zoomMin:i.camera.zoomMax||.1,zoomMax:i.camera.zoomMin||100,mode:i.camera.mode||"turntable",_ortho:H},G=i.axes||{},Y=s(O,G);Y.enable=!G.disable;var J=i.spikes||{},ae=l(O,J),oe=[],he=[],q=[],Z=[],$=!0,te=!0,K=new Array(16),re=new Array(16),le={view:null,projection:K,model:re,_ortho:!1},te=!0,ee=[O.drawingBufferWidth,O.drawingBufferHeight],ue=i.cameraObject||r(D,z),se={gl:O,contextLost:!1,pixelRatio:i.pixelRatio||1,canvas:D,selection:V,camera:ue,axes:Y,axesPixels:null,spikes:ae,bounds:F,objects:oe,shape:ee,aspect:i.aspectRatio||[1,1,1],pickRadius:i.pickRadius||10,zNear:i.zNear||.01,zFar:i.zFar||1e3,fovy:i.fovy||Math.PI/4,clearColor:i.clearColor||[0,0,0,0],autoResize:x(i.autoResize),autoBounds:x(i.autoBounds),autoScale:!!i.autoScale,autoCenter:x(i.autoCenter),clipToBounds:x(i.clipToBounds),snapToData:!!i.snapToData,onselect:i.onselect||null,onrender:i.onrender||null,onclick:i.onclick||null,cameraParams:le,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ve){this.aspect[0]=Ve.x,this.aspect[1]=Ve.y,this.aspect[2]=Ve.z,te=!0},setBounds:function(Ve,Ne){this.bounds[0][Ve]=Ne.min,this.bounds[1][Ve]=Ne.max},setClearColor:function(Ve){this.clearColor=Ve},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ve=[O.drawingBufferWidth/se.pixelRatio|0,O.drawingBufferHeight/se.pixelRatio|0];function be(){if(!se._stopped&&se.autoResize){var Ve=D.parentNode,Ne=1,ke=1;Ve&&Ve!==document.body?(Ne=Ve.clientWidth,ke=Ve.clientHeight):(Ne=window.innerWidth,ke=window.innerHeight);var We=Math.ceil(Ne*se.pixelRatio)|0,rt=Math.ceil(ke*se.pixelRatio)|0;if(We!==D.width||rt!==D.height){D.width=We,D.height=rt;var et=D.style;et.position=et.position||"absolute",et.left="0px",et.top="0px",et.width=Ne+"px",et.height=ke+"px",$=!0}}}se.autoResize&&be(),window.addEventListener("resize",be);function Ee(){for(var Ve=oe.length,Ne=Z.length,ke=0;ke<Ne;++ke)q[ke]=0;e:for(var ke=0;ke<Ve;++ke){var We=oe[ke],rt=We.pickSlots;if(!rt){he[ke]=-1;continue}for(var et=0;et<Ne;++et)if(q[et]+rt<255){he[ke]=et,We.setPickBase(q[et]+1),q[et]+=rt;continue e}var tt=c(O,ee);he[ke]=Ne,Z.push(tt),q.push(rt),We.setPickBase(1),Ne+=1}for(;Ne>0&&q[Ne-1]===0;)q.pop(),Z.pop().dispose()}se.update=function(Ve){se._stopped||($=!0,te=!0)},se.add=function(Ve){se._stopped||(Ve.axes=Y,oe.push(Ve),he.push(-1),$=!0,te=!0,Ee())},se.remove=function(Ve){if(!se._stopped){var Ne=oe.indexOf(Ve);Ne<0||(oe.splice(Ne,1),he.pop(),$=!0,te=!0,Ee())}},se.dispose=function(){if(!se._stopped&&(se._stopped=!0,window.removeEventListener("resize",be),D.removeEventListener("webglcontextlost",Ae),se.mouseListener.enabled=!1,!se.contextLost)){Y.dispose(),ae.dispose();for(var Ve=0;Ve<oe.length;++Ve)oe[Ve].dispose();_.dispose();for(var Ve=0;Ve<Z.length;++Ve)Z[Ve].dispose();U.dispose(),O=null,Y=null,ae=null,oe=[]}},se._mouseRotating=!1,se._prevButtons=0,se.enableMouseListeners=function(){se.mouseListener=v(D,function(Ve,Ne,ke){if(!se._stopped){var We=Z.length,rt=oe.length,et=V.object;V.distance=1/0,V.mouse[0]=Ne,V.mouse[1]=ke,V.object=null,V.screen=null,V.dataCoordinate=V.dataPosition=null;var tt=!1;if(Ve&&se._prevButtons)se._mouseRotating=!0;else{se._mouseRotating&&(te=!0),se._mouseRotating=!1;for(var at=0;at<We;++at){var ct=Z[at].query(Ne,ve[1]-ke-1,se.pickRadius);if(ct){if(ct.distance>V.distance)continue;for(var dt=0;dt<rt;++dt){var gt=oe[dt];if(he[dt]===at){var Et=gt.pick(ct);Et&&(V.buttons=Ve,V.screen=ct.coord,V.distance=ct.distance,V.object=gt,V.index=Et.distance,V.dataPosition=Et.position,V.dataCoordinate=Et.dataCoordinate,V.data=Et,tt=!0)}}}}}et&&et!==V.object&&(et.highlight&&et.highlight(null),$=!0),V.object&&(V.object.highlight&&V.object.highlight(V.data),$=!0),tt=tt||V.object!==et,tt&&se.onselect&&se.onselect(V),Ve&1&&!(se._prevButtons&1)&&se.onclick&&se.onclick(V),se._prevButtons=Ve}})};function Ae(){if(se.contextLost)return!0;O.isContextLost()&&(se.contextLost=!0,se.mouseListener.enabled=!1,se.selection.object=null,se.oncontextloss&&se.oncontextloss())}D.addEventListener("webglcontextlost",Ae);function Oe(){if(!Ae()){O.colorMask(!0,!0,!0,!0),O.depthMask(!0),O.disable(O.BLEND),O.enable(O.DEPTH_TEST),O.depthFunc(O.LEQUAL);for(var Ve=oe.length,Ne=Z.length,ke=0;ke<Ne;++ke){var We=Z[ke];We.shape=ve,We.begin();for(var rt=0;rt<Ve;++rt)if(he[rt]===ke){var et=oe[rt];et.drawPick&&(et.pixelRatio=1,et.drawPick(le))}We.end()}}}var Ue=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Le=[Ue[0].slice(),Ue[1].slice()];function we(){if(!Ae()){be();var Ve=se.camera.tick();le.view=se.camera.matrix,$=$||Ve,te=te||Ve,Y.pixelRatio=se.pixelRatio,ae.pixelRatio=se.pixelRatio;var Ne=oe.length,ke=Ue[0],We=Ue[1];ke[0]=ke[1]=ke[2]=1/0,We[0]=We[1]=We[2]=-1/0;for(var rt=0;rt<Ne;++rt){var et=oe[rt];et.pixelRatio=se.pixelRatio,et.axes=se.axes,$=$||!!et.dirty,te=te||!!et.dirty;var tt=et.bounds;if(tt)for(var at=tt[0],ct=tt[1],dt=0;dt<3;++dt)ke[dt]=Math.min(ke[dt],at[dt]),We[dt]=Math.max(We[dt],ct[dt])}var gt=se.bounds;if(se.autoBounds)for(var dt=0;dt<3;++dt){if(We[dt]<ke[dt])ke[dt]=-1,We[dt]=1;else{ke[dt]===We[dt]&&(ke[dt]-=1,We[dt]+=1);var Et=.05*(We[dt]-ke[dt]);ke[dt]=ke[dt]-Et,We[dt]=We[dt]+Et}gt[0][dt]=ke[dt],gt[1][dt]=We[dt]}for(var Ct=!1,dt=0;dt<3;++dt)Ct=Ct||Le[0][dt]!==gt[0][dt]||Le[1][dt]!==gt[1][dt],Le[0][dt]=gt[0][dt],Le[1][dt]=gt[1][dt];if(te=te||Ct,$=$||Ct,!!$){if(Ct){for(var Vt=[0,0,0],rt=0;rt<3;++rt)Vt[rt]=R((gt[1][rt]-gt[0][rt])/10);Y.autoTicks?Y.update({bounds:gt,tickSpacing:Vt}):Y.update({bounds:gt})}var Je=O.drawingBufferWidth,_e=O.drawingBufferHeight;ee[0]=Je,ee[1]=_e,ve[0]=Math.max(Je/se.pixelRatio,1)|0,ve[1]=Math.max(_e/se.pixelRatio,1)|0,T(se,H);for(var rt=0;rt<Ne;++rt){var et=oe[rt];et.axesBounds=gt,se.clipToBounds&&(et.clipBounds=gt)}V.object&&(se.snapToData?ae.position=V.dataCoordinate:ae.position=V.dataPosition,ae.bounds=gt),te&&(te=!1,Oe()),se.axesPixels=n(se.axes,le,Je,_e),se.onrender&&se.onrender(),O.bindFramebuffer(O.FRAMEBUFFER,null),O.viewport(0,0,Je,_e),se.clearRGBA(),O.depthMask(!0),O.colorMask(!0,!0,!0,!0),O.enable(O.DEPTH_TEST),O.depthFunc(O.LEQUAL),O.disable(O.BLEND),O.disable(O.CULL_FACE);var Fe=!1;Y.enable&&(Fe=Fe||Y.isTransparent(),Y.draw(le)),ae.axes=Y,V.object&&ae.draw(le),O.disable(O.CULL_FACE);for(var rt=0;rt<Ne;++rt){var et=oe[rt];et.axes=Y,et.pixelRatio=se.pixelRatio,et.isOpaque&&et.isOpaque()&&et.draw(le),et.isTransparent&&et.isTransparent()&&(Fe=!0)}if(Fe){_.shape=ee,_.bind(),O.clear(O.DEPTH_BUFFER_BIT),O.colorMask(!1,!1,!1,!1),O.depthMask(!0),O.depthFunc(O.LESS),Y.enable&&Y.isTransparent()&&Y.drawTransparent(le);for(var rt=0;rt<Ne;++rt){var et=oe[rt];et.isOpaque&&et.isOpaque()&&et.draw(le)}O.enable(O.BLEND),O.blendEquation(O.FUNC_ADD),O.blendFunc(O.ONE,O.ONE_MINUS_SRC_ALPHA),O.colorMask(!0,!0,!0,!0),O.depthMask(!1),O.clearColor(0,0,0,0),O.clear(O.COLOR_BUFFER_BIT),Y.isTransparent()&&Y.drawTransparent(le);for(var rt=0;rt<Ne;++rt){var et=oe[rt];et.isTransparent&&et.isTransparent()&&et.drawTransparent(le)}O.bindFramebuffer(O.FRAMEBUFFER,null),O.blendFunc(O.ONE,O.ONE_MINUS_SRC_ALPHA),O.disable(O.DEPTH_TEST),U.bind(),_.color[0].bind(0),U.uniforms.accumBuffer=0,m(O),O.disable(O.BLEND)}$=!1;for(var rt=0;rt<Ne;++rt)oe[rt].dirty=!1}}}function Ce(){se._stopped||se.contextLost||(we(),requestAnimationFrame(Ce))}return se.enableMouseListeners(),Ce(),se.redraw=function(){se._stopped||($=!0,we())},se}function T(i,D){var b=i.bounds,O=i.cameraParams,F=O.projection,V=O.model,_=i.gl.drawingBufferWidth,U=i.gl.drawingBufferHeight,H=i.zNear,z=i.zFar,G=i.fovy,Y=_/U;D?(d(F,-Y,Y,-1,1,H,z),O._ortho=!0):(A(F,G,Y,H,z),O._ortho=!1);for(var J=0;J<16;++J)V[J]=0;V[15]=1;for(var ae=0,J=0;J<3;++J)ae=Math.max(ae,b[1][J]-b[0][J]);for(var J=0;J<3;++J)i.autoScale?V[5*J]=i.aspect[J]/(b[1][J]-b[0][J]):V[5*J]=1/ae,i.autoCenter&&(V[12+J]=-V[5*J]*.5*(b[0][J]+b[1][J]))}},8023:function(h,g,t){var r=t(6832);g.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),g.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),g.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),g.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(h,g,t){var r=t(5158),s=t(5827),n=t(5306),l=t(8023);h.exports=v;function c(A,d,u,y,M){this.plot=A,this.offsetBuffer=d,this.pickBuffer=u,this.shader=y,this.pickShader=M,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var f=c.prototype;f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},f.update=function(A){var d;A=A||{};function u(T,i){return T in A?A[T]:i}this.sizeMin=u("sizeMin",.5),this.sizeMax=u("sizeMax",20),this.color=u("color",[1,0,0,1]).slice(),this.areaRatio=u("areaRatio",1),this.borderColor=u("borderColor",[0,0,0,1]).slice(),this.blend=u("blend",!1);var y=A.positions.length>>>1,M=A.positions instanceof Float32Array,S=A.idToIndex instanceof Int32Array&&A.idToIndex.length>=y,R=A.positions,x=M?R:n.mallocFloat32(R.length),E=S?A.idToIndex:n.mallocInt32(y);if(M||x.set(R),!S)for(x.set(R),d=0;d<y;d++)E[d]=d;this.points=R,this.offsetBuffer.update(x),this.pickBuffer.update(E),M||n.free(x),S||n.free(E),this.pointCount=y,this.pickOffset=0};function m(A,d){var u=0,y=A.length>>>1,M;for(M=0;M<y;M++){var S=A[M*2],R=A[M*2+1];S>=d[0]&&S<=d[2]&&R>=d[1]&&R<=d[3]&&u++}return u}f.unifiedDraw=function(){var A=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(u){var y=u!==void 0,M=y?this.pickShader:this.shader,S=this.plot.gl,R=this.plot.dataBox;if(this.pointCount===0)return u;var x=R[2]-R[0],E=R[3]-R[1],T=m(this.points,R),i=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(T,.33333)));A[0]=2/x,A[4]=2/E,A[6]=-2*R[0]/x-1,A[7]=-2*R[1]/E-1,this.offsetBuffer.bind(),M.bind(),M.attributes.position.pointer(),M.uniforms.matrix=A,M.uniforms.color=this.color,M.uniforms.borderColor=this.borderColor,M.uniforms.pointCloud=i<5,M.uniforms.pointSize=i,M.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),y&&(d[0]=u&255,d[1]=u>>8&255,d[2]=u>>16&255,d[3]=u>>24&255,this.pickBuffer.bind(),M.attributes.pickId.pointer(S.UNSIGNED_BYTE),M.uniforms.pickOffset=d,this.pickOffset=u);var D=S.getParameter(S.BLEND),b=S.getParameter(S.DITHER);return D&&!this.blend&&S.disable(S.BLEND),b&&S.disable(S.DITHER),S.drawArrays(S.POINTS,0,this.pointCount),D&&!this.blend&&S.enable(S.BLEND),b&&S.enable(S.DITHER),u+this.pointCount}}(),f.draw=f.unifiedDraw,f.drawPick=f.unifiedDraw,f.pick=function(A,d,u){var y=this.pickOffset,M=this.pointCount;if(u<y||u>=y+M)return null;var S=u-y,R=this.points;return{object:this,pointId:S,dataCoord:[R[2*S],R[2*S+1]]}};function v(A,d){var u=A.gl,y=s(u),M=s(u),S=r(u,l.pointVertex,l.pointFragment),R=r(u,l.pickVertex,l.pickFragment),x=new c(A,y,M,S,R);return x.update(d),A.addObject(x),x}},6093:function(h){h.exports=g;function g(t,r,s,n){var l=r[0],c=r[1],f=r[2],m=r[3],v=s[0],A=s[1],d=s[2],u=s[3],y,M,S,R,x;return M=l*v+c*A+f*d+m*u,M<0&&(M=-M,v=-v,A=-A,d=-d,u=-u),1-M>1e-6?(y=Math.acos(M),S=Math.sin(y),R=Math.sin((1-n)*y)/S,x=Math.sin(n*y)/S):(R=1-n,x=n),t[0]=R*l+x*v,t[1]=R*c+x*A,t[2]=R*f+x*d,t[3]=R*m+x*u,t}},8240:function(h){h.exports=function(g){return!g&&g!==0?"":g.toString()}},4123:function(h,g,t){var r=t(875);h.exports=n;var s={};function n(l,c,f){var m=s[c];if(m||(m=s[c]={}),l in m)return m[l];var v={textAlign:"center",textBaseline:"middle",lineHeight:1,font:c,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};v.triangles=!0;var A=r(l,v);v.triangles=!1;var d=r(l,v),u,y;if(f&&f!==1){for(u=0;u<A.positions.length;++u)for(y=0;y<A.positions[u].length;++y)A.positions[u][y]/=f;for(u=0;u<d.positions.length;++u)for(y=0;y<d.positions[u].length;++y)d.positions[u][y]/=f}var M=[[1/0,1/0],[-1/0,-1/0]],S=d.positions.length;for(u=0;u<S;++u){var R=d.positions[u];for(y=0;y<2;++y)M[0][y]=Math.min(M[0][y],R[y]),M[1][y]=Math.max(M[1][y],R[y])}return m[l]=[A,d,M]}},9282:function(h,g,t){var r=t(5158),s=t(6832),n=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),c=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),f=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),v=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],A={vertex:n,fragment:f,attributes:v},d={vertex:l,fragment:f,attributes:v},u={vertex:c,fragment:f,attributes:v},y={vertex:n,fragment:m,attributes:v},M={vertex:l,fragment:m,attributes:v},S={vertex:c,fragment:m,attributes:v};function R(x,E){var T=r(x,E),i=T.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,T}g.createPerspective=function(x){return R(x,A)},g.createOrtho=function(x){return R(x,d)},g.createProject=function(x){return R(x,u)},g.createPickPerspective=function(x){return R(x,y)},g.createPickOrtho=function(x){return R(x,M)},g.createPickProject=function(x){return R(x,S)}},2182:function(h,g,t){var r=t(3596),s=t(5827),n=t(2944),l=t(5306),c=t(104),f=t(9282),m=t(4123),v=t(8240),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];h.exports=he;function d(q,Z){var $=q[0],K=q[1],re=q[2],le=q[3];return q[0]=Z[0]*$+Z[4]*K+Z[8]*re+Z[12]*le,q[1]=Z[1]*$+Z[5]*K+Z[9]*re+Z[13]*le,q[2]=Z[2]*$+Z[6]*K+Z[10]*re+Z[14]*le,q[3]=Z[3]*$+Z[7]*K+Z[11]*re+Z[15]*le,q}function u(q,Z,$,K){return d(K,K),d(K,K),d(K,K)}function y(q,Z){this.index=q,this.dataCoordinate=this.position=Z}function M(q){return q===!0||q>1?1:q}function S(q,Z,$,K,re,le,te,ee,ue,se,ve,be){this.gl=q,this.pixelRatio=1,this.shader=Z,this.orthoShader=$,this.projectShader=K,this.pointBuffer=re,this.colorBuffer=le,this.glyphBuffer=te,this.idBuffer=ee,this.vao=ue,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=se,this.pickOrthoShader=ve,this.pickProjectShader=be,this.points=[],this._selectResult=new y(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var R=S.prototype;R.pickSlots=1,R.setPickBase=function(q){this.pickId=q},R.isTransparent=function(){if(this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&this.projectHasAlpha)return!0;return!1},R.isOpaque=function(){if(!this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&!this.projectHasAlpha)return!0;return!1};var x=[0,0],E=[0,0,0],T=[0,0,0],i=[0,0,0,1],D=[0,0,0,1],b=A.slice(),O=[0,0,0],F=[[0,0,0],[0,0,0]];function V(q){return q[0]=q[1]=q[2]=0,q}function _(q,Z){return q[0]=Z[0],q[1]=Z[1],q[2]=Z[2],q[3]=1,q}function U(q,Z,$,K){return q[0]=Z[0],q[1]=Z[1],q[2]=Z[2],q[$]=K,q}function H(q){for(var Z=F,$=0;$<2;++$)for(var K=0;K<3;++K)Z[$][K]=Math.max(Math.min(q[$][K],1e8),-1e8);return Z}function z(q,Z,$,K){var re=Z.axesProject,le=Z.gl,te=q.uniforms,ee=$.model||A,ue=$.view||A,se=$.projection||A,ve=Z.axesBounds,be=H(Z.clipBounds),Ee;Z.axes&&Z.axes.lastCubeProps?Ee=Z.axes.lastCubeProps.axis:Ee=[1,1,1],x[0]=2/le.drawingBufferWidth,x[1]=2/le.drawingBufferHeight,q.bind(),te.view=ue,te.projection=se,te.screenSize=x,te.highlightId=Z.highlightId,te.highlightScale=Z.highlightScale,te.clipBounds=be,te.pickGroup=Z.pickId/255,te.pixelRatio=K;for(var Ae=0;Ae<3;++Ae)if(re[Ae]){te.scale=Z.projectScale[Ae],te.opacity=Z.projectOpacity[Ae];for(var Oe=b,Ue=0;Ue<16;++Ue)Oe[Ue]=0;for(var Ue=0;Ue<4;++Ue)Oe[5*Ue]=1;Oe[5*Ae]=0,Ee[Ae]<0?Oe[12+Ae]=ve[0][Ae]:Oe[12+Ae]=ve[1][Ae],c(Oe,ee,Oe),te.model=Oe;var Le=(Ae+1)%3,we=(Ae+2)%3,Ce=V(E),Ve=V(T);Ce[Le]=1,Ve[we]=1;var Ne=u(se,ue,ee,_(i,Ce)),ke=u(se,ue,ee,_(D,Ve));if(Math.abs(Ne[1])>Math.abs(ke[1])){var We=Ne;Ne=ke,ke=We,We=Ce,Ce=Ve,Ve=We;var rt=Le;Le=we,we=rt}Ne[0]<0&&(Ce[Le]=-1),ke[1]>0&&(Ve[we]=-1);for(var et=0,tt=0,Ue=0;Ue<4;++Ue)et+=Math.pow(ee[4*Le+Ue],2),tt+=Math.pow(ee[4*we+Ue],2);Ce[Le]/=Math.sqrt(et),Ve[we]/=Math.sqrt(tt),te.axes[0]=Ce,te.axes[1]=Ve,te.fragClipBounds[0]=U(O,be[0],Ae,-1e8),te.fragClipBounds[1]=U(O,be[1],Ae,1e8),Z.vao.bind(),Z.vao.draw(le.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(le.lineWidth(Z.lineWidth*K),Z.vao.draw(le.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}var G=[-1e8,-1e8,-1e8],Y=[1e8,1e8,1e8],J=[G,Y];function ae(q,Z,$,K,re,le,te){var ee=$.gl;if((le===$.projectHasAlpha||te)&&z(Z,$,K,re),le===$.hasAlpha||te){q.bind();var ue=q.uniforms;ue.model=K.model||A,ue.view=K.view||A,ue.projection=K.projection||A,x[0]=2/ee.drawingBufferWidth,x[1]=2/ee.drawingBufferHeight,ue.screenSize=x,ue.highlightId=$.highlightId,ue.highlightScale=$.highlightScale,ue.fragClipBounds=J,ue.clipBounds=$.axes.bounds,ue.opacity=$.opacity,ue.pickGroup=$.pickId/255,ue.pixelRatio=re,$.vao.bind(),$.vao.draw(ee.TRIANGLES,$.vertexCount),$.lineWidth>0&&(ee.lineWidth($.lineWidth*re),$.vao.draw(ee.LINES,$.lineVertexCount,$.vertexCount)),$.vao.unbind()}}R.draw=function(q){var Z=this.useOrtho?this.orthoShader:this.shader;ae(Z,this.projectShader,this,q,this.pixelRatio,!1,!1)},R.drawTransparent=function(q){var Z=this.useOrtho?this.orthoShader:this.shader;ae(Z,this.projectShader,this,q,this.pixelRatio,!0,!1)},R.drawPick=function(q){var Z=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ae(Z,this.pickProjectShader,this,q,1,!0,!0)},R.pick=function(q){if(!q||q.id!==this.pickId)return null;var Z=q.value[2]+(q.value[1]<<8)+(q.value[0]<<16);if(Z>=this.pointCount||Z<0)return null;var $=this.points[Z],K=this._selectResult;K.index=Z;for(var re=0;re<3;++re)K.position[re]=K.dataCoordinate[re]=$[re];return K},R.highlight=function(q){if(!q)this.highlightId=[1,1,1,1];else{var Z=q.index,$=Z&255,K=Z>>8&255,re=Z>>16&255;this.highlightId=[$/255,K/255,re/255,0]}};function oe(q,Z,$,K){var re;Array.isArray(q)?Z<q.length?re=q[Z]:re=void 0:re=q,re=v(re);var le=!0;r(re)&&(re="▼",le=!1);var te=m(re,$,K);return{mesh:te[0],lines:te[1],bounds:te[2],visible:le}}R.update=function(q){if(q=q||{},"perspective"in q&&(this.useOrtho=!q.perspective),"orthographic"in q&&(this.useOrtho=!!q.orthographic),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"project"in q)if(Array.isArray(q.project))this.axesProject=q.project;else{var Z=!!q.project;this.axesProject=[Z,Z,Z]}if("projectScale"in q)if(Array.isArray(q.projectScale))this.projectScale=q.projectScale.slice();else{var $=+q.projectScale;this.projectScale=[$,$,$]}if(this.projectHasAlpha=!1,"projectOpacity"in q){if(Array.isArray(q.projectOpacity))this.projectOpacity=q.projectOpacity.slice();else{var $=+q.projectOpacity;this.projectOpacity=[$,$,$]}for(var K=0;K<3;++K)this.projectOpacity[K]=M(this.projectOpacity[K]),this.projectOpacity[K]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in q&&(this.opacity=M(q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var re=q.position,le=q.font||"normal",te=q.alignment||[0,0],ee,ue;if(te.length===2)ee=te[0],ue=te[1];else{ee=[],ue=[];for(var K=0;K<te.length;++K)ee[K]=te[K][0],ue[K]=te[K][1]}var se=[1/0,1/0,1/0],ve=[-1/0,-1/0,-1/0],be=q.glyph,Ee=q.color,Ae=q.size,Oe=q.angle,Ue=q.lineColor,Le=-1,we=0,Ce=0,Ve=0;if(re.length){Ve=re.length;e:for(var K=0;K<Ve;++K){for(var Ne=re[K],ke=0;ke<3;++ke)if(isNaN(Ne[ke])||!isFinite(Ne[ke]))continue e;var We=oe(be,K,le,this.pixelRatio),rt=We.mesh,et=We.lines,tt=We.bounds;we+=rt.cells.length*3,Ce+=et.edges.length*2}}var at=we+Ce,ct=l.mallocFloat(3*at),dt=l.mallocFloat(4*at),gt=l.mallocFloat(2*at),Et=l.mallocUint32(at);if(at>0){var Ct=0,Vt=we,Je=[0,0,0,1],_e=[0,0,0,1],Fe=Array.isArray(Ee)&&Array.isArray(Ee[0]),Be=Array.isArray(Ue)&&Array.isArray(Ue[0]);e:for(var K=0;K<Ve;++K){Le+=1;for(var Ne=re[K],ke=0;ke<3;++ke){if(isNaN(Ne[ke])||!isFinite(Ne[ke]))continue e;ve[ke]=Math.max(ve[ke],Ne[ke]),se[ke]=Math.min(se[ke],Ne[ke])}var We=oe(be,K,le,this.pixelRatio),rt=We.mesh,et=We.lines,tt=We.bounds,De=We.visible;if(!De)Je=[1,1,1,0];else if(Array.isArray(Ee)){var Te;if(Fe?K<Ee.length?Te=Ee[K]:Te=[0,0,0,0]:Te=Ee,Te.length===3){for(var ke=0;ke<3;++ke)Je[ke]=Te[ke];Je[3]=1}else if(Te.length===4){for(var ke=0;ke<4;++ke)Je[ke]=Te[ke];!this.hasAlpha&&Te[3]<1&&(this.hasAlpha=!0)}}else Je[0]=Je[1]=Je[2]=0,Je[3]=1;if(!De)_e=[1,1,1,0];else if(Array.isArray(Ue)){var Te;if(Be?K<Ue.length?Te=Ue[K]:Te=[0,0,0,0]:Te=Ue,Te.length===3){for(var ke=0;ke<3;++ke)_e[ke]=Te[ke];_e[ke]=1}else if(Te.length===4){for(var ke=0;ke<4;++ke)_e[ke]=Te[ke];!this.hasAlpha&&Te[3]<1&&(this.hasAlpha=!0)}}else _e[0]=_e[1]=_e[2]=0,_e[3]=1;var xe=.5;De?Array.isArray(Ae)?K<Ae.length?xe=+Ae[K]:xe=12:Ae?xe=+Ae:this.useOrtho&&(xe=12):xe=0;var Me=0;Array.isArray(Oe)?K<Oe.length?Me=+Oe[K]:Me=0:Oe&&(Me=+Oe);for(var Pe=Math.cos(Me),He=Math.sin(Me),Ne=re[K],ke=0;ke<3;++ke)ve[ke]=Math.max(ve[ke],Ne[ke]),se[ke]=Math.min(se[ke],Ne[ke]);var Ke=ee,qe=ue,Ke=0;Array.isArray(ee)?K<ee.length?Ke=ee[K]:Ke=0:ee&&(Ke=ee);var qe=0;Array.isArray(ue)?K<ue.length?qe=ue[K]:qe=0:ue&&(qe=ue),Ke*=Ke>0?1-tt[0][0]:Ke<0?1+tt[1][0]:1,qe*=qe>0?1-tt[0][1]:qe<0?1+tt[1][1]:1;for(var vt=[Ke,qe],zt=rt.cells||[],Kt=rt.positions||[],ke=0;ke<zt.length;++ke)for(var bt=zt[ke],Wt=0;Wt<3;++Wt){for(var qt=0;qt<3;++qt)ct[3*Ct+qt]=Ne[qt];for(var qt=0;qt<4;++qt)dt[4*Ct+qt]=Je[qt];Et[Ct]=Le;var At=Kt[bt[Wt]];gt[2*Ct]=xe*(Pe*At[0]-He*At[1]+vt[0]),gt[2*Ct+1]=xe*(He*At[0]+Pe*At[1]+vt[1]),Ct+=1}for(var zt=et.edges,Kt=et.positions,ke=0;ke<zt.length;++ke)for(var bt=zt[ke],Wt=0;Wt<2;++Wt){for(var qt=0;qt<3;++qt)ct[3*Vt+qt]=Ne[qt];for(var qt=0;qt<4;++qt)dt[4*Vt+qt]=_e[qt];Et[Vt]=Le;var At=Kt[bt[Wt]];gt[2*Vt]=xe*(Pe*At[0]-He*At[1]+vt[0]),gt[2*Vt+1]=xe*(He*At[0]+Pe*At[1]+vt[1]),Vt+=1}}}this.bounds=[se,ve],this.points=re,this.pointCount=re.length,this.vertexCount=we,this.lineVertexCount=Ce,this.pointBuffer.update(ct),this.colorBuffer.update(dt),this.glyphBuffer.update(gt),this.idBuffer.update(Et),l.free(ct),l.free(dt),l.free(gt),l.free(Et)},R.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function he(q){var Z=q.gl,$=f.createPerspective(Z),K=f.createOrtho(Z),re=f.createProject(Z),le=f.createPickPerspective(Z),te=f.createPickOrtho(Z),ee=f.createPickProject(Z),ue=s(Z),se=s(Z),ve=s(Z),be=s(Z),Ee=n(Z,[{buffer:ue,size:3,type:Z.FLOAT},{buffer:se,size:4,type:Z.FLOAT},{buffer:ve,size:2,type:Z.FLOAT},{buffer:be,size:4,type:Z.UNSIGNED_BYTE,normalized:!0}]),Ae=new S(Z,$,K,re,ue,se,ve,be,Ee,le,te,ee);return Ae.update(q),Ae}},1884:function(h,g,t){var r=t(6832);g.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),g.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(h,g,t){var r=t(5158),s=t(5827),n=t(1884);h.exports=f;function l(m,v,A){this.plot=m,this.boxBuffer=v,this.boxShader=A,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var c=l.prototype;c.draw=function(){if(this.enabled){var m=this.plot,v=this.selectBox,A=this.borderWidth;this.innerFill;var d=this.innerColor;this.outerFill;var u=this.outerColor,y=this.borderColor,M=m.box,S=m.screenBox,R=m.dataBox,x=m.viewBox,E=m.pixelRatio,T=(v[0]-R[0])*(x[2]-x[0])/(R[2]-R[0])+x[0],i=(v[1]-R[1])*(x[3]-x[1])/(R[3]-R[1])+x[1],D=(v[2]-R[0])*(x[2]-x[0])/(R[2]-R[0])+x[0],b=(v[3]-R[1])*(x[3]-x[1])/(R[3]-R[1])+x[1];if(T=Math.max(T,x[0]),i=Math.max(i,x[1]),D=Math.min(D,x[2]),b=Math.min(b,x[3]),!(D<T||b<i)){M.bind();var O=S[2]-S[0],F=S[3]-S[1];if(this.outerFill&&(M.drawBox(0,0,O,i,u),M.drawBox(0,i,T,b,u),M.drawBox(0,b,O,F,u),M.drawBox(D,i,O,b,u)),this.innerFill&&M.drawBox(T,i,D,b,d),A>0){var V=A*E;M.drawBox(T-V,i-V,D+V,i+V,y),M.drawBox(T-V,b-V,D+V,b+V,y),M.drawBox(T-V,i-V,T+V,b+V,y),M.drawBox(D-V,i-V,D+V,b+V,y)}}}},c.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},c.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function f(m,v){var A=m.gl,d=s(A,[0,0,0,1,1,0,1,1]),u=r(A,n.boxVertex,n.boxFragment),y=new l(m,d,u);return y.update(v),m.addOverlay(y),y}},2611:function(h,g,t){h.exports=A;var r=t(4234),s=t(5306),n=t(5050),l=t(2288).nextPow2,c=function(d,u,y){for(var M=1e8,S=-1,R=-1,x=d.shape[0],E=d.shape[1],T=0;T<x;T++)for(var i=0;i<E;i++){var D=d.get(T,i,0),b=d.get(T,i,1),O=d.get(T,i,2),F=d.get(T,i,3);if(D<255||b<255||O<255||F<255){var V=u-T,_=y-i,U=V*V+_*_;U<M&&(M=U,S=T,R=i)}}return[S,R,M]};function f(d,u,y,M,S){this.coord=[d,u],this.id=y,this.value=M,this.distance=S}function m(d,u,y){this.gl=d,this.fbo=u,this.buffer=y,this._readTimeout=null;var M=this;this._readCallback=function(){M.gl&&(u.bind(),d.readPixels(0,0,u.shape[0],u.shape[1],d.RGBA,d.UNSIGNED_BYTE,M.buffer),M._readTimeout=null)}}var v=m.prototype;Object.defineProperty(v,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(d){if(this.gl){this.fbo.shape=d;var u=this.fbo.shape[0],y=this.fbo.shape[1];if(y*u*4>this.buffer.length){s.free(this.buffer);for(var M=this.buffer=s.mallocUint8(l(y*u*4)),S=0;S<y*u*4;++S)M[S]=255}return d}}}),v.begin=function(){var d=this.gl;this.shape,d&&(this.fbo.bind(),d.clearColor(1,1,1,1),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT))},v.end=function(){var d=this.gl;d&&(d.bindFramebuffer(d.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},v.query=function(d,u,y){if(!this.gl)return null;var M=this.fbo.shape.slice();d=d|0,u=u|0,typeof y!="number"&&(y=1);var S=Math.min(Math.max(d-y,0),M[0])|0,R=Math.min(Math.max(d+y,0),M[0])|0,x=Math.min(Math.max(u-y,0),M[1])|0,E=Math.min(Math.max(u+y,0),M[1])|0;if(R<=S||E<=x)return null;var T=[R-S,E-x],i=n(this.buffer,[T[0],T[1],4],[4,M[0]*4,1],4*(S+M[0]*x)),D=c(i.hi(T[0],T[1],1),y,y),b=D[0],O=D[1];if(b<0||Math.pow(this.radius,2)<D[2])return null;var F=i.get(b,O,0),V=i.get(b,O,1),_=i.get(b,O,2),U=i.get(b,O,3);return new f(b+S|0,O+x|0,F,[V,_,U],Math.sqrt(D[2]))},v.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function A(d,u){var y=u[0],M=u[1],S={},R=r(d,y,M,S),x=s.mallocUint8(y*M*4);return new m(d,R,x)}},5158:function(h,g,t){var r=t(9016),s=t(4280),n=t(3984),l=t(1628),c=t(2631),f=t(9068);function m(u){this.gl=u,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var v=m.prototype;v.bind=function(){this.program||this._relink();var u,y=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),M=this.gl.lastAttribCount;if(y>M)for(u=M;u<y;u++)this.gl.enableVertexAttribArray(u);else if(M>y)for(u=y;u<M;u++)this.gl.disableVertexAttribArray(u);this.gl.lastAttribCount=y,this.gl.useProgram(this.program)},v.dispose=function(){for(var u=this.gl.lastAttribCount,y=0;y<u;y++)this.gl.disableVertexAttribArray(y);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function A(u,y){return u.name<y.name?-1:1}v.update=function(u,y,M,S){if(!y||arguments.length===1){var R=u;u=R.vertex,y=R.fragment,M=R.uniforms,S=R.attributes}var x=this,E=x.gl,T=x._vref;x._vref=l.shader(E,E.VERTEX_SHADER,u),T&&T.dispose(),x.vertShader=x._vref.shader;var i=this._fref;if(x._fref=l.shader(E,E.FRAGMENT_SHADER,y),i&&i.dispose(),x.fragShader=x._fref.shader,!M||!S){var D=E.createProgram();if(E.attachShader(D,x.fragShader),E.attachShader(D,x.vertShader),E.linkProgram(D),!E.getProgramParameter(D,E.LINK_STATUS)){var b=E.getProgramInfoLog(D);throw new f(b,"Error linking program:"+b)}M=M||c.uniforms(E,D),S=S||c.attributes(E,D),E.deleteProgram(D)}S=S.slice(),S.sort(A);var O=[],F=[],V=[],_;for(_=0;_<S.length;++_){var U=S[_];if(U.type.indexOf("mat")>=0){for(var H=U.type.charAt(U.type.length-1)|0,z=new Array(H),G=0;G<H;++G)z[G]=V.length,F.push(U.name+"["+G+"]"),typeof U.location=="number"?V.push(U.location+G):Array.isArray(U.location)&&U.location.length===H&&typeof U.location[G]=="number"?V.push(U.location[G]|0):V.push(-1);O.push({name:U.name,type:U.type,locations:z})}else O.push({name:U.name,type:U.type,locations:[V.length]}),F.push(U.name),typeof U.location=="number"?V.push(U.location|0):V.push(-1)}var Y=0;for(_=0;_<V.length;++_)if(V[_]<0){for(;V.indexOf(Y)>=0;)Y+=1;V[_]=Y}var J=new Array(M.length);function ae(){x.program=l.program(E,x._vref,x._fref,F,V);for(var oe=0;oe<M.length;++oe)J[oe]=E.getUniformLocation(x.program,M[oe].name)}ae(),x._relink=ae,x.types={uniforms:n(M),attributes:n(S)},x.attributes=s(E,x,O,V),Object.defineProperty(x,"uniforms",r(E,x,M,J))};function d(u,y,M,S,R){var x=new m(u);return x.update(y,M,S,R),x}h.exports=d},9068:function(h){function g(t,r,s){this.shortMessage=r||"",this.longMessage=s||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(s?`
`+s:""),this.stack=new Error().stack}g.prototype=new Error,g.prototype.name="GLError",g.prototype.constructor=g,h.exports=g},4280:function(h,g,t){h.exports=m;var r=t(9068);function s(v,A,d,u,y,M){this._gl=v,this._wrapper=A,this._index=d,this._locations=u,this._dimension=y,this._constFunc=M}var n=s.prototype;n.pointer=function(A,d,u,y){var M=this,S=M._gl,R=M._locations[M._index];S.vertexAttribPointer(R,M._dimension,A||S.FLOAT,!!d,u||0,y||0),S.enableVertexAttribArray(R)},n.set=function(v,A,d,u){return this._constFunc(this._locations[this._index],v,A,d,u)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(v){return v!==this._locations[this._index]&&(this._locations[this._index]=v|0,this._wrapper.program=null),v|0}});var l=[function(v,A,d){return d.length===void 0?v.vertexAttrib1f(A,d):v.vertexAttrib1fv(A,d)},function(v,A,d,u){return d.length===void 0?v.vertexAttrib2f(A,d,u):v.vertexAttrib2fv(A,d)},function(v,A,d,u,y){return d.length===void 0?v.vertexAttrib3f(A,d,u,y):v.vertexAttrib3fv(A,d)},function(v,A,d,u,y,M){return d.length===void 0?v.vertexAttrib4f(A,d,u,y,M):v.vertexAttrib4fv(A,d)}];function c(v,A,d,u,y,M,S){var R=l[y],x=new s(v,A,d,u,y,R);Object.defineProperty(M,S,{set:function(E){return v.disableVertexAttribArray(u[d]),R(v,u[d],E),E},get:function(){return x},enumerable:!0})}function f(v,A,d,u,y,M,S){for(var R=new Array(y),x=new Array(y),E=0;E<y;++E)c(v,A,d[E],u,y,R,E),x[E]=R[E];Object.defineProperty(R,"location",{set:function(D){if(Array.isArray(D))for(var b=0;b<y;++b)x[b].location=D[b];else for(var b=0;b<y;++b)x[b].location=D+b;return D},get:function(){for(var D=new Array(y),b=0;b<y;++b)D[b]=u[d[b]];return D},enumerable:!0}),R.pointer=function(D,b,O,F){D=D||v.FLOAT,b=!!b,O=O||y*y,F=F||0;for(var V=0;V<y;++V){var _=u[d[V]];v.vertexAttribPointer(_,y,D,b,O,F+V*y),v.enableVertexAttribArray(_)}};var T=new Array(y),i=v["vertexAttrib"+y+"fv"];Object.defineProperty(M,S,{set:function(D){for(var b=0;b<y;++b){var O=u[d[b]];if(v.disableVertexAttribArray(O),Array.isArray(D[0]))i.call(v,O,D[b]);else{for(var F=0;F<y;++F)T[F]=D[y*b+F];i.call(v,O,T)}}return D},get:function(){return R},enumerable:!0})}function m(v,A,d,u){for(var y={},M=0,S=d.length;M<S;++M){var R=d[M],x=R.name,E=R.type,T=R.locations;switch(E){case"bool":case"int":case"float":c(v,A,T[0],u,1,y,x);break;default:if(E.indexOf("vec")>=0){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+x+": "+E);c(v,A,T[0],u,i,y,x)}else if(E.indexOf("mat")>=0){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+x+": "+E);f(v,A,T,u,i,y,x)}else throw new r("","Unknown data type for attribute "+x+": "+E);break}}return y}},9016:function(h,g,t){var r=t(3984),s=t(9068);h.exports=c;function n(f){return function(){return f}}function l(f,m){for(var v=new Array(f),A=0;A<f;++A)v[A]=m;return v}function c(f,m,v,A){function d(E){return function(T,i,D){return T.getUniform(i.program,D[E])}}function u(E){return function(i){for(var D=y("",E),b=0;b<D.length;++b){var O=D[b],F=O[0],V=O[1];if(A[V]){var _=i;if(typeof F=="string"&&(F.indexOf(".")===0||F.indexOf("[")===0)){var U=F;if(F.indexOf(".")===0&&(U=F.slice(1)),U.indexOf("]")===U.length-1){var H=U.indexOf("["),z=U.slice(0,H),G=U.slice(H+1,U.length-1);_=z?i[z][G]:i[G]}else _=i[U]}var Y=v[V].type,J;switch(Y){case"bool":case"int":case"sampler2D":case"samplerCube":f.uniform1i(A[V],_);break;case"float":f.uniform1f(A[V],_);break;default:var ae=Y.indexOf("vec");if(0<=ae&&ae<=1&&Y.length===4+ae){if(J=Y.charCodeAt(Y.length-1)-48,J<2||J>4)throw new s("","Invalid data type");switch(Y.charAt(0)){case"b":case"i":f["uniform"+J+"iv"](A[V],_);break;case"v":f["uniform"+J+"fv"](A[V],_);break;default:throw new s("","Unrecognized data type for vector "+name+": "+Y)}}else if(Y.indexOf("mat")===0&&Y.length===4){if(J=Y.charCodeAt(Y.length-1)-48,J<2||J>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+Y);f["uniformMatrix"+J+"fv"](A[V],!1,_);break}else throw new s("","Unknown uniform data type for "+name+": "+Y)}}}}}function y(E,T){if(typeof T!="object")return[[E,T]];var i=[];for(var D in T){var b=T[D],O=E;parseInt(D)+""===D?O+="["+D+"]":O+="."+D,typeof b=="object"?i.push.apply(i,y(O,b)):i.push([O,b])}return i}function M(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var T=E.indexOf("vec");if(0<=T&&T<=1&&E.length===4+T){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");return E.charAt(0)==="b"?l(i,!1):l(i,0)}else if(E.indexOf("mat")===0&&E.length===4){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+E);return l(i*i,0)}else throw new s("","Unknown uniform data type for "+name+": "+E)}}function S(E,T,i){if(typeof i=="object"){var D=R(i);Object.defineProperty(E,T,{get:n(D),set:u(i),enumerable:!0,configurable:!1})}else A[i]?Object.defineProperty(E,T,{get:d(i),set:u(i),enumerable:!0,configurable:!1}):E[T]=M(v[i].type)}function R(E){var T;if(Array.isArray(E)){T=new Array(E.length);for(var i=0;i<E.length;++i)S(T,i,E[i])}else{T={};for(var D in E)S(T,D,E[D])}return T}var x=r(v,!0);return{get:n(R(x)),set:u(x),enumerable:!0,configurable:!0}}},3984:function(h){h.exports=g;function g(t,r){for(var s={},n=0;n<t.length;++n)for(var l=t[n].name,c=l.split("."),f=s,m=0;m<c.length;++m){var v=c[m].split("[");if(v.length>1){v[0]in f||(f[v[0]]=[]),f=f[v[0]];for(var A=1;A<v.length;++A){var d=parseInt(v[A]);A<v.length-1||m<c.length-1?(d in f||(A<v.length-1?f[d]=[]:f[d]={}),f=f[d]):r?f[d]=n:f[d]=t[n].type}}else m<c.length-1?(v[0]in f||(f[v[0]]={}),f=f[v[0]]):r?f[v[0]]=n:f[v[0]]=t[n].type}return s}},2631:function(h,g){g.uniforms=n,g.attributes=l;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function s(c,f){if(!r){var m=Object.keys(t);r={};for(var v=0;v<m.length;++v){var A=m[v];r[c[A]]=t[A]}}return r[f]}function n(c,f){for(var m=c.getProgramParameter(f,c.ACTIVE_UNIFORMS),v=[],A=0;A<m;++A){var d=c.getActiveUniform(f,A);if(d){var u=s(c,d.type);if(d.size>1)for(var y=0;y<d.size;++y)v.push({name:d.name.replace("[0]","["+y+"]"),type:u});else v.push({name:d.name,type:u})}}return v}function l(c,f){for(var m=c.getProgramParameter(f,c.ACTIVE_ATTRIBUTES),v=[],A=0;A<m;++A){var d=c.getActiveAttrib(f,A);d&&v.push({name:d.name,type:s(c,d.type)})}return v}},1628:function(h,g,t){g.shader=y,g.program=M;var r=t(9068),s=t(3530),n=typeof WeakMap>"u"?t(4037):WeakMap,l=new n,c=0;function f(S,R,x,E,T,i,D){this.id=S,this.src=R,this.type=x,this.shader=E,this.count=i,this.programs=[],this.cache=D}f.prototype.dispose=function(){if(--this.count===0){for(var S=this.cache,R=S.gl,x=this.programs,E=0,T=x.length;E<T;++E){var i=S.programs[x[E]];i&&(delete S.programs[E],R.deleteProgram(i))}R.deleteShader(this.shader),delete S.shaders[this.type===R.FRAGMENT_SHADER|0][this.src]}};function m(S){this.gl=S,this.shaders=[{},{}],this.programs={}}var v=m.prototype;function A(S,R,x){var E=S.createShader(R);if(S.shaderSource(E,x),S.compileShader(E),!S.getShaderParameter(E,S.COMPILE_STATUS)){var T=S.getShaderInfoLog(E);try{var i=s(T,x,R)}catch(D){throw console.warn("Failed to format compiler error: "+D),new r(T,`Error compiling shader:
`+T)}throw new r(T,i.short,i.long)}return E}v.getShaderReference=function(S,R){var x=this.gl,E=this.shaders[S===x.FRAGMENT_SHADER|0],T=E[R];if(!T||!x.isShader(T.shader)){var i=A(x,S,R);T=E[R]=new f(c++,R,S,i,[],1,this)}else T.count+=1;return T};function d(S,R,x,E,T){var i=S.createProgram();S.attachShader(i,R),S.attachShader(i,x);for(var D=0;D<E.length;++D)S.bindAttribLocation(i,T[D],E[D]);if(S.linkProgram(i),!S.getProgramParameter(i,S.LINK_STATUS)){var b=S.getProgramInfoLog(i);throw new r(b,"Error linking program: "+b)}return i}v.getProgram=function(S,R,x,E){var T=[S.id,R.id,x.join(":"),E.join(":")].join("@"),i=this.programs[T];return(!i||!this.gl.isProgram(i))&&(this.programs[T]=i=d(this.gl,S.shader,R.shader,x,E),S.programs.push(T),R.programs.push(T)),i};function u(S){var R=l.get(S);return R||(R=new m(S),l.set(S,R)),R}function y(S,R,x){return u(S).getShaderReference(R,x)}function M(S,R,x,E,T){return u(S).getProgram(R,x,E,T)}},3050:function(h){h.exports=r;function g(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=g.prototype;t.update=function(s){s=s||{},this.enable=(s.enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var s=this.enable,n=this.width,l=this.color,c=this.center,f=this.plot,m=f.line,v=f.dataBox,A=f.viewBox;if(m.bind(),v[0]<=c[0]&&c[0]<=v[2]&&v[1]<=c[1]&&c[1]<=v[3]){var d=A[0]+(c[0]-v[0])/(v[2]-v[0])*(A[2]-A[0]),u=A[1]+(c[1]-v[1])/(v[3]-v[1])*(A[3]-A[1]);s[0]&&m.drawLine(d,u,A[0],u,n[0],l[0]),s[1]&&m.drawLine(d,u,d,A[1],n[1],l[1]),s[2]&&m.drawLine(d,u,A[2],u,n[2],l[2]),s[3]&&m.drawLine(d,u,d,A[3],n[3],l[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(s,n){var l=new g(s);return l.update(n),s.addOverlay(l),l}},3540:function(h,g,t){var r=t(6832),s=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),l=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);h.exports=function(c){return s(c,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(h,g,t){var r=t(5827),s=t(2944),n=t(3540);h.exports=d;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(u,y,M,S){this.gl=u,this.buffer=y,this.vao=M,this.shader=S,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var f=c.prototype,m=[0,0,0],v=[0,0,0],A=[0,0];f.isTransparent=function(){return!1},f.drawTransparent=function(u){},f.draw=function(u){var y=this.gl,M=this.vao,S=this.shader;M.bind(),S.bind();var R=u.model||l,x=u.view||l,E=u.projection||l,T;this.axes&&(T=this.axes.lastCubeProps.axis);for(var i=m,D=v,b=0;b<3;++b)T&&T[b]<0?(i[b]=this.bounds[0][b],D[b]=this.bounds[1][b]):(i[b]=this.bounds[1][b],D[b]=this.bounds[0][b]);A[0]=y.drawingBufferWidth,A[1]=y.drawingBufferHeight,S.uniforms.model=R,S.uniforms.view=x,S.uniforms.projection=E,S.uniforms.coordinates=[this.position,i,D],S.uniforms.colors=this.colors,S.uniforms.screenShape=A;for(var b=0;b<3;++b)S.uniforms.lineWidth=this.lineWidth[b]*this.pixelRatio,this.enabled[b]&&(M.draw(y.TRIANGLES,6,6*b),this.drawSides[b]&&M.draw(y.TRIANGLES,12,18+12*b));M.unbind()},f.update=function(u){u&&("bounds"in u&&(this.bounds=u.bounds),"position"in u&&(this.position=u.position),"lineWidth"in u&&(this.lineWidth=u.lineWidth),"colors"in u&&(this.colors=u.colors),"enabled"in u&&(this.enabled=u.enabled),"drawSides"in u&&(this.drawSides=u.drawSides))},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function d(u,y){var M=[];function S(i,D,b,O,F,V){var _=[i,D,b,0,0,0,1];_[O+3]=1,_[O]=F,M.push.apply(M,_),_[6]=-1,M.push.apply(M,_),_[O]=V,M.push.apply(M,_),M.push.apply(M,_),_[6]=1,M.push.apply(M,_),_[O]=F,M.push.apply(M,_)}S(0,0,0,0,0,1),S(0,0,0,1,0,1),S(0,0,0,2,0,1),S(1,0,0,1,-1,1),S(1,0,0,2,-1,1),S(0,1,0,0,-1,1),S(0,1,0,2,-1,1),S(0,0,1,0,-1,1),S(0,0,1,1,-1,1);var R=r(u,M),x=s(u,[{type:u.FLOAT,buffer:R,size:3,offset:0,stride:28},{type:u.FLOAT,buffer:R,size:3,offset:12,stride:28},{type:u.FLOAT,buffer:R,size:1,offset:24,stride:28}]),E=n(u);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var T=new c(u,R,x,E);return T.update(y),T}},9578:function(h,g,t){var r=t(6832),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},g.pickShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(h,g,t){var r=t(2858),s=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(M,S,R,x){for(var E=M.points,T=M.velocities,i=M.divergences,D=[],b=[],O=[],F=[],V=[],_=[],U=0,H=0,z=s.create(),G=s.create(),Y=8,J=0;J<E.length;J++){var ae=E[J],oe=T[J],he=i[J];S===0&&(he=R*.05),H=r.length(oe)/x,z=s.create(),r.copy(z,oe),z[3]=he;for(var q=0;q<Y;q++)V[q]=[ae[0],ae[1],ae[2],q];if(F.length>0)for(var q=0;q<Y;q++){var Z=(q+1)%Y;D.push(F[q],V[q],V[Z],V[Z],F[Z],F[q]),O.push(G,z,z,z,G,G),_.push(U,H,H,H,U,U);var $=D.length;b.push([$-6,$-5,$-4],[$-3,$-2,$-1])}var K=F;F=V,V=K;var re=G;G=z,z=re;var le=U;U=H,H=le}return{positions:D,cells:b,vectors:O,vertexIntensity:_}},c=function(M,S,R,x){for(var E=0,T=0;T<M.length;T++)for(var i=M[T].velocities,D=0;D<i.length;D++)E=Math.max(E,r.length(i[D]));for(var b=M.map(function(J){return l(J,R,x,E)}),O=[],F=[],V=[],_=[],T=0;T<b.length;T++){var U=b[T],H=O.length;O=O.concat(U.positions),V=V.concat(U.vectors),_=_.concat(U.vertexIntensity);for(var D=0;D<U.cells.length;D++){var z=U.cells[D],G=[];F.push(G);for(var Y=0;Y<z.length;Y++)G.push(z[Y]+H)}}return{positions:O,cells:F,vectors:V,vertexIntensity:_,colormap:S}},f=function(M,S){var R=M.length,x;for(x=0;x<R;x++){var E=M[x];if(E===S)return x;if(E>S)return x-1}return x},m=function(M,S,R){return M<S?S:M>R?R:M},v=function(M,S,R){var x=S.vectors,E=S.meshgrid,T=M[0],i=M[1],D=M[2],b=E[0].length,O=E[1].length,F=E[2].length,V=f(E[0],T),_=f(E[1],i),U=f(E[2],D),H=V+1,z=_+1,G=U+1;if(V=m(V,0,b-1),H=m(H,0,b-1),_=m(_,0,O-1),z=m(z,0,O-1),U=m(U,0,F-1),G=m(G,0,F-1),V<0||_<0||U<0||H>b-1||z>O-1||G>F-1)return r.create();var Y=E[0][V],J=E[0][H],ae=E[1][_],oe=E[1][z],he=E[2][U],q=E[2][G],Z=(T-Y)/(J-Y),$=(i-ae)/(oe-ae),K=(D-he)/(q-he);isFinite(Z)||(Z=.5),isFinite($)||($=.5),isFinite(K)||(K=.5);var re,le,te,ee,ue,se;switch(R.reversedX&&(V=b-1-V,H=b-1-H),R.reversedY&&(_=O-1-_,z=O-1-z),R.reversedZ&&(U=F-1-U,G=F-1-G),R.filled){case 5:ue=U,se=G,te=_*F,ee=z*F,re=V*F*O,le=H*F*O;break;case 4:ue=U,se=G,re=V*F,le=H*F,te=_*F*b,ee=z*F*b;break;case 3:te=_,ee=z,ue=U*O,se=G*O,re=V*O*F,le=H*O*F;break;case 2:te=_,ee=z,re=V*O,le=H*O,ue=U*O*b,se=G*O*b;break;case 1:re=V,le=H,ue=U*b,se=G*b,te=_*b*F,ee=z*b*F;break;default:re=V,le=H,te=_*b,ee=z*b,ue=U*b*O,se=G*b*O;break}var ve=x[re+te+ue],be=x[re+te+se],Ee=x[re+ee+ue],Ae=x[re+ee+se],Oe=x[le+te+ue],Ue=x[le+te+se],Le=x[le+ee+ue],we=x[le+ee+se],Ce=r.create(),Ve=r.create(),Ne=r.create(),ke=r.create();r.lerp(Ce,ve,Oe,Z),r.lerp(Ve,be,Ue,Z),r.lerp(Ne,Ee,Le,Z),r.lerp(ke,Ae,we,Z);var We=r.create(),rt=r.create();r.lerp(We,Ce,Ne,$),r.lerp(rt,Ve,ke,$);var et=r.create();return r.lerp(et,We,rt,K),et},A=function(M){var S=1/0;M.sort(function(T,i){return T-i});for(var R=M.length,x=1;x<R;x++){var E=Math.abs(M[x]-M[x-1]);E<S&&(S=E)}return S},d=function(M){for(var S=[],R=[],x=[],E={},T={},i={},D=M.length,b=0;b<D;b++){var O=M[b],F=O[0],V=O[1],_=O[2];E[F]||(S.push(F),E[F]=!0),T[V]||(R.push(V),T[V]=!0),i[_]||(x.push(_),i[_]=!0)}var U=A(S),H=A(R),z=A(x),G=Math.min(U,H,z);return isFinite(G)?G:1};h.exports=function(M,S){var R=M.startingPositions,x=M.maxLength||1e3,E=M.tubeSize||1,T=M.absoluteTubeSize,i=M.gridFill||"+x+y+z",D={};i.indexOf("-x")!==-1&&(D.reversedX=!0),i.indexOf("-y")!==-1&&(D.reversedY=!0),i.indexOf("-z")!==-1&&(D.reversedZ=!0),D.filled=n.indexOf(i.replace(/-/g,"").replace(/\+/g,""));var b=M.getVelocity||function(Ue){return v(Ue,M,D)},O=M.getDivergence||function(Ue,Le){var we=r.create(),Ce=1e-4;r.add(we,Ue,[Ce,0,0]);var Ve=b(we);r.subtract(Ve,Ve,Le),r.scale(Ve,Ve,1/Ce),r.add(we,Ue,[0,Ce,0]);var Ne=b(we);r.subtract(Ne,Ne,Le),r.scale(Ne,Ne,1/Ce),r.add(we,Ue,[0,0,Ce]);var ke=b(we);return r.subtract(ke,ke,Le),r.scale(ke,ke,1/Ce),r.add(we,Ve,Ne),r.add(we,we,ke),we},F=[],V=S[0][0],_=S[0][1],U=S[0][2],H=S[1][0],z=S[1][1],G=S[1][2],Y=function(Ue){var Le=Ue[0],we=Ue[1],Ce=Ue[2];return!(Le<V||Le>H||we<_||we>z||Ce<U||Ce>G)},J=r.distance(S[0],S[1]),ae=10*J/x,oe=ae*ae,he=1,q=0,Z=R.length;Z>1&&(he=d(R));for(var $=0;$<Z;$++){var K=r.create();r.copy(K,R[$]);var re=[K],le=[],te=b(K),ee=K;le.push(te);var ue=[],se=O(K,te),ve=r.length(se);isFinite(ve)&&ve>q&&(q=ve),ue.push(ve),F.push({points:re,velocities:le,divergences:ue});for(var be=0;be<x*100&&re.length<x&&Y(K);){be++;var Ee=r.clone(te),Ae=r.squaredLength(Ee);if(Ae===0)break;if(Ae>oe&&r.scale(Ee,Ee,ae/Math.sqrt(Ae)),r.add(Ee,Ee,K),te=b(Ee),r.squaredDistance(ee,Ee)-oe>-1e-4*oe){re.push(Ee),ee=Ee,le.push(te);var se=O(Ee,te),ve=r.length(se);isFinite(ve)&&ve>q&&(q=ve),ue.push(ve)}K=Ee}}var Oe=c(F,M.colormap,q,he);return T?Oe.tubeScale=T:(q===0&&(q=1),Oe.tubeScale=E*.5*he/q),Oe};var u=t(9578),y=t(1140).createMesh;h.exports.createTubeMesh=function(M,S){return y(M,S,{shaders:u,traceType:"streamtube"})}},9054:function(h,g,t){var r=t(5158),s=t(6832),n=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),l=s([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),c=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),f=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);g.createShader=function(m){var v=r(m,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v.attributes.normal.location=2,v},g.createPickShader=function(m){var v=r(m,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v.attributes.normal.location=2,v},g.createContourShader=function(m){var v=r(m,c,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v},g.createPickContourShader=function(m){var v=r(m,c,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v}},3754:function(h,g,t){h.exports=le;var r=t(2288),s=t(5827),n=t(2944),l=t(8931),c=t(5306),f=t(9156),m=t(7498),v=t(7382),A=t(5050),d=t(4162),u=t(104),y=t(7437),M=t(5070),S=t(9144),R=t(9054),x=R.createShader,E=R.createContourShader,T=R.createPickShader,i=R.createPickContourShader,D=4*(4+3+3),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],O=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],F=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var te=0;te<3;++te){var ee=F[te],ue=(te+1)%3,se=(te+2)%3;ee[ue+0]=1,ee[se+3]=1,ee[te+6]=1}})();function V(te,ee,ue,se,ve){this.position=te,this.index=ee,this.uv=ue,this.level=se,this.dataCoordinate=ve}var _=256;function U(te,ee,ue,se,ve,be,Ee,Ae,Oe,Ue,Le,we,Ce,Ve,Ne){this.gl=te,this.shape=ee,this.bounds=ue,this.objectOffset=Ne,this.intensityBounds=[],this._shader=se,this._pickShader=ve,this._coordinateBuffer=be,this._vao=Ee,this._colorMap=Ae,this._contourShader=Oe,this._contourPickShader=Ue,this._contourBuffer=Le,this._contourVAO=we,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new V([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ce,this._dynamicVAO=Ve,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[A(c.mallocFloat(1024),[0,0]),A(c.mallocFloat(1024),[0,0]),A(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var H=U.prototype;H.genColormap=function(te,ee){var ue=!1,se=v([f({colormap:te,nshades:_,format:"rgba"}).map(function(ve,be){var Ee=ee?z(be/255,ee):ve[3];return Ee<1&&(ue=!0),[ve[0],ve[1],ve[2],255*Ee]})]);return m.divseq(se,255),this.hasAlphaScale=ue,se},H.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},H.isOpaque=function(){return!this.isTransparent()},H.pickSlots=1,H.setPickBase=function(te){this.pickId=te};function z(te,ee){if(!ee||!ee.length)return 1;for(var ue=0;ue<ee.length;++ue){if(ee.length<2)return 1;if(ee[ue][0]===te)return ee[ue][1];if(ee[ue][0]>te&&ue>0){var se=(ee[ue][0]-te)/(ee[ue][0]-ee[ue-1][0]);return ee[ue][1]*(1-se)+se*ee[ue-1][1]}}return 1}var G=[0,0,0],Y={showSurface:!1,showContour:!1,projections:[b.slice(),b.slice(),b.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function J(te,ee){var ue,se,ve,be=ee.axes&&ee.axes.lastCubeProps.axis||G,Ee=ee.showSurface,Ae=ee.showContour;for(ue=0;ue<3;++ue)for(Ee=Ee||ee.surfaceProject[ue],se=0;se<3;++se)Ae=Ae||ee.contourProject[ue][se];for(ue=0;ue<3;++ue){var Oe=Y.projections[ue];for(se=0;se<16;++se)Oe[se]=0;for(se=0;se<4;++se)Oe[5*se]=1;Oe[5*ue]=0,Oe[12+ue]=ee.axesBounds[+(be[ue]>0)][ue],u(Oe,te.model,Oe);var Ue=Y.clipBounds[ue];for(ve=0;ve<2;++ve)for(se=0;se<3;++se)Ue[ve][se]=te.clipBounds[ve][se];Ue[0][ue]=-1e8,Ue[1][ue]=1e8}return Y.showSurface=Ee,Y.showContour=Ae,Y}var ae={model:b,view:b,projection:b,inverseModel:b.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},oe=b.slice(),he=[1,0,0,0,1,0,0,0,1];function q(te,ee){te=te||{};var ue=this.gl;ue.disable(ue.CULL_FACE),this._colorMap.bind(0);var se=ae;se.model=te.model||b,se.view=te.view||b,se.projection=te.projection||b,se.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],se.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],se.objectOffset=this.objectOffset,se.contourColor=this.contourColor[0],se.inverseModel=y(se.inverseModel,se.model);for(var ve=0;ve<2;++ve)for(var be=se.clipBounds[ve],Ee=0;Ee<3;++Ee)be[Ee]=Math.min(Math.max(this.clipBounds[ve][Ee],-1e8),1e8);se.kambient=this.ambientLight,se.kdiffuse=this.diffuseLight,se.kspecular=this.specularLight,se.roughness=this.roughness,se.fresnel=this.fresnel,se.opacity=this.opacity,se.height=0,se.permutation=he,se.vertexColor=this.vertexColor;var Ae=oe;for(u(Ae,se.view,se.model),u(Ae,se.projection,Ae),y(Ae,Ae),ve=0;ve<3;++ve)se.eyePosition[ve]=Ae[12+ve]/Ae[15];var Oe=Ae[15];for(ve=0;ve<3;++ve)Oe+=this.lightPosition[ve]*Ae[4*ve+3];for(ve=0;ve<3;++ve){var Ue=Ae[12+ve];for(Ee=0;Ee<3;++Ee)Ue+=Ae[4*Ee+ve]*this.lightPosition[Ee];se.lightPosition[ve]=Ue/Oe}var Le=J(se,this);if(Le.showSurface){for(this._shader.bind(),this._shader.uniforms=se,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ue.TRIANGLES,this._vertexCount),ve=0;ve<3;++ve)!this.surfaceProject[ve]||!this.vertexCount||(this._shader.uniforms.model=Le.projections[ve],this._shader.uniforms.clipBounds=Le.clipBounds[ve],this._vao.draw(ue.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Le.showContour){var we=this._contourShader;se.kambient=1,se.kdiffuse=0,se.kspecular=0,se.opacity=1,we.bind(),we.uniforms=se;var Ce=this._contourVAO;for(Ce.bind(),ve=0;ve<3;++ve)for(we.uniforms.permutation=F[ve],ue.lineWidth(this.contourWidth[ve]*this.pixelRatio),Ee=0;Ee<this.contourLevels[ve].length;++Ee)Ee===this.highlightLevel[ve]?(we.uniforms.contourColor=this.highlightColor[ve],we.uniforms.contourTint=this.highlightTint[ve]):(Ee===0||Ee-1===this.highlightLevel[ve])&&(we.uniforms.contourColor=this.contourColor[ve],we.uniforms.contourTint=this.contourTint[ve]),this._contourCounts[ve][Ee]&&(we.uniforms.height=this.contourLevels[ve][Ee],Ce.draw(ue.LINES,this._contourCounts[ve][Ee],this._contourOffsets[ve][Ee]));for(ve=0;ve<3;++ve)for(we.uniforms.model=Le.projections[ve],we.uniforms.clipBounds=Le.clipBounds[ve],Ee=0;Ee<3;++Ee)if(this.contourProject[ve][Ee]){we.uniforms.permutation=F[Ee],ue.lineWidth(this.contourWidth[Ee]*this.pixelRatio);for(var Ve=0;Ve<this.contourLevels[Ee].length;++Ve)Ve===this.highlightLevel[Ee]?(we.uniforms.contourColor=this.highlightColor[Ee],we.uniforms.contourTint=this.highlightTint[Ee]):(Ve===0||Ve-1===this.highlightLevel[Ee])&&(we.uniforms.contourColor=this.contourColor[Ee],we.uniforms.contourTint=this.contourTint[Ee]),this._contourCounts[Ee][Ve]&&(we.uniforms.height=this.contourLevels[Ee][Ve],Ce.draw(ue.LINES,this._contourCounts[Ee][Ve],this._contourOffsets[Ee][Ve]))}for(Ce.unbind(),Ce=this._dynamicVAO,Ce.bind(),ve=0;ve<3;++ve)if(this._dynamicCounts[ve]!==0)for(we.uniforms.model=se.model,we.uniforms.clipBounds=se.clipBounds,we.uniforms.permutation=F[ve],ue.lineWidth(this.dynamicWidth[ve]*this.pixelRatio),we.uniforms.contourColor=this.dynamicColor[ve],we.uniforms.contourTint=this.dynamicTint[ve],we.uniforms.height=this.dynamicLevel[ve],Ce.draw(ue.LINES,this._dynamicCounts[ve],this._dynamicOffsets[ve]),Ee=0;Ee<3;++Ee)this.contourProject[Ee][ve]&&(we.uniforms.model=Le.projections[Ee],we.uniforms.clipBounds=Le.clipBounds[Ee],Ce.draw(ue.LINES,this._dynamicCounts[ve],this._dynamicOffsets[ve]));Ce.unbind()}}H.draw=function(te){return q.call(this,te,!1)},H.drawTransparent=function(te){return q.call(this,te,!0)};var Z={model:b,view:b,projection:b,inverseModel:b,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};H.drawPick=function(te){te=te||{};var ee=this.gl;ee.disable(ee.CULL_FACE);var ue=Z;ue.model=te.model||b,ue.view=te.view||b,ue.projection=te.projection||b,ue.shape=this._field[2].shape,ue.pickId=this.pickId/255,ue.lowerBound=this.bounds[0],ue.upperBound=this.bounds[1],ue.objectOffset=this.objectOffset,ue.permutation=he;for(var se=0;se<2;++se)for(var ve=ue.clipBounds[se],be=0;be<3;++be)ve[be]=Math.min(Math.max(this.clipBounds[se][be],-1e8),1e8);var Ee=J(ue,this);if(Ee.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ue,this._vao.bind(),this._vao.draw(ee.TRIANGLES,this._vertexCount),se=0;se<3;++se)this.surfaceProject[se]&&(this._pickShader.uniforms.model=Ee.projections[se],this._pickShader.uniforms.clipBounds=Ee.clipBounds[se],this._vao.draw(ee.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=ue;var Oe=this._contourVAO;for(Oe.bind(),be=0;be<3;++be)for(ee.lineWidth(this.contourWidth[be]*this.pixelRatio),Ae.uniforms.permutation=F[be],se=0;se<this.contourLevels[be].length;++se)this._contourCounts[be][se]&&(Ae.uniforms.height=this.contourLevels[be][se],Oe.draw(ee.LINES,this._contourCounts[be][se],this._contourOffsets[be][se]));for(se=0;se<3;++se)for(Ae.uniforms.model=Ee.projections[se],Ae.uniforms.clipBounds=Ee.clipBounds[se],be=0;be<3;++be)if(this.contourProject[se][be]){Ae.uniforms.permutation=F[be],ee.lineWidth(this.contourWidth[be]*this.pixelRatio);for(var Ue=0;Ue<this.contourLevels[be].length;++Ue)this._contourCounts[be][Ue]&&(Ae.uniforms.height=this.contourLevels[be][Ue],Oe.draw(ee.LINES,this._contourCounts[be][Ue],this._contourOffsets[be][Ue]))}Oe.unbind()}},H.pick=function(te){if(!te||te.id!==this.pickId)return null;var ee=this._field[2].shape,ue=this._pickResult,se=ee[0]*(te.value[0]+(te.value[2]>>4)/16)/255,ve=Math.floor(se),be=se-ve,Ee=ee[1]*(te.value[1]+(te.value[2]&15)/16)/255,Ae=Math.floor(Ee),Oe=Ee-Ae;ve+=1,Ae+=1;var Ue=ue.position;Ue[0]=Ue[1]=Ue[2]=0;for(var Le=0;Le<2;++Le)for(var we=Le?be:1-be,Ce=0;Ce<2;++Ce)for(var Ve=Ce?Oe:1-Oe,Ne=ve+Le,ke=Ae+Ce,We=we*Ve,rt=0;rt<3;++rt)Ue[rt]+=this._field[rt].get(Ne,ke)*We;for(var et=this._pickResult.level,tt=0;tt<3;++tt)if(et[tt]=M.le(this.contourLevels[tt],Ue[tt]),et[tt]<0)this.contourLevels[tt].length>0&&(et[tt]=0);else if(et[tt]<this.contourLevels[tt].length-1){var at=this.contourLevels[tt][et[tt]],ct=this.contourLevels[tt][et[tt]+1];Math.abs(at-Ue[tt])>Math.abs(ct-Ue[tt])&&(et[tt]+=1)}for(ue.index[0]=be<.5?ve:ve+1,ue.index[1]=Oe<.5?Ae:Ae+1,ue.uv[0]=se/ee[0],ue.uv[1]=Ee/ee[1],rt=0;rt<3;++rt)ue.dataCoordinate[rt]=this._field[rt].get(ue.index[0],ue.index[1]);return ue},H.padField=function(te,ee){var ue=ee.shape.slice(),se=te.shape.slice();m.assign(te.lo(1,1).hi(ue[0],ue[1]),ee),m.assign(te.lo(1).hi(ue[0],1),ee.hi(ue[0],1)),m.assign(te.lo(1,se[1]-1).hi(ue[0],1),ee.lo(0,ue[1]-1).hi(ue[0],1)),m.assign(te.lo(0,1).hi(1,ue[1]),ee.hi(1)),m.assign(te.lo(se[0]-1,1).hi(1,ue[1]),ee.lo(ue[0]-1)),te.set(0,0,ee.get(0,0)),te.set(0,se[1]-1,ee.get(0,ue[1]-1)),te.set(se[0]-1,0,ee.get(ue[0]-1,0)),te.set(se[0]-1,se[1]-1,ee.get(ue[0]-1,ue[1]-1))};function $(te,ee){return Array.isArray(te)?[ee(te[0]),ee(te[1]),ee(te[2])]:[ee(te),ee(te),ee(te)]}function K(te){return Array.isArray(te)?te.length===3?[te[0],te[1],te[2],1]:[te[0],te[1],te[2],te[3]]:[0,0,0,1]}function re(te){if(Array.isArray(te)){if(Array.isArray(te))return[K(te[0]),K(te[1]),K(te[2])];var ee=K(te);return[ee.slice(),ee.slice(),ee.slice()]}}H.update=function(te){te=te||{},this.objectOffset=te.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in te&&(this.contourWidth=$(te.contourWidth,Number)),"showContour"in te&&(this.showContour=$(te.showContour,Boolean)),"showSurface"in te&&(this.showSurface=!!te.showSurface),"contourTint"in te&&(this.contourTint=$(te.contourTint,Boolean)),"contourColor"in te&&(this.contourColor=re(te.contourColor)),"contourProject"in te&&(this.contourProject=$(te.contourProject,function(kt){return $(kt,Boolean)})),"surfaceProject"in te&&(this.surfaceProject=te.surfaceProject),"dynamicColor"in te&&(this.dynamicColor=re(te.dynamicColor)),"dynamicTint"in te&&(this.dynamicTint=$(te.dynamicTint,Number)),"dynamicWidth"in te&&(this.dynamicWidth=$(te.dynamicWidth,Number)),"opacity"in te&&(this.opacity=te.opacity),"opacityscale"in te&&(this.opacityscale=te.opacityscale),"colorBounds"in te&&(this.colorBounds=te.colorBounds),"vertexColor"in te&&(this.vertexColor=te.vertexColor?1:0),"colormap"in te&&this._colorMap.setPixels(this.genColormap(te.colormap,this.opacityscale));var ee=te.field||te.coords&&te.coords[2]||null,ue=!1;if(ee||(this._field[2].shape[0]||this._field[2].shape[2]?ee=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):ee=this._field[2].hi(0,0)),"field"in te||"coords"in te){var se=(ee.shape[0]+2)*(ee.shape[1]+2);se>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(r.nextPow2(se))),this._field[2]=A(this._field[2].data,[ee.shape[0]+2,ee.shape[1]+2]),this.padField(this._field[2],ee),this.shape=ee.shape.slice();for(var ve=this.shape,be=0;be<2;++be)this._field[2].size>this._field[be].data.length&&(c.freeFloat(this._field[be].data),this._field[be].data=c.mallocFloat(this._field[2].size)),this._field[be]=A(this._field[be].data,[ve[0]+2,ve[1]+2]);if(te.coords){var Ee=te.coords;if(!Array.isArray(Ee)||Ee.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(be=0;be<2;++be){var Ae=Ee[be];for(Ce=0;Ce<2;++Ce)if(Ae.shape[Ce]!==ve[Ce])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[be],Ae)}}else if(te.ticks){var Oe=te.ticks;if(!Array.isArray(Oe)||Oe.length!==2)throw new Error("gl-surface: invalid ticks");for(be=0;be<2;++be){var Ue=Oe[be];if((Array.isArray(Ue)||Ue.length)&&(Ue=A(Ue)),Ue.shape[0]!==ve[be])throw new Error("gl-surface: invalid tick length");var Le=A(Ue.data,ve);Le.stride[be]=Ue.stride[0],Le.stride[be^1]=0,this.padField(this._field[be],Le)}}else{for(be=0;be<2;++be){var we=[0,0];we[be]=1,this._field[be]=A(this._field[be].data,[ve[0]+2,ve[1]+2],we,0)}this._field[0].set(0,0,0);for(var Ce=0;Ce<ve[0];++Ce)this._field[0].set(Ce+1,0,Ce);for(this._field[0].set(ve[0]+1,0,ve[0]-1),this._field[1].set(0,0,0),Ce=0;Ce<ve[1];++Ce)this._field[1].set(0,Ce+1,Ce);this._field[1].set(0,ve[1]+1,ve[1]-1)}var Ve=this._field,Ne=A(c.mallocFloat(Ve[2].size*3*2),[3,ve[0]+2,ve[1]+2,2]);for(be=0;be<3;++be)S(Ne.pick(be),Ve[be],"mirror");var ke=A(c.mallocFloat(Ve[2].size*3),[ve[0]+2,ve[1]+2,3]);for(be=0;be<ve[0]+2;++be)for(Ce=0;Ce<ve[1]+2;++Ce){var We=Ne.get(0,be,Ce,0),rt=Ne.get(0,be,Ce,1),et=Ne.get(1,be,Ce,0),tt=Ne.get(1,be,Ce,1),at=Ne.get(2,be,Ce,0),ct=Ne.get(2,be,Ce,1),dt=et*ct-tt*at,gt=at*rt-ct*We,Et=We*tt-rt*et,Ct=Math.sqrt(dt*dt+gt*gt+Et*Et);Ct<1e-8?(Ct=Math.max(Math.abs(dt),Math.abs(gt),Math.abs(Et)),Ct<1e-8?(Et=1,gt=dt=0,Ct=1):Ct=1/Ct):Ct=1/Math.sqrt(Ct),ke.set(be,Ce,0,dt*Ct),ke.set(be,Ce,1,gt*Ct),ke.set(be,Ce,2,Et*Ct)}c.free(Ne.data);var Vt=[1/0,1/0,1/0],Je=[-1/0,-1/0,-1/0],_e=1/0,Fe=-1/0,Be=(ve[0]-1)*(ve[1]-1)*6,De=c.mallocFloat(r.nextPow2(10*Be)),Te=0,xe=0;for(be=0;be<ve[0]-1;++be)e:for(Ce=0;Ce<ve[1]-1;++Ce){for(var Me=0;Me<2;++Me)for(var Pe=0;Pe<2;++Pe)for(var He=0;He<3;++He){var Ke=this._field[He].get(1+be+Me,1+Ce+Pe);if(isNaN(Ke)||!isFinite(Ke))continue e}for(He=0;He<6;++He){var qe=be+O[He][0],vt=Ce+O[He][1],bt=this._field[0].get(qe+1,vt+1),Wt=this._field[1].get(qe+1,vt+1);Ke=this._field[2].get(qe+1,vt+1),dt=ke.get(qe+1,vt+1,0),gt=ke.get(qe+1,vt+1,1),Et=ke.get(qe+1,vt+1,2),te.intensity&&(qt=te.intensity.get(qe,vt));var qt=te.intensity?te.intensity.get(qe,vt):Ke+this.objectOffset[2];De[Te++]=qe,De[Te++]=vt,De[Te++]=bt,De[Te++]=Wt,De[Te++]=Ke,De[Te++]=0,De[Te++]=qt,De[Te++]=dt,De[Te++]=gt,De[Te++]=Et,Vt[0]=Math.min(Vt[0],bt+this.objectOffset[0]),Vt[1]=Math.min(Vt[1],Wt+this.objectOffset[1]),Vt[2]=Math.min(Vt[2],Ke+this.objectOffset[2]),_e=Math.min(_e,qt),Je[0]=Math.max(Je[0],bt+this.objectOffset[0]),Je[1]=Math.max(Je[1],Wt+this.objectOffset[1]),Je[2]=Math.max(Je[2],Ke+this.objectOffset[2]),Fe=Math.max(Fe,qt),xe+=1}}for(te.intensityBounds&&(_e=+te.intensityBounds[0],Fe=+te.intensityBounds[1]),be=6;be<Te;be+=10)De[be]=(De[be]-_e)/(Fe-_e);this._vertexCount=xe,this._coordinateBuffer.update(De.subarray(0,Te)),c.freeFloat(De),c.free(ke.data),this.bounds=[Vt,Je],this.intensity=te.intensity||this._field[2],(this.intensityBounds[0]!==_e||this.intensityBounds[1]!==Fe)&&(ue=!0),this.intensityBounds=[_e,Fe]}if("levels"in te){var At=te.levels;for(Array.isArray(At[0])?At=At.slice():At=[[],[],At],be=0;be<3;++be)At[be]=At[be].slice(),At[be].sort(function(kt,jt){return kt-jt});for(be=0;be<3;++be)for(Ce=0;Ce<At[be].length;++Ce)At[be][Ce]-=this.objectOffset[be];e:for(be=0;be<3;++be){if(At[be].length!==this.contourLevels[be].length){ue=!0;break}for(Ce=0;Ce<At[be].length;++Ce)if(At[be][Ce]!==this.contourLevels[be][Ce]){ue=!0;break e}}this.contourLevels=At}if(ue){Ve=this._field,ve=this.shape;for(var zt=[],Kt=0;Kt<3;++Kt){var Sr=this.contourLevels[Kt],yt=[],Zt=[],$t=[0,0,0];for(be=0;be<Sr.length;++be){var mr=d(this._field[Kt],Sr[be]);yt.push(zt.length/5|0),xe=0;e:for(Ce=0;Ce<mr.cells.length;++Ce){var ur=mr.cells[Ce];for(He=0;He<2;++He){var pt=mr.positions[ur[He]],st=pt[0],xt=Math.floor(st)|0,St=st-xt,Dt=pt[1],Rt=Math.floor(Dt)|0,Bt=Dt-Rt,Nt=!1;t:for(var Xt=0;Xt<3;++Xt){$t[Xt]=0;var lr=(Kt+Xt+1)%3;for(Me=0;Me<2;++Me){var sr=Me?St:1-St;for(qe=Math.min(Math.max(xt+Me,0),ve[0])|0,Pe=0;Pe<2;++Pe){var dr=Pe?Bt:1-Bt;if(vt=Math.min(Math.max(Rt+Pe,0),ve[1])|0,Xt<2?Ke=this._field[lr].get(qe,vt):Ke=(this.intensity.get(qe,vt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ke)||isNaN(Ke)){Nt=!0;break t}var Ye=sr*dr;$t[Xt]+=Ye*Ke}}}if(!Nt)zt.push($t[0],$t[1],pt[0],pt[1],$t[2]),xe+=1;else{if(He>0){for(var je=0;je<5;++je)zt.pop();xe-=1}continue e}}}Zt.push(xe)}this._contourOffsets[Kt]=yt,this._contourCounts[Kt]=Zt}var It=c.mallocFloat(zt.length);for(be=0;be<zt.length;++be)It[be]=zt[be];this._contourBuffer.update(It),c.freeFloat(It)}},H.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var te=0;te<3;++te)c.freeFloat(this._field[te].data)},H.highlight=function(te){var ee;if(!te){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(ee=0;ee<3;++ee)this.enableHighlight[ee]?this.highlightLevel[ee]=te.level[ee]:this.highlightLevel[ee]=-1;var ue;for(this.snapToData?ue=te.dataCoordinate:ue=te.position,ee=0;ee<3;++ee)ue[ee]-=this.objectOffset[ee];if(!((!this.enableDynamic[0]||ue[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ue[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ue[2]===this.dynamicLevel[2]))){for(var se=0,ve=this.shape,be=c.mallocFloat(12*ve[0]*ve[1]),Ee=0;Ee<3;++Ee){if(!this.enableDynamic[Ee]){this.dynamicLevel[Ee]=NaN,this._dynamicCounts[Ee]=0;continue}this.dynamicLevel[Ee]=ue[Ee];var Ae=(Ee+1)%3,Oe=(Ee+2)%3,Ue=this._field[Ee],Le=this._field[Ae],we=this._field[Oe],Ce=d(Ue,ue[Ee]),Ve=Ce.cells,Ne=Ce.positions;for(this._dynamicOffsets[Ee]=se,ee=0;ee<Ve.length;++ee)for(var ke=Ve[ee],We=0;We<2;++We){var rt=Ne[ke[We]],et=+rt[0],tt=et|0,at=Math.min(tt+1,ve[0])|0,ct=et-tt,dt=1-ct,gt=+rt[1],Et=gt|0,Ct=Math.min(Et+1,ve[1])|0,Vt=gt-Et,Je=1-Vt,_e=dt*Je,Fe=dt*Vt,Be=ct*Je,De=ct*Vt,Te=_e*Le.get(tt,Et)+Fe*Le.get(tt,Ct)+Be*Le.get(at,Et)+De*Le.get(at,Ct),xe=_e*we.get(tt,Et)+Fe*we.get(tt,Ct)+Be*we.get(at,Et)+De*we.get(at,Ct);if(isNaN(Te)||isNaN(xe)){We&&(se-=1);break}be[2*se+0]=Te,be[2*se+1]=xe,se+=1}this._dynamicCounts[Ee]=se-this._dynamicOffsets[Ee]}this._dynamicBuffer.update(be.subarray(0,2*se)),c.freeFloat(be)}};function le(te){var ee=te.gl,ue=x(ee),se=T(ee),ve=E(ee),be=i(ee),Ee=s(ee),Ae=n(ee,[{buffer:Ee,size:4,stride:D,offset:0},{buffer:Ee,size:3,stride:D,offset:16},{buffer:Ee,size:3,stride:D,offset:28}]),Oe=s(ee),Ue=n(ee,[{buffer:Oe,size:4,stride:20,offset:0},{buffer:Oe,size:1,stride:20,offset:16}]),Le=s(ee),we=n(ee,[{buffer:Le,size:2,type:ee.FLOAT}]),Ce=l(ee,1,_,ee.RGBA,ee.UNSIGNED_BYTE);Ce.minFilter=ee.LINEAR,Ce.magFilter=ee.LINEAR;var Ve=new U(ee,[0,0],[[0,0,0],[0,0,0]],ue,se,Ee,Ae,Ce,ve,be,Oe,Ue,Le,we,[0,0,0]),Ne={levels:[[],[],[]]};for(var ke in te)Ne[ke]=te[ke];return Ne.colormap=Ne.colormap||"jet",Ve.update(Ne),Ve}},8931:function(h,g,t){var r=t(5050),s=t(7498),n=t(5306);h.exports=i;var l=null,c=null,f=null;function m(D){l=[D.LINEAR,D.NEAREST_MIPMAP_LINEAR,D.LINEAR_MIPMAP_NEAREST,D.LINEAR_MIPMAP_NEAREST],c=[D.NEAREST,D.LINEAR,D.NEAREST_MIPMAP_NEAREST,D.NEAREST_MIPMAP_LINEAR,D.LINEAR_MIPMAP_NEAREST,D.LINEAR_MIPMAP_LINEAR],f=[D.REPEAT,D.CLAMP_TO_EDGE,D.MIRRORED_REPEAT]}function v(D){return typeof HTMLCanvasElement<"u"&&D instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&D instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&D instanceof HTMLVideoElement||typeof ImageData<"u"&&D instanceof ImageData}var A=function(D,b){s.muls(D,b,255)};function d(D,b,O){var F=D.gl,V=F.getParameter(F.MAX_TEXTURE_SIZE);if(b<0||b>V||O<0||O>V)throw new Error("gl-texture2d: Invalid texture size");return D._shape=[b,O],D.bind(),F.texImage2D(F.TEXTURE_2D,0,D.format,b,O,0,D.format,D.type,null),D._mipLevels=[0],D}function u(D,b,O,F,V,_){this.gl=D,this.handle=b,this.format=V,this.type=_,this._shape=[O,F],this._mipLevels=[0],this._magFilter=D.NEAREST,this._minFilter=D.NEAREST,this._wrapS=D.CLAMP_TO_EDGE,this._wrapT=D.CLAMP_TO_EDGE,this._anisoSamples=1;var U=this,H=[this._wrapS,this._wrapT];Object.defineProperties(H,[{get:function(){return U._wrapS},set:function(G){return U.wrapS=G}},{get:function(){return U._wrapT},set:function(G){return U.wrapT=G}}]),this._wrapVector=H;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return U._shape[0]},set:function(G){return U.width=G}},{get:function(){return U._shape[1]},set:function(G){return U.height=G}}]),this._shapeVector=z}var y=u.prototype;Object.defineProperties(y,{minFilter:{get:function(){return this._minFilter},set:function(D){this.bind();var b=this.gl;if(this.type===b.FLOAT&&l.indexOf(D)>=0&&(b.getExtension("OES_texture_float_linear")||(D=b.NEAREST)),c.indexOf(D)<0)throw new Error("gl-texture2d: Unknown filter mode "+D);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,D),this._minFilter=D}},magFilter:{get:function(){return this._magFilter},set:function(D){this.bind();var b=this.gl;if(this.type===b.FLOAT&&l.indexOf(D)>=0&&(b.getExtension("OES_texture_float_linear")||(D=b.NEAREST)),c.indexOf(D)<0)throw new Error("gl-texture2d: Unknown filter mode "+D);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,D),this._magFilter=D}},mipSamples:{get:function(){return this._anisoSamples},set:function(D){var b=this._anisoSamples;if(this._anisoSamples=Math.max(D,1)|0,b!==this._anisoSamples){var O=this.gl.getExtension("EXT_texture_filter_anisotropic");O&&this.gl.texParameterf(this.gl.TEXTURE_2D,O.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(D){if(this.bind(),f.indexOf(D)<0)throw new Error("gl-texture2d: Unknown wrap mode "+D);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,D),this._wrapS=D}},wrapT:{get:function(){return this._wrapT},set:function(D){if(this.bind(),f.indexOf(D)<0)throw new Error("gl-texture2d: Unknown wrap mode "+D);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,D),this._wrapT=D}},wrap:{get:function(){return this._wrapVector},set:function(D){if(Array.isArray(D)||(D=[D,D]),D.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;b<2;++b)if(f.indexOf(D[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+D);this._wrapS=D[0],this._wrapT=D[1];var O=this.gl;return this.bind(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,this._wrapS),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,this._wrapT),D}},shape:{get:function(){return this._shapeVector},set:function(D){if(!Array.isArray(D))D=[D|0,D|0];else if(D.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return d(this,D[0]|0,D[1]|0),[D[0]|0,D[1]|0]}},width:{get:function(){return this._shape[0]},set:function(D){return D=D|0,d(this,D,this._shape[1]),D}},height:{get:function(){return this._shape[1]},set:function(D){return D=D|0,d(this,this._shape[0],D),D}}}),y.bind=function(D){var b=this.gl;return D!==void 0&&b.activeTexture(b.TEXTURE0+(D|0)),b.bindTexture(b.TEXTURE_2D,this.handle),D!==void 0?D|0:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},y.dispose=function(){this.gl.deleteTexture(this.handle)},y.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var D=Math.min(this._shape[0],this._shape[1]),b=0;D>0;++b,D>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},y.setPixels=function(D,b,O,F){var V=this.gl;this.bind(),Array.isArray(b)?(F=O,O=b[1]|0,b=b[0]|0):(b=b||0,O=O||0),F=F||0;var _=v(D)?D:D.raw;if(_){var U=this._mipLevels.indexOf(F)<0;U?(V.texImage2D(V.TEXTURE_2D,0,this.format,this.format,this.type,_),this._mipLevels.push(F)):V.texSubImage2D(V.TEXTURE_2D,F,b,O,this.format,this.type,_)}else if(D.shape&&D.stride&&D.data){if(D.shape.length<2||b+D.shape[1]>this._shape[1]>>>F||O+D.shape[0]>this._shape[0]>>>F||b<0||O<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");S(V,b,O,F,this.format,this.type,this._mipLevels,D)}else throw new Error("gl-texture2d: Unsupported data type")};function M(D,b){return D.length===3?b[2]===1&&b[1]===D[0]*D[2]&&b[0]===D[2]:b[0]===1&&b[1]===D[0]}function S(D,b,O,F,V,_,U,H){var z=H.dtype,G=H.shape.slice();if(G.length<2||G.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Y=0,J=0,ae=M(G,H.stride.slice());if(z==="float32"?Y=D.FLOAT:z==="float64"?(Y=D.FLOAT,ae=!1,z="float32"):z==="uint8"?Y=D.UNSIGNED_BYTE:(Y=D.UNSIGNED_BYTE,ae=!1,z="uint8"),G.length===2)J=D.LUMINANCE,G=[G[0],G[1],1],H=r(H.data,G,[H.stride[0],H.stride[1],1],H.offset);else if(G.length===3){if(G[2]===1)J=D.ALPHA;else if(G[2]===2)J=D.LUMINANCE_ALPHA;else if(G[2]===3)J=D.RGB;else if(G[2]===4)J=D.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");G[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((J===D.LUMINANCE||J===D.ALPHA)&&(V===D.LUMINANCE||V===D.ALPHA)&&(J=V),J!==V)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var oe=H.size,he=U.indexOf(F)<0;if(he&&U.push(F),Y===_&&ae)H.offset===0&&H.data.length===oe?he?D.texImage2D(D.TEXTURE_2D,F,V,G[0],G[1],0,V,_,H.data):D.texSubImage2D(D.TEXTURE_2D,F,b,O,G[0],G[1],V,_,H.data):he?D.texImage2D(D.TEXTURE_2D,F,V,G[0],G[1],0,V,_,H.data.subarray(H.offset,H.offset+oe)):D.texSubImage2D(D.TEXTURE_2D,F,b,O,G[0],G[1],V,_,H.data.subarray(H.offset,H.offset+oe));else{var q;_===D.FLOAT?q=n.mallocFloat32(oe):q=n.mallocUint8(oe);var Z=r(q,G,[G[2],G[2]*G[0],1]);Y===D.FLOAT&&_===D.UNSIGNED_BYTE?A(Z,H):s.assign(Z,H),he?D.texImage2D(D.TEXTURE_2D,F,V,G[0],G[1],0,V,_,q.subarray(0,oe)):D.texSubImage2D(D.TEXTURE_2D,F,b,O,G[0],G[1],V,_,q.subarray(0,oe)),_===D.FLOAT?n.freeFloat32(q):n.freeUint8(q)}}function R(D){var b=D.createTexture();return D.bindTexture(D.TEXTURE_2D,b),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.NEAREST),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,D.NEAREST),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,D.CLAMP_TO_EDGE),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.CLAMP_TO_EDGE),b}function x(D,b,O,F,V){var _=D.getParameter(D.MAX_TEXTURE_SIZE);if(b<0||b>_||O<0||O>_)throw new Error("gl-texture2d: Invalid texture shape");if(V===D.FLOAT&&!D.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var U=R(D);return D.texImage2D(D.TEXTURE_2D,0,F,b,O,0,F,V,null),new u(D,U,b,O,F,V)}function E(D,b,O,F,V,_){var U=R(D);return D.texImage2D(D.TEXTURE_2D,0,V,V,_,b),new u(D,U,O,F,V,_)}function T(D,b){var O=b.dtype,F=b.shape.slice(),V=D.getParameter(D.MAX_TEXTURE_SIZE);if(F[0]<0||F[0]>V||F[1]<0||F[1]>V)throw new Error("gl-texture2d: Invalid texture size");var _=M(F,b.stride.slice()),U=0;O==="float32"?U=D.FLOAT:O==="float64"?(U=D.FLOAT,_=!1,O="float32"):O==="uint8"?U=D.UNSIGNED_BYTE:(U=D.UNSIGNED_BYTE,_=!1,O="uint8");var H=0;if(F.length===2)H=D.LUMINANCE,F=[F[0],F[1],1],b=r(b.data,F,[b.stride[0],b.stride[1],1],b.offset);else if(F.length===3)if(F[2]===1)H=D.ALPHA;else if(F[2]===2)H=D.LUMINANCE_ALPHA;else if(F[2]===3)H=D.RGB;else if(F[2]===4)H=D.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");U===D.FLOAT&&!D.getExtension("OES_texture_float")&&(U=D.UNSIGNED_BYTE,_=!1);var z,G,Y=b.size;if(_)b.offset===0&&b.data.length===Y?z=b.data:z=b.data.subarray(b.offset,b.offset+Y);else{var J=[F[2],F[2]*F[0],1];G=n.malloc(Y,O);var ae=r(G,F,J,0);(O==="float32"||O==="float64")&&U===D.UNSIGNED_BYTE?A(ae,b):s.assign(ae,b),z=G.subarray(0,Y)}var oe=R(D);return D.texImage2D(D.TEXTURE_2D,0,H,F[0],F[1],0,H,U,z),_||n.free(G),new u(D,oe,F[0],F[1],H,U)}function i(D){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||m(D),typeof arguments[1]=="number")return x(D,arguments[1],arguments[2],arguments[3]||D.RGBA,arguments[4]||D.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(D,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||D.RGBA,arguments[3]||D.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var b=arguments[1],O=v(b)?b:b.raw;if(O)return E(D,O,b.width|0,b.height|0,arguments[2]||D.RGBA,arguments[3]||D.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return T(D,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(h){function g(t,r,s){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(s){if(s.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var l=0;l<s.length;++l){var c=s[l];if(c.buffer){var f=c.buffer,m=c.size||4,v=c.type||t.FLOAT,A=!!c.normalized,d=c.stride||0,u=c.offset||0;f.bind(),t.enableVertexAttribArray(l),t.vertexAttribPointer(l,m,v,A,d,u)}else{if(typeof c=="number")t.vertexAttrib1f(l,c);else if(c.length===1)t.vertexAttrib1f(l,c[0]);else if(c.length===2)t.vertexAttrib2f(l,c[0],c[1]);else if(c.length===3)t.vertexAttrib3f(l,c[0],c[1],c[2]);else if(c.length===4)t.vertexAttrib4f(l,c[0],c[1],c[2],c[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(l)}}for(;l<n;++l)t.disableVertexAttribArray(l)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var l=0;l<n;++l)t.disableVertexAttribArray(l)}}h.exports=g},7220:function(h,g,t){var r=t(3056);function s(l){this.gl=l,this._elements=null,this._attributes=null,this._elementsType=l.UNSIGNED_SHORT}s.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},s.prototype.update=function(l,c,f){this._elements=c,this._attributes=l,this._elementsType=f||this.gl.UNSIGNED_SHORT},s.prototype.dispose=function(){},s.prototype.unbind=function(){},s.prototype.draw=function(l,c,f){f=f||0;var m=this.gl;this._elements?m.drawElements(l,c,this._elementsType,f):m.drawArrays(l,f,c)};function n(l){return new s(l)}h.exports=n},3778:function(h,g,t){var r=t(3056);function s(c,f,m,v,A,d){this.location=c,this.dimension=f,this.a=m,this.b=v,this.c=A,this.d=d}s.prototype.bind=function(c){switch(this.dimension){case 1:c.vertexAttrib1f(this.location,this.a);break;case 2:c.vertexAttrib2f(this.location,this.a,this.b);break;case 3:c.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:c.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(c,f,m){this.gl=c,this._ext=f,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=c.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var c=0;c<this._attribs.length;++c)this._attribs[c].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(c,f,m){if(this.bind(),r(this.gl,f,c),this.unbind(),this._attribs.length=0,c)for(var v=0;v<c.length;++v){var A=c[v];typeof A=="number"?this._attribs.push(new s(v,1,A)):Array.isArray(A)&&this._attribs.push(new s(v,A.length,A[0],A[1],A[2],A[3]))}this._useElements=!!f,this._elementsType=m||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(c,f,m){m=m||0;var v=this.gl;this._useElements?v.drawElements(c,f,this._elementsType,m):v.drawArrays(c,m,f)};function l(c,f){return new n(c,f,f.createVertexArrayOES())}h.exports=l},2944:function(h,g,t){var r=t(3778),s=t(7220);function n(c){this.bindVertexArrayOES=c.bindVertexArray.bind(c),this.createVertexArrayOES=c.createVertexArray.bind(c),this.deleteVertexArrayOES=c.deleteVertexArray.bind(c)}function l(c,f,m,v){var A=c.createVertexArray?new n(c):c.getExtension("OES_vertex_array_object"),d;return A?d=r(c,A):d=s(c),d.update(f,m,v),d}h.exports=l},2598:function(h){h.exports=g;function g(t,r,s){return t[0]=r[0]+s[0],t[1]=r[1]+s[1],t[2]=r[2]+s[2],t}},5879:function(h,g,t){h.exports=l;var r=t(5415),s=t(899),n=t(9305);function l(c,f){var m=r(c[0],c[1],c[2]),v=r(f[0],f[1],f[2]);s(m,m),s(v,v);var A=n(m,v);return A>1?0:Math.acos(A)}},8827:function(h){h.exports=g;function g(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(h){h.exports=g;function g(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(h){h.exports=g;function g(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(h){h.exports=g;function g(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(h){h.exports=g;function g(t,r,s){var n=r[0],l=r[1],c=r[2],f=s[0],m=s[1],v=s[2];return t[0]=l*v-c*m,t[1]=c*f-n*v,t[2]=n*m-l*f,t}},5981:function(h,g,t){h.exports=t(8288)},8288:function(h){h.exports=g;function g(t,r){var s=r[0]-t[0],n=r[1]-t[1],l=r[2]-t[2];return Math.sqrt(s*s+n*n+l*l)}},8629:function(h,g,t){h.exports=t(7979)},7979:function(h){h.exports=g;function g(t,r,s){return t[0]=r[0]/s[0],t[1]=r[1]/s[1],t[2]=r[2]/s[2],t}},9305:function(h){h.exports=g;function g(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(h){h.exports=1e-6},4932:function(h,g,t){h.exports=s;var r=t(154);function s(n,l){var c=n[0],f=n[1],m=n[2],v=l[0],A=l[1],d=l[2];return Math.abs(c-v)<=r*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(f-A)<=r*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(m-d)<=r*Math.max(1,Math.abs(m),Math.abs(d))}},5777:function(h){h.exports=g;function g(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(h){h.exports=g;function g(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(h,g,t){h.exports=s;var r=t(8501)();function s(n,l,c,f,m,v){var A,d;for(l||(l=3),c||(c=0),f?d=Math.min(f*l+c,n.length):d=n.length,A=c;A<d;A+=l)r[0]=n[A],r[1]=n[A+1],r[2]=n[A+2],m(r,r,v),n[A]=r[0],n[A+1]=r[1],n[A+2]=r[2];return n}},5415:function(h){h.exports=g;function g(t,r,s){var n=new Float32Array(3);return n[0]=t,n[1]=r,n[2]=s,n}},2858:function(h,g,t){h.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(h){h.exports=g;function g(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(h,g,t){h.exports=t(4693)},4693:function(h){h.exports=g;function g(t){var r=t[0],s=t[1],n=t[2];return Math.sqrt(r*r+s*s+n*n)}},1868:function(h){h.exports=g;function g(t,r,s,n){var l=r[0],c=r[1],f=r[2];return t[0]=l+n*(s[0]-l),t[1]=c+n*(s[1]-c),t[2]=f+n*(s[2]-f),t}},1716:function(h){h.exports=g;function g(t,r,s){return t[0]=Math.max(r[0],s[0]),t[1]=Math.max(r[1],s[1]),t[2]=Math.max(r[2],s[2]),t}},3605:function(h){h.exports=g;function g(t,r,s){return t[0]=Math.min(r[0],s[0]),t[1]=Math.min(r[1],s[1]),t[2]=Math.min(r[2],s[2]),t}},5733:function(h,g,t){h.exports=t(105)},105:function(h){h.exports=g;function g(t,r,s){return t[0]=r[0]*s[0],t[1]=r[1]*s[1],t[2]=r[2]*s[2],t}},435:function(h){h.exports=g;function g(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(h){h.exports=g;function g(t,r){var s=r[0],n=r[1],l=r[2],c=s*s+n*n+l*l;return c>0&&(c=1/Math.sqrt(c),t[0]=r[0]*c,t[1]=r[1]*c,t[2]=r[2]*c),t}},6660:function(h){h.exports=g;function g(t,r){r=r||1;var s=Math.random()*2*Math.PI,n=Math.random()*2-1,l=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(s)*l,t[1]=Math.sin(s)*l,t[2]=n*r,t}},392:function(h){h.exports=g;function g(t,r,s,n){var l=s[1],c=s[2],f=r[1]-l,m=r[2]-c,v=Math.sin(n),A=Math.cos(n);return t[0]=r[0],t[1]=l+f*A-m*v,t[2]=c+f*v+m*A,t}},3222:function(h){h.exports=g;function g(t,r,s,n){var l=s[0],c=s[2],f=r[0]-l,m=r[2]-c,v=Math.sin(n),A=Math.cos(n);return t[0]=l+m*v+f*A,t[1]=r[1],t[2]=c+m*A-f*v,t}},3388:function(h){h.exports=g;function g(t,r,s,n){var l=s[0],c=s[1],f=r[0]-l,m=r[1]-c,v=Math.sin(n),A=Math.cos(n);return t[0]=l+f*A-m*v,t[1]=c+f*v+m*A,t[2]=r[2],t}},1624:function(h){h.exports=g;function g(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(h){h.exports=g;function g(t,r,s){return t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t}},6722:function(h){h.exports=g;function g(t,r,s,n){return t[0]=r[0]+s[0]*n,t[1]=r[1]+s[1]*n,t[2]=r[2]+s[2]*n,t}},831:function(h){h.exports=g;function g(t,r,s,n){return t[0]=r,t[1]=s,t[2]=n,t}},5294:function(h,g,t){h.exports=t(6403)},3303:function(h,g,t){h.exports=t(4337)},6403:function(h){h.exports=g;function g(t,r){var s=r[0]-t[0],n=r[1]-t[1],l=r[2]-t[2];return s*s+n*n+l*l}},4337:function(h){h.exports=g;function g(t){var r=t[0],s=t[1],n=t[2];return r*r+s*s+n*n}},8921:function(h,g,t){h.exports=t(911)},911:function(h){h.exports=g;function g(t,r,s){return t[0]=r[0]-s[0],t[1]=r[1]-s[1],t[2]=r[2]-s[2],t}},9908:function(h){h.exports=g;function g(t,r,s){var n=r[0],l=r[1],c=r[2];return t[0]=n*s[0]+l*s[3]+c*s[6],t[1]=n*s[1]+l*s[4]+c*s[7],t[2]=n*s[2]+l*s[5]+c*s[8],t}},3255:function(h){h.exports=g;function g(t,r,s){var n=r[0],l=r[1],c=r[2],f=s[3]*n+s[7]*l+s[11]*c+s[15];return f=f||1,t[0]=(s[0]*n+s[4]*l+s[8]*c+s[12])/f,t[1]=(s[1]*n+s[5]*l+s[9]*c+s[13])/f,t[2]=(s[2]*n+s[6]*l+s[10]*c+s[14])/f,t}},6568:function(h){h.exports=g;function g(t,r,s){var n=r[0],l=r[1],c=r[2],f=s[0],m=s[1],v=s[2],A=s[3],d=A*n+m*c-v*l,u=A*l+v*n-f*c,y=A*c+f*l-m*n,M=-f*n-m*l-v*c;return t[0]=d*A+M*-f+u*-v-y*-m,t[1]=u*A+M*-m+y*-f-d*-v,t[2]=y*A+M*-v+d*-m-u*-f,t}},3433:function(h){h.exports=g;function g(t,r,s){return t[0]=r[0]+s[0],t[1]=r[1]+s[1],t[2]=r[2]+s[2],t[3]=r[3]+s[3],t}},1413:function(h){h.exports=g;function g(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(h){h.exports=g;function g(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(h){h.exports=g;function g(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(h){h.exports=g;function g(t,r){var s=r[0]-t[0],n=r[1]-t[1],l=r[2]-t[2],c=r[3]-t[3];return Math.sqrt(s*s+n*n+l*l+c*c)}},205:function(h){h.exports=g;function g(t,r,s){return t[0]=r[0]/s[0],t[1]=r[1]/s[1],t[2]=r[2]/s[2],t[3]=r[3]/s[3],t}},4242:function(h){h.exports=g;function g(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(h){h.exports=g;function g(t,r,s,n){var l=new Float32Array(4);return l[0]=t,l[1]=r,l[2]=s,l[3]=n,l}},4020:function(h,g,t){h.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(h){h.exports=g;function g(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(h){h.exports=g;function g(t){var r=t[0],s=t[1],n=t[2],l=t[3];return Math.sqrt(r*r+s*s+n*n+l*l)}},8746:function(h){h.exports=g;function g(t,r,s,n){var l=r[0],c=r[1],f=r[2],m=r[3];return t[0]=l+n*(s[0]-l),t[1]=c+n*(s[1]-c),t[2]=f+n*(s[2]-f),t[3]=m+n*(s[3]-m),t}},3030:function(h){h.exports=g;function g(t,r,s){return t[0]=Math.max(r[0],s[0]),t[1]=Math.max(r[1],s[1]),t[2]=Math.max(r[2],s[2]),t[3]=Math.max(r[3],s[3]),t}},2170:function(h){h.exports=g;function g(t,r,s){return t[0]=Math.min(r[0],s[0]),t[1]=Math.min(r[1],s[1]),t[2]=Math.min(r[2],s[2]),t[3]=Math.min(r[3],s[3]),t}},746:function(h){h.exports=g;function g(t,r,s){return t[0]=r[0]*s[0],t[1]=r[1]*s[1],t[2]=r[2]*s[2],t[3]=r[3]*s[3],t}},6459:function(h){h.exports=g;function g(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(h){h.exports=g;function g(t,r){var s=r[0],n=r[1],l=r[2],c=r[3],f=s*s+n*n+l*l+c*c;return f>0&&(f=1/Math.sqrt(f),t[0]=s*f,t[1]=n*f,t[2]=l*f,t[3]=c*f),t}},3770:function(h,g,t){var r=t(381),s=t(5510);h.exports=n;function n(l,c){return c=c||1,l[0]=Math.random(),l[1]=Math.random(),l[2]=Math.random(),l[3]=Math.random(),r(l,l),s(l,l,c),l}},5510:function(h){h.exports=g;function g(t,r,s){return t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t[3]=r[3]*s,t}},4224:function(h){h.exports=g;function g(t,r,s,n){return t[0]=r[0]+s[0]*n,t[1]=r[1]+s[1]*n,t[2]=r[2]+s[2]*n,t[3]=r[3]+s[3]*n,t}},6453:function(h){h.exports=g;function g(t,r,s,n,l){return t[0]=r,t[1]=s,t[2]=n,t[3]=l,t}},1542:function(h){h.exports=g;function g(t,r){var s=r[0]-t[0],n=r[1]-t[1],l=r[2]-t[2],c=r[3]-t[3];return s*s+n*n+l*l+c*c}},9037:function(h){h.exports=g;function g(t){var r=t[0],s=t[1],n=t[2],l=t[3];return r*r+s*s+n*n+l*l}},2705:function(h){h.exports=g;function g(t,r,s){return t[0]=r[0]-s[0],t[1]=r[1]-s[1],t[2]=r[2]-s[2],t[3]=r[3]-s[3],t}},6342:function(h){h.exports=g;function g(t,r,s){var n=r[0],l=r[1],c=r[2],f=r[3];return t[0]=s[0]*n+s[4]*l+s[8]*c+s[12]*f,t[1]=s[1]*n+s[5]*l+s[9]*c+s[13]*f,t[2]=s[2]*n+s[6]*l+s[10]*c+s[14]*f,t[3]=s[3]*n+s[7]*l+s[11]*c+s[15]*f,t}},5022:function(h){h.exports=g;function g(t,r,s){var n=r[0],l=r[1],c=r[2],f=s[0],m=s[1],v=s[2],A=s[3],d=A*n+m*c-v*l,u=A*l+v*n-f*c,y=A*c+f*l-m*n,M=-f*n-m*l-v*c;return t[0]=d*A+M*-f+u*-v-y*-m,t[1]=u*A+M*-m+y*-f-d*-v,t[2]=y*A+M*-v+d*-m-u*-f,t[3]=r[3],t}},9365:function(h,g,t){var r=t(8096),s=t(7896);h.exports=n;function n(l){for(var c=Array.isArray(l)?l:r(l),f=0;f<c.length;f++){var m=c[f];if(m.type==="preprocessor"){var v=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(v&&v[2]){var A=v[1],d=v[2];return(A?s(d):d).trim()}}}}},3193:function(h,g,t){h.exports=b;var r=t(399),s=t(9746),n=t(9525),l=t(9458),c=t(3585),f=999,m=9999,v=0,A=1,d=2,u=3,y=4,M=5,S=6,R=7,x=8,E=9,T=10,i=11,D=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function b(O){var F=0,V=0,_=f,U,H,z=[],G=[],Y=1,J=0,ae=0,oe=!1,he=!1,q="",Z;O=O||{};var $=n,K=r;O.version==="300 es"&&($=c,K=l);for(var re={},le={},F=0;F<$.length;F++)re[$[F]]=!0;for(var F=0;F<K.length;F++)le[K[F]]=!0;return function(Ne){return G=[],Ne!==null?ee(Ne):ue()};function te(Ne){Ne.length&&G.push({type:D[_],data:Ne,position:ae,line:Y,column:J})}function ee(Ne){F=0,Ne.toString&&(Ne=Ne.toString()),q+=Ne.replace(/\r\n/g,`
`),Z=q.length;for(var ke;U=q[F],F<Z;){switch(ke=F,_){case v:F=Ae();break;case A:F=Ee();break;case d:F=be();break;case u:F=Oe();break;case y:F=we();break;case i:F=Le();break;case M:F=Ce();break;case m:F=Ve();break;case E:F=ve();break;case f:F=se();break}if(ke!==F)switch(q[ke]){case`
`:J=0,++Y;break;default:++J;break}}return V+=F,q=q.slice(F),G}function ue(Ne){return z.length&&te(z.join("")),_=T,te("(eof)"),G}function se(){return z=z.length?[]:z,H==="/"&&U==="*"?(ae=V+F-1,_=v,H=U,F+1):H==="/"&&U==="/"?(ae=V+F-1,_=A,H=U,F+1):U==="#"?(_=d,ae=V+F,F):/\s/.test(U)?(_=E,ae=V+F,F):(oe=/\d/.test(U),he=/[^\w_]/.test(U),ae=V+F,_=oe?y:he?u:m,F)}function ve(){return/[^\s]/g.test(U)?(te(z.join("")),_=f,F):(z.push(U),H=U,F+1)}function be(){return(U==="\r"||U===`
`)&&H!=="\\"?(te(z.join("")),_=f,F):(z.push(U),H=U,F+1)}function Ee(){return be()}function Ae(){return U==="/"&&H==="*"?(z.push(U),te(z.join("")),_=f,F+1):(z.push(U),H=U,F+1)}function Oe(){if(H==="."&&/\d/.test(U))return _=M,F;if(H==="/"&&U==="*")return _=v,F;if(H==="/"&&U==="/")return _=A,F;if(U==="."&&z.length){for(;Ue(z););return _=M,F}if(U===";"||U===")"||U==="("){if(z.length)for(;Ue(z););return te(U),_=f,F+1}var Ne=z.length===2&&U!=="=";if(/[\w_\d\s]/.test(U)||Ne){for(;Ue(z););return _=f,F}return z.push(U),H=U,F+1}function Ue(Ne){var ke=0,We,rt;do{if(We=s.indexOf(Ne.slice(0,Ne.length+ke).join("")),rt=s[We],We===-1){if(ke--+Ne.length>0)continue;rt=Ne.slice(0,1).join("")}return te(rt),ae+=rt.length,z=z.slice(rt.length),z.length}while(1)}function Le(){return/[^a-fA-F0-9]/.test(U)?(te(z.join("")),_=f,F):(z.push(U),H=U,F+1)}function we(){return U==="."||/[eE]/.test(U)?(z.push(U),_=M,H=U,F+1):U==="x"&&z.length===1&&z[0]==="0"?(_=i,z.push(U),H=U,F+1):/[^\d]/.test(U)?(te(z.join("")),_=f,F):(z.push(U),H=U,F+1)}function Ce(){return U==="f"&&(z.push(U),H=U,F+=1),/[eE]/.test(U)||(U==="-"||U==="+")&&/[eE]/.test(H)?(z.push(U),H=U,F+1):/[^\d]/.test(U)?(te(z.join("")),_=f,F):(z.push(U),H=U,F+1)}function Ve(){if(/[^\d\w_]/.test(U)){var Ne=z.join("");return le[Ne]?_=x:re[Ne]?_=R:_=S,te(z.join("")),_=f,F}return z.push(U),H=U,F+1}}},3585:function(h,g,t){var r=t(9525);r=r.slice().filter(function(s){return!/^(gl\_|texture)/.test(s)}),h.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(h){h.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(h,g,t){var r=t(399);h.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(h){h.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(h){h.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(h,g,t){var r=t(3193);h.exports=s;function s(n,l){var c=r(l),f=[];return f=f.concat(c(n)),f=f.concat(c(null)),f}},6832:function(h){h.exports=function(g){typeof g=="string"&&(g=[g]);for(var t=[].slice.call(arguments,1),r=[],s=0;s<g.length-1;s++)r.push(g[s],t[s]||"");return r.push(g[s]),r.join("")}},5233:function(h,g,t){var r=t(4846);function s(){var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{n=!1}return n}h.exports=r&&s()},2183:function(h,g,t){h.exports=u;var r=t(417),s=t(8211).H;function n(y,M,S){this.vertices=y,this.adjacent=M,this.boundary=S,this.lastVisited=-1}n.prototype.flip=function(){var y=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=y;var M=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=M};function l(y,M,S){this.vertices=y,this.cell=M,this.index=S}function c(y,M){return s(y.vertices,M.vertices)}function f(y){return function(){var M=this.tuple;return y.apply(this,M)}}function m(y){var M=r[y+1];return M||(M=r),f(M)}var v=[];function A(y,M,S){this.dimension=y,this.vertices=M,this.simplices=S,this.interior=S.filter(function(E){return!E.boundary}),this.tuple=new Array(y+1);for(var R=0;R<=y;++R)this.tuple[R]=this.vertices[R];var x=v[y];x||(x=v[y]=m(y)),this.orient=x}var d=A.prototype;d.handleBoundaryDegeneracy=function(y,M){var S=this.dimension,R=this.vertices.length-1,x=this.tuple,E=this.vertices,T=[y];for(y.lastVisited=-R;T.length>0;){y=T.pop();for(var i=y.adjacent,D=0;D<=S;++D){var b=i[D];if(!(!b.boundary||b.lastVisited<=-R)){for(var O=b.vertices,F=0;F<=S;++F){var V=O[F];V<0?x[F]=M:x[F]=E[V]}var _=this.orient();if(_>0)return b;b.lastVisited=-R,_===0&&T.push(b)}}}return null},d.walk=function(y,M){var S=this.vertices.length-1,R=this.dimension,x=this.vertices,E=this.tuple,T=M?this.interior.length*Math.random()|0:this.interior.length-1,i=this.interior[T];e:for(;!i.boundary;){for(var D=i.vertices,b=i.adjacent,O=0;O<=R;++O)E[O]=x[D[O]];i.lastVisited=S;for(var O=0;O<=R;++O){var F=b[O];if(!(F.lastVisited>=S)){var V=E[O];E[O]=y;var _=this.orient();if(E[O]=V,_<0){i=F;continue e}else F.boundary?F.lastVisited=-S:F.lastVisited=S}}return}return i},d.addPeaks=function(y,M){var S=this.vertices.length-1,R=this.dimension,x=this.vertices,E=this.tuple,T=this.interior,i=this.simplices,D=[M];M.lastVisited=S,M.vertices[M.vertices.indexOf(-1)]=S,M.boundary=!1,T.push(M);for(var b=[];D.length>0;){var M=D.pop(),O=M.vertices,F=M.adjacent,V=O.indexOf(S);if(!(V<0)){for(var _=0;_<=R;++_)if(_!==V){var U=F[_];if(!(!U.boundary||U.lastVisited>=S)){var H=U.vertices;if(U.lastVisited!==-S){for(var z=0,G=0;G<=R;++G)H[G]<0?(z=G,E[G]=y):E[G]=x[H[G]];var Y=this.orient();if(Y>0){H[z]=S,U.boundary=!1,T.push(U),D.push(U),U.lastVisited=S;continue}else U.lastVisited=-S}var J=U.adjacent,ae=O.slice(),oe=F.slice(),he=new n(ae,oe,!0);i.push(he);var q=J.indexOf(M);if(!(q<0)){J[q]=he,oe[V]=U,ae[_]=-1,oe[_]=M,F[_]=he,he.flip();for(var G=0;G<=R;++G){var Z=ae[G];if(!(Z<0||Z===S)){for(var $=new Array(R-1),K=0,re=0;re<=R;++re){var le=ae[re];le<0||re===G||($[K++]=le)}b.push(new l($,he,G))}}}}}}}b.sort(c);for(var _=0;_+1<b.length;_+=2){var te=b[_],ee=b[_+1],ue=te.index,se=ee.index;ue<0||se<0||(te.cell.adjacent[te.index]=ee.cell,ee.cell.adjacent[ee.index]=te.cell)}},d.insert=function(y,M){var S=this.vertices;S.push(y);var R=this.walk(y,M);if(R){for(var x=this.dimension,E=this.tuple,T=0;T<=x;++T){var i=R.vertices[T];i<0?E[T]=y:E[T]=S[i]}var D=this.orient(E);D<0||D===0&&(R=this.handleBoundaryDegeneracy(R,y),!R)||this.addPeaks(y,R)}},d.boundary=function(){for(var y=this.dimension,M=[],S=this.simplices,R=S.length,x=0;x<R;++x){var E=S[x];if(E.boundary){for(var T=new Array(y),i=E.vertices,D=0,b=0,O=0;O<=y;++O)i[O]>=0?T[D++]=i[O]:b=O&1;if(b===(y&1)){var F=T[0];T[0]=T[1],T[1]=F}M.push(T)}}return M};function u(y,M){var S=y.length;if(S===0)throw new Error("Must have at least d+1 points");var R=y[0].length;if(S<=R)throw new Error("Must input at least d+1 points");var x=y.slice(0,R+1),E=r.apply(void 0,x);if(E===0)throw new Error("Input not in general position");for(var T=new Array(R+1),i=0;i<=R;++i)T[i]=i;E<0&&(T[0]=1,T[1]=0);for(var D=new n(T,new Array(R+1),!1),b=D.adjacent,O=new Array(R+2),i=0;i<=R;++i){for(var F=T.slice(),V=0;V<=R;++V)V===i&&(F[V]=-1);var _=F[0];F[0]=F[1],F[1]=_;var U=new n(F,new Array(R+1),!0);b[i]=U,O[i]=U}O[R+1]=D;for(var i=0;i<=R;++i)for(var F=b[i].vertices,H=b[i].adjacent,V=0;V<=R;++V){var z=F[V];if(z<0){H[V]=D;continue}for(var G=0;G<=R;++G)b[G].vertices.indexOf(z)<0&&(H[V]=b[G])}for(var Y=new A(R,x,O),J=!!M,i=R+1;i<S;++i)Y.insert(y[i],J);return Y.boundary()}},9014:function(h,g,t){var r=t(5070),s=0,n=1,l=2;h.exports=D;function c(b,O,F,V,_){this.mid=b,this.left=O,this.right=F,this.leftPoints=V,this.rightPoints=_,this.count=(O?O.count:0)+(F?F.count:0)+V.length}var f=c.prototype;function m(b,O){b.mid=O.mid,b.left=O.left,b.right=O.right,b.leftPoints=O.leftPoints,b.rightPoints=O.rightPoints,b.count=O.count}function v(b,O){var F=E(O);b.mid=F.mid,b.left=F.left,b.right=F.right,b.leftPoints=F.leftPoints,b.rightPoints=F.rightPoints,b.count=F.count}function A(b,O){var F=b.intervals([]);F.push(O),v(b,F)}function d(b,O){var F=b.intervals([]),V=F.indexOf(O);return V<0?s:(F.splice(V,1),v(b,F),n)}f.intervals=function(b){return b.push.apply(b,this.leftPoints),this.left&&this.left.intervals(b),this.right&&this.right.intervals(b),b},f.insert=function(b){var O=this.count-this.leftPoints.length;if(this.count+=1,b[1]<this.mid)this.left?4*(this.left.count+1)>3*(O+1)?A(this,b):this.left.insert(b):this.left=E([b]);else if(b[0]>this.mid)this.right?4*(this.right.count+1)>3*(O+1)?A(this,b):this.right.insert(b):this.right=E([b]);else{var F=r.ge(this.leftPoints,b,R),V=r.ge(this.rightPoints,b,x);this.leftPoints.splice(F,0,b),this.rightPoints.splice(V,0,b)}},f.remove=function(b){var O=this.count-this.leftPoints;if(b[1]<this.mid){if(!this.left)return s;var F=this.right?this.right.count:0;if(4*F>3*(O-1))return d(this,b);var V=this.left.remove(b);return V===l?(this.left=null,this.count-=1,n):(V===n&&(this.count-=1),V)}else if(b[0]>this.mid){if(!this.right)return s;var _=this.left?this.left.count:0;if(4*_>3*(O-1))return d(this,b);var V=this.right.remove(b);return V===l?(this.right=null,this.count-=1,n):(V===n&&(this.count-=1),V)}else{if(this.count===1)return this.leftPoints[0]===b?l:s;if(this.leftPoints.length===1&&this.leftPoints[0]===b){if(this.left&&this.right){for(var U=this,H=this.left;H.right;)U=H,H=H.right;if(U===this)H.right=this.right;else{var z=this.left,V=this.right;U.count-=H.count,U.right=H.left,H.left=z,H.right=V}m(this,H),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return n}for(var z=r.ge(this.leftPoints,b,R);z<this.leftPoints.length&&this.leftPoints[z][0]===b[0];++z)if(this.leftPoints[z]===b){this.count-=1,this.leftPoints.splice(z,1);for(var V=r.ge(this.rightPoints,b,x);V<this.rightPoints.length&&this.rightPoints[V][1]===b[1];++V)if(this.rightPoints[V]===b)return this.rightPoints.splice(V,1),n}return s}};function u(b,O,F){for(var V=0;V<b.length&&b[V][0]<=O;++V){var _=F(b[V]);if(_)return _}}function y(b,O,F){for(var V=b.length-1;V>=0&&b[V][1]>=O;--V){var _=F(b[V]);if(_)return _}}function M(b,O){for(var F=0;F<b.length;++F){var V=O(b[F]);if(V)return V}}f.queryPoint=function(b,O){if(b<this.mid){if(this.left){var F=this.left.queryPoint(b,O);if(F)return F}return u(this.leftPoints,b,O)}else if(b>this.mid){if(this.right){var F=this.right.queryPoint(b,O);if(F)return F}return y(this.rightPoints,b,O)}else return M(this.leftPoints,O)},f.queryInterval=function(b,O,F){if(b<this.mid&&this.left){var V=this.left.queryInterval(b,O,F);if(V)return V}if(O>this.mid&&this.right){var V=this.right.queryInterval(b,O,F);if(V)return V}return O<this.mid?u(this.leftPoints,O,F):b>this.mid?y(this.rightPoints,b,F):M(this.leftPoints,F)};function S(b,O){return b-O}function R(b,O){var F=b[0]-O[0];return F||b[1]-O[1]}function x(b,O){var F=b[1]-O[1];return F||b[0]-O[0]}function E(b){if(b.length===0)return null;for(var O=[],F=0;F<b.length;++F)O.push(b[F][0],b[F][1]);O.sort(S);for(var V=O[O.length>>1],_=[],U=[],H=[],F=0;F<b.length;++F){var z=b[F];z[1]<V?_.push(z):V<z[0]?U.push(z):H.push(z)}var G=H,Y=H.slice();return G.sort(R),Y.sort(x),new c(V,E(_),E(U),G,Y)}function T(b){this.root=b}var i=T.prototype;i.insert=function(b){this.root?this.root.insert(b):this.root=new c(b[0],null,null,[b],[b])},i.remove=function(b){if(this.root){var O=this.root.remove(b);return O===l&&(this.root=null),O!==s}return!1},i.queryPoint=function(b,O){if(this.root)return this.root.queryPoint(b,O)},i.queryInterval=function(b,O,F){if(b<=O&&this.root)return this.root.queryInterval(b,O,F)},Object.defineProperty(i,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(i,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function D(b){return!b||b.length===0?new T(null):new T(E(b))}},9560:function(h){function g(t){for(var r=new Array(t),s=0;s<t;++s)r[s]=s;return r}h.exports=g},4846:function(h){h.exports=!0},4780:function(h){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/h.exports=function(r){return r!=null&&(g(r)||t(r)||!!r._isBuffer)};function g(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&g(r.slice(0,0))}},3596:function(h){h.exports=function(g){for(var t=g.length,r,s=0;s<t;s++)if(r=g.charCodeAt(s),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(h){function g(t,r,s){return t*(1-s)+r*s}h.exports=g},7191:function(h,g,t){var r=t(4690),s=t(9823),n=t(7332),l=t(7787),c=t(7437),f=t(2142),m={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},v=s(),A=s(),d=[0,0,0,0],u=[[0,0,0],[0,0,0],[0,0,0]],y=[0,0,0];h.exports=function(E,T,i,D,b,O){if(T||(T=[0,0,0]),i||(i=[0,0,0]),D||(D=[0,0,0]),b||(b=[0,0,0,1]),O||(O=[0,0,0,1]),!r(v,E)||(n(A,v),A[3]=0,A[7]=0,A[11]=0,A[15]=1,Math.abs(l(A)<1e-8)))return!1;var F=v[3],V=v[7],_=v[11],U=v[12],H=v[13],z=v[14],G=v[15];if(F!==0||V!==0||_!==0){d[0]=F,d[1]=V,d[2]=_,d[3]=G;var Y=c(A,A);if(!Y)return!1;f(A,A),M(b,d,A)}else b[0]=b[1]=b[2]=0,b[3]=1;if(T[0]=U,T[1]=H,T[2]=z,S(u,v),i[0]=m.length(u[0]),m.normalize(u[0],u[0]),D[0]=m.dot(u[0],u[1]),R(u[1],u[1],u[0],1,-D[0]),i[1]=m.length(u[1]),m.normalize(u[1],u[1]),D[0]/=i[1],D[1]=m.dot(u[0],u[2]),R(u[2],u[2],u[0],1,-D[1]),D[2]=m.dot(u[1],u[2]),R(u[2],u[2],u[1],1,-D[2]),i[2]=m.length(u[2]),m.normalize(u[2],u[2]),D[1]/=i[2],D[2]/=i[2],m.cross(y,u[1],u[2]),m.dot(u[0],y)<0)for(var J=0;J<3;J++)i[J]*=-1,u[J][0]*=-1,u[J][1]*=-1,u[J][2]*=-1;return O[0]=.5*Math.sqrt(Math.max(1+u[0][0]-u[1][1]-u[2][2],0)),O[1]=.5*Math.sqrt(Math.max(1-u[0][0]+u[1][1]-u[2][2],0)),O[2]=.5*Math.sqrt(Math.max(1-u[0][0]-u[1][1]+u[2][2],0)),O[3]=.5*Math.sqrt(Math.max(1+u[0][0]+u[1][1]+u[2][2],0)),u[2][1]>u[1][2]&&(O[0]=-O[0]),u[0][2]>u[2][0]&&(O[1]=-O[1]),u[1][0]>u[0][1]&&(O[2]=-O[2]),!0};function M(x,E,T){var i=E[0],D=E[1],b=E[2],O=E[3];return x[0]=T[0]*i+T[4]*D+T[8]*b+T[12]*O,x[1]=T[1]*i+T[5]*D+T[9]*b+T[13]*O,x[2]=T[2]*i+T[6]*D+T[10]*b+T[14]*O,x[3]=T[3]*i+T[7]*D+T[11]*b+T[15]*O,x}function S(x,E){x[0][0]=E[0],x[0][1]=E[1],x[0][2]=E[2],x[1][0]=E[4],x[1][1]=E[5],x[1][2]=E[6],x[2][0]=E[8],x[2][1]=E[9],x[2][2]=E[10]}function R(x,E,T,i,D){x[0]=E[0]*i+T[0]*D,x[1]=E[1]*i+T[1]*D,x[2]=E[2]*i+T[2]*D}},4690:function(h){h.exports=function(t,r){var s=r[15];if(s===0)return!1;for(var n=1/s,l=0;l<16;l++)t[l]=r[l]*n;return!0}},7649:function(h,g,t){var r=t(1868),s=t(1102),n=t(7191),l=t(7787),c=t(1116),f=d(),m=d(),v=d();h.exports=A;function A(M,S,R,x){if(l(S)===0||l(R)===0)return!1;var E=n(S,f.translate,f.scale,f.skew,f.perspective,f.quaternion),T=n(R,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!E||!T?!1:(r(v.translate,f.translate,m.translate,x),r(v.skew,f.skew,m.skew,x),r(v.scale,f.scale,m.scale,x),r(v.perspective,f.perspective,m.perspective,x),c(v.quaternion,f.quaternion,m.quaternion,x),s(M,v.translate,v.scale,v.skew,v.perspective,v.quaternion),!0)}function d(){return{translate:u(),scale:u(1),skew:u(),perspective:y(),quaternion:y()}}function u(M){return[M||0,M||0,M||0]}function y(){return[0,0,0,1]}},1102:function(h,g,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var s=r.create();h.exports=function(l,c,f,m,v,A){return r.identity(l),r.fromRotationTranslation(l,A,c),l[3]=v[0],l[7]=v[1],l[11]=v[2],l[15]=v[3],r.identity(s),m[2]!==0&&(s[9]=m[2],r.multiply(l,l,s)),m[1]!==0&&(s[9]=0,s[8]=m[1],r.multiply(l,l,s)),m[0]!==0&&(s[8]=0,s[4]=m[0],r.multiply(l,l,s)),r.scale(l,l,f),l}},9298:function(h,g,t){var r=t(5070),s=t(7649),n=t(7437),l=t(6109),c=t(7115),f=t(5240),m=t(3012),v=t(998);t(3668);var A=t(899),d=[0,0,0];h.exports=S;function u(R){this._components=R.slice(),this._time=[0],this.prevMatrix=R.slice(),this.nextMatrix=R.slice(),this.computedMatrix=R.slice(),this.computedInverse=R.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var y=u.prototype;y.recalcMatrix=function(R){var x=this._time,E=r.le(x,R),T=this.computedMatrix;if(!(E<0)){var i=this._components;if(E===x.length-1)for(var D=16*E,b=0;b<16;++b)T[b]=i[D++];else{for(var O=x[E+1]-x[E],D=16*E,F=this.prevMatrix,V=!0,b=0;b<16;++b)F[b]=i[D++];for(var _=this.nextMatrix,b=0;b<16;++b)_[b]=i[D++],V=V&&F[b]===_[b];if(O<1e-6||V)for(var b=0;b<16;++b)T[b]=F[b];else s(T,F,_,(R-x[E])/O)}var U=this.computedUp;U[0]=T[1],U[1]=T[5],U[2]=T[9],A(U,U);var H=this.computedInverse;n(H,T);var z=this.computedEye,G=H[15];z[0]=H[12]/G,z[1]=H[13]/G,z[2]=H[14]/G;for(var Y=this.computedCenter,J=Math.exp(this.computedRadius[0]),b=0;b<3;++b)Y[b]=z[b]-T[2+4*b]*J}},y.idle=function(R){if(!(R<this.lastT())){for(var x=this._components,E=x.length-16,T=0;T<16;++T)x.push(x[E++]);this._time.push(R)}},y.flush=function(R){var x=r.gt(this._time,R)-2;x<0||(this._time.splice(0,x),this._components.splice(0,16*x))},y.lastT=function(){return this._time[this._time.length-1]},y.lookAt=function(R,x,E,T){this.recalcMatrix(R),x=x||this.computedEye,E=E||d,T=T||this.computedUp,this.setMatrix(R,m(this.computedMatrix,x,E,T));for(var i=0,D=0;D<3;++D)i+=Math.pow(E[D]-x[D],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},y.rotate=function(R,x,E,T){this.recalcMatrix(R);var i=this.computedInverse;x&&c(i,i,x),E&&l(i,i,E),T&&f(i,i,T),this.setMatrix(R,n(this.computedMatrix,i))};var M=[0,0,0];y.pan=function(R,x,E,T){M[0]=-(x||0),M[1]=-(E||0),M[2]=-(T||0),this.recalcMatrix(R);var i=this.computedInverse;v(i,i,M),this.setMatrix(R,n(i,i))},y.translate=function(R,x,E,T){M[0]=x||0,M[1]=E||0,M[2]=T||0,this.recalcMatrix(R);var i=this.computedMatrix;v(i,i,M),this.setMatrix(R,i)},y.setMatrix=function(R,x){if(!(R<this.lastT())){this._time.push(R);for(var E=0;E<16;++E)this._components.push(x[E])}},y.setDistance=function(R,x){this.computedRadius[0]=x},y.setDistanceLimits=function(R,x){var E=this._limits;E[0]=R,E[1]=x},y.getDistanceLimits=function(R){var x=this._limits;return R?(R[0]=x[0],R[1]=x[1],R):x};function S(R){R=R||{};var x=R.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new u(x)}},3266:function(h,g,t){h.exports=s;var r=t(417)[3];function s(n){var l=n.length;if(l<3){for(var y=new Array(l),c=0;c<l;++c)y[c]=c;return l===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:y}for(var f=new Array(l),c=0;c<l;++c)f[c]=c;f.sort(function(x,E){var T=n[x][0]-n[E][0];return T||n[x][1]-n[E][1]});for(var m=[f[0],f[1]],v=[f[0],f[1]],c=2;c<l;++c){for(var A=f[c],d=n[A],u=m.length;u>1&&r(n[m[u-2]],n[m[u-1]],d)<=0;)u-=1,m.pop();for(m.push(A),u=v.length;u>1&&r(n[v[u-2]],n[v[u-1]],d)>=0;)u-=1,v.pop();v.push(A)}for(var y=new Array(v.length+m.length-2),M=0,c=0,S=m.length;c<S;++c)y[M++]=m[c];for(var R=v.length-2;R>0;--R)y[M++]=v[R];return y}},6145:function(h,g,t){h.exports=s;var r=t(4110);function s(n,l){l||(l=n,n=window);var c=0,f=0,m=0,v={shift:!1,alt:!1,control:!1,meta:!1},A=!1;function d(b){var O=!1;return"altKey"in b&&(O=O||b.altKey!==v.alt,v.alt=!!b.altKey),"shiftKey"in b&&(O=O||b.shiftKey!==v.shift,v.shift=!!b.shiftKey),"ctrlKey"in b&&(O=O||b.ctrlKey!==v.control,v.control=!!b.ctrlKey),"metaKey"in b&&(O=O||b.metaKey!==v.meta,v.meta=!!b.metaKey),O}function u(b,O){var F=r.x(O),V=r.y(O);"buttons"in O&&(b=O.buttons|0),(b!==c||F!==f||V!==m||d(O))&&(c=b|0,f=F||0,m=V||0,l&&l(c,f,m,v))}function y(b){u(0,b)}function M(){(c||f||m||v.shift||v.alt||v.meta||v.control)&&(f=m=0,c=0,v.shift=v.alt=v.control=v.meta=!1,l&&l(0,0,0,v))}function S(b){d(b)&&l&&l(c,f,m,v)}function R(b){r.buttons(b)===0?u(0,b):u(c,b)}function x(b){u(c|r.buttons(b),b)}function E(b){u(c&~r.buttons(b),b)}function T(){A||(A=!0,n.addEventListener("mousemove",R),n.addEventListener("mousedown",x),n.addEventListener("mouseup",E),n.addEventListener("mouseleave",y),n.addEventListener("mouseenter",y),n.addEventListener("mouseout",y),n.addEventListener("mouseover",y),n.addEventListener("blur",M),n.addEventListener("keyup",S),n.addEventListener("keydown",S),n.addEventListener("keypress",S),n!==window&&(window.addEventListener("blur",M),window.addEventListener("keyup",S),window.addEventListener("keydown",S),window.addEventListener("keypress",S)))}function i(){A&&(A=!1,n.removeEventListener("mousemove",R),n.removeEventListener("mousedown",x),n.removeEventListener("mouseup",E),n.removeEventListener("mouseleave",y),n.removeEventListener("mouseenter",y),n.removeEventListener("mouseout",y),n.removeEventListener("mouseover",y),n.removeEventListener("blur",M),n.removeEventListener("keyup",S),n.removeEventListener("keydown",S),n.removeEventListener("keypress",S),n!==window&&(window.removeEventListener("blur",M),window.removeEventListener("keyup",S),window.removeEventListener("keydown",S),window.removeEventListener("keypress",S)))}T();var D={element:n};return Object.defineProperties(D,{enabled:{get:function(){return A},set:function(b){b?T():i()},enumerable:!0},buttons:{get:function(){return c},enumerable:!0},x:{get:function(){return f},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return v},enumerable:!0}}),D}},2565:function(h){var g={left:0,top:0};h.exports=t;function t(s,n,l){n=n||s.currentTarget||s.srcElement,Array.isArray(l)||(l=[0,0]);var c=s.clientX||0,f=s.clientY||0,m=r(n);return l[0]=c-m.left,l[1]=f-m.top,l}function r(s){return s===window||s===document||s===document.body?g:s.getBoundingClientRect()}},4110:function(h,g){function t(l){if(typeof l=="object"){if("buttons"in l)return l.buttons;if("which"in l){var c=l.which;if(c===2)return 4;if(c===3)return 2;if(c>0)return 1<<c-1}else if("button"in l){var c=l.button;if(c===1)return 4;if(c===2)return 2;if(c>=0)return 1<<c}}return 0}g.buttons=t;function r(l){return l.target||l.srcElement||window}g.element=r;function s(l){if(typeof l=="object"){if("offsetX"in l)return l.offsetX;var c=r(l),f=c.getBoundingClientRect();return l.clientX-f.left}return 0}g.x=s;function n(l){if(typeof l=="object"){if("offsetY"in l)return l.offsetY;var c=r(l),f=c.getBoundingClientRect();return l.clientY-f.top}return 0}g.y=n},6475:function(h,g,t){var r=t(14);h.exports=s;function s(n,l,c){typeof n=="function"&&(c=!!l,l=n,n=window);var f=r("ex",n),m=function(v){c&&v.preventDefault();var A=v.deltaX||0,d=v.deltaY||0,u=v.deltaZ||0,y=v.deltaMode,M=1;switch(y){case 1:M=f;break;case 2:M=window.innerHeight;break}if(A*=M,d*=M,u*=M,A||d||u)return l(A,d,u,v)};return n.addEventListener("wheel",m),m}},9284:function(h,g,t){var r=t(5306);h.exports=l;var s={"false,0,1":function(f,m,v,A,d){return function(y,M,S,R){var x=y.shape[0]|0,E=y.shape[1]|0,T=y.data,i=y.offset|0,D=y.stride[0]|0,b=y.stride[1]|0,O=i,F,V=-D|0,_=0,U=-b|0,H=0,z=-D-b|0,G=0,Y=D|0,J=b-D*x|0,ae=0,oe=0,he=0,q=2*x|0,Z=A(q),$=A(q),K=0,re=0,le=-1,te=-1,ee=0,ue=-x|0,se=x|0,ve=0,be=-x-1|0,Ee=x-1|0,Ae=0,Oe=0,Ue=0;for(ae=0;ae<x;++ae)Z[K++]=v(T[O],M,S,R),O+=Y;if(O+=J,E>0){if(oe=1,Z[K++]=v(T[O],M,S,R),O+=Y,x>0)for(ae=1,F=T[O],re=Z[K]=v(F,M,S,R),ee=Z[K+le],ve=Z[K+ue],Ae=Z[K+be],(re!==ee||re!==ve||re!==Ae)&&(_=T[O+V],H=T[O+U],G=T[O+z],f(ae,oe,F,_,H,G,re,ee,ve,Ae,M,S,R),Oe=$[K]=he++),K+=1,O+=Y,ae=2;ae<x;++ae)F=T[O],re=Z[K]=v(F,M,S,R),ee=Z[K+le],ve=Z[K+ue],Ae=Z[K+be],(re!==ee||re!==ve||re!==Ae)&&(_=T[O+V],H=T[O+U],G=T[O+z],f(ae,oe,F,_,H,G,re,ee,ve,Ae,M,S,R),Oe=$[K]=he++,Ae!==ee&&m($[K+le],Oe,G,_,Ae,ee,M,S,R)),K+=1,O+=Y;for(O+=J,K=0,Ue=le,le=te,te=Ue,Ue=ue,ue=se,se=Ue,Ue=be,be=Ee,Ee=Ue,oe=2;oe<E;++oe){if(Z[K++]=v(T[O],M,S,R),O+=Y,x>0)for(ae=1,F=T[O],re=Z[K]=v(F,M,S,R),ee=Z[K+le],ve=Z[K+ue],Ae=Z[K+be],(re!==ee||re!==ve||re!==Ae)&&(_=T[O+V],H=T[O+U],G=T[O+z],f(ae,oe,F,_,H,G,re,ee,ve,Ae,M,S,R),Oe=$[K]=he++,Ae!==ve&&m($[K+ue],Oe,H,G,ve,Ae,M,S,R)),K+=1,O+=Y,ae=2;ae<x;++ae)F=T[O],re=Z[K]=v(F,M,S,R),ee=Z[K+le],ve=Z[K+ue],Ae=Z[K+be],(re!==ee||re!==ve||re!==Ae)&&(_=T[O+V],H=T[O+U],G=T[O+z],f(ae,oe,F,_,H,G,re,ee,ve,Ae,M,S,R),Oe=$[K]=he++,Ae!==ve&&m($[K+ue],Oe,H,G,ve,Ae,M,S,R),Ae!==ee&&m($[K+le],Oe,G,_,Ae,ee,M,S,R)),K+=1,O+=Y;oe&1&&(K=0),Ue=le,le=te,te=Ue,Ue=ue,ue=se,se=Ue,Ue=be,be=Ee,Ee=Ue,O+=J}}d($),d(Z)}},"false,1,0":function(f,m,v,A,d){return function(y,M,S,R){var x=y.shape[0]|0,E=y.shape[1]|0,T=y.data,i=y.offset|0,D=y.stride[0]|0,b=y.stride[1]|0,O=i,F,V=-D|0,_=0,U=-b|0,H=0,z=-D-b|0,G=0,Y=b|0,J=D-b*E|0,ae=0,oe=0,he=0,q=2*E|0,Z=A(q),$=A(q),K=0,re=0,le=-1,te=-1,ee=0,ue=-E|0,se=E|0,ve=0,be=-E-1|0,Ee=E-1|0,Ae=0,Oe=0,Ue=0;for(oe=0;oe<E;++oe)Z[K++]=v(T[O],M,S,R),O+=Y;if(O+=J,x>0){if(ae=1,Z[K++]=v(T[O],M,S,R),O+=Y,E>0)for(oe=1,F=T[O],re=Z[K]=v(F,M,S,R),ve=Z[K+ue],ee=Z[K+le],Ae=Z[K+be],(re!==ve||re!==ee||re!==Ae)&&(_=T[O+V],H=T[O+U],G=T[O+z],f(ae,oe,F,_,H,G,re,ve,ee,Ae,M,S,R),Oe=$[K]=he++),K+=1,O+=Y,oe=2;oe<E;++oe)F=T[O],re=Z[K]=v(F,M,S,R),ve=Z[K+ue],ee=Z[K+le],Ae=Z[K+be],(re!==ve||re!==ee||re!==Ae)&&(_=T[O+V],H=T[O+U],G=T[O+z],f(ae,oe,F,_,H,G,re,ve,ee,Ae,M,S,R),Oe=$[K]=he++,Ae!==ee&&m($[K+le],Oe,H,G,ee,Ae,M,S,R)),K+=1,O+=Y;for(O+=J,K=0,Ue=ue,ue=se,se=Ue,Ue=le,le=te,te=Ue,Ue=be,be=Ee,Ee=Ue,ae=2;ae<x;++ae){if(Z[K++]=v(T[O],M,S,R),O+=Y,E>0)for(oe=1,F=T[O],re=Z[K]=v(F,M,S,R),ve=Z[K+ue],ee=Z[K+le],Ae=Z[K+be],(re!==ve||re!==ee||re!==Ae)&&(_=T[O+V],H=T[O+U],G=T[O+z],f(ae,oe,F,_,H,G,re,ve,ee,Ae,M,S,R),Oe=$[K]=he++,Ae!==ve&&m($[K+ue],Oe,G,_,Ae,ve,M,S,R)),K+=1,O+=Y,oe=2;oe<E;++oe)F=T[O],re=Z[K]=v(F,M,S,R),ve=Z[K+ue],ee=Z[K+le],Ae=Z[K+be],(re!==ve||re!==ee||re!==Ae)&&(_=T[O+V],H=T[O+U],G=T[O+z],f(ae,oe,F,_,H,G,re,ve,ee,Ae,M,S,R),Oe=$[K]=he++,Ae!==ee&&m($[K+le],Oe,H,G,ee,Ae,M,S,R),Ae!==ve&&m($[K+ue],Oe,G,_,Ae,ve,M,S,R)),K+=1,O+=Y;ae&1&&(K=0),Ue=ue,ue=se,se=Ue,Ue=le,le=te,te=Ue,Ue=be,be=Ee,Ee=Ue,O+=J}}d($),d(Z)}}};function n(c,f,m,v,A,d){var u=[d,A].join(","),y=s[u];return y(c,f,m,r.mallocUint32,r.freeUint32)}function l(c){function f(M){throw new Error("ndarray-extract-contour: "+M)}typeof c!="object"&&f("Must specify arguments");var m=c.order;Array.isArray(m)||f("Must specify order");var v=c.arrayArguments||1;v<1&&f("Must have at least one array argument");var A=c.scalarArguments||0;A<0&&f("Scalar arg count must be > 0"),typeof c.vertex!="function"&&f("Must specify vertex creation function"),typeof c.cell!="function"&&f("Must specify cell creation function"),typeof c.phase!="function"&&f("Must specify phase function");for(var d=c.getters||[],u=new Array(v),y=0;y<v;++y)d.indexOf(y)>=0?u[y]=!0:u[y]=!1;return n(c.vertex,c.cell,c.phase,A,m,u)}},9144:function(h,g,t){var r=t(3094),s={zero:function(S,R,x,E){var T=S[0],i=x[0];E|=0;var D=0,b=i;for(D=0;D<T;++D)R[E]=0,E+=b},fdTemplate1:function(S,R,x,E,T,i,D){var b=S[0],O=x[0],F=i[0],V=-1*O,_=O;E|=0,D|=0;var U=0,H=O,z=F;for(U=0;U<b;++U)T[D]=.5*(R[E+V]-R[E+_]),E+=H,D+=z},fdTemplate2:function(S,R,x,E,T,i,D,b,O,F){var V=S[0],_=S[1],U=x[0],H=x[1],z=i[0],G=i[1],Y=O[0],J=O[1],ae=-1*U,oe=U,he=-1*H,q=H;E|=0,D|=0,F|=0;var Z=0,$=0,K=H,re=U-_*H,le=G,te=z-_*G,ee=J,ue=Y-_*J;for($=0;$<V;++$){for(Z=0;Z<_;++Z)T[D]=.5*(R[E+ae]-R[E+oe]),b[F]=.5*(R[E+he]-R[E+q]),E+=K,D+=le,F+=ee;E+=re,D+=te,F+=ue}}},n={cdiff:function(S){var R={};return function(E,T,i){var D=E.dtype,b=E.order,O=T.dtype,F=T.order,V=i.dtype,_=i.order,U=[D,b.join(),O,F.join(),V,_.join()].join(),H=R[U];return H||(R[U]=H=S([D,b,O,F,V,_])),H(E.shape.slice(0),E.data,E.stride,E.offset|0,T.data,T.stride,T.offset|0,i.data,i.stride,i.offset|0)}},zero:function(S){var R={};return function(E){var T=E.dtype,i=E.order,D=[T,i.join()].join(),b=R[D];return b||(R[D]=b=S([T,i])),b(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(S){var R={};return function(E,T){var i=E.dtype,D=E.order,b=T.dtype,O=T.order,F=[i,D.join(),b,O.join()].join(),V=R[F];return V||(R[F]=V=S([i,D,b,O])),V(E.shape.slice(0),E.data,E.stride,E.offset|0,T.data,T.stride,T.offset|0)}},fdTemplate2:function(S){var R={};return function(E,T,i){var D=E.dtype,b=E.order,O=T.dtype,F=T.order,V=i.dtype,_=i.order,U=[D,b.join(),O,F.join(),V,_.join()].join(),H=R[U];return H||(R[U]=H=S([D,b,O,F,V,_])),H(E.shape.slice(0),E.data,E.stride,E.offset|0,T.data,T.stride,T.offset|0,i.data,i.stride,i.offset|0)}}};function l(S){var R=n[S.funcName];return R(c.bind(void 0,S))}function c(S){return s[S.funcName]}function f(S){return l({funcName:S.funcName})}var m={},v={},A=f({funcName:"cdiff"}),d=f({funcName:"zero"});function u(S){return S in m?m[S]:m[S]=f({funcName:"fdTemplate"+S})}function y(S,R,x,E){return function(T,i){var D=i.shape.slice();return D[0]>2&&D[1]>2&&E(i.pick(-1,-1).lo(1,1).hi(D[0]-2,D[1]-2),T.pick(-1,-1,0).lo(1,1).hi(D[0]-2,D[1]-2),T.pick(-1,-1,1).lo(1,1).hi(D[0]-2,D[1]-2)),D[1]>2&&(x(i.pick(0,-1).lo(1).hi(D[1]-2),T.pick(0,-1,1).lo(1).hi(D[1]-2)),R(T.pick(0,-1,0).lo(1).hi(D[1]-2))),D[1]>2&&(x(i.pick(D[0]-1,-1).lo(1).hi(D[1]-2),T.pick(D[0]-1,-1,1).lo(1).hi(D[1]-2)),R(T.pick(D[0]-1,-1,0).lo(1).hi(D[1]-2))),D[0]>2&&(x(i.pick(-1,0).lo(1).hi(D[0]-2),T.pick(-1,0,0).lo(1).hi(D[0]-2)),R(T.pick(-1,0,1).lo(1).hi(D[0]-2))),D[0]>2&&(x(i.pick(-1,D[1]-1).lo(1).hi(D[0]-2),T.pick(-1,D[1]-1,0).lo(1).hi(D[0]-2)),R(T.pick(-1,D[1]-1,1).lo(1).hi(D[0]-2))),T.set(0,0,0,0),T.set(0,0,1,0),T.set(D[0]-1,0,0,0),T.set(D[0]-1,0,1,0),T.set(0,D[1]-1,0,0),T.set(0,D[1]-1,1,0),T.set(D[0]-1,D[1]-1,0,0),T.set(D[0]-1,D[1]-1,1,0),T}}function M(S){var R=S.join(),D=v[R];if(D)return D;for(var x=S.length,E=[A,d],T=1;T<=x;++T)E.push(u(T));var i=y,D=i.apply(void 0,E);return v[R]=D,D}h.exports=function(R,x,E){if(Array.isArray(E)||(typeof E=="string"?E=r(x.dimension,E):E=r(x.dimension,"clamp")),x.size===0)return R;if(x.dimension===0)return R.set(0),R;var T=M(E);return T(R,x)}},3581:function(h){function g(l,c){var f=Math.floor(c),m=c-f,v=0<=f&&f<l.shape[0],A=0<=f+1&&f+1<l.shape[0],d=v?+l.get(f):0,u=A?+l.get(f+1):0;return(1-m)*d+m*u}function t(l,c,f){var m=Math.floor(c),v=c-m,A=0<=m&&m<l.shape[0],d=0<=m+1&&m+1<l.shape[0],u=Math.floor(f),y=f-u,M=0<=u&&u<l.shape[1],S=0<=u+1&&u+1<l.shape[1],R=A&&M?l.get(m,u):0,x=A&&S?l.get(m,u+1):0,E=d&&M?l.get(m+1,u):0,T=d&&S?l.get(m+1,u+1):0;return(1-y)*((1-v)*R+v*E)+y*((1-v)*x+v*T)}function r(l,c,f,m){var v=Math.floor(c),A=c-v,d=0<=v&&v<l.shape[0],u=0<=v+1&&v+1<l.shape[0],y=Math.floor(f),M=f-y,S=0<=y&&y<l.shape[1],R=0<=y+1&&y+1<l.shape[1],x=Math.floor(m),E=m-x,T=0<=x&&x<l.shape[2],i=0<=x+1&&x+1<l.shape[2],D=d&&S&&T?l.get(v,y,x):0,b=d&&R&&T?l.get(v,y+1,x):0,O=u&&S&&T?l.get(v+1,y,x):0,F=u&&R&&T?l.get(v+1,y+1,x):0,V=d&&S&&i?l.get(v,y,x+1):0,_=d&&R&&i?l.get(v,y+1,x+1):0,U=u&&S&&i?l.get(v+1,y,x+1):0,H=u&&R&&i?l.get(v+1,y+1,x+1):0;return(1-E)*((1-M)*((1-A)*D+A*O)+M*((1-A)*b+A*F))+E*((1-M)*((1-A)*V+A*U)+M*((1-A)*_+A*H))}function s(l){var c=l.shape.length|0,f=new Array(c),m=new Array(c),v=new Array(c),A=new Array(c),d,u;for(d=0;d<c;++d)u=+arguments[d+1],f[d]=Math.floor(u),m[d]=u-f[d],v[d]=0<=f[d]&&f[d]<l.shape[d],A[d]=0<=f[d]+1&&f[d]+1<l.shape[d];var y=0,M,S,R;e:for(d=0;d<1<<c;++d){for(S=1,R=l.offset,M=0;M<c;++M)if(d&1<<M){if(!A[M])continue e;S*=m[M],R+=l.stride[M]*(f[M]+1)}else{if(!v[M])continue e;S*=1-m[M],R+=l.stride[M]*f[M]}y+=S*l.data[R]}return y}function n(l,c,f,m){switch(l.shape.length){case 0:return 0;case 1:return g(l,c);case 2:return t(l,c,f);case 3:return r(l,c,f,m);default:return s.apply(void 0,arguments)}}h.exports=n,h.exports.d1=g,h.exports.d2=t,h.exports.d3=r},7498:function(h,g){var t={"float64,2,1,0":function(){return function(v,A,d,u,y){var M=v[0],S=v[1],R=v[2],x=d[0],E=d[1],T=d[2];u|=0;var i=0,D=0,b=0,O=T,F=E-R*T,V=x-S*E;for(b=0;b<M;++b){for(D=0;D<S;++D){for(i=0;i<R;++i)A[u]/=y,u+=O;u+=F}u+=V}}},"uint8,2,0,1,float64,2,1,0":function(){return function(v,A,d,u,y,M,S,R){var x=v[0],E=v[1],T=v[2],i=d[0],D=d[1],b=d[2],O=M[0],F=M[1],V=M[2];u|=0,S|=0;for(var _=u,U=S,H=v[0]|0;H>0;){H<64?(x=H,H=0):(x=64,H-=64);for(var z=v[1]|0;z>0;){z<64?(E=z,z=0):(E=64,z-=64),u=_+H*i+z*D,S=U+H*O+z*F;var G=0,Y=0,J=0,ae=b,oe=i-T*b,he=D-x*i,q=V,Z=O-T*V,$=F-x*O;for(J=0;J<E;++J){for(Y=0;Y<x;++Y){for(G=0;G<T;++G)A[u]=y[S]*R,u+=ae,S+=q;u+=oe,S+=Z}u+=he,S+=$}}}}},"float32,1,0,float32,1,0":function(){return function(v,A,d,u,y,M,S){var R=v[0],x=v[1],E=d[0],T=d[1],i=M[0],D=M[1];u|=0,S|=0;var b=0,O=0,F=T,V=E-x*T,_=D,U=i-x*D;for(O=0;O<R;++O){for(b=0;b<x;++b)A[u]=y[S],u+=F,S+=_;u+=V,S+=U}}},"float32,1,0,float32,0,1":function(){return function(v,A,d,u,y,M,S){var R=v[0],x=v[1],E=d[0],T=d[1],i=M[0],D=M[1];u|=0,S|=0;for(var b=u,O=S,F=v[1]|0;F>0;){F<64?(x=F,F=0):(x=64,F-=64);for(var V=v[0]|0;V>0;){V<64?(R=V,V=0):(R=64,V-=64),u=b+F*T+V*E,S=O+F*D+V*i;var _=0,U=0,H=T,z=E-x*T,G=D,Y=i-x*D;for(U=0;U<R;++U){for(_=0;_<x;++_)A[u]=y[S],u+=H,S+=G;u+=z,S+=Y}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(v,A,d,u,y,M,S){var R=v[0],x=v[1],E=v[2],T=d[0],i=d[1],D=d[2],b=M[0],O=M[1],F=M[2];u|=0,S|=0;for(var V=u,_=S,U=v[2]|0;U>0;){U<64?(E=U,U=0):(E=64,U-=64);for(var H=v[0]|0;H>0;){H<64?(R=H,H=0):(R=64,H-=64);for(var z=v[1]|0;z>0;){z<64?(x=z,z=0):(x=64,z-=64),u=V+U*D+H*T+z*i,S=_+U*F+H*b+z*O;var G=0,Y=0,J=0,ae=D,oe=T-E*D,he=i-R*T,q=F,Z=b-E*F,$=O-R*b;for(J=0;J<x;++J){for(Y=0;Y<R;++Y){for(G=0;G<E;++G)A[u]=y[S],u+=ae,S+=q;u+=oe,S+=Z}u+=he,S+=$}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(v,A,d,u,y,M,S){var R=v[0],x=v[1],E=v[2],T=d[0],i=d[1],D=d[2],b=M[0],O=M[1],F=M[2];u|=0,S|=0;var V=0,_=0,U=0,H=D,z=T-E*D,G=i-R*T,Y=F,J=b-E*F,ae=O-R*b;for(U=0;U<x;++U){for(_=0;_<R;++_){for(V=0;V<E;++V)A[u]=y[S],u+=H,S+=Y;u+=z,S+=J}u+=G,S+=ae}}}};function r(m,v){var A=v.join(","),d=t[A];return d()}var s=r,n={mul:function(m){var v={};return function(d,u,y){var M=d.dtype,S=d.order,R=u.dtype,x=u.order,E=y.dtype,T=y.order,i=[M,S.join(),R,x.join(),E,T.join()].join(),D=v[i];return D||(v[i]=D=m([M,S,R,x,E,T])),D(d.shape.slice(0),d.data,d.stride,d.offset|0,u.data,u.stride,u.offset|0,y.data,y.stride,y.offset|0)}},muls:function(m){var v={};return function(d,u,y){var M=d.dtype,S=d.order,R=u.dtype,x=u.order,E=[M,S.join(),R,x.join()].join(),T=v[E];return T||(v[E]=T=m([M,S,R,x])),T(d.shape.slice(0),d.data,d.stride,d.offset|0,u.data,u.stride,u.offset|0,y)}},mulseq:function(m){var v={};return function(d,u){var y=d.dtype,M=d.order,S=[y,M.join()].join(),R=v[S];return R||(v[S]=R=m([y,M])),R(d.shape.slice(0),d.data,d.stride,d.offset|0,u)}},div:function(m){var v={};return function(d,u,y){var M=d.dtype,S=d.order,R=u.dtype,x=u.order,E=y.dtype,T=y.order,i=[M,S.join(),R,x.join(),E,T.join()].join(),D=v[i];return D||(v[i]=D=m([M,S,R,x,E,T])),D(d.shape.slice(0),d.data,d.stride,d.offset|0,u.data,u.stride,u.offset|0,y.data,y.stride,y.offset|0)}},divs:function(m){var v={};return function(d,u,y){var M=d.dtype,S=d.order,R=u.dtype,x=u.order,E=[M,S.join(),R,x.join()].join(),T=v[E];return T||(v[E]=T=m([M,S,R,x])),T(d.shape.slice(0),d.data,d.stride,d.offset|0,u.data,u.stride,u.offset|0,y)}},divseq:function(m){var v={};return function(d,u){var y=d.dtype,M=d.order,S=[y,M.join()].join(),R=v[S];return R||(v[S]=R=m([y,M])),R(d.shape.slice(0),d.data,d.stride,d.offset|0,u)}},assign:function(m){var v={};return function(d,u){var y=d.dtype,M=d.order,S=u.dtype,R=u.order,x=[y,M.join(),S,R.join()].join(),E=v[x];return E||(v[x]=E=m([y,M,S,R])),E(d.shape.slice(0),d.data,d.stride,d.offset|0,u.data,u.stride,u.offset|0)}}};function l(m){var v=n[m.funcName];return v(s.bind(void 0,m))}function c(m){return l({funcName:m.funcName})}var f={mul:"*",div:"/"};(function(){for(var m in f)g[m]=c({funcName:m}),g[m+"s"]=c({funcName:m+"s"}),g[m+"seq"]=c({funcName:m+"seq"})})(),g.assign=c({funcName:"assign"})},7382:function(h,g,t){var r=t(5050),s=t(9262);h.exports=function(l,c){for(var f=[],m=l,v=1;Array.isArray(m);)f.push(m.length),v*=m.length,m=m[0];return f.length===0?r():(c||(c=r(new Float64Array(v),f)),s(c,l),c)}},9262:function(h){function g(){return function(c,f,m,v,A){var d=c[0],u=c[1],y=c[2],M=m[0],S=m[1],R=m[2],x=[0,0,0];v|=0;var E=0,T=0,i=0,D=R,b=S-y*R,O=M-u*S;for(i=0;i<d;++i){for(T=0;T<u;++T){for(E=0;E<y;++E){{var F=A,V;for(V=0;V<x.length-1;++V)F=F[x[V]];f[v]=F[x[x.length-1]]}v+=D,++x[2]}v+=b,x[2]-=y,++x[1]}v+=O,x[1]-=u,++x[0]}}}function t(){return g()}var r=t;function s(c){var f={};return function(v,A){var d=v.dtype,u=v.order,y=[d,u.join()].join(),M=f[y];return M||(f[y]=M=c([d,u])),M(v.shape.slice(0),v.data,v.stride,v.offset|0,A)}}function n(c){return s(r.bind(void 0,c))}function l(c){return n({funcName:c.funcName})}h.exports=l({funcName:"convert"})},8139:function(h,g,t){var r=t(5306);function s(A){switch(A){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var n={"uint32,1,0":function(A,d){return function(y,M,S,R,x,E,T,i,D,b,O){var F,V,_,U=y*x+R,H,z=A(i),G,Y,J,ae;for(F=y+1;F<=M;++F){for(V=F,U+=x,_=U,G=0,Y=U,H=0;H<i;++H)z[G++]=S[Y],Y+=D;e:for(;V-- >y;){G=0,Y=_-x;t:for(H=0;H<i;++H){if(J=S[Y],ae=z[G],J<ae)break e;if(J>ae)break t;Y+=b,G+=O}for(G=_,Y=_-x,H=0;H<i;++H)S[G]=S[Y],G+=D,Y+=D;_-=x}for(G=_,Y=0,H=0;H<i;++H)S[G]=z[Y++],G+=D}d(z)}}};function l(A,d){var u=s(d),y=[d,A].join(","),M=n[y];return u?M(u[0],u[1]):M()}var c={"uint32,1,0":function(A,d,u){return function y(M,S,R,x,E,T,i,D,b,O,F){var V=(S-M+1)/6|0,_=M+V,U=S-V,H=M+S>>1,z=H-V,G=H+V,Y=_,J=z,ae=H,oe=G,he=U,q=M+1,Z=S-1,$=!0,K,re,le,te,ee,ue,se,ve,be,Ee=0,Ae=0,Oe=0,Ue,Le,we,Ce,Ve,Ne,ke,We,rt,et,tt,at,ct,dt,gt,Et,Ct=D,Vt=d(Ct),Je=d(Ct);Le=E*Y,we=E*J,Et=x;e:for(Ue=0;Ue<D;++Ue){if(se=Le+Et,ve=we+Et,Oe=R[se]-R[ve],Oe>0){re=Y,Y=J,J=re;break e}if(Oe<0)break e;Et+=O}Le=E*oe,we=E*he,Et=x;e:for(Ue=0;Ue<D;++Ue){if(se=Le+Et,ve=we+Et,Oe=R[se]-R[ve],Oe>0){re=oe,oe=he,he=re;break e}if(Oe<0)break e;Et+=O}Le=E*Y,we=E*ae,Et=x;e:for(Ue=0;Ue<D;++Ue){if(se=Le+Et,ve=we+Et,Oe=R[se]-R[ve],Oe>0){re=Y,Y=ae,ae=re;break e}if(Oe<0)break e;Et+=O}Le=E*J,we=E*ae,Et=x;e:for(Ue=0;Ue<D;++Ue){if(se=Le+Et,ve=we+Et,Oe=R[se]-R[ve],Oe>0){re=J,J=ae,ae=re;break e}if(Oe<0)break e;Et+=O}Le=E*Y,we=E*oe,Et=x;e:for(Ue=0;Ue<D;++Ue){if(se=Le+Et,ve=we+Et,Oe=R[se]-R[ve],Oe>0){re=Y,Y=oe,oe=re;break e}if(Oe<0)break e;Et+=O}Le=E*ae,we=E*oe,Et=x;e:for(Ue=0;Ue<D;++Ue){if(se=Le+Et,ve=we+Et,Oe=R[se]-R[ve],Oe>0){re=ae,ae=oe,oe=re;break e}if(Oe<0)break e;Et+=O}Le=E*J,we=E*he,Et=x;e:for(Ue=0;Ue<D;++Ue){if(se=Le+Et,ve=we+Et,Oe=R[se]-R[ve],Oe>0){re=J,J=he,he=re;break e}if(Oe<0)break e;Et+=O}Le=E*J,we=E*ae,Et=x;e:for(Ue=0;Ue<D;++Ue){if(se=Le+Et,ve=we+Et,Oe=R[se]-R[ve],Oe>0){re=J,J=ae,ae=re;break e}if(Oe<0)break e;Et+=O}Le=E*oe,we=E*he,Et=x;e:for(Ue=0;Ue<D;++Ue){if(se=Le+Et,ve=we+Et,Oe=R[se]-R[ve],Oe>0){re=oe,oe=he,he=re;break e}if(Oe<0)break e;Et+=O}for(Le=E*Y,we=E*J,Ce=E*ae,Ve=E*oe,Ne=E*he,ke=E*_,We=E*H,rt=E*U,gt=0,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,be=Ce+Et,et=Ve+Et,tt=Ne+Et,at=ke+Et,ct=We+Et,dt=rt+Et,Vt[gt]=R[ve],Je[gt]=R[et],$=$&&Vt[gt]===Je[gt],le=R[se],te=R[be],ee=R[tt],R[at]=le,R[ct]=te,R[dt]=ee,++gt,Et+=b;for(Le=E*z,we=E*M,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,R[se]=R[ve],Et+=b;for(Le=E*G,we=E*S,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,R[se]=R[ve],Et+=b;if($)for(ue=q;ue<=Z;++ue){se=x+ue*E,gt=0;e:for(Ue=0;Ue<D;++Ue){if(Oe=R[se]-Vt[gt],Oe!==0)break e;gt+=F,se+=O}if(Oe!==0)if(Oe<0){if(ue!==q)for(Le=E*ue,we=E*q,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,K=R[se],R[se]=R[ve],R[ve]=K,Et+=b;++q}else for(;;){se=x+Z*E,gt=0;e:for(Ue=0;Ue<D;++Ue){if(Oe=R[se]-Vt[gt],Oe!==0)break e;gt+=F,se+=O}if(Oe>0)Z--;else if(Oe<0){for(Le=E*ue,we=E*q,Ce=E*Z,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,be=Ce+Et,K=R[se],R[se]=R[ve],R[ve]=R[be],R[be]=K,Et+=b;++q,--Z;break}else{for(Le=E*ue,we=E*Z,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,K=R[se],R[se]=R[ve],R[ve]=K,Et+=b;--Z;break}}}else for(ue=q;ue<=Z;++ue){se=x+ue*E,gt=0;e:for(Ue=0;Ue<D;++Ue){if(Ee=R[se]-Vt[gt],Ee!==0)break e;gt+=F,se+=O}if(Ee<0){if(ue!==q)for(Le=E*ue,we=E*q,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,K=R[se],R[se]=R[ve],R[ve]=K,Et+=b;++q}else{se=x+ue*E,gt=0;e:for(Ue=0;Ue<D;++Ue){if(Ae=R[se]-Je[gt],Ae!==0)break e;gt+=F,se+=O}if(Ae>0)for(;;){se=x+Z*E,gt=0;e:for(Ue=0;Ue<D;++Ue){if(Oe=R[se]-Je[gt],Oe!==0)break e;gt+=F,se+=O}if(Oe>0){if(--Z<ue)break;continue}else{se=x+Z*E,gt=0;e:for(Ue=0;Ue<D;++Ue){if(Oe=R[se]-Vt[gt],Oe!==0)break e;gt+=F,se+=O}if(Oe<0){for(Le=E*ue,we=E*q,Ce=E*Z,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,be=Ce+Et,K=R[se],R[se]=R[ve],R[ve]=R[be],R[be]=K,Et+=b;++q,--Z}else{for(Le=E*ue,we=E*Z,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,K=R[se],R[se]=R[ve],R[ve]=K,Et+=b;--Z}break}}}}for(Le=E*M,we=E*(q-1),gt=0,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,R[se]=R[ve],R[ve]=Vt[gt],++gt,Et+=b;for(Le=E*S,we=E*(Z+1),gt=0,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,R[se]=R[ve],R[ve]=Je[gt],++gt,Et+=b;if(q-2-M<=32?A(M,q-2,R,x,E,T,i,D,b,O,F):y(M,q-2,R,x,E,T,i,D,b,O,F),S-(Z+2)<=32?A(Z+2,S,R,x,E,T,i,D,b,O,F):y(Z+2,S,R,x,E,T,i,D,b,O,F),$){u(Vt),u(Je);return}if(q<_&&Z>U){e:for(;;){for(se=x+q*E,gt=0,Et=x,Ue=0;Ue<D;++Ue){if(R[se]!==Vt[gt])break e;++gt,se+=b}++q}e:for(;;){for(se=x+Z*E,gt=0,Et=x,Ue=0;Ue<D;++Ue){if(R[se]!==Je[gt])break e;++gt,se+=b}--Z}for(ue=q;ue<=Z;++ue){se=x+ue*E,gt=0;e:for(Ue=0;Ue<D;++Ue){if(Ee=R[se]-Vt[gt],Ee!==0)break e;gt+=F,se+=O}if(Ee===0){if(ue!==q)for(Le=E*ue,we=E*q,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,K=R[se],R[se]=R[ve],R[ve]=K,Et+=b;++q}else{se=x+ue*E,gt=0;e:for(Ue=0;Ue<D;++Ue){if(Ae=R[se]-Je[gt],Ae!==0)break e;gt+=F,se+=O}if(Ae===0)for(;;){se=x+Z*E,gt=0;e:for(Ue=0;Ue<D;++Ue){if(Oe=R[se]-Je[gt],Oe!==0)break e;gt+=F,se+=O}if(Oe===0){if(--Z<ue)break;continue}else{se=x+Z*E,gt=0;e:for(Ue=0;Ue<D;++Ue){if(Oe=R[se]-Vt[gt],Oe!==0)break e;gt+=F,se+=O}if(Oe<0){for(Le=E*ue,we=E*q,Ce=E*Z,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,be=Ce+Et,K=R[se],R[se]=R[ve],R[ve]=R[be],R[be]=K,Et+=b;++q,--Z}else{for(Le=E*ue,we=E*Z,Et=x,Ue=0;Ue<D;++Ue)se=Le+Et,ve=we+Et,K=R[se],R[se]=R[ve],R[ve]=K,Et+=b;--Z}break}}}}}u(Vt),u(Je),Z-q<=32?A(q,Z,R,x,E,T,i,D,b,O,F):y(q,Z,R,x,E,T,i,D,b,O,F)}}};function f(A,d,u){var y=s(d),M=[d,A].join(","),S=c[M];return A.length>1&&y?S(u,y[0],y[1]):S(u)}var m={"uint32,1,0":function(A,d){return function(u){var y=u.data,M=u.offset|0,S=u.shape,R=u.stride,x=R[0]|0,E=S[0]|0,T=R[1]|0,i=S[1]|0,D=T,b=T,O=1;E<=32?A(0,E-1,y,M,x,T,E,i,D,b,O):d(0,E-1,y,M,x,T,E,i,D,b,O)}}};function v(A,d){var u=[d,A].join(","),y=m[u],M=l(A,d),S=f(A,d,M);return y(M,S)}h.exports=v},8729:function(h,g,t){var r=t(8139),s={};function n(l){var c=l.order,f=l.dtype,m=[c,f],v=m.join(":"),A=s[v];return A||(s[v]=A=r(c,f)),A(l),l}h.exports=n},5050:function(h,g,t){var r=t(4780),s=typeof Float64Array<"u";function n(d,u){return d[0]-u[0]}function l(){var d=this.stride,u=new Array(d.length),y;for(y=0;y<u.length;++y)u[y]=[Math.abs(d[y]),y];u.sort(n);var M=new Array(u.length);for(y=0;y<M.length;++y)M[y]=u[y][1];return M}var c={T:function(d){function u(M){this.data=M}var y=u.prototype;return y.dtype=d,y.index=function(){return-1},y.size=0,y.dimension=-1,y.shape=y.stride=y.order=[],y.lo=y.hi=y.transpose=y.step=function(){return new u(this.data)},y.get=y.set=function(){},y.pick=function(){return null},function(S){return new u(S)}},0:function(d,u){function y(S,R){this.data=S,this.offset=R}var M=y.prototype;return M.dtype=d,M.index=function(){return this.offset},M.dimension=0,M.size=1,M.shape=M.stride=M.order=[],M.lo=M.hi=M.transpose=M.step=function(){return new y(this.data,this.offset)},M.pick=function(){return u(this.data)},M.valueOf=M.get=function(){return d==="generic"?this.data.get(this.offset):this.data[this.offset]},M.set=function(R){return d==="generic"?this.data.set(this.offset,R):this.data[this.offset]=R},function(R,x,E,T){return new y(R,T)}},1:function(d,u,y){function M(R,x,E,T){this.data=R,this.shape=[x],this.stride=[E],this.offset=T|0}var S=M.prototype;return S.dtype=d,S.dimension=1,Object.defineProperty(S,"size",{get:function(){return this.shape[0]}}),S.order=[0],S.set=function(x,E){return d==="generic"?this.data.set(this.offset+this.stride[0]*x,E):this.data[this.offset+this.stride[0]*x]=E},S.get=function(x){return d==="generic"?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},S.index=function(x){return this.offset+this.stride[0]*x},S.hi=function(x){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,this.stride[0],this.offset)},S.lo=function(x){var E=this.offset,T=0,i=this.shape[0],D=this.stride[0];return typeof x=="number"&&x>=0&&(T=x|0,E+=D*T,i-=T),new M(this.data,i,D,E)},S.step=function(x){var E=this.shape[0],T=this.stride[0],i=this.offset,D=0,b=Math.ceil;return typeof x=="number"&&(D=x|0,D<0?(i+=T*(E-1),E=b(-E/D)):E=b(E/D),T*=D),new M(this.data,E,T,i)},S.transpose=function(x){x=x===void 0?0:x|0;var E=this.shape,T=this.stride;return new M(this.data,E[x],T[x],this.offset)},S.pick=function(x){var E=[],T=[],i=this.offset;typeof x=="number"&&x>=0?i=i+this.stride[0]*x|0:(E.push(this.shape[0]),T.push(this.stride[0]));var D=u[E.length+1];return D(this.data,E,T,i)},function(x,E,T,i){return new M(x,E[0],T[0],i)}},2:function(d,u,y){function M(R,x,E,T,i,D){this.data=R,this.shape=[x,E],this.stride=[T,i],this.offset=D|0}var S=M.prototype;return S.dtype=d,S.dimension=2,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(S,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),S.set=function(x,E,T){return d==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E,T):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]=T},S.get=function(x,E){return d==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]},S.index=function(x,E){return this.offset+this.stride[0]*x+this.stride[1]*E},S.hi=function(x,E){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},S.lo=function(x,E){var T=this.offset,i=0,D=this.shape[0],b=this.shape[1],O=this.stride[0],F=this.stride[1];return typeof x=="number"&&x>=0&&(i=x|0,T+=O*i,D-=i),typeof E=="number"&&E>=0&&(i=E|0,T+=F*i,b-=i),new M(this.data,D,b,O,F,T)},S.step=function(x,E){var T=this.shape[0],i=this.shape[1],D=this.stride[0],b=this.stride[1],O=this.offset,F=0,V=Math.ceil;return typeof x=="number"&&(F=x|0,F<0?(O+=D*(T-1),T=V(-T/F)):T=V(T/F),D*=F),typeof E=="number"&&(F=E|0,F<0?(O+=b*(i-1),i=V(-i/F)):i=V(i/F),b*=F),new M(this.data,T,i,D,b,O)},S.transpose=function(x,E){x=x===void 0?0:x|0,E=E===void 0?1:E|0;var T=this.shape,i=this.stride;return new M(this.data,T[x],T[E],i[x],i[E],this.offset)},S.pick=function(x,E){var T=[],i=[],D=this.offset;typeof x=="number"&&x>=0?D=D+this.stride[0]*x|0:(T.push(this.shape[0]),i.push(this.stride[0])),typeof E=="number"&&E>=0?D=D+this.stride[1]*E|0:(T.push(this.shape[1]),i.push(this.stride[1]));var b=u[T.length+1];return b(this.data,T,i,D)},function(x,E,T,i){return new M(x,E[0],E[1],T[0],T[1],i)}},3:function(d,u,y){function M(R,x,E,T,i,D,b,O){this.data=R,this.shape=[x,E,T],this.stride=[i,D,b],this.offset=O|0}var S=M.prototype;return S.dtype=d,S.dimension=3,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(S,"order",{get:function(){var x=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),T=Math.abs(this.stride[2]);return x>E?E>T?[2,1,0]:x>T?[1,2,0]:[1,0,2]:x>T?[2,0,1]:T>E?[0,1,2]:[0,2,1]}}),S.set=function(x,E,T,i){return d==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T,i):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T]=i},S.get=function(x,E,T){return d==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T]},S.index=function(x,E,T){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T},S.hi=function(x,E,T){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof T!="number"||T<0?this.shape[2]:T|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},S.lo=function(x,E,T){var i=this.offset,D=0,b=this.shape[0],O=this.shape[1],F=this.shape[2],V=this.stride[0],_=this.stride[1],U=this.stride[2];return typeof x=="number"&&x>=0&&(D=x|0,i+=V*D,b-=D),typeof E=="number"&&E>=0&&(D=E|0,i+=_*D,O-=D),typeof T=="number"&&T>=0&&(D=T|0,i+=U*D,F-=D),new M(this.data,b,O,F,V,_,U,i)},S.step=function(x,E,T){var i=this.shape[0],D=this.shape[1],b=this.shape[2],O=this.stride[0],F=this.stride[1],V=this.stride[2],_=this.offset,U=0,H=Math.ceil;return typeof x=="number"&&(U=x|0,U<0?(_+=O*(i-1),i=H(-i/U)):i=H(i/U),O*=U),typeof E=="number"&&(U=E|0,U<0?(_+=F*(D-1),D=H(-D/U)):D=H(D/U),F*=U),typeof T=="number"&&(U=T|0,U<0?(_+=V*(b-1),b=H(-b/U)):b=H(b/U),V*=U),new M(this.data,i,D,b,O,F,V,_)},S.transpose=function(x,E,T){x=x===void 0?0:x|0,E=E===void 0?1:E|0,T=T===void 0?2:T|0;var i=this.shape,D=this.stride;return new M(this.data,i[x],i[E],i[T],D[x],D[E],D[T],this.offset)},S.pick=function(x,E,T){var i=[],D=[],b=this.offset;typeof x=="number"&&x>=0?b=b+this.stride[0]*x|0:(i.push(this.shape[0]),D.push(this.stride[0])),typeof E=="number"&&E>=0?b=b+this.stride[1]*E|0:(i.push(this.shape[1]),D.push(this.stride[1])),typeof T=="number"&&T>=0?b=b+this.stride[2]*T|0:(i.push(this.shape[2]),D.push(this.stride[2]));var O=u[i.length+1];return O(this.data,i,D,b)},function(x,E,T,i){return new M(x,E[0],E[1],E[2],T[0],T[1],T[2],i)}},4:function(d,u,y){function M(R,x,E,T,i,D,b,O,F,V){this.data=R,this.shape=[x,E,T,i],this.stride=[D,b,O,F],this.offset=V|0}var S=M.prototype;return S.dtype=d,S.dimension=4,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(S,"order",{get:y}),S.set=function(x,E,T,i,D){return d==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T+this.stride[3]*i,D):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T+this.stride[3]*i]=D},S.get=function(x,E,T,i){return d==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T+this.stride[3]*i):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T+this.stride[3]*i]},S.index=function(x,E,T,i){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T+this.stride[3]*i},S.hi=function(x,E,T,i){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof T!="number"||T<0?this.shape[2]:T|0,typeof i!="number"||i<0?this.shape[3]:i|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},S.lo=function(x,E,T,i){var D=this.offset,b=0,O=this.shape[0],F=this.shape[1],V=this.shape[2],_=this.shape[3],U=this.stride[0],H=this.stride[1],z=this.stride[2],G=this.stride[3];return typeof x=="number"&&x>=0&&(b=x|0,D+=U*b,O-=b),typeof E=="number"&&E>=0&&(b=E|0,D+=H*b,F-=b),typeof T=="number"&&T>=0&&(b=T|0,D+=z*b,V-=b),typeof i=="number"&&i>=0&&(b=i|0,D+=G*b,_-=b),new M(this.data,O,F,V,_,U,H,z,G,D)},S.step=function(x,E,T,i){var D=this.shape[0],b=this.shape[1],O=this.shape[2],F=this.shape[3],V=this.stride[0],_=this.stride[1],U=this.stride[2],H=this.stride[3],z=this.offset,G=0,Y=Math.ceil;return typeof x=="number"&&(G=x|0,G<0?(z+=V*(D-1),D=Y(-D/G)):D=Y(D/G),V*=G),typeof E=="number"&&(G=E|0,G<0?(z+=_*(b-1),b=Y(-b/G)):b=Y(b/G),_*=G),typeof T=="number"&&(G=T|0,G<0?(z+=U*(O-1),O=Y(-O/G)):O=Y(O/G),U*=G),typeof i=="number"&&(G=i|0,G<0?(z+=H*(F-1),F=Y(-F/G)):F=Y(F/G),H*=G),new M(this.data,D,b,O,F,V,_,U,H,z)},S.transpose=function(x,E,T,i){x=x===void 0?0:x|0,E=E===void 0?1:E|0,T=T===void 0?2:T|0,i=i===void 0?3:i|0;var D=this.shape,b=this.stride;return new M(this.data,D[x],D[E],D[T],D[i],b[x],b[E],b[T],b[i],this.offset)},S.pick=function(x,E,T,i){var D=[],b=[],O=this.offset;typeof x=="number"&&x>=0?O=O+this.stride[0]*x|0:(D.push(this.shape[0]),b.push(this.stride[0])),typeof E=="number"&&E>=0?O=O+this.stride[1]*E|0:(D.push(this.shape[1]),b.push(this.stride[1])),typeof T=="number"&&T>=0?O=O+this.stride[2]*T|0:(D.push(this.shape[2]),b.push(this.stride[2])),typeof i=="number"&&i>=0?O=O+this.stride[3]*i|0:(D.push(this.shape[3]),b.push(this.stride[3]));var F=u[D.length+1];return F(this.data,D,b,O)},function(x,E,T,i){return new M(x,E[0],E[1],E[2],E[3],T[0],T[1],T[2],T[3],i)}},5:function(u,y,M){function S(x,E,T,i,D,b,O,F,V,_,U,H){this.data=x,this.shape=[E,T,i,D,b],this.stride=[O,F,V,_,U],this.offset=H|0}var R=S.prototype;return R.dtype=u,R.dimension=5,Object.defineProperty(R,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(R,"order",{get:M}),R.set=function(E,T,i,D,b,O){return u==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*T+this.stride[2]*i+this.stride[3]*D+this.stride[4]*b,O):this.data[this.offset+this.stride[0]*E+this.stride[1]*T+this.stride[2]*i+this.stride[3]*D+this.stride[4]*b]=O},R.get=function(E,T,i,D,b){return u==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*T+this.stride[2]*i+this.stride[3]*D+this.stride[4]*b):this.data[this.offset+this.stride[0]*E+this.stride[1]*T+this.stride[2]*i+this.stride[3]*D+this.stride[4]*b]},R.index=function(E,T,i,D,b){return this.offset+this.stride[0]*E+this.stride[1]*T+this.stride[2]*i+this.stride[3]*D+this.stride[4]*b},R.hi=function(E,T,i,D,b){return new S(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof T!="number"||T<0?this.shape[1]:T|0,typeof i!="number"||i<0?this.shape[2]:i|0,typeof D!="number"||D<0?this.shape[3]:D|0,typeof b!="number"||b<0?this.shape[4]:b|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},R.lo=function(E,T,i,D,b){var O=this.offset,F=0,V=this.shape[0],_=this.shape[1],U=this.shape[2],H=this.shape[3],z=this.shape[4],G=this.stride[0],Y=this.stride[1],J=this.stride[2],ae=this.stride[3],oe=this.stride[4];return typeof E=="number"&&E>=0&&(F=E|0,O+=G*F,V-=F),typeof T=="number"&&T>=0&&(F=T|0,O+=Y*F,_-=F),typeof i=="number"&&i>=0&&(F=i|0,O+=J*F,U-=F),typeof D=="number"&&D>=0&&(F=D|0,O+=ae*F,H-=F),typeof b=="number"&&b>=0&&(F=b|0,O+=oe*F,z-=F),new S(this.data,V,_,U,H,z,G,Y,J,ae,oe,O)},R.step=function(E,T,i,D,b){var O=this.shape[0],F=this.shape[1],V=this.shape[2],_=this.shape[3],U=this.shape[4],H=this.stride[0],z=this.stride[1],G=this.stride[2],Y=this.stride[3],J=this.stride[4],ae=this.offset,oe=0,he=Math.ceil;return typeof E=="number"&&(oe=E|0,oe<0?(ae+=H*(O-1),O=he(-O/oe)):O=he(O/oe),H*=oe),typeof T=="number"&&(oe=T|0,oe<0?(ae+=z*(F-1),F=he(-F/oe)):F=he(F/oe),z*=oe),typeof i=="number"&&(oe=i|0,oe<0?(ae+=G*(V-1),V=he(-V/oe)):V=he(V/oe),G*=oe),typeof D=="number"&&(oe=D|0,oe<0?(ae+=Y*(_-1),_=he(-_/oe)):_=he(_/oe),Y*=oe),typeof b=="number"&&(oe=b|0,oe<0?(ae+=J*(U-1),U=he(-U/oe)):U=he(U/oe),J*=oe),new S(this.data,O,F,V,_,U,H,z,G,Y,J,ae)},R.transpose=function(E,T,i,D,b){E=E===void 0?0:E|0,T=T===void 0?1:T|0,i=i===void 0?2:i|0,D=D===void 0?3:D|0,b=b===void 0?4:b|0;var O=this.shape,F=this.stride;return new S(this.data,O[E],O[T],O[i],O[D],O[b],F[E],F[T],F[i],F[D],F[b],this.offset)},R.pick=function(E,T,i,D,b){var O=[],F=[],V=this.offset;typeof E=="number"&&E>=0?V=V+this.stride[0]*E|0:(O.push(this.shape[0]),F.push(this.stride[0])),typeof T=="number"&&T>=0?V=V+this.stride[1]*T|0:(O.push(this.shape[1]),F.push(this.stride[1])),typeof i=="number"&&i>=0?V=V+this.stride[2]*i|0:(O.push(this.shape[2]),F.push(this.stride[2])),typeof D=="number"&&D>=0?V=V+this.stride[3]*D|0:(O.push(this.shape[3]),F.push(this.stride[3])),typeof b=="number"&&b>=0?V=V+this.stride[4]*b|0:(O.push(this.shape[4]),F.push(this.stride[4]));var _=y[O.length+1];return _(this.data,O,F,V)},function(E,T,i,D){return new S(E,T[0],T[1],T[2],T[3],T[4],i[0],i[1],i[2],i[3],i[4],D)}}};function f(d,u){var y=u===-1?"T":String(u),M=c[y];return u===-1?M(d):u===0?M(d,v[d][0]):M(d,v[d],l)}function m(d){if(r(d))return"buffer";if(s)switch(Object.prototype.toString.call(d)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(d)?"array":"generic"}var v={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function A(d,u,y,M){if(d===void 0){var i=v.array[0];return i([])}else typeof d=="number"&&(d=[d]);u===void 0&&(u=[d.length]);var S=u.length;if(y===void 0){y=new Array(S);for(var R=S-1,x=1;R>=0;--R)y[R]=x,x*=u[R]}if(M===void 0){M=0;for(var R=0;R<S;++R)y[R]<0&&(M-=(u[R]-1)*y[R])}for(var E=m(d),T=v[E];T.length<=S+1;)T.push(f(E,T.length-1));var i=T[S+1];return i(d,u,y,M)}h.exports=A},8551:function(h,g,t){var r=t(8362),s=Math.pow(2,-1074),n=-1>>>0;h.exports=l;function l(c,f){if(isNaN(c)||isNaN(f))return NaN;if(c===f)return c;if(c===0)return f<0?-s:s;var m=r.hi(c),v=r.lo(c);return f>c==c>0?v===n?(m+=1,v=0):v+=1:v===0?(v=n,m-=1):v-=1,r.pack(v,m)}},115:function(h,g){var t=1e-6,r=1e-6;g.vertexNormals=function(s,n,l){for(var c=n.length,f=new Array(c),m=l===void 0?t:l,v=0;v<c;++v)f[v]=[0,0,0];for(var v=0;v<s.length;++v)for(var A=s[v],d=0,u=A[A.length-1],y=A[0],M=0;M<A.length;++M){d=u,u=y,y=A[(M+1)%A.length];for(var S=n[d],R=n[u],x=n[y],E=new Array(3),T=0,i=new Array(3),D=0,b=0;b<3;++b)E[b]=S[b]-R[b],T+=E[b]*E[b],i[b]=x[b]-R[b],D+=i[b]*i[b];if(T*D>m)for(var O=f[u],F=1/Math.sqrt(T*D),b=0;b<3;++b){var V=(b+1)%3,_=(b+2)%3;O[b]+=F*(i[V]*E[_]-i[_]*E[V])}}for(var v=0;v<c;++v){for(var O=f[v],U=0,b=0;b<3;++b)U+=O[b]*O[b];if(U>m)for(var F=1/Math.sqrt(U),b=0;b<3;++b)O[b]*=F;else for(var b=0;b<3;++b)O[b]=0}return f},g.faceNormals=function(s,n,l){for(var c=s.length,f=new Array(c),m=l===void 0?r:l,v=0;v<c;++v){for(var A=s[v],d=new Array(3),u=0;u<3;++u)d[u]=n[A[u]];for(var y=new Array(3),M=new Array(3),u=0;u<3;++u)y[u]=d[1][u]-d[0][u],M[u]=d[2][u]-d[0][u];for(var S=new Array(3),R=0,u=0;u<3;++u){var x=(u+1)%3,E=(u+2)%3;S[u]=y[x]*M[E]-y[E]*M[x],R+=S[u]*S[u]}R>m?R=1/Math.sqrt(R):R=0;for(var u=0;u<3;++u)S[u]*=R;f[v]=S}return f}},567:function(h){h.exports=g;function g(t,r,s,n,l,c,f,m,v,A){var d=r+c+A;if(u>0){var u=Math.sqrt(d+1);t[0]=.5*(f-v)/u,t[1]=.5*(m-n)/u,t[2]=.5*(s-c)/u,t[3]=.5*u}else{var y=Math.max(r,c,A),u=Math.sqrt(2*y-d+1);r>=y?(t[0]=.5*u,t[1]=.5*(l+s)/u,t[2]=.5*(m+n)/u,t[3]=.5*(f-v)/u):c>=y?(t[0]=.5*(s+l)/u,t[1]=.5*u,t[2]=.5*(v+f)/u,t[3]=.5*(m-n)/u):(t[0]=.5*(n+m)/u,t[1]=.5*(f+v)/u,t[2]=.5*u,t[3]=.5*(s-l)/u)}return t}},7774:function(h,g,t){h.exports=u;var r=t(8444),s=t(3012),n=t(5950),l=t(7437),c=t(567);function f(y,M,S){return Math.sqrt(Math.pow(y,2)+Math.pow(M,2)+Math.pow(S,2))}function m(y,M,S,R){return Math.sqrt(Math.pow(y,2)+Math.pow(M,2)+Math.pow(S,2)+Math.pow(R,2))}function v(y,M){var S=M[0],R=M[1],x=M[2],E=M[3],T=m(S,R,x,E);T>1e-6?(y[0]=S/T,y[1]=R/T,y[2]=x/T,y[3]=E/T):(y[0]=y[1]=y[2]=0,y[3]=1)}function A(y,M,S){this.radius=r([S]),this.center=r(M),this.rotation=r(y),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var d=A.prototype;d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(y){this.radius.curve(y),this.center.curve(y),this.rotation.curve(y);var M=this.computedRotation;v(M,M);var S=this.computedMatrix;n(S,M);var R=this.computedCenter,x=this.computedEye,E=this.computedUp,T=Math.exp(this.computedRadius[0]);x[0]=R[0]+T*S[2],x[1]=R[1]+T*S[6],x[2]=R[2]+T*S[10],E[0]=S[1],E[1]=S[5],E[2]=S[9];for(var i=0;i<3;++i){for(var D=0,b=0;b<3;++b)D+=S[i+4*b]*x[b];S[12+i]=-D}},d.getMatrix=function(y,M){this.recalcMatrix(y);var S=this.computedMatrix;if(M){for(var R=0;R<16;++R)M[R]=S[R];return M}return S},d.idle=function(y){this.center.idle(y),this.radius.idle(y),this.rotation.idle(y)},d.flush=function(y){this.center.flush(y),this.radius.flush(y),this.rotation.flush(y)},d.pan=function(y,M,S,R){M=M||0,S=S||0,R=R||0,this.recalcMatrix(y);var x=this.computedMatrix,E=x[1],T=x[5],i=x[9],D=f(E,T,i);E/=D,T/=D,i/=D;var b=x[0],O=x[4],F=x[8],V=b*E+O*T+F*i;b-=E*V,O-=T*V,F-=i*V;var _=f(b,O,F);b/=_,O/=_,F/=_,x[2],x[6],x[10];var U=b*M+E*S,H=O*M+T*S,z=F*M+i*S;this.center.move(y,U,H,z);var G=Math.exp(this.computedRadius[0]);G=Math.max(1e-4,G+R),this.radius.set(y,Math.log(G))},d.rotate=function(y,M,S,R){this.recalcMatrix(y),M=M||0,S=S||0;var x=this.computedMatrix,E=x[0],T=x[4],i=x[8],D=x[1],b=x[5],O=x[9],F=x[2],V=x[6],_=x[10],U=M*E+S*D,H=M*T+S*b,z=M*i+S*O,G=-(V*z-_*H),Y=-(_*U-F*z),J=-(F*H-V*U),ae=Math.sqrt(Math.max(0,1-Math.pow(G,2)-Math.pow(Y,2)-Math.pow(J,2))),oe=m(G,Y,J,ae);oe>1e-6?(G/=oe,Y/=oe,J/=oe,ae/=oe):(G=Y=J=0,ae=1);var he=this.computedRotation,q=he[0],Z=he[1],$=he[2],K=he[3],re=q*ae+K*G+Z*J-$*Y,le=Z*ae+K*Y+$*G-q*J,te=$*ae+K*J+q*Y-Z*G,ee=K*ae-q*G-Z*Y-$*J;if(R){G=F,Y=V,J=_;var ue=Math.sin(R)/f(G,Y,J);G*=ue,Y*=ue,J*=ue,ae=Math.cos(M),re=re*ae+ee*G+le*J-te*Y,le=le*ae+ee*Y+te*G-re*J,te=te*ae+ee*J+re*Y-le*G,ee=ee*ae-re*G-le*Y-te*J}var se=m(re,le,te,ee);se>1e-6?(re/=se,le/=se,te/=se,ee/=se):(re=le=te=0,ee=1),this.rotation.set(y,re,le,te,ee)},d.lookAt=function(y,M,S,R){this.recalcMatrix(y),S=S||this.computedCenter,M=M||this.computedEye,R=R||this.computedUp;var x=this.computedMatrix;s(x,M,S,R);var E=this.computedRotation;c(E,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),v(E,E),this.rotation.set(y,E[0],E[1],E[2],E[3]);for(var T=0,i=0;i<3;++i)T+=Math.pow(S[i]-M[i],2);this.radius.set(y,.5*Math.log(Math.max(T,1e-6))),this.center.set(y,S[0],S[1],S[2])},d.translate=function(y,M,S,R){this.center.move(y,M||0,S||0,R||0)},d.setMatrix=function(y,M){var S=this.computedRotation;c(S,M[0],M[1],M[2],M[4],M[5],M[6],M[8],M[9],M[10]),v(S,S),this.rotation.set(y,S[0],S[1],S[2],S[3]);var R=this.computedMatrix;l(R,M);var x=R[15];if(Math.abs(x)>1e-6){var E=R[12]/x,T=R[13]/x,i=R[14]/x;this.recalcMatrix(y);var D=Math.exp(this.computedRadius[0]);this.center.set(y,E-R[2]*D,T-R[6]*D,i-R[10]*D),this.radius.idle(y)}else this.center.idle(y),this.radius.idle(y)},d.setDistance=function(y,M){M>0&&this.radius.set(y,Math.log(M))},d.setDistanceLimits=function(y,M){y>0?y=Math.log(y):y=-1/0,M>0?M=Math.log(M):M=1/0,M=Math.max(M,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=M},d.getDistanceLimits=function(y){var M=this.radius.bounds;return y?(y[0]=Math.exp(M[0][0]),y[1]=Math.exp(M[1][0]),y):[Math.exp(M[0][0]),Math.exp(M[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(y){var M=this.lastT(),S=y.center;S&&this.center.set(M,S[0],S[1],S[2]);var R=y.rotation;R&&this.rotation.set(M,R[0],R[1],R[2],R[3]);var x=y.distance;x&&x>0&&this.radius.set(M,Math.log(x)),this.setDistanceLimits(y.zoomMin,y.zoomMax)};function u(y){y=y||{};var M=y.center||[0,0,0],S=y.rotation||[0,0,0,1],R=y.radius||1;M=[].slice.call(M,0,3),S=[].slice.call(S,0,4),v(S,S);var x=new A(S,M,Math.log(R));return x.setDistanceLimits(y.zoomMin,y.zoomMax),("eye"in y||"up"in y)&&x.lookAt(0,y.eye,y.center,y.up),x}},4930:function(h,g,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);h.exports=function(n,l,c){return c=typeof c<"u"?c+"":" ",r(c,l)+n}},4405:function(h){h.exports=function(t,r){r||(r=[0,""]),t=String(t);var s=parseFloat(t,10);return r[0]=s,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(h,g,t){h.exports=s;var r=t(9398);function s(n,l){for(var c=l.length|0,f=n.length,m=[new Array(c),new Array(c)],v=0;v<c;++v)m[0][v]=[],m[1][v]=[];for(var v=0;v<f;++v){var A=n[v];m[0][A[0]].push(A),m[1][A[1]].push(A)}for(var d=[],v=0;v<c;++v)m[0][v].length+m[1][v].length===0&&d.push([v]);function u(T,i){var D=m[i][T[i]];D.splice(D.indexOf(T),1)}function y(T,i,D){for(var b,O,F,V=0;V<2;++V)if(m[V][i].length>0){b=m[V][i][0],F=V;break}O=b[F^1];for(var _=0;_<2;++_)for(var U=m[_][i],H=0;H<U.length;++H){var z=U[H],G=z[_^1],Y=r(l[T],l[i],l[O],l[G]);Y>0&&(b=z,O=G,F=_)}return D||b&&u(b,F),O}function M(T,i){var D=m[i][T][0],b=[T];u(D,i);for(var O=D[i^1];;){for(;O!==T;)b.push(O),O=y(b[b.length-2],O,!1);if(m[0][T].length+m[1][T].length===0)break;var F=b[b.length-1],V=T,_=b[1],U=y(F,V,!0);if(r(l[F],l[V],l[_],l[U])<0)break;b.push(T),O=y(F,V)}return b}function S(T,i){return i[1]===i[i.length-1]}for(var v=0;v<c;++v)for(var R=0;R<2;++R){for(var x=[];m[R][v].length>0;){m[0][v].length;var E=M(v,R);S(x,E)?x.push.apply(x,E):(x.length>0&&d.push(x),x=E)}x.length>0&&d.push(x)}return d}},3959:function(h,g,t){h.exports=s;var r=t(8348);function s(n,l){for(var c=r(n,l.length),f=new Array(l.length),m=new Array(l.length),v=[],A=0;A<l.length;++A){var d=c[A].length;m[A]=d,f[A]=!0,d<=1&&v.push(A)}for(;v.length>0;){var u=v.pop();f[u]=!1;for(var y=c[u],A=0;A<y.length;++A){var M=y[A];--m[M]===0&&v.push(M)}}for(var S=new Array(l.length),R=[],A=0;A<l.length;++A)if(f[A]){var u=R.length;S[A]=u,R.push(l[A])}else S[A]=-1;for(var x=[],A=0;A<n.length;++A){var E=n[A];f[E[0]]&&f[E[1]]&&x.push([S[E[0]],S[E[1]]])}return[x,R]}},8040:function(h,g,t){h.exports=d;var r=t(8348),s=t(4166),n=t(211),l=t(9660),c=t(9662),f=t(1215),m=t(3959);function v(u,y){for(var M=new Array(u),S=0;S<u;++S)M[S]=y;return M}function A(u){for(var y=new Array(u),M=0;M<u;++M)y[M]=[];return y}function d(u,y){var ee=m(u,y);u=ee[0],y=ee[1];var M=y.length;u.length;for(var S=r(u,y.length),R=0;R<M;++R)if(S[R].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var x=s(u,y);function E(Oe){for(var Ue=Oe.length,Le=[0],we=0;we<Ue;++we){var Ce=y[Oe[we]],Ve=y[Oe[(we+1)%Ue]],Ne=l(-Ce[0],Ce[1]),ke=l(-Ce[0],Ve[1]),We=l(Ve[0],Ce[1]),rt=l(Ve[0],Ve[1]);Le=c(Le,c(c(Ne,ke),c(We,rt)))}return Le[Le.length-1]>0}x=x.filter(E);for(var T=x.length,i=new Array(T),D=new Array(T),R=0;R<T;++R){i[R]=R;var b=new Array(T),O=x[R].map(function(Ue){return y[Ue]}),F=n([O]),V=0;e:for(var _=0;_<T;++_)if(b[_]=0,R!==_){for(var U=x[_],H=U.length,z=0;z<H;++z){var G=F(y[U[z]]);if(G!==0){G<0&&(b[_]=1,V+=1);continue e}}b[_]=1,V+=1}D[R]=[V,R,b]}D.sort(function(Oe,Ue){return Ue[0]-Oe[0]});for(var R=0;R<T;++R)for(var b=D[R],Y=b[1],J=b[2],_=0;_<T;++_)J[_]&&(i[_]=Y);for(var ae=A(T),R=0;R<T;++R)ae[R].push(i[R]),ae[i[R]].push(R);for(var oe={},he=v(M,!1),R=0;R<T;++R)for(var U=x[R],H=U.length,_=0;_<H;++_){var q=U[_],Z=U[(_+1)%H],$=Math.min(q,Z)+":"+Math.max(q,Z);if($ in oe){var K=oe[$];ae[K].push(R),ae[R].push(K),he[q]=he[Z]=!0}else oe[$]=R}function re(Oe){for(var Ue=Oe.length,Le=0;Le<Ue;++Le)if(!he[Oe[Le]])return!1;return!0}for(var le=[],te=v(T,-1),R=0;R<T;++R)i[R]===R&&!re(x[R])?(le.push(R),te[R]=0):te[R]=-1;for(var ee=[];le.length>0;){var ue=le.pop(),se=ae[ue];f(se,function(Oe,Ue){return Oe-Ue});var ve=se.length,be=te[ue],Ee;if(be===0){var U=x[ue];Ee=[U]}for(var R=0;R<ve;++R){var Ae=se[R];if(!(te[Ae]>=0)&&(te[Ae]=be^1,le.push(Ae),be===0)){var U=x[Ae];re(U)||(U.reverse(),Ee.push(U))}}be===0&&ee.push(Ee)}return ee}},211:function(h,g,t){h.exports=y;var r=t(417)[3],s=t(4385),n=t(9014),l=t(5070);function c(){return!0}function f(M){return function(S,R){var x=M[S];return x?!!x.queryPoint(R,c):!1}}function m(M){for(var S={},R=0;R<M.length;++R){var x=M[R],E=x[0][0],T=x[0][1],i=x[1][1],D=[Math.min(T,i),Math.max(T,i)];E in S?S[E].push(D):S[E]=[D]}for(var b={},O=Object.keys(S),R=0;R<O.length;++R){var F=S[O[R]];b[O[R]]=n(F)}return f(b)}function v(M,S){return function(R){var x=l.le(S,R[0]);if(x<0)return 1;var E=M[x];if(!E)if(x>0&&S[x]===R[0])E=M[x-1];else return 1;for(var T=1;E;){var i=E.key,D=r(R,i[0],i[1]);if(i[0][0]<i[1][0])if(D<0)E=E.left;else if(D>0)T=-1,E=E.right;else return 0;else if(D>0)E=E.left;else if(D<0)T=1,E=E.right;else return 0}return T}}function A(M){return 1}function d(M){return function(R){return M(R[0],R[1])?0:1}}function u(M,S){return function(x){return M(x[0],x[1])?0:S(x)}}function y(M){for(var S=M.length,R=[],x=[],E=0;E<S;++E)for(var T=M[E],i=T.length,D=i-1,b=0;b<i;D=b++){var O=T[D],F=T[b];O[0]===F[0]?x.push([O,F]):R.push([O,F])}if(R.length===0)return x.length===0?A:d(m(x));var V=s(R),_=v(V.slabs,V.coordinates);return x.length===0?_:u(m(x),_)}},7309:function(h){var g=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function s(n,l,c,f,m){g.length<f.length&&(g=new Float64Array(f.length),t=new Float64Array(f.length),r=new Float64Array(f.length));for(var v=0;v<f.length;++v)g[v]=n[v]-f[v],t[v]=l[v]-n[v],r[v]=c[v]-n[v];for(var A=0,d=0,u=0,y=0,M=0,S=0,v=0;v<f.length;++v){var R=t[v],x=r[v],E=g[v];A+=R*R,d+=R*x,u+=x*x,y+=E*R,M+=E*x,S+=E*E}var T=Math.abs(A*u-d*d),i=d*M-u*y,D=d*y-A*M,b;if(i+D<=T)if(i<0)D<0&&y<0?(D=0,-y>=A?(i=1,b=A+2*y+S):(i=-y/A,b=y*i+S)):(i=0,M>=0?(D=0,b=S):-M>=u?(D=1,b=u+2*M+S):(D=-M/u,b=M*D+S));else if(D<0)D=0,y>=0?(i=0,b=S):-y>=A?(i=1,b=A+2*y+S):(i=-y/A,b=y*i+S);else{var O=1/T;i*=O,D*=O,b=i*(A*i+d*D+2*y)+D*(d*i+u*D+2*M)+S}else{var F,V,_,U;i<0?(F=d+y,V=u+M,V>F?(_=V-F,U=A-2*d+u,_>=U?(i=1,D=0,b=A+2*y+S):(i=_/U,D=1-i,b=i*(A*i+d*D+2*y)+D*(d*i+u*D+2*M)+S)):(i=0,V<=0?(D=1,b=u+2*M+S):M>=0?(D=0,b=S):(D=-M/u,b=M*D+S))):D<0?(F=d+M,V=A+y,V>F?(_=V-F,U=A-2*d+u,_>=U?(D=1,i=0,b=u+2*M+S):(D=_/U,i=1-D,b=i*(A*i+d*D+2*y)+D*(d*i+u*D+2*M)+S)):(D=0,V<=0?(i=1,b=A+2*y+S):y>=0?(i=0,b=S):(i=-y/A,b=y*i+S))):(_=u+M-d-y,_<=0?(i=0,D=1,b=u+2*M+S):(U=A-2*d+u,_>=U?(i=1,D=0,b=A+2*y+S):(i=_/U,D=1-i,b=i*(A*i+d*D+2*y)+D*(d*i+u*D+2*M)+S)))}for(var H=1-i-D,v=0;v<f.length;++v)m[v]=H*n[v]+i*l[v]+D*c[v];return b<0?0:b}h.exports=s},1116:function(h,g,t){h.exports=t(6093)},7584:function(h,g,t){var r=t(1539);h.exports=s;function s(n,l){for(var c=n.length,f=new Array(c),m=0;m<c;++m)f[m]=r(n[m],l[m]);return f}},2826:function(h,g,t){h.exports=s;var r=t(5125);function s(n){for(var l=new Array(n.length),c=0;c<n.length;++c)l[c]=r(n[c]);return l}},4469:function(h,g,t){var r=t(5125),s=t(3962);h.exports=n;function n(l,c){for(var f=r(c),m=l.length,v=new Array(m),A=0;A<m;++A)v[A]=s(l[A],f);return v}},6695:function(h,g,t){var r=t(4354);h.exports=s;function s(n,l){for(var c=n.length,f=new Array(c),m=0;m<c;++m)f[m]=r(n[m],l[m]);return f}},7037:function(h,g,t){var r=t(9209),s=t(1284),n=t(9887);h.exports=l;function l(c){c.sort(s);for(var f=c.length,m=0,v=0;v<f;++v){var A=c[v],d=n(A);if(d!==0){if(m>0){var u=c[m-1];if(r(A,u)===0&&n(u)!==d){m-=1;continue}}c[m++]=A}}return c.length=m,c}},6184:function(h){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var g="",t;h.exports=r;function r(s,n){if(typeof s!="string")throw new TypeError("expected a string");if(n===1)return s;if(n===2)return s+s;var l=s.length*n;if(t!==s||typeof t>"u")t=s,g="";else if(g.length>=l)return g.substr(0,l);for(;l>g.length&&n>1;)n&1&&(g+=s),n>>=1,s+=s;return g+=s,g=g.substr(0,l),g}},8161:function(h,g,t){h.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(h){h.exports=g;function g(t){for(var r=t.length,s=t[t.length-1],n=r,l=r-2;l>=0;--l){var c=s,f=t[l];s=c+f;var m=s-c,v=f-m;v&&(t[--n]=s,s=v)}for(var A=0,l=n;l<r;++l){var c=t[l],f=s;s=c+f;var m=s-c,v=f-m;v&&(t[A++]=v)}return t[A++]=s,t.length=A,t}},8167:function(h,g,t){var r=t(9660),s=t(9662),n=t(8289),l=t(402),c=6;function f(S,R,x,E){return function(i){return E(S(x(i[0][0],i[1][1]),x(-i[0][1],i[1][0])))}}function m(S,R,x,E){return function(i){return E(S(R(S(x(i[1][1],i[2][2]),x(-i[1][2],i[2][1])),i[0][0]),S(R(S(x(i[1][0],i[2][2]),x(-i[1][2],i[2][0])),-i[0][1]),R(S(x(i[1][0],i[2][1]),x(-i[1][1],i[2][0])),i[0][2]))))}}function v(S,R,x,E){return function(i){return E(S(S(R(S(R(S(x(i[2][2],i[3][3]),x(-i[2][3],i[3][2])),i[1][1]),S(R(S(x(i[2][1],i[3][3]),x(-i[2][3],i[3][1])),-i[1][2]),R(S(x(i[2][1],i[3][2]),x(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),R(S(R(S(x(i[2][2],i[3][3]),x(-i[2][3],i[3][2])),i[1][0]),S(R(S(x(i[2][0],i[3][3]),x(-i[2][3],i[3][0])),-i[1][2]),R(S(x(i[2][0],i[3][2]),x(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),S(R(S(R(S(x(i[2][1],i[3][3]),x(-i[2][3],i[3][1])),i[1][0]),S(R(S(x(i[2][0],i[3][3]),x(-i[2][3],i[3][0])),-i[1][1]),R(S(x(i[2][0],i[3][1]),x(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),R(S(R(S(x(i[2][1],i[3][2]),x(-i[2][2],i[3][1])),i[1][0]),S(R(S(x(i[2][0],i[3][2]),x(-i[2][2],i[3][0])),-i[1][1]),R(S(x(i[2][0],i[3][1]),x(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function A(S,R,x,E){return function(i){return E(S(S(R(S(S(R(S(R(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][2]),S(R(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),-i[2][3]),R(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),R(S(R(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][1]),S(R(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][3]),R(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),S(R(S(R(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][1]),S(R(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][2]),R(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),R(S(R(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][1]),S(R(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),-i[2][2]),R(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),R(S(S(R(S(R(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][2]),S(R(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),-i[2][3]),R(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),R(S(R(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][0]),S(R(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][3]),R(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),S(R(S(R(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][0]),S(R(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][2]),R(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),R(S(R(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][0]),S(R(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][2]),R(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),S(R(S(S(R(S(R(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][1]),S(R(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][3]),R(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),R(S(R(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][0]),S(R(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][3]),R(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),S(R(S(R(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),i[2][0]),S(R(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][1]),R(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),R(S(R(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][0]),S(R(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][1]),R(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),S(R(S(S(R(S(R(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][1]),S(R(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][2]),R(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),R(S(R(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][0]),S(R(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][2]),R(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),S(R(S(R(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),i[2][0]),S(R(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][1]),R(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),R(S(R(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][0]),S(R(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),-i[2][1]),R(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),R(S(S(R(S(R(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][1]),S(R(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),-i[2][2]),R(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),R(S(R(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][0]),S(R(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][2]),R(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),S(R(S(R(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][0]),S(R(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][1]),R(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),R(S(R(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][0]),S(R(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),-i[2][1]),R(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function d(S){var R=S===2?f:S===3?m:S===4?v:S===5?A:void 0;return R(s,n,r,l)}var u=[function(){return[0]},function(R){return[R[0][0]]}];function y(S,R,x,E,T,i,D,b){return function(F){switch(F.length){case 0:return S(F);case 1:return R(F);case 2:return x(F);case 3:return E(F);case 4:return T(F);case 5:return i(F)}var V=D[F.length];return V||(V=D[F.length]=b(F.length)),V(F)}}function M(){for(;u.length<c;)u.push(d(u.length));h.exports=y.apply(void 0,u.concat([u,d]));for(var S=0;S<u.length;++S)h.exports[S]=u[S]}M()},9130:function(h,g,t){var r=t(9660),s=t(9662);h.exports=n;function n(l,c){for(var f=r(l[0],c[0]),m=1;m<l.length;++m)f=s(f,r(l[m],c[m]));return f}},2227:function(h,g,t){var r=t(9660),s=t(9662),n=t(4078),l=t(8289),c=6;function f(T){var i=T===3?d:T===4?u:T===5?y:M;return i(s,n,r,l)}function m(){return 0}function v(){return 0}function A(){return 0}function d(T,i,D,b){function O(F,V,_){var U=D(F[0],F[0]),H=b(U,V[0]),z=b(U,_[0]),G=D(V[0],V[0]),Y=b(G,F[0]),J=b(G,_[0]),ae=D(_[0],_[0]),oe=b(ae,F[0]),he=b(ae,V[0]),q=T(i(he,J),i(Y,H)),Z=i(oe,z),$=i(q,Z);return $[$.length-1]}return O}function u(T,i,D,b){function O(F,V,_,U){var H=T(D(F[0],F[0]),D(F[1],F[1])),z=b(H,V[0]),G=b(H,_[0]),Y=b(H,U[0]),J=T(D(V[0],V[0]),D(V[1],V[1])),ae=b(J,F[0]),oe=b(J,_[0]),he=b(J,U[0]),q=T(D(_[0],_[0]),D(_[1],_[1])),Z=b(q,F[0]),$=b(q,V[0]),K=b(q,U[0]),re=T(D(U[0],U[0]),D(U[1],U[1])),le=b(re,F[0]),te=b(re,V[0]),ee=b(re,_[0]),ue=T(T(b(i(ee,K),V[1]),T(b(i(te,he),-_[1]),b(i($,oe),U[1]))),T(b(i(te,he),F[1]),T(b(i(le,Y),-V[1]),b(i(ae,z),U[1])))),se=T(T(b(i(ee,K),F[1]),T(b(i(le,Y),-_[1]),b(i(Z,G),U[1]))),T(b(i($,oe),F[1]),T(b(i(Z,G),-V[1]),b(i(ae,z),_[1])))),ve=i(ue,se);return ve[ve.length-1]}return O}function y(T,i,D,b){function O(F,V,_,U,H){var z=T(D(F[0],F[0]),T(D(F[1],F[1]),D(F[2],F[2]))),G=b(z,V[0]),Y=b(z,_[0]),J=b(z,U[0]),ae=b(z,H[0]),oe=T(D(V[0],V[0]),T(D(V[1],V[1]),D(V[2],V[2]))),he=b(oe,F[0]),q=b(oe,_[0]),Z=b(oe,U[0]),$=b(oe,H[0]),K=T(D(_[0],_[0]),T(D(_[1],_[1]),D(_[2],_[2]))),re=b(K,F[0]),le=b(K,V[0]),te=b(K,U[0]),ee=b(K,H[0]),ue=T(D(U[0],U[0]),T(D(U[1],U[1]),D(U[2],U[2]))),se=b(ue,F[0]),ve=b(ue,V[0]),be=b(ue,_[0]),Ee=b(ue,H[0]),Ae=T(D(H[0],H[0]),T(D(H[1],H[1]),D(H[2],H[2]))),Oe=b(Ae,F[0]),Ue=b(Ae,V[0]),Le=b(Ae,_[0]),we=b(Ae,U[0]),Ce=T(T(T(b(T(b(i(we,Ee),_[1]),T(b(i(Le,ee),-U[1]),b(i(be,te),H[1]))),V[2]),T(b(T(b(i(we,Ee),V[1]),T(b(i(Ue,$),-U[1]),b(i(ve,Z),H[1]))),-_[2]),b(T(b(i(Le,ee),V[1]),T(b(i(Ue,$),-_[1]),b(i(le,q),H[1]))),U[2]))),T(b(T(b(i(be,te),V[1]),T(b(i(ve,Z),-_[1]),b(i(le,q),U[1]))),-H[2]),T(b(T(b(i(we,Ee),V[1]),T(b(i(Ue,$),-U[1]),b(i(ve,Z),H[1]))),F[2]),b(T(b(i(we,Ee),F[1]),T(b(i(Oe,ae),-U[1]),b(i(se,J),H[1]))),-V[2])))),T(T(b(T(b(i(Ue,$),F[1]),T(b(i(Oe,ae),-V[1]),b(i(he,G),H[1]))),U[2]),T(b(T(b(i(ve,Z),F[1]),T(b(i(se,J),-V[1]),b(i(he,G),U[1]))),-H[2]),b(T(b(i(be,te),V[1]),T(b(i(ve,Z),-_[1]),b(i(le,q),U[1]))),F[2]))),T(b(T(b(i(be,te),F[1]),T(b(i(se,J),-_[1]),b(i(re,Y),U[1]))),-V[2]),T(b(T(b(i(ve,Z),F[1]),T(b(i(se,J),-V[1]),b(i(he,G),U[1]))),_[2]),b(T(b(i(le,q),F[1]),T(b(i(re,Y),-V[1]),b(i(he,G),_[1]))),-U[2]))))),Ve=T(T(T(b(T(b(i(we,Ee),_[1]),T(b(i(Le,ee),-U[1]),b(i(be,te),H[1]))),F[2]),b(T(b(i(we,Ee),F[1]),T(b(i(Oe,ae),-U[1]),b(i(se,J),H[1]))),-_[2])),T(b(T(b(i(Le,ee),F[1]),T(b(i(Oe,ae),-_[1]),b(i(re,Y),H[1]))),U[2]),b(T(b(i(be,te),F[1]),T(b(i(se,J),-_[1]),b(i(re,Y),U[1]))),-H[2]))),T(T(b(T(b(i(Le,ee),V[1]),T(b(i(Ue,$),-_[1]),b(i(le,q),H[1]))),F[2]),b(T(b(i(Le,ee),F[1]),T(b(i(Oe,ae),-_[1]),b(i(re,Y),H[1]))),-V[2])),T(b(T(b(i(Ue,$),F[1]),T(b(i(Oe,ae),-V[1]),b(i(he,G),H[1]))),_[2]),b(T(b(i(le,q),F[1]),T(b(i(re,Y),-V[1]),b(i(he,G),_[1]))),-H[2])))),Ne=i(Ce,Ve);return Ne[Ne.length-1]}return O}function M(T,i,D,b){function O(F,V,_,U,H,z){var G=T(T(D(F[0],F[0]),D(F[1],F[1])),T(D(F[2],F[2]),D(F[3],F[3]))),Y=b(G,V[0]),J=b(G,_[0]),ae=b(G,U[0]),oe=b(G,H[0]),he=b(G,z[0]),q=T(T(D(V[0],V[0]),D(V[1],V[1])),T(D(V[2],V[2]),D(V[3],V[3]))),Z=b(q,F[0]),$=b(q,_[0]),K=b(q,U[0]),re=b(q,H[0]),le=b(q,z[0]),te=T(T(D(_[0],_[0]),D(_[1],_[1])),T(D(_[2],_[2]),D(_[3],_[3]))),ee=b(te,F[0]),ue=b(te,V[0]),se=b(te,U[0]),ve=b(te,H[0]),be=b(te,z[0]),Ee=T(T(D(U[0],U[0]),D(U[1],U[1])),T(D(U[2],U[2]),D(U[3],U[3]))),Ae=b(Ee,F[0]),Oe=b(Ee,V[0]),Ue=b(Ee,_[0]),Le=b(Ee,H[0]),we=b(Ee,z[0]),Ce=T(T(D(H[0],H[0]),D(H[1],H[1])),T(D(H[2],H[2]),D(H[3],H[3]))),Ve=b(Ce,F[0]),Ne=b(Ce,V[0]),ke=b(Ce,_[0]),We=b(Ce,U[0]),rt=b(Ce,z[0]),et=T(T(D(z[0],z[0]),D(z[1],z[1])),T(D(z[2],z[2]),D(z[3],z[3]))),tt=b(et,F[0]),at=b(et,V[0]),ct=b(et,_[0]),dt=b(et,U[0]),gt=b(et,H[0]),Et=T(T(T(b(T(T(b(T(b(i(gt,rt),U[1]),T(b(i(dt,we),-H[1]),b(i(We,Le),z[1]))),_[2]),b(T(b(i(gt,rt),_[1]),T(b(i(ct,be),-H[1]),b(i(ke,ve),z[1]))),-U[2])),T(b(T(b(i(dt,we),_[1]),T(b(i(ct,be),-U[1]),b(i(Ue,se),z[1]))),H[2]),b(T(b(i(We,Le),_[1]),T(b(i(ke,ve),-U[1]),b(i(Ue,se),H[1]))),-z[2]))),V[3]),T(b(T(T(b(T(b(i(gt,rt),U[1]),T(b(i(dt,we),-H[1]),b(i(We,Le),z[1]))),V[2]),b(T(b(i(gt,rt),V[1]),T(b(i(at,le),-H[1]),b(i(Ne,re),z[1]))),-U[2])),T(b(T(b(i(dt,we),V[1]),T(b(i(at,le),-U[1]),b(i(Oe,K),z[1]))),H[2]),b(T(b(i(We,Le),V[1]),T(b(i(Ne,re),-U[1]),b(i(Oe,K),H[1]))),-z[2]))),-_[3]),b(T(T(b(T(b(i(gt,rt),_[1]),T(b(i(ct,be),-H[1]),b(i(ke,ve),z[1]))),V[2]),b(T(b(i(gt,rt),V[1]),T(b(i(at,le),-H[1]),b(i(Ne,re),z[1]))),-_[2])),T(b(T(b(i(ct,be),V[1]),T(b(i(at,le),-_[1]),b(i(ue,$),z[1]))),H[2]),b(T(b(i(ke,ve),V[1]),T(b(i(Ne,re),-_[1]),b(i(ue,$),H[1]))),-z[2]))),U[3]))),T(T(b(T(T(b(T(b(i(dt,we),_[1]),T(b(i(ct,be),-U[1]),b(i(Ue,se),z[1]))),V[2]),b(T(b(i(dt,we),V[1]),T(b(i(at,le),-U[1]),b(i(Oe,K),z[1]))),-_[2])),T(b(T(b(i(ct,be),V[1]),T(b(i(at,le),-_[1]),b(i(ue,$),z[1]))),U[2]),b(T(b(i(Ue,se),V[1]),T(b(i(Oe,K),-_[1]),b(i(ue,$),U[1]))),-z[2]))),-H[3]),b(T(T(b(T(b(i(We,Le),_[1]),T(b(i(ke,ve),-U[1]),b(i(Ue,se),H[1]))),V[2]),b(T(b(i(We,Le),V[1]),T(b(i(Ne,re),-U[1]),b(i(Oe,K),H[1]))),-_[2])),T(b(T(b(i(ke,ve),V[1]),T(b(i(Ne,re),-_[1]),b(i(ue,$),H[1]))),U[2]),b(T(b(i(Ue,se),V[1]),T(b(i(Oe,K),-_[1]),b(i(ue,$),U[1]))),-H[2]))),z[3])),T(b(T(T(b(T(b(i(gt,rt),U[1]),T(b(i(dt,we),-H[1]),b(i(We,Le),z[1]))),V[2]),b(T(b(i(gt,rt),V[1]),T(b(i(at,le),-H[1]),b(i(Ne,re),z[1]))),-U[2])),T(b(T(b(i(dt,we),V[1]),T(b(i(at,le),-U[1]),b(i(Oe,K),z[1]))),H[2]),b(T(b(i(We,Le),V[1]),T(b(i(Ne,re),-U[1]),b(i(Oe,K),H[1]))),-z[2]))),F[3]),b(T(T(b(T(b(i(gt,rt),U[1]),T(b(i(dt,we),-H[1]),b(i(We,Le),z[1]))),F[2]),b(T(b(i(gt,rt),F[1]),T(b(i(tt,he),-H[1]),b(i(Ve,oe),z[1]))),-U[2])),T(b(T(b(i(dt,we),F[1]),T(b(i(tt,he),-U[1]),b(i(Ae,ae),z[1]))),H[2]),b(T(b(i(We,Le),F[1]),T(b(i(Ve,oe),-U[1]),b(i(Ae,ae),H[1]))),-z[2]))),-V[3])))),T(T(T(b(T(T(b(T(b(i(gt,rt),V[1]),T(b(i(at,le),-H[1]),b(i(Ne,re),z[1]))),F[2]),b(T(b(i(gt,rt),F[1]),T(b(i(tt,he),-H[1]),b(i(Ve,oe),z[1]))),-V[2])),T(b(T(b(i(at,le),F[1]),T(b(i(tt,he),-V[1]),b(i(Z,Y),z[1]))),H[2]),b(T(b(i(Ne,re),F[1]),T(b(i(Ve,oe),-V[1]),b(i(Z,Y),H[1]))),-z[2]))),U[3]),b(T(T(b(T(b(i(dt,we),V[1]),T(b(i(at,le),-U[1]),b(i(Oe,K),z[1]))),F[2]),b(T(b(i(dt,we),F[1]),T(b(i(tt,he),-U[1]),b(i(Ae,ae),z[1]))),-V[2])),T(b(T(b(i(at,le),F[1]),T(b(i(tt,he),-V[1]),b(i(Z,Y),z[1]))),U[2]),b(T(b(i(Oe,K),F[1]),T(b(i(Ae,ae),-V[1]),b(i(Z,Y),U[1]))),-z[2]))),-H[3])),T(b(T(T(b(T(b(i(We,Le),V[1]),T(b(i(Ne,re),-U[1]),b(i(Oe,K),H[1]))),F[2]),b(T(b(i(We,Le),F[1]),T(b(i(Ve,oe),-U[1]),b(i(Ae,ae),H[1]))),-V[2])),T(b(T(b(i(Ne,re),F[1]),T(b(i(Ve,oe),-V[1]),b(i(Z,Y),H[1]))),U[2]),b(T(b(i(Oe,K),F[1]),T(b(i(Ae,ae),-V[1]),b(i(Z,Y),U[1]))),-H[2]))),z[3]),b(T(T(b(T(b(i(dt,we),_[1]),T(b(i(ct,be),-U[1]),b(i(Ue,se),z[1]))),V[2]),b(T(b(i(dt,we),V[1]),T(b(i(at,le),-U[1]),b(i(Oe,K),z[1]))),-_[2])),T(b(T(b(i(ct,be),V[1]),T(b(i(at,le),-_[1]),b(i(ue,$),z[1]))),U[2]),b(T(b(i(Ue,se),V[1]),T(b(i(Oe,K),-_[1]),b(i(ue,$),U[1]))),-z[2]))),F[3]))),T(T(b(T(T(b(T(b(i(dt,we),_[1]),T(b(i(ct,be),-U[1]),b(i(Ue,se),z[1]))),F[2]),b(T(b(i(dt,we),F[1]),T(b(i(tt,he),-U[1]),b(i(Ae,ae),z[1]))),-_[2])),T(b(T(b(i(ct,be),F[1]),T(b(i(tt,he),-_[1]),b(i(ee,J),z[1]))),U[2]),b(T(b(i(Ue,se),F[1]),T(b(i(Ae,ae),-_[1]),b(i(ee,J),U[1]))),-z[2]))),-V[3]),b(T(T(b(T(b(i(dt,we),V[1]),T(b(i(at,le),-U[1]),b(i(Oe,K),z[1]))),F[2]),b(T(b(i(dt,we),F[1]),T(b(i(tt,he),-U[1]),b(i(Ae,ae),z[1]))),-V[2])),T(b(T(b(i(at,le),F[1]),T(b(i(tt,he),-V[1]),b(i(Z,Y),z[1]))),U[2]),b(T(b(i(Oe,K),F[1]),T(b(i(Ae,ae),-V[1]),b(i(Z,Y),U[1]))),-z[2]))),_[3])),T(b(T(T(b(T(b(i(ct,be),V[1]),T(b(i(at,le),-_[1]),b(i(ue,$),z[1]))),F[2]),b(T(b(i(ct,be),F[1]),T(b(i(tt,he),-_[1]),b(i(ee,J),z[1]))),-V[2])),T(b(T(b(i(at,le),F[1]),T(b(i(tt,he),-V[1]),b(i(Z,Y),z[1]))),_[2]),b(T(b(i(ue,$),F[1]),T(b(i(ee,J),-V[1]),b(i(Z,Y),_[1]))),-z[2]))),-U[3]),b(T(T(b(T(b(i(Ue,se),V[1]),T(b(i(Oe,K),-_[1]),b(i(ue,$),U[1]))),F[2]),b(T(b(i(Ue,se),F[1]),T(b(i(Ae,ae),-_[1]),b(i(ee,J),U[1]))),-V[2])),T(b(T(b(i(Oe,K),F[1]),T(b(i(Ae,ae),-V[1]),b(i(Z,Y),U[1]))),_[2]),b(T(b(i(ue,$),F[1]),T(b(i(ee,J),-V[1]),b(i(Z,Y),_[1]))),-U[2]))),z[3]))))),Ct=T(T(T(b(T(T(b(T(b(i(gt,rt),U[1]),T(b(i(dt,we),-H[1]),b(i(We,Le),z[1]))),_[2]),b(T(b(i(gt,rt),_[1]),T(b(i(ct,be),-H[1]),b(i(ke,ve),z[1]))),-U[2])),T(b(T(b(i(dt,we),_[1]),T(b(i(ct,be),-U[1]),b(i(Ue,se),z[1]))),H[2]),b(T(b(i(We,Le),_[1]),T(b(i(ke,ve),-U[1]),b(i(Ue,se),H[1]))),-z[2]))),F[3]),T(b(T(T(b(T(b(i(gt,rt),U[1]),T(b(i(dt,we),-H[1]),b(i(We,Le),z[1]))),F[2]),b(T(b(i(gt,rt),F[1]),T(b(i(tt,he),-H[1]),b(i(Ve,oe),z[1]))),-U[2])),T(b(T(b(i(dt,we),F[1]),T(b(i(tt,he),-U[1]),b(i(Ae,ae),z[1]))),H[2]),b(T(b(i(We,Le),F[1]),T(b(i(Ve,oe),-U[1]),b(i(Ae,ae),H[1]))),-z[2]))),-_[3]),b(T(T(b(T(b(i(gt,rt),_[1]),T(b(i(ct,be),-H[1]),b(i(ke,ve),z[1]))),F[2]),b(T(b(i(gt,rt),F[1]),T(b(i(tt,he),-H[1]),b(i(Ve,oe),z[1]))),-_[2])),T(b(T(b(i(ct,be),F[1]),T(b(i(tt,he),-_[1]),b(i(ee,J),z[1]))),H[2]),b(T(b(i(ke,ve),F[1]),T(b(i(Ve,oe),-_[1]),b(i(ee,J),H[1]))),-z[2]))),U[3]))),T(T(b(T(T(b(T(b(i(dt,we),_[1]),T(b(i(ct,be),-U[1]),b(i(Ue,se),z[1]))),F[2]),b(T(b(i(dt,we),F[1]),T(b(i(tt,he),-U[1]),b(i(Ae,ae),z[1]))),-_[2])),T(b(T(b(i(ct,be),F[1]),T(b(i(tt,he),-_[1]),b(i(ee,J),z[1]))),U[2]),b(T(b(i(Ue,se),F[1]),T(b(i(Ae,ae),-_[1]),b(i(ee,J),U[1]))),-z[2]))),-H[3]),b(T(T(b(T(b(i(We,Le),_[1]),T(b(i(ke,ve),-U[1]),b(i(Ue,se),H[1]))),F[2]),b(T(b(i(We,Le),F[1]),T(b(i(Ve,oe),-U[1]),b(i(Ae,ae),H[1]))),-_[2])),T(b(T(b(i(ke,ve),F[1]),T(b(i(Ve,oe),-_[1]),b(i(ee,J),H[1]))),U[2]),b(T(b(i(Ue,se),F[1]),T(b(i(Ae,ae),-_[1]),b(i(ee,J),U[1]))),-H[2]))),z[3])),T(b(T(T(b(T(b(i(gt,rt),_[1]),T(b(i(ct,be),-H[1]),b(i(ke,ve),z[1]))),V[2]),b(T(b(i(gt,rt),V[1]),T(b(i(at,le),-H[1]),b(i(Ne,re),z[1]))),-_[2])),T(b(T(b(i(ct,be),V[1]),T(b(i(at,le),-_[1]),b(i(ue,$),z[1]))),H[2]),b(T(b(i(ke,ve),V[1]),T(b(i(Ne,re),-_[1]),b(i(ue,$),H[1]))),-z[2]))),F[3]),b(T(T(b(T(b(i(gt,rt),_[1]),T(b(i(ct,be),-H[1]),b(i(ke,ve),z[1]))),F[2]),b(T(b(i(gt,rt),F[1]),T(b(i(tt,he),-H[1]),b(i(Ve,oe),z[1]))),-_[2])),T(b(T(b(i(ct,be),F[1]),T(b(i(tt,he),-_[1]),b(i(ee,J),z[1]))),H[2]),b(T(b(i(ke,ve),F[1]),T(b(i(Ve,oe),-_[1]),b(i(ee,J),H[1]))),-z[2]))),-V[3])))),T(T(T(b(T(T(b(T(b(i(gt,rt),V[1]),T(b(i(at,le),-H[1]),b(i(Ne,re),z[1]))),F[2]),b(T(b(i(gt,rt),F[1]),T(b(i(tt,he),-H[1]),b(i(Ve,oe),z[1]))),-V[2])),T(b(T(b(i(at,le),F[1]),T(b(i(tt,he),-V[1]),b(i(Z,Y),z[1]))),H[2]),b(T(b(i(Ne,re),F[1]),T(b(i(Ve,oe),-V[1]),b(i(Z,Y),H[1]))),-z[2]))),_[3]),b(T(T(b(T(b(i(ct,be),V[1]),T(b(i(at,le),-_[1]),b(i(ue,$),z[1]))),F[2]),b(T(b(i(ct,be),F[1]),T(b(i(tt,he),-_[1]),b(i(ee,J),z[1]))),-V[2])),T(b(T(b(i(at,le),F[1]),T(b(i(tt,he),-V[1]),b(i(Z,Y),z[1]))),_[2]),b(T(b(i(ue,$),F[1]),T(b(i(ee,J),-V[1]),b(i(Z,Y),_[1]))),-z[2]))),-H[3])),T(b(T(T(b(T(b(i(ke,ve),V[1]),T(b(i(Ne,re),-_[1]),b(i(ue,$),H[1]))),F[2]),b(T(b(i(ke,ve),F[1]),T(b(i(Ve,oe),-_[1]),b(i(ee,J),H[1]))),-V[2])),T(b(T(b(i(Ne,re),F[1]),T(b(i(Ve,oe),-V[1]),b(i(Z,Y),H[1]))),_[2]),b(T(b(i(ue,$),F[1]),T(b(i(ee,J),-V[1]),b(i(Z,Y),_[1]))),-H[2]))),z[3]),b(T(T(b(T(b(i(We,Le),_[1]),T(b(i(ke,ve),-U[1]),b(i(Ue,se),H[1]))),V[2]),b(T(b(i(We,Le),V[1]),T(b(i(Ne,re),-U[1]),b(i(Oe,K),H[1]))),-_[2])),T(b(T(b(i(ke,ve),V[1]),T(b(i(Ne,re),-_[1]),b(i(ue,$),H[1]))),U[2]),b(T(b(i(Ue,se),V[1]),T(b(i(Oe,K),-_[1]),b(i(ue,$),U[1]))),-H[2]))),F[3]))),T(T(b(T(T(b(T(b(i(We,Le),_[1]),T(b(i(ke,ve),-U[1]),b(i(Ue,se),H[1]))),F[2]),b(T(b(i(We,Le),F[1]),T(b(i(Ve,oe),-U[1]),b(i(Ae,ae),H[1]))),-_[2])),T(b(T(b(i(ke,ve),F[1]),T(b(i(Ve,oe),-_[1]),b(i(ee,J),H[1]))),U[2]),b(T(b(i(Ue,se),F[1]),T(b(i(Ae,ae),-_[1]),b(i(ee,J),U[1]))),-H[2]))),-V[3]),b(T(T(b(T(b(i(We,Le),V[1]),T(b(i(Ne,re),-U[1]),b(i(Oe,K),H[1]))),F[2]),b(T(b(i(We,Le),F[1]),T(b(i(Ve,oe),-U[1]),b(i(Ae,ae),H[1]))),-V[2])),T(b(T(b(i(Ne,re),F[1]),T(b(i(Ve,oe),-V[1]),b(i(Z,Y),H[1]))),U[2]),b(T(b(i(Oe,K),F[1]),T(b(i(Ae,ae),-V[1]),b(i(Z,Y),U[1]))),-H[2]))),_[3])),T(b(T(T(b(T(b(i(ke,ve),V[1]),T(b(i(Ne,re),-_[1]),b(i(ue,$),H[1]))),F[2]),b(T(b(i(ke,ve),F[1]),T(b(i(Ve,oe),-_[1]),b(i(ee,J),H[1]))),-V[2])),T(b(T(b(i(Ne,re),F[1]),T(b(i(Ve,oe),-V[1]),b(i(Z,Y),H[1]))),_[2]),b(T(b(i(ue,$),F[1]),T(b(i(ee,J),-V[1]),b(i(Z,Y),_[1]))),-H[2]))),-U[3]),b(T(T(b(T(b(i(Ue,se),V[1]),T(b(i(Oe,K),-_[1]),b(i(ue,$),U[1]))),F[2]),b(T(b(i(Ue,se),F[1]),T(b(i(Ae,ae),-_[1]),b(i(ee,J),U[1]))),-V[2])),T(b(T(b(i(Oe,K),F[1]),T(b(i(Ae,ae),-V[1]),b(i(Z,Y),U[1]))),_[2]),b(T(b(i(ue,$),F[1]),T(b(i(ee,J),-V[1]),b(i(Z,Y),_[1]))),-U[2]))),H[3]))))),Vt=i(Et,Ct);return Vt[Vt.length-1]}return O}var S=[m,v,A];function R(T){var i=S[T.length];return i||(i=S[T.length]=f(T.length)),i.apply(void 0,T)}function x(T,i,D,b,O,F,V,_){function U(H,z,G,Y,J,ae){switch(arguments.length){case 0:case 1:return 0;case 2:return b(H,z);case 3:return O(H,z,G);case 4:return F(H,z,G,Y);case 5:return V(H,z,G,Y,J);case 6:return _(H,z,G,Y,J,ae)}for(var oe=new Array(arguments.length),he=0;he<arguments.length;++he)oe[he]=arguments[he];return T(oe)}return U}function E(){for(;S.length<=c;)S.push(f(S.length));h.exports=x.apply(void 0,[R].concat(S));for(var T=0;T<=c;++T)h.exports[T]=S[T]}E()},6606:function(h,g,t){var r=t(8167),s=6;function n(S){var R=S===2?f:S===3?m:S===4?v:S===5?A:d;return S<6?R(r[S]):R(r)}function l(){return[[0]]}function c(S,R){return[[R[0]],[S[0][0]]]}function f(S){return function(x,E){return[S([[+E[0],+x[0][1]],[+E[1],+x[1][1]]]),S([[+x[0][0],+E[0]],[+x[1][0],+E[1]]]),S(x)]}}function m(S){return function(x,E){return[S([[+E[0],+x[0][1],+x[0][2]],[+E[1],+x[1][1],+x[1][2]],[+E[2],+x[2][1],+x[2][2]]]),S([[+x[0][0],+E[0],+x[0][2]],[+x[1][0],+E[1],+x[1][2]],[+x[2][0],+E[2],+x[2][2]]]),S([[+x[0][0],+x[0][1],+E[0]],[+x[1][0],+x[1][1],+E[1]],[+x[2][0],+x[2][1],+E[2]]]),S(x)]}}function v(S){return function(x,E){return[S([[+E[0],+x[0][1],+x[0][2],+x[0][3]],[+E[1],+x[1][1],+x[1][2],+x[1][3]],[+E[2],+x[2][1],+x[2][2],+x[2][3]],[+E[3],+x[3][1],+x[3][2],+x[3][3]]]),S([[+x[0][0],+E[0],+x[0][2],+x[0][3]],[+x[1][0],+E[1],+x[1][2],+x[1][3]],[+x[2][0],+E[2],+x[2][2],+x[2][3]],[+x[3][0],+E[3],+x[3][2],+x[3][3]]]),S([[+x[0][0],+x[0][1],+E[0],+x[0][3]],[+x[1][0],+x[1][1],+E[1],+x[1][3]],[+x[2][0],+x[2][1],+E[2],+x[2][3]],[+x[3][0],+x[3][1],+E[3],+x[3][3]]]),S([[+x[0][0],+x[0][1],+x[0][2],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+E[3]]]),S(x)]}}function A(S){return function(x,E){return[S([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4]]]),S([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4]]]),S([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4]]]),S([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4]]]),S([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4]]]),S(x)]}}function d(S){return function(x,E){return[S([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+E[5],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),S([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+E[5],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),S([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+E[5],+x[5][3],+x[5][4],+x[5][5]]]),S([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+E[5],+x[5][4],+x[5][5]]]),S([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+E[5],+x[5][5]]]),S([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+E[4]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+E[5]]]),S(x)]}}var u=[l,c];function y(S,R,x,E,T,i,D,b){return function(F,V){switch(F.length){case 0:return S(F,V);case 1:return R(F,V);case 2:return x(F,V);case 3:return E(F,V);case 4:return T(F,V);case 5:return i(F,V)}var _=D[F.length];return _||(_=D[F.length]=b(F.length)),_(F,V)}}function M(){for(;u.length<s;)u.push(n(u.length));h.exports=y.apply(void 0,u.concat([u,n]));for(var S=0;S<s;++S)h.exports[S]=u[S]}M()},417:function(h,g,t){var r=t(9660),s=t(9662),n=t(8289),l=t(4078),c=5,f=11102230246251565e-32,m=(3+16*f)*f,v=(7+56*f)*f;function A(i,D,b,O){return function(V,_,U){var H=i(i(D(_[1],U[0]),D(-U[1],_[0])),i(D(V[1],_[0]),D(-_[1],V[0]))),z=i(D(V[1],U[0]),D(-U[1],V[0])),G=O(H,z);return G[G.length-1]}}function d(i,D,b,O){return function(V,_,U,H){var z=i(i(b(i(D(U[1],H[0]),D(-H[1],U[0])),_[2]),i(b(i(D(_[1],H[0]),D(-H[1],_[0])),-U[2]),b(i(D(_[1],U[0]),D(-U[1],_[0])),H[2]))),i(b(i(D(_[1],H[0]),D(-H[1],_[0])),V[2]),i(b(i(D(V[1],H[0]),D(-H[1],V[0])),-_[2]),b(i(D(V[1],_[0]),D(-_[1],V[0])),H[2])))),G=i(i(b(i(D(U[1],H[0]),D(-H[1],U[0])),V[2]),i(b(i(D(V[1],H[0]),D(-H[1],V[0])),-U[2]),b(i(D(V[1],U[0]),D(-U[1],V[0])),H[2]))),i(b(i(D(_[1],U[0]),D(-U[1],_[0])),V[2]),i(b(i(D(V[1],U[0]),D(-U[1],V[0])),-_[2]),b(i(D(V[1],_[0]),D(-_[1],V[0])),U[2])))),Y=O(z,G);return Y[Y.length-1]}}function u(i,D,b,O){return function(V,_,U,H,z){var G=i(i(i(b(i(b(i(D(H[1],z[0]),D(-z[1],H[0])),U[2]),i(b(i(D(U[1],z[0]),D(-z[1],U[0])),-H[2]),b(i(D(U[1],H[0]),D(-H[1],U[0])),z[2]))),_[3]),i(b(i(b(i(D(H[1],z[0]),D(-z[1],H[0])),_[2]),i(b(i(D(_[1],z[0]),D(-z[1],_[0])),-H[2]),b(i(D(_[1],H[0]),D(-H[1],_[0])),z[2]))),-U[3]),b(i(b(i(D(U[1],z[0]),D(-z[1],U[0])),_[2]),i(b(i(D(_[1],z[0]),D(-z[1],_[0])),-U[2]),b(i(D(_[1],U[0]),D(-U[1],_[0])),z[2]))),H[3]))),i(b(i(b(i(D(U[1],H[0]),D(-H[1],U[0])),_[2]),i(b(i(D(_[1],H[0]),D(-H[1],_[0])),-U[2]),b(i(D(_[1],U[0]),D(-U[1],_[0])),H[2]))),-z[3]),i(b(i(b(i(D(H[1],z[0]),D(-z[1],H[0])),_[2]),i(b(i(D(_[1],z[0]),D(-z[1],_[0])),-H[2]),b(i(D(_[1],H[0]),D(-H[1],_[0])),z[2]))),V[3]),b(i(b(i(D(H[1],z[0]),D(-z[1],H[0])),V[2]),i(b(i(D(V[1],z[0]),D(-z[1],V[0])),-H[2]),b(i(D(V[1],H[0]),D(-H[1],V[0])),z[2]))),-_[3])))),i(i(b(i(b(i(D(_[1],z[0]),D(-z[1],_[0])),V[2]),i(b(i(D(V[1],z[0]),D(-z[1],V[0])),-_[2]),b(i(D(V[1],_[0]),D(-_[1],V[0])),z[2]))),H[3]),i(b(i(b(i(D(_[1],H[0]),D(-H[1],_[0])),V[2]),i(b(i(D(V[1],H[0]),D(-H[1],V[0])),-_[2]),b(i(D(V[1],_[0]),D(-_[1],V[0])),H[2]))),-z[3]),b(i(b(i(D(U[1],H[0]),D(-H[1],U[0])),_[2]),i(b(i(D(_[1],H[0]),D(-H[1],_[0])),-U[2]),b(i(D(_[1],U[0]),D(-U[1],_[0])),H[2]))),V[3]))),i(b(i(b(i(D(U[1],H[0]),D(-H[1],U[0])),V[2]),i(b(i(D(V[1],H[0]),D(-H[1],V[0])),-U[2]),b(i(D(V[1],U[0]),D(-U[1],V[0])),H[2]))),-_[3]),i(b(i(b(i(D(_[1],H[0]),D(-H[1],_[0])),V[2]),i(b(i(D(V[1],H[0]),D(-H[1],V[0])),-_[2]),b(i(D(V[1],_[0]),D(-_[1],V[0])),H[2]))),U[3]),b(i(b(i(D(_[1],U[0]),D(-U[1],_[0])),V[2]),i(b(i(D(V[1],U[0]),D(-U[1],V[0])),-_[2]),b(i(D(V[1],_[0]),D(-_[1],V[0])),U[2]))),-H[3]))))),Y=i(i(i(b(i(b(i(D(H[1],z[0]),D(-z[1],H[0])),U[2]),i(b(i(D(U[1],z[0]),D(-z[1],U[0])),-H[2]),b(i(D(U[1],H[0]),D(-H[1],U[0])),z[2]))),V[3]),b(i(b(i(D(H[1],z[0]),D(-z[1],H[0])),V[2]),i(b(i(D(V[1],z[0]),D(-z[1],V[0])),-H[2]),b(i(D(V[1],H[0]),D(-H[1],V[0])),z[2]))),-U[3])),i(b(i(b(i(D(U[1],z[0]),D(-z[1],U[0])),V[2]),i(b(i(D(V[1],z[0]),D(-z[1],V[0])),-U[2]),b(i(D(V[1],U[0]),D(-U[1],V[0])),z[2]))),H[3]),b(i(b(i(D(U[1],H[0]),D(-H[1],U[0])),V[2]),i(b(i(D(V[1],H[0]),D(-H[1],V[0])),-U[2]),b(i(D(V[1],U[0]),D(-U[1],V[0])),H[2]))),-z[3]))),i(i(b(i(b(i(D(U[1],z[0]),D(-z[1],U[0])),_[2]),i(b(i(D(_[1],z[0]),D(-z[1],_[0])),-U[2]),b(i(D(_[1],U[0]),D(-U[1],_[0])),z[2]))),V[3]),b(i(b(i(D(U[1],z[0]),D(-z[1],U[0])),V[2]),i(b(i(D(V[1],z[0]),D(-z[1],V[0])),-U[2]),b(i(D(V[1],U[0]),D(-U[1],V[0])),z[2]))),-_[3])),i(b(i(b(i(D(_[1],z[0]),D(-z[1],_[0])),V[2]),i(b(i(D(V[1],z[0]),D(-z[1],V[0])),-_[2]),b(i(D(V[1],_[0]),D(-_[1],V[0])),z[2]))),U[3]),b(i(b(i(D(_[1],U[0]),D(-U[1],_[0])),V[2]),i(b(i(D(V[1],U[0]),D(-U[1],V[0])),-_[2]),b(i(D(V[1],_[0]),D(-_[1],V[0])),U[2]))),-z[3])))),J=O(G,Y);return J[J.length-1]}}function y(i){var D=i===3?A:i===4?d:u;return D(s,r,n,l)}var M=y(3),S=y(4),R=[function(){return 0},function(){return 0},function(D,b){return b[0]-D[0]},function(D,b,O){var F=(D[1]-O[1])*(b[0]-O[0]),V=(D[0]-O[0])*(b[1]-O[1]),_=F-V,U;if(F>0){if(V<=0)return _;U=F+V}else if(F<0){if(V>=0)return _;U=-(F+V)}else return _;var H=m*U;return _>=H||_<=-H?_:M(D,b,O)},function(D,b,O,F){var V=D[0]-F[0],_=b[0]-F[0],U=O[0]-F[0],H=D[1]-F[1],z=b[1]-F[1],G=O[1]-F[1],Y=D[2]-F[2],J=b[2]-F[2],ae=O[2]-F[2],oe=_*G,he=U*z,q=U*H,Z=V*G,$=V*z,K=_*H,re=Y*(oe-he)+J*(q-Z)+ae*($-K),le=(Math.abs(oe)+Math.abs(he))*Math.abs(Y)+(Math.abs(q)+Math.abs(Z))*Math.abs(J)+(Math.abs($)+Math.abs(K))*Math.abs(ae),te=v*le;return re>te||-re>te?re:S(D,b,O,F)}];function x(i){var D=R[i.length];return D||(D=R[i.length]=y(i.length)),D.apply(void 0,i)}function E(i,D,b,O,F,V,_){return function(H,z,G,Y,J){switch(arguments.length){case 0:case 1:return 0;case 2:return O(H,z);case 3:return F(H,z,G);case 4:return V(H,z,G,Y);case 5:return _(H,z,G,Y,J)}for(var ae=new Array(arguments.length),oe=0;oe<arguments.length;++oe)ae[oe]=arguments[oe];return i(ae)}}function T(){for(;R.length<=c;)R.push(y(R.length));h.exports=E.apply(void 0,[x].concat(R));for(var i=0;i<=c;++i)h.exports[i]=R[i]}T()},2019:function(h,g,t){var r=t(9662),s=t(8289);h.exports=n;function n(l,c){if(l.length===1)return s(c,l[0]);if(c.length===1)return s(l,c[0]);if(l.length===0||c.length===0)return[0];var f=[0];if(l.length<c.length)for(var m=0;m<l.length;++m)f=r(f,s(c,l[m]));else for(var m=0;m<c.length;++m)f=r(f,s(l,c[m]));return f}},8289:function(h,g,t){var r=t(9660),s=t(87);h.exports=n;function n(l,c){var f=l.length;if(f===1){var m=r(l[0],c);return m[0]?m:[m[1]]}var v=new Array(2*f),A=[.1,.1],d=[.1,.1],u=0;r(l[0],c,A),A[0]&&(v[u++]=A[0]);for(var y=1;y<f;++y){r(l[y],c,d);var M=A[1];s(M,d[0],A),A[0]&&(v[u++]=A[0]);var S=d[1],R=A[1],x=S+R,E=x-S,T=R-E;A[1]=x,T&&(v[u++]=T)}return A[1]&&(v[u++]=A[1]),u===0&&(v[u++]=0),v.length=u,v}},4434:function(h,g,t){h.exports=n;var r=t(417)[3];function s(l,c,f,m){for(var v=0;v<2;++v){var A=l[v],d=c[v],u=Math.min(A,d),y=Math.max(A,d),M=f[v],S=m[v],R=Math.min(M,S),x=Math.max(M,S);if(x<u||y<R)return!1}return!0}function n(l,c,f,m){var v=r(l,f,m),A=r(c,f,m);if(v>0&&A>0||v<0&&A<0)return!1;var d=r(f,l,c),u=r(m,l,c);return d>0&&u>0||d<0&&u<0?!1:v===0&&A===0&&d===0&&u===0?s(l,c,f,m):!0}},4078:function(h){h.exports=t;function g(r,s){var n=r+s,l=n-r,c=n-l,f=s-l,m=r-c,v=m+f;return v?[v,n]:[n]}function t(r,s){var n=r.length|0,l=s.length|0;if(n===1&&l===1)return g(r[0],-s[0]);var c=n+l,f=new Array(c),m=0,v=0,A=0,d=Math.abs,u=r[v],y=d(u),M=-s[A],S=d(M),R,x;y<S?(x=u,v+=1,v<n&&(u=r[v],y=d(u))):(x=M,A+=1,A<l&&(M=-s[A],S=d(M))),v<n&&y<S||A>=l?(R=u,v+=1,v<n&&(u=r[v],y=d(u))):(R=M,A+=1,A<l&&(M=-s[A],S=d(M)));for(var E=R+x,T=E-R,i=x-T,D=i,b=E,O,F,V,_,U;v<n&&A<l;)y<S?(R=u,v+=1,v<n&&(u=r[v],y=d(u))):(R=M,A+=1,A<l&&(M=-s[A],S=d(M))),x=D,E=R+x,T=E-R,i=x-T,i&&(f[m++]=i),O=b+E,F=O-b,V=O-F,_=E-F,U=b-V,D=U+_,b=O;for(;v<n;)R=u,x=D,E=R+x,T=E-R,i=x-T,i&&(f[m++]=i),O=b+E,F=O-b,V=O-F,_=E-F,U=b-V,D=U+_,b=O,v+=1,v<n&&(u=r[v]);for(;A<l;)R=M,x=D,E=R+x,T=E-R,i=x-T,i&&(f[m++]=i),O=b+E,F=O-b,V=O-F,_=E-F,U=b-V,D=U+_,b=O,A+=1,A<l&&(M=-s[A]);return D&&(f[m++]=D),b&&(f[m++]=b),m||(f[m++]=0),f.length=m,f}},9662:function(h){h.exports=t;function g(r,s){var n=r+s,l=n-r,c=n-l,f=s-l,m=r-c,v=m+f;return v?[v,n]:[n]}function t(r,s){var n=r.length|0,l=s.length|0;if(n===1&&l===1)return g(r[0],s[0]);var c=n+l,f=new Array(c),m=0,v=0,A=0,d=Math.abs,u=r[v],y=d(u),M=s[A],S=d(M),R,x;y<S?(x=u,v+=1,v<n&&(u=r[v],y=d(u))):(x=M,A+=1,A<l&&(M=s[A],S=d(M))),v<n&&y<S||A>=l?(R=u,v+=1,v<n&&(u=r[v],y=d(u))):(R=M,A+=1,A<l&&(M=s[A],S=d(M)));for(var E=R+x,T=E-R,i=x-T,D=i,b=E,O,F,V,_,U;v<n&&A<l;)y<S?(R=u,v+=1,v<n&&(u=r[v],y=d(u))):(R=M,A+=1,A<l&&(M=s[A],S=d(M))),x=D,E=R+x,T=E-R,i=x-T,i&&(f[m++]=i),O=b+E,F=O-b,V=O-F,_=E-F,U=b-V,D=U+_,b=O;for(;v<n;)R=u,x=D,E=R+x,T=E-R,i=x-T,i&&(f[m++]=i),O=b+E,F=O-b,V=O-F,_=E-F,U=b-V,D=U+_,b=O,v+=1,v<n&&(u=r[v]);for(;A<l;)R=M,x=D,E=R+x,T=E-R,i=x-T,i&&(f[m++]=i),O=b+E,F=O-b,V=O-F,_=E-F,U=b-V,D=U+_,b=O,A+=1,A<l&&(M=s[A]);return D&&(f[m++]=D),b&&(f[m++]=b),m||(f[m++]=0),f.length=m,f}},8691:function(h,g,t){h.exports=n;var r=t(2692),s=t(7037);function n(l){return s(r(l))}},7212:function(h,g,t){h.exports=u;var r=t(5050),s=t(5306),n=t(8729),l=t(1168);function c(y){for(var M=y.length,S=0,R=0;R<M;++R)S=Math.max(S,y[R].length)|0;return S-1}function f(y,M){for(var S=y.length,R=s.mallocUint8(S),x=0;x<S;++x)R[x]=y[x]<M|0;return R}function m(y,M){for(var S=y.length,R=M*(M+1)/2*S|0,x=s.mallocUint32(R*2),E=0,T=0;T<S;++T)for(var i=y[T],M=i.length,D=0;D<M;++D)for(var b=0;b<D;++b){var O=i[b],F=i[D];x[E++]=Math.min(O,F)|0,x[E++]=Math.max(O,F)|0}var V=E/2|0;n(r(x,[V,2]));for(var _=2,T=2;T<E;T+=2)x[T-2]===x[T]&&x[T-1]===x[T+1]||(x[_++]=x[T],x[_++]=x[T+1]);return r(x,[_/2|0,2])}function v(y,M,S,R){for(var x=y.data,E=y.shape[0],T=s.mallocDouble(E),i=0,D=0;D<E;++D){var b=x[2*D],O=x[2*D+1];if(S[b]!==S[O]){var F=M[b],V=M[O];x[2*i]=b,x[2*i+1]=O,T[i++]=(V-R)/(V-F)}}return y.shape[0]=i,r(T,[i])}function A(y,M){var S=s.mallocInt32(M*2),R=y.shape[0],x=y.data;S[0]=0;for(var E=0,T=0;T<R;++T){var i=x[2*T];if(i!==E){for(S[2*E+1]=T;++E<i;)S[2*E]=T,S[2*E+1]=T;S[2*E]=T}}for(S[2*E+1]=R;++E<M;)S[2*E]=S[2*E+1]=R;return S}function d(y){for(var M=y.shape[0]|0,S=y.data,R=new Array(M),x=0;x<M;++x)R[x]=[S[2*x],S[2*x+1]];return R}function u(y,M,S,R){S=S||0,typeof R>"u"&&(R=c(y));var x=y.length;if(x===0||R<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=f(M,+S),T=m(y,R),i=v(T,M,E,+S),D=A(T,M.length|0),b=l(R)(y,T.data,D,E),O=d(T),F=[].slice.call(i.data,0,i.shape[0]);return s.free(E),s.free(T.data),s.free(i.data),s.free(D),{cells:b,vertexIds:O,vertexWeights:F}}},1168:function(h){h.exports=t;var g=[function(){function s(n,l,c,f){for(var m=n.length,v=[],A=0;A<m;++A){var d=n[A];d.length}return v}return s},function(){function s(l,c,f,m){for(var v=Math.min(f,m)|0,A=Math.max(f,m)|0,d=l[2*v],u=l[2*v+1];d<u;){var y=d+u>>1,M=c[2*y+1];if(M===A)return y;A<M?u=y:d=y+1}return d}function n(l,c,f,m){for(var v=l.length,A=[],d=0;d<v;++d){var u=l[d],y=u.length;if(y===2){var M=(m[u[0]]<<0)+(m[u[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:A.push([s(f,c,u[0],u[1])]);break;case 2:A.push([s(f,c,u[1],u[0])]);break}}}return A}return n},function(){function s(l,c,f,m){for(var v=Math.min(f,m)|0,A=Math.max(f,m)|0,d=l[2*v],u=l[2*v+1];d<u;){var y=d+u>>1,M=c[2*y+1];if(M===A)return y;A<M?u=y:d=y+1}return d}function n(l,c,f,m){for(var v=l.length,A=[],d=0;d<v;++d){var u=l[d],y=u.length;if(y===3){var M=(m[u[0]]<<0)+(m[u[1]]<<1)+(m[u[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:A.push([s(f,c,u[0],u[2]),s(f,c,u[0],u[1])]);break;case 2:A.push([s(f,c,u[1],u[0]),s(f,c,u[1],u[2])]);break;case 3:A.push([s(f,c,u[0],u[2]),s(f,c,u[1],u[2])]);break;case 4:A.push([s(f,c,u[2],u[1]),s(f,c,u[2],u[0])]);break;case 5:A.push([s(f,c,u[2],u[1]),s(f,c,u[0],u[1])]);break;case 6:A.push([s(f,c,u[1],u[0]),s(f,c,u[2],u[0])]);break}}else if(y===2){var M=(m[u[0]]<<0)+(m[u[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:A.push([s(f,c,u[0],u[1])]);break;case 2:A.push([s(f,c,u[1],u[0])]);break}}}return A}return n},function(){function s(l,c,f,m){for(var v=Math.min(f,m)|0,A=Math.max(f,m)|0,d=l[2*v],u=l[2*v+1];d<u;){var y=d+u>>1,M=c[2*y+1];if(M===A)return y;A<M?u=y:d=y+1}return d}function n(l,c,f,m){for(var v=l.length,A=[],d=0;d<v;++d){var u=l[d],y=u.length;if(y===4){var M=(m[u[0]]<<0)+(m[u[1]]<<1)+(m[u[2]]<<2)+(m[u[3]]<<3);if(M===0||M===15)continue;switch(M){case 0:break;case 1:A.push([s(f,c,u[0],u[1]),s(f,c,u[0],u[2]),s(f,c,u[0],u[3])]);break;case 2:A.push([s(f,c,u[1],u[2]),s(f,c,u[1],u[0]),s(f,c,u[1],u[3])]);break;case 3:A.push([s(f,c,u[1],u[2]),s(f,c,u[0],u[2]),s(f,c,u[0],u[3])],[s(f,c,u[1],u[3]),s(f,c,u[1],u[2]),s(f,c,u[0],u[3])]);break;case 4:A.push([s(f,c,u[2],u[0]),s(f,c,u[2],u[1]),s(f,c,u[2],u[3])]);break;case 5:A.push([s(f,c,u[0],u[1]),s(f,c,u[2],u[1]),s(f,c,u[0],u[3])],[s(f,c,u[2],u[1]),s(f,c,u[2],u[3]),s(f,c,u[0],u[3])]);break;case 6:A.push([s(f,c,u[2],u[0]),s(f,c,u[1],u[0]),s(f,c,u[1],u[3])],[s(f,c,u[2],u[3]),s(f,c,u[2],u[0]),s(f,c,u[1],u[3])]);break;case 7:A.push([s(f,c,u[0],u[3]),s(f,c,u[1],u[3]),s(f,c,u[2],u[3])]);break;case 8:A.push([s(f,c,u[3],u[1]),s(f,c,u[3],u[0]),s(f,c,u[3],u[2])]);break;case 9:A.push([s(f,c,u[3],u[1]),s(f,c,u[0],u[1]),s(f,c,u[0],u[2])],[s(f,c,u[3],u[2]),s(f,c,u[3],u[1]),s(f,c,u[0],u[2])]);break;case 10:A.push([s(f,c,u[1],u[0]),s(f,c,u[3],u[0]),s(f,c,u[1],u[2])],[s(f,c,u[3],u[0]),s(f,c,u[3],u[2]),s(f,c,u[1],u[2])]);break;case 11:A.push([s(f,c,u[1],u[2]),s(f,c,u[0],u[2]),s(f,c,u[3],u[2])]);break;case 12:A.push([s(f,c,u[3],u[0]),s(f,c,u[2],u[0]),s(f,c,u[2],u[1])],[s(f,c,u[3],u[1]),s(f,c,u[3],u[0]),s(f,c,u[2],u[1])]);break;case 13:A.push([s(f,c,u[0],u[1]),s(f,c,u[2],u[1]),s(f,c,u[3],u[1])]);break;case 14:A.push([s(f,c,u[2],u[0]),s(f,c,u[1],u[0]),s(f,c,u[3],u[0])]);break}}else if(y===3){var M=(m[u[0]]<<0)+(m[u[1]]<<1)+(m[u[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:A.push([s(f,c,u[0],u[2]),s(f,c,u[0],u[1])]);break;case 2:A.push([s(f,c,u[1],u[0]),s(f,c,u[1],u[2])]);break;case 3:A.push([s(f,c,u[0],u[2]),s(f,c,u[1],u[2])]);break;case 4:A.push([s(f,c,u[2],u[1]),s(f,c,u[2],u[0])]);break;case 5:A.push([s(f,c,u[2],u[1]),s(f,c,u[0],u[1])]);break;case 6:A.push([s(f,c,u[1],u[0]),s(f,c,u[2],u[0])]);break}}else if(y===2){var M=(m[u[0]]<<0)+(m[u[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:A.push([s(f,c,u[0],u[1])]);break;case 2:A.push([s(f,c,u[1],u[0])]);break}}}return A}return n}];function t(r){return g[r]()}},8211:function(h,g,t){t(2288),t(1731);function r(s,n){var l=s.length,c=s.length-n.length,f=Math.min;if(c)return c;switch(l){case 0:return 0;case 1:return s[0]-n[0];case 2:var u=s[0]+s[1]-n[0]-n[1];return u||f(s[0],s[1])-f(n[0],n[1]);case 3:var m=s[0]+s[1],v=n[0]+n[1];if(u=m+s[2]-(v+n[2]),u)return u;var A=f(s[0],s[1]),d=f(n[0],n[1]),u=f(A,s[2])-f(d,n[2]);return u||f(A+s[2],m)-f(d+n[2],v);default:var y=s.slice(0);y.sort();var M=n.slice(0);M.sort();for(var S=0;S<l;++S)if(c=y[S]-M[S],c)return c;return 0}}g.H=r},9392:function(h,g){"use restrict";var t=32;g.INT_BITS=t,g.INT_MAX=2147483647,g.INT_MIN=-1<<t-1,g.sign=function(n){return(n>0)-(n<0)},g.abs=function(n){var l=n>>t-1;return(n^l)-l},g.min=function(n,l){return l^(n^l)&-(n<l)},g.max=function(n,l){return n^(n^l)&-(n<l)},g.isPow2=function(n){return!(n&n-1)&&!!n},g.log2=function(n){var l,c;return l=(n>65535)<<4,n>>>=l,c=(n>255)<<3,n>>>=c,l|=c,c=(n>15)<<2,n>>>=c,l|=c,c=(n>3)<<1,n>>>=c,l|=c,l|n>>1},g.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},g.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var l=32;return n&=-n,n&&l--,n&65535&&(l-=16),n&16711935&&(l-=8),n&252645135&&(l-=4),n&858993459&&(l-=2),n&1431655765&&(l-=1),l}g.countTrailingZeros=r,g.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},g.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},g.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var l=0;l<256;++l){var c=l,f=l,m=7;for(c>>>=1;c;c>>>=1)f<<=1,f|=c&1,--m;n[l]=f<<m&255}})(s),g.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},g.interleave2=function(n,l){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,n|l<<1},g.deinterleave2=function(n,l){return n=n>>>l&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},g.interleave3=function(n,l,c){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|=l<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,n|c<<2},g.deinterleave3=function(n,l){return n=n>>>l&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},g.nextCombination=function(n){var l=n|n-1;return l+1|(~l&-~l)-1>>>r(n)+1}},6656:function(h,g,t){"use restrict";var r=t(9392),s=t(9521);function n(i){for(var D=0,b=Math.max,O=0,F=i.length;O<F;++O)D=b(D,i[O].length);return D-1}g.dimension=n;function l(i){for(var D=-1,b=Math.max,O=0,F=i.length;O<F;++O)for(var V=i[O],_=0,U=V.length;_<U;++_)D=b(D,V[_]);return D+1}g.countVertices=l;function c(i){for(var D=new Array(i.length),b=0,O=i.length;b<O;++b)D[b]=i[b].slice(0);return D}g.cloneCells=c;function f(i,D){var b=i.length,O=i.length-D.length,F=Math.min;if(O)return O;switch(b){case 0:return 0;case 1:return i[0]-D[0];case 2:var z=i[0]+i[1]-D[0]-D[1];return z||F(i[0],i[1])-F(D[0],D[1]);case 3:var V=i[0]+i[1],_=D[0]+D[1];if(z=V+i[2]-(_+D[2]),z)return z;var U=F(i[0],i[1]),H=F(D[0],D[1]),z=F(U,i[2])-F(H,D[2]);return z||F(U+i[2],V)-F(H+D[2],_);default:var G=i.slice(0);G.sort();var Y=D.slice(0);Y.sort();for(var J=0;J<b;++J)if(O=G[J]-Y[J],O)return O;return 0}}g.compareCells=f;function m(i,D){return f(i[0],D[0])}function v(i,D){if(D){for(var b=i.length,O=new Array(b),F=0;F<b;++F)O[F]=[i[F],D[F]];O.sort(m);for(var F=0;F<b;++F)i[F]=O[F][0],D[F]=O[F][1];return i}else return i.sort(f),i}g.normalize=v;function A(i){if(i.length===0)return[];for(var D=1,b=i.length,O=1;O<b;++O){var F=i[O];if(f(F,i[O-1])){if(O===D){D++;continue}i[D++]=F}}return i.length=D,i}g.unique=A;function d(i,D){for(var b=0,O=i.length-1,F=-1;b<=O;){var V=b+O>>1,_=f(i[V],D);_<=0?(_===0&&(F=V),b=V+1):_>0&&(O=V-1)}return F}g.findCell=d;function u(i,D){for(var b=new Array(i.length),O=0,F=b.length;O<F;++O)b[O]=[];for(var V=[],O=0,_=D.length;O<_;++O)for(var U=D[O],H=U.length,z=1,G=1<<H;z<G;++z){V.length=r.popCount(z);for(var Y=0,J=0;J<H;++J)z&1<<J&&(V[Y++]=U[J]);var ae=d(i,V);if(!(ae<0))for(;b[ae++].push(O),!(ae>=i.length||f(i[ae],V)!==0););}return b}g.incidence=u;function y(i,D){if(!D)return u(A(S(i,0)),i);for(var b=new Array(D),O=0;O<D;++O)b[O]=[];for(var O=0,F=i.length;O<F;++O)for(var V=i[O],_=0,U=V.length;_<U;++_)b[V[_]].push(O);return b}g.dual=y;function M(i){for(var D=[],b=0,O=i.length;b<O;++b)for(var F=i[b],V=F.length|0,_=1,U=1<<V;_<U;++_){for(var H=[],z=0;z<V;++z)_>>>z&1&&H.push(F[z]);D.push(H)}return v(D)}g.explode=M;function S(i,D){if(D<0)return[];for(var b=[],O=(1<<D+1)-1,F=0;F<i.length;++F)for(var V=i[F],_=O;_<1<<V.length;_=r.nextCombination(_)){for(var U=new Array(D+1),H=0,z=0;z<V.length;++z)_&1<<z&&(U[H++]=V[z]);b.push(U)}return v(b)}g.skeleton=S;function R(i){for(var D=[],b=0,O=i.length;b<O;++b)for(var F=i[b],V=0,_=F.length;V<_;++V){for(var U=new Array(F.length-1),H=0,z=0;H<_;++H)H!==V&&(U[z++]=F[H]);D.push(U)}return v(D)}g.boundary=R;function x(i,D){for(var b=new s(D),O=0;O<i.length;++O)for(var F=i[O],V=0;V<F.length;++V)for(var _=V+1;_<F.length;++_)b.link(F[V],F[_]);for(var U=[],H=b.ranks,O=0;O<H.length;++O)H[O]=-1;for(var O=0;O<i.length;++O){var z=b.find(i[O][0]);H[z]<0?(H[z]=U.length,U.push([i[O].slice(0)])):U[H[z]].push(i[O].slice(0))}return U}function E(i){for(var D=A(v(S(i,0))),b=new s(D.length),O=0;O<i.length;++O)for(var F=i[O],V=0;V<F.length;++V)for(var _=d(D,[F[V]]),U=V+1;U<F.length;++U)b.link(_,d(D,[F[U]]));for(var H=[],z=b.ranks,O=0;O<z.length;++O)z[O]=-1;for(var O=0;O<i.length;++O){var G=b.find(d(D,[i[O][0]]));z[G]<0?(z[G]=H.length,H.push([i[O].slice(0)])):H[z[G]].push(i[O].slice(0))}return H}function T(i,D){return D?x(i,D):E(i)}g.connectedComponents=T},9521:function(h){"use restrict";h.exports=g;function g(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}g.prototype.length=function(){return this.roots.length},g.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},g.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var s=r[t];r[t]=r[s],t=s}return t},g.prototype.link=function(t,r){var s=this.find(t),n=this.find(r);if(s!==n){var l=this.ranks,c=this.roots,f=l[s],m=l[n];f<m?c[s]=n:m<f?c[n]=s:(c[n]=s,++l[s])}}},8243:function(h,g,t){h.exports=l;var r=t(417),s=t(6656);function n(c,f,m){var v=Math.abs(r(c,f,m)),A=Math.sqrt(Math.pow(f[0]-m[0],2)+Math.pow(f[1]-m[1],2));return v/A}function l(c,f,m){for(var v=f.length,A=c.length,d=new Array(v),u=new Array(v),y=new Array(v),M=new Array(v),S=0;S<v;++S)d[S]=u[S]=-1,y[S]=1/0,M[S]=!1;for(var S=0;S<A;++S){var R=c[S];if(R.length!==2)throw new Error("Input must be a graph");var x=R[1],E=R[0];u[E]!==-1?u[E]=-2:u[E]=x,d[x]!==-1?d[x]=-2:d[x]=E}function T(q){if(M[q])return 1/0;var Z=d[q],$=u[q];return Z<0||$<0?1/0:n(f[q],f[Z],f[$])}function i(q,Z){var $=H[q],K=H[Z];H[q]=K,H[Z]=$,z[$]=Z,z[K]=q}function D(q){return y[H[q]]}function b(q){return q&1?q-1>>1:(q>>1)-1}function O(q){for(var Z=D(q);;){var $=Z,K=2*q+1,re=2*(q+1),le=q;if(K<Y){var te=D(K);te<$&&(le=K,$=te)}if(re<Y){var ee=D(re);ee<$&&(le=re)}if(le===q)return q;i(q,le),q=le}}function F(q){for(var Z=D(q);q>0;){var $=b(q);if($>=0){var K=D($);if(Z<K){i(q,$),q=$;continue}}return q}}function V(){if(Y>0){var q=H[0];return i(0,Y-1),Y-=1,O(0),q}return-1}function _(q,Z){var $=H[q];return y[$]===Z?q:(y[$]=-1/0,F(q),V(),y[$]=Z,Y+=1,F(Y-1))}function U(q){if(!M[q]){M[q]=!0;var Z=d[q],$=u[q];d[$]>=0&&(d[$]=Z),u[Z]>=0&&(u[Z]=$),z[Z]>=0&&_(z[Z],T(Z)),z[$]>=0&&_(z[$],T($))}}for(var H=[],z=new Array(v),S=0;S<v;++S){var G=y[S]=T(S);G<1/0?(z[S]=H.length,H.push(S)):z[S]=-1}for(var Y=H.length,S=Y>>1;S>=0;--S)O(S);for(;;){var J=V();if(J<0||y[J]>m)break;U(J)}for(var ae=[],S=0;S<v;++S)M[S]||(z[S]=ae.length,ae.push(f[S].slice()));ae.length;function oe(q,Z){if(q[Z]<0)return Z;var $=Z,K=Z;do{var re=q[K];if(!M[K]||re<0||re===K||(K=re,re=q[K],!M[K]||re<0||re===K))break;K=re,$=q[$]}while($!==K);for(var le=Z;le!==K;le=q[le])q[le]=K;return K}var he=[];return c.forEach(function(q){var Z=oe(d,q[0]),$=oe(u,q[1]);if(Z>=0&&$>=0&&Z!==$){var K=z[Z],re=z[$];K!==re&&he.push([K,re])}}),s.unique(s.normalize(he)),{positions:ae,edges:he}}},6638:function(h,g,t){h.exports=n;var r=t(417);function s(l,c){var f,m;if(c[0][0]<c[1][0])f=c[0],m=c[1];else if(c[0][0]>c[1][0])f=c[1],m=c[0];else{var v=Math.min(l[0][1],l[1][1]),A=Math.max(l[0][1],l[1][1]),d=Math.min(c[0][1],c[1][1]),u=Math.max(c[0][1],c[1][1]);return A<d?A-d:v>u?v-u:A-u}var y,M;l[0][1]<l[1][1]?(y=l[0],M=l[1]):(y=l[1],M=l[0]);var S=r(m,f,y);return S||(S=r(m,f,M),S)?S:M-m}function n(l,c){var f,m;if(c[0][0]<c[1][0])f=c[0],m=c[1];else if(c[0][0]>c[1][0])f=c[1],m=c[0];else return s(c,l);var v,A;if(l[0][0]<l[1][0])v=l[0],A=l[1];else if(l[0][0]>l[1][0])v=l[1],A=l[0];else return-s(l,c);var d=r(f,m,A),u=r(f,m,v);if(d<0){if(u<=0)return d}else if(d>0){if(u>=0)return d}else if(u)return u;if(d=r(A,v,m),u=r(A,v,f),d<0){if(u<=0)return d}else if(d>0){if(u>=0)return d}else if(u)return u;return m[0]-A[0]}},4385:function(h,g,t){h.exports=u;var r=t(5070),s=t(7080),n=t(417),l=t(6638);function c(y,M,S){this.slabs=y,this.coordinates=M,this.horizontal=S}var f=c.prototype;function m(y,M){return y.y-M}function v(y,M){for(var S=null;y;){var R=y.key,x,E;R[0][0]<R[1][0]?(x=R[0],E=R[1]):(x=R[1],E=R[0]);var T=n(x,E,M);if(T<0)y=y.left;else if(T>0)if(M[0]!==R[1][0])S=y,y=y.right;else{var i=v(y.right,M);if(i)return i;y=y.left}else{if(M[0]!==R[1][0])return y;var i=v(y.right,M);if(i)return i;y=y.left}}return S}f.castUp=function(y){var M=r.le(this.coordinates,y[0]);if(M<0)return-1;this.slabs[M];var S=v(this.slabs[M],y),R=-1;if(S&&(R=S.value),this.coordinates[M]===y[0]){var x=null;if(S&&(x=S.key),M>0){var E=v(this.slabs[M-1],y);E&&(x?l(E.key,x)>0&&(x=E.key,R=E.value):(R=E.value,x=E.key))}var T=this.horizontal[M];if(T.length>0){var i=r.ge(T,y[1],m);if(i<T.length){var D=T[i];if(y[1]===D.y){if(D.closed)return D.index;for(;i<T.length-1&&T[i+1].y===y[1];)if(i=i+1,D=T[i],D.closed)return D.index;if(D.y===y[1]&&!D.start){if(i=i+1,i>=T.length)return R;D=T[i]}}if(D.start)if(x){var b=n(x[0],x[1],[y[0],D.y]);x[0][0]>x[1][0]&&(b=-b),b>0&&(R=D.index)}else R=D.index;else D.y!==y[1]&&(R=D.index)}}}return R};function A(y,M,S,R){this.y=y,this.index=M,this.start=S,this.closed=R}function d(y,M,S,R){this.x=y,this.segment=M,this.create=S,this.index=R}function u(y){for(var M=y.length,S=2*M,R=new Array(S),x=0;x<M;++x){var E=y[x],T=E[0][0]<E[1][0];R[2*x]=new d(E[0][0],E,T,x),R[2*x+1]=new d(E[1][0],E,!T,x)}R.sort(function(U,H){var z=U.x-H.x;return z||(z=U.create-H.create,z)?z:Math.min(U.segment[0][1],U.segment[1][1])-Math.min(H.segment[0][1],H.segment[1][1])});for(var i=s(l),D=[],b=[],O=[],x=0;x<S;){for(var F=R[x].x,V=[];x<S;){var _=R[x];if(_.x!==F)break;x+=1,_.segment[0][0]===_.x&&_.segment[1][0]===_.x?_.create&&(_.segment[0][1]<_.segment[1][1]?(V.push(new A(_.segment[0][1],_.index,!0,!0)),V.push(new A(_.segment[1][1],_.index,!1,!1))):(V.push(new A(_.segment[1][1],_.index,!0,!1)),V.push(new A(_.segment[0][1],_.index,!1,!0)))):_.create?i=i.insert(_.segment,_.index):i=i.remove(_.segment)}D.push(i.root),b.push(F),O.push(V)}return new c(D,b,O)}},4670:function(h,g,t){var r=t(9130),s=t(9662);h.exports=c,h.exports.positive=f,h.exports.negative=m;function n(v,A){var d=s(r(v,A),[A[A.length-1]]);return d[d.length-1]}function l(v,A,d,u){var y=u-A,M=-A/y;M<0?M=0:M>1&&(M=1);for(var S=1-M,R=v.length,x=new Array(R),E=0;E<R;++E)x[E]=M*v[E]+S*d[E];return x}function c(v,A){for(var d=[],u=[],y=n(v[v.length-1],A),M=v[v.length-1],S=v[0],R=0;R<v.length;++R,M=S){S=v[R];var x=n(S,A);if(y<0&&x>0||y>0&&x<0){var E=l(M,x,S,y);d.push(E),u.push(E.slice())}x<0?u.push(S.slice()):x>0?d.push(S.slice()):(d.push(S.slice()),u.push(S.slice())),y=x}return{positive:d,negative:u}}function f(v,A){for(var d=[],u=n(v[v.length-1],A),y=v[v.length-1],M=v[0],S=0;S<v.length;++S,y=M){M=v[S];var R=n(M,A);(u<0&&R>0||u>0&&R<0)&&d.push(l(y,R,M,u)),R>=0&&d.push(M.slice()),u=R}return d}function m(v,A){for(var d=[],u=n(v[v.length-1],A),y=v[v.length-1],M=v[0],S=0;S<v.length;++S,y=M){M=v[S];var R=n(M,A);(u<0&&R>0||u>0&&R<0)&&d.push(l(y,R,M,u)),R<=0&&d.push(M.slice()),u=R}return d}},8974:function(h,g,t){var r;(function(){var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(v){return c(m(v),arguments)}function l(v,A){return n.apply(null,[v].concat(A||[]))}function c(v,A){var d=1,u=v.length,y,M="",S,R,x,E,T,i,D,b;for(S=0;S<u;S++)if(typeof v[S]=="string")M+=v[S];else if(typeof v[S]=="object"){if(x=v[S],x.keys)for(y=A[d],R=0;R<x.keys.length;R++){if(y==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[R],x.keys[R-1]));y=y[x.keys[R]]}else x.param_no?y=A[x.param_no]:y=A[d++];if(s.not_type.test(x.type)&&s.not_primitive.test(x.type)&&y instanceof Function&&(y=y()),s.numeric_arg.test(x.type)&&typeof y!="number"&&isNaN(y))throw new TypeError(n("[sprintf] expecting number but found %T",y));switch(s.number.test(x.type)&&(D=y>=0),x.type){case"b":y=parseInt(y,10).toString(2);break;case"c":y=String.fromCharCode(parseInt(y,10));break;case"d":case"i":y=parseInt(y,10);break;case"j":y=JSON.stringify(y,null,x.width?parseInt(x.width):0);break;case"e":y=x.precision?parseFloat(y).toExponential(x.precision):parseFloat(y).toExponential();break;case"f":y=x.precision?parseFloat(y).toFixed(x.precision):parseFloat(y);break;case"g":y=x.precision?String(Number(y.toPrecision(x.precision))):parseFloat(y);break;case"o":y=(parseInt(y,10)>>>0).toString(8);break;case"s":y=String(y),y=x.precision?y.substring(0,x.precision):y;break;case"t":y=String(!!y),y=x.precision?y.substring(0,x.precision):y;break;case"T":y=Object.prototype.toString.call(y).slice(8,-1).toLowerCase(),y=x.precision?y.substring(0,x.precision):y;break;case"u":y=parseInt(y,10)>>>0;break;case"v":y=y.valueOf(),y=x.precision?y.substring(0,x.precision):y;break;case"x":y=(parseInt(y,10)>>>0).toString(16);break;case"X":y=(parseInt(y,10)>>>0).toString(16).toUpperCase();break}s.json.test(x.type)?M+=y:(s.number.test(x.type)&&(!D||x.sign)?(b=D?"+":"-",y=y.toString().replace(s.sign,"")):b="",T=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",i=x.width-(b+y).length,E=x.width&&i>0?T.repeat(i):"",M+=x.align?b+y+E:T==="0"?b+E+y:E+b+y)}return M}var f=Object.create(null);function m(v){if(f[v])return f[v];for(var A=v,d,u=[],y=0;A;){if((d=s.text.exec(A))!==null)u.push(d[0]);else if((d=s.modulo.exec(A))!==null)u.push("%");else if((d=s.placeholder.exec(A))!==null){if(d[2]){y|=1;var M=[],S=d[2],R=[];if((R=s.key.exec(S))!==null)for(M.push(R[1]);(S=S.substring(R[0].length))!=="";)if((R=s.key_access.exec(S))!==null)M.push(R[1]);else if((R=s.index_access.exec(S))!==null)M.push(R[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");d[2]=M}else y|=2;if(y===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");u.push({placeholder:d[0],param_no:d[1],keys:d[2],sign:d[3],pad_char:d[4],align:d[5],width:d[6],precision:d[7],type:d[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");A=A.substring(d[0].length)}return f[v]=u}g.sprintf=n,g.vsprintf=l,typeof window<"u"&&(window.sprintf=n,window.vsprintf=l,r=(function(){return{sprintf:n,vsprintf:l}}).call(g,t,g,h),r!==void 0&&(h.exports=r))})()},4162:function(h,g,t){h.exports=m;var r=t(9284),s=t(9584),n={"2d":function(v,A,d){var u=v({order:A,scalarArguments:3,getters:d==="generic"?[0]:void 0,phase:function(M,S,R,x){return M>x|0},vertex:function(M,S,R,x,E,T,i,D,b,O,F,V,_){var U=(i<<0)+(D<<1)+(b<<2)+(O<<3)|0;if(!(U===0||U===15))switch(U){case 0:F.push([M-.5,S-.5]);break;case 1:F.push([M-.25-.25*(x+R-2*_)/(R-x),S-.25-.25*(E+R-2*_)/(R-E)]);break;case 2:F.push([M-.75-.25*(-x-R+2*_)/(x-R),S-.25-.25*(T+x-2*_)/(x-T)]);break;case 3:F.push([M-.5,S-.5-.5*(E+R+T+x-4*_)/(R-E+x-T)]);break;case 4:F.push([M-.25-.25*(T+E-2*_)/(E-T),S-.75-.25*(-E-R+2*_)/(E-R)]);break;case 5:F.push([M-.5-.5*(x+R+T+E-4*_)/(R-x+E-T),S-.5]);break;case 6:F.push([M-.5-.25*(-x-R+T+E)/(x-R+E-T),S-.5-.25*(-E-R+T+x)/(E-R+x-T)]);break;case 7:F.push([M-.75-.25*(T+E-2*_)/(E-T),S-.75-.25*(T+x-2*_)/(x-T)]);break;case 8:F.push([M-.75-.25*(-T-E+2*_)/(T-E),S-.75-.25*(-T-x+2*_)/(T-x)]);break;case 9:F.push([M-.5-.25*(x+R+-T-E)/(R-x+T-E),S-.5-.25*(E+R+-T-x)/(R-E+T-x)]);break;case 10:F.push([M-.5-.5*(-x-R+-T-E+4*_)/(x-R+T-E),S-.5]);break;case 11:F.push([M-.25-.25*(-T-E+2*_)/(T-E),S-.75-.25*(E+R-2*_)/(R-E)]);break;case 12:F.push([M-.5,S-.5-.5*(-E-R+-T-x+4*_)/(E-R+T-x)]);break;case 13:F.push([M-.75-.25*(x+R-2*_)/(R-x),S-.25-.25*(-T-x+2*_)/(T-x)]);break;case 14:F.push([M-.25-.25*(-x-R+2*_)/(x-R),S-.25-.25*(-E-R+2*_)/(E-R)]);break;case 15:F.push([M-.5,S-.5]);break}},cell:function(M,S,R,x,E,T,i,D,b){E?D.push([M,S]):D.push([S,M])}});return function(y,M){var S=[],R=[];return u(y,S,R,M),{positions:S,cells:R}}}};function l(v,A){var d=v.length+"d",u=n[d];if(u)return u(r,v,A)}function c(v,A){for(var d=s(v,A),u=d.length,y=new Array(u),M=new Array(u),S=0;S<u;++S)y[S]=[d[S]],M[S]=[S];return{positions:y,cells:M}}var f={};function m(v,y){if(v.dimension<=0)return{positions:[],cells:[]};if(v.dimension===1)return c(v,y);var d=v.order.join()+"-"+v.dtype,u=f[d],y=+y||0;return u||(u=f[d]=l(v.order,v.dtype)),u(v,y)}},6946:function(h,g,t){h.exports=c;var r=t(875),s=window||p.global||{},n=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};function l(f){for(var m=f.cells,v=f.positions,A=new Float32Array(m.length*6),d=0,u=0,y=0;y<m.length;++y)for(var M=m[y],S=0;S<3;++S){var R=v[M[S]];A[d++]=R[0],A[d++]=R[1]+1.4,u=Math.max(R[0],u)}return{data:A,shape:u}}function c(f,m,A){var A=A||{},d=n[f];d||(d=n[f]={" ":{data:new Float32Array(0),shape:.2}});var u=d[m];if(!u)if(m.length<=1||!/\d/.test(m))u=d[m]=l(r(m,{triangles:!0,font:f,textAlign:A.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var y=m.split(/(\d|\s)/),M=new Array(y.length),S=0,R=0,x=0;x<y.length;++x)M[x]=c(f,y[x]),S+=M[x].data.length,R+=M[x].shape,x>0&&(R+=.02);for(var E=new Float32Array(S),T=0,i=-.5*R,x=0;x<M.length;++x){for(var D=M[x].data,b=0;b<D.length;b+=2)E[T++]=D[b]+i,E[T++]=D[b+1];i+=M[x].shape+.02}u=d[m]={data:E,shape:R}}return u}},14:function(h,g,t){var r=t(4405);h.exports=c;var s=96;function n(f,m){var v=r(getComputedStyle(f).getPropertyValue(m));return v[0]*c(v[1],f)}function l(f,m){var v=document.createElement("div");v.style["font-size"]="128"+f,m.appendChild(v);var A=n(v,"font-size")/128;return m.removeChild(v),A}function c(f,m){switch(m=m||document.body,f=(f||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),f){case"%":return m.clientHeight/100;case"ch":case"ex":return l(f,m);case"em":return n(m,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}},3440:function(h,g,t){h.exports=M;var r=t(8444),s=t(7437),n=t(4422),l=t(903),c=t(899),f=t(9305);function m(S,R,x){return Math.sqrt(Math.pow(S,2)+Math.pow(R,2)+Math.pow(x,2))}function v(S){return Math.min(1,Math.max(-1,S))}function A(S){var R=Math.abs(S[0]),x=Math.abs(S[1]),E=Math.abs(S[2]),T=[0,0,0];R>Math.max(x,E)?T[2]=1:x>Math.max(R,E)?T[0]=1:T[1]=1;for(var i=0,D=0,b=0;b<3;++b)i+=S[b]*S[b],D+=T[b]*S[b];for(var b=0;b<3;++b)T[b]-=D/i*S[b];return c(T,T),T}function d(S,R,x,E,T,i,D,b){this.center=r(x),this.up=r(E),this.right=r(T),this.radius=r([i]),this.angle=r([D,b]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(S,R),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var O=0;O<16;++O)this.computedMatrix[O]=.5;this.recalcMatrix(0)}var u=d.prototype;u.setDistanceLimits=function(S,R){S>0?S=Math.log(S):S=-1/0,R>0?R=Math.log(R):R=1/0,R=Math.max(R,S),this.radius.bounds[0][0]=S,this.radius.bounds[1][0]=R},u.getDistanceLimits=function(S){var R=this.radius.bounds[0];return S?(S[0]=Math.exp(R[0][0]),S[1]=Math.exp(R[1][0]),S):[Math.exp(R[0][0]),Math.exp(R[1][0])]},u.recalcMatrix=function(S){this.center.curve(S),this.up.curve(S),this.right.curve(S),this.radius.curve(S),this.angle.curve(S);for(var R=this.computedUp,x=this.computedRight,E=0,T=0,i=0;i<3;++i)T+=R[i]*x[i],E+=R[i]*R[i];for(var D=Math.sqrt(E),b=0,i=0;i<3;++i)x[i]-=R[i]*T/E,b+=x[i]*x[i],R[i]/=D;for(var O=Math.sqrt(b),i=0;i<3;++i)x[i]/=O;var F=this.computedToward;l(F,R,x),c(F,F);for(var V=Math.exp(this.computedRadius[0]),_=this.computedAngle[0],U=this.computedAngle[1],H=Math.cos(_),z=Math.sin(_),G=Math.cos(U),Y=Math.sin(U),J=this.computedCenter,ae=H*G,oe=z*G,he=Y,q=-H*Y,Z=-z*Y,$=G,K=this.computedEye,re=this.computedMatrix,i=0;i<3;++i){var le=ae*x[i]+oe*F[i]+he*R[i];re[4*i+1]=q*x[i]+Z*F[i]+$*R[i],re[4*i+2]=le,re[4*i+3]=0}var te=re[1],ee=re[5],ue=re[9],se=re[2],ve=re[6],be=re[10],Ee=ee*be-ue*ve,Ae=ue*se-te*be,Oe=te*ve-ee*se,Ue=m(Ee,Ae,Oe);Ee/=Ue,Ae/=Ue,Oe/=Ue,re[0]=Ee,re[4]=Ae,re[8]=Oe;for(var i=0;i<3;++i)K[i]=J[i]+re[2+4*i]*V;for(var i=0;i<3;++i){for(var b=0,Le=0;Le<3;++Le)b+=re[i+4*Le]*K[Le];re[12+i]=-b}re[15]=1},u.getMatrix=function(S,R){this.recalcMatrix(S);var x=this.computedMatrix;if(R){for(var E=0;E<16;++E)R[E]=x[E];return R}return x};var y=[0,0,0];u.rotate=function(S,R,x,E){if(this.angle.move(S,R,x),E){this.recalcMatrix(S);var T=this.computedMatrix;y[0]=T[2],y[1]=T[6],y[2]=T[10];for(var i=this.computedUp,D=this.computedRight,b=this.computedToward,O=0;O<3;++O)T[4*O]=i[O],T[4*O+1]=D[O],T[4*O+2]=b[O];n(T,T,E,y);for(var O=0;O<3;++O)i[O]=T[4*O],D[O]=T[4*O+1];this.up.set(S,i[0],i[1],i[2]),this.right.set(S,D[0],D[1],D[2])}},u.pan=function(S,R,x,E){R=R||0,x=x||0,E=E||0,this.recalcMatrix(S);var T=this.computedMatrix;Math.exp(this.computedRadius[0]);var i=T[1],D=T[5],b=T[9],O=m(i,D,b);i/=O,D/=O,b/=O;var F=T[0],V=T[4],_=T[8],U=F*i+V*D+_*b;F-=i*U,V-=D*U,_-=b*U;var H=m(F,V,_);F/=H,V/=H,_/=H;var z=F*R+i*x,G=V*R+D*x,Y=_*R+b*x;this.center.move(S,z,G,Y);var J=Math.exp(this.computedRadius[0]);J=Math.max(1e-4,J+E),this.radius.set(S,Math.log(J))},u.translate=function(S,R,x,E){this.center.move(S,R||0,x||0,E||0)},u.setMatrix=function(S,R,x,E){var T=1;typeof x=="number"&&(T=x|0),(T<0||T>3)&&(T=1);var i=(T+2)%3;R||(this.recalcMatrix(S),R=this.computedMatrix);var D=R[T],b=R[T+4],O=R[T+8];if(E){var V=Math.abs(D),_=Math.abs(b),U=Math.abs(O),H=Math.max(V,_,U);V===H?(D=D<0?-1:1,b=O=0):U===H?(O=O<0?-1:1,D=b=0):(b=b<0?-1:1,D=O=0)}else{var F=m(D,b,O);D/=F,b/=F,O/=F}var z=R[i],G=R[i+4],Y=R[i+8],J=z*D+G*b+Y*O;z-=D*J,G-=b*J,Y-=O*J;var ae=m(z,G,Y);z/=ae,G/=ae,Y/=ae;var oe=b*Y-O*G,he=O*z-D*Y,q=D*G-b*z,Z=m(oe,he,q);oe/=Z,he/=Z,q/=Z,this.center.jump(S,Ne,ke,We),this.radius.idle(S),this.up.jump(S,D,b,O),this.right.jump(S,z,G,Y);var $,K;if(T===2){var re=R[1],le=R[5],te=R[9],ee=re*z+le*G+te*Y,ue=re*oe+le*he+te*q;Ee<0?$=-Math.PI/2:$=Math.PI/2,K=Math.atan2(ue,ee)}else{var se=R[2],ve=R[6],be=R[10],Ee=se*D+ve*b+be*O,Ae=se*z+ve*G+be*Y,Oe=se*oe+ve*he+be*q;$=Math.asin(v(Ee)),K=Math.atan2(Oe,Ae)}this.angle.jump(S,K,$),this.recalcMatrix(S);var Ue=R[2],Le=R[6],we=R[10],Ce=this.computedMatrix;s(Ce,R);var Ve=Ce[15],Ne=Ce[12]/Ve,ke=Ce[13]/Ve,We=Ce[14]/Ve,rt=Math.exp(this.computedRadius[0]);this.center.jump(S,Ne-Ue*rt,ke-Le*rt,We-we*rt)},u.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},u.idle=function(S){this.center.idle(S),this.up.idle(S),this.right.idle(S),this.radius.idle(S),this.angle.idle(S)},u.flush=function(S){this.center.flush(S),this.up.flush(S),this.right.flush(S),this.radius.flush(S),this.angle.flush(S)},u.setDistance=function(S,R){R>0&&this.radius.set(S,Math.log(R))},u.lookAt=function(S,R,x,E){this.recalcMatrix(S),R=R||this.computedEye,x=x||this.computedCenter,E=E||this.computedUp;var T=E[0],i=E[1],D=E[2],b=m(T,i,D);if(!(b<1e-6)){T/=b,i/=b,D/=b;var O=R[0]-x[0],F=R[1]-x[1],V=R[2]-x[2],_=m(O,F,V);if(!(_<1e-6)){O/=_,F/=_,V/=_;var U=this.computedRight,H=U[0],z=U[1],G=U[2],Y=T*H+i*z+D*G;H-=Y*T,z-=Y*i,G-=Y*D;var J=m(H,z,G);if(!(J<.01&&(H=i*V-D*F,z=D*O-T*V,G=T*F-i*O,J=m(H,z,G),J<1e-6))){H/=J,z/=J,G/=J,this.up.set(S,T,i,D),this.right.set(S,H,z,G),this.center.set(S,x[0],x[1],x[2]),this.radius.set(S,Math.log(_));var ae=i*G-D*z,oe=D*H-T*G,he=T*z-i*H,q=m(ae,oe,he);ae/=q,oe/=q,he/=q;var Z=T*O+i*F+D*V,$=H*O+z*F+G*V,K=ae*O+oe*F+he*V,re=Math.asin(v(Z)),le=Math.atan2(K,$),te=this.angle._state,ee=te[te.length-1],ue=te[te.length-2];ee=ee%(2*Math.PI);var se=Math.abs(ee+2*Math.PI-le),ve=Math.abs(ee-le),be=Math.abs(ee-2*Math.PI-le);se<ve&&(ee+=2*Math.PI),be<ve&&(ee-=2*Math.PI),this.angle.jump(this.angle.lastT(),ee,ue),this.angle.set(S,le,re)}}}};function M(S){S=S||{};var R=S.center||[0,0,0],x=S.up||[0,1,0],E=S.right||A(x),T=S.radius||1,i=S.theta||0,D=S.phi||0;if(R=[].slice.call(R,0,3),x=[].slice.call(x,0,3),c(x,x),E=[].slice.call(E,0,3),c(E,E),"eye"in S){var b=S.eye,O=[b[0]-R[0],b[1]-R[1],b[2]-R[2]];l(E,O,x),m(E[0],E[1],E[2])<1e-6?E=A(x):c(E,E),T=m(O[0],O[1],O[2]);var F=f(x,O)/T,V=f(E,O)/T;D=Math.acos(F),i=Math.acos(V)}return T=Math.log(T),new d(S.zoomMin,S.zoomMax,R,x,E,T,i,D)}},9660:function(h){h.exports=t;var g=+(Math.pow(2,27)+1);function t(r,s,n){var l=r*s,c=g*r,f=c-r,m=c-f,v=r-m,A=g*s,d=A-s,u=A-d,y=s-u,M=l-m*u,S=M-v*u,R=S-m*y,x=v*y-R;return n?(n[0]=x,n[1]=l,n):[x,l]}},87:function(h){h.exports=g;function g(t,r,s){var n=t+r,l=n-t,c=n-l,f=r-l,m=t-c;return s?(s[0]=m+f,s[1]=n,s):[m+f,n]}},5306:function(h,g,t){var r=t(2288),s=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),BIGUINT64:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),BIGINT64:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var l=typeof Uint8ClampedArray<"u",c=typeof BigUint64Array<"u",f=typeof BigInt64Array<"u",m=t.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=s([32,0])),m.BIGUINT64||(m.BIGUINT64=s([32,0])),m.BIGINT64||(m.BIGINT64=s([32,0])),m.BUFFER||(m.BUFFER=s([32,0]));var v=m.DATA,A=m.BUFFER;g.free=function(H){if(n.isBuffer(H))A[r.log2(H.length)].push(H);else{if(Object.prototype.toString.call(H)!=="[object ArrayBuffer]"&&(H=H.buffer),!H)return;var z=H.length||H.byteLength,G=r.log2(z)|0;v[G].push(H)}};function d(U){if(U){var H=U.length||U.byteLength,z=r.log2(H);v[z].push(U)}}function u(U){d(U.buffer)}g.freeUint8=g.freeUint16=g.freeUint32=g.freeBigUint64=g.freeInt8=g.freeInt16=g.freeInt32=g.freeBigInt64=g.freeFloat32=g.freeFloat=g.freeFloat64=g.freeDouble=g.freeUint8Clamped=g.freeDataView=u,g.freeArrayBuffer=d,g.freeBuffer=function(H){A[r.log2(H.length)].push(H)},g.malloc=function(H,z){if(z===void 0||z==="arraybuffer")return y(H);switch(z){case"uint8":return M(H);case"uint16":return S(H);case"uint32":return R(H);case"int8":return x(H);case"int16":return E(H);case"int32":return T(H);case"float":case"float32":return i(H);case"double":case"float64":return D(H);case"uint8_clamped":return b(H);case"bigint64":return F(H);case"biguint64":return O(H);case"buffer":return _(H);case"data":case"dataview":return V(H);default:return null}return null};function y(H){var H=r.nextPow2(H),z=r.log2(H),G=v[z];return G.length>0?G.pop():new ArrayBuffer(H)}g.mallocArrayBuffer=y;function M(U){return new Uint8Array(y(U),0,U)}g.mallocUint8=M;function S(U){return new Uint16Array(y(2*U),0,U)}g.mallocUint16=S;function R(U){return new Uint32Array(y(4*U),0,U)}g.mallocUint32=R;function x(U){return new Int8Array(y(U),0,U)}g.mallocInt8=x;function E(U){return new Int16Array(y(2*U),0,U)}g.mallocInt16=E;function T(U){return new Int32Array(y(4*U),0,U)}g.mallocInt32=T;function i(U){return new Float32Array(y(4*U),0,U)}g.mallocFloat32=g.mallocFloat=i;function D(U){return new Float64Array(y(8*U),0,U)}g.mallocFloat64=g.mallocDouble=D;function b(U){return l?new Uint8ClampedArray(y(U),0,U):M(U)}g.mallocUint8Clamped=b;function O(U){return c?new BigUint64Array(y(8*U),0,U):null}g.mallocBigUint64=O;function F(U){return f?new BigInt64Array(y(8*U),0,U):null}g.mallocBigInt64=F;function V(U){return new DataView(y(U),0,U)}g.mallocDataView=V;function _(U){U=r.nextPow2(U);var H=r.log2(U),z=A[H];return z.length>0?z.pop():new n(U)}g.mallocBuffer=_,g.clearCache=function(){for(var H=0;H<32;++H)m.UINT8[H].length=0,m.UINT16[H].length=0,m.UINT32[H].length=0,m.INT8[H].length=0,m.INT16[H].length=0,m.INT32[H].length=0,m.FLOAT[H].length=0,m.DOUBLE[H].length=0,m.BIGUINT64[H].length=0,m.BIGINT64[H].length=0,m.UINT8C[H].length=0,v[H].length=0,A[H].length=0}},1731:function(h){"use restrict";h.exports=g;function g(r){this.roots=new Array(r),this.ranks=new Array(r);for(var s=0;s<r;++s)this.roots[s]=s,this.ranks[s]=0}var t=g.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var s=r,n=this.roots;n[r]!==r;)r=n[r];for(;n[s]!==r;){var l=n[s];n[s]=r,s=l}return r},t.link=function(r,s){var n=this.find(r),l=this.find(s);if(n!==l){var c=this.ranks,f=this.roots,m=c[n],v=c[l];m<v?f[n]=l:v<m?f[l]=n:(f[l]=n,++c[n])}}},1215:function(h){function g(s,n){for(var l=1,c=s.length,f=s[0],m=s[0],v=1;v<c;++v)if(m=f,f=s[v],n(f,m)){if(v===l){l++;continue}s[l++]=f}return s.length=l,s}function t(s){for(var n=1,l=s.length,c=s[0],f=s[0],m=1;m<l;++m,f=c)if(f=c,c=s[m],c!==f){if(m===n){n++;continue}s[n++]=c}return s.length=n,s}function r(s,n,l){return s.length===0?s:n?(l||s.sort(n),g(s,n)):(l||s.sort(),t(s))}h.exports=r},875:function(h,g,t){h.exports=l;var r=t(712),s=null,n=null;typeof document<"u"&&(s=document.createElement("canvas"),s.width=8192,s.height=1024,n=s.getContext("2d"));function l(c,f){return(typeof f!="object"||f===null)&&(f={}),r(c,f.canvas||s,f.context||n,f)}},712:function(h,g,t){h.exports=F,h.exports.processPixels=O;var r=t(4162),s=t(5050),n=t(8243),l=t(197),c=t(7761),f=t(8040),m="b",v="b|",A="i",d="i|",u="sup",y="+",M="+1",S="sub",R="-",x="-1";function E(V,_,U,H){for(var z="<"+V+">",G="</"+V+">",Y=z.length,J=G.length,ae=_[0]===y||_[0]===R,oe=0,he=-J;oe>-1&&(oe=U.indexOf(z,oe),!(oe===-1||(he=U.indexOf(G,oe+Y),he===-1)||he<=oe));){for(var q=oe;q<he+J;++q)if(q<oe+Y||q>=he)H[q]=null,U=U.substr(0,q)+" "+U.substr(q+1);else if(H[q]!==null){var Z=H[q].indexOf(_[0]);Z===-1?H[q]+=_:ae&&(H[q]=H[q].substr(0,Z+1)+(1+parseInt(H[q][Z+1]))+H[q].substr(Z+2))}var $=oe+Y,K=U.substr($,he-$),re=K.indexOf(z);re!==-1?oe=re:oe=he+J}return H}function T(V,_,U){for(var H=_.textAlign||"start",z=_.textBaseline||"alphabetic",G=[1<<30,1<<30],Y=[0,0],J=V.length,ae=0;ae<J;++ae)for(var oe=V[ae],he=0;he<2;++he)G[he]=Math.min(G[he],oe[he])|0,Y[he]=Math.max(Y[he],oe[he])|0;var q=0;switch(H){case"center":q=-.5*(G[0]+Y[0]);break;case"right":case"end":q=-Y[0];break;case"left":case"start":q=-G[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+H+"'")}var Z=0;switch(z){case"hanging":case"top":Z=-G[1];break;case"middle":Z=-.5*(G[1]+Y[1]);break;case"alphabetic":case"ideographic":Z=-3*U;break;case"bottom":Z=-Y[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var $=1/U;return"lineHeight"in _?$*=+_.lineHeight:"width"in _?$=_.width/(Y[0]-G[0]):"height"in _&&($=_.height/(Y[1]-G[1])),V.map(function(K){return[$*(K[0]+q),$*(K[1]+Z)]})}function i(V,_,U,H,z,G){U=U.replace(/\n/g,""),G.breaklines===!0?U=U.replace(/\<br\>/g,`
`):U=U.replace(/\<br\>/g," ");var Y="",J=[];for(ee=0;ee<U.length;++ee)J[ee]=Y;G.bolds===!0&&(J=E(m,v,U,J)),G.italics===!0&&(J=E(A,d,U,J)),G.superscripts===!0&&(J=E(u,M,U,J)),G.subscripts===!0&&(J=E(S,x,U,J));var ae=[],oe="";for(ee=0;ee<U.length;++ee)J[ee]!==null&&(oe+=U[ee],ae.push(J[ee]));var he=oe.split(`
`),q=he.length,Z=Math.round(z*H),$=H,K=H*2,re=0,le=q*Z+K;V.height<le&&(V.height=le),_.fillStyle="#000",_.fillRect(0,0,V.width,V.height),_.fillStyle="#fff";var te,ee,ue,se,ve,be=0,Ee="";function Ae(){if(Ee!==""){var We=_.measureText(Ee).width;_.fillText(Ee,$+ue,K+se),ue+=We}}function Oe(){return""+Math.round(ve)+"px "}function Ue(We,rt){var et=""+_.font;if(G.subscripts===!0){var tt=We.indexOf(R),at=rt.indexOf(R),ct=tt>-1?parseInt(We[1+tt]):0,dt=at>-1?parseInt(rt[1+at]):0;ct!==dt&&(et=et.replace(Oe(),"?px "),ve*=Math.pow(.75,dt-ct),et=et.replace("?px ",Oe())),se+=.25*Z*(dt-ct)}if(G.superscripts===!0){var gt=We.indexOf(y),Et=rt.indexOf(y),Ct=gt>-1?parseInt(We[1+gt]):0,Vt=Et>-1?parseInt(rt[1+Et]):0;Ct!==Vt&&(et=et.replace(Oe(),"?px "),ve*=Math.pow(.75,Vt-Ct),et=et.replace("?px ",Oe())),se-=.25*Z*(Vt-Ct)}if(G.bolds===!0){var Je=We.indexOf(v)>-1,_e=rt.indexOf(v)>-1;!Je&&_e&&(Fe?et=et.replace("italic ","italic bold "):et="bold "+et),Je&&!_e&&(et=et.replace("bold ",""))}if(G.italics===!0){var Fe=We.indexOf(d)>-1,Be=rt.indexOf(d)>-1;!Fe&&Be&&(et="italic "+et),Fe&&!Be&&(et=et.replace("italic ",""))}_.font=et}for(te=0;te<q;++te){var Le=he[te]+`
`;for(ue=0,se=te*Z,ve=H,Ee="",ee=0;ee<Le.length;++ee){var we=ee+be<ae.length?ae[ee+be]:ae[ae.length-1];Y===we?Ee+=Le[ee]:(Ae(),Ee=Le[ee],we!==void 0&&(Ue(Y,we),Y=we))}Ae(),be+=Le.length;var Ce=Math.round(ue+2*$)|0;re<Ce&&(re=Ce)}var Ve=re,Ne=K+Z*q,ke=s(_.getImageData(0,0,Ve,Ne).data,[Ne,Ve,4]);return ke.pick(-1,-1,0).transpose(1,0)}function D(V,_){var U=r(V,128);return _?n(U.cells,U.positions,.25):{edges:U.cells,positions:U.positions}}function b(V,_,U,H){var z=D(V,H),G=T(z.positions,_,U),Y=z.edges,J=_.orientation==="ccw";if(l(G,Y),_.polygons||_.polygon||_.polyline){for(var ae=f(Y,G),oe=new Array(ae.length),he=0;he<ae.length;++he){for(var q=ae[he],Z=new Array(q.length),$=0;$<q.length;++$){for(var K=q[$],re=new Array(K.length),le=0;le<K.length;++le)re[le]=G[K[le]].slice();J&&re.reverse(),Z[$]=re}oe[he]=Z}return oe}else return _.triangles||_.triangulate||_.triangle?{cells:c(G,Y,{delaunay:!1,exterior:!1,interior:!0}),positions:G}:{edges:Y,positions:G}}function O(V,_,U){try{return b(V,_,U,!0)}catch{}try{return b(V,_,U,!1)}catch{}return _.polygons||_.polyline||_.polygon?[]:_.triangles||_.triangulate||_.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function F(V,_,U,H){var z=64,G=1.25,Y={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};H&&(H.size&&H.size>0&&(z=H.size),H.lineSpacing&&H.lineSpacing>0&&(G=H.lineSpacing),H.styletags&&H.styletags.breaklines&&(Y.breaklines=!!H.styletags.breaklines),H.styletags&&H.styletags.bolds&&(Y.bolds=!!H.styletags.bolds),H.styletags&&H.styletags.italics&&(Y.italics=!!H.styletags.italics),H.styletags&&H.styletags.subscripts&&(Y.subscripts=!!H.styletags.subscripts),H.styletags&&H.styletags.superscripts&&(Y.superscripts=!!H.styletags.superscripts)),U.font=[H.fontStyle,H.fontVariant,H.fontWeight,z+"px",H.font].filter(function(ae){return ae}).join(" "),U.textAlign="start",U.textBaseline="alphabetic",U.direction="ltr";var J=i(_,U,V,z,G,Y);return O(J,H,z)}},5346:function(h){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(D){D.permitHostObjects___&&D.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var s=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new s,l=Object.freeze({});if(n.set(l,1),n.get(l)!==1)r=!0;else{h.exports=WeakMap;return}}}var c=Object.getOwnPropertyNames,f=Object.defineProperty,m=Object.isExtensible,v="weakmap:",A=v+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var d=new ArrayBuffer(25),u=new Uint8Array(d);crypto.getRandomValues(u),A=v+"rand:"+Array.prototype.map.call(u,function(D){return(D%36).toString(36)}).join("")+"___"}function y(D){return!(D.substr(0,v.length)==v&&D.substr(D.length-3)==="___")}if(f(Object,"getOwnPropertyNames",{value:function(b){return c(b).filter(y)}}),"getPropertyNames"in Object){var M=Object.getPropertyNames;f(Object,"getPropertyNames",{value:function(b){return M(b).filter(y)}})}function S(D){if(D!==Object(D))throw new TypeError("Not an object: "+D);var b=D[A];if(b&&b.key===D)return b;if(m(D)){b={key:D};try{return f(D,A,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch{return}}}(function(){var D=Object.freeze;f(Object,"freeze",{value:function(V){return S(V),D(V)}});var b=Object.seal;f(Object,"seal",{value:function(V){return S(V),b(V)}});var O=Object.preventExtensions;f(Object,"preventExtensions",{value:function(V){return S(V),O(V)}})})();function R(D){return D.prototype=null,Object.freeze(D)}var x=!1;function E(){!x&&typeof console<"u"&&(x=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var T=0,i=function(){this instanceof i||E();var D=[],b=[],O=T++;function F(H,z){var G,Y=S(H);return Y?O in Y?Y[O]:z:(G=D.indexOf(H),G>=0?b[G]:z)}function V(H){var z=S(H);return z?O in z:D.indexOf(H)>=0}function _(H,z){var G,Y=S(H);return Y?Y[O]=z:(G=D.indexOf(H),G>=0?b[G]=z:(G=D.length,b[G]=z,D[G]=H)),this}function U(H){var z=S(H),G,Y;return z?O in z&&delete z[O]:(G=D.indexOf(H),G<0?!1:(Y=D.length-1,D[G]=void 0,b[G]=b[Y],D[G]=D[Y],D.length=Y,b.length=Y,!0))}return Object.create(i.prototype,{get___:{value:R(F)},has___:{value:R(V)},set___:{value:R(_)},delete___:{value:R(U)}})};i.prototype=Object.create(Object.prototype,{get:{value:function(b,O){return this.get___(b,O)},writable:!0,configurable:!0},has:{value:function(b){return this.has___(b)},writable:!0,configurable:!0},set:{value:function(b,O){return this.set___(b,O)},writable:!0,configurable:!0},delete:{value:function(b){return this.delete___(b)},writable:!0,configurable:!0}}),typeof s=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function D(){this instanceof i||E();var b=new s,O=void 0,F=!1;function V(z,G){return O?b.has(z)?b.get(z):O.get___(z,G):b.get(z,G)}function _(z){return b.has(z)||(O?O.has___(z):!1)}var U;r?U=function(z,G){return b.set(z,G),b.has(z)||(O||(O=new i),O.set(z,G)),this}:U=function(z,G){if(F)try{b.set(z,G)}catch{O||(O=new i),O.set___(z,G)}else b.set(z,G);return this};function H(z){var G=!!b.delete(z);return O&&O.delete___(z)||G}return Object.create(i.prototype,{get___:{value:R(V)},has___:{value:R(_)},set___:{value:R(U)},delete___:{value:R(H)},permitHostObjects___:{value:R(function(z){if(z===t)F=!0;else throw new Error("bogus call to permitHostObjects___")})}})}D.prototype=i.prototype,h.exports=D,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),h.exports=i)})()},9222:function(h,g,t){var r=t(7178);h.exports=s;function s(){var n={};return function(l){if((typeof l!="object"||l===null)&&typeof l!="function")throw new Error("Weakmap-shim: Key must be object");var c=l.valueOf(n);return c&&c.identity===n?c:r(l,n)}}},7178:function(h){h.exports=g;function g(t,r){var s={identity:r},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(l){return l!==r?n.apply(this,arguments):s},writable:!0}),s}},4037:function(h,g,t){var r=t(9222);h.exports=s;function s(){var n=r();return{get:function(l,c){var f=n(l);return f.hasOwnProperty("value")?f.value:c},set:function(l,c){return n(l).value=c,this},has:function(l){return"value"in n(l)},delete:function(l){return delete n(l).value}}}},6183:function(h){function g(){return function(c,f,m,v,A,d){var u=c[0],y=m[0],M=[0],S=y;v|=0;var R=0,x=y;for(R=0;R<u;++R){{var E=f[v]-d,T=f[v+S]-d;E>=0!=T>=0&&A.push(M[0]+.5+.5*(E+T)/(E-T))}v+=x,++M[0]}}}function t(){return g()}var r=t;function s(c){var f={};return function(v,A,d){var u=v.dtype,y=v.order,M=[u,y.join()].join(),S=f[M];return S||(f[M]=S=c([u,y])),S(v.shape.slice(0),v.data,v.stride,v.offset|0,A,d)}}function n(c){return s(r.bind(void 0,c))}function l(c){return n({funcName:c.funcName})}h.exports=l({funcName:"zeroCrossings"})},9584:function(h,g,t){h.exports=s;var r=t(6183);function s(n,l){var c=[];return l=+l||0,r(n.hi(n.shape[0]-1),c,l),c}},6601:function(){}},a={};function C(h){var g=a[h];if(g!==void 0)return g.exports;var t=a[h]={id:h,loaded:!1,exports:{}};return L[h].call(t.exports,t,t.exports,C),t.loaded=!0,t.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(h){return h.paths=[],h.children||(h.children=[]),h}}();var w=C(7386);return w}()})},12856:function(B,N,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function p(Je,_e){if(!(Je instanceof _e))throw new TypeError("Cannot call a class as a function")}function L(Je,_e){for(var Fe=0;Fe<_e.length;Fe++){var Be=_e[Fe];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(Je,C(Be.key),Be)}}function a(Je,_e,Fe){return _e&&L(Je.prototype,_e),Fe&&L(Je,Fe),Object.defineProperty(Je,"prototype",{writable:!1}),Je}function C(Je){var _e=w(Je,"string");return c(_e)==="symbol"?_e:String(_e)}function w(Je,_e){if(c(Je)!=="object"||Je===null)return Je;var Fe=Je[Symbol.toPrimitive];if(Fe!==void 0){var Be=Fe.call(Je,_e||"default");if(c(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Je)}function h(Je,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(_e&&_e.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),Object.defineProperty(Je,"prototype",{writable:!1}),_e&&g(Je,_e)}function g(Je,_e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,De){return Be.__proto__=De,Be},g(Je,_e)}function t(Je){var _e=n();return function(){var Be=l(Je),De;if(_e){var Te=l(this).constructor;De=Reflect.construct(Be,arguments,Te)}else De=Be.apply(this,arguments);return r(this,De)}}function r(Je,_e){if(_e&&(c(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(Je)}function s(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(Je){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},l(Je)}function c(Je){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},c(Je)}var f=e(95341),m=e(95280),v=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;N.Buffer=y,N.SlowBuffer=F,N.INSPECT_MAX_BYTES=50;var A=2147483647;N.kMaxLength=A,y.TYPED_ARRAY_SUPPORT=d(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{var Je=new Uint8Array(1),_e={foo:function(){return 42}};return Object.setPrototypeOf(_e,Uint8Array.prototype),Object.setPrototypeOf(Je,_e),Je.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function u(Je){if(Je>A)throw new RangeError('The value "'+Je+'" is invalid for option "size"');var _e=new Uint8Array(Je);return Object.setPrototypeOf(_e,y.prototype),_e}function y(Je,_e,Fe){if(typeof Je=="number"){if(typeof _e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(Je)}return M(Je,_e,Fe)}y.poolSize=8192;function M(Je,_e,Fe){if(typeof Je=="string")return E(Je,_e);if(ArrayBuffer.isView(Je))return i(Je);if(Je==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(Je));if(dt(Je,ArrayBuffer)||Je&&dt(Je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dt(Je,SharedArrayBuffer)||Je&&dt(Je.buffer,SharedArrayBuffer)))return D(Je,_e,Fe);if(typeof Je=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Be=Je.valueOf&&Je.valueOf();if(Be!=null&&Be!==Je)return y.from(Be,_e,Fe);var De=b(Je);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Je[Symbol.toPrimitive]=="function")return y.from(Je[Symbol.toPrimitive]("string"),_e,Fe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(Je))}y.from=function(Je,_e,Fe){return M(Je,_e,Fe)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array);function S(Je){if(typeof Je!="number")throw new TypeError('"size" argument must be of type number');if(Je<0)throw new RangeError('The value "'+Je+'" is invalid for option "size"')}function R(Je,_e,Fe){return S(Je),Je<=0?u(Je):_e!==void 0?typeof Fe=="string"?u(Je).fill(_e,Fe):u(Je).fill(_e):u(Je)}y.alloc=function(Je,_e,Fe){return R(Je,_e,Fe)};function x(Je){return S(Je),u(Je<0?0:O(Je)|0)}y.allocUnsafe=function(Je){return x(Je)},y.allocUnsafeSlow=function(Je){return x(Je)};function E(Je,_e){if((typeof _e!="string"||_e==="")&&(_e="utf8"),!y.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);var Fe=V(Je,_e)|0,Be=u(Fe),De=Be.write(Je,_e);return De!==Fe&&(Be=Be.slice(0,De)),Be}function T(Je){for(var _e=Je.length<0?0:O(Je.length)|0,Fe=u(_e),Be=0;Be<_e;Be+=1)Fe[Be]=Je[Be]&255;return Fe}function i(Je){if(dt(Je,Uint8Array)){var _e=new Uint8Array(Je);return D(_e.buffer,_e.byteOffset,_e.byteLength)}return T(Je)}function D(Je,_e,Fe){if(_e<0||Je.byteLength<_e)throw new RangeError('"offset" is outside of buffer bounds');if(Je.byteLength<_e+(Fe||0))throw new RangeError('"length" is outside of buffer bounds');var Be;return _e===void 0&&Fe===void 0?Be=new Uint8Array(Je):Fe===void 0?Be=new Uint8Array(Je,_e):Be=new Uint8Array(Je,_e,Fe),Object.setPrototypeOf(Be,y.prototype),Be}function b(Je){if(y.isBuffer(Je)){var _e=O(Je.length)|0,Fe=u(_e);return Fe.length===0||Je.copy(Fe,0,0,_e),Fe}if(Je.length!==void 0)return typeof Je.length!="number"||gt(Je.length)?u(0):T(Je);if(Je.type==="Buffer"&&Array.isArray(Je.data))return T(Je.data)}function O(Je){if(Je>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return Je|0}function F(Je){return+Je!=Je&&(Je=0),y.alloc(+Je)}y.isBuffer=function(_e){return _e!=null&&_e._isBuffer===!0&&_e!==y.prototype},y.compare=function(_e,Fe){if(dt(_e,Uint8Array)&&(_e=y.from(_e,_e.offset,_e.byteLength)),dt(Fe,Uint8Array)&&(Fe=y.from(Fe,Fe.offset,Fe.byteLength)),!y.isBuffer(_e)||!y.isBuffer(Fe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_e===Fe)return 0;for(var Be=_e.length,De=Fe.length,Te=0,xe=Math.min(Be,De);Te<xe;++Te)if(_e[Te]!==Fe[Te]){Be=_e[Te],De=Fe[Te];break}return Be<De?-1:De<Be?1:0},y.isEncoding=function(_e){switch(String(_e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(_e,Fe){if(!Array.isArray(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(_e.length===0)return y.alloc(0);var Be;if(Fe===void 0)for(Fe=0,Be=0;Be<_e.length;++Be)Fe+=_e[Be].length;var De=y.allocUnsafe(Fe),Te=0;for(Be=0;Be<_e.length;++Be){var xe=_e[Be];if(dt(xe,Uint8Array))Te+xe.length>De.length?(y.isBuffer(xe)||(xe=y.from(xe)),xe.copy(De,Te)):Uint8Array.prototype.set.call(De,xe,Te);else if(y.isBuffer(xe))xe.copy(De,Te);else throw new TypeError('"list" argument must be an Array of Buffers');Te+=xe.length}return De};function V(Je,_e){if(y.isBuffer(Je))return Je.length;if(ArrayBuffer.isView(Je)||dt(Je,ArrayBuffer))return Je.byteLength;if(typeof Je!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+c(Je));var Fe=Je.length,Be=arguments.length>2&&arguments[2]===!0;if(!Be&&Fe===0)return 0;for(var De=!1;;)switch(_e){case"ascii":case"latin1":case"binary":return Fe;case"utf8":case"utf-8":return rt(Je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe*2;case"hex":return Fe>>>1;case"base64":return at(Je).length;default:if(De)return Be?-1:rt(Je).length;_e=(""+_e).toLowerCase(),De=!0}}y.byteLength=V;function _(Je,_e,Fe){var Be=!1;if((_e===void 0||_e<0)&&(_e=0),_e>this.length||((Fe===void 0||Fe>this.length)&&(Fe=this.length),Fe<=0)||(Fe>>>=0,_e>>>=0,Fe<=_e))return"";for(Je||(Je="utf8");;)switch(Je){case"hex":return le(this,_e,Fe);case"utf8":case"utf-8":return q(this,_e,Fe);case"ascii":return K(this,_e,Fe);case"latin1":case"binary":return re(this,_e,Fe);case"base64":return he(this,_e,Fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,_e,Fe);default:if(Be)throw new TypeError("Unknown encoding: "+Je);Je=(Je+"").toLowerCase(),Be=!0}}y.prototype._isBuffer=!0;function U(Je,_e,Fe){var Be=Je[_e];Je[_e]=Je[Fe],Je[Fe]=Be}y.prototype.swap16=function(){var _e=this.length;if(_e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Fe=0;Fe<_e;Fe+=2)U(this,Fe,Fe+1);return this},y.prototype.swap32=function(){var _e=this.length;if(_e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Fe=0;Fe<_e;Fe+=4)U(this,Fe,Fe+3),U(this,Fe+1,Fe+2);return this},y.prototype.swap64=function(){var _e=this.length;if(_e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Fe=0;Fe<_e;Fe+=8)U(this,Fe,Fe+7),U(this,Fe+1,Fe+6),U(this,Fe+2,Fe+5),U(this,Fe+3,Fe+4);return this},y.prototype.toString=function(){var _e=this.length;return _e===0?"":arguments.length===0?q(this,0,_e):_.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(_e){if(!y.isBuffer(_e))throw new TypeError("Argument must be a Buffer");return this===_e?!0:y.compare(this,_e)===0},y.prototype.inspect=function(){var _e="",Fe=N.INSPECT_MAX_BYTES;return _e=this.toString("hex",0,Fe).replace(/(.{2})/g,"$1 ").trim(),this.length>Fe&&(_e+=" ... "),"<Buffer "+_e+">"},v&&(y.prototype[v]=y.prototype.inspect),y.prototype.compare=function(_e,Fe,Be,De,Te){if(dt(_e,Uint8Array)&&(_e=y.from(_e,_e.offset,_e.byteLength)),!y.isBuffer(_e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+c(_e));if(Fe===void 0&&(Fe=0),Be===void 0&&(Be=_e?_e.length:0),De===void 0&&(De=0),Te===void 0&&(Te=this.length),Fe<0||Be>_e.length||De<0||Te>this.length)throw new RangeError("out of range index");if(De>=Te&&Fe>=Be)return 0;if(De>=Te)return-1;if(Fe>=Be)return 1;if(Fe>>>=0,Be>>>=0,De>>>=0,Te>>>=0,this===_e)return 0;for(var xe=Te-De,Me=Be-Fe,Pe=Math.min(xe,Me),He=this.slice(De,Te),Ke=_e.slice(Fe,Be),qe=0;qe<Pe;++qe)if(He[qe]!==Ke[qe]){xe=He[qe],Me=Ke[qe];break}return xe<Me?-1:Me<xe?1:0};function H(Je,_e,Fe,Be,De){if(Je.length===0)return-1;if(typeof Fe=="string"?(Be=Fe,Fe=0):Fe>2147483647?Fe=2147483647:Fe<-2147483648&&(Fe=-2147483648),Fe=+Fe,gt(Fe)&&(Fe=De?0:Je.length-1),Fe<0&&(Fe=Je.length+Fe),Fe>=Je.length){if(De)return-1;Fe=Je.length-1}else if(Fe<0)if(De)Fe=0;else return-1;if(typeof _e=="string"&&(_e=y.from(_e,Be)),y.isBuffer(_e))return _e.length===0?-1:z(Je,_e,Fe,Be,De);if(typeof _e=="number")return _e=_e&255,typeof Uint8Array.prototype.indexOf=="function"?De?Uint8Array.prototype.indexOf.call(Je,_e,Fe):Uint8Array.prototype.lastIndexOf.call(Je,_e,Fe):z(Je,[_e],Fe,Be,De);throw new TypeError("val must be string, number or Buffer")}function z(Je,_e,Fe,Be,De){var Te=1,xe=Je.length,Me=_e.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(Je.length<2||_e.length<2)return-1;Te=2,xe/=2,Me/=2,Fe/=2}function Pe(bt,Wt){return Te===1?bt[Wt]:bt.readUInt16BE(Wt*Te)}var He;if(De){var Ke=-1;for(He=Fe;He<xe;He++)if(Pe(Je,He)===Pe(_e,Ke===-1?0:He-Ke)){if(Ke===-1&&(Ke=He),He-Ke+1===Me)return Ke*Te}else Ke!==-1&&(He-=He-Ke),Ke=-1}else for(Fe+Me>xe&&(Fe=xe-Me),He=Fe;He>=0;He--){for(var qe=!0,vt=0;vt<Me;vt++)if(Pe(Je,He+vt)!==Pe(_e,vt)){qe=!1;break}if(qe)return He}return-1}y.prototype.includes=function(_e,Fe,Be){return this.indexOf(_e,Fe,Be)!==-1},y.prototype.indexOf=function(_e,Fe,Be){return H(this,_e,Fe,Be,!0)},y.prototype.lastIndexOf=function(_e,Fe,Be){return H(this,_e,Fe,Be,!1)};function G(Je,_e,Fe,Be){Fe=Number(Fe)||0;var De=Je.length-Fe;Be?(Be=Number(Be),Be>De&&(Be=De)):Be=De;var Te=_e.length;Be>Te/2&&(Be=Te/2);var xe;for(xe=0;xe<Be;++xe){var Me=parseInt(_e.substr(xe*2,2),16);if(gt(Me))return xe;Je[Fe+xe]=Me}return xe}function Y(Je,_e,Fe,Be){return ct(rt(_e,Je.length-Fe),Je,Fe,Be)}function J(Je,_e,Fe,Be){return ct(et(_e),Je,Fe,Be)}function ae(Je,_e,Fe,Be){return ct(at(_e),Je,Fe,Be)}function oe(Je,_e,Fe,Be){return ct(tt(_e,Je.length-Fe),Je,Fe,Be)}y.prototype.write=function(_e,Fe,Be,De){if(Fe===void 0)De="utf8",Be=this.length,Fe=0;else if(Be===void 0&&typeof Fe=="string")De=Fe,Be=this.length,Fe=0;else if(isFinite(Fe))Fe=Fe>>>0,isFinite(Be)?(Be=Be>>>0,De===void 0&&(De="utf8")):(De=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Te=this.length-Fe;if((Be===void 0||Be>Te)&&(Be=Te),_e.length>0&&(Be<0||Fe<0)||Fe>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");for(var xe=!1;;)switch(De){case"hex":return G(this,_e,Fe,Be);case"utf8":case"utf-8":return Y(this,_e,Fe,Be);case"ascii":case"latin1":case"binary":return J(this,_e,Fe,Be);case"base64":return ae(this,_e,Fe,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,_e,Fe,Be);default:if(xe)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),xe=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function he(Je,_e,Fe){return _e===0&&Fe===Je.length?f.fromByteArray(Je):f.fromByteArray(Je.slice(_e,Fe))}function q(Je,_e,Fe){Fe=Math.min(Je.length,Fe);for(var Be=[],De=_e;De<Fe;){var Te=Je[De],xe=null,Me=Te>239?4:Te>223?3:Te>191?2:1;if(De+Me<=Fe){var Pe=void 0,He=void 0,Ke=void 0,qe=void 0;switch(Me){case 1:Te<128&&(xe=Te);break;case 2:Pe=Je[De+1],(Pe&192)===128&&(qe=(Te&31)<<6|Pe&63,qe>127&&(xe=qe));break;case 3:Pe=Je[De+1],He=Je[De+2],(Pe&192)===128&&(He&192)===128&&(qe=(Te&15)<<12|(Pe&63)<<6|He&63,qe>2047&&(qe<55296||qe>57343)&&(xe=qe));break;case 4:Pe=Je[De+1],He=Je[De+2],Ke=Je[De+3],(Pe&192)===128&&(He&192)===128&&(Ke&192)===128&&(qe=(Te&15)<<18|(Pe&63)<<12|(He&63)<<6|Ke&63,qe>65535&&qe<1114112&&(xe=qe))}}xe===null?(xe=65533,Me=1):xe>65535&&(xe-=65536,Be.push(xe>>>10&1023|55296),xe=56320|xe&1023),Be.push(xe),De+=Me}return $(Be)}var Z=4096;function $(Je){var _e=Je.length;if(_e<=Z)return String.fromCharCode.apply(String,Je);for(var Fe="",Be=0;Be<_e;)Fe+=String.fromCharCode.apply(String,Je.slice(Be,Be+=Z));return Fe}function K(Je,_e,Fe){var Be="";Fe=Math.min(Je.length,Fe);for(var De=_e;De<Fe;++De)Be+=String.fromCharCode(Je[De]&127);return Be}function re(Je,_e,Fe){var Be="";Fe=Math.min(Je.length,Fe);for(var De=_e;De<Fe;++De)Be+=String.fromCharCode(Je[De]);return Be}function le(Je,_e,Fe){var Be=Je.length;(!_e||_e<0)&&(_e=0),(!Fe||Fe<0||Fe>Be)&&(Fe=Be);for(var De="",Te=_e;Te<Fe;++Te)De+=Et[Je[Te]];return De}function te(Je,_e,Fe){for(var Be=Je.slice(_e,Fe),De="",Te=0;Te<Be.length-1;Te+=2)De+=String.fromCharCode(Be[Te]+Be[Te+1]*256);return De}y.prototype.slice=function(_e,Fe){var Be=this.length;_e=~~_e,Fe=Fe===void 0?Be:~~Fe,_e<0?(_e+=Be,_e<0&&(_e=0)):_e>Be&&(_e=Be),Fe<0?(Fe+=Be,Fe<0&&(Fe=0)):Fe>Be&&(Fe=Be),Fe<_e&&(Fe=_e);var De=this.subarray(_e,Fe);return Object.setPrototypeOf(De,y.prototype),De};function ee(Je,_e,Fe){if(Je%1!==0||Je<0)throw new RangeError("offset is not uint");if(Je+_e>Fe)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(_e,Fe,Be){_e=_e>>>0,Fe=Fe>>>0,Be||ee(_e,Fe,this.length);for(var De=this[_e],Te=1,xe=0;++xe<Fe&&(Te*=256);)De+=this[_e+xe]*Te;return De},y.prototype.readUintBE=y.prototype.readUIntBE=function(_e,Fe,Be){_e=_e>>>0,Fe=Fe>>>0,Be||ee(_e,Fe,this.length);for(var De=this[_e+--Fe],Te=1;Fe>0&&(Te*=256);)De+=this[_e+--Fe]*Te;return De},y.prototype.readUint8=y.prototype.readUInt8=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,1,this.length),this[_e]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,2,this.length),this[_e]|this[_e+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,2,this.length),this[_e]<<8|this[_e+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),(this[_e]|this[_e+1]<<8|this[_e+2]<<16)+this[_e+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),this[_e]*16777216+(this[_e+1]<<16|this[_e+2]<<8|this[_e+3])},y.prototype.readBigUInt64LE=Ct(function(_e){_e=_e>>>0,Ve(_e,"offset");var Fe=this[_e],Be=this[_e+7];(Fe===void 0||Be===void 0)&&Ne(_e,this.length-8);var De=Fe+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24),Te=this[++_e]+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+Be*Math.pow(2,24);return BigInt(De)+(BigInt(Te)<<BigInt(32))}),y.prototype.readBigUInt64BE=Ct(function(_e){_e=_e>>>0,Ve(_e,"offset");var Fe=this[_e],Be=this[_e+7];(Fe===void 0||Be===void 0)&&Ne(_e,this.length-8);var De=Fe*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e],Te=this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+Be;return(BigInt(De)<<BigInt(32))+BigInt(Te)}),y.prototype.readIntLE=function(_e,Fe,Be){_e=_e>>>0,Fe=Fe>>>0,Be||ee(_e,Fe,this.length);for(var De=this[_e],Te=1,xe=0;++xe<Fe&&(Te*=256);)De+=this[_e+xe]*Te;return Te*=128,De>=Te&&(De-=Math.pow(2,8*Fe)),De},y.prototype.readIntBE=function(_e,Fe,Be){_e=_e>>>0,Fe=Fe>>>0,Be||ee(_e,Fe,this.length);for(var De=Fe,Te=1,xe=this[_e+--De];De>0&&(Te*=256);)xe+=this[_e+--De]*Te;return Te*=128,xe>=Te&&(xe-=Math.pow(2,8*Fe)),xe},y.prototype.readInt8=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,1,this.length),this[_e]&128?(255-this[_e]+1)*-1:this[_e]},y.prototype.readInt16LE=function(_e,Fe){_e=_e>>>0,Fe||ee(_e,2,this.length);var Be=this[_e]|this[_e+1]<<8;return Be&32768?Be|4294901760:Be},y.prototype.readInt16BE=function(_e,Fe){_e=_e>>>0,Fe||ee(_e,2,this.length);var Be=this[_e+1]|this[_e]<<8;return Be&32768?Be|4294901760:Be},y.prototype.readInt32LE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),this[_e]|this[_e+1]<<8|this[_e+2]<<16|this[_e+3]<<24},y.prototype.readInt32BE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),this[_e]<<24|this[_e+1]<<16|this[_e+2]<<8|this[_e+3]},y.prototype.readBigInt64LE=Ct(function(_e){_e=_e>>>0,Ve(_e,"offset");var Fe=this[_e],Be=this[_e+7];(Fe===void 0||Be===void 0)&&Ne(_e,this.length-8);var De=this[_e+4]+this[_e+5]*Math.pow(2,8)+this[_e+6]*Math.pow(2,16)+(Be<<24);return(BigInt(De)<<BigInt(32))+BigInt(Fe+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24))}),y.prototype.readBigInt64BE=Ct(function(_e){_e=_e>>>0,Ve(_e,"offset");var Fe=this[_e],Be=this[_e+7];(Fe===void 0||Be===void 0)&&Ne(_e,this.length-8);var De=(Fe<<24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e];return(BigInt(De)<<BigInt(32))+BigInt(this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+Be)}),y.prototype.readFloatLE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),m.read(this,_e,!0,23,4)},y.prototype.readFloatBE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),m.read(this,_e,!1,23,4)},y.prototype.readDoubleLE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,8,this.length),m.read(this,_e,!0,52,8)},y.prototype.readDoubleBE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,8,this.length),m.read(this,_e,!1,52,8)};function ue(Je,_e,Fe,Be,De,Te){if(!y.isBuffer(Je))throw new TypeError('"buffer" argument must be a Buffer instance');if(_e>De||_e<Te)throw new RangeError('"value" argument is out of bounds');if(Fe+Be>Je.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(_e,Fe,Be,De){if(_e=+_e,Fe=Fe>>>0,Be=Be>>>0,!De){var Te=Math.pow(2,8*Be)-1;ue(this,_e,Fe,Be,Te,0)}var xe=1,Me=0;for(this[Fe]=_e&255;++Me<Be&&(xe*=256);)this[Fe+Me]=_e/xe&255;return Fe+Be},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(_e,Fe,Be,De){if(_e=+_e,Fe=Fe>>>0,Be=Be>>>0,!De){var Te=Math.pow(2,8*Be)-1;ue(this,_e,Fe,Be,Te,0)}var xe=Be-1,Me=1;for(this[Fe+xe]=_e&255;--xe>=0&&(Me*=256);)this[Fe+xe]=_e/Me&255;return Fe+Be},y.prototype.writeUint8=y.prototype.writeUInt8=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||ue(this,_e,Fe,1,255,0),this[Fe]=_e&255,Fe+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||ue(this,_e,Fe,2,65535,0),this[Fe]=_e&255,this[Fe+1]=_e>>>8,Fe+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||ue(this,_e,Fe,2,65535,0),this[Fe]=_e>>>8,this[Fe+1]=_e&255,Fe+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||ue(this,_e,Fe,4,4294967295,0),this[Fe+3]=_e>>>24,this[Fe+2]=_e>>>16,this[Fe+1]=_e>>>8,this[Fe]=_e&255,Fe+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||ue(this,_e,Fe,4,4294967295,0),this[Fe]=_e>>>24,this[Fe+1]=_e>>>16,this[Fe+2]=_e>>>8,this[Fe+3]=_e&255,Fe+4};function se(Je,_e,Fe,Be,De){Ce(_e,Be,De,Je,Fe,7);var Te=Number(_e&BigInt(4294967295));Je[Fe++]=Te,Te=Te>>8,Je[Fe++]=Te,Te=Te>>8,Je[Fe++]=Te,Te=Te>>8,Je[Fe++]=Te;var xe=Number(_e>>BigInt(32)&BigInt(4294967295));return Je[Fe++]=xe,xe=xe>>8,Je[Fe++]=xe,xe=xe>>8,Je[Fe++]=xe,xe=xe>>8,Je[Fe++]=xe,Fe}function ve(Je,_e,Fe,Be,De){Ce(_e,Be,De,Je,Fe,7);var Te=Number(_e&BigInt(4294967295));Je[Fe+7]=Te,Te=Te>>8,Je[Fe+6]=Te,Te=Te>>8,Je[Fe+5]=Te,Te=Te>>8,Je[Fe+4]=Te;var xe=Number(_e>>BigInt(32)&BigInt(4294967295));return Je[Fe+3]=xe,xe=xe>>8,Je[Fe+2]=xe,xe=xe>>8,Je[Fe+1]=xe,xe=xe>>8,Je[Fe]=xe,Fe+8}y.prototype.writeBigUInt64LE=Ct(function(_e){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,_e,Fe,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=Ct(function(_e){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ve(this,_e,Fe,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(_e,Fe,Be,De){if(_e=+_e,Fe=Fe>>>0,!De){var Te=Math.pow(2,8*Be-1);ue(this,_e,Fe,Be,Te-1,-Te)}var xe=0,Me=1,Pe=0;for(this[Fe]=_e&255;++xe<Be&&(Me*=256);)_e<0&&Pe===0&&this[Fe+xe-1]!==0&&(Pe=1),this[Fe+xe]=(_e/Me>>0)-Pe&255;return Fe+Be},y.prototype.writeIntBE=function(_e,Fe,Be,De){if(_e=+_e,Fe=Fe>>>0,!De){var Te=Math.pow(2,8*Be-1);ue(this,_e,Fe,Be,Te-1,-Te)}var xe=Be-1,Me=1,Pe=0;for(this[Fe+xe]=_e&255;--xe>=0&&(Me*=256);)_e<0&&Pe===0&&this[Fe+xe+1]!==0&&(Pe=1),this[Fe+xe]=(_e/Me>>0)-Pe&255;return Fe+Be},y.prototype.writeInt8=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||ue(this,_e,Fe,1,127,-128),_e<0&&(_e=255+_e+1),this[Fe]=_e&255,Fe+1},y.prototype.writeInt16LE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||ue(this,_e,Fe,2,32767,-32768),this[Fe]=_e&255,this[Fe+1]=_e>>>8,Fe+2},y.prototype.writeInt16BE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||ue(this,_e,Fe,2,32767,-32768),this[Fe]=_e>>>8,this[Fe+1]=_e&255,Fe+2},y.prototype.writeInt32LE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||ue(this,_e,Fe,4,2147483647,-2147483648),this[Fe]=_e&255,this[Fe+1]=_e>>>8,this[Fe+2]=_e>>>16,this[Fe+3]=_e>>>24,Fe+4},y.prototype.writeInt32BE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||ue(this,_e,Fe,4,2147483647,-2147483648),_e<0&&(_e=4294967295+_e+1),this[Fe]=_e>>>24,this[Fe+1]=_e>>>16,this[Fe+2]=_e>>>8,this[Fe+3]=_e&255,Fe+4},y.prototype.writeBigInt64LE=Ct(function(_e){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,_e,Fe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=Ct(function(_e){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ve(this,_e,Fe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function be(Je,_e,Fe,Be,De,Te){if(Fe+Be>Je.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("Index out of range")}function Ee(Je,_e,Fe,Be,De){return _e=+_e,Fe=Fe>>>0,De||be(Je,_e,Fe,4),m.write(Je,_e,Fe,Be,23,4),Fe+4}y.prototype.writeFloatLE=function(_e,Fe,Be){return Ee(this,_e,Fe,!0,Be)},y.prototype.writeFloatBE=function(_e,Fe,Be){return Ee(this,_e,Fe,!1,Be)};function Ae(Je,_e,Fe,Be,De){return _e=+_e,Fe=Fe>>>0,De||be(Je,_e,Fe,8),m.write(Je,_e,Fe,Be,52,8),Fe+8}y.prototype.writeDoubleLE=function(_e,Fe,Be){return Ae(this,_e,Fe,!0,Be)},y.prototype.writeDoubleBE=function(_e,Fe,Be){return Ae(this,_e,Fe,!1,Be)},y.prototype.copy=function(_e,Fe,Be,De){if(!y.isBuffer(_e))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!De&&De!==0&&(De=this.length),Fe>=_e.length&&(Fe=_e.length),Fe||(Fe=0),De>0&&De<Be&&(De=Be),De===Be||_e.length===0||this.length===0)return 0;if(Fe<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),_e.length-Fe<De-Be&&(De=_e.length-Fe+Be);var Te=De-Be;return this===_e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Fe,Be,De):Uint8Array.prototype.set.call(_e,this.subarray(Be,De),Fe),Te},y.prototype.fill=function(_e,Fe,Be,De){if(typeof _e=="string"){if(typeof Fe=="string"?(De=Fe,Fe=0,Be=this.length):typeof Be=="string"&&(De=Be,Be=this.length),De!==void 0&&typeof De!="string")throw new TypeError("encoding must be a string");if(typeof De=="string"&&!y.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(_e.length===1){var Te=_e.charCodeAt(0);(De==="utf8"&&Te<128||De==="latin1")&&(_e=Te)}}else typeof _e=="number"?_e=_e&255:typeof _e=="boolean"&&(_e=Number(_e));if(Fe<0||this.length<Fe||this.length<Be)throw new RangeError("Out of range index");if(Be<=Fe)return this;Fe=Fe>>>0,Be=Be===void 0?this.length:Be>>>0,_e||(_e=0);var xe;if(typeof _e=="number")for(xe=Fe;xe<Be;++xe)this[xe]=_e;else{var Me=y.isBuffer(_e)?_e:y.from(_e,De),Pe=Me.length;if(Pe===0)throw new TypeError('The value "'+_e+'" is invalid for argument "value"');for(xe=0;xe<Be-Fe;++xe)this[xe+Fe]=Me[xe%Pe]}return this};var Oe={};function Ue(Je,_e,Fe){Oe[Je]=function(Be){h(Te,Be);var De=t(Te);function Te(){var xe;return p(this,Te),xe=De.call(this),Object.defineProperty(s(xe),"message",{value:_e.apply(s(xe),arguments),writable:!0,configurable:!0}),xe.name="".concat(xe.name," [").concat(Je,"]"),xe.stack,delete xe.name,xe}return a(Te,[{key:"code",get:function(){return Je},set:function(Me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Me,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Je,"]: ").concat(this.message)}}]),Te}(Fe)}Ue("ERR_BUFFER_OUT_OF_BOUNDS",function(Je){return Je?"".concat(Je," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ue("ERR_INVALID_ARG_TYPE",function(Je,_e){return'The "'.concat(Je,'" argument must be of type number. Received type ').concat(c(_e))},TypeError),Ue("ERR_OUT_OF_RANGE",function(Je,_e,Fe){var Be='The value of "'.concat(Je,'" is out of range.'),De=Fe;return Number.isInteger(Fe)&&Math.abs(Fe)>Math.pow(2,32)?De=Le(String(Fe)):typeof Fe=="bigint"&&(De=String(Fe),(Fe>Math.pow(BigInt(2),BigInt(32))||Fe<-Math.pow(BigInt(2),BigInt(32)))&&(De=Le(De)),De+="n"),Be+=" It must be ".concat(_e,". Received ").concat(De),Be},RangeError);function Le(Je){for(var _e="",Fe=Je.length,Be=Je[0]==="-"?1:0;Fe>=Be+4;Fe-=3)_e="_".concat(Je.slice(Fe-3,Fe)).concat(_e);return"".concat(Je.slice(0,Fe)).concat(_e)}function we(Je,_e,Fe){Ve(_e,"offset"),(Je[_e]===void 0||Je[_e+Fe]===void 0)&&Ne(_e,Je.length-(Fe+1))}function Ce(Je,_e,Fe,Be,De,Te){if(Je>Fe||Je<_e){var xe=typeof _e=="bigint"?"n":"",Me;throw Te>3?_e===0||_e===BigInt(0)?Me=">= 0".concat(xe," and < 2").concat(xe," ** ").concat((Te+1)*8).concat(xe):Me=">= -(2".concat(xe," ** ").concat((Te+1)*8-1).concat(xe,") and < 2 ** ")+"".concat((Te+1)*8-1).concat(xe):Me=">= ".concat(_e).concat(xe," and <= ").concat(Fe).concat(xe),new Oe.ERR_OUT_OF_RANGE("value",Me,Je)}we(Be,De,Te)}function Ve(Je,_e){if(typeof Je!="number")throw new Oe.ERR_INVALID_ARG_TYPE(_e,"number",Je)}function Ne(Je,_e,Fe){throw Math.floor(Je)!==Je?(Ve(Je,Fe),new Oe.ERR_OUT_OF_RANGE(Fe||"offset","an integer",Je)):_e<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE(Fe||"offset",">= ".concat(Fe?1:0," and <= ").concat(_e),Je)}var ke=/[^+/0-9A-Za-z-_]/g;function We(Je){if(Je=Je.split("=")[0],Je=Je.trim().replace(ke,""),Je.length<2)return"";for(;Je.length%4!==0;)Je=Je+"=";return Je}function rt(Je,_e){_e=_e||1/0;for(var Fe,Be=Je.length,De=null,Te=[],xe=0;xe<Be;++xe){if(Fe=Je.charCodeAt(xe),Fe>55295&&Fe<57344){if(!De){if(Fe>56319){(_e-=3)>-1&&Te.push(239,191,189);continue}else if(xe+1===Be){(_e-=3)>-1&&Te.push(239,191,189);continue}De=Fe;continue}if(Fe<56320){(_e-=3)>-1&&Te.push(239,191,189),De=Fe;continue}Fe=(De-55296<<10|Fe-56320)+65536}else De&&(_e-=3)>-1&&Te.push(239,191,189);if(De=null,Fe<128){if((_e-=1)<0)break;Te.push(Fe)}else if(Fe<2048){if((_e-=2)<0)break;Te.push(Fe>>6|192,Fe&63|128)}else if(Fe<65536){if((_e-=3)<0)break;Te.push(Fe>>12|224,Fe>>6&63|128,Fe&63|128)}else if(Fe<1114112){if((_e-=4)<0)break;Te.push(Fe>>18|240,Fe>>12&63|128,Fe>>6&63|128,Fe&63|128)}else throw new Error("Invalid code point")}return Te}function et(Je){for(var _e=[],Fe=0;Fe<Je.length;++Fe)_e.push(Je.charCodeAt(Fe)&255);return _e}function tt(Je,_e){for(var Fe,Be,De,Te=[],xe=0;xe<Je.length&&!((_e-=2)<0);++xe)Fe=Je.charCodeAt(xe),Be=Fe>>8,De=Fe%256,Te.push(De),Te.push(Be);return Te}function at(Je){return f.toByteArray(We(Je))}function ct(Je,_e,Fe,Be){var De;for(De=0;De<Be&&!(De+Fe>=_e.length||De>=Je.length);++De)_e[De+Fe]=Je[De];return De}function dt(Je,_e){return Je instanceof _e||Je!=null&&Je.constructor!=null&&Je.constructor.name!=null&&Je.constructor.name===_e.name}function gt(Je){return Je!==Je}var Et=function(){for(var Je="0123456789abcdef",_e=new Array(256),Fe=0;Fe<16;++Fe)for(var Be=Fe*16,De=0;De<16;++De)_e[Be+De]=Je[Fe]+Je[De];return _e}();function Ct(Je){return typeof BigInt>"u"?Vt:Je}function Vt(){throw new Error("BigInt not supported")}},35791:function(B){B.exports=L,B.exports.isMobile=L,B.exports.default=L;var N=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,p=/android|ipad|playbook|silk/i;function L(a){a||(a={});var C=a.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var w=N.test(C)&&!e.test(C)||!!a.tablet&&p.test(C);return!w&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(w=!0),w}},86781:function(B,N,e){e.r(N),e.d(N,{sankeyCenter:function(){return s},sankeyCircular:function(){return D},sankeyJustify:function(){return r},sankeyLeft:function(){return g},sankeyRight:function(){return t}});var p=e(33064),L=e(15140),a=e(45879),C=e(2502),w=e.n(C);function h(Ae){return Ae.target.depth}function g(Ae){return Ae.depth}function t(Ae,Oe){return Oe-1-Ae.height}function r(Ae,Oe){return Ae.sourceLinks.length?Ae.depth:Oe-1}function s(Ae){return Ae.targetLinks.length?Ae.depth:Ae.sourceLinks.length?(0,p.VV)(Ae.sourceLinks,h)-1:0}function n(Ae){return function(){return Ae}}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae};function c(Ae,Oe){return m(Ae.source,Oe.source)||Ae.index-Oe.index}function f(Ae,Oe){return m(Ae.target,Oe.target)||Ae.index-Oe.index}function m(Ae,Oe){return Ae.partOfCycle===Oe.partOfCycle?Ae.y0-Oe.y0:Ae.circularLinkType==="top"||Oe.circularLinkType==="bottom"?-1:1}function v(Ae){return Ae.value}function A(Ae){return(Ae.y0+Ae.y1)/2}function d(Ae){return A(Ae.source)}function u(Ae){return A(Ae.target)}function y(Ae){return Ae.index}function M(Ae){return Ae.nodes}function S(Ae){return Ae.links}function R(Ae,Oe){var Ue=Ae.get(Oe);if(!Ue)throw new Error("missing: "+Oe);return Ue}function x(Ae,Oe){return Oe(Ae)}var E=25,T=10,i=.3;function D(){var Ae=0,Oe=0,Ue=1,Le=1,we=24,Ce,Ve=y,Ne=r,ke=M,We=S,rt=32,et=2,tt,at=null;function ct(){var Fe={nodes:ke.apply(null,arguments),links:We.apply(null,arguments)};dt(Fe),b(Fe,Ve,at),gt(Fe),Vt(Fe),O(Fe,Ve),Je(Fe,rt,Ve),_e(Fe);for(var Be=4,De=0;De<Be;De++)ee(Fe,Le,Ve),ue(Fe,Le,Ve),re(Fe,Oe,Le,Ve),ee(Fe,Le,Ve),ue(Fe,Le,Ve);return Ee(Fe,Oe,Le),z(Fe,et,Le,Ve),Fe}ct.nodeId=function(Fe){return arguments.length?(Ve=typeof Fe=="function"?Fe:n(Fe),ct):Ve},ct.nodeAlign=function(Fe){return arguments.length?(Ne=typeof Fe=="function"?Fe:n(Fe),ct):Ne},ct.nodeWidth=function(Fe){return arguments.length?(we=+Fe,ct):we},ct.nodePadding=function(Fe){return arguments.length?(Ce=+Fe,ct):Ce},ct.nodes=function(Fe){return arguments.length?(ke=typeof Fe=="function"?Fe:n(Fe),ct):ke},ct.links=function(Fe){return arguments.length?(We=typeof Fe=="function"?Fe:n(Fe),ct):We},ct.size=function(Fe){return arguments.length?(Ae=Oe=0,Ue=+Fe[0],Le=+Fe[1],ct):[Ue-Ae,Le-Oe]},ct.extent=function(Fe){return arguments.length?(Ae=+Fe[0][0],Ue=+Fe[1][0],Oe=+Fe[0][1],Le=+Fe[1][1],ct):[[Ae,Oe],[Ue,Le]]},ct.iterations=function(Fe){return arguments.length?(rt=+Fe,ct):rt},ct.circularLinkGap=function(Fe){return arguments.length?(et=+Fe,ct):et},ct.nodePaddingRatio=function(Fe){return arguments.length?(tt=+Fe,ct):tt},ct.sortNodes=function(Fe){return arguments.length?(at=Fe,ct):at},ct.update=function(Fe){return O(Fe,Ve),_e(Fe),Fe.links.forEach(function(Be){Be.circular&&(Be.circularLinkType=Be.y0+Be.y1<Le?"top":"bottom",Be.source.circularLinkType=Be.circularLinkType,Be.target.circularLinkType=Be.circularLinkType)}),ee(Fe,Le,Ve,!1),ue(Fe,Le,Ve),z(Fe,et,Le,Ve),Fe};function dt(Fe){Fe.nodes.forEach(function(De,Te){De.index=Te,De.sourceLinks=[],De.targetLinks=[]});var Be=(0,L.UI)(Fe.nodes,Ve);return Fe.links.forEach(function(De,Te){De.index=Te;var xe=De.source,Me=De.target;(typeof xe>"u"?"undefined":l(xe))!=="object"&&(xe=De.source=R(Be,xe)),(typeof Me>"u"?"undefined":l(Me))!=="object"&&(Me=De.target=R(Be,Me)),xe.sourceLinks.push(De),Me.targetLinks.push(De)}),Fe}function gt(Fe){Fe.nodes.forEach(function(Be){Be.partOfCycle=!1,Be.value=Math.max((0,p.Sm)(Be.sourceLinks,v),(0,p.Sm)(Be.targetLinks,v)),Be.sourceLinks.forEach(function(De){De.circular&&(Be.partOfCycle=!0,Be.circularLinkType=De.circularLinkType)}),Be.targetLinks.forEach(function(De){De.circular&&(Be.partOfCycle=!0,Be.circularLinkType=De.circularLinkType)})})}function Et(Fe){var Be=0,De=0,Te=0,xe=0,Me=(0,p.Fp)(Fe.nodes,function(Pe){return Pe.column});return Fe.links.forEach(function(Pe){Pe.circular&&(Pe.circularLinkType=="top"?Be=Be+Pe.width:De=De+Pe.width,Pe.target.column==0&&(xe=xe+Pe.width),Pe.source.column==Me&&(Te=Te+Pe.width))}),Be=Be>0?Be+E+T:Be,De=De>0?De+E+T:De,Te=Te>0?Te+E+T:Te,xe=xe>0?xe+E+T:xe,{top:Be,bottom:De,left:xe,right:Te}}function Ct(Fe,Be){var De=(0,p.Fp)(Fe.nodes,function(qe){return qe.column}),Te=Ue-Ae,xe=Le-Oe,Me=Te+Be.right+Be.left,Pe=xe+Be.top+Be.bottom,He=Te/Me,Ke=xe/Pe;return Ae=Ae*He+Be.left,Ue=Be.right==0?Ue:Ue*He,Oe=Oe*Ke+Be.top,Le=Le*Ke,Fe.nodes.forEach(function(qe){qe.x0=Ae+qe.column*((Ue-Ae-we)/De),qe.x1=qe.x0+we}),Ke}function Vt(Fe){var Be,De,Te;for(Be=Fe.nodes,De=[],Te=0;Be.length;++Te,Be=De,De=[])Be.forEach(function(xe){xe.depth=Te,xe.sourceLinks.forEach(function(Me){De.indexOf(Me.target)<0&&!Me.circular&&De.push(Me.target)})});for(Be=Fe.nodes,De=[],Te=0;Be.length;++Te,Be=De,De=[])Be.forEach(function(xe){xe.height=Te,xe.targetLinks.forEach(function(Me){De.indexOf(Me.source)<0&&!Me.circular&&De.push(Me.source)})});Fe.nodes.forEach(function(xe){xe.column=Math.floor(Ne.call(null,xe,Te))})}function Je(Fe,Be,De){var Te=(0,L.b1)().key(function(qe){return qe.column}).sortKeys(p.j2).entries(Fe.nodes).map(function(qe){return qe.values});Pe(De),Ke();for(var xe=1,Me=Be;Me>0;--Me)He(xe*=.99,De),Ke();function Pe(qe){if(tt){var vt=1/0;Te.forEach(function(At){var zt=Le*tt/(At.length+1);vt=zt<vt?zt:vt}),Ce=vt}var bt=(0,p.VV)(Te,function(At){return(Le-Oe-(At.length-1)*Ce)/(0,p.Sm)(At,v)});bt=bt*i,Fe.links.forEach(function(At){At.width=At.value*bt});var Wt=Et(Fe),qt=Ct(Fe,Wt);bt=bt*qt,Fe.links.forEach(function(At){At.width=At.value*bt}),Te.forEach(function(At){var zt=At.length;At.forEach(function(Kt,Sr){Kt.depth==Te.length-1&&zt==1||Kt.depth==0&&zt==1?(Kt.y0=Le/2-Kt.value*bt,Kt.y1=Kt.y0+Kt.value*bt):Kt.partOfCycle?_(Kt,qe)==0?(Kt.y0=Le/2+Sr,Kt.y1=Kt.y0+Kt.value*bt):Kt.circularLinkType=="top"?(Kt.y0=Oe+Sr,Kt.y1=Kt.y0+Kt.value*bt):(Kt.y0=Le-Kt.value*bt-Sr,Kt.y1=Kt.y0+Kt.value*bt):Wt.top==0||Wt.bottom==0?(Kt.y0=(Le-Oe)/zt*Sr,Kt.y1=Kt.y0+Kt.value*bt):(Kt.y0=(Le-Oe)/2-zt/2+Sr,Kt.y1=Kt.y0+Kt.value*bt)})})}function He(qe,vt){var bt=Te.length;Te.forEach(function(Wt){var qt=Wt.length,At=Wt[0].depth;Wt.forEach(function(zt){var Kt;if((zt.sourceLinks.length||zt.targetLinks.length)&&!(zt.partOfCycle&&_(zt,vt)>0))if(At==0&&qt==1)Kt=zt.y1-zt.y0,zt.y0=Le/2-Kt/2,zt.y1=Le/2+Kt/2;else if(At==bt-1&&qt==1)Kt=zt.y1-zt.y0,zt.y0=Le/2-Kt/2,zt.y1=Le/2+Kt/2;else{var Sr=0,yt=(0,p.J6)(zt.sourceLinks,u),Zt=(0,p.J6)(zt.targetLinks,d);yt&&Zt?Sr=(yt+Zt)/2:Sr=yt||Zt;var $t=(Sr-A(zt))*qe;zt.y0+=$t,zt.y1+=$t}})})}function Ke(){Te.forEach(function(qe){var vt,bt,Wt=Oe,qt=qe.length,At;for(qe.sort(m),At=0;At<qt;++At)vt=qe[At],bt=Wt-vt.y0,bt>0&&(vt.y0+=bt,vt.y1+=bt),Wt=vt.y1+Ce;if(bt=Wt-Ce-Le,bt>0)for(Wt=vt.y0-=bt,vt.y1-=bt,At=qt-2;At>=0;--At)vt=qe[At],bt=vt.y1+Ce-Wt,bt>0&&(vt.y0-=bt,vt.y1-=bt),Wt=vt.y0})}}function _e(Fe){Fe.nodes.forEach(function(Be){Be.sourceLinks.sort(f),Be.targetLinks.sort(c)}),Fe.nodes.forEach(function(Be){var De=Be.y0,Te=De,xe=Be.y1,Me=xe;Be.sourceLinks.forEach(function(Pe){Pe.circular?(Pe.y0=xe-Pe.width/2,xe=xe-Pe.width):(Pe.y0=De+Pe.width/2,De+=Pe.width)}),Be.targetLinks.forEach(function(Pe){Pe.circular?(Pe.y1=Me-Pe.width/2,Me=Me-Pe.width):(Pe.y1=Te+Pe.width/2,Te+=Pe.width)})})}return ct}function b(Ae,Oe,Ue){var Le=0;if(Ue===null){for(var we=[],Ce=0;Ce<Ae.links.length;Ce++){var Ve=Ae.links[Ce],Ne=Ve.source.index,ke=Ve.target.index;we[Ne]||(we[Ne]=[]),we[ke]||(we[ke]=[]),we[Ne].indexOf(ke)===-1&&we[Ne].push(ke)}var We=w()(we);We.sort(function(at,ct){return at.length-ct.length});var rt={};for(Ce=0;Ce<We.length;Ce++){var et=We[Ce],tt=et.slice(-2);rt[tt[0]]||(rt[tt[0]]={}),rt[tt[0]][tt[1]]=!0}Ae.links.forEach(function(at){var ct=at.target.index,dt=at.source.index;ct===dt||rt[dt]&&rt[dt][ct]?(at.circular=!0,at.circularLinkID=Le,Le=Le+1):at.circular=!1})}else Ae.links.forEach(function(at){at.source[Ue]<at.target[Ue]?at.circular=!1:(at.circular=!0,at.circularLinkID=Le,Le=Le+1)})}function O(Ae,Oe){var Ue=0,Le=0;Ae.links.forEach(function(we){we.circular&&(we.source.circularLinkType||we.target.circularLinkType?we.circularLinkType=we.source.circularLinkType?we.source.circularLinkType:we.target.circularLinkType:we.circularLinkType=Ue<Le?"top":"bottom",we.circularLinkType=="top"?Ue=Ue+1:Le=Le+1,Ae.nodes.forEach(function(Ce){(x(Ce,Oe)==x(we.source,Oe)||x(Ce,Oe)==x(we.target,Oe))&&(Ce.circularLinkType=we.circularLinkType)}))}),Ae.links.forEach(function(we){we.circular&&(we.source.circularLinkType==we.target.circularLinkType&&(we.circularLinkType=we.source.circularLinkType),be(we,Oe)&&(we.circularLinkType=we.source.circularLinkType))})}function F(Ae){var Oe=Math.abs(Ae.y1-Ae.y0),Ue=Math.abs(Ae.target.x0-Ae.source.x1);return Math.atan(Ue/Oe)}function V(Ae,Oe){return Ae.source.column<Oe.target.column?!1:!(Ae.target.column>Oe.source.column)}function _(Ae,Oe){var Ue=0;Ae.sourceLinks.forEach(function(we){Ue=we.circular&&!be(we,Oe)?Ue+1:Ue});var Le=0;return Ae.targetLinks.forEach(function(we){Le=we.circular&&!be(we,Oe)?Le+1:Le}),Ue+Le}function U(Ae){var Oe=Ae.source.sourceLinks,Ue=0;Oe.forEach(function(Ce){Ue=Ce.circular?Ue+1:Ue});var Le=Ae.target.targetLinks,we=0;return Le.forEach(function(Ce){we=Ce.circular?we+1:we}),!(Ue>1||we>1)}function H(Ae,Oe,Ue){return Ae.sort(Y),Ae.forEach(function(Le,we){var Ce=0;if(be(Le,Ue)&&U(Le))Le.circularPathData.verticalBuffer=Ce+Le.width/2;else{var Ve=0;for(Ve;Ve<we;Ve++)if(V(Ae[we],Ae[Ve])){var Ne=Ae[Ve].circularPathData.verticalBuffer+Ae[Ve].width/2+Oe;Ce=Ne>Ce?Ne:Ce}Le.circularPathData.verticalBuffer=Ce+Le.width/2}}),Ae}function z(Ae,Oe,Ue,Le){var we=5,Ce=(0,p.VV)(Ae.links,function(ke){return ke.source.y0});Ae.links.forEach(function(ke){ke.circular&&(ke.circularPathData={})});var Ve=Ae.links.filter(function(ke){return ke.circularLinkType=="top"});H(Ve,Oe,Le);var Ne=Ae.links.filter(function(ke){return ke.circularLinkType=="bottom"});H(Ne,Oe,Le),Ae.links.forEach(function(ke){if(ke.circular){if(ke.circularPathData.arcRadius=ke.width+T,ke.circularPathData.leftNodeBuffer=we,ke.circularPathData.rightNodeBuffer=we,ke.circularPathData.sourceWidth=ke.source.x1-ke.source.x0,ke.circularPathData.sourceX=ke.source.x0+ke.circularPathData.sourceWidth,ke.circularPathData.targetX=ke.target.x0,ke.circularPathData.sourceY=ke.y0,ke.circularPathData.targetY=ke.y1,be(ke,Le)&&U(ke))ke.circularPathData.leftSmallArcRadius=T+ke.width/2,ke.circularPathData.leftLargeArcRadius=T+ke.width/2,ke.circularPathData.rightSmallArcRadius=T+ke.width/2,ke.circularPathData.rightLargeArcRadius=T+ke.width/2,ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=ke.source.y1+E+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=ke.source.y0-E-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius);else{var We=ke.source.column,rt=ke.circularLinkType,et=Ae.links.filter(function(ct){return ct.source.column==We&&ct.circularLinkType==rt});ke.circularLinkType=="bottom"?et.sort(ae):et.sort(J);var tt=0;et.forEach(function(ct,dt){ct.circularLinkID==ke.circularLinkID&&(ke.circularPathData.leftSmallArcRadius=T+ke.width/2+tt,ke.circularPathData.leftLargeArcRadius=T+ke.width/2+dt*Oe+tt),tt=tt+ct.width}),We=ke.target.column,et=Ae.links.filter(function(ct){return ct.target.column==We&&ct.circularLinkType==rt}),ke.circularLinkType=="bottom"?et.sort(he):et.sort(oe),tt=0,et.forEach(function(ct,dt){ct.circularLinkID==ke.circularLinkID&&(ke.circularPathData.rightSmallArcRadius=T+ke.width/2+tt,ke.circularPathData.rightLargeArcRadius=T+ke.width/2+dt*Oe+tt),tt=tt+ct.width}),ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=Math.max(Ue,ke.source.y1,ke.target.y1)+E+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=Ce-E-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius)}ke.circularPathData.leftInnerExtent=ke.circularPathData.sourceX+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightInnerExtent=ke.circularPathData.targetX-ke.circularPathData.rightNodeBuffer,ke.circularPathData.leftFullExtent=ke.circularPathData.sourceX+ke.circularPathData.leftLargeArcRadius+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightFullExtent=ke.circularPathData.targetX-ke.circularPathData.rightLargeArcRadius-ke.circularPathData.rightNodeBuffer}if(ke.circular)ke.path=G(ke);else{var at=(0,a.h5)().source(function(ct){var dt=ct.source.x0+(ct.source.x1-ct.source.x0),gt=ct.y0;return[dt,gt]}).target(function(ct){var dt=ct.target.x0,gt=ct.y1;return[dt,gt]});ke.path=at(ke)}})}function G(Ae){var Oe="";return Ae.circularLinkType=="top"?Oe="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:Oe="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY,Oe}function Y(Ae,Oe){return q(Ae)==q(Oe)?Ae.circularLinkType=="bottom"?ae(Ae,Oe):J(Ae,Oe):q(Oe)-q(Ae)}function J(Ae,Oe){return Ae.y0-Oe.y0}function ae(Ae,Oe){return Oe.y0-Ae.y0}function oe(Ae,Oe){return Ae.y1-Oe.y1}function he(Ae,Oe){return Oe.y1-Ae.y1}function q(Ae){return Ae.target.column-Ae.source.column}function Z(Ae){return Ae.target.x0-Ae.source.x1}function $(Ae,Oe){var Ue=F(Ae),Le=Z(Oe)/Math.tan(Ue),we=ve(Ae)=="up"?Ae.y1+Le:Ae.y1-Le;return we}function K(Ae,Oe){var Ue=F(Ae),Le=Z(Oe)/Math.tan(Ue),we=ve(Ae)=="up"?Ae.y1-Le:Ae.y1+Le;return we}function re(Ae,Oe,Ue,Le){Ae.links.forEach(function(we){if(!we.circular&&we.target.column-we.source.column>1){var Ce=we.source.column+1,Ve=we.target.column-1,Ne=1,ke=Ve-Ce+1;for(Ne=1;Ce<=Ve;Ce++,Ne++)Ae.nodes.forEach(function(We){if(We.column==Ce){var rt=Ne/(ke+1),et=Math.pow(1-rt,3),tt=3*rt*Math.pow(1-rt,2),at=3*Math.pow(rt,2)*(1-rt),ct=Math.pow(rt,3),dt=et*we.y0+tt*we.y0+at*we.y1+ct*we.y1,gt=dt-we.width/2,Et=dt+we.width/2,Ct;gt>We.y0&&gt<We.y1?(Ct=We.y1-gt+10,Ct=We.circularLinkType=="bottom"?Ct:-Ct,We=te(We,Ct,Oe,Ue),Ae.nodes.forEach(function(Vt){x(Vt,Le)==x(We,Le)||Vt.column!=We.column||le(We,Vt)&&te(Vt,Ct,Oe,Ue)})):Et>We.y0&&Et<We.y1?(Ct=Et-We.y0+10,We=te(We,Ct,Oe,Ue),Ae.nodes.forEach(function(Vt){x(Vt,Le)==x(We,Le)||Vt.column!=We.column||Vt.y0<We.y1&&Vt.y1>We.y1&&te(Vt,Ct,Oe,Ue)})):gt<We.y0&&Et>We.y1&&(Ct=Et-We.y0+10,We=te(We,Ct,Oe,Ue),Ae.nodes.forEach(function(Vt){x(Vt,Le)==x(We,Le)||Vt.column!=We.column||Vt.y0<We.y1&&Vt.y1>We.y1&&te(Vt,Ct,Oe,Ue)}))}})}})}function le(Ae,Oe){return Ae.y0>Oe.y0&&Ae.y0<Oe.y1||Ae.y1>Oe.y0&&Ae.y1<Oe.y1?!0:Ae.y0<Oe.y0&&Ae.y1>Oe.y1}function te(Ae,Oe,Ue,Le){return Ae.y0+Oe>=Ue&&Ae.y1+Oe<=Le&&(Ae.y0=Ae.y0+Oe,Ae.y1=Ae.y1+Oe,Ae.targetLinks.forEach(function(we){we.y1=we.y1+Oe}),Ae.sourceLinks.forEach(function(we){we.y0=we.y0+Oe})),Ae}function ee(Ae,Oe,Ue,Le){Ae.nodes.forEach(function(we){Le&&we.y+(we.y1-we.y0)>Oe&&(we.y=we.y-(we.y+(we.y1-we.y0)-Oe));var Ce=Ae.links.filter(function(ke){return x(ke.source,Ue)==x(we,Ue)}),Ve=Ce.length;Ve>1&&Ce.sort(function(ke,We){if(!ke.circular&&!We.circular){if(ke.target.column==We.target.column)return ke.y1-We.y1;if(se(ke,We)){if(ke.target.column>We.target.column){var rt=K(We,ke);return ke.y1-rt}if(We.target.column>ke.target.column){var et=K(ke,We);return et-We.y1}}else return ke.y1-We.y1}if(ke.circular&&!We.circular)return ke.circularLinkType=="top"?-1:1;if(We.circular&&!ke.circular)return We.circularLinkType=="top"?1:-1;if(ke.circular&&We.circular)return ke.circularLinkType===We.circularLinkType&&ke.circularLinkType=="top"?ke.target.column===We.target.column?ke.target.y1-We.target.y1:We.target.column-ke.target.column:ke.circularLinkType===We.circularLinkType&&ke.circularLinkType=="bottom"?ke.target.column===We.target.column?We.target.y1-ke.target.y1:ke.target.column-We.target.column:ke.circularLinkType=="top"?-1:1});var Ne=we.y0;Ce.forEach(function(ke){ke.y0=Ne+ke.width/2,Ne=Ne+ke.width}),Ce.forEach(function(ke,We){if(ke.circularLinkType=="bottom"){var rt=We+1,et=0;for(rt;rt<Ve;rt++)et=et+Ce[rt].width;ke.y0=we.y1-et-ke.width/2}})})}function ue(Ae,Oe,Ue){Ae.nodes.forEach(function(Le){var we=Ae.links.filter(function(Ne){return x(Ne.target,Ue)==x(Le,Ue)}),Ce=we.length;Ce>1&&we.sort(function(Ne,ke){if(!Ne.circular&&!ke.circular){if(Ne.source.column==ke.source.column)return Ne.y0-ke.y0;if(se(Ne,ke)){if(ke.source.column<Ne.source.column){var We=$(ke,Ne);return Ne.y0-We}if(Ne.source.column<ke.source.column){var rt=$(Ne,ke);return rt-ke.y0}}else return Ne.y0-ke.y0}if(Ne.circular&&!ke.circular)return Ne.circularLinkType=="top"?-1:1;if(ke.circular&&!Ne.circular)return ke.circularLinkType=="top"?1:-1;if(Ne.circular&&ke.circular)return Ne.circularLinkType===ke.circularLinkType&&Ne.circularLinkType=="top"?Ne.source.column===ke.source.column?Ne.source.y1-ke.source.y1:Ne.source.column-ke.source.column:Ne.circularLinkType===ke.circularLinkType&&Ne.circularLinkType=="bottom"?Ne.source.column===ke.source.column?Ne.source.y1-ke.source.y1:ke.source.column-Ne.source.column:Ne.circularLinkType=="top"?-1:1});var Ve=Le.y0;we.forEach(function(Ne){Ne.y1=Ve+Ne.width/2,Ve=Ve+Ne.width}),we.forEach(function(Ne,ke){if(Ne.circularLinkType=="bottom"){var We=ke+1,rt=0;for(We;We<Ce;We++)rt=rt+we[We].width;Ne.y1=Le.y1-rt-Ne.width/2}})})}function se(Ae,Oe){return ve(Ae)==ve(Oe)}function ve(Ae){return Ae.y0-Ae.y1>0?"up":"down"}function be(Ae,Oe){return x(Ae.source,Oe)==x(Ae.target,Oe)}function Ee(Ae,Oe,Ue){var Le=Ae.nodes,we=Ae.links,Ce=!1,Ve=!1;if(we.forEach(function(tt){tt.circularLinkType=="top"?Ce=!0:tt.circularLinkType=="bottom"&&(Ve=!0)}),Ce==!1||Ve==!1){var Ne=(0,p.VV)(Le,function(tt){return tt.y0}),ke=(0,p.Fp)(Le,function(tt){return tt.y1}),We=ke-Ne,rt=Ue-Oe,et=rt/We;Le.forEach(function(tt){var at=(tt.y1-tt.y0)*et;tt.y0=(tt.y0-Ne)*et,tt.y1=tt.y0+at}),we.forEach(function(tt){tt.y0=(tt.y0-Ne)*et,tt.y1=(tt.y1-Ne)*et,tt.width=tt.width*et})}}},30838:function(B,N,e){e.r(N),e.d(N,{sankey:function(){return y},sankeyCenter:function(){return g},sankeyJustify:function(){return h},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return x},sankeyRight:function(){return w}});var p=e(33064),L=e(15140);function a(E){return E.target.depth}function C(E){return E.depth}function w(E,T){return T-1-E.height}function h(E,T){return E.sourceLinks.length?E.depth:T-1}function g(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,p.VV)(E.sourceLinks,a)-1:0}function t(E){return function(){return E}}function r(E,T){return n(E.source,T.source)||E.index-T.index}function s(E,T){return n(E.target,T.target)||E.index-T.index}function n(E,T){return E.y0-T.y0}function l(E){return E.value}function c(E){return(E.y0+E.y1)/2}function f(E){return c(E.source)*E.value}function m(E){return c(E.target)*E.value}function v(E){return E.index}function A(E){return E.nodes}function d(E){return E.links}function u(E,T){var i=E.get(T);if(!i)throw new Error("missing: "+T);return i}function y(){var E=0,T=0,i=1,D=1,b=24,O=8,F=v,V=h,_=A,U=d,H=32,z=2/3;function G(){var q={nodes:_.apply(null,arguments),links:U.apply(null,arguments)};return Y(q),J(q),ae(q),oe(q),he(q),q}G.update=function(q){return he(q),q},G.nodeId=function(q){return arguments.length?(F=typeof q=="function"?q:t(q),G):F},G.nodeAlign=function(q){return arguments.length?(V=typeof q=="function"?q:t(q),G):V},G.nodeWidth=function(q){return arguments.length?(b=+q,G):b},G.nodePadding=function(q){return arguments.length?(O=+q,G):O},G.nodes=function(q){return arguments.length?(_=typeof q=="function"?q:t(q),G):_},G.links=function(q){return arguments.length?(U=typeof q=="function"?q:t(q),G):U},G.size=function(q){return arguments.length?(E=T=0,i=+q[0],D=+q[1],G):[i-E,D-T]},G.extent=function(q){return arguments.length?(E=+q[0][0],i=+q[1][0],T=+q[0][1],D=+q[1][1],G):[[E,T],[i,D]]},G.iterations=function(q){return arguments.length?(H=+q,G):H};function Y(q){q.nodes.forEach(function($,K){$.index=K,$.sourceLinks=[],$.targetLinks=[]});var Z=(0,L.UI)(q.nodes,F);q.links.forEach(function($,K){$.index=K;var re=$.source,le=$.target;typeof re!="object"&&(re=$.source=u(Z,re)),typeof le!="object"&&(le=$.target=u(Z,le)),re.sourceLinks.push($),le.targetLinks.push($)})}function J(q){q.nodes.forEach(function(Z){Z.value=Math.max((0,p.Sm)(Z.sourceLinks,l),(0,p.Sm)(Z.targetLinks,l))})}function ae(q){var Z,$,K;for(Z=q.nodes,$=[],K=0;Z.length;++K,Z=$,$=[])Z.forEach(function(le){le.depth=K,le.sourceLinks.forEach(function(te){$.indexOf(te.target)<0&&$.push(te.target)})});for(Z=q.nodes,$=[],K=0;Z.length;++K,Z=$,$=[])Z.forEach(function(le){le.height=K,le.targetLinks.forEach(function(te){$.indexOf(te.source)<0&&$.push(te.source)})});var re=(i-E-b)/(K-1);q.nodes.forEach(function(le){le.x1=(le.x0=E+Math.max(0,Math.min(K-1,Math.floor(V.call(null,le,K))))*re)+b})}function oe(q){var Z=(0,L.b1)().key(function(ue){return ue.x0}).sortKeys(p.j2).entries(q.nodes).map(function(ue){return ue.values});re(),ee();for(var $=1,K=H;K>0;--K)te($*=.99),ee(),le($),ee();function re(){var ue=(0,p.Fp)(Z,function(be){return be.length}),se=z*(D-T)/(ue-1);O>se&&(O=se);var ve=(0,p.VV)(Z,function(be){return(D-T-(be.length-1)*O)/(0,p.Sm)(be,l)});Z.forEach(function(be){be.forEach(function(Ee,Ae){Ee.y1=(Ee.y0=Ae)+Ee.value*ve})}),q.links.forEach(function(be){be.width=be.value*ve})}function le(ue){Z.forEach(function(se){se.forEach(function(ve){if(ve.targetLinks.length){var be=((0,p.Sm)(ve.targetLinks,f)/(0,p.Sm)(ve.targetLinks,l)-c(ve))*ue;ve.y0+=be,ve.y1+=be}})})}function te(ue){Z.slice().reverse().forEach(function(se){se.forEach(function(ve){if(ve.sourceLinks.length){var be=((0,p.Sm)(ve.sourceLinks,m)/(0,p.Sm)(ve.sourceLinks,l)-c(ve))*ue;ve.y0+=be,ve.y1+=be}})})}function ee(){Z.forEach(function(ue){var se,ve,be=T,Ee=ue.length,Ae;for(ue.sort(n),Ae=0;Ae<Ee;++Ae)se=ue[Ae],ve=be-se.y0,ve>0&&(se.y0+=ve,se.y1+=ve),be=se.y1+O;if(ve=be-O-D,ve>0)for(be=se.y0-=ve,se.y1-=ve,Ae=Ee-2;Ae>=0;--Ae)se=ue[Ae],ve=se.y1+O-be,ve>0&&(se.y0-=ve,se.y1-=ve),be=se.y0})}}function he(q){q.nodes.forEach(function(Z){Z.sourceLinks.sort(s),Z.targetLinks.sort(r)}),q.nodes.forEach(function(Z){var $=Z.y0,K=$;Z.sourceLinks.forEach(function(re){re.y0=$+re.width/2,$+=re.width}),Z.targetLinks.forEach(function(re){re.y1=K+re.width/2,K+=re.width})})}return G}var M=e(45879);function S(E){return[E.source.x1,E.y0]}function R(E){return[E.target.x0,E.y1]}function x(){return(0,M.h5)().source(S).target(R)}},39898:function(B,N,e){var p,L;(function(){var a={version:"3.8.0"},C=[].slice,w=function(fe){return C.call(fe)},h=self.document;function g(fe){return fe&&(fe.ownerDocument||fe.document||fe).documentElement}function t(fe){return fe&&(fe.ownerDocument&&fe.ownerDocument.defaultView||fe.document&&fe||fe.defaultView)}if(h)try{w(h.documentElement.childNodes)[0].nodeType}catch{w=function(Re){for(var Ge=Re.length,Qe=new Array(Ge);Ge--;)Qe[Ge]=Re[Ge];return Qe}}if(Date.now||(Date.now=function(){return+new Date}),h)try{h.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,s=r.setAttribute,n=r.setAttributeNS,l=this.CSSStyleDeclaration.prototype,c=l.setProperty;r.setAttribute=function(Re,Ge){s.call(this,Re,Ge+"")},r.setAttributeNS=function(Re,Ge,Qe){n.call(this,Re,Ge,Qe+"")},l.setProperty=function(Re,Ge,Qe){c.call(this,Re,Ge+"",Qe)}}a.ascending=f;function f(fe,Re){return fe<Re?-1:fe>Re?1:fe>=Re?0:NaN}a.descending=function(fe,Re){return Re<fe?-1:Re>fe?1:Re>=fe?0:NaN},a.min=function(fe,Re){var Ge=-1,Qe=fe.length,nt,ot;if(arguments.length===1){for(;++Ge<Qe;)if((ot=fe[Ge])!=null&&ot>=ot){nt=ot;break}for(;++Ge<Qe;)(ot=fe[Ge])!=null&&nt>ot&&(nt=ot)}else{for(;++Ge<Qe;)if((ot=Re.call(fe,fe[Ge],Ge))!=null&&ot>=ot){nt=ot;break}for(;++Ge<Qe;)(ot=Re.call(fe,fe[Ge],Ge))!=null&&nt>ot&&(nt=ot)}return nt},a.max=function(fe,Re){var Ge=-1,Qe=fe.length,nt,ot;if(arguments.length===1){for(;++Ge<Qe;)if((ot=fe[Ge])!=null&&ot>=ot){nt=ot;break}for(;++Ge<Qe;)(ot=fe[Ge])!=null&&ot>nt&&(nt=ot)}else{for(;++Ge<Qe;)if((ot=Re.call(fe,fe[Ge],Ge))!=null&&ot>=ot){nt=ot;break}for(;++Ge<Qe;)(ot=Re.call(fe,fe[Ge],Ge))!=null&&ot>nt&&(nt=ot)}return nt},a.extent=function(fe,Re){var Ge=-1,Qe=fe.length,nt,ot,Pt;if(arguments.length===1){for(;++Ge<Qe;)if((ot=fe[Ge])!=null&&ot>=ot){nt=Pt=ot;break}for(;++Ge<Qe;)(ot=fe[Ge])!=null&&(nt>ot&&(nt=ot),Pt<ot&&(Pt=ot))}else{for(;++Ge<Qe;)if((ot=Re.call(fe,fe[Ge],Ge))!=null&&ot>=ot){nt=Pt=ot;break}for(;++Ge<Qe;)(ot=Re.call(fe,fe[Ge],Ge))!=null&&(nt>ot&&(nt=ot),Pt<ot&&(Pt=ot))}return[nt,Pt]};function m(fe){return fe===null?NaN:+fe}function v(fe){return!isNaN(fe)}a.sum=function(fe,Re){var Ge=0,Qe=fe.length,nt,ot=-1;if(arguments.length===1)for(;++ot<Qe;)v(nt=+fe[ot])&&(Ge+=nt);else for(;++ot<Qe;)v(nt=+Re.call(fe,fe[ot],ot))&&(Ge+=nt);return Ge},a.mean=function(fe,Re){var Ge=0,Qe=fe.length,nt,ot=-1,Pt=Qe;if(arguments.length===1)for(;++ot<Qe;)v(nt=m(fe[ot]))?Ge+=nt:--Pt;else for(;++ot<Qe;)v(nt=m(Re.call(fe,fe[ot],ot)))?Ge+=nt:--Pt;if(Pt)return Ge/Pt},a.quantile=function(fe,Re){var Ge=(fe.length-1)*Re+1,Qe=Math.floor(Ge),nt=+fe[Qe-1],ot=Ge-Qe;return ot?nt+ot*(fe[Qe]-nt):nt},a.median=function(fe,Re){var Ge=[],Qe=fe.length,nt,ot=-1;if(arguments.length===1)for(;++ot<Qe;)v(nt=m(fe[ot]))&&Ge.push(nt);else for(;++ot<Qe;)v(nt=m(Re.call(fe,fe[ot],ot)))&&Ge.push(nt);if(Ge.length)return a.quantile(Ge.sort(f),.5)},a.variance=function(fe,Re){var Ge=fe.length,Qe=0,nt,ot,Pt=0,ft=-1,Ht=0;if(arguments.length===1)for(;++ft<Ge;)v(nt=m(fe[ft]))&&(ot=nt-Qe,Qe+=ot/++Ht,Pt+=ot*(nt-Qe));else for(;++ft<Ge;)v(nt=m(Re.call(fe,fe[ft],ft)))&&(ot=nt-Qe,Qe+=ot/++Ht,Pt+=ot*(nt-Qe));if(Ht>1)return Pt/(Ht-1)},a.deviation=function(){var fe=a.variance.apply(this,arguments);return fe&&Math.sqrt(fe)};function A(fe){return{left:function(Re,Ge,Qe,nt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(nt=Re.length);Qe<nt;){var ot=Qe+nt>>>1;fe(Re[ot],Ge)<0?Qe=ot+1:nt=ot}return Qe},right:function(Re,Ge,Qe,nt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(nt=Re.length);Qe<nt;){var ot=Qe+nt>>>1;fe(Re[ot],Ge)>0?nt=ot:Qe=ot+1}return Qe}}}var d=A(f);a.bisectLeft=d.left,a.bisect=a.bisectRight=d.right,a.bisector=function(fe){return A(fe.length===1?function(Re,Ge){return f(fe(Re),Ge)}:fe)},a.shuffle=function(fe,Re,Ge){(Qe=arguments.length)<3&&(Ge=fe.length,Qe<2&&(Re=0));for(var Qe=Ge-Re,nt,ot;Qe;)ot=Math.random()*Qe--|0,nt=fe[Qe+Re],fe[Qe+Re]=fe[ot+Re],fe[ot+Re]=nt;return fe},a.permute=function(fe,Re){for(var Ge=Re.length,Qe=new Array(Ge);Ge--;)Qe[Ge]=fe[Re[Ge]];return Qe},a.pairs=function(fe){for(var Re=0,Ge=fe.length-1,Qe=fe[0],nt=new Array(Ge<0?0:Ge);Re<Ge;)nt[Re]=[Qe,Qe=fe[++Re]];return nt},a.transpose=function(fe){if(!(ot=fe.length))return[];for(var Re=-1,Ge=a.min(fe,u),Qe=new Array(Ge);++Re<Ge;)for(var nt=-1,ot,Pt=Qe[Re]=new Array(ot);++nt<ot;)Pt[nt]=fe[nt][Re];return Qe};function u(fe){return fe.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(fe){var Re=[];for(var Ge in fe)Re.push(Ge);return Re},a.values=function(fe){var Re=[];for(var Ge in fe)Re.push(fe[Ge]);return Re},a.entries=function(fe){var Re=[];for(var Ge in fe)Re.push({key:Ge,value:fe[Ge]});return Re},a.merge=function(fe){for(var Re=fe.length,Ge,Qe=-1,nt=0,ot,Pt;++Qe<Re;)nt+=fe[Qe].length;for(ot=new Array(nt);--Re>=0;)for(Pt=fe[Re],Ge=Pt.length;--Ge>=0;)ot[--nt]=Pt[Ge];return ot};var y=Math.abs;a.range=function(fe,Re,Ge){if(arguments.length<3&&(Ge=1,arguments.length<2&&(Re=fe,fe=0)),(Re-fe)/Ge===1/0)throw new Error("infinite range");var Qe=[],nt=M(y(Ge)),ot=-1,Pt;if(fe*=nt,Re*=nt,Ge*=nt,Ge<0)for(;(Pt=fe+Ge*++ot)>Re;)Qe.push(Pt/nt);else for(;(Pt=fe+Ge*++ot)<Re;)Qe.push(Pt/nt);return Qe};function M(fe){for(var Re=1;fe*Re%1;)Re*=10;return Re}function S(fe,Re){for(var Ge in Re)Object.defineProperty(fe.prototype,Ge,{value:Re[Ge],enumerable:!1})}a.map=function(fe,Re){var Ge=new R;if(fe instanceof R)fe.forEach(function(ft,Ht){Ge.set(ft,Ht)});else if(Array.isArray(fe)){var Qe=-1,nt=fe.length,ot;if(arguments.length===1)for(;++Qe<nt;)Ge.set(Qe,fe[Qe]);else for(;++Qe<nt;)Ge.set(Re.call(fe,ot=fe[Qe],Qe),ot)}else for(var Pt in fe)Ge.set(Pt,fe[Pt]);return Ge};function R(){this._=Object.create(null)}var x="__proto__",E="\0";S(R,{has:D,get:function(fe){return this._[T(fe)]},set:function(fe,Re){return this._[T(fe)]=Re},remove:b,keys:O,values:function(){var fe=[];for(var Re in this._)fe.push(this._[Re]);return fe},entries:function(){var fe=[];for(var Re in this._)fe.push({key:i(Re),value:this._[Re]});return fe},size:F,empty:V,forEach:function(fe){for(var Re in this._)fe.call(this,i(Re),this._[Re])}});function T(fe){return(fe+="")===x||fe[0]===E?E+fe:fe}function i(fe){return(fe+="")[0]===E?fe.slice(1):fe}function D(fe){return T(fe)in this._}function b(fe){return(fe=T(fe))in this._&&delete this._[fe]}function O(){var fe=[];for(var Re in this._)fe.push(i(Re));return fe}function F(){var fe=0;for(var Re in this._)++fe;return fe}function V(){for(var fe in this._)return!1;return!0}a.nest=function(){var fe={},Re=[],Ge=[],Qe,nt;function ot(ft,Ht,er){if(er>=Re.length)return nt?nt.call(fe,Ht):Qe?Ht.sort(Qe):Ht;for(var nr=-1,Rr=Ht.length,Lr=Re[er++],Jr,an,kr,Ur=new R,$r;++nr<Rr;)($r=Ur.get(Jr=Lr(an=Ht[nr])))?$r.push(an):Ur.set(Jr,[an]);return ft?(an=ft(),kr=function(sn,vn){an.set(sn,ot(ft,vn,er))}):(an={},kr=function(sn,vn){an[sn]=ot(ft,vn,er)}),Ur.forEach(kr),an}function Pt(ft,Ht){if(Ht>=Re.length)return ft;var er=[],nr=Ge[Ht++];return ft.forEach(function(Rr,Lr){er.push({key:Rr,values:Pt(Lr,Ht)})}),nr?er.sort(function(Rr,Lr){return nr(Rr.key,Lr.key)}):er}return fe.map=function(ft,Ht){return ot(Ht,ft,0)},fe.entries=function(ft){return Pt(ot(a.map,ft,0),0)},fe.key=function(ft){return Re.push(ft),fe},fe.sortKeys=function(ft){return Ge[Re.length-1]=ft,fe},fe.sortValues=function(ft){return Qe=ft,fe},fe.rollup=function(ft){return nt=ft,fe},fe},a.set=function(fe){var Re=new _;if(fe)for(var Ge=0,Qe=fe.length;Ge<Qe;++Ge)Re.add(fe[Ge]);return Re};function _(){this._=Object.create(null)}S(_,{has:D,add:function(fe){return this._[T(fe+="")]=!0,fe},remove:b,values:O,size:F,empty:V,forEach:function(fe){for(var Re in this._)fe.call(this,i(Re))}}),a.behavior={};function U(fe){return fe}a.rebind=function(fe,Re){for(var Ge=1,Qe=arguments.length,nt;++Ge<Qe;)fe[nt=arguments[Ge]]=H(fe,Re,Re[nt]);return fe};function H(fe,Re,Ge){return function(){var Qe=Ge.apply(Re,arguments);return Qe===Re?fe:Qe}}function z(fe,Re){if(Re in fe)return Re;Re=Re.charAt(0).toUpperCase()+Re.slice(1);for(var Ge=0,Qe=G.length;Ge<Qe;++Ge){var nt=G[Ge]+Re;if(nt in fe)return nt}}var G=["webkit","ms","moz","Moz","o","O"];function Y(){}a.dispatch=function(){for(var fe=new J,Re=-1,Ge=arguments.length;++Re<Ge;)fe[arguments[Re]]=ae(fe);return fe};function J(){}J.prototype.on=function(fe,Re){var Ge=fe.indexOf("."),Qe="";if(Ge>=0&&(Qe=fe.slice(Ge+1),fe=fe.slice(0,Ge)),fe)return arguments.length<2?this[fe].on(Qe):this[fe].on(Qe,Re);if(arguments.length===2){if(Re==null)for(fe in this)this.hasOwnProperty(fe)&&this[fe].on(Qe,null);return this}};function ae(fe){var Re=[],Ge=new R;function Qe(){for(var nt=Re,ot=-1,Pt=nt.length,ft;++ot<Pt;)(ft=nt[ot].on)&&ft.apply(this,arguments);return fe}return Qe.on=function(nt,ot){var Pt=Ge.get(nt),ft;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Re=Re.slice(0,ft=Re.indexOf(Pt)).concat(Re.slice(ft+1)),Ge.remove(nt)),ot&&Re.push(Ge.set(nt,{on:ot})),fe)},Qe}a.event=null;function oe(){a.event.preventDefault()}function he(){for(var fe=a.event,Re;Re=fe.sourceEvent;)fe=Re;return fe}function q(fe){for(var Re=new J,Ge=0,Qe=arguments.length;++Ge<Qe;)Re[arguments[Ge]]=ae(Re);return Re.of=function(nt,ot){return function(Pt){try{var ft=Pt.sourceEvent=a.event;Pt.target=fe,a.event=Pt,Re[Pt.type].apply(nt,ot)}finally{a.event=ft}}},Re}a.requote=function(fe){return fe.replace(Z,"\\$&")};var Z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(fe,Re){fe.__proto__=Re}:function(fe,Re){for(var Ge in Re)fe[Ge]=Re[Ge]};function K(fe){return $(fe,ee),fe}var re=function(fe,Re){return Re.querySelector(fe)},le=function(fe,Re){return Re.querySelectorAll(fe)},te=function(fe,Re){var Ge=fe.matches||fe[z(fe,"matchesSelector")];return te=function(Qe,nt){return Ge.call(Qe,nt)},te(fe,Re)};typeof Sizzle=="function"&&(re=function(fe,Re){return Sizzle(fe,Re)[0]||null},le=Sizzle,te=Sizzle.matchesSelector),a.selection=function(){return a.select(h.documentElement)};var ee=a.selection.prototype=[];ee.select=function(fe){var Re=[],Ge,Qe,nt,ot;fe=ue(fe);for(var Pt=-1,ft=this.length;++Pt<ft;){Re.push(Ge=[]),Ge.parentNode=(nt=this[Pt]).parentNode;for(var Ht=-1,er=nt.length;++Ht<er;)(ot=nt[Ht])?(Ge.push(Qe=fe.call(ot,ot.__data__,Ht,Pt)),Qe&&"__data__"in ot&&(Qe.__data__=ot.__data__)):Ge.push(null)}return K(Re)};function ue(fe){return typeof fe=="function"?fe:function(){return re(fe,this)}}ee.selectAll=function(fe){var Re=[],Ge,Qe;fe=se(fe);for(var nt=-1,ot=this.length;++nt<ot;)for(var Pt=this[nt],ft=-1,Ht=Pt.length;++ft<Ht;)(Qe=Pt[ft])&&(Re.push(Ge=w(fe.call(Qe,Qe.__data__,ft,nt))),Ge.parentNode=Qe);return K(Re)};function se(fe){return typeof fe=="function"?fe:function(){return le(fe,this)}}var ve="http://www.w3.org/1999/xhtml",be={svg:"http://www.w3.org/2000/svg",xhtml:ve,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:be,qualify:function(fe){var Re=fe.indexOf(":"),Ge=fe;return Re>=0&&(Ge=fe.slice(0,Re))!=="xmlns"&&(fe=fe.slice(Re+1)),be.hasOwnProperty(Ge)?{space:be[Ge],local:fe}:fe}},ee.attr=function(fe,Re){if(arguments.length<2){if(typeof fe=="string"){var Ge=this.node();return fe=a.ns.qualify(fe),fe.local?Ge.getAttributeNS(fe.space,fe.local):Ge.getAttribute(fe)}for(Re in fe)this.each(Ee(Re,fe[Re]));return this}return this.each(Ee(fe,Re))};function Ee(fe,Re){fe=a.ns.qualify(fe);function Ge(){this.removeAttribute(fe)}function Qe(){this.removeAttributeNS(fe.space,fe.local)}function nt(){this.setAttribute(fe,Re)}function ot(){this.setAttributeNS(fe.space,fe.local,Re)}function Pt(){var Ht=Re.apply(this,arguments);Ht==null?this.removeAttribute(fe):this.setAttribute(fe,Ht)}function ft(){var Ht=Re.apply(this,arguments);Ht==null?this.removeAttributeNS(fe.space,fe.local):this.setAttributeNS(fe.space,fe.local,Ht)}return Re==null?fe.local?Qe:Ge:typeof Re=="function"?fe.local?ft:Pt:fe.local?ot:nt}function Ae(fe){return fe.trim().replace(/\s+/g," ")}ee.classed=function(fe,Re){if(arguments.length<2){if(typeof fe=="string"){var Ge=this.node(),Qe=(fe=Ue(fe)).length,nt=-1;if(Re=Ge.classList){for(;++nt<Qe;)if(!Re.contains(fe[nt]))return!1}else for(Re=Ge.getAttribute("class");++nt<Qe;)if(!Oe(fe[nt]).test(Re))return!1;return!0}for(Re in fe)this.each(Le(Re,fe[Re]));return this}return this.each(Le(fe,Re))};function Oe(fe){return new RegExp("(?:^|\\s+)"+a.requote(fe)+"(?:\\s+|$)","g")}function Ue(fe){return(fe+"").trim().split(/^|\s+/)}function Le(fe,Re){fe=Ue(fe).map(we);var Ge=fe.length;function Qe(){for(var ot=-1;++ot<Ge;)fe[ot](this,Re)}function nt(){for(var ot=-1,Pt=Re.apply(this,arguments);++ot<Ge;)fe[ot](this,Pt)}return typeof Re=="function"?nt:Qe}function we(fe){var Re=Oe(fe);return function(Ge,Qe){if(nt=Ge.classList)return Qe?nt.add(fe):nt.remove(fe);var nt=Ge.getAttribute("class")||"";Qe?(Re.lastIndex=0,Re.test(nt)||Ge.setAttribute("class",Ae(nt+" "+fe))):Ge.setAttribute("class",Ae(nt.replace(Re," ")))}}ee.style=function(fe,Re,Ge){var Qe=arguments.length;if(Qe<3){if(typeof fe!="string"){Qe<2&&(Re="");for(Ge in fe)this.each(Ce(Ge,fe[Ge],Re));return this}if(Qe<2){var nt=this.node();return t(nt).getComputedStyle(nt,null).getPropertyValue(fe)}Ge=""}return this.each(Ce(fe,Re,Ge))};function Ce(fe,Re,Ge){function Qe(){this.style.removeProperty(fe)}function nt(){this.style.setProperty(fe,Re,Ge)}function ot(){var Pt=Re.apply(this,arguments);Pt==null?this.style.removeProperty(fe):this.style.setProperty(fe,Pt,Ge)}return Re==null?Qe:typeof Re=="function"?ot:nt}ee.property=function(fe,Re){if(arguments.length<2){if(typeof fe=="string")return this.node()[fe];for(Re in fe)this.each(Ve(Re,fe[Re]));return this}return this.each(Ve(fe,Re))};function Ve(fe,Re){function Ge(){delete this[fe]}function Qe(){this[fe]=Re}function nt(){var ot=Re.apply(this,arguments);ot==null?delete this[fe]:this[fe]=ot}return Re==null?Ge:typeof Re=="function"?nt:Qe}ee.text=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Re=fe.apply(this,arguments);this.textContent=Re??""}:fe==null?function(){this.textContent=""}:function(){this.textContent=fe}):this.node().textContent},ee.html=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Re=fe.apply(this,arguments);this.innerHTML=Re??""}:fe==null?function(){this.innerHTML=""}:function(){this.innerHTML=fe}):this.node().innerHTML},ee.append=function(fe){return fe=Ne(fe),this.select(function(){return this.appendChild(fe.apply(this,arguments))})};function Ne(fe){function Re(){var Qe=this.ownerDocument,nt=this.namespaceURI;return nt===ve&&Qe.documentElement.namespaceURI===ve?Qe.createElement(fe):Qe.createElementNS(nt,fe)}function Ge(){return this.ownerDocument.createElementNS(fe.space,fe.local)}return typeof fe=="function"?fe:(fe=a.ns.qualify(fe)).local?Ge:Re}ee.insert=function(fe,Re){return fe=Ne(fe),Re=ue(Re),this.select(function(){return this.insertBefore(fe.apply(this,arguments),Re.apply(this,arguments)||null)})},ee.remove=function(){return this.each(ke)};function ke(){var fe=this.parentNode;fe&&fe.removeChild(this)}ee.data=function(fe,Re){var Ge=-1,Qe=this.length,nt,ot;if(!arguments.length){for(fe=new Array(Qe=(nt=this[0]).length);++Ge<Qe;)(ot=nt[Ge])&&(fe[Ge]=ot.__data__);return fe}function Pt(nr,Rr){var Lr,Jr=nr.length,an=Rr.length,kr=Math.min(Jr,an),Ur=new Array(an),$r=new Array(an),sn=new Array(Jr),vn,Kr;if(Re){var Hn=new R,Yn=new Array(Jr),ea;for(Lr=-1;++Lr<Jr;)(vn=nr[Lr])&&(Hn.has(ea=Re.call(vn,vn.__data__,Lr))?sn[Lr]=vn:Hn.set(ea,vn),Yn[Lr]=ea);for(Lr=-1;++Lr<an;)(vn=Hn.get(ea=Re.call(Rr,Kr=Rr[Lr],Lr)))?vn!==!0&&(Ur[Lr]=vn,vn.__data__=Kr):$r[Lr]=We(Kr),Hn.set(ea,!0);for(Lr=-1;++Lr<Jr;)Lr in Yn&&Hn.get(Yn[Lr])!==!0&&(sn[Lr]=nr[Lr])}else{for(Lr=-1;++Lr<kr;)vn=nr[Lr],Kr=Rr[Lr],vn?(vn.__data__=Kr,Ur[Lr]=vn):$r[Lr]=We(Kr);for(;Lr<an;++Lr)$r[Lr]=We(Rr[Lr]);for(;Lr<Jr;++Lr)sn[Lr]=nr[Lr]}$r.update=Ur,$r.parentNode=Ur.parentNode=sn.parentNode=nr.parentNode,ft.push($r),Ht.push(Ur),er.push(sn)}var ft=at([]),Ht=K([]),er=K([]);if(typeof fe=="function")for(;++Ge<Qe;)Pt(nt=this[Ge],fe.call(nt,nt.parentNode.__data__,Ge));else for(;++Ge<Qe;)Pt(nt=this[Ge],fe);return Ht.enter=function(){return ft},Ht.exit=function(){return er},Ht};function We(fe){return{__data__:fe}}ee.datum=function(fe){return arguments.length?this.property("__data__",fe):this.property("__data__")},ee.filter=function(fe){var Re=[],Ge,Qe,nt;typeof fe!="function"&&(fe=rt(fe));for(var ot=0,Pt=this.length;ot<Pt;ot++){Re.push(Ge=[]),Ge.parentNode=(Qe=this[ot]).parentNode;for(var ft=0,Ht=Qe.length;ft<Ht;ft++)(nt=Qe[ft])&&fe.call(nt,nt.__data__,ft,ot)&&Ge.push(nt)}return K(Re)};function rt(fe){return function(){return te(this,fe)}}ee.order=function(){for(var fe=-1,Re=this.length;++fe<Re;)for(var Ge=this[fe],Qe=Ge.length-1,nt=Ge[Qe],ot;--Qe>=0;)(ot=Ge[Qe])&&(nt&&nt!==ot.nextSibling&&nt.parentNode.insertBefore(ot,nt),nt=ot);return this},ee.sort=function(fe){fe=et.apply(this,arguments);for(var Re=-1,Ge=this.length;++Re<Ge;)this[Re].sort(fe);return this.order()};function et(fe){return arguments.length||(fe=f),function(Re,Ge){return Re&&Ge?fe(Re.__data__,Ge.__data__):!Re-!Ge}}ee.each=function(fe){return tt(this,function(Re,Ge,Qe){fe.call(Re,Re.__data__,Ge,Qe)})};function tt(fe,Re){for(var Ge=0,Qe=fe.length;Ge<Qe;Ge++)for(var nt=fe[Ge],ot=0,Pt=nt.length,ft;ot<Pt;ot++)(ft=nt[ot])&&Re(ft,ot,Ge);return fe}ee.call=function(fe){var Re=w(arguments);return fe.apply(Re[0]=this,Re),this},ee.empty=function(){return!this.node()},ee.node=function(){for(var fe=0,Re=this.length;fe<Re;fe++)for(var Ge=this[fe],Qe=0,nt=Ge.length;Qe<nt;Qe++){var ot=Ge[Qe];if(ot)return ot}return null},ee.size=function(){var fe=0;return tt(this,function(){++fe}),fe};function at(fe){return $(fe,ct),fe}var ct=[];a.selection.enter=at,a.selection.enter.prototype=ct,ct.append=ee.append,ct.empty=ee.empty,ct.node=ee.node,ct.call=ee.call,ct.size=ee.size,ct.select=function(fe){for(var Re=[],Ge,Qe,nt,ot,Pt,ft=-1,Ht=this.length;++ft<Ht;){nt=(ot=this[ft]).update,Re.push(Ge=[]),Ge.parentNode=ot.parentNode;for(var er=-1,nr=ot.length;++er<nr;)(Pt=ot[er])?(Ge.push(nt[er]=Qe=fe.call(ot.parentNode,Pt.__data__,er,ft)),Qe.__data__=Pt.__data__):Ge.push(null)}return K(Re)},ct.insert=function(fe,Re){return arguments.length<2&&(Re=dt(this)),ee.insert.call(this,fe,Re)};function dt(fe){var Re,Ge;return function(Qe,nt,ot){var Pt=fe[ot].update,ft=Pt.length,Ht;for(ot!=Ge&&(Ge=ot,Re=0),nt>=Re&&(Re=nt+1);!(Ht=Pt[Re])&&++Re<ft;);return Ht}}a.select=function(fe){var Re;return typeof fe=="string"?(Re=[re(fe,h)],Re.parentNode=h.documentElement):(Re=[fe],Re.parentNode=g(fe)),K([Re])},a.selectAll=function(fe){var Re;return typeof fe=="string"?(Re=w(le(fe,h)),Re.parentNode=h.documentElement):(Re=w(fe),Re.parentNode=null),K([Re])},ee.on=function(fe,Re,Ge){var Qe=arguments.length;if(Qe<3){if(typeof fe!="string"){Qe<2&&(Re=!1);for(Ge in fe)this.each(gt(Ge,fe[Ge],Re));return this}if(Qe<2)return(Qe=this.node()["__on"+fe])&&Qe._;Ge=!1}return this.each(gt(fe,Re,Ge))};function gt(fe,Re,Ge){var Qe="__on"+fe,nt=fe.indexOf("."),ot=Ct;nt>0&&(fe=fe.slice(0,nt));var Pt=Et.get(fe);Pt&&(fe=Pt,ot=Vt);function ft(){var nr=this[Qe];nr&&(this.removeEventListener(fe,nr,nr.$),delete this[Qe])}function Ht(){var nr=ot(Re,w(arguments));ft.call(this),this.addEventListener(fe,this[Qe]=nr,nr.$=Ge),nr._=Re}function er(){var nr=new RegExp("^__on([^.]+)"+a.requote(fe)+"$"),Rr;for(var Lr in this)if(Rr=Lr.match(nr)){var Jr=this[Lr];this.removeEventListener(Rr[1],Jr,Jr.$),delete this[Lr]}}return nt?Re?Ht:ft:Re?Y:er}var Et=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});h&&Et.forEach(function(fe){"on"+fe in h&&Et.remove(fe)});function Ct(fe,Re){return function(Ge){var Qe=a.event;a.event=Ge,Re[0]=this.__data__;try{fe.apply(this,Re)}finally{a.event=Qe}}}function Vt(fe,Re){var Ge=Ct(fe,Re);return function(Qe){var nt=this,ot=Qe.relatedTarget;(!ot||ot!==nt&&!(ot.compareDocumentPosition(nt)&8))&&Ge.call(nt,Qe)}}var Je,_e=0;function Fe(fe){var Re=".dragsuppress-"+ ++_e,Ge="click"+Re,Qe=a.select(t(fe)).on("touchmove"+Re,oe).on("dragstart"+Re,oe).on("selectstart"+Re,oe);if(Je==null&&(Je="onselectstart"in fe?!1:z(fe.style,"userSelect")),Je){var nt=g(fe).style,ot=nt[Je];nt[Je]="none"}return function(Pt){if(Qe.on(Re,null),Je&&(nt[Je]=ot),Pt){var ft=function(){Qe.on(Ge,null)};Qe.on(Ge,function(){oe(),ft()},!0),setTimeout(ft,0)}}}a.mouse=function(fe){return De(fe,he())};var Be=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function De(fe,Re){Re.changedTouches&&(Re=Re.changedTouches[0]);var Ge=fe.ownerSVGElement||fe;if(Ge.createSVGPoint){var Qe=Ge.createSVGPoint();if(Be<0){var nt=t(fe);if(nt.scrollX||nt.scrollY){Ge=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ot=Ge[0][0].getScreenCTM();Be=!(ot.f||ot.e),Ge.remove()}}return Be?(Qe.x=Re.pageX,Qe.y=Re.pageY):(Qe.x=Re.clientX,Qe.y=Re.clientY),Qe=Qe.matrixTransform(fe.getScreenCTM().inverse()),[Qe.x,Qe.y]}var Pt=fe.getBoundingClientRect();return[Re.clientX-Pt.left-fe.clientLeft,Re.clientY-Pt.top-fe.clientTop]}a.touch=function(fe,Re,Ge){if(arguments.length<3&&(Ge=Re,Re=he().changedTouches),Re){for(var Qe=0,nt=Re.length,ot;Qe<nt;++Qe)if((ot=Re[Qe]).identifier===Ge)return De(fe,ot)}},a.behavior.drag=function(){var fe=q(nt,"drag","dragstart","dragend"),Re=null,Ge=ot(Y,a.mouse,t,"mousemove","mouseup"),Qe=ot(Te,a.touch,U,"touchmove","touchend");function nt(){this.on("mousedown.drag",Ge).on("touchstart.drag",Qe)}function ot(Pt,ft,Ht,er,nr){return function(){var Rr=this,Lr=a.event.target.correspondingElement||a.event.target,Jr=Rr.parentNode,an=fe.of(Rr,arguments),kr=0,Ur=Pt(),$r=".drag"+(Ur==null?"":"-"+Ur),sn,vn=a.select(Ht(Lr)).on(er+$r,Yn).on(nr+$r,ea),Kr=Fe(Lr),Hn=ft(Jr,Ur);Re?(sn=Re.apply(Rr,arguments),sn=[sn.x-Hn[0],sn.y-Hn[1]]):sn=[0,0],an({type:"dragstart"});function Yn(){var la=ft(Jr,Ur),Aa,Ta;la&&(Aa=la[0]-Hn[0],Ta=la[1]-Hn[1],kr|=Aa|Ta,Hn=la,an({type:"drag",x:la[0]+sn[0],y:la[1]+sn[1],dx:Aa,dy:Ta}))}function ea(){ft(Jr,Ur)&&(vn.on(er+$r,null).on(nr+$r,null),Kr(kr),an({type:"dragend"}))}}}return nt.origin=function(Pt){return arguments.length?(Re=Pt,nt):Re},a.rebind(nt,fe,"on")};function Te(){return a.event.changedTouches[0].identifier}a.touches=function(fe,Re){return arguments.length<2&&(Re=he().touches),Re?w(Re).map(function(Ge){var Qe=De(fe,Ge);return Qe.identifier=Ge.identifier,Qe}):[]};var xe=1e-6,Me=xe*xe,Pe=Math.PI,He=2*Pe,Ke=He-xe,qe=Pe/2,vt=Pe/180,bt=180/Pe;function Wt(fe,Re,Ge){return(Re[0]-fe[0])*(Ge[1]-fe[1])-(Re[1]-fe[1])*(Ge[0]-fe[0])}function qt(fe){return fe>1?qe:fe<-1?-qe:Math.asin(fe)}function At(fe){return((fe=Math.exp(fe))-1/fe)/2}function zt(fe){return((fe=Math.exp(fe))+1/fe)/2}function Kt(fe){return((fe=Math.exp(2*fe))-1)/(fe+1)}var Sr=Math.SQRT2,yt=2,Zt=4;a.interpolateZoom=function(fe,Re){var Ge=fe[0],Qe=fe[1],nt=fe[2],ot=Re[0],Pt=Re[1],ft=Re[2],Ht=ot-Ge,er=Pt-Qe,nr=Ht*Ht+er*er,Rr,Lr;if(nr<Me)Lr=Math.log(ft/nt)/Sr,Rr=function(sn){return[Ge+sn*Ht,Qe+sn*er,nt*Math.exp(Sr*sn*Lr)]};else{var Jr=Math.sqrt(nr),an=(ft*ft-nt*nt+Zt*nr)/(2*nt*yt*Jr),kr=(ft*ft-nt*nt-Zt*nr)/(2*ft*yt*Jr),Ur=Math.log(Math.sqrt(an*an+1)-an),$r=Math.log(Math.sqrt(kr*kr+1)-kr);Lr=($r-Ur)/Sr,Rr=function(sn){var vn=sn*Lr,Kr=zt(Ur),Hn=nt/(yt*Jr)*(Kr*Kt(Sr*vn+Ur)-At(Ur));return[Ge+Hn*Ht,Qe+Hn*er,nt*Kr/zt(Sr*vn+Ur)]}}return Rr.duration=Lr*1e3,Rr},a.behavior.zoom=function(){var fe={x:0,y:0,k:1},Re,Ge,Qe,nt=[960,500],ot=$t,Pt=250,ft=0,Ht="mousedown.zoom",er="mousemove.zoom",nr="mouseup.zoom",Rr,Lr="touchstart.zoom",Jr,an=q(vn,"zoomstart","zoom","zoomend"),kr,Ur,$r,sn;ur||(ur="onwheel"in h?(mr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in h?(mr=function(){return a.event.wheelDelta},"mousewheel"):(mr=function(){return-a.event.detail},"MozMousePixelScroll"));function vn(Gn){Gn.on(Ht,Va).on(ur+".zoom",si).on("dblclick.zoom",gi).on(Lr,ni)}vn.event=function(Gn){Gn.each(function(){var Ga=an.of(this,arguments),Ua=fe;Dr?a.select(this).transition().each("start.zoom",function(){fe=this.__chart__||{x:0,y:0,k:1},Ta(Ga)}).tween("zoom:zoom",function(){var Qa=nt[0],zi=nt[1],Ki=Ge?Ge[0]:Qa/2,to=Ge?Ge[1]:zi/2,Di=a.interpolateZoom([(Ki-fe.x)/fe.k,(to-fe.y)/fe.k,Qa/fe.k],[(Ki-Ua.x)/Ua.k,(to-Ua.y)/Ua.k,Qa/Ua.k]);return function(bi){var xa=Di(bi),La=Qa/xa[2];this.__chart__=fe={x:Ki-xa[0]*La,y:to-xa[1]*La,k:La},ja(Ga)}}).each("interrupt.zoom",function(){Ra(Ga)}).each("end.zoom",function(){Ra(Ga)}):(this.__chart__=fe,Ta(Ga),ja(Ga),Ra(Ga))})},vn.translate=function(Gn){return arguments.length?(fe={x:+Gn[0],y:+Gn[1],k:fe.k},Aa(),vn):[fe.x,fe.y]},vn.scale=function(Gn){return arguments.length?(fe={x:fe.x,y:fe.y,k:null},Yn(+Gn),Aa(),vn):fe.k},vn.scaleExtent=function(Gn){return arguments.length?(ot=Gn==null?$t:[+Gn[0],+Gn[1]],vn):ot},vn.center=function(Gn){return arguments.length?(Qe=Gn&&[+Gn[0],+Gn[1]],vn):Qe},vn.size=function(Gn){return arguments.length?(nt=Gn&&[+Gn[0],+Gn[1]],vn):nt},vn.duration=function(Gn){return arguments.length?(Pt=+Gn,vn):Pt},vn.x=function(Gn){return arguments.length?(Ur=Gn,kr=Gn.copy(),fe={x:0,y:0,k:1},vn):Ur},vn.y=function(Gn){return arguments.length?(sn=Gn,$r=Gn.copy(),fe={x:0,y:0,k:1},vn):sn};function Kr(Gn){return[(Gn[0]-fe.x)/fe.k,(Gn[1]-fe.y)/fe.k]}function Hn(Gn){return[Gn[0]*fe.k+fe.x,Gn[1]*fe.k+fe.y]}function Yn(Gn){fe.k=Math.max(ot[0],Math.min(ot[1],Gn))}function ea(Gn,Ga){Ga=Hn(Ga),fe.x+=Gn[0]-Ga[0],fe.y+=Gn[1]-Ga[1]}function la(Gn,Ga,Ua,Qa){Gn.__chart__={x:fe.x,y:fe.y,k:fe.k},Yn(Math.pow(2,Qa)),ea(Ge=Ga,Ua),Gn=a.select(Gn),Pt>0&&(Gn=Gn.transition().duration(Pt)),Gn.call(vn.event)}function Aa(){Ur&&Ur.domain(kr.range().map(function(Gn){return(Gn-fe.x)/fe.k}).map(kr.invert)),sn&&sn.domain($r.range().map(function(Gn){return(Gn-fe.y)/fe.k}).map($r.invert))}function Ta(Gn){ft++||Gn({type:"zoomstart"})}function ja(Gn){Aa(),Gn({type:"zoom",scale:fe.k,translate:[fe.x,fe.y]})}function Ra(Gn){--ft||(Gn({type:"zoomend"}),Ge=null)}function Va(){var Gn=this,Ga=an.of(Gn,arguments),Ua=0,Qa=a.select(t(Gn)).on(er,to).on(nr,Di),zi=Kr(a.mouse(Gn)),Ki=Fe(Gn);Ot.call(Gn),Ta(Ga);function to(){Ua=1,ea(a.mouse(Gn),zi),ja(Ga)}function Di(){Qa.on(er,null).on(nr,null),Ki(Ua),Ra(Ga)}}function ni(){var Gn=this,Ga=an.of(Gn,arguments),Ua={},Qa=0,zi,Ki=".zoom-"+a.event.changedTouches[0].identifier,to="touchmove"+Ki,Di="touchend"+Ki,bi=[],xa=a.select(Gn),La=Fe(Gn);eo(),Ta(Ga),xa.on(Ht,null).on(Lr,eo);function Ii(){var No=a.touches(Gn);return zi=fe.k,No.forEach(function(Ni){Ni.identifier in Ua&&(Ua[Ni.identifier]=Kr(Ni))}),No}function eo(){var No=a.event.target;a.select(No).on(to,is).on(Di,vo),bi.push(No);for(var Ni=a.event.changedTouches,cs=0,Ei=Ni.length;cs<Ei;++cs)Ua[Ni[cs].identifier]=null;var Hs=Ii(),hs=Date.now();if(Hs.length===1){if(hs-Jr<500){var ei=Hs[0];la(Gn,ei,Ua[ei.identifier],Math.floor(Math.log(fe.k)/Math.LN2)+1),oe()}Jr=hs}else if(Hs.length>1){var ei=Hs[0],ki=Hs[1],fh=ei[0]-ki[0],Mc=ei[1]-ki[1];Qa=fh*fh+Mc*Mc}}function is(){var No=a.touches(Gn),Ni,cs,Ei,Hs;Ot.call(Gn);for(var hs=0,ei=No.length;hs<ei;++hs,Hs=null)if(Ei=No[hs],Hs=Ua[Ei.identifier]){if(cs)break;Ni=Ei,cs=Hs}if(Hs){var ki=(ki=Ei[0]-Ni[0])*ki+(ki=Ei[1]-Ni[1])*ki,fh=Qa&&Math.sqrt(ki/Qa);Ni=[(Ni[0]+Ei[0])/2,(Ni[1]+Ei[1])/2],cs=[(cs[0]+Hs[0])/2,(cs[1]+Hs[1])/2],Yn(fh*zi)}Jr=null,ea(Ni,cs),ja(Ga)}function vo(){if(a.event.touches.length){for(var No=a.event.changedTouches,Ni=0,cs=No.length;Ni<cs;++Ni)delete Ua[No[Ni].identifier];for(var Ei in Ua)return void Ii()}a.selectAll(bi).on(Ki,null),xa.on(Ht,Va).on(Lr,ni),La(),Ra(Ga)}}function si(){var Gn=an.of(this,arguments);Rr?clearTimeout(Rr):(Ot.call(this),Re=Kr(Ge=Qe||a.mouse(this)),Ta(Gn)),Rr=setTimeout(function(){Rr=null,Ra(Gn)},50),oe(),Yn(Math.pow(2,mr()*.002)*fe.k),ea(Ge,Re),ja(Gn)}function gi(){var Gn=a.mouse(this),Ga=Math.log(fe.k)/Math.LN2;la(this,Gn,Kr(Gn),a.event.shiftKey?Math.ceil(Ga)-1:Math.floor(Ga)+1)}return a.rebind(vn,an,"on")};var $t=[0,1/0],mr,ur;a.color=pt;function pt(){}pt.prototype.toString=function(){return this.rgb()+""},a.hsl=st;function st(fe,Re,Ge){return this instanceof st?(this.h=+fe,this.s=+Re,void(this.l=+Ge)):arguments.length<2?fe instanceof st?new st(fe.h,fe.s,fe.l):pr(""+fe,vr,st):new st(fe,Re,Ge)}var xt=st.prototype=new pt;xt.brighter=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new st(this.h,this.s,this.l/fe)},xt.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new st(this.h,this.s,fe*this.l)},xt.rgb=function(){return St(this.h,this.s,this.l)};function St(fe,Re,Ge){var Qe,nt;fe=isNaN(fe)?0:(fe%=360)<0?fe+360:fe,Re=isNaN(Re)||Re<0?0:Re>1?1:Re,Ge=Ge<0?0:Ge>1?1:Ge,nt=Ge<=.5?Ge*(1+Re):Ge+Re-Ge*Re,Qe=2*Ge-nt;function ot(ft){return ft>360?ft-=360:ft<0&&(ft+=360),ft<60?Qe+(nt-Qe)*ft/60:ft<180?nt:ft<240?Qe+(nt-Qe)*(240-ft)/60:Qe}function Pt(ft){return Math.round(ot(ft)*255)}return new or(Pt(fe+120),Pt(fe),Pt(fe-120))}a.hcl=Dt;function Dt(fe,Re,Ge){return this instanceof Dt?(this.h=+fe,this.c=+Re,void(this.l=+Ge)):arguments.length<2?fe instanceof Dt?new Dt(fe.h,fe.c,fe.l):fe instanceof Nt?It(fe.l,fe.a,fe.b):It((fe=Gr((fe=a.rgb(fe)).r,fe.g,fe.b)).l,fe.a,fe.b):new Dt(fe,Re,Ge)}var Rt=Dt.prototype=new pt;Rt.brighter=function(fe){return new Dt(this.h,this.c,Math.min(100,this.l+Xt*(arguments.length?fe:1)))},Rt.darker=function(fe){return new Dt(this.h,this.c,Math.max(0,this.l-Xt*(arguments.length?fe:1)))},Rt.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(fe,Re,Ge){return isNaN(fe)&&(fe=0),isNaN(Re)&&(Re=0),new Nt(Ge,Math.cos(fe*=vt)*Re,Math.sin(fe)*Re)}a.lab=Nt;function Nt(fe,Re,Ge){return this instanceof Nt?(this.l=+fe,this.a=+Re,void(this.b=+Ge)):arguments.length<2?fe instanceof Nt?new Nt(fe.l,fe.a,fe.b):fe instanceof Dt?Bt(fe.h,fe.c,fe.l):Gr((fe=or(fe)).r,fe.g,fe.b):new Nt(fe,Re,Ge)}var Xt=18,lr=.95047,sr=1,dr=1.08883,Ye=Nt.prototype=new pt;Ye.brighter=function(fe){return new Nt(Math.min(100,this.l+Xt*(arguments.length?fe:1)),this.a,this.b)},Ye.darker=function(fe){return new Nt(Math.max(0,this.l-Xt*(arguments.length?fe:1)),this.a,this.b)},Ye.rgb=function(){return je(this.l,this.a,this.b)};function je(fe,Re,Ge){var Qe=(fe+16)/116,nt=Qe+Re/500,ot=Qe-Ge/200;return nt=kt(nt)*lr,Qe=kt(Qe)*sr,ot=kt(ot)*dr,new or(tr(3.2404542*nt-1.5371385*Qe-.4985314*ot),tr(-.969266*nt+1.8760108*Qe+.041556*ot),tr(.0556434*nt-.2040259*Qe+1.0572252*ot))}function It(fe,Re,Ge){return fe>0?new Dt(Math.atan2(Ge,Re)*bt,Math.sqrt(Re*Re+Ge*Ge),fe):new Dt(NaN,NaN,fe)}function kt(fe){return fe>.206893034?fe*fe*fe:(fe-.13793103448275862)/7.787037}function jt(fe){return fe>.008856?Math.pow(fe,.3333333333333333):7.787037*fe+.13793103448275862}function tr(fe){return Math.round(255*(fe<=.00304?12.92*fe:1.055*Math.pow(fe,.4166666666666667)-.055))}a.rgb=or;function or(fe,Re,Ge){return this instanceof or?(this.r=~~fe,this.g=~~Re,void(this.b=~~Ge)):arguments.length<2?fe instanceof or?new or(fe.r,fe.g,fe.b):pr(""+fe,or,St):new or(fe,Re,Ge)}function rr(fe){return new or(fe>>16,fe>>8&255,fe&255)}function _t(fe){return rr(fe)+""}var hr=or.prototype=new pt;hr.brighter=function(fe){fe=Math.pow(.7,arguments.length?fe:1);var Re=this.r,Ge=this.g,Qe=this.b,nt=30;return!Re&&!Ge&&!Qe?new or(nt,nt,nt):(Re&&Re<nt&&(Re=nt),Ge&&Ge<nt&&(Ge=nt),Qe&&Qe<nt&&(Qe=nt),new or(Math.min(255,Re/fe),Math.min(255,Ge/fe),Math.min(255,Qe/fe)))},hr.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new or(fe*this.r,fe*this.g,fe*this.b)},hr.hsl=function(){return vr(this.r,this.g,this.b)},hr.toString=function(){return"#"+gr(this.r)+gr(this.g)+gr(this.b)};function gr(fe){return fe<16?"0"+Math.max(0,fe).toString(16):Math.min(255,fe).toString(16)}function pr(fe,Re,Ge){var Qe=0,nt=0,ot=0,Pt,ft,Ht;if(Pt=/([a-z]+)\((.*)\)/.exec(fe=fe.toLowerCase()),Pt)switch(ft=Pt[2].split(","),Pt[1]){case"hsl":return Ge(parseFloat(ft[0]),parseFloat(ft[1])/100,parseFloat(ft[2])/100);case"rgb":return Re(_r(ft[0]),_r(ft[1]),_r(ft[2]))}return(Ht=gn.get(fe))?Re(Ht.r,Ht.g,Ht.b):(fe!=null&&fe.charAt(0)==="#"&&!isNaN(Ht=parseInt(fe.slice(1),16))&&(fe.length===4?(Qe=(Ht&3840)>>4,Qe=Qe>>4|Qe,nt=Ht&240,nt=nt>>4|nt,ot=Ht&15,ot=ot<<4|ot):fe.length===7&&(Qe=(Ht&16711680)>>16,nt=(Ht&65280)>>8,ot=Ht&255)),Re(Qe,nt,ot))}function vr(fe,Re,Ge){var Qe=Math.min(fe/=255,Re/=255,Ge/=255),nt=Math.max(fe,Re,Ge),ot=nt-Qe,Pt,ft,Ht=(nt+Qe)/2;return ot?(ft=Ht<.5?ot/(nt+Qe):ot/(2-nt-Qe),fe==nt?Pt=(Re-Ge)/ot+(Re<Ge?6:0):Re==nt?Pt=(Ge-fe)/ot+2:Pt=(fe-Re)/ot+4,Pt*=60):(Pt=NaN,ft=Ht>0&&Ht<1?0:Pt),new st(Pt,ft,Ht)}function Gr(fe,Re,Ge){fe=Fr(fe),Re=Fr(Re),Ge=Fr(Ge);var Qe=jt((.4124564*fe+.3575761*Re+.1804375*Ge)/lr),nt=jt((.2126729*fe+.7151522*Re+.072175*Ge)/sr),ot=jt((.0193339*fe+.119192*Re+.9503041*Ge)/dr);return Nt(116*nt-16,500*(Qe-nt),200*(nt-ot))}function Fr(fe){return(fe/=255)<=.04045?fe/12.92:Math.pow((fe+.055)/1.055,2.4)}function _r(fe){var Re=parseFloat(fe);return fe.charAt(fe.length-1)==="%"?Math.round(Re*2.55):Re}var gn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});gn.forEach(function(fe,Re){gn.set(fe,rr(Re))});function tn(fe){return typeof fe=="function"?fe:function(){return fe}}a.functor=tn,a.xhr=Bn(U);function Bn(fe){return function(Re,Ge,Qe){return arguments.length===2&&typeof Ge=="function"&&(Qe=Ge,Ge=null),An(Re,Ge,fe,Qe)}}function An(fe,Re,Ge,Qe){var nt={},ot=a.dispatch("beforesend","progress","load","error"),Pt={},ft=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in ft)&&/^(http(s)?:)?\/\//.test(fe)&&(ft=new XDomainRequest),"onload"in ft?ft.onload=ft.onerror=er:ft.onreadystatechange=function(){ft.readyState>3&&er()};function er(){var nr=ft.status,Rr;if(!nr&&Cr(ft)||nr>=200&&nr<300||nr===304){try{Rr=Ge.call(nt,ft)}catch(Lr){ot.error.call(nt,Lr);return}ot.load.call(nt,Rr)}else ot.error.call(nt,ft)}return ft.onprogress=function(nr){var Rr=a.event;a.event=nr;try{ot.progress.call(nt,ft)}finally{a.event=Rr}},nt.header=function(nr,Rr){return nr=(nr+"").toLowerCase(),arguments.length<2?Pt[nr]:(Rr==null?delete Pt[nr]:Pt[nr]=Rr+"",nt)},nt.mimeType=function(nr){return arguments.length?(Re=nr==null?null:nr+"",nt):Re},nt.responseType=function(nr){return arguments.length?(Ht=nr,nt):Ht},nt.response=function(nr){return Ge=nr,nt},["get","post"].forEach(function(nr){nt[nr]=function(){return nt.send.apply(nt,[nr].concat(w(arguments)))}}),nt.send=function(nr,Rr,Lr){if(arguments.length===2&&typeof Rr=="function"&&(Lr=Rr,Rr=null),ft.open(nr,fe,!0),Re!=null&&!("accept"in Pt)&&(Pt.accept=Re+",*/*"),ft.setRequestHeader)for(var Jr in Pt)ft.setRequestHeader(Jr,Pt[Jr]);return Re!=null&&ft.overrideMimeType&&ft.overrideMimeType(Re),Ht!=null&&(ft.responseType=Ht),Lr!=null&&nt.on("error",Lr).on("load",function(an){Lr(null,an)}),ot.beforesend.call(nt,ft),ft.send(Rr??null),nt},nt.abort=function(){return ft.abort(),nt},a.rebind(nt,ot,"on"),Qe==null?nt:nt.get(Mr(Qe))}function Mr(fe){return fe.length===1?function(Re,Ge){fe(Re==null?Ge:null)}:fe}function Cr(fe){var Re=fe.responseType;return Re&&Re!=="text"?fe.response:fe.responseText}a.dsv=function(fe,Re){var Ge=new RegExp('["'+fe+`
]`),Qe=fe.charCodeAt(0);function nt(er,nr,Rr){arguments.length<3&&(Rr=nr,nr=null);var Lr=An(er,Re,nr==null?ot:Pt(nr),Rr);return Lr.row=function(Jr){return arguments.length?Lr.response((nr=Jr)==null?ot:Pt(Jr)):nr},Lr}function ot(er){return nt.parse(er.responseText)}function Pt(er){return function(nr){return nt.parse(nr.responseText,er)}}nt.parse=function(er,nr){var Rr;return nt.parseRows(er,function(Lr,Jr){if(Rr)return Rr(Lr,Jr-1);var an=function(kr){for(var Ur={},$r=Lr.length,sn=0;sn<$r;++sn)Ur[Lr[sn]]=kr[sn];return Ur};Rr=nr?function(kr,Ur){return nr(an(kr),Ur)}:an})},nt.parseRows=function(er,nr){var Rr={},Lr={},Jr=[],an=er.length,kr=0,Ur=0,$r,sn;function vn(){if(kr>=an)return Lr;if(sn)return sn=!1,Rr;var Hn=kr;if(er.charCodeAt(Hn)===34){for(var Yn=Hn;Yn++<an;)if(er.charCodeAt(Yn)===34){if(er.charCodeAt(Yn+1)!==34)break;++Yn}kr=Yn+2;var ea=er.charCodeAt(Yn+1);return ea===13?(sn=!0,er.charCodeAt(Yn+2)===10&&++kr):ea===10&&(sn=!0),er.slice(Hn+1,Yn).replace(/""/g,'"')}for(;kr<an;){var ea=er.charCodeAt(kr++),la=1;if(ea===10)sn=!0;else if(ea===13)sn=!0,er.charCodeAt(kr)===10&&(++kr,++la);else if(ea!==Qe)continue;return er.slice(Hn,kr-la)}return er.slice(Hn)}for(;($r=vn())!==Lr;){for(var Kr=[];$r!==Rr&&$r!==Lr;)Kr.push($r),$r=vn();nr&&(Kr=nr(Kr,Ur++))==null||Jr.push(Kr)}return Jr},nt.format=function(er){if(Array.isArray(er[0]))return nt.formatRows(er);var nr=new _,Rr=[];return er.forEach(function(Lr){for(var Jr in Lr)nr.has(Jr)||Rr.push(nr.add(Jr))}),[Rr.map(Ht).join(fe)].concat(er.map(function(Lr){return Rr.map(function(Jr){return Ht(Lr[Jr])}).join(fe)})).join(`
`)},nt.formatRows=function(er){return er.map(ft).join(`
`)};function ft(er){return er.map(Ht).join(fe)}function Ht(er){return Ge.test(er)?'"'+er.replace(/\"/g,'""')+'"':er}return nt},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var jr,Hr,on,yn,xn=this[z(this,"requestAnimationFrame")]||function(fe){setTimeout(fe,17)};a.timer=function(){Rn.apply(this,arguments)};function Rn(fe,Re,Ge){var Qe=arguments.length;Qe<2&&(Re=0),Qe<3&&(Ge=Date.now());var nt=Ge+Re,ot={c:fe,t:nt,n:null};return Hr?Hr.n=ot:jr=ot,Hr=ot,on||(yn=clearTimeout(yn),on=1,xn(_n)),ot}function _n(){var fe=sa(),Re=Zn()-fe;Re>24?(isFinite(Re)&&(clearTimeout(yn),yn=setTimeout(_n,Re)),on=0):(on=1,xn(_n))}a.timer.flush=function(){sa(),Zn()};function sa(){for(var fe=Date.now(),Re=jr;Re;)fe>=Re.t&&Re.c(fe-Re.t)&&(Re.c=null),Re=Re.n;return fe}function Zn(){for(var fe,Re=jr,Ge=1/0;Re;)Re.c?(Re.t<Ge&&(Ge=Re.t),Re=(fe=Re).n):Re=fe?fe.n=Re.n:jr=Re.n;return Hr=fe,Ge}a.round=function(fe,Re){return Re?Math.round(fe*(Re=Math.pow(10,Re)))/Re:Math.round(fe)},a.geom={};function qn(fe){return fe[0]}function jn(fe){return fe[1]}a.geom.hull=function(fe){var Re=qn,Ge=jn;if(arguments.length)return Qe(fe);function Qe(nt){if(nt.length<3)return[];var ot=tn(Re),Pt=tn(Ge),ft,Ht=nt.length,er=[],nr=[];for(ft=0;ft<Ht;ft++)er.push([+ot.call(this,nt[ft],ft),+Pt.call(this,nt[ft],ft),ft]);for(er.sort(Tr),ft=0;ft<Ht;ft++)nr.push([er[ft][0],-er[ft][1]]);var Rr=Qn(er),Lr=Qn(nr),Jr=Lr[0]===Rr[0],an=Lr[Lr.length-1]===Rr[Rr.length-1],kr=[];for(ft=Rr.length-1;ft>=0;--ft)kr.push(nt[er[Rr[ft]][2]]);for(ft=+Jr;ft<Lr.length-an;++ft)kr.push(nt[er[Lr[ft]][2]]);return kr}return Qe.x=function(nt){return arguments.length?(Re=nt,Qe):Re},Qe.y=function(nt){return arguments.length?(Ge=nt,Qe):Ge},Qe};function Qn(fe){for(var Re=fe.length,Ge=[0,1],Qe=2,nt=2;nt<Re;nt++){for(;Qe>1&&Wt(fe[Ge[Qe-2]],fe[Ge[Qe-1]],fe[nt])<=0;)--Qe;Ge[Qe++]=nt}return Ge.slice(0,Qe)}function Tr(fe,Re){return fe[0]-Re[0]||fe[1]-Re[1]}a.geom.polygon=function(fe){return $(fe,ln),fe};var ln=a.geom.polygon.prototype=[];ln.area=function(){for(var fe=-1,Re=this.length,Ge,Qe=this[Re-1],nt=0;++fe<Re;)Ge=Qe,Qe=this[fe],nt+=Ge[1]*Qe[0]-Ge[0]*Qe[1];return nt*.5},ln.centroid=function(fe){var Re=-1,Ge=this.length,Qe=0,nt=0,ot,Pt=this[Ge-1],ft;for(arguments.length||(fe=-1/(6*this.area()));++Re<Ge;)ot=Pt,Pt=this[Re],ft=ot[0]*Pt[1]-Pt[0]*ot[1],Qe+=(ot[0]+Pt[0])*ft,nt+=(ot[1]+Pt[1])*ft;return[Qe*fe,nt*fe]},ln.clip=function(fe){for(var Re,Ge=Vn(fe),Qe=-1,nt=this.length-Vn(this),ot,Pt,ft=this[nt-1],Ht,er,nr;++Qe<nt;){for(Re=fe.slice(),fe.length=0,Ht=this[Qe],er=Re[(Pt=Re.length-Ge)-1],ot=-1;++ot<Pt;)nr=Re[ot],nn(nr,ft,Ht)?(nn(er,ft,Ht)||fe.push(mn(er,nr,ft,Ht)),fe.push(nr)):nn(er,ft,Ht)&&fe.push(mn(er,nr,ft,Ht)),er=nr;Ge&&fe.push(fe[0]),ft=Ht}return fe};function nn(fe,Re,Ge){return(Ge[0]-Re[0])*(fe[1]-Re[1])<(Ge[1]-Re[1])*(fe[0]-Re[0])}function mn(fe,Re,Ge,Qe){var nt=fe[0],ot=Ge[0],Pt=Re[0]-nt,ft=Qe[0]-ot,Ht=fe[1],er=Ge[1],nr=Re[1]-Ht,Rr=Qe[1]-er,Lr=(ft*(Ht-er)-Rr*(nt-ot))/(Rr*Pt-ft*nr);return[nt+Lr*Pt,Ht+Lr*nr]}function Vn(fe){var Re=fe[0],Ge=fe[fe.length-1];return!(Re[0]-Ge[0]||Re[1]-Ge[1])}var En,Cn,Nn,ta=[],wa,Ka,Yt=[];function wr(){Oo(this),this.edge=this.site=this.circle=null}function rn(fe){var Re=ta.pop()||new wr;return Re.site=fe,Re}function fn(fe){Xn(fe),Nn.remove(fe),ta.push(fe),Oo(fe)}function hn(fe){var Re=fe.circle,Ge=Re.x,Qe=Re.cy,nt={x:Ge,y:Qe},ot=fe.P,Pt=fe.N,ft=[fe];fn(fe);for(var Ht=ot;Ht.circle&&y(Ge-Ht.circle.x)<xe&&y(Qe-Ht.circle.cy)<xe;)ot=Ht.P,ft.unshift(Ht),fn(Ht),Ht=ot;ft.unshift(Ht),Xn(Ht);for(var er=Pt;er.circle&&y(Ge-er.circle.x)<xe&&y(Qe-er.circle.cy)<xe;)Pt=er.N,ft.push(er),fn(er),er=Pt;ft.push(er),Xn(er);var nr=ft.length,Rr;for(Rr=1;Rr<nr;++Rr)er=ft[Rr],Ht=ft[Rr-1],ya(er.edge,Ht.site,er.site,nt);Ht=ft[0],er=ft[nr-1],er.edge=ua(Ht.site,er.site,null,nt),zn(Ht),zn(er)}function In(fe){for(var Re=fe.x,Ge=fe.y,Qe,nt,ot,Pt,ft=Nn._;ft;)if(ot=Mn(ft,Ge)-Re,ot>xe)ft=ft.L;else if(Pt=Re-dn(ft,Ge),Pt>xe){if(!ft.R){Qe=ft;break}ft=ft.R}else{ot>-xe?(Qe=ft.P,nt=ft):Pt>-xe?(Qe=ft,nt=ft.N):Qe=nt=ft;break}var Ht=rn(fe);if(Nn.insert(Qe,Ht),!(!Qe&&!nt)){if(Qe===nt){Xn(Qe),nt=rn(Qe.site),Nn.insert(Ht,nt),Ht.edge=nt.edge=ua(Qe.site,Ht.site),zn(Qe),zn(nt);return}if(!nt){Ht.edge=ua(Qe.site,Ht.site);return}Xn(Qe),Xn(nt);var er=Qe.site,nr=er.x,Rr=er.y,Lr=fe.x-nr,Jr=fe.y-Rr,an=nt.site,kr=an.x-nr,Ur=an.y-Rr,$r=2*(Lr*Ur-Jr*kr),sn=Lr*Lr+Jr*Jr,vn=kr*kr+Ur*Ur,Kr={x:(Ur*sn-Jr*vn)/$r+nr,y:(Lr*vn-kr*sn)/$r+Rr};ya(nt.edge,er,an,Kr),Ht.edge=ua(er,fe,null,Kr),nt.edge=ua(fe,an,null,Kr),zn(Qe),zn(nt)}}function Mn(fe,Re){var Ge=fe.site,Qe=Ge.x,nt=Ge.y,ot=nt-Re;if(!ot)return Qe;var Pt=fe.P;if(!Pt)return-1/0;Ge=Pt.site;var ft=Ge.x,Ht=Ge.y,er=Ht-Re;if(!er)return ft;var nr=ft-Qe,Rr=1/ot-1/er,Lr=nr/er;return Rr?(-Lr+Math.sqrt(Lr*Lr-2*Rr*(nr*nr/(-2*er)-Ht+er/2+nt-ot/2)))/Rr+Qe:(Qe+ft)/2}function dn(fe,Re){var Ge=fe.N;if(Ge)return Mn(Ge,Re);var Qe=fe.site;return Qe.y===Re?Qe.x:1/0}function Ir(fe){this.site=fe,this.edges=[]}Ir.prototype.prepare=function(){for(var fe=this.edges,Re=fe.length,Ge;Re--;)Ge=fe[Re].edge,(!Ge.b||!Ge.a)&&fe.splice(Re,1);return fe.sort(Br),fe.length};function Pr(fe){for(var Re=fe[0][0],Ge=fe[1][0],Qe=fe[0][1],nt=fe[1][1],ot,Pt,ft,Ht,er=Cn,nr=er.length,Rr,Lr,Jr,an,kr,Ur;nr--;)if(Rr=er[nr],!(!Rr||!Rr.prepare()))for(Jr=Rr.edges,an=Jr.length,Lr=0;Lr<an;)Ur=Jr[Lr].end(),ft=Ur.x,Ht=Ur.y,kr=Jr[++Lr%an].start(),ot=kr.x,Pt=kr.y,(y(ft-ot)>xe||y(Ht-Pt)>xe)&&(Jr.splice(Lr,0,new fo(fa(Rr.site,Ur,y(ft-Re)<xe&&nt-Ht>xe?{x:Re,y:y(ot-Re)<xe?Pt:nt}:y(Ht-nt)<xe&&Ge-ft>xe?{x:y(Pt-nt)<xe?ot:Ge,y:nt}:y(ft-Ge)<xe&&Ht-Qe>xe?{x:Ge,y:y(ot-Ge)<xe?Pt:Qe}:y(Ht-Qe)<xe&&ft-Re>xe?{x:y(Pt-Qe)<xe?ot:Re,y:Qe}:null),Rr.site,null)),++an)}function Br(fe,Re){return Re.angle-fe.angle}function pn(){Oo(this),this.x=this.y=this.arc=this.site=this.cy=null}function zn(fe){var Re=fe.P,Ge=fe.N;if(!(!Re||!Ge)){var Qe=Re.site,nt=fe.site,ot=Ge.site;if(Qe!==ot){var Pt=nt.x,ft=nt.y,Ht=Qe.x-Pt,er=Qe.y-ft,nr=ot.x-Pt,Ur=ot.y-ft,Rr=2*(Ht*Ur-er*nr);if(!(Rr>=-Me)){var Lr=Ht*Ht+er*er,Jr=nr*nr+Ur*Ur,an=(Ur*Lr-er*Jr)/Rr,kr=(Ht*Jr-nr*Lr)/Rr,Ur=kr+ft,$r=Yt.pop()||new pn;$r.arc=fe,$r.site=nt,$r.x=an+Pt,$r.y=Ur+Math.sqrt(an*an+kr*kr),$r.cy=Ur,fe.circle=$r;for(var sn=null,vn=Ka._;vn;)if($r.y<vn.y||$r.y===vn.y&&$r.x<=vn.x)if(vn.L)vn=vn.L;else{sn=vn.P;break}else if(vn.R)vn=vn.R;else{sn=vn;break}Ka.insert(sn,$r),sn||(wa=$r)}}}}function Xn(fe){var Re=fe.circle;Re&&(Re.P||(wa=Re.N),Ka.remove(Re),Yt.push(Re),Oo(Re),fe.circle=null)}function bn(fe,Re,Ge,Qe){return function(nt){var ot=nt.a,Pt=nt.b,ft=ot.x,Ht=ot.y,er=Pt.x,nr=Pt.y,Rr=0,Lr=1,Jr=er-ft,an=nr-Ht,kr;if(kr=fe-ft,!(!Jr&&kr>0)){if(kr/=Jr,Jr<0){if(kr<Rr)return;kr<Lr&&(Lr=kr)}else if(Jr>0){if(kr>Lr)return;kr>Rr&&(Rr=kr)}if(kr=Ge-ft,!(!Jr&&kr<0)){if(kr/=Jr,Jr<0){if(kr>Lr)return;kr>Rr&&(Rr=kr)}else if(Jr>0){if(kr<Rr)return;kr<Lr&&(Lr=kr)}if(kr=Re-Ht,!(!an&&kr>0)){if(kr/=an,an<0){if(kr<Rr)return;kr<Lr&&(Lr=kr)}else if(an>0){if(kr>Lr)return;kr>Rr&&(Rr=kr)}if(kr=Qe-Ht,!(!an&&kr<0)){if(kr/=an,an<0){if(kr>Lr)return;kr>Rr&&(Rr=kr)}else if(an>0){if(kr<Rr)return;kr<Lr&&(Lr=kr)}return Rr>0&&(nt.a={x:ft+Rr*Jr,y:Ht+Rr*an}),Lr<1&&(nt.b={x:ft+Lr*Jr,y:Ht+Lr*an}),nt}}}}}}function Un(fe){for(var Re=En,Ge=bn(fe[0][0],fe[0][1],fe[1][0],fe[1][1]),Qe=Re.length,nt;Qe--;)nt=Re[Qe],(!ia(nt,fe)||!Ge(nt)||y(nt.a.x-nt.b.x)<xe&&y(nt.a.y-nt.b.y)<xe)&&(nt.a=nt.b=null,Re.splice(Qe,1))}function ia(fe,Re){var Ge=fe.b;if(Ge)return!0;var Qe=fe.a,nt=Re[0][0],ot=Re[1][0],Pt=Re[0][1],ft=Re[1][1],Ht=fe.l,er=fe.r,nr=Ht.x,Rr=Ht.y,Lr=er.x,Jr=er.y,an=(nr+Lr)/2,kr=(Rr+Jr)/2,Ur,$r;if(Jr===Rr){if(an<nt||an>=ot)return;if(nr>Lr){if(!Qe)Qe={x:an,y:Pt};else if(Qe.y>=ft)return;Ge={x:an,y:ft}}else{if(!Qe)Qe={x:an,y:ft};else if(Qe.y<Pt)return;Ge={x:an,y:Pt}}}else if(Ur=(nr-Lr)/(Jr-Rr),$r=kr-Ur*an,Ur<-1||Ur>1)if(nr>Lr){if(!Qe)Qe={x:(Pt-$r)/Ur,y:Pt};else if(Qe.y>=ft)return;Ge={x:(ft-$r)/Ur,y:ft}}else{if(!Qe)Qe={x:(ft-$r)/Ur,y:ft};else if(Qe.y<Pt)return;Ge={x:(Pt-$r)/Ur,y:Pt}}else if(Rr<Jr){if(!Qe)Qe={x:nt,y:Ur*nt+$r};else if(Qe.x>=ot)return;Ge={x:ot,y:Ur*ot+$r}}else{if(!Qe)Qe={x:ot,y:Ur*ot+$r};else if(Qe.x<nt)return;Ge={x:nt,y:Ur*nt+$r}}return fe.a=Qe,fe.b=Ge,!0}function ca(fe,Re){this.l=fe,this.r=Re,this.a=this.b=null}function ua(fe,Re,Ge,Qe){var nt=new ca(fe,Re);return En.push(nt),Ge&&ya(nt,fe,Re,Ge),Qe&&ya(nt,Re,fe,Qe),Cn[fe.i].edges.push(new fo(nt,fe,Re)),Cn[Re.i].edges.push(new fo(nt,Re,fe)),nt}function fa(fe,Re,Ge){var Qe=new ca(fe,null);return Qe.a=Re,Qe.b=Ge,En.push(Qe),Qe}function ya(fe,Re,Ge,Qe){!fe.a&&!fe.b?(fe.a=Qe,fe.l=Re,fe.r=Ge):fe.l===Ge?fe.b=Qe:fe.a=Qe}function fo(fe,Re,Ge){var Qe=fe.a,nt=fe.b;this.edge=fe,this.site=Re,this.angle=Ge?Math.atan2(Ge.y-Re.y,Ge.x-Re.x):fe.l===Re?Math.atan2(nt.x-Qe.x,Qe.y-nt.y):Math.atan2(Qe.x-nt.x,nt.y-Qe.y)}fo.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Ro(){this._=null}function Oo(fe){fe.U=fe.C=fe.L=fe.R=fe.P=fe.N=null}Ro.prototype={insert:function(fe,Re){var Ge,Qe,nt;if(fe){if(Re.P=fe,Re.N=fe.N,fe.N&&(fe.N.P=Re),fe.N=Re,fe.R){for(fe=fe.R;fe.L;)fe=fe.L;fe.L=Re}else fe.R=Re;Ge=fe}else this._?(fe=tc(this._),Re.P=null,Re.N=fe,fe.P=fe.L=Re,Ge=fe):(Re.P=Re.N=null,this._=Re,Ge=null);for(Re.L=Re.R=null,Re.U=Ge,Re.C=!0,fe=Re;Ge&&Ge.C;)Qe=Ge.U,Ge===Qe.L?(nt=Qe.R,nt&&nt.C?(Ge.C=nt.C=!1,Qe.C=!0,fe=Qe):(fe===Ge.R&&(jo(this,Ge),fe=Ge,Ge=fe.U),Ge.C=!1,Qe.C=!0,Bo(this,Qe))):(nt=Qe.L,nt&&nt.C?(Ge.C=nt.C=!1,Qe.C=!0,fe=Qe):(fe===Ge.L&&(Bo(this,Ge),fe=Ge,Ge=fe.U),Ge.C=!1,Qe.C=!0,jo(this,Qe))),Ge=fe.U;this._.C=!1},remove:function(fe){fe.N&&(fe.N.P=fe.P),fe.P&&(fe.P.N=fe.N),fe.N=fe.P=null;var Re=fe.U,Ge,Qe=fe.L,nt=fe.R,ot,Pt;if(Qe?nt?ot=tc(nt):ot=Qe:ot=nt,Re?Re.L===fe?Re.L=ot:Re.R=ot:this._=ot,Qe&&nt?(Pt=ot.C,ot.C=fe.C,ot.L=Qe,Qe.U=ot,ot!==nt?(Re=ot.U,ot.U=fe.U,fe=ot.R,Re.L=fe,ot.R=nt,nt.U=ot):(ot.U=Re,Re=ot,fe=ot.R)):(Pt=fe.C,fe=ot),fe&&(fe.U=Re),!Pt){if(fe&&fe.C){fe.C=!1;return}do{if(fe===this._)break;if(fe===Re.L){if(Ge=Re.R,Ge.C&&(Ge.C=!1,Re.C=!0,jo(this,Re),Ge=Re.R),Ge.L&&Ge.L.C||Ge.R&&Ge.R.C){(!Ge.R||!Ge.R.C)&&(Ge.L.C=!1,Ge.C=!0,Bo(this,Ge),Ge=Re.R),Ge.C=Re.C,Re.C=Ge.R.C=!1,jo(this,Re),fe=this._;break}}else if(Ge=Re.L,Ge.C&&(Ge.C=!1,Re.C=!0,Bo(this,Re),Ge=Re.L),Ge.L&&Ge.L.C||Ge.R&&Ge.R.C){(!Ge.L||!Ge.L.C)&&(Ge.R.C=!1,Ge.C=!0,jo(this,Ge),Ge=Re.L),Ge.C=Re.C,Re.C=Ge.L.C=!1,Bo(this,Re),fe=this._;break}Ge.C=!0,fe=Re,Re=Re.U}while(!fe.C);fe&&(fe.C=!1)}}};function jo(fe,Re){var Ge=Re,Qe=Re.R,nt=Ge.U;nt?nt.L===Ge?nt.L=Qe:nt.R=Qe:fe._=Qe,Qe.U=nt,Ge.U=Qe,Ge.R=Qe.L,Ge.R&&(Ge.R.U=Ge),Qe.L=Ge}function Bo(fe,Re){var Ge=Re,Qe=Re.L,nt=Ge.U;nt?nt.L===Ge?nt.L=Qe:nt.R=Qe:fe._=Qe,Qe.U=nt,Ge.U=Qe,Ge.L=Qe.R,Ge.L&&(Ge.L.U=Ge),Qe.R=Ge}function tc(fe){for(;fe.L;)fe=fe.L;return fe}function oi(fe,Re){var Ge=fe.sort(Uu).pop(),Qe,nt,ot;for(En=[],Cn=new Array(fe.length),Nn=new Ro,Ka=new Ro;;)if(ot=wa,Ge&&(!ot||Ge.y<ot.y||Ge.y===ot.y&&Ge.x<ot.x))(Ge.x!==Qe||Ge.y!==nt)&&(Cn[Ge.i]=new Ir(Ge),In(Ge),Qe=Ge.x,nt=Ge.y),Ge=fe.pop();else if(ot)hn(ot.arc);else break;Re&&(Un(Re),Pr(Re));var Pt={cells:Cn,edges:En};return Nn=Ka=En=Cn=null,Pt}function Uu(fe,Re){return Re.y-fe.y||Re.x-fe.x}a.geom.voronoi=function(fe){var Re=qn,Ge=jn,Qe=Re,nt=Ge,ot=fu;if(fe)return Pt(fe);function Pt(Ht){var er=new Array(Ht.length),nr=ot[0][0],Rr=ot[0][1],Lr=ot[1][0],Jr=ot[1][1];return oi(ft(Ht),ot).cells.forEach(function(an,kr){var Ur=an.edges,$r=an.site,sn=er[kr]=Ur.length?Ur.map(function(vn){var Kr=vn.start();return[Kr.x,Kr.y]}):$r.x>=nr&&$r.x<=Lr&&$r.y>=Rr&&$r.y<=Jr?[[nr,Jr],[Lr,Jr],[Lr,Rr],[nr,Rr]]:[];sn.point=Ht[kr]}),er}function ft(Ht){return Ht.map(function(er,nr){return{x:Math.round(Qe(er,nr)/xe)*xe,y:Math.round(nt(er,nr)/xe)*xe,i:nr}})}return Pt.links=function(Ht){return oi(ft(Ht)).edges.filter(function(er){return er.l&&er.r}).map(function(er){return{source:Ht[er.l.i],target:Ht[er.r.i]}})},Pt.triangles=function(Ht){var er=[];return oi(ft(Ht)).cells.forEach(function(nr,Rr){for(var Lr=nr.site,Jr=nr.edges.sort(Br),an=-1,kr=Jr.length,Ur,$r=Jr[kr-1].edge,sn=$r.l===Lr?$r.r:$r.l;++an<kr;)Ur=sn,$r=Jr[an].edge,sn=$r.l===Lr?$r.r:$r.l,Rr<Ur.i&&Rr<sn.i&&co(Lr,Ur,sn)<0&&er.push([Ht[Rr],Ht[Ur.i],Ht[sn.i]])}),er},Pt.x=function(Ht){return arguments.length?(Qe=tn(Re=Ht),Pt):Re},Pt.y=function(Ht){return arguments.length?(nt=tn(Ge=Ht),Pt):Ge},Pt.clipExtent=function(Ht){return arguments.length?(ot=Ht??fu,Pt):ot===fu?null:ot},Pt.size=function(Ht){return arguments.length?Pt.clipExtent(Ht&&[[0,0],Ht]):ot===fu?null:ot&&ot[1]},Pt};var fu=[[-1e6,-1e6],[1e6,1e6]];function co(fe,Re,Ge){return(fe.x-Ge.x)*(Re.y-fe.y)-(fe.x-Re.x)*(Ge.y-fe.y)}a.geom.delaunay=function(fe){return a.geom.voronoi().triangles(fe)},a.geom.quadtree=function(fe,Re,Ge,Qe,nt){var ot=qn,Pt=jn,ft;if(ft=arguments.length)return ot=Yo,Pt=Yc,ft===3&&(nt=Ge,Qe=Re,Ge=Re=0),Ht(fe);function Ht(er){var nr,Rr=tn(ot),Lr=tn(Pt),Jr,an,kr,Ur,$r,sn,vn,Kr;if(Re!=null)$r=Re,sn=Ge,vn=Qe,Kr=nt;else if(vn=Kr=-($r=sn=1/0),Jr=[],an=[],Ur=er.length,ft)for(kr=0;kr<Ur;++kr)nr=er[kr],nr.x<$r&&($r=nr.x),nr.y<sn&&(sn=nr.y),nr.x>vn&&(vn=nr.x),nr.y>Kr&&(Kr=nr.y),Jr.push(nr.x),an.push(nr.y);else for(kr=0;kr<Ur;++kr){var Hn=+Rr(nr=er[kr],kr),Yn=+Lr(nr,kr);Hn<$r&&($r=Hn),Yn<sn&&(sn=Yn),Hn>vn&&(vn=Hn),Yn>Kr&&(Kr=Yn),Jr.push(Hn),an.push(Yn)}var ea=vn-$r,la=Kr-sn;ea>la?Kr=sn+ea:vn=$r+la;function Aa(Ra,Va,ni,si,gi,Gn,Ga,Ua){if(!(isNaN(ni)||isNaN(si)))if(Ra.leaf){var Qa=Ra.x,zi=Ra.y;if(Qa!=null)if(y(Qa-ni)+y(zi-si)<.01)Ta(Ra,Va,ni,si,gi,Gn,Ga,Ua);else{var Ki=Ra.point;Ra.x=Ra.y=Ra.point=null,Ta(Ra,Ki,Qa,zi,gi,Gn,Ga,Ua),Ta(Ra,Va,ni,si,gi,Gn,Ga,Ua)}else Ra.x=ni,Ra.y=si,Ra.point=Va}else Ta(Ra,Va,ni,si,gi,Gn,Ga,Ua)}function Ta(Ra,Va,ni,si,gi,Gn,Ga,Ua){var Qa=(gi+Ga)*.5,zi=(Gn+Ua)*.5,Ki=ni>=Qa,to=si>=zi,Di=to<<1|Ki;Ra.leaf=!1,Ra=Ra.nodes[Di]||(Ra.nodes[Di]=Hu()),Ki?gi=Qa:Ga=Qa,to?Gn=zi:Ua=zi,Aa(Ra,Va,ni,si,gi,Gn,Ga,Ua)}var ja=Hu();if(ja.add=function(Ra){Aa(ja,Ra,+Rr(Ra,++kr),+Lr(Ra,kr),$r,sn,vn,Kr)},ja.visit=function(Ra){Wi(Ra,ja,$r,sn,vn,Kr)},ja.find=function(Ra){return Vu(ja,Ra[0],Ra[1],$r,sn,vn,Kr)},kr=-1,Re==null){for(;++kr<Ur;)Aa(ja,er[kr],Jr[kr],an[kr],$r,sn,vn,Kr);--kr}else er.forEach(ja.add);return Jr=an=er=nr=null,ja}return Ht.x=function(er){return arguments.length?(ot=er,Ht):ot},Ht.y=function(er){return arguments.length?(Pt=er,Ht):Pt},Ht.extent=function(er){return arguments.length?(er==null?Re=Ge=Qe=nt=null:(Re=+er[0][0],Ge=+er[0][1],Qe=+er[1][0],nt=+er[1][1]),Ht):Re==null?null:[[Re,Ge],[Qe,nt]]},Ht.size=function(er){return arguments.length?(er==null?Re=Ge=Qe=nt=null:(Re=Ge=0,Qe=+er[0],nt=+er[1]),Ht):Re==null?null:[Qe-Re,nt-Ge]},Ht};function Yo(fe){return fe.x}function Yc(fe){return fe.y}function Hu(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Wi(fe,Re,Ge,Qe,nt,ot){if(!fe(Re,Ge,Qe,nt,ot)){var Pt=(Ge+nt)*.5,ft=(Qe+ot)*.5,Ht=Re.nodes;Ht[0]&&Wi(fe,Ht[0],Ge,Qe,Pt,ft),Ht[1]&&Wi(fe,Ht[1],Pt,Qe,nt,ft),Ht[2]&&Wi(fe,Ht[2],Ge,ft,Pt,ot),Ht[3]&&Wi(fe,Ht[3],Pt,ft,nt,ot)}}function Vu(fe,Re,Ge,Qe,nt,ot,Pt){var ft=1/0,Ht;return function er(nr,Rr,Lr,Jr,an){if(!(Rr>ot||Lr>Pt||Jr<Qe||an<nt)){if(kr=nr.point){var kr,Ur=Re-nr.x,$r=Ge-nr.y,sn=Ur*Ur+$r*$r;if(sn<ft){var vn=Math.sqrt(ft=sn);Qe=Re-vn,nt=Ge-vn,ot=Re+vn,Pt=Ge+vn,Ht=kr}}for(var Kr=nr.nodes,Hn=(Rr+Jr)*.5,Yn=(Lr+an)*.5,ea=Re>=Hn,la=Ge>=Yn,Aa=la<<1|ea,Ta=Aa+4;Aa<Ta;++Aa)if(nr=Kr[Aa&3])switch(Aa&3){case 0:er(nr,Rr,Lr,Hn,Yn);break;case 1:er(nr,Hn,Lr,Jr,Yn);break;case 2:er(nr,Rr,Yn,Hn,an);break;case 3:er(nr,Hn,Yn,Jr,an);break}}}(fe,Qe,nt,ot,Pt),Ht}a.interpolateRgb=rs;function rs(fe,Re){fe=a.rgb(fe),Re=a.rgb(Re);var Ge=fe.r,Qe=fe.g,nt=fe.b,ot=Re.r-Ge,Pt=Re.g-Qe,ft=Re.b-nt;return function(Ht){return"#"+gr(Math.round(Ge+ot*Ht))+gr(Math.round(Qe+Pt*Ht))+gr(Math.round(nt+ft*Ht))}}a.interpolateObject=io;function io(fe,Re){var Ge={},Qe={},nt;for(nt in fe)nt in Re?Ge[nt]=qs(fe[nt],Re[nt]):Qe[nt]=fe[nt];for(nt in Re)nt in fe||(Qe[nt]=Re[nt]);return function(ot){for(nt in Ge)Qe[nt]=Ge[nt](ot);return Qe}}a.interpolateNumber=ns;function ns(fe,Re){return fe=+fe,Re=+Re,function(Ge){return fe*(1-Ge)+Re*Ge}}a.interpolateString=Do;function Do(fe,Re){var Ge=us.lastIndex=Fs.lastIndex=0,Qe,nt,ot,Pt=-1,ft=[],Ht=[];for(fe=fe+"",Re=Re+"";(Qe=us.exec(fe))&&(nt=Fs.exec(Re));)(ot=nt.index)>Ge&&(ot=Re.slice(Ge,ot),ft[Pt]?ft[Pt]+=ot:ft[++Pt]=ot),(Qe=Qe[0])===(nt=nt[0])?ft[Pt]?ft[Pt]+=nt:ft[++Pt]=nt:(ft[++Pt]=null,Ht.push({i:Pt,x:ns(Qe,nt)})),Ge=Fs.lastIndex;return Ge<Re.length&&(ot=Re.slice(Ge),ft[Pt]?ft[Pt]+=ot:ft[++Pt]=ot),ft.length<2?Ht[0]?(Re=Ht[0].x,function(er){return Re(er)+""}):function(){return Re}:(Re=Ht.length,function(er){for(var nr=0,Rr;nr<Re;++nr)ft[(Rr=Ht[nr]).i]=Rr.x(er);return ft.join("")})}var us=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fs=new RegExp(us.source,"g");a.interpolate=qs;function qs(fe,Re){for(var Ge=a.interpolators.length,Qe;--Ge>=0&&!(Qe=a.interpolators[Ge](fe,Re)););return Qe}a.interpolators=[function(fe,Re){var Ge=typeof Re;return(Ge==="string"?gn.has(Re.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Re)?rs:Do:Re instanceof pt?rs:Array.isArray(Re)?xo:Ge==="object"&&isNaN(Re)?io:ns)(fe,Re)}],a.interpolateArray=xo;function xo(fe,Re){var Ge=[],Qe=[],nt=fe.length,ot=Re.length,Pt=Math.min(fe.length,Re.length),ft;for(ft=0;ft<Pt;++ft)Ge.push(qs(fe[ft],Re[ft]));for(;ft<nt;++ft)Qe[ft]=fe[ft];for(;ft<ot;++ft)Qe[ft]=Re[ft];return function(Ht){for(ft=0;ft<Pt;++ft)Qe[ft]=Ge[ft](Ht);return Qe}}var Zc=function(){return U},_s=a.map({linear:Zc,poly:Gu,quad:function(){return nc},cubic:function(){return ac},sin:function(){return nv},exp:function(){return av},circle:function(){return iv},elastic:ic,back:ov,bounce:function(){return sv}}),bo=a.map({in:U,out:el,"in-out":zs,"out-in":function(fe){return zs(el(fe))}});a.ease=function(fe){var Re=fe.indexOf("-"),Ge=Re>=0?fe.slice(0,Re):fe,Qe=Re>=0?fe.slice(Re+1):"in";return Ge=_s.get(Ge)||Zc,Qe=bo.get(Qe)||U,rc(Qe(Ge.apply(null,C.call(arguments,1))))};function rc(fe){return function(Re){return Re<=0?0:Re>=1?1:fe(Re)}}function el(fe){return function(Re){return 1-fe(1-Re)}}function zs(fe){return function(Re){return .5*(Re<.5?fe(2*Re):2-fe(2-2*Re))}}function nc(fe){return fe*fe}function ac(fe){return fe*fe*fe}function rv(fe){if(fe<=0)return 0;if(fe>=1)return 1;var Re=fe*fe,Ge=Re*fe;return 4*(fe<.5?Ge:3*(fe-Re)+Ge-.75)}function Gu(fe){return function(Re){return Math.pow(Re,fe)}}function nv(fe){return 1-Math.cos(fe*qe)}function av(fe){return Math.pow(2,10*(fe-1))}function iv(fe){return 1-Math.sqrt(1-fe*fe)}function ic(fe,Re){var Ge;return arguments.length<2&&(Re=.45),arguments.length?Ge=Re/He*Math.asin(1/fe):(fe=1,Ge=Re/4),function(Qe){return 1+fe*Math.pow(2,-10*Qe)*Math.sin((Qe-Ge)*He/Re)}}function ov(fe){return fe||(fe=1.70158),function(Re){return Re*Re*((fe+1)*Re-fe)}}function sv(fe){return fe<.36363636363636365?7.5625*fe*fe:fe<.7272727272727273?7.5625*(fe-=.5454545454545454)*fe+.75:fe<.9090909090909091?7.5625*(fe-=.8181818181818182)*fe+.9375:7.5625*(fe-=.9545454545454546)*fe+.984375}a.interpolateHcl=Xc;function Xc(fe,Re){fe=a.hcl(fe),Re=a.hcl(Re);var Ge=fe.h,Qe=fe.c,nt=fe.l,ot=Re.h-Ge,Pt=Re.c-Qe,ft=Re.l-nt;return isNaN(Pt)&&(Pt=0,Qe=isNaN(Qe)?Re.c:Qe),isNaN(ot)?(ot=0,Ge=isNaN(Ge)?Re.h:Ge):ot>180?ot-=360:ot<-180&&(ot+=360),function(Ht){return Bt(Ge+ot*Ht,Qe+Pt*Ht,nt+ft*Ht)+""}}a.interpolateHsl=lv;function lv(fe,Re){fe=a.hsl(fe),Re=a.hsl(Re);var Ge=fe.h,Qe=fe.s,nt=fe.l,ot=Re.h-Ge,Pt=Re.s-Qe,ft=Re.l-nt;return isNaN(Pt)&&(Pt=0,Qe=isNaN(Qe)?Re.s:Qe),isNaN(ot)?(ot=0,Ge=isNaN(Ge)?Re.h:Ge):ot>180?ot-=360:ot<-180&&(ot+=360),function(Ht){return St(Ge+ot*Ht,Qe+Pt*Ht,nt+ft*Ht)+""}}a.interpolateLab=uv;function uv(fe,Re){fe=a.lab(fe),Re=a.lab(Re);var Ge=fe.l,Qe=fe.a,nt=fe.b,ot=Re.l-Ge,Pt=Re.a-Qe,ft=Re.b-nt;return function(Ht){return je(Ge+ot*Ht,Qe+Pt*Ht,nt+ft*Ht)+""}}a.interpolateRound=oc;function oc(fe,Re){return Re-=fe,function(Ge){return Math.round(fe+Re*Ge)}}a.transform=function(fe){var Re=h.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Ge){if(Ge!=null){Re.setAttribute("transform",Ge);var Qe=Re.transform.baseVal.consolidate()}return new Nl(Qe?Qe.matrix:fv)})(fe)};function Nl(fe){var Re=[fe.a,fe.b],Ge=[fe.c,fe.d],Qe=cu(Re),nt=Ul(Re,Ge),ot=cu(mf(Ge,Re,-nt))||0;Re[0]*Ge[1]<Ge[0]*Re[1]&&(Re[0]*=-1,Re[1]*=-1,Qe*=-1,nt*=-1),this.rotate=(Qe?Math.atan2(Re[1],Re[0]):Math.atan2(-Ge[0],Ge[1]))*bt,this.translate=[fe.e,fe.f],this.scale=[Qe,ot],this.skew=ot?Math.atan2(nt,ot)*bt:0}Nl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Ul(fe,Re){return fe[0]*Re[0]+fe[1]*Re[1]}function cu(fe){var Re=Math.sqrt(Ul(fe,fe));return Re&&(fe[0]/=Re,fe[1]/=Re),Re}function mf(fe,Re,Ge){return fe[0]+=Ge*Re[0],fe[1]+=Ge*Re[1],fe}var fv={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=Hl;function tl(fe){return fe.length?fe.pop()+",":""}function $c(fe,Re,Ge,Qe){if(fe[0]!==Re[0]||fe[1]!==Re[1]){var nt=Ge.push("translate(",null,",",null,")");Qe.push({i:nt-4,x:ns(fe[0],Re[0])},{i:nt-2,x:ns(fe[1],Re[1])})}else(Re[0]||Re[1])&&Ge.push("translate("+Re+")")}function sc(fe,Re,Ge,Qe){fe!==Re?(fe-Re>180?Re+=360:Re-fe>180&&(fe+=360),Qe.push({i:Ge.push(tl(Ge)+"rotate(",null,")")-2,x:ns(fe,Re)})):Re&&Ge.push(tl(Ge)+"rotate("+Re+")")}function cv(fe,Re,Ge,Qe){fe!==Re?Qe.push({i:Ge.push(tl(Ge)+"skewX(",null,")")-2,x:ns(fe,Re)}):Re&&Ge.push(tl(Ge)+"skewX("+Re+")")}function fs(fe,Re,Ge,Qe){if(fe[0]!==Re[0]||fe[1]!==Re[1]){var nt=Ge.push(tl(Ge)+"scale(",null,",",null,")");Qe.push({i:nt-4,x:ns(fe[0],Re[0])},{i:nt-2,x:ns(fe[1],Re[1])})}else(Re[0]!==1||Re[1]!==1)&&Ge.push(tl(Ge)+"scale("+Re+")")}function Hl(fe,Re){var Ge=[],Qe=[];return fe=a.transform(fe),Re=a.transform(Re),$c(fe.translate,Re.translate,Ge,Qe),sc(fe.rotate,Re.rotate,Ge,Qe),cv(fe.skew,Re.skew,Ge,Qe),fs(fe.scale,Re.scale,Ge,Qe),fe=Re=null,function(nt){for(var ot=-1,Pt=Qe.length,ft;++ot<Pt;)Ge[(ft=Qe[ot]).i]=ft.x(nt);return Ge.join("")}}function Wu(fe,Re){return Re=(Re-=fe=+fe)||1/Re,function(Ge){return(Ge-fe)/Re}}function hu(fe,Re){return Re=(Re-=fe=+fe)||1/Re,function(Ge){return Math.max(0,Math.min(1,(Ge-fe)/Re))}}a.layout={},a.layout.bundle=function(){return function(fe){for(var Re=[],Ge=-1,Qe=fe.length;++Ge<Qe;)Re.push(Os(fe[Ge]));return Re}};function Os(fe){for(var Re=fe.source,Ge=fe.target,Qe=lc(Re,Ge),nt=[Re];Re!==Qe;)Re=Re.parent,nt.push(Re);for(var ot=nt.length;Ge!==Qe;)nt.splice(ot,0,Ge),Ge=Ge.parent;return nt}function rl(fe){for(var Re=[],Ge=fe.parent;Ge!=null;)Re.push(fe),fe=Ge,Ge=Ge.parent;return Re.push(fe),Re}function lc(fe,Re){if(fe===Re)return fe;for(var Ge=rl(fe),Qe=rl(Re),nt=Ge.pop(),ot=Qe.pop(),Pt=null;nt===ot;)Pt=nt,nt=Ge.pop(),ot=Qe.pop();return Pt}a.layout.chord=function(){var fe={},Re,Ge,Qe,nt,ot=0,Pt,ft,Ht;function er(){var Rr={},Lr=[],Jr=a.range(nt),an=[],kr,Ur,$r,sn,vn;for(Re=[],Ge=[],kr=0,sn=-1;++sn<nt;){for(Ur=0,vn=-1;++vn<nt;)Ur+=Qe[sn][vn];Lr.push(Ur),an.push(a.range(nt)),kr+=Ur}for(Pt&&Jr.sort(function(ja,Ra){return Pt(Lr[ja],Lr[Ra])}),ft&&an.forEach(function(ja,Ra){ja.sort(function(Va,ni){return ft(Qe[Ra][Va],Qe[Ra][ni])})}),kr=(He-ot*nt)/kr,Ur=0,sn=-1;++sn<nt;){for($r=Ur,vn=-1;++vn<nt;){var Kr=Jr[sn],Hn=an[Kr][vn],Yn=Qe[Kr][Hn],ea=Ur,la=Ur+=Yn*kr;Rr[Kr+"-"+Hn]={index:Kr,subindex:Hn,startAngle:ea,endAngle:la,value:Yn}}Ge[Kr]={index:Kr,startAngle:$r,endAngle:Ur,value:Lr[Kr]},Ur+=ot}for(sn=-1;++sn<nt;)for(vn=sn-1;++vn<nt;){var Aa=Rr[sn+"-"+vn],Ta=Rr[vn+"-"+sn];(Aa.value||Ta.value)&&Re.push(Aa.value<Ta.value?{source:Ta,target:Aa}:{source:Aa,target:Ta})}Ht&&nr()}function nr(){Re.sort(function(Rr,Lr){return Ht((Rr.source.value+Rr.target.value)/2,(Lr.source.value+Lr.target.value)/2)})}return fe.matrix=function(Rr){return arguments.length?(nt=(Qe=Rr)&&Qe.length,Re=Ge=null,fe):Qe},fe.padding=function(Rr){return arguments.length?(ot=Rr,Re=Ge=null,fe):ot},fe.sortGroups=function(Rr){return arguments.length?(Pt=Rr,Re=Ge=null,fe):Pt},fe.sortSubgroups=function(Rr){return arguments.length?(ft=Rr,Re=null,fe):ft},fe.sortChords=function(Rr){return arguments.length?(Ht=Rr,Re&&nr(),fe):Ht},fe.chords=function(){return Re||er(),Re},fe.groups=function(){return Ge||er(),Ge},fe},a.layout.force=function(){var fe={},Re=a.dispatch("start","tick","end"),Ge,Qe=[1,1],nt,ot,Pt=.9,ft=du,Ht=Kc,er=-30,nr=Jc,Rr=.1,Lr=.64,Jr=[],an=[],kr,Ur,$r;function sn(Kr){return function(Hn,Yn,ea,la){if(Hn.point!==Kr){var Aa=Hn.cx-Kr.x,Ta=Hn.cy-Kr.y,ja=la-Yn,Ra=Aa*Aa+Ta*Ta;if(ja*ja/Lr<Ra){if(Ra<nr){var Va=Hn.charge/Ra;Kr.px-=Aa*Va,Kr.py-=Ta*Va}return!0}if(Hn.point&&Ra&&Ra<nr){var Va=Hn.pointCharge/Ra;Kr.px-=Aa*Va,Kr.py-=Ta*Va}}return!Hn.charge}}fe.tick=function(){if((ot*=.99)<.005)return Ge=null,Re.end({type:"end",alpha:ot=0}),!0;var Kr=Jr.length,Hn=an.length,Yn,ea,la,Aa,Ta,ja,Ra,Va,ni;for(ea=0;ea<Hn;++ea)la=an[ea],Aa=la.source,Ta=la.target,Va=Ta.x-Aa.x,ni=Ta.y-Aa.y,(ja=Va*Va+ni*ni)&&(ja=ot*Ur[ea]*((ja=Math.sqrt(ja))-kr[ea])/ja,Va*=ja,ni*=ja,Ta.x-=Va*(Ra=Aa.weight+Ta.weight?Aa.weight/(Aa.weight+Ta.weight):.5),Ta.y-=ni*Ra,Aa.x+=Va*(Ra=1-Ra),Aa.y+=ni*Ra);if((Ra=ot*Rr)&&(Va=Qe[0]/2,ni=Qe[1]/2,ea=-1,Ra))for(;++ea<Kr;)la=Jr[ea],la.x+=(Va-la.x)*Ra,la.y+=(ni-la.y)*Ra;if(er)for(xf(Yn=a.geom.quadtree(Jr),ot,$r),ea=-1;++ea<Kr;)(la=Jr[ea]).fixed||Yn.visit(sn(la));for(ea=-1;++ea<Kr;)la=Jr[ea],la.fixed?(la.x=la.px,la.y=la.py):(la.x-=(la.px-(la.px=la.x))*Pt,la.y-=(la.py-(la.py=la.y))*Pt);Re.tick({type:"tick",alpha:ot})},fe.nodes=function(Kr){return arguments.length?(Jr=Kr,fe):Jr},fe.links=function(Kr){return arguments.length?(an=Kr,fe):an},fe.size=function(Kr){return arguments.length?(Qe=Kr,fe):Qe},fe.linkDistance=function(Kr){return arguments.length?(ft=typeof Kr=="function"?Kr:+Kr,fe):ft},fe.distance=fe.linkDistance,fe.linkStrength=function(Kr){return arguments.length?(Ht=typeof Kr=="function"?Kr:+Kr,fe):Ht},fe.friction=function(Kr){return arguments.length?(Pt=+Kr,fe):Pt},fe.charge=function(Kr){return arguments.length?(er=typeof Kr=="function"?Kr:+Kr,fe):er},fe.chargeDistance=function(Kr){return arguments.length?(nr=Kr*Kr,fe):Math.sqrt(nr)},fe.gravity=function(Kr){return arguments.length?(Rr=+Kr,fe):Rr},fe.theta=function(Kr){return arguments.length?(Lr=Kr*Kr,fe):Math.sqrt(Lr)},fe.alpha=function(Kr){return arguments.length?(Kr=+Kr,ot?Kr>0?ot=Kr:(Ge.c=null,Ge.t=NaN,Ge=null,Re.end({type:"end",alpha:ot=0})):Kr>0&&(Re.start({type:"start",alpha:ot=Kr}),Ge=Rn(fe.tick)),fe):ot},fe.start=function(){var Kr,Hn=Jr.length,Yn=an.length,ea=Qe[0],la=Qe[1],Aa,Ta;for(Kr=0;Kr<Hn;++Kr)(Ta=Jr[Kr]).index=Kr,Ta.weight=0;for(Kr=0;Kr<Yn;++Kr)Ta=an[Kr],typeof Ta.source=="number"&&(Ta.source=Jr[Ta.source]),typeof Ta.target=="number"&&(Ta.target=Jr[Ta.target]),++Ta.source.weight,++Ta.target.weight;for(Kr=0;Kr<Hn;++Kr)Ta=Jr[Kr],isNaN(Ta.x)&&(Ta.x=ja("x",ea)),isNaN(Ta.y)&&(Ta.y=ja("y",la)),isNaN(Ta.px)&&(Ta.px=Ta.x),isNaN(Ta.py)&&(Ta.py=Ta.y);if(kr=[],typeof ft=="function")for(Kr=0;Kr<Yn;++Kr)kr[Kr]=+ft.call(this,an[Kr],Kr);else for(Kr=0;Kr<Yn;++Kr)kr[Kr]=ft;if(Ur=[],typeof Ht=="function")for(Kr=0;Kr<Yn;++Kr)Ur[Kr]=+Ht.call(this,an[Kr],Kr);else for(Kr=0;Kr<Yn;++Kr)Ur[Kr]=Ht;if($r=[],typeof er=="function")for(Kr=0;Kr<Hn;++Kr)$r[Kr]=+er.call(this,Jr[Kr],Kr);else for(Kr=0;Kr<Hn;++Kr)$r[Kr]=er;function ja(Ra,Va){if(!Aa){for(Aa=new Array(Hn),gi=0;gi<Hn;++gi)Aa[gi]=[];for(gi=0;gi<Yn;++gi){var ni=an[gi];Aa[ni.source.index].push(ni.target),Aa[ni.target.index].push(ni.source)}}for(var si=Aa[Kr],gi=-1,Gn=si.length,Ga;++gi<Gn;)if(!isNaN(Ga=si[gi][Ra]))return Ga;return Math.random()*Va}return fe.resume()},fe.resume=function(){return fe.alpha(.1)},fe.stop=function(){return fe.alpha(0)},fe.drag=function(){if(nt||(nt=a.behavior.drag().origin(U).on("dragstart.force",vu).on("drag.force",vn).on("dragend.force",ml)),!arguments.length)return nt;this.on("mouseover.force",$i).on("mouseout.force",uc).call(nt)};function vn(Kr){Kr.px=a.event.x,Kr.py=a.event.y,fe.resume()}return a.rebind(fe,Re,"on")};function vu(fe){fe.fixed|=2}function ml(fe){fe.fixed&=-7}function $i(fe){fe.fixed|=4,fe.px=fe.x,fe.py=fe.y}function uc(fe){fe.fixed&=-5}function xf(fe,Re,Ge){var Qe=0,nt=0;if(fe.charge=0,!fe.leaf)for(var ot=fe.nodes,Pt=ot.length,ft=-1,Ht;++ft<Pt;)Ht=ot[ft],Ht!=null&&(xf(Ht,Re,Ge),fe.charge+=Ht.charge,Qe+=Ht.charge*Ht.cx,nt+=Ht.charge*Ht.cy);if(fe.point){fe.leaf||(fe.point.x+=Math.random()-.5,fe.point.y+=Math.random()-.5);var er=Re*Ge[fe.point.index];fe.charge+=fe.pointCharge=er,Qe+=er*fe.point.x,nt+=er*fe.point.y}fe.cx=Qe/fe.charge,fe.cy=nt/fe.charge}var du=20,Kc=1,Jc=1/0;a.layout.hierarchy=function(){var fe=fc,Re=bf,Ge=hv;function Qe(nt){var ot=[nt],Pt=[],ft;for(nt.depth=0;(ft=ot.pop())!=null;)if(Pt.push(ft),(er=Re.call(Qe,ft,ft.depth))&&(Ht=er.length)){for(var Ht,er,nr;--Ht>=0;)ot.push(nr=er[Ht]),nr.parent=ft,nr.depth=ft.depth+1;Ge&&(ft.value=0),ft.children=er}else Ge&&(ft.value=+Ge.call(Qe,ft,ft.depth)||0),delete ft.children;return ho(nt,function(Rr){var Lr,Jr;fe&&(Lr=Rr.children)&&Lr.sort(fe),Ge&&(Jr=Rr.parent)&&(Jr.value+=Rr.value)}),Pt}return Qe.sort=function(nt){return arguments.length?(fe=nt,Qe):fe},Qe.children=function(nt){return arguments.length?(Re=nt,Qe):Re},Qe.value=function(nt){return arguments.length?(Ge=nt,Qe):Ge},Qe.revalue=function(nt){return Ge&&(gu(nt,function(ot){ot.children&&(ot.value=0)}),ho(nt,function(ot){var Pt;ot.children||(ot.value=+Ge.call(Qe,ot,ot.depth)||0),(Pt=ot.parent)&&(Pt.value+=ot.value)})),nt},Qe};function pu(fe,Re){return a.rebind(fe,Re,"sort","children","value"),fe.nodes=fe,fe.links=vv,fe}function gu(fe,Re){for(var Ge=[fe];(fe=Ge.pop())!=null;)if(Re(fe),(nt=fe.children)&&(Qe=nt.length))for(var Qe,nt;--Qe>=0;)Ge.push(nt[Qe])}function ho(fe,Re){for(var Ge=[fe],Qe=[];(fe=Ge.pop())!=null;)if(Qe.push(fe),(Pt=fe.children)&&(ot=Pt.length))for(var nt=-1,ot,Pt;++nt<ot;)Ge.push(Pt[nt]);for(;(fe=Qe.pop())!=null;)Re(fe)}function bf(fe){return fe.children}function hv(fe){return fe.value}function fc(fe,Re){return Re.value-fe.value}function vv(fe){return a.merge(fe.map(function(Re){return(Re.children||[]).map(function(Ge){return{source:Re,target:Ge}})}))}a.layout.partition=function(){var fe=a.layout.hierarchy(),Re=[1,1];function Ge(ot,Pt,ft,Ht){var er=ot.children;if(ot.x=Pt,ot.y=ot.depth*Ht,ot.dx=ft,ot.dy=Ht,er&&(Rr=er.length)){var nr=-1,Rr,Lr,Jr;for(ft=ot.value?ft/ot.value:0;++nr<Rr;)Ge(Lr=er[nr],Pt,Jr=Lr.value*ft,Ht),Pt+=Jr}}function Qe(ot){var Pt=ot.children,ft=0;if(Pt&&(er=Pt.length))for(var Ht=-1,er;++Ht<er;)ft=Math.max(ft,Qe(Pt[Ht]));return 1+ft}function nt(ot,Pt){var ft=fe.call(this,ot,Pt);return Ge(ft[0],0,Re[0],Re[1]/Qe(ft[0])),ft}return nt.size=function(ot){return arguments.length?(Re=ot,nt):Re},pu(nt,fe)},a.layout.pie=function(){var fe=Number,Re=wf,Ge=0,Qe=He,nt=0;function ot(Pt){var ft=Pt.length,Ht=Pt.map(function(sn,vn){return+fe.call(ot,sn,vn)}),er=+(typeof Ge=="function"?Ge.apply(this,arguments):Ge),nr=(typeof Qe=="function"?Qe.apply(this,arguments):Qe)-er,Rr=Math.min(Math.abs(nr)/ft,+(typeof nt=="function"?nt.apply(this,arguments):nt)),Lr=Rr*(nr<0?-1:1),Jr=a.sum(Ht),an=Jr?(nr-ft*Lr)/Jr:0,kr=a.range(ft),Ur=[],$r;return Re!=null&&kr.sort(Re===wf?function(sn,vn){return Ht[vn]-Ht[sn]}:function(sn,vn){return Re(Pt[sn],Pt[vn])}),kr.forEach(function(sn){Ur[sn]={data:Pt[sn],value:$r=Ht[sn],startAngle:er,endAngle:er+=$r*an+Lr,padAngle:Rr}}),Ur}return ot.value=function(Pt){return arguments.length?(fe=Pt,ot):fe},ot.sort=function(Pt){return arguments.length?(Re=Pt,ot):Re},ot.startAngle=function(Pt){return arguments.length?(Ge=Pt,ot):Ge},ot.endAngle=function(Pt){return arguments.length?(Qe=Pt,ot):Qe},ot.padAngle=function(Pt){return arguments.length?(nt=Pt,ot):nt},ot};var wf={};a.layout.stack=function(){var fe=U,Re=Tf,Ge=dc,Qe=hc,nt=ju,ot=cc;function Pt(ft,Ht){if(!(an=ft.length))return ft;var er=ft.map(function(sn,vn){return fe.call(Pt,sn,vn)}),nr=er.map(function(sn){return sn.map(function(vn,Kr){return[nt.call(Pt,vn,Kr),ot.call(Pt,vn,Kr)]})}),Rr=Re.call(Pt,nr,Ht);er=a.permute(er,Rr),nr=a.permute(nr,Rr);var Lr=Ge.call(Pt,nr,Ht),Jr=er[0].length,an,kr,Ur,$r;for(Ur=0;Ur<Jr;++Ur)for(Qe.call(Pt,er[0][Ur],$r=Lr[Ur],nr[0][Ur][1]),kr=1;kr<an;++kr)Qe.call(Pt,er[kr][Ur],$r+=nr[kr-1][Ur][1],nr[kr][Ur][1]);return ft}return Pt.values=function(ft){return arguments.length?(fe=ft,Pt):fe},Pt.order=function(ft){return arguments.length?(Re=typeof ft=="function"?ft:Yu.get(ft)||Tf,Pt):Re},Pt.offset=function(ft){return arguments.length?(Ge=typeof ft=="function"?ft:vc.get(ft)||dc,Pt):Ge},Pt.x=function(ft){return arguments.length?(nt=ft,Pt):nt},Pt.y=function(ft){return arguments.length?(ot=ft,Pt):ot},Pt.out=function(ft){return arguments.length?(Qe=ft,Pt):Qe},Pt};function ju(fe){return fe.x}function cc(fe){return fe.y}function hc(fe,Re,Ge){fe.y0=Re,fe.y=Ge}var Yu=a.map({"inside-out":function(fe){var Re=fe.length,Ge,Qe,nt=fe.map(Si),ot=fe.map(Qc),Pt=a.range(Re).sort(function(Rr,Lr){return nt[Rr]-nt[Lr]}),ft=0,Ht=0,er=[],nr=[];for(Ge=0;Ge<Re;++Ge)Qe=Pt[Ge],ft<Ht?(ft+=ot[Qe],er.push(Qe)):(Ht+=ot[Qe],nr.push(Qe));return nr.reverse().concat(er)},reverse:function(fe){return a.range(fe.length).reverse()},default:Tf}),vc=a.map({silhouette:function(fe){var Re=fe.length,Ge=fe[0].length,Qe=[],nt=0,ot,Pt,ft,Ht=[];for(Pt=0;Pt<Ge;++Pt){for(ot=0,ft=0;ot<Re;ot++)ft+=fe[ot][Pt][1];ft>nt&&(nt=ft),Qe.push(ft)}for(Pt=0;Pt<Ge;++Pt)Ht[Pt]=(nt-Qe[Pt])/2;return Ht},wiggle:function(fe){var Re=fe.length,Ge=fe[0],Qe=Ge.length,nt,ot,Pt,ft,Ht,er,nr,Rr,Lr,Jr=[];for(Jr[0]=Rr=Lr=0,ot=1;ot<Qe;++ot){for(nt=0,ft=0;nt<Re;++nt)ft+=fe[nt][ot][1];for(nt=0,Ht=0,nr=Ge[ot][0]-Ge[ot-1][0];nt<Re;++nt){for(Pt=0,er=(fe[nt][ot][1]-fe[nt][ot-1][1])/(2*nr);Pt<nt;++Pt)er+=(fe[Pt][ot][1]-fe[Pt][ot-1][1])/nr;Ht+=er*fe[nt][ot][1]}Jr[ot]=Rr-=ft?Ht/ft*nr:0,Rr<Lr&&(Lr=Rr)}for(ot=0;ot<Qe;++ot)Jr[ot]-=Lr;return Jr},expand:function(fe){var Re=fe.length,Ge=fe[0].length,Qe=1/Re,nt,ot,Pt,ft=[];for(ot=0;ot<Ge;++ot){for(nt=0,Pt=0;nt<Re;nt++)Pt+=fe[nt][ot][1];if(Pt)for(nt=0;nt<Re;nt++)fe[nt][ot][1]/=Pt;else for(nt=0;nt<Re;nt++)fe[nt][ot][1]=Qe}for(ot=0;ot<Ge;++ot)ft[ot]=0;return ft},zero:dc});function Tf(fe){return a.range(fe.length)}function dc(fe){for(var Re=-1,Ge=fe[0].length,Qe=[];++Re<Ge;)Qe[Re]=0;return Qe}function Si(fe){for(var Re=1,Ge=0,Qe=fe[0][1],nt,ot=fe.length;Re<ot;++Re)(nt=fe[Re][1])>Qe&&(Ge=Re,Qe=nt);return Ge}function Qc(fe){return fe.reduce(bs,0)}function bs(fe,Re){return fe+Re[1]}a.layout.histogram=function(){var fe=!0,Re=Number,Ge=pc,Qe=yu;function nt(ot,Lr){for(var ft=[],Ht=ot.map(Re,this),er=Ge.call(this,Ht,Lr),nr=Qe.call(this,er,Ht,Lr),Rr,Lr=-1,Jr=Ht.length,an=nr.length-1,kr=fe?1:1/Jr,Ur;++Lr<an;)Rr=ft[Lr]=[],Rr.dx=nr[Lr+1]-(Rr.x=nr[Lr]),Rr.y=0;if(an>0)for(Lr=-1;++Lr<Jr;)Ur=Ht[Lr],Ur>=er[0]&&Ur<=er[1]&&(Rr=ft[a.bisect(nr,Ur,1,an)-1],Rr.y+=kr,Rr.push(ot[Lr]));return ft}return nt.value=function(ot){return arguments.length?(Re=ot,nt):Re},nt.range=function(ot){return arguments.length?(Ge=tn(ot),nt):Ge},nt.bins=function(ot){return arguments.length?(Qe=typeof ot=="number"?function(Pt){return Vl(Pt,ot)}:tn(ot),nt):Qe},nt.frequency=function(ot){return arguments.length?(fe=!!ot,nt):fe},nt};function yu(fe,Re){return Vl(fe,Math.ceil(Math.log(Re.length)/Math.LN2+1))}function Vl(fe,Re){for(var Ge=-1,Qe=+fe[0],nt=(fe[1]-Qe)/Re,ot=[];++Ge<=Re;)ot[Ge]=nt*Ge+Qe;return ot}function pc(fe){return[a.min(fe),a.max(fe)]}a.layout.pack=function(){var fe=a.layout.hierarchy().sort(Qi),Re=0,Ge=[1,1],Qe;function nt(ot,Pt){var ft=fe.call(this,ot,Pt),Ht=ft[0],er=Ge[0],nr=Ge[1],Rr=Qe==null?Math.sqrt:typeof Qe=="function"?Qe:function(){return Qe};if(Ht.x=Ht.y=0,ho(Ht,function(Jr){Jr.r=+Rr(Jr.value)}),ho(Ht,al),Re){var Lr=Re*(Qe?1:Math.max(2*Ht.r/er,2*Ht.r/nr))/2;ho(Ht,function(Jr){Jr.r+=Lr}),ho(Ht,al),ho(Ht,function(Jr){Jr.r-=Lr})}return wl(Ht,er/2,nr/2,Qe?1:1/Math.max(2*Ht.r/er,2*Ht.r/nr)),ft}return nt.size=function(ot){return arguments.length?(Ge=ot,nt):Ge},nt.radius=function(ot){return arguments.length?(Qe=ot==null||typeof ot=="function"?ot:+ot,nt):Qe},nt.padding=function(ot){return arguments.length?(Re=+ot,nt):Re},pu(nt,fe)};function Qi(fe,Re){return fe.value-Re.value}function Zu(fe,Re){var Ge=fe._pack_next;fe._pack_next=Re,Re._pack_prev=fe,Re._pack_next=Ge,Ge._pack_prev=Re}function Zo(fe,Re){fe._pack_next=Re,Re._pack_prev=fe}function nl(fe,Re){var Ge=Re.x-fe.x,Qe=Re.y-fe.y,nt=fe.r+Re.r;return .999*nt*nt>Ge*Ge+Qe*Qe}function al(fe){if(!(Re=fe.children)||!(Lr=Re.length))return;var Re,Ge=1/0,Qe=-1/0,nt=1/0,ot=-1/0,Pt,ft,Ht,er,nr,Rr,Lr;function Jr(Kr){Ge=Math.min(Kr.x-Kr.r,Ge),Qe=Math.max(Kr.x+Kr.r,Qe),nt=Math.min(Kr.y-Kr.r,nt),ot=Math.max(Kr.y+Kr.r,ot)}if(Re.forEach(xl),Pt=Re[0],Pt.x=-Pt.r,Pt.y=0,Jr(Pt),Lr>1&&(ft=Re[1],ft.x=ft.r,ft.y=0,Jr(ft),Lr>2))for(Ht=Re[2],ws(Pt,ft,Ht),Jr(Ht),Zu(Pt,Ht),Pt._pack_prev=Ht,Zu(Ht,ft),ft=Pt._pack_next,er=3;er<Lr;er++){ws(Pt,ft,Ht=Re[er]);var an=0,kr=1,Ur=1;for(nr=ft._pack_next;nr!==ft;nr=nr._pack_next,kr++)if(nl(nr,Ht)){an=1;break}if(an==1)for(Rr=Pt._pack_prev;Rr!==nr._pack_prev&&!nl(Rr,Ht);Rr=Rr._pack_prev,Ur++);an?(kr<Ur||kr==Ur&&ft.r<Pt.r?Zo(Pt,ft=nr):Zo(Pt=Rr,ft),er--):(Zu(Pt,Ht),ft=Ht,Jr(Ht))}var $r=(Ge+Qe)/2,sn=(nt+ot)/2,vn=0;for(er=0;er<Lr;er++)Ht=Re[er],Ht.x-=$r,Ht.y-=sn,vn=Math.max(vn,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));fe.r=vn,Re.forEach(bl)}function xl(fe){fe._pack_next=fe._pack_prev=fe}function bl(fe){delete fe._pack_next,delete fe._pack_prev}function wl(fe,Re,Ge,Qe){var nt=fe.children;if(fe.x=Re+=Qe*fe.x,fe.y=Ge+=Qe*fe.y,fe.r*=Qe,nt)for(var ot=-1,Pt=nt.length;++ot<Pt;)wl(nt[ot],Re,Ge,Qe)}function ws(fe,Re,Ge){var Qe=fe.r+Ge.r,nt=Re.x-fe.x,ot=Re.y-fe.y;if(Qe&&(nt||ot)){var Pt=Re.r+Ge.r,ft=nt*nt+ot*ot;Pt*=Pt,Qe*=Qe;var Ht=.5+(Qe-Pt)/(2*ft),er=Math.sqrt(Math.max(0,2*Pt*(Qe+ft)-(Qe-=ft)*Qe-Pt*Pt))/(2*ft);Ge.x=fe.x+Ht*nt+er*ot,Ge.y=fe.y+Ht*ot-er*nt}else Ge.x=fe.x+Qe,Ge.y=fe.y}a.layout.tree=function(){var fe=a.layout.hierarchy().sort(null).value(null),Re=Bs,Ge=[1,1],Qe=null;function nt(nr,Rr){var Lr=fe.call(this,nr,Rr),Jr=Lr[0],an=ot(Jr);if(ho(an,Pt),an.parent.m=-an.z,gu(an,ft),Qe)gu(Jr,er);else{var kr=Jr,Ur=Jr,$r=Jr;gu(Jr,function(Hn){Hn.x<kr.x&&(kr=Hn),Hn.x>Ur.x&&(Ur=Hn),Hn.depth>$r.depth&&($r=Hn)});var sn=Re(kr,Ur)/2-kr.x,vn=Ge[0]/(Ur.x+Re(Ur,kr)/2+sn),Kr=Ge[1]/($r.depth||1);gu(Jr,function(Hn){Hn.x=(Hn.x+sn)*vn,Hn.y=Hn.depth*Kr})}return Lr}function ot(nr){for(var Rr={A:null,children:[nr]},Lr=[Rr],Jr;(Jr=Lr.pop())!=null;)for(var an=Jr.children,kr,Ur=0,$r=an.length;Ur<$r;++Ur)Lr.push((an[Ur]=kr={_:an[Ur],parent:Jr,children:(kr=an[Ur].children)&&kr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ur}).a=kr);return Rr.children[0]}function Pt(nr){var Rr=nr.children,Lr=nr.parent.children,Jr=nr.i?Lr[nr.i-1]:null;if(Rr.length){dv(nr);var an=(Rr[0].z+Rr[Rr.length-1].z)/2;Jr?(nr.z=Jr.z+Re(nr._,Jr._),nr.m=nr.z-an):nr.z=an}else Jr&&(nr.z=Jr.z+Re(nr._,Jr._));nr.parent.A=Ht(nr,Jr,nr.parent.A||Lr[0])}function ft(nr){nr._.x=nr.z+nr.parent.m,nr.m+=nr.parent.m}function Ht(nr,Rr,Lr){if(Rr){for(var Jr=nr,an=nr,kr=Rr,Ur=Jr.parent.children[0],$r=Jr.m,sn=an.m,vn=kr.m,Kr=Ur.m,Hn;kr=$u(kr),Jr=Xu(Jr),kr&&Jr;)Ur=Xu(Ur),an=$u(an),an.a=nr,Hn=kr.z+vn-Jr.z-$r+Re(kr._,Jr._),Hn>0&&(Af(pv(kr,nr,Lr),nr,Hn),$r+=Hn,sn+=Hn),vn+=kr.m,$r+=Jr.m,Kr+=Ur.m,sn+=an.m;kr&&!$u(an)&&(an.t=kr,an.m+=vn-sn),Jr&&!Xu(Ur)&&(Ur.t=Jr,Ur.m+=$r-Kr,Lr=nr)}return Lr}function er(nr){nr.x*=Ge[0],nr.y=nr.depth*Ge[1]}return nt.separation=function(nr){return arguments.length?(Re=nr,nt):Re},nt.size=function(nr){return arguments.length?(Qe=(Ge=nr)==null?er:null,nt):Qe?null:Ge},nt.nodeSize=function(nr){return arguments.length?(Qe=(Ge=nr)==null?null:er,nt):Qe?Ge:null},pu(nt,fe)};function Bs(fe,Re){return fe.parent==Re.parent?1:2}function Xu(fe){var Re=fe.children;return Re.length?Re[0]:fe.t}function $u(fe){var Re=fe.children,Ge;return(Ge=Re.length)?Re[Ge-1]:fe.t}function Af(fe,Re,Ge){var Qe=Ge/(Re.i-fe.i);Re.c-=Qe,Re.s+=Ge,fe.c+=Qe,Re.z+=Ge,Re.m+=Ge}function dv(fe){for(var Re=0,Ge=0,Qe=fe.children,nt=Qe.length,ot;--nt>=0;)ot=Qe[nt],ot.z+=Re,ot.m+=Re,Re+=ot.s+(Ge+=ot.c)}function pv(fe,Re,Ge){return fe.a.parent===Re.parent?fe.a:Ge}a.layout.cluster=function(){var fe=a.layout.hierarchy().sort(null).value(null),Re=Bs,Ge=[1,1],Qe=!1;function nt(ot,Pt){var ft=fe.call(this,ot,Pt),Ht=ft[0],er,nr=0;ho(Ht,function(kr){var Ur=kr.children;Ur&&Ur.length?(kr.x=yv(Ur),kr.y=gv(Ur)):(kr.x=er?nr+=Re(kr,er):0,kr.y=0,er=kr)});var Rr=Sf(Ht),Lr=qc(Ht),Jr=Rr.x-Re(Rr,Lr)/2,an=Lr.x+Re(Lr,Rr)/2;return ho(Ht,Qe?function(kr){kr.x=(kr.x-Ht.x)*Ge[0],kr.y=(Ht.y-kr.y)*Ge[1]}:function(kr){kr.x=(kr.x-Jr)/(an-Jr)*Ge[0],kr.y=(1-(Ht.y?kr.y/Ht.y:1))*Ge[1]}),ft}return nt.separation=function(ot){return arguments.length?(Re=ot,nt):Re},nt.size=function(ot){return arguments.length?(Qe=(Ge=ot)==null,nt):Qe?null:Ge},nt.nodeSize=function(ot){return arguments.length?(Qe=(Ge=ot)!=null,nt):Qe?Ge:null},pu(nt,fe)};function gv(fe){return 1+a.max(fe,function(Re){return Re.y})}function yv(fe){return fe.reduce(function(Re,Ge){return Re+Ge.x},0)/fe.length}function Sf(fe){var Re=fe.children;return Re&&Re.length?Sf(Re[0]):fe}function qc(fe){var Re=fe.children,Ge;return Re&&(Ge=Re.length)?qc(Re[Ge-1]):fe}a.layout.treemap=function(){var fe=a.layout.hierarchy(),Re=Math.round,Ge=[1,1],Qe=null,nt=mu,ot=!1,Pt,ft="squarify",Ht=.5*(1+Math.sqrt(5));function er(kr,Ur){for(var $r=-1,sn=kr.length,vn,Kr;++$r<sn;)Kr=(vn=kr[$r]).value*(Ur<0?0:Ur),vn.area=isNaN(Kr)||Kr<=0?0:Kr}function nr(kr){var Ur=kr.children;if(Ur&&Ur.length){var $r=nt(kr),sn=[],vn=Ur.slice(),Kr,Hn=1/0,Yn,ea=ft==="slice"?$r.dx:ft==="dice"?$r.dy:ft==="slice-dice"?kr.depth&1?$r.dy:$r.dx:Math.min($r.dx,$r.dy),la;for(er(vn,$r.dx*$r.dy/kr.value),sn.area=0;(la=vn.length)>0;)sn.push(Kr=vn[la-1]),sn.area+=Kr.area,ft!=="squarify"||(Yn=Lr(sn,ea))<=Hn?(vn.pop(),Hn=Yn):(sn.area-=sn.pop().area,Jr(sn,ea,$r,!1),ea=Math.min($r.dx,$r.dy),sn.length=sn.area=0,Hn=1/0);sn.length&&(Jr(sn,ea,$r,!0),sn.length=sn.area=0),Ur.forEach(nr)}}function Rr(kr){var Ur=kr.children;if(Ur&&Ur.length){var $r=nt(kr),sn=Ur.slice(),vn,Kr=[];for(er(sn,$r.dx*$r.dy/kr.value),Kr.area=0;vn=sn.pop();)Kr.push(vn),Kr.area+=vn.area,vn.z!=null&&(Jr(Kr,vn.z?$r.dx:$r.dy,$r,!sn.length),Kr.length=Kr.area=0);Ur.forEach(Rr)}}function Lr(kr,Ur){for(var $r=kr.area,sn,vn=0,Kr=1/0,Hn=-1,Yn=kr.length;++Hn<Yn;)(sn=kr[Hn].area)&&(sn<Kr&&(Kr=sn),sn>vn&&(vn=sn));return $r*=$r,Ur*=Ur,$r?Math.max(Ur*vn*Ht/$r,$r/(Ur*Kr*Ht)):1/0}function Jr(kr,Ur,$r,sn){var vn=-1,Kr=kr.length,Hn=$r.x,Yn=$r.y,ea=Ur?Re(kr.area/Ur):0,la;if(Ur==$r.dx){for((sn||ea>$r.dy)&&(ea=$r.dy);++vn<Kr;)la=kr[vn],la.x=Hn,la.y=Yn,la.dy=ea,Hn+=la.dx=Math.min($r.x+$r.dx-Hn,ea?Re(la.area/ea):0);la.z=!0,la.dx+=$r.x+$r.dx-Hn,$r.y+=ea,$r.dy-=ea}else{for((sn||ea>$r.dx)&&(ea=$r.dx);++vn<Kr;)la=kr[vn],la.x=Hn,la.y=Yn,la.dx=ea,Yn+=la.dy=Math.min($r.y+$r.dy-Yn,ea?Re(la.area/ea):0);la.z=!1,la.dy+=$r.y+$r.dy-Yn,$r.x+=ea,$r.dx-=ea}}function an(kr){var Ur=Pt||fe(kr),$r=Ur[0];return $r.x=$r.y=0,$r.value?($r.dx=Ge[0],$r.dy=Ge[1]):$r.dx=$r.dy=0,Pt&&fe.revalue($r),er([$r],$r.dx*$r.dy/$r.value),(Pt?Rr:nr)($r),ot&&(Pt=Ur),Ur}return an.size=function(kr){return arguments.length?(Ge=kr,an):Ge},an.padding=function(kr){if(!arguments.length)return Qe;function Ur(vn){var Kr=kr.call(an,vn,vn.depth);return Kr==null?mu(vn):wo(vn,typeof Kr=="number"?[Kr,Kr,Kr,Kr]:Kr)}function $r(vn){return wo(vn,kr)}var sn;return nt=(Qe=kr)==null?mu:(sn=typeof kr)=="function"?Ur:(sn==="number"&&(kr=[kr,kr,kr,kr]),$r),an},an.round=function(kr){return arguments.length?(Re=kr?Math.round:Number,an):Re!=Number},an.sticky=function(kr){return arguments.length?(ot=kr,Pt=null,an):ot},an.ratio=function(kr){return arguments.length?(Ht=kr,an):Ht},an.mode=function(kr){return arguments.length?(ft=kr+"",an):ft},pu(an,fe)};function mu(fe){return{x:fe.x,y:fe.y,dx:fe.dx,dy:fe.dy}}function wo(fe,Re){var Ge=fe.x+Re[3],Qe=fe.y+Re[0],nt=fe.dx-Re[1]-Re[3],ot=fe.dy-Re[0]-Re[2];return nt<0&&(Ge+=nt/2,nt=0),ot<0&&(Qe+=ot/2,ot=0),{x:Ge,y:Qe,dx:nt,dy:ot}}a.random={normal:function(fe,Re){var Ge=arguments.length;return Ge<2&&(Re=1),Ge<1&&(fe=0),function(){var Qe,nt,ot;do Qe=Math.random()*2-1,nt=Math.random()*2-1,ot=Qe*Qe+nt*nt;while(!ot||ot>1);return fe+Re*Qe*Math.sqrt(-2*Math.log(ot)/ot)}},logNormal:function(){var fe=a.random.normal.apply(a,arguments);return function(){return Math.exp(fe())}},bates:function(fe){var Re=a.random.irwinHall(fe);return function(){return Re()/fe}},irwinHall:function(fe){return function(){for(var Re=0,Ge=0;Ge<fe;Ge++)Re+=Math.random();return Re}}},a.scale={};function Xo(fe){var Re=fe[0],Ge=fe[fe.length-1];return Re<Ge?[Re,Ge]:[Ge,Re]}function Ku(fe){return fe.rangeExtent?fe.rangeExtent():Xo(fe.range())}function Gl(fe,Re,Ge,Qe){var nt=Ge(fe[0],fe[1]),ot=Qe(Re[0],Re[1]);return function(Pt){return ot(nt(Pt))}}function Ju(fe,Re){var Ge=0,Qe=fe.length-1,nt=fe[Ge],ot=fe[Qe],Pt;return ot<nt&&(Pt=Ge,Ge=Qe,Qe=Pt,Pt=nt,nt=ot,ot=Pt),fe[Ge]=Re.floor(nt),fe[Qe]=Re.ceil(ot),fe}function Mf(fe){return fe?{floor:function(Re){return Math.floor(Re/fe)*fe},ceil:function(Re){return Math.ceil(Re/fe)*fe}}:mv}var mv={floor:U,ceil:U};function eh(fe,Re,Ge,Qe){var nt=[],ot=[],Pt=0,ft=Math.min(fe.length,Re.length)-1;for(fe[ft]<fe[0]&&(fe=fe.slice().reverse(),Re=Re.slice().reverse());++Pt<=ft;)nt.push(Ge(fe[Pt-1],fe[Pt])),ot.push(Qe(Re[Pt-1],Re[Pt]));return function(Ht){var er=a.bisect(fe,Ht,1,ft)-1;return ot[er](nt[er](Ht))}}a.scale.linear=function(){return th([0,1],[0,1],qs,!1)};function th(fe,Re,Ge,Qe){var nt,ot;function Pt(){var Ht=Math.min(fe.length,Re.length)>2?eh:Gl,er=Qe?hu:Wu;return nt=Ht(fe,Re,er,Ge),ot=Ht(Re,fe,er,qs),ft}function ft(Ht){return nt(Ht)}return ft.invert=function(Ht){return ot(Ht)},ft.domain=function(Ht){return arguments.length?(fe=Ht.map(Number),Pt()):fe},ft.range=function(Ht){return arguments.length?(Re=Ht,Pt()):Re},ft.rangeRound=function(Ht){return ft.range(Ht).interpolate(oc)},ft.clamp=function(Ht){return arguments.length?(Qe=Ht,Pt()):Qe},ft.interpolate=function(Ht){return arguments.length?(Ge=Ht,Pt()):Ge},ft.ticks=function(Ht){return Ns(fe,Ht)},ft.tickFormat=function(Ht,er){return d3_scale_linearTickFormat(fe,Ht,er)},ft.nice=function(Ht){return Tl(fe,Ht),Pt()},ft.copy=function(){return th(fe,Re,Ge,Qe)},Pt()}function gc(fe,Re){return a.rebind(fe,Re,"range","rangeRound","interpolate","clamp")}function Tl(fe,Re){return Ju(fe,Mf(qi(fe,Re)[2])),Ju(fe,Mf(qi(fe,Re)[2])),fe}function qi(fe,Re){Re==null&&(Re=10);var Ge=Xo(fe),Qe=Ge[1]-Ge[0],nt=Math.pow(10,Math.floor(Math.log(Qe/Re)/Math.LN10)),ot=Re/Qe*nt;return ot<=.15?nt*=10:ot<=.35?nt*=5:ot<=.75&&(nt*=2),Ge[0]=Math.ceil(Ge[0]/nt)*nt,Ge[1]=Math.floor(Ge[1]/nt)*nt+nt*.5,Ge[2]=nt,Ge}function Ns(fe,Re){return a.range.apply(a,qi(fe,Re))}a.scale.log=function(){return yc(a.scale.linear().domain([0,1]),10,!0,[1,10])};function yc(fe,Re,Ge,Qe){function nt(ft){return(Ge?Math.log(ft<0?0:ft):-Math.log(ft>0?0:-ft))/Math.log(Re)}function ot(ft){return Ge?Math.pow(Re,ft):-Math.pow(Re,-ft)}function Pt(ft){return fe(nt(ft))}return Pt.invert=function(ft){return ot(fe.invert(ft))},Pt.domain=function(ft){return arguments.length?(Ge=ft[0]>=0,fe.domain((Qe=ft.map(Number)).map(nt)),Pt):Qe},Pt.base=function(ft){return arguments.length?(Re=+ft,fe.domain(Qe.map(nt)),Pt):Re},Pt.nice=function(){var ft=Ju(Qe.map(nt),Ge?Math:rh);return fe.domain(ft),Qe=ft.map(ot),Pt},Pt.ticks=function(){var ft=Xo(Qe),Ht=[],er=ft[0],nr=ft[1],Rr=Math.floor(nt(er)),Lr=Math.ceil(nt(nr)),Jr=Re%1?2:Re;if(isFinite(Lr-Rr)){if(Ge){for(;Rr<Lr;Rr++)for(var an=1;an<Jr;an++)Ht.push(ot(Rr)*an);Ht.push(ot(Rr))}else for(Ht.push(ot(Rr));Rr++<Lr;)for(var an=Jr-1;an>0;an--)Ht.push(ot(Rr)*an);for(Rr=0;Ht[Rr]<er;Rr++);for(Lr=Ht.length;Ht[Lr-1]>nr;Lr--);Ht=Ht.slice(Rr,Lr)}return Ht},Pt.copy=function(){return yc(fe.copy(),Re,Ge,Qe)},gc(Pt,fe)}var rh={floor:function(fe){return-Math.ceil(-fe)},ceil:function(fe){return-Math.floor(-fe)}};a.scale.pow=function(){return Wl(a.scale.linear(),1,[0,1])};function Wl(fe,Re,Ge){var Qe=Ef(Re),nt=Ef(1/Re);function ot(Pt){return fe(Qe(Pt))}return ot.invert=function(Pt){return nt(fe.invert(Pt))},ot.domain=function(Pt){return arguments.length?(fe.domain((Ge=Pt.map(Number)).map(Qe)),ot):Ge},ot.ticks=function(Pt){return Ns(Ge,Pt)},ot.tickFormat=function(Pt,ft){return d3_scale_linearTickFormat(Ge,Pt,ft)},ot.nice=function(Pt){return ot.domain(Tl(Ge,Pt))},ot.exponent=function(Pt){return arguments.length?(Qe=Ef(Re=Pt),nt=Ef(1/Re),fe.domain(Ge.map(Qe)),ot):Re},ot.copy=function(){return Wl(fe.copy(),Re,Ge)},gc(ot,fe)}function Ef(fe){return function(Re){return Re<0?-Math.pow(-Re,fe):Math.pow(Re,fe)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Ts([],{t:"range",a:[[]]})};function Ts(fe,Re){var Ge,Qe,nt;function ot(ft){return Qe[((Ge.get(ft)||(Re.t==="range"?Ge.set(ft,fe.push(ft)):NaN))-1)%Qe.length]}function Pt(ft,Ht){return a.range(fe.length).map(function(er){return ft+Ht*er})}return ot.domain=function(ft){if(!arguments.length)return fe;fe=[],Ge=new R;for(var Ht=-1,er=ft.length,nr;++Ht<er;)Ge.has(nr=ft[Ht])||Ge.set(nr,fe.push(nr));return ot[Re.t].apply(ot,Re.a)},ot.range=function(ft){return arguments.length?(Qe=ft,nt=0,Re={t:"range",a:arguments},ot):Qe},ot.rangePoints=function(ft,Ht){arguments.length<2&&(Ht=0);var er=ft[0],nr=ft[1],Rr=fe.length<2?(er=(er+nr)/2,0):(nr-er)/(fe.length-1+Ht);return Qe=Pt(er+Rr*Ht/2,Rr),nt=0,Re={t:"rangePoints",a:arguments},ot},ot.rangeRoundPoints=function(ft,Ht){arguments.length<2&&(Ht=0);var er=ft[0],nr=ft[1],Rr=fe.length<2?(er=nr=Math.round((er+nr)/2),0):(nr-er)/(fe.length-1+Ht)|0;return Qe=Pt(er+Math.round(Rr*Ht/2+(nr-er-(fe.length-1+Ht)*Rr)/2),Rr),nt=0,Re={t:"rangeRoundPoints",a:arguments},ot},ot.rangeBands=function(ft,Ht,er){arguments.length<2&&(Ht=0),arguments.length<3&&(er=Ht);var nr=ft[1]<ft[0],Rr=ft[nr-0],Lr=ft[1-nr],Jr=(Lr-Rr)/(fe.length-Ht+2*er);return Qe=Pt(Rr+Jr*er,Jr),nr&&Qe.reverse(),nt=Jr*(1-Ht),Re={t:"rangeBands",a:arguments},ot},ot.rangeRoundBands=function(ft,Ht,er){arguments.length<2&&(Ht=0),arguments.length<3&&(er=Ht);var nr=ft[1]<ft[0],Rr=ft[nr-0],Lr=ft[1-nr],Jr=Math.floor((Lr-Rr)/(fe.length-Ht+2*er));return Qe=Pt(Rr+Math.round((Lr-Rr-(fe.length-Ht)*Jr)/2),Jr),nr&&Qe.reverse(),nt=Math.round(Jr*(1-Ht)),Re={t:"rangeRoundBands",a:arguments},ot},ot.rangeBand=function(){return nt},ot.rangeExtent=function(){return Xo(Re.a[0])},ot.copy=function(){return Ts(fe,Re)},ot.domain(fe)}a.scale.category10=function(){return a.scale.ordinal().range(Cf)},a.scale.category20=function(){return a.scale.ordinal().range(il)},a.scale.category20b=function(){return a.scale.ordinal().range(ol)},a.scale.category20c=function(){return a.scale.ordinal().range(mc)};var Cf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),il=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),ol=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),mc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);a.scale.quantile=function(){return xu([],[])};function xu(fe,Re){var Ge;function Qe(){var ot=0,Pt=Re.length;for(Ge=[];++ot<Pt;)Ge[ot-1]=a.quantile(fe,ot/Pt);return nt}function nt(ot){if(!isNaN(ot=+ot))return Re[a.bisect(Ge,ot)]}return nt.domain=function(ot){return arguments.length?(fe=ot.map(m).filter(v).sort(f),Qe()):fe},nt.range=function(ot){return arguments.length?(Re=ot,Qe()):Re},nt.quantiles=function(){return Ge},nt.invertExtent=function(ot){return ot=Re.indexOf(ot),ot<0?[NaN,NaN]:[ot>0?Ge[ot-1]:fe[0],ot<Ge.length?Ge[ot]:fe[fe.length-1]]},nt.copy=function(){return xu(fe,Re)},Qe()}a.scale.quantize=function(){return pi(0,1,[0,1])};function pi(fe,Re,Ge){var Qe,nt;function ot(ft){return Ge[Math.max(0,Math.min(nt,Math.floor(Qe*(ft-fe))))]}function Pt(){return Qe=Ge.length/(Re-fe),nt=Ge.length-1,ot}return ot.domain=function(ft){return arguments.length?(fe=+ft[0],Re=+ft[ft.length-1],Pt()):[fe,Re]},ot.range=function(ft){return arguments.length?(Ge=ft,Pt()):Ge},ot.invertExtent=function(ft){return ft=Ge.indexOf(ft),ft=ft<0?NaN:ft/Qe+fe,[ft,ft+1/Qe]},ot.copy=function(){return pi(fe,Re,Ge)},Pt()}a.scale.threshold=function(){return jl([.5],[0,1])};function jl(fe,Re){function Ge(Qe){if(Qe<=Qe)return Re[a.bisect(fe,Qe)]}return Ge.domain=function(Qe){return arguments.length?(fe=Qe,Ge):fe},Ge.range=function(Qe){return arguments.length?(Re=Qe,Ge):Re},Ge.invertExtent=function(Qe){return Qe=Re.indexOf(Qe),[fe[Qe-1],fe[Qe]]},Ge.copy=function(){return jl(fe,Re)},Ge}a.scale.identity=function(){return Lf([0,1])};function Lf(fe){function Re(Ge){return+Ge}return Re.invert=Re,Re.domain=Re.range=function(Ge){return arguments.length?(fe=Ge.map(Re),Re):fe},Re.ticks=function(Ge){return Ns(fe,Ge)},Re.tickFormat=function(Ge,Qe){return d3_scale_linearTickFormat(fe,Ge,Qe)},Re.copy=function(){return Lf(fe)},Re}a.svg={};function Pf(){return 0}a.svg.arc=function(){var fe=xv,Re=xc,Ge=Pf,Qe=Al,nt=bu,ot=bc,Pt=nh;function ft(){var er=Math.max(0,+fe.apply(this,arguments)),nr=Math.max(0,+Re.apply(this,arguments)),Rr=nt.apply(this,arguments)-qe,Lr=ot.apply(this,arguments)-qe,Jr=Math.abs(Lr-Rr),an=Rr>Lr?0:1;if(nr<er&&(kr=nr,nr=er,er=kr),Jr>=Ke)return Ht(nr,an)+(er?Ht(er,1-an):"")+"Z";var kr,Ur,$r,sn,vn=0,Kr=0,Hn,Yn,ea,la,Aa,Ta,ja,Ra,Va=[];if((sn=(+Pt.apply(this,arguments)||0)/2)&&($r=Qe===Al?Math.sqrt(er*er+nr*nr):+Qe.apply(this,arguments),an||(Kr*=-1),nr&&(Kr=qt($r/nr*Math.sin(sn))),er&&(vn=qt($r/er*Math.sin(sn)))),nr){Hn=nr*Math.cos(Rr+Kr),Yn=nr*Math.sin(Rr+Kr),ea=nr*Math.cos(Lr-Kr),la=nr*Math.sin(Lr-Kr);var ni=Math.abs(Lr-Rr-2*Kr)<=Pe?0:1;if(Kr&&sl(Hn,Yn,ea,la)===an^ni){var si=(Rr+Lr)/2;Hn=nr*Math.cos(si),Yn=nr*Math.sin(si),ea=la=null}}else Hn=Yn=0;if(er){Aa=er*Math.cos(Lr-vn),Ta=er*Math.sin(Lr-vn),ja=er*Math.cos(Rr+vn),Ra=er*Math.sin(Rr+vn);var gi=Math.abs(Rr-Lr+2*vn)<=Pe?0:1;if(vn&&sl(Aa,Ta,ja,Ra)===1-an^gi){var Gn=(Rr+Lr)/2;Aa=er*Math.cos(Gn),Ta=er*Math.sin(Gn),ja=Ra=null}}else Aa=Ta=0;if(Jr>xe&&(kr=Math.min(Math.abs(nr-er)/2,+Ge.apply(this,arguments)))>.001){Ur=er<nr^an?0:1;var Ga=kr,Ua=kr;if(Jr<Pe){var Qa=ja==null?[Aa,Ta]:ea==null?[Hn,Yn]:mn([Hn,Yn],[ja,Ra],[ea,la],[Aa,Ta]),zi=Hn-Qa[0],Ki=Yn-Qa[1],to=ea-Qa[0],Di=la-Qa[1],bi=1/Math.sin(Math.acos((zi*to+Ki*Di)/(Math.sqrt(zi*zi+Ki*Ki)*Math.sqrt(to*to+Di*Di)))/2),xa=Math.sqrt(Qa[0]*Qa[0]+Qa[1]*Qa[1]);Ua=Math.min(kr,(er-xa)/(bi-1)),Ga=Math.min(kr,(nr-xa)/(bi+1))}if(ea!=null){var La=Sl(ja==null?[Aa,Ta]:[ja,Ra],[Hn,Yn],nr,Ga,an),Ii=Sl([ea,la],[Aa,Ta],nr,Ga,an);kr===Ga?Va.push("M",La[0],"A",Ga,",",Ga," 0 0,",Ur," ",La[1],"A",nr,",",nr," 0 ",1-an^sl(La[1][0],La[1][1],Ii[1][0],Ii[1][1]),",",an," ",Ii[1],"A",Ga,",",Ga," 0 0,",Ur," ",Ii[0]):Va.push("M",La[0],"A",Ga,",",Ga," 0 1,",Ur," ",Ii[0])}else Va.push("M",Hn,",",Yn);if(ja!=null){var eo=Sl([Hn,Yn],[ja,Ra],er,-Ua,an),is=Sl([Aa,Ta],ea==null?[Hn,Yn]:[ea,la],er,-Ua,an);kr===Ua?Va.push("L",is[0],"A",Ua,",",Ua," 0 0,",Ur," ",is[1],"A",er,",",er," 0 ",an^sl(is[1][0],is[1][1],eo[1][0],eo[1][1]),",",1-an," ",eo[1],"A",Ua,",",Ua," 0 0,",Ur," ",eo[0]):Va.push("L",is[0],"A",Ua,",",Ua," 0 0,",Ur," ",eo[0])}else Va.push("L",Aa,",",Ta)}else Va.push("M",Hn,",",Yn),ea!=null&&Va.push("A",nr,",",nr," 0 ",ni,",",an," ",ea,",",la),Va.push("L",Aa,",",Ta),ja!=null&&Va.push("A",er,",",er," 0 ",gi,",",1-an," ",ja,",",Ra);return Va.push("Z"),Va.join("")}function Ht(er,nr){return"M0,"+er+"A"+er+","+er+" 0 1,"+nr+" 0,"+-er+"A"+er+","+er+" 0 1,"+nr+" 0,"+er}return ft.innerRadius=function(er){return arguments.length?(fe=tn(er),ft):fe},ft.outerRadius=function(er){return arguments.length?(Re=tn(er),ft):Re},ft.cornerRadius=function(er){return arguments.length?(Ge=tn(er),ft):Ge},ft.padRadius=function(er){return arguments.length?(Qe=er==Al?Al:tn(er),ft):Qe},ft.startAngle=function(er){return arguments.length?(nt=tn(er),ft):nt},ft.endAngle=function(er){return arguments.length?(ot=tn(er),ft):ot},ft.padAngle=function(er){return arguments.length?(Pt=tn(er),ft):Pt},ft.centroid=function(){var er=(+fe.apply(this,arguments)+ +Re.apply(this,arguments))/2,nr=(+nt.apply(this,arguments)+ +ot.apply(this,arguments))/2-qe;return[Math.cos(nr)*er,Math.sin(nr)*er]},ft};var Al="auto";function xv(fe){return fe.innerRadius}function xc(fe){return fe.outerRadius}function bu(fe){return fe.startAngle}function bc(fe){return fe.endAngle}function nh(fe){return fe&&fe.padAngle}function sl(fe,Re,Ge,Qe){return(fe-Ge)*Re-(Re-Qe)*fe>0?0:1}function Sl(fe,Re,Ge,Qe,nt){var ot=fe[0]-Re[0],Pt=fe[1]-Re[1],ft=(nt?Qe:-Qe)/Math.sqrt(ot*ot+Pt*Pt),Ht=ft*Pt,er=-ft*ot,nr=fe[0]+Ht,Rr=fe[1]+er,Lr=Re[0]+Ht,Jr=Re[1]+er,an=(nr+Lr)/2,kr=(Rr+Jr)/2,Ur=Lr-nr,$r=Jr-Rr,sn=Ur*Ur+$r*$r,vn=Ge-Qe,Kr=nr*Jr-Lr*Rr,Hn=($r<0?-1:1)*Math.sqrt(Math.max(0,vn*vn*sn-Kr*Kr)),Yn=(Kr*$r-Ur*Hn)/sn,ea=(-Kr*Ur-$r*Hn)/sn,la=(Kr*$r+Ur*Hn)/sn,Aa=(-Kr*Ur+$r*Hn)/sn,Ta=Yn-an,ja=ea-kr,Ra=la-an,Va=Aa-kr;return Ta*Ta+ja*ja>Ra*Ra+Va*Va&&(Yn=la,ea=Aa),[[Yn-Ht,ea-er],[Yn*Ge/vn,ea*Ge/vn]]}function Yl(){return!0}function Zl(fe){var Re=qn,Ge=jn,Qe=Yl,nt=as,ot=nt.key,Pt=.7;function ft(Ht){var er=[],nr=[],Rr=-1,Lr=Ht.length,Jr,an=tn(Re),kr=tn(Ge);function Ur(){er.push("M",nt(fe(nr),Pt))}for(;++Rr<Lr;)Qe.call(this,Jr=Ht[Rr],Rr)?nr.push([+an.call(this,Jr,Rr),+kr.call(this,Jr,Rr)]):nr.length&&(Ur(),nr=[]);return nr.length&&Ur(),er.length?er.join(""):null}return ft.x=function(Ht){return arguments.length?(Re=Ht,ft):Re},ft.y=function(Ht){return arguments.length?(Ge=Ht,ft):Ge},ft.defined=function(Ht){return arguments.length?(Qe=Ht,ft):Qe},ft.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?ot=nt=Ht:ot=(nt=$o.get(Ht)||as).key,ft):ot},ft.tension=function(Ht){return arguments.length?(Pt=Ht,ft):Pt},ft}a.svg.line=function(){return Zl(U)};var $o=a.map({linear:as,"linear-closed":Xl,step:ah,"step-before":wu,"step-after":Rf,basis:ll,"basis-open":bv,"basis-closed":Tc,bundle:Df,cardinal:wc,"cardinal-open":ih,"cardinal-closed":As,monotone:Ac});$o.forEach(function(fe,Re){Re.key=fe,Re.closed=/-closed$/.test(fe)});function as(fe){return fe.length>1?fe.join("L"):fe+"Z"}function Xl(fe){return fe.join("L")+"Z"}function ah(fe){for(var Re=0,Ge=fe.length,Qe=fe[0],nt=[Qe[0],",",Qe[1]];++Re<Ge;)nt.push("H",(Qe[0]+(Qe=fe[Re])[0])/2,"V",Qe[1]);return Ge>1&&nt.push("H",Qe[0]),nt.join("")}function wu(fe){for(var Re=0,Ge=fe.length,Qe=fe[0],nt=[Qe[0],",",Qe[1]];++Re<Ge;)nt.push("V",(Qe=fe[Re])[1],"H",Qe[0]);return nt.join("")}function Rf(fe){for(var Re=0,Ge=fe.length,Qe=fe[0],nt=[Qe[0],",",Qe[1]];++Re<Ge;)nt.push("H",(Qe=fe[Re])[0],"V",Qe[1]);return nt.join("")}function ih(fe,Re){return fe.length<4?as(fe):fe[1]+Ml(fe.slice(1,-1),Qu(fe,Re))}function As(fe,Re){return fe.length<3?Xl(fe):fe[0]+Ml((fe.push(fe[0]),fe),Qu([fe[fe.length-2]].concat(fe,[fe[1]]),Re))}function wc(fe,Re){return fe.length<3?as(fe):fe[0]+Ml(fe,Qu(fe,Re))}function Ml(fe,Re){if(Re.length<1||fe.length!=Re.length&&fe.length!=Re.length+2)return as(fe);var Ge=fe.length!=Re.length,Qe="",nt=fe[0],ot=fe[1],Pt=Re[0],ft=Pt,Ht=1;if(Ge&&(Qe+="Q"+(ot[0]-Pt[0]*2/3)+","+(ot[1]-Pt[1]*2/3)+","+ot[0]+","+ot[1],nt=fe[1],Ht=2),Re.length>1){ft=Re[1],ot=fe[Ht],Ht++,Qe+="C"+(nt[0]+Pt[0])+","+(nt[1]+Pt[1])+","+(ot[0]-ft[0])+","+(ot[1]-ft[1])+","+ot[0]+","+ot[1];for(var er=2;er<Re.length;er++,Ht++)ot=fe[Ht],ft=Re[er],Qe+="S"+(ot[0]-ft[0])+","+(ot[1]-ft[1])+","+ot[0]+","+ot[1]}if(Ge){var nr=fe[Ht];Qe+="Q"+(ot[0]+ft[0]*2/3)+","+(ot[1]+ft[1]*2/3)+","+nr[0]+","+nr[1]}return Qe}function Qu(fe,Re){for(var Ge=[],Qe=(1-Re)/2,nt,ot=fe[0],Pt=fe[1],ft=1,Ht=fe.length;++ft<Ht;)nt=ot,ot=Pt,Pt=fe[ft],Ge.push([Qe*(Pt[0]-nt[0]),Qe*(Pt[1]-nt[1])]);return Ge}function ll(fe){if(fe.length<3)return as(fe);var Re=1,Ge=fe.length,Qe=fe[0],nt=Qe[0],ot=Qe[1],Pt=[nt,nt,nt,(Qe=fe[1])[0]],ft=[ot,ot,ot,Qe[1]],Ht=[nt,",",ot,"L",Io(Us,Pt),",",Io(Us,ft)];for(fe.push(fe[Ge-1]);++Re<=Ge;)Qe=fe[Re],Pt.shift(),Pt.push(Qe[0]),ft.shift(),ft.push(Qe[1]),ef(Ht,Pt,ft);return fe.pop(),Ht.push("L",Qe),Ht.join("")}function bv(fe){if(fe.length<4)return as(fe);for(var Re=[],Ge=-1,Qe=fe.length,nt,ot=[0],Pt=[0];++Ge<3;)nt=fe[Ge],ot.push(nt[0]),Pt.push(nt[1]);for(Re.push(Io(Us,ot)+","+Io(Us,Pt)),--Ge;++Ge<Qe;)nt=fe[Ge],ot.shift(),ot.push(nt[0]),Pt.shift(),Pt.push(nt[1]),ef(Re,ot,Pt);return Re.join("")}function Tc(fe){for(var Re,Ge=-1,Qe=fe.length,nt=Qe+4,ot,Pt=[],ft=[];++Ge<4;)ot=fe[Ge%Qe],Pt.push(ot[0]),ft.push(ot[1]);for(Re=[Io(Us,Pt),",",Io(Us,ft)],--Ge;++Ge<nt;)ot=fe[Ge%Qe],Pt.shift(),Pt.push(ot[0]),ft.shift(),ft.push(ot[1]),ef(Re,Pt,ft);return Re.join("")}function Df(fe,Re){var Ge=fe.length-1;if(Ge)for(var Qe=fe[0][0],nt=fe[0][1],ot=fe[Ge][0]-Qe,Pt=fe[Ge][1]-nt,ft=-1,Ht,er;++ft<=Ge;)Ht=fe[ft],er=ft/Ge,Ht[0]=Re*Ht[0]+(1-Re)*(Qe+er*ot),Ht[1]=Re*Ht[1]+(1-Re)*(nt+er*Pt);return ll(fe)}function Io(fe,Re){return fe[0]*Re[0]+fe[1]*Re[1]+fe[2]*Re[2]+fe[3]*Re[3]}var oh=[0,2/3,1/3,0],qu=[0,1/3,2/3,0],Us=[0,1/6,2/3,1/6];function ef(fe,Re,Ge){fe.push("C",Io(oh,Re),",",Io(oh,Ge),",",Io(qu,Re),",",Io(qu,Ge),",",Io(Us,Re),",",Io(Us,Ge))}function El(fe,Re){return(Re[1]-fe[1])/(Re[0]-fe[0])}function If(fe){for(var Re=0,Ge=fe.length-1,Qe=[],nt=fe[0],ot=fe[1],Pt=Qe[0]=El(nt,ot);++Re<Ge;)Qe[Re]=(Pt+(Pt=El(nt=ot,ot=fe[Re+1])))/2;return Qe[Re]=Pt,Qe}function sh(fe){for(var Re=[],Ge,Qe,nt,ot,Pt=If(fe),ft=-1,Ht=fe.length-1;++ft<Ht;)Ge=El(fe[ft],fe[ft+1]),y(Ge)<xe?Pt[ft]=Pt[ft+1]=0:(Qe=Pt[ft]/Ge,nt=Pt[ft+1]/Ge,ot=Qe*Qe+nt*nt,ot>9&&(ot=Ge*3/Math.sqrt(ot),Pt[ft]=ot*Qe,Pt[ft+1]=ot*nt));for(ft=-1;++ft<=Ht;)ot=(fe[Math.min(Ht,ft+1)][0]-fe[Math.max(0,ft-1)][0])/(6*(1+Pt[ft]*Pt[ft])),Re.push([ot||0,Pt[ft]*ot||0]);return Re}function Ac(fe){return fe.length<3?as(fe):fe[0]+Ml(fe,sh(fe))}a.svg.line.radial=function(){var fe=Zl(Sc);return fe.radius=fe.x,delete fe.x,fe.angle=fe.y,delete fe.y,fe};function Sc(fe){for(var Re,Ge=-1,Qe=fe.length,nt,ot;++Ge<Qe;)Re=fe[Ge],nt=Re[0],ot=Re[1]-qe,Re[0]=nt*Math.cos(ot),Re[1]=nt*Math.sin(ot);return fe}function $l(fe){var Re=qn,Ge=qn,Qe=0,nt=jn,ot=Yl,Pt=as,ft=Pt.key,Ht=Pt,er="L",nr=.7;function Rr(Lr){var Jr=[],an=[],kr=[],Ur=-1,$r=Lr.length,sn,vn=tn(Re),Kr=tn(Qe),Hn=Re===Ge?function(){return ea}:tn(Ge),Yn=Qe===nt?function(){return la}:tn(nt),ea,la;function Aa(){Jr.push("M",Pt(fe(kr),nr),er,Ht(fe(an.reverse()),nr),"Z")}for(;++Ur<$r;)ot.call(this,sn=Lr[Ur],Ur)?(an.push([ea=+vn.call(this,sn,Ur),la=+Kr.call(this,sn,Ur)]),kr.push([+Hn.call(this,sn,Ur),+Yn.call(this,sn,Ur)])):an.length&&(Aa(),an=[],kr=[]);return an.length&&Aa(),Jr.length?Jr.join(""):null}return Rr.x=function(Lr){return arguments.length?(Re=Ge=Lr,Rr):Ge},Rr.x0=function(Lr){return arguments.length?(Re=Lr,Rr):Re},Rr.x1=function(Lr){return arguments.length?(Ge=Lr,Rr):Ge},Rr.y=function(Lr){return arguments.length?(Qe=nt=Lr,Rr):nt},Rr.y0=function(Lr){return arguments.length?(Qe=Lr,Rr):Qe},Rr.y1=function(Lr){return arguments.length?(nt=Lr,Rr):nt},Rr.defined=function(Lr){return arguments.length?(ot=Lr,Rr):ot},Rr.interpolate=function(Lr){return arguments.length?(typeof Lr=="function"?ft=Pt=Lr:ft=(Pt=$o.get(Lr)||as).key,Ht=Pt.reverse||Pt,er=Pt.closed?"M":"L",Rr):ft},Rr.tension=function(Lr){return arguments.length?(nr=Lr,Rr):nr},Rr}wu.reverse=Rf,Rf.reverse=wu,a.svg.area=function(){return $l(U)},a.svg.area.radial=function(){var fe=$l(Sc);return fe.radius=fe.x,delete fe.x,fe.innerRadius=fe.x0,delete fe.x0,fe.outerRadius=fe.x1,delete fe.x1,fe.angle=fe.y,delete fe.y,fe.startAngle=fe.y0,delete fe.y0,fe.endAngle=fe.y1,delete fe.y1,fe};function kf(fe){return fe.source}function tf(fe){return fe.target}a.svg.chord=function(){var fe=kf,Re=tf,Ge=lh,Qe=bu,nt=bc;function ot(nr,Rr){var Lr=Pt(this,fe,nr,Rr),Jr=Pt(this,Re,nr,Rr);return"M"+Lr.p0+Ht(Lr.r,Lr.p1,Lr.a1-Lr.a0)+(ft(Lr,Jr)?er(Lr.r,Lr.p1,Lr.r,Lr.p0):er(Lr.r,Lr.p1,Jr.r,Jr.p0)+Ht(Jr.r,Jr.p1,Jr.a1-Jr.a0)+er(Jr.r,Jr.p1,Lr.r,Lr.p0))+"Z"}function Pt(nr,Rr,Lr,Jr){var an=Rr.call(nr,Lr,Jr),kr=Ge.call(nr,an,Jr),Ur=Qe.call(nr,an,Jr)-qe,$r=nt.call(nr,an,Jr)-qe;return{r:kr,a0:Ur,a1:$r,p0:[kr*Math.cos(Ur),kr*Math.sin(Ur)],p1:[kr*Math.cos($r),kr*Math.sin($r)]}}function ft(nr,Rr){return nr.a0==Rr.a0&&nr.a1==Rr.a1}function Ht(nr,Rr,Lr){return"A"+nr+","+nr+" 0 "+ +(Lr>Pe)+",1 "+Rr}function er(nr,Rr,Lr,Jr){return"Q 0,0 "+Jr}return ot.radius=function(nr){return arguments.length?(Ge=tn(nr),ot):Ge},ot.source=function(nr){return arguments.length?(fe=tn(nr),ot):fe},ot.target=function(nr){return arguments.length?(Re=tn(nr),ot):Re},ot.startAngle=function(nr){return arguments.length?(Qe=tn(nr),ot):Qe},ot.endAngle=function(nr){return arguments.length?(nt=tn(nr),ot):nt},ot};function lh(fe){return fe.radius}a.svg.diagonal=function(){var fe=kf,Re=tf,Ge=rf;function Qe(nt,ot){var Pt=fe.call(this,nt,ot),ft=Re.call(this,nt,ot),Ht=(Pt.y+ft.y)/2,er=[Pt,{x:Pt.x,y:Ht},{x:ft.x,y:Ht},ft];return er=er.map(Ge),"M"+er[0]+"C"+er[1]+" "+er[2]+" "+er[3]}return Qe.source=function(nt){return arguments.length?(fe=tn(nt),Qe):fe},Qe.target=function(nt){return arguments.length?(Re=tn(nt),Qe):Re},Qe.projection=function(nt){return arguments.length?(Ge=nt,Qe):Ge},Qe};function rf(fe){return[fe.x,fe.y]}a.svg.diagonal.radial=function(){var fe=a.svg.diagonal(),Re=rf,Ge=fe.projection;return fe.projection=function(Qe){return arguments.length?Ge(uh(Re=Qe)):Re},fe};function uh(fe){return function(){var Re=fe.apply(this,arguments),Ge=Re[0],Qe=Re[1]-qe;return[Ge*Math.cos(Qe),Ge*Math.sin(Qe)]}}a.svg.symbol=function(){var fe=it,Re=Xe;function Ge(Qe,nt){return(mt.get(fe.call(this,Qe,nt))||ht)(Re.call(this,Qe,nt))}return Ge.type=function(Qe){return arguments.length?(fe=tn(Qe),Ge):fe},Ge.size=function(Qe){return arguments.length?(Re=tn(Qe),Ge):Re},Ge};function Xe(){return 64}function it(){return"circle"}function ht(fe){var Re=Math.sqrt(fe/Pe);return"M0,"+Re+"A"+Re+","+Re+" 0 1,1 0,"+-Re+"A"+Re+","+Re+" 0 1,1 0,"+Re+"Z"}var mt=a.map({circle:ht,cross:function(fe){var Re=Math.sqrt(fe/5)/2;return"M"+-3*Re+","+-Re+"H"+-Re+"V"+-3*Re+"H"+Re+"V"+-Re+"H"+3*Re+"V"+Re+"H"+Re+"V"+3*Re+"H"+-Re+"V"+Re+"H"+-3*Re+"Z"},diamond:function(fe){var Re=Math.sqrt(fe/(2*Lt)),Ge=Re*Lt;return"M0,"+-Re+"L"+Ge+",0 0,"+Re+" "+-Ge+",0Z"},square:function(fe){var Re=Math.sqrt(fe)/2;return"M"+-Re+","+-Re+"L"+Re+","+-Re+" "+Re+","+Re+" "+-Re+","+Re+"Z"},"triangle-down":function(fe){var Re=Math.sqrt(fe/Ft),Ge=Re*Ft/2;return"M0,"+Ge+"L"+Re+","+-Ge+" "+-Re+","+-Ge+"Z"},"triangle-up":function(fe){var Re=Math.sqrt(fe/Ft),Ge=Re*Ft/2;return"M0,"+-Ge+"L"+Re+","+Ge+" "+-Re+","+Ge+"Z"}});a.svg.symbolTypes=mt.keys();var Ft=Math.sqrt(3),Lt=Math.tan(30*vt);ee.transition=function(fe){for(var Re=Dr||++Ar,Ge=Sn(fe),Qe=[],nt,ot,Pt=Zr||{time:Date.now(),ease:rv,delay:0,duration:250},ft=-1,Ht=this.length;++ft<Ht;){Qe.push(nt=[]);for(var er=this[ft],nr=-1,Rr=er.length;++nr<Rr;)(ot=er[nr])&&kn(ot,nr,Ge,Re,Pt),nt.push(ot)}return yr(Qe,Ge,Re)},ee.interrupt=function(fe){return this.each(fe==null?Ot:cr(Sn(fe)))};var Ot=cr(Sn());function cr(fe){return function(){var Re,Ge,Qe;(Re=this[fe])&&(Qe=Re[Ge=Re.active])&&(Qe.timer.c=null,Qe.timer.t=NaN,--Re.count?delete Re[Ge]:delete this[fe],Re.active+=.5,Qe.event&&Qe.event.interrupt.call(this,this.__data__,Qe.index))}}function yr(fe,Re,Ge){return $(fe,ar),fe.namespace=Re,fe.id=Ge,fe}var ar=[],Ar=0,Dr,Zr;ar.call=ee.call,ar.empty=ee.empty,ar.node=ee.node,ar.size=ee.size,a.transition=function(fe,Re){return fe&&fe.transition?Dr?fe.transition(Re):fe:a.selection().transition(fe)},a.transition.prototype=ar,ar.select=function(fe){var Re=this.id,Ge=this.namespace,Qe=[],nt,ot,Pt;fe=ue(fe);for(var ft=-1,Ht=this.length;++ft<Ht;){Qe.push(nt=[]);for(var er=this[ft],nr=-1,Rr=er.length;++nr<Rr;)(Pt=er[nr])&&(ot=fe.call(Pt,Pt.__data__,nr,ft))?("__data__"in Pt&&(ot.__data__=Pt.__data__),kn(ot,nr,Ge,Re,Pt[Ge][Re]),nt.push(ot)):nt.push(null)}return yr(Qe,Ge,Re)},ar.selectAll=function(fe){var Re=this.id,Ge=this.namespace,Qe=[],nt,ot,Pt,ft,Ht;fe=se(fe);for(var er=-1,nr=this.length;++er<nr;)for(var Rr=this[er],Lr=-1,Jr=Rr.length;++Lr<Jr;)if(Pt=Rr[Lr]){Ht=Pt[Ge][Re],ot=fe.call(Pt,Pt.__data__,Lr,er),Qe.push(nt=[]);for(var an=-1,kr=ot.length;++an<kr;)(ft=ot[an])&&kn(ft,an,Ge,Re,Ht),nt.push(ft)}return yr(Qe,Ge,Re)},ar.filter=function(fe){var Re=[],Ge,Qe,nt;typeof fe!="function"&&(fe=rt(fe));for(var ot=0,Pt=this.length;ot<Pt;ot++){Re.push(Ge=[]);for(var Qe=this[ot],ft=0,Ht=Qe.length;ft<Ht;ft++)(nt=Qe[ft])&&fe.call(nt,nt.__data__,ft,ot)&&Ge.push(nt)}return yr(Re,this.namespace,this.id)},ar.tween=function(fe,Re){var Ge=this.id,Qe=this.namespace;return arguments.length<2?this.node()[Qe][Ge].tween.get(fe):tt(this,Re==null?function(nt){nt[Qe][Ge].tween.remove(fe)}:function(nt){nt[Qe][Ge].tween.set(fe,Re)})};function Qr(fe,Re,Ge,Qe){var nt=fe.id,ot=fe.namespace;return tt(fe,typeof Ge=="function"?function(Pt,ft,Ht){Pt[ot][nt].tween.set(Re,Qe(Ge.call(Pt,Pt.__data__,ft,Ht)))}:(Ge=Qe(Ge),function(Pt){Pt[ot][nt].tween.set(Re,Ge)}))}ar.attr=function(fe,Re){if(arguments.length<2){for(Re in fe)this.attr(Re,fe[Re]);return this}var Ge=fe=="transform"?Hl:qs,Qe=a.ns.qualify(fe);function nt(){this.removeAttribute(Qe)}function ot(){this.removeAttributeNS(Qe.space,Qe.local)}function Pt(Ht){return Ht==null?nt:(Ht+="",function(){var er=this.getAttribute(Qe),nr;return er!==Ht&&(nr=Ge(er,Ht),function(Rr){this.setAttribute(Qe,nr(Rr))})})}function ft(Ht){return Ht==null?ot:(Ht+="",function(){var er=this.getAttributeNS(Qe.space,Qe.local),nr;return er!==Ht&&(nr=Ge(er,Ht),function(Rr){this.setAttributeNS(Qe.space,Qe.local,nr(Rr))})})}return Qr(this,"attr."+fe,Re,Qe.local?ft:Pt)},ar.attrTween=function(fe,Re){var Ge=a.ns.qualify(fe);function Qe(ot,Pt){var ft=Re.call(this,ot,Pt,this.getAttribute(Ge));return ft&&function(Ht){this.setAttribute(Ge,ft(Ht))}}function nt(ot,Pt){var ft=Re.call(this,ot,Pt,this.getAttributeNS(Ge.space,Ge.local));return ft&&function(Ht){this.setAttributeNS(Ge.space,Ge.local,ft(Ht))}}return this.tween("attr."+fe,Ge.local?nt:Qe)},ar.style=function(fe,Re,Ge){var Qe=arguments.length;if(Qe<3){if(typeof fe!="string"){Qe<2&&(Re="");for(Ge in fe)this.style(Ge,fe[Ge],Re);return this}Ge=""}function nt(){this.style.removeProperty(fe)}function ot(Pt){return Pt==null?nt:(Pt+="",function(){var ft=t(this).getComputedStyle(this,null).getPropertyValue(fe),Ht;return ft!==Pt&&(Ht=qs(ft,Pt),function(er){this.style.setProperty(fe,Ht(er),Ge)})})}return Qr(this,"style."+fe,Re,ot)},ar.styleTween=function(fe,Re,Ge){arguments.length<3&&(Ge="");function Qe(nt,ot){var Pt=Re.call(this,nt,ot,t(this).getComputedStyle(this,null).getPropertyValue(fe));return Pt&&function(ft){this.style.setProperty(fe,Pt(ft),Ge)}}return this.tween("style."+fe,Qe)},ar.text=function(fe){return Qr(this,"text",fe,wn)};function wn(fe){return fe==null&&(fe=""),function(){this.textContent=fe}}ar.remove=function(){var fe=this.namespace;return this.each("end.transition",function(){var Re;this[fe].count<2&&(Re=this.parentNode)&&Re.removeChild(this)})},ar.ease=function(fe){var Re=this.id,Ge=this.namespace;return arguments.length<1?this.node()[Ge][Re].ease:(typeof fe!="function"&&(fe=a.ease.apply(a,arguments)),tt(this,function(Qe){Qe[Ge][Re].ease=fe}))},ar.delay=function(fe){var Re=this.id,Ge=this.namespace;return arguments.length<1?this.node()[Ge][Re].delay:tt(this,typeof fe=="function"?function(Qe,nt,ot){Qe[Ge][Re].delay=+fe.call(Qe,Qe.__data__,nt,ot)}:(fe=+fe,function(Qe){Qe[Ge][Re].delay=fe}))},ar.duration=function(fe){var Re=this.id,Ge=this.namespace;return arguments.length<1?this.node()[Ge][Re].duration:tt(this,typeof fe=="function"?function(Qe,nt,ot){Qe[Ge][Re].duration=Math.max(1,fe.call(Qe,Qe.__data__,nt,ot))}:(fe=Math.max(1,fe),function(Qe){Qe[Ge][Re].duration=fe}))},ar.each=function(fe,Re){var Ge=this.id,Qe=this.namespace;if(arguments.length<2){var nt=Zr,ot=Dr;try{Dr=Ge,tt(this,function(Pt,ft,Ht){Zr=Pt[Qe][Ge],fe.call(Pt,Pt.__data__,ft,Ht)})}finally{Zr=nt,Dr=ot}}else tt(this,function(Pt){var ft=Pt[Qe][Ge];(ft.event||(ft.event=a.dispatch("start","end","interrupt"))).on(fe,Re)});return this},ar.transition=function(){for(var fe=this.id,Re=++Ar,Ge=this.namespace,Qe=[],nt,ot,Pt,ft,Ht=0,er=this.length;Ht<er;Ht++){Qe.push(nt=[]);for(var ot=this[Ht],nr=0,Rr=ot.length;nr<Rr;nr++)(Pt=ot[nr])&&(ft=Pt[Ge][fe],kn(Pt,nr,Ge,Re,{time:ft.time,ease:ft.ease,delay:ft.delay+ft.duration,duration:ft.duration})),nt.push(Pt)}return yr(Qe,Ge,Re)};function Sn(fe){return fe==null?"__transition__":"__transition_"+fe+"__"}function kn(fe,Re,Ge,Qe,nt){var ot=fe[Ge]||(fe[Ge]={active:0,count:0}),Pt=ot[Qe],ft,Ht,er,nr,Rr;function Lr(kr){var Ur=Pt.delay;if(Ht.t=Ur+ft,Ur<=kr)return Jr(kr-Ur);Ht.c=Jr}function Jr(kr){var Ur=ot.active,$r=ot[Ur];$r&&($r.timer.c=null,$r.timer.t=NaN,--ot.count,delete ot[Ur],$r.event&&$r.event.interrupt.call(fe,fe.__data__,$r.index));for(var sn in ot)if(+sn<Qe){var vn=ot[sn];vn.timer.c=null,vn.timer.t=NaN,--ot.count,delete ot[sn]}Ht.c=an,Rn(function(){return Ht.c&&an(kr||1)&&(Ht.c=null,Ht.t=NaN),1},0,ft),ot.active=Qe,Pt.event&&Pt.event.start.call(fe,fe.__data__,Re),Rr=[],Pt.tween.forEach(function(Kr,Hn){(Hn=Hn.call(fe,fe.__data__,Re))&&Rr.push(Hn)}),nr=Pt.ease,er=Pt.duration}function an(kr){for(var Ur=kr/er,$r=nr(Ur),sn=Rr.length;sn>0;)Rr[--sn].call(fe,$r);if(Ur>=1)return Pt.event&&Pt.event.end.call(fe,fe.__data__,Re),--ot.count?delete ot[Qe]:delete fe[Ge],1}Pt||(ft=nt.time,Ht=Rn(Lr,0,ft),Pt=ot[Qe]={tween:new R,time:ft,timer:Ht,delay:nt.delay,duration:nt.duration,ease:nt.ease,index:Re},nt=null,++ot.count)}a.svg.axis=function(){var fe=a.scale.linear(),Re=pa,Ge=6,Qe=6,nt=3,ot=[10],Pt=null,ft;function Ht(er){er.each(function(){var nr=a.select(this),Rr=this.__chart__||fe,Lr=this.__chart__=fe.copy(),Jr=Pt??(Lr.ticks?Lr.ticks.apply(Lr,ot):Lr.domain()),an=ft??(Lr.tickFormat?Lr.tickFormat.apply(Lr,ot):U),kr=nr.selectAll(".tick").data(Jr,Lr),Ur=kr.enter().insert("g",".domain").attr("class","tick").style("opacity",xe),$r=a.transition(kr.exit()).style("opacity",xe).remove(),sn=a.transition(kr.order()).style("opacity",1),vn=Math.max(Ge,0)+nt,Kr,Hn=Ku(Lr),Yn=nr.selectAll(".domain").data([0]),ea=(Yn.enter().append("path").attr("class","domain"),a.transition(Yn));Ur.append("line"),Ur.append("text");var la=Ur.select("line"),Aa=sn.select("line"),Ta=kr.select("text").text(an),ja=Ur.select("text"),Ra=sn.select("text"),Va=Re==="top"||Re==="left"?-1:1,ni,si,gi,Gn;if(Re==="bottom"||Re==="top"?(Kr=ka,ni="x",gi="y",si="x2",Gn="y2",Ta.attr("dy",Va<0?"0em":".71em").style("text-anchor","middle"),ea.attr("d","M"+Hn[0]+","+Va*Qe+"V0H"+Hn[1]+"V"+Va*Qe)):(Kr=Fa,ni="y",gi="x",si="y2",Gn="x2",Ta.attr("dy",".32em").style("text-anchor",Va<0?"end":"start"),ea.attr("d","M"+Va*Qe+","+Hn[0]+"H0V"+Hn[1]+"H"+Va*Qe)),la.attr(Gn,Va*Ge),ja.attr(gi,Va*vn),Aa.attr(si,0).attr(Gn,Va*Ge),Ra.attr(ni,0).attr(gi,Va*vn),Lr.rangeBand){var Ga=Lr,Ua=Ga.rangeBand()/2;Rr=Lr=function(Qa){return Ga(Qa)+Ua}}else Rr.rangeBand?Rr=Lr:$r.call(Kr,Lr,Rr);Ur.call(Kr,Rr,Lr),sn.call(Kr,Lr,Lr)})}return Ht.scale=function(er){return arguments.length?(fe=er,Ht):fe},Ht.orient=function(er){return arguments.length?(Re=er in Da?er+"":pa,Ht):Re},Ht.ticks=function(){return arguments.length?(ot=w(arguments),Ht):ot},Ht.tickValues=function(er){return arguments.length?(Pt=er,Ht):Pt},Ht.tickFormat=function(er){return arguments.length?(ft=er,Ht):ft},Ht.tickSize=function(er){var nr=arguments.length;return nr?(Ge=+er,Qe=+arguments[nr-1],Ht):Ge},Ht.innerTickSize=function(er){return arguments.length?(Ge=+er,Ht):Ge},Ht.outerTickSize=function(er){return arguments.length?(Qe=+er,Ht):Qe},Ht.tickPadding=function(er){return arguments.length?(nt=+er,Ht):nt},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var pa="bottom",Da={top:1,right:1,bottom:1,left:1};function ka(fe,Re,Ge){fe.attr("transform",function(Qe){var nt=Re(Qe);return"translate("+(isFinite(nt)?nt:Ge(Qe))+",0)"})}function Fa(fe,Re,Ge){fe.attr("transform",function(Qe){var nt=Re(Qe);return"translate(0,"+(isFinite(nt)?nt:Ge(Qe))+")"})}a.svg.brush=function(){var fe=q(nr,"brushstart","brush","brushend"),Re=null,Ge=null,Qe=[0,0],nt=[0,0],ot,Pt,ft=!0,Ht=!0,er=ci[0];function nr(kr){kr.each(function(){var Ur=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",an).on("touchstart.brush",an),$r=Ur.selectAll(".background").data([0]);$r.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ur.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var sn=Ur.selectAll(".resize").data(er,U);sn.exit().remove(),sn.enter().append("g").attr("class",function(Yn){return"resize "+Yn}).style("cursor",function(Yn){return za[Yn]}).append("rect").attr("x",function(Yn){return/[ew]$/.test(Yn)?-3:null}).attr("y",function(Yn){return/^[ns]/.test(Yn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),sn.style("display",nr.empty()?"none":null);var vn=a.transition(Ur),Kr=a.transition($r),Hn;Re&&(Hn=Ku(Re),Kr.attr("x",Hn[0]).attr("width",Hn[1]-Hn[0]),Lr(vn)),Ge&&(Hn=Ku(Ge),Kr.attr("y",Hn[0]).attr("height",Hn[1]-Hn[0]),Jr(vn)),Rr(vn)})}nr.event=function(kr){kr.each(function(){var Ur=fe.of(this,arguments),$r={x:Qe,y:nt,i:ot,j:Pt},sn=this.__chart__||$r;this.__chart__=$r,Dr?a.select(this).transition().each("start.brush",function(){ot=sn.i,Pt=sn.j,Qe=sn.x,nt=sn.y,Ur({type:"brushstart"})}).tween("brush:brush",function(){var vn=xo(Qe,$r.x),Kr=xo(nt,$r.y);return ot=Pt=null,function(Hn){Qe=$r.x=vn(Hn),nt=$r.y=Kr(Hn),Ur({type:"brush",mode:"resize"})}}).each("end.brush",function(){ot=$r.i,Pt=$r.j,Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"})}):(Ur({type:"brushstart"}),Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"}))})};function Rr(kr){kr.selectAll(".resize").attr("transform",function(Ur){return"translate("+Qe[+/e$/.test(Ur)]+","+nt[+/^s/.test(Ur)]+")"})}function Lr(kr){kr.select(".extent").attr("x",Qe[0]),kr.selectAll(".extent,.n>rect,.s>rect").attr("width",Qe[1]-Qe[0])}function Jr(kr){kr.select(".extent").attr("y",nt[0]),kr.selectAll(".extent,.e>rect,.w>rect").attr("height",nt[1]-nt[0])}function an(){var kr=this,Ur=a.select(a.event.target),$r=fe.of(kr,arguments),sn=a.select(kr),vn=Ur.datum(),Kr=!/^(n|s)$/.test(vn)&&Re,Hn=!/^(e|w)$/.test(vn)&&Ge,Yn=Ur.classed("extent"),ea=Fe(kr),la,Aa=a.mouse(kr),Ta,ja=a.select(t(kr)).on("keydown.brush",ni).on("keyup.brush",si);if(a.event.changedTouches?ja.on("touchmove.brush",gi).on("touchend.brush",Ga):ja.on("mousemove.brush",gi).on("mouseup.brush",Ga),sn.interrupt().selectAll("*").interrupt(),Yn)Aa[0]=Qe[0]-Aa[0],Aa[1]=nt[0]-Aa[1];else if(vn){var Ra=+/w$/.test(vn),Va=+/^n/.test(vn);Ta=[Qe[1-Ra]-Aa[0],nt[1-Va]-Aa[1]],Aa[0]=Qe[Ra],Aa[1]=nt[Va]}else a.event.altKey&&(la=Aa.slice());sn.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Ur.style("cursor")),$r({type:"brushstart"}),gi();function ni(){a.event.keyCode==32&&(Yn||(la=null,Aa[0]-=Qe[1],Aa[1]-=nt[1],Yn=2),oe())}function si(){a.event.keyCode==32&&Yn==2&&(Aa[0]+=Qe[1],Aa[1]+=nt[1],Yn=0,oe())}function gi(){var Ua=a.mouse(kr),Qa=!1;Ta&&(Ua[0]+=Ta[0],Ua[1]+=Ta[1]),Yn||(a.event.altKey?(la||(la=[(Qe[0]+Qe[1])/2,(nt[0]+nt[1])/2]),Aa[0]=Qe[+(Ua[0]<la[0])],Aa[1]=nt[+(Ua[1]<la[1])]):la=null),Kr&&Gn(Ua,Re,0)&&(Lr(sn),Qa=!0),Hn&&Gn(Ua,Ge,1)&&(Jr(sn),Qa=!0),Qa&&(Rr(sn),$r({type:"brush",mode:Yn?"move":"resize"}))}function Gn(Ua,Qa,zi){var Ki=Ku(Qa),to=Ki[0],Di=Ki[1],bi=Aa[zi],xa=zi?nt:Qe,La=xa[1]-xa[0],Ii,eo;if(Yn&&(to-=bi,Di-=La+bi),Ii=(zi?Ht:ft)?Math.max(to,Math.min(Di,Ua[zi])):Ua[zi],Yn?eo=(Ii+=bi)+La:(la&&(bi=Math.max(to,Math.min(Di,2*la[zi]-Ii))),bi<Ii?(eo=Ii,Ii=bi):eo=bi),xa[0]!=Ii||xa[1]!=eo)return zi?Pt=null:ot=null,xa[0]=Ii,xa[1]=eo,!0}function Ga(){gi(),sn.style("pointer-events","all").selectAll(".resize").style("display",nr.empty()?"none":null),a.select("body").style("cursor",null),ja.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ea(),$r({type:"brushend"})}}return nr.x=function(kr){return arguments.length?(Re=kr,er=ci[!Re<<1|!Ge],nr):Re},nr.y=function(kr){return arguments.length?(Ge=kr,er=ci[!Re<<1|!Ge],nr):Ge},nr.clamp=function(kr){return arguments.length?(Re&&Ge?(ft=!!kr[0],Ht=!!kr[1]):Re?ft=!!kr:Ge&&(Ht=!!kr),nr):Re&&Ge?[ft,Ht]:Re?ft:Ge?Ht:null},nr.extent=function(kr){var Ur,$r,sn,vn,Kr;return arguments.length?(Re&&(Ur=kr[0],$r=kr[1],Ge&&(Ur=Ur[0],$r=$r[0]),ot=[Ur,$r],Re.invert&&(Ur=Re(Ur),$r=Re($r)),$r<Ur&&(Kr=Ur,Ur=$r,$r=Kr),(Ur!=Qe[0]||$r!=Qe[1])&&(Qe=[Ur,$r])),Ge&&(sn=kr[0],vn=kr[1],Re&&(sn=sn[1],vn=vn[1]),Pt=[sn,vn],Ge.invert&&(sn=Ge(sn),vn=Ge(vn)),vn<sn&&(Kr=sn,sn=vn,vn=Kr),(sn!=nt[0]||vn!=nt[1])&&(nt=[sn,vn])),nr):(Re&&(ot?(Ur=ot[0],$r=ot[1]):(Ur=Qe[0],$r=Qe[1],Re.invert&&(Ur=Re.invert(Ur),$r=Re.invert($r)),$r<Ur&&(Kr=Ur,Ur=$r,$r=Kr))),Ge&&(Pt?(sn=Pt[0],vn=Pt[1]):(sn=nt[0],vn=nt[1],Ge.invert&&(sn=Ge.invert(sn),vn=Ge.invert(vn)),vn<sn&&(Kr=sn,sn=vn,vn=Kr))),Re&&Ge?[[Ur,sn],[$r,vn]]:Re?[Ur,$r]:Ge&&[sn,vn])},nr.clear=function(){return nr.empty()||(Qe=[0,0],nt=[0,0],ot=Pt=null),nr},nr.empty=function(){return!!Re&&Qe[0]==Qe[1]||!!Ge&&nt[0]==nt[1]},a.rebind(nr,fe,"on")};var za={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ci=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=Bn(function(fe){return fe.responseText}),a.json=function(fe,Re){return An(fe,"application/json",ji,Re)};function ji(fe){return JSON.parse(fe.responseText)}a.html=function(fe,Re){return An(fe,"text/html",Mi,Re)};function Mi(fe){var Re=h.createRange();return Re.selectNode(h.body),Re.createContextualFragment(fe.responseText)}a.xml=Bn(function(fe){return fe.responseXML}),p=a,L=typeof p=="function"?p.call(N,e,N,B):p,L!==void 0&&(B.exports=L)}).apply(self)},88294:function(B,N,e){B.exports=e(62849)},62849:function(B,N,e){var p=e(91358),L=e(53435),a=e(18863),C=e(21527),w=e(71299),h=e(46775),g=e(30120),t=e(64941),r=e(90660),s=e(27084),n=1073741824;B.exports=function(f,m){m||(m={}),f=g(f,"float64"),m=w(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var v=h(m.maxDepth,255),A=h(m.bounds,C(f,2));A[0]===A[2]&&A[2]++,A[1]===A[3]&&A[3]++;var d=l(f,A),u=f.length>>>1,y;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?y=new(r(m.dtype))(u):m.dtype&&(y=m.dtype,Array.isArray(y)&&(y.length=u));for(var M=0;M<u;++M)y[M]=M;var S=[],R=[],x=[],E=[];V(0,0,1,y,0,1);for(var T=0,i=0;i<S.length;i++){var D=S[i];if(y.set)y.set(D,T);else for(var b=0,O=D.length;b<O;b++)y[b+T]=D[b];var F=T+S[i].length;E[i]=[T,F],T=F}return y.range=_,y;function V(z,G,Y,J,ae,oe){if(!J.length)return null;var he=S[ae]||(S[ae]=[]),q=x[ae]||(x[ae]=[]),Z=R[ae]||(R[ae]=[]),$=he.length;if(ae++,ae>v||oe>n){for(var K=0;K<J.length;K++)he.push(J[K]),q.push(oe),Z.push(null,null,null,null);return $}if(he.push(J[0]),q.push(oe),J.length<=1)return Z.push(null,null,null,null),$;for(var re=Y*.5,le=z+re,te=G+re,ee=[],ue=[],se=[],ve=[],be=1,Ee=J.length;be<Ee;be++){var Ae=J[be],Oe=d[Ae*2],Ue=d[Ae*2+1];Oe<le?Ue<te?ee.push(Ae):ue.push(Ae):Ue<te?se.push(Ae):ve.push(Ae)}return oe<<=2,Z.push(V(z,G,re,ee,ae,oe),V(z,te,re,ue,ae,oe+1),V(le,G,re,se,ae,oe+2),V(le,te,re,ve,ae,oe+3)),$}function _(){for(var z=[],G=arguments.length;G--;)z[G]=arguments[G];var Y;if(t(z[z.length-1])){var J=z.pop();!z.length&&(J.x!=null||J.l!=null||J.left!=null)&&(z=[J],Y={}),Y=w(J,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Y={};z.length||(z=A);var ae=a.apply(void 0,z),oe=[Math.min(ae.x,ae.x+ae.width),Math.min(ae.y,ae.y+ae.height),Math.max(ae.x,ae.x+ae.width),Math.max(ae.y,ae.y+ae.height)],he=oe[0],q=oe[1],Z=oe[2],$=oe[3],K=l([he,q,Z,$],A),re=K[0],le=K[1],te=K[2],ee=K[3],ue=h(Y.level,S.length);if(Y.d!=null){var se;typeof Y.d=="number"?se=[Y.d,Y.d]:Y.d.length&&(se=Y.d),ue=Math.min(Math.max(Math.ceil(-s(Math.abs(se[0])/(A[2]-A[0]))),Math.ceil(-s(Math.abs(se[1])/(A[3]-A[1])))),ue)}if(ue=Math.min(ue,S.length),Y.lod)return U(re,le,te,ee,ue);var ve=[];be(0,0,1,0,0,1);function be(Ae,Oe,Ue,Le,we,Ce){if(!(we===null||Ce===null)){var Ve=Ae+Ue,Ne=Oe+Ue;if(!(re>Ve||le>Ne||te<Ae||ee<Oe)&&!(Le>=ue)&&we!==Ce){var ke=S[Le];Ce===void 0&&(Ce=ke.length);for(var We=we;We<Ce;We++){var rt=ke[We],et=f[rt*2],tt=f[rt*2+1];et>=he&&et<=Z&&tt>=q&&tt<=$&&ve.push(rt)}var at=R[Le],ct=at[we*4+0],dt=at[we*4+1],gt=at[we*4+2],Et=at[we*4+3],Ct=Ee(at,we+1),Vt=Ue*.5,Je=Le+1;be(Ae,Oe,Vt,Je,ct,dt||gt||Et||Ct),be(Ae,Oe+Vt,Vt,Je,dt,gt||Et||Ct),be(Ae+Vt,Oe,Vt,Je,gt,Et||Ct),be(Ae+Vt,Oe+Vt,Vt,Je,Et,Ct)}}}function Ee(Ae,Oe){for(var Ue=null,Le=0;Ue===null;)if(Ue=Ae[Oe*4+Le],Le++,Le>Ae.length)return null;return Ue}return ve}function U(z,G,Y,J,ae){for(var oe=[],he=0;he<ae;he++){var q=x[he],Z=E[he][0],$=H(z,G,he),K=H(Y,J,he),re=p.ge(q,$),le=p.gt(q,K,re,q.length-1);oe[he]=[re+Z,le+Z]}return oe}function H(z,G,Y){for(var J=1,ae=.5,oe=.5,he=.5,q=0;q<Y;q++)J<<=2,J+=z<ae?G<oe?0:1:G<oe?2:3,he*=.5,ae+=z<ae?-he:he,oe+=G<oe?-he:he;return J}};function l(c,f){for(var m=f[0],v=f[1],A=f[2],d=f[3],u=1/(A-m),y=1/(d-v),M=new Array(c.length),S=0,R=c.length/2;S<R;S++)M[2*S]=L((c[2*S]-m)*u,0,1),M[2*S+1]=L((c[2*S+1]-v)*y,0,1);return M}},30774:function(B,N,e){Object.defineProperty(N,"__esModule",{value:!0});var p=e(60302),L=6378137;function a(t){return p.geomReduce(t,function(r,s){return r+C(s)},0)}N.default=a;function C(t){var r=0,s;switch(t.type){case"Polygon":return w(t.coordinates);case"MultiPolygon":for(s=0;s<t.coordinates.length;s++)r+=w(t.coordinates[s]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function w(t){var r=0;if(t&&t.length>0){r+=Math.abs(h(t[0]));for(var s=1;s<t.length;s++)r-=Math.abs(h(t[s]))}return r}function h(t){var r,s,n,l,c,f,m,v=0,A=t.length;if(A>2){for(m=0;m<A;m++)m===A-2?(l=A-2,c=A-1,f=0):m===A-1?(l=A-1,c=0,f=1):(l=m,c=m+1,f=m+2),r=t[l],s=t[c],n=t[f],v+=(g(n[0])-g(r[0]))*Math.sin(g(s[1]));v=v*L*L/2}return v}function g(t){return t*Math.PI/180}},23132:function(B,N){Object.defineProperty(N,"__esModule",{value:!0}),N.earthRadius=63710088e-1,N.factors={centimeters:N.earthRadius*100,centimetres:N.earthRadius*100,degrees:N.earthRadius/111325,feet:N.earthRadius*3.28084,inches:N.earthRadius*39.37,kilometers:N.earthRadius/1e3,kilometres:N.earthRadius/1e3,meters:N.earthRadius,metres:N.earthRadius,miles:N.earthRadius/1609.344,millimeters:N.earthRadius*1e3,millimetres:N.earthRadius*1e3,nauticalmiles:N.earthRadius/1852,radians:1,yards:N.earthRadius*1.0936},N.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/N.earthRadius,yards:1.0936133},N.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(T,i,D){D===void 0&&(D={});var b={type:"Feature"};return(D.id===0||D.id)&&(b.id=D.id),D.bbox&&(b.bbox=D.bbox),b.properties=i||{},b.geometry=T,b}N.feature=e;function p(T,i,D){switch(T){case"Point":return L(i).geometry;case"LineString":return h(i).geometry;case"Polygon":return C(i).geometry;case"MultiPoint":return s(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return n(i).geometry;default:throw new Error(T+" is invalid")}}N.geometry=p;function L(T,i,D){if(D===void 0&&(D={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(T[0])||!S(T[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:T};return e(b,i,D)}N.point=L;function a(T,i,D){return D===void 0&&(D={}),t(T.map(function(b){return L(b,i)}),D)}N.points=a;function C(T,i,D){D===void 0&&(D={});for(var b=0,O=T;b<O.length;b++){var F=O[b];if(F.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var V=0;V<F[F.length-1].length;V++)if(F[F.length-1][V]!==F[0][V])throw new Error("First and last Position are not equivalent.")}var _={type:"Polygon",coordinates:T};return e(_,i,D)}N.polygon=C;function w(T,i,D){return D===void 0&&(D={}),t(T.map(function(b){return C(b,i)}),D)}N.polygons=w;function h(T,i,D){if(D===void 0&&(D={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:T};return e(b,i,D)}N.lineString=h;function g(T,i,D){return D===void 0&&(D={}),t(T.map(function(b){return h(b,i)}),D)}N.lineStrings=g;function t(T,i){i===void 0&&(i={});var D={type:"FeatureCollection"};return i.id&&(D.id=i.id),i.bbox&&(D.bbox=i.bbox),D.features=T,D}N.featureCollection=t;function r(T,i,D){D===void 0&&(D={});var b={type:"MultiLineString",coordinates:T};return e(b,i,D)}N.multiLineString=r;function s(T,i,D){D===void 0&&(D={});var b={type:"MultiPoint",coordinates:T};return e(b,i,D)}N.multiPoint=s;function n(T,i,D){D===void 0&&(D={});var b={type:"MultiPolygon",coordinates:T};return e(b,i,D)}N.multiPolygon=n;function l(T,i,D){D===void 0&&(D={});var b={type:"GeometryCollection",geometries:T};return e(b,i,D)}N.geometryCollection=l;function c(T,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var D=Math.pow(10,i||0);return Math.round(T*D)/D}N.round=c;function f(T,i){i===void 0&&(i="kilometers");var D=N.factors[i];if(!D)throw new Error(i+" units is invalid");return T*D}N.radiansToLength=f;function m(T,i){i===void 0&&(i="kilometers");var D=N.factors[i];if(!D)throw new Error(i+" units is invalid");return T/D}N.lengthToRadians=m;function v(T,i){return d(m(T,i))}N.lengthToDegrees=v;function A(T){var i=T%360;return i<0&&(i+=360),i}N.bearingToAzimuth=A;function d(T){var i=T%(2*Math.PI);return i*180/Math.PI}N.radiansToDegrees=d;function u(T){var i=T%360;return i*Math.PI/180}N.degreesToRadians=u;function y(T,i,D){if(i===void 0&&(i="kilometers"),D===void 0&&(D="kilometers"),!(T>=0))throw new Error("length must be a positive number");return f(m(T,i),D)}N.convertLength=y;function M(T,i,D){if(i===void 0&&(i="meters"),D===void 0&&(D="kilometers"),!(T>=0))throw new Error("area must be a positive number");var b=N.areaFactors[i];if(!b)throw new Error("invalid original units");var O=N.areaFactors[D];if(!O)throw new Error("invalid final units");return T/b*O}N.convertArea=M;function S(T){return!isNaN(T)&&T!==null&&!Array.isArray(T)}N.isNumber=S;function R(T){return!!T&&T.constructor===Object}N.isObject=R;function x(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(T.length!==4&&T.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(i){if(!S(i))throw new Error("bbox must only contain numbers")})}N.validateBBox=x;function E(T){if(!T)throw new Error("id is required");if(["string","number"].indexOf(typeof T)===-1)throw new Error("id must be a number or a string")}N.validateId=E},60302:function(B,N,e){Object.defineProperty(N,"__esModule",{value:!0});var p=e(23132);function L(u,y,M){if(u!==null)for(var S,R,x,E,T,i,D,b=0,O=0,F,V=u.type,_=V==="FeatureCollection",U=V==="Feature",H=_?u.features.length:1,z=0;z<H;z++){D=_?u.features[z].geometry:U?u.geometry:u,F=D?D.type==="GeometryCollection":!1,T=F?D.geometries.length:1;for(var G=0;G<T;G++){var Y=0,J=0;if(E=F?D.geometries[G]:D,E!==null){i=E.coordinates;var ae=E.type;switch(b=M&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(y(i,O,z,Y,J)===!1)return!1;O++,Y++;break;case"LineString":case"MultiPoint":for(S=0;S<i.length;S++){if(y(i[S],O,z,Y,J)===!1)return!1;O++,ae==="MultiPoint"&&Y++}ae==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(S=0;S<i.length;S++){for(R=0;R<i[S].length-b;R++){if(y(i[S][R],O,z,Y,J)===!1)return!1;O++}ae==="MultiLineString"&&Y++,ae==="Polygon"&&J++}ae==="Polygon"&&Y++;break;case"MultiPolygon":for(S=0;S<i.length;S++){for(J=0,R=0;R<i[S].length;R++){for(x=0;x<i[S][R].length-b;x++){if(y(i[S][R][x],O,z,Y,J)===!1)return!1;O++}J++}Y++}break;case"GeometryCollection":for(S=0;S<E.geometries.length;S++)if(L(E.geometries[S],y,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(u,y,M,S){var R=M;return L(u,function(x,E,T,i,D){E===0&&M===void 0?R=x:R=y(R,x,E,T,i,D)},S),R}function C(u,y){var M;switch(u.type){case"FeatureCollection":for(M=0;M<u.features.length&&y(u.features[M].properties,M)!==!1;M++);break;case"Feature":y(u.properties,0);break}}function w(u,y,M){var S=M;return C(u,function(R,x){x===0&&M===void 0?S=R:S=y(S,R,x)}),S}function h(u,y){if(u.type==="Feature")y(u,0);else if(u.type==="FeatureCollection")for(var M=0;M<u.features.length&&y(u.features[M],M)!==!1;M++);}function g(u,y,M){var S=M;return h(u,function(R,x){x===0&&M===void 0?S=R:S=y(S,R,x)}),S}function t(u){var y=[];return L(u,function(M){y.push(M)}),y}function r(u,y){var M,S,R,x,E,T,i,D,b,O,F=0,V=u.type==="FeatureCollection",_=u.type==="Feature",U=V?u.features.length:1;for(M=0;M<U;M++){for(T=V?u.features[M].geometry:_?u.geometry:u,D=V?u.features[M].properties:_?u.properties:{},b=V?u.features[M].bbox:_?u.bbox:void 0,O=V?u.features[M].id:_?u.id:void 0,i=T?T.type==="GeometryCollection":!1,E=i?T.geometries.length:1,R=0;R<E;R++){if(x=i?T.geometries[R]:T,x===null){if(y(null,F,D,b,O)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(y(x,F,D,b,O)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<x.geometries.length;S++)if(y(x.geometries[S],F,D,b,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}F++}}function s(u,y,M){var S=M;return r(u,function(R,x,E,T,i){x===0&&M===void 0?S=R:S=y(S,R,x,E,T,i)}),S}function n(u,y){r(u,function(M,S,R,x,E){var T=M===null?null:M.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return y(p.feature(M,R,{bbox:x,id:E}),S,0)===!1?!1:void 0}var i;switch(T){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var D=0;D<M.coordinates.length;D++){var b=M.coordinates[D],O={type:i,coordinates:b};if(y(p.feature(O,R),S,D)===!1)return!1}})}function l(u,y,M){var S=M;return n(u,function(R,x,E){x===0&&E===0&&M===void 0?S=R:S=y(S,R,x,E)}),S}function c(u,y){n(u,function(M,S,R){var x=0;if(M.geometry){var E=M.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var T,i=0,D=0,b=0;if(L(M,function(O,F,V,_,U){if(T===void 0||S>i||_>D||U>b){T=O,i=S,D=_,b=U,x=0;return}var H=p.lineString([T,O],M.properties);if(y(H,S,R,U,x)===!1)return!1;x++,T=O})===!1)return!1}}})}function f(u,y,M){var S=M,R=!1;return c(u,function(x,E,T,i,D){R===!1&&M===void 0?S=x:S=y(S,x,E,T,i,D),R=!0}),S}function m(u,y){if(!u)throw new Error("geojson is required");n(u,function(M,S,R){if(M.geometry!==null){var x=M.geometry.type,E=M.geometry.coordinates;switch(x){case"LineString":if(y(M,S,R,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<E.length;T++)if(y(p.lineString(E[T],M.properties),S,R,T)===!1)return!1;break}}})}function v(u,y,M){var S=M;return m(u,function(R,x,E,T){x===0&&M===void 0?S=R:S=y(S,R,x,E,T)}),S}function A(u,y){if(y=y||{},!p.isObject(y))throw new Error("options is invalid");var M=y.featureIndex||0,S=y.multiFeatureIndex||0,R=y.geometryIndex||0,x=y.segmentIndex||0,E=y.properties,T;switch(u.type){case"FeatureCollection":M<0&&(M=u.features.length+M),E=E||u.features[M].properties,T=u.features[M].geometry;break;case"Feature":E=E||u.properties,T=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=u;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),p.lineString([i[x],i[x+1]],E,y);case"Polygon":return R<0&&(R=i.length+R),x<0&&(x=i[R].length+x-1),p.lineString([i[R][x],i[R][x+1]],E,y);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x-1),p.lineString([i[S][x],i[S][x+1]],E,y);case"MultiPolygon":return S<0&&(S=i.length+S),R<0&&(R=i[S].length+R),x<0&&(x=i[S][R].length-x-1),p.lineString([i[S][R][x],i[S][R][x+1]],E,y)}throw new Error("geojson is invalid")}function d(u,y){if(y=y||{},!p.isObject(y))throw new Error("options is invalid");var M=y.featureIndex||0,S=y.multiFeatureIndex||0,R=y.geometryIndex||0,x=y.coordIndex||0,E=y.properties,T;switch(u.type){case"FeatureCollection":M<0&&(M=u.features.length+M),E=E||u.features[M].properties,T=u.features[M].geometry;break;case"Feature":E=E||u.properties,T=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=u;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":return p.point(i,E,y);case"MultiPoint":return S<0&&(S=i.length+S),p.point(i[S],E,y);case"LineString":return x<0&&(x=i.length+x),p.point(i[x],E,y);case"Polygon":return R<0&&(R=i.length+R),x<0&&(x=i[R].length+x),p.point(i[R][x],E,y);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x),p.point(i[S][x],E,y);case"MultiPolygon":return S<0&&(S=i.length+S),R<0&&(R=i[S].length+R),x<0&&(x=i[S][R].length-x),p.point(i[S][R][x],E,y)}throw new Error("geojson is invalid")}N.coordEach=L,N.coordReduce=a,N.propEach=C,N.propReduce=w,N.featureEach=h,N.featureReduce=g,N.coordAll=t,N.geomEach=r,N.geomReduce=s,N.flattenEach=n,N.flattenReduce=l,N.segmentEach=c,N.segmentReduce=f,N.lineEach=m,N.lineReduce=v,N.findSegment=A,N.findPoint=d},85268:function(B,N,e){Object.defineProperty(N,"__esModule",{value:!0});var p=e(27138);function L(a){var C=[1/0,1/0,-1/0,-1/0];return p.coordEach(a,function(w){C[0]>w[0]&&(C[0]=w[0]),C[1]>w[1]&&(C[1]=w[1]),C[2]<w[0]&&(C[2]=w[0]),C[3]<w[1]&&(C[3]=w[1])}),C}L.default=L,N.default=L},94228:function(B,N){Object.defineProperty(N,"__esModule",{value:!0}),N.earthRadius=63710088e-1,N.factors={centimeters:N.earthRadius*100,centimetres:N.earthRadius*100,degrees:N.earthRadius/111325,feet:N.earthRadius*3.28084,inches:N.earthRadius*39.37,kilometers:N.earthRadius/1e3,kilometres:N.earthRadius/1e3,meters:N.earthRadius,metres:N.earthRadius,miles:N.earthRadius/1609.344,millimeters:N.earthRadius*1e3,millimetres:N.earthRadius*1e3,nauticalmiles:N.earthRadius/1852,radians:1,yards:N.earthRadius*1.0936},N.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/N.earthRadius,yards:1.0936133},N.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(T,i,D){D===void 0&&(D={});var b={type:"Feature"};return(D.id===0||D.id)&&(b.id=D.id),D.bbox&&(b.bbox=D.bbox),b.properties=i||{},b.geometry=T,b}N.feature=e;function p(T,i,D){switch(T){case"Point":return L(i).geometry;case"LineString":return h(i).geometry;case"Polygon":return C(i).geometry;case"MultiPoint":return s(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return n(i).geometry;default:throw new Error(T+" is invalid")}}N.geometry=p;function L(T,i,D){if(D===void 0&&(D={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(T[0])||!S(T[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:T};return e(b,i,D)}N.point=L;function a(T,i,D){return D===void 0&&(D={}),t(T.map(function(b){return L(b,i)}),D)}N.points=a;function C(T,i,D){D===void 0&&(D={});for(var b=0,O=T;b<O.length;b++){var F=O[b];if(F.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var V=0;V<F[F.length-1].length;V++)if(F[F.length-1][V]!==F[0][V])throw new Error("First and last Position are not equivalent.")}var _={type:"Polygon",coordinates:T};return e(_,i,D)}N.polygon=C;function w(T,i,D){return D===void 0&&(D={}),t(T.map(function(b){return C(b,i)}),D)}N.polygons=w;function h(T,i,D){if(D===void 0&&(D={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:T};return e(b,i,D)}N.lineString=h;function g(T,i,D){return D===void 0&&(D={}),t(T.map(function(b){return h(b,i)}),D)}N.lineStrings=g;function t(T,i){i===void 0&&(i={});var D={type:"FeatureCollection"};return i.id&&(D.id=i.id),i.bbox&&(D.bbox=i.bbox),D.features=T,D}N.featureCollection=t;function r(T,i,D){D===void 0&&(D={});var b={type:"MultiLineString",coordinates:T};return e(b,i,D)}N.multiLineString=r;function s(T,i,D){D===void 0&&(D={});var b={type:"MultiPoint",coordinates:T};return e(b,i,D)}N.multiPoint=s;function n(T,i,D){D===void 0&&(D={});var b={type:"MultiPolygon",coordinates:T};return e(b,i,D)}N.multiPolygon=n;function l(T,i,D){D===void 0&&(D={});var b={type:"GeometryCollection",geometries:T};return e(b,i,D)}N.geometryCollection=l;function c(T,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var D=Math.pow(10,i||0);return Math.round(T*D)/D}N.round=c;function f(T,i){i===void 0&&(i="kilometers");var D=N.factors[i];if(!D)throw new Error(i+" units is invalid");return T*D}N.radiansToLength=f;function m(T,i){i===void 0&&(i="kilometers");var D=N.factors[i];if(!D)throw new Error(i+" units is invalid");return T/D}N.lengthToRadians=m;function v(T,i){return d(m(T,i))}N.lengthToDegrees=v;function A(T){var i=T%360;return i<0&&(i+=360),i}N.bearingToAzimuth=A;function d(T){var i=T%(2*Math.PI);return i*180/Math.PI}N.radiansToDegrees=d;function u(T){var i=T%360;return i*Math.PI/180}N.degreesToRadians=u;function y(T,i,D){if(i===void 0&&(i="kilometers"),D===void 0&&(D="kilometers"),!(T>=0))throw new Error("length must be a positive number");return f(m(T,i),D)}N.convertLength=y;function M(T,i,D){if(i===void 0&&(i="meters"),D===void 0&&(D="kilometers"),!(T>=0))throw new Error("area must be a positive number");var b=N.areaFactors[i];if(!b)throw new Error("invalid original units");var O=N.areaFactors[D];if(!O)throw new Error("invalid final units");return T/b*O}N.convertArea=M;function S(T){return!isNaN(T)&&T!==null&&!Array.isArray(T)}N.isNumber=S;function R(T){return!!T&&T.constructor===Object}N.isObject=R;function x(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(T.length!==4&&T.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(i){if(!S(i))throw new Error("bbox must only contain numbers")})}N.validateBBox=x;function E(T){if(!T)throw new Error("id is required");if(["string","number"].indexOf(typeof T)===-1)throw new Error("id must be a number or a string")}N.validateId=E},27138:function(B,N,e){Object.defineProperty(N,"__esModule",{value:!0});var p=e(94228);function L(u,y,M){if(u!==null)for(var S,R,x,E,T,i,D,b=0,O=0,F,V=u.type,_=V==="FeatureCollection",U=V==="Feature",H=_?u.features.length:1,z=0;z<H;z++){D=_?u.features[z].geometry:U?u.geometry:u,F=D?D.type==="GeometryCollection":!1,T=F?D.geometries.length:1;for(var G=0;G<T;G++){var Y=0,J=0;if(E=F?D.geometries[G]:D,E!==null){i=E.coordinates;var ae=E.type;switch(b=M&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(y(i,O,z,Y,J)===!1)return!1;O++,Y++;break;case"LineString":case"MultiPoint":for(S=0;S<i.length;S++){if(y(i[S],O,z,Y,J)===!1)return!1;O++,ae==="MultiPoint"&&Y++}ae==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(S=0;S<i.length;S++){for(R=0;R<i[S].length-b;R++){if(y(i[S][R],O,z,Y,J)===!1)return!1;O++}ae==="MultiLineString"&&Y++,ae==="Polygon"&&J++}ae==="Polygon"&&Y++;break;case"MultiPolygon":for(S=0;S<i.length;S++){for(J=0,R=0;R<i[S].length;R++){for(x=0;x<i[S][R].length-b;x++){if(y(i[S][R][x],O,z,Y,J)===!1)return!1;O++}J++}Y++}break;case"GeometryCollection":for(S=0;S<E.geometries.length;S++)if(L(E.geometries[S],y,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(u,y,M,S){var R=M;return L(u,function(x,E,T,i,D){E===0&&M===void 0?R=x:R=y(R,x,E,T,i,D)},S),R}function C(u,y){var M;switch(u.type){case"FeatureCollection":for(M=0;M<u.features.length&&y(u.features[M].properties,M)!==!1;M++);break;case"Feature":y(u.properties,0);break}}function w(u,y,M){var S=M;return C(u,function(R,x){x===0&&M===void 0?S=R:S=y(S,R,x)}),S}function h(u,y){if(u.type==="Feature")y(u,0);else if(u.type==="FeatureCollection")for(var M=0;M<u.features.length&&y(u.features[M],M)!==!1;M++);}function g(u,y,M){var S=M;return h(u,function(R,x){x===0&&M===void 0?S=R:S=y(S,R,x)}),S}function t(u){var y=[];return L(u,function(M){y.push(M)}),y}function r(u,y){var M,S,R,x,E,T,i,D,b,O,F=0,V=u.type==="FeatureCollection",_=u.type==="Feature",U=V?u.features.length:1;for(M=0;M<U;M++){for(T=V?u.features[M].geometry:_?u.geometry:u,D=V?u.features[M].properties:_?u.properties:{},b=V?u.features[M].bbox:_?u.bbox:void 0,O=V?u.features[M].id:_?u.id:void 0,i=T?T.type==="GeometryCollection":!1,E=i?T.geometries.length:1,R=0;R<E;R++){if(x=i?T.geometries[R]:T,x===null){if(y(null,F,D,b,O)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(y(x,F,D,b,O)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<x.geometries.length;S++)if(y(x.geometries[S],F,D,b,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}F++}}function s(u,y,M){var S=M;return r(u,function(R,x,E,T,i){x===0&&M===void 0?S=R:S=y(S,R,x,E,T,i)}),S}function n(u,y){r(u,function(M,S,R,x,E){var T=M===null?null:M.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return y(p.feature(M,R,{bbox:x,id:E}),S,0)===!1?!1:void 0}var i;switch(T){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var D=0;D<M.coordinates.length;D++){var b=M.coordinates[D],O={type:i,coordinates:b};if(y(p.feature(O,R),S,D)===!1)return!1}})}function l(u,y,M){var S=M;return n(u,function(R,x,E){x===0&&E===0&&M===void 0?S=R:S=y(S,R,x,E)}),S}function c(u,y){n(u,function(M,S,R){var x=0;if(M.geometry){var E=M.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var T,i=0,D=0,b=0;if(L(M,function(O,F,V,_,U){if(T===void 0||S>i||_>D||U>b){T=O,i=S,D=_,b=U,x=0;return}var H=p.lineString([T,O],M.properties);if(y(H,S,R,U,x)===!1)return!1;x++,T=O})===!1)return!1}}})}function f(u,y,M){var S=M,R=!1;return c(u,function(x,E,T,i,D){R===!1&&M===void 0?S=x:S=y(S,x,E,T,i,D),R=!0}),S}function m(u,y){if(!u)throw new Error("geojson is required");n(u,function(M,S,R){if(M.geometry!==null){var x=M.geometry.type,E=M.geometry.coordinates;switch(x){case"LineString":if(y(M,S,R,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<E.length;T++)if(y(p.lineString(E[T],M.properties),S,R,T)===!1)return!1;break}}})}function v(u,y,M){var S=M;return m(u,function(R,x,E,T){x===0&&M===void 0?S=R:S=y(S,R,x,E,T)}),S}function A(u,y){if(y=y||{},!p.isObject(y))throw new Error("options is invalid");var M=y.featureIndex||0,S=y.multiFeatureIndex||0,R=y.geometryIndex||0,x=y.segmentIndex||0,E=y.properties,T;switch(u.type){case"FeatureCollection":M<0&&(M=u.features.length+M),E=E||u.features[M].properties,T=u.features[M].geometry;break;case"Feature":E=E||u.properties,T=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=u;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),p.lineString([i[x],i[x+1]],E,y);case"Polygon":return R<0&&(R=i.length+R),x<0&&(x=i[R].length+x-1),p.lineString([i[R][x],i[R][x+1]],E,y);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x-1),p.lineString([i[S][x],i[S][x+1]],E,y);case"MultiPolygon":return S<0&&(S=i.length+S),R<0&&(R=i[S].length+R),x<0&&(x=i[S][R].length-x-1),p.lineString([i[S][R][x],i[S][R][x+1]],E,y)}throw new Error("geojson is invalid")}function d(u,y){if(y=y||{},!p.isObject(y))throw new Error("options is invalid");var M=y.featureIndex||0,S=y.multiFeatureIndex||0,R=y.geometryIndex||0,x=y.coordIndex||0,E=y.properties,T;switch(u.type){case"FeatureCollection":M<0&&(M=u.features.length+M),E=E||u.features[M].properties,T=u.features[M].geometry;break;case"Feature":E=E||u.properties,T=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=u;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":return p.point(i,E,y);case"MultiPoint":return S<0&&(S=i.length+S),p.point(i[S],E,y);case"LineString":return x<0&&(x=i.length+x),p.point(i[x],E,y);case"Polygon":return R<0&&(R=i.length+R),x<0&&(x=i[R].length+x),p.point(i[R][x],E,y);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x),p.point(i[S][x],E,y);case"MultiPolygon":return S<0&&(S=i.length+S),R<0&&(R=i[S].length+R),x<0&&(x=i[S][R].length-x),p.point(i[S][R][x],E,y)}throw new Error("geojson is invalid")}N.coordEach=L,N.coordReduce=a,N.propEach=C,N.propReduce=w,N.featureEach=h,N.featureReduce=g,N.coordAll=t,N.geomEach=r,N.geomReduce=s,N.flattenEach=n,N.flattenReduce=l,N.segmentEach=c,N.segmentReduce=f,N.lineEach=m,N.lineReduce=v,N.findSegment=A,N.findPoint=d},29261:function(B,N,e){Object.defineProperty(N,"__esModule",{value:!0});var p=e(88553),L=e(64182);function a(C,w){w===void 0&&(w={});var h=0,g=0,t=0;return p.coordEach(C,function(r){h+=r[0],g+=r[1],t++}),L.point([h/t,g/t],w.properties)}N.default=a},64182:function(B,N){Object.defineProperty(N,"__esModule",{value:!0}),N.earthRadius=63710088e-1,N.factors={centimeters:N.earthRadius*100,centimetres:N.earthRadius*100,degrees:N.earthRadius/111325,feet:N.earthRadius*3.28084,inches:N.earthRadius*39.37,kilometers:N.earthRadius/1e3,kilometres:N.earthRadius/1e3,meters:N.earthRadius,metres:N.earthRadius,miles:N.earthRadius/1609.344,millimeters:N.earthRadius*1e3,millimetres:N.earthRadius*1e3,nauticalmiles:N.earthRadius/1852,radians:1,yards:N.earthRadius/1.0936},N.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/N.earthRadius,yards:.91441111923921},N.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(_,U,H){H===void 0&&(H={});var z={type:"Feature"};return(H.id===0||H.id)&&(z.id=H.id),H.bbox&&(z.bbox=H.bbox),z.properties=U||{},z.geometry=_,z}N.feature=e;function p(_,U,H){switch(_){case"Point":return L(U).geometry;case"LineString":return h(U).geometry;case"Polygon":return C(U).geometry;case"MultiPoint":return s(U).geometry;case"MultiLineString":return r(U).geometry;case"MultiPolygon":return n(U).geometry;default:throw new Error(_+" is invalid")}}N.geometry=p;function L(_,U,H){H===void 0&&(H={});var z={type:"Point",coordinates:_};return e(z,U,H)}N.point=L;function a(_,U,H){return H===void 0&&(H={}),t(_.map(function(z){return L(z,U)}),H)}N.points=a;function C(_,U,H){H===void 0&&(H={});for(var z=0,G=_;z<G.length;z++){var Y=G[z];if(Y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var J=0;J<Y[Y.length-1].length;J++)if(Y[Y.length-1][J]!==Y[0][J])throw new Error("First and last Position are not equivalent.")}var ae={type:"Polygon",coordinates:_};return e(ae,U,H)}N.polygon=C;function w(_,U,H){return H===void 0&&(H={}),t(_.map(function(z){return C(z,U)}),H)}N.polygons=w;function h(_,U,H){if(H===void 0&&(H={}),_.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:_};return e(z,U,H)}N.lineString=h;function g(_,U,H){return H===void 0&&(H={}),t(_.map(function(z){return h(z,U)}),H)}N.lineStrings=g;function t(_,U){U===void 0&&(U={});var H={type:"FeatureCollection"};return U.id&&(H.id=U.id),U.bbox&&(H.bbox=U.bbox),H.features=_,H}N.featureCollection=t;function r(_,U,H){H===void 0&&(H={});var z={type:"MultiLineString",coordinates:_};return e(z,U,H)}N.multiLineString=r;function s(_,U,H){H===void 0&&(H={});var z={type:"MultiPoint",coordinates:_};return e(z,U,H)}N.multiPoint=s;function n(_,U,H){H===void 0&&(H={});var z={type:"MultiPolygon",coordinates:_};return e(z,U,H)}N.multiPolygon=n;function l(_,U,H){H===void 0&&(H={});var z={type:"GeometryCollection",geometries:_};return e(z,U,H)}N.geometryCollection=l;function c(_,U){if(U===void 0&&(U=0),U&&!(U>=0))throw new Error("precision must be a positive number");var H=Math.pow(10,U||0);return Math.round(_*H)/H}N.round=c;function f(_,U){U===void 0&&(U="kilometers");var H=N.factors[U];if(!H)throw new Error(U+" units is invalid");return _*H}N.radiansToLength=f;function m(_,U){U===void 0&&(U="kilometers");var H=N.factors[U];if(!H)throw new Error(U+" units is invalid");return _/H}N.lengthToRadians=m;function v(_,U){return d(m(_,U))}N.lengthToDegrees=v;function A(_){var U=_%360;return U<0&&(U+=360),U}N.bearingToAzimuth=A;function d(_){var U=_%(2*Math.PI);return U*180/Math.PI}N.radiansToDegrees=d;function u(_){var U=_%360;return U*Math.PI/180}N.degreesToRadians=u;function y(_,U,H){if(U===void 0&&(U="kilometers"),H===void 0&&(H="kilometers"),!(_>=0))throw new Error("length must be a positive number");return f(m(_,U),H)}N.convertLength=y;function M(_,U,H){if(U===void 0&&(U="meters"),H===void 0&&(H="kilometers"),!(_>=0))throw new Error("area must be a positive number");var z=N.areaFactors[U];if(!z)throw new Error("invalid original units");var G=N.areaFactors[H];if(!G)throw new Error("invalid final units");return _/z*G}N.convertArea=M;function S(_){return!isNaN(_)&&_!==null&&!Array.isArray(_)&&!/^\s*$/.test(_)}N.isNumber=S;function R(_){return!!_&&_.constructor===Object}N.isObject=R;function x(_){if(!_)throw new Error("bbox is required");if(!Array.isArray(_))throw new Error("bbox must be an Array");if(_.length!==4&&_.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");_.forEach(function(U){if(!S(U))throw new Error("bbox must only contain numbers")})}N.validateBBox=x;function E(_){if(!_)throw new Error("id is required");if(["string","number"].indexOf(typeof _)===-1)throw new Error("id must be a number or a string")}N.validateId=E;function T(){throw new Error("method has been renamed to `radiansToDegrees`")}N.radians2degrees=T;function i(){throw new Error("method has been renamed to `degreesToRadians`")}N.degrees2radians=i;function D(){throw new Error("method has been renamed to `lengthToDegrees`")}N.distanceToDegrees=D;function b(){throw new Error("method has been renamed to `lengthToRadians`")}N.distanceToRadians=b;function O(){throw new Error("method has been renamed to `radiansToLength`")}N.radiansToDistance=O;function F(){throw new Error("method has been renamed to `bearingToAzimuth`")}N.bearingToAngle=F;function V(){throw new Error("method has been renamed to `convertLength`")}N.convertDistance=V},88553:function(B,N,e){Object.defineProperty(N,"__esModule",{value:!0});var p=e(64182);function L(u,y,M){if(u!==null)for(var S,R,x,E,T,i,D,b=0,O=0,F,V=u.type,_=V==="FeatureCollection",U=V==="Feature",H=_?u.features.length:1,z=0;z<H;z++){D=_?u.features[z].geometry:U?u.geometry:u,F=D?D.type==="GeometryCollection":!1,T=F?D.geometries.length:1;for(var G=0;G<T;G++){var Y=0,J=0;if(E=F?D.geometries[G]:D,E!==null){i=E.coordinates;var ae=E.type;switch(b=M&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(y(i,O,z,Y,J)===!1)return!1;O++,Y++;break;case"LineString":case"MultiPoint":for(S=0;S<i.length;S++){if(y(i[S],O,z,Y,J)===!1)return!1;O++,ae==="MultiPoint"&&Y++}ae==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(S=0;S<i.length;S++){for(R=0;R<i[S].length-b;R++){if(y(i[S][R],O,z,Y,J)===!1)return!1;O++}ae==="MultiLineString"&&Y++,ae==="Polygon"&&J++}ae==="Polygon"&&Y++;break;case"MultiPolygon":for(S=0;S<i.length;S++){for(J=0,R=0;R<i[S].length;R++){for(x=0;x<i[S][R].length-b;x++){if(y(i[S][R][x],O,z,Y,J)===!1)return!1;O++}J++}Y++}break;case"GeometryCollection":for(S=0;S<E.geometries.length;S++)if(L(E.geometries[S],y,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(u,y,M,S){var R=M;return L(u,function(x,E,T,i,D){E===0&&M===void 0?R=x:R=y(R,x,E,T,i,D)},S),R}function C(u,y){var M;switch(u.type){case"FeatureCollection":for(M=0;M<u.features.length&&y(u.features[M].properties,M)!==!1;M++);break;case"Feature":y(u.properties,0);break}}function w(u,y,M){var S=M;return C(u,function(R,x){x===0&&M===void 0?S=R:S=y(S,R,x)}),S}function h(u,y){if(u.type==="Feature")y(u,0);else if(u.type==="FeatureCollection")for(var M=0;M<u.features.length&&y(u.features[M],M)!==!1;M++);}function g(u,y,M){var S=M;return h(u,function(R,x){x===0&&M===void 0?S=R:S=y(S,R,x)}),S}function t(u){var y=[];return L(u,function(M){y.push(M)}),y}function r(u,y){var M,S,R,x,E,T,i,D,b,O,F=0,V=u.type==="FeatureCollection",_=u.type==="Feature",U=V?u.features.length:1;for(M=0;M<U;M++){for(T=V?u.features[M].geometry:_?u.geometry:u,D=V?u.features[M].properties:_?u.properties:{},b=V?u.features[M].bbox:_?u.bbox:void 0,O=V?u.features[M].id:_?u.id:void 0,i=T?T.type==="GeometryCollection":!1,E=i?T.geometries.length:1,R=0;R<E;R++){if(x=i?T.geometries[R]:T,x===null){if(y(null,F,D,b,O)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(y(x,F,D,b,O)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<x.geometries.length;S++)if(y(x.geometries[S],F,D,b,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}F++}}function s(u,y,M){var S=M;return r(u,function(R,x,E,T,i){x===0&&M===void 0?S=R:S=y(S,R,x,E,T,i)}),S}function n(u,y){r(u,function(M,S,R,x,E){var T=M===null?null:M.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return y(p.feature(M,R,{bbox:x,id:E}),S,0)===!1?!1:void 0}var i;switch(T){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var D=0;D<M.coordinates.length;D++){var b=M.coordinates[D],O={type:i,coordinates:b};if(y(p.feature(O,R),S,D)===!1)return!1}})}function l(u,y,M){var S=M;return n(u,function(R,x,E){x===0&&E===0&&M===void 0?S=R:S=y(S,R,x,E)}),S}function c(u,y){n(u,function(M,S,R){var x=0;if(M.geometry){var E=M.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var T,i=0,D=0,b=0;if(L(M,function(O,F,V,_,U){if(T===void 0||S>i||_>D||U>b){T=O,i=S,D=_,b=U,x=0;return}var H=p.lineString([T,O],M.properties);if(y(H,S,R,U,x)===!1)return!1;x++,T=O})===!1)return!1}}})}function f(u,y,M){var S=M,R=!1;return c(u,function(x,E,T,i,D){R===!1&&M===void 0?S=x:S=y(S,x,E,T,i,D),R=!0}),S}function m(u,y){if(!u)throw new Error("geojson is required");n(u,function(M,S,R){if(M.geometry!==null){var x=M.geometry.type,E=M.geometry.coordinates;switch(x){case"LineString":if(y(M,S,R,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<E.length;T++)if(y(p.lineString(E[T],M.properties),S,R,T)===!1)return!1;break}}})}function v(u,y,M){var S=M;return m(u,function(R,x,E,T){x===0&&M===void 0?S=R:S=y(S,R,x,E,T)}),S}function A(u,y){if(y=y||{},!p.isObject(y))throw new Error("options is invalid");var M=y.featureIndex||0,S=y.multiFeatureIndex||0,R=y.geometryIndex||0,x=y.segmentIndex||0,E=y.properties,T;switch(u.type){case"FeatureCollection":M<0&&(M=u.features.length+M),E=E||u.features[M].properties,T=u.features[M].geometry;break;case"Feature":E=E||u.properties,T=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=u;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),p.lineString([i[x],i[x+1]],E,y);case"Polygon":return R<0&&(R=i.length+R),x<0&&(x=i[R].length+x-1),p.lineString([i[R][x],i[R][x+1]],E,y);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x-1),p.lineString([i[S][x],i[S][x+1]],E,y);case"MultiPolygon":return S<0&&(S=i.length+S),R<0&&(R=i[S].length+R),x<0&&(x=i[S][R].length-x-1),p.lineString([i[S][R][x],i[S][R][x+1]],E,y)}throw new Error("geojson is invalid")}function d(u,y){if(y=y||{},!p.isObject(y))throw new Error("options is invalid");var M=y.featureIndex||0,S=y.multiFeatureIndex||0,R=y.geometryIndex||0,x=y.coordIndex||0,E=y.properties,T;switch(u.type){case"FeatureCollection":M<0&&(M=u.features.length+M),E=E||u.features[M].properties,T=u.features[M].geometry;break;case"Feature":E=E||u.properties,T=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=u;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":return p.point(i,E,y);case"MultiPoint":return S<0&&(S=i.length+S),p.point(i[S],E,y);case"LineString":return x<0&&(x=i.length+x),p.point(i[x],E,y);case"Polygon":return R<0&&(R=i.length+R),x<0&&(x=i[R].length+x),p.point(i[R][x],E,y);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x),p.point(i[S][x],E,y);case"MultiPolygon":return S<0&&(S=i.length+S),R<0&&(R=i[S].length+R),x<0&&(x=i[S][R].length-x),p.point(i[S][R][x],E,y)}throw new Error("geojson is invalid")}N.coordEach=L,N.coordReduce=a,N.propEach=C,N.propReduce=w,N.featureEach=h,N.featureReduce=g,N.coordAll=t,N.geomEach=r,N.geomReduce=s,N.flattenEach=n,N.flattenReduce=l,N.segmentEach=c,N.segmentReduce=f,N.lineEach=m,N.lineReduce=v,N.findSegment=A,N.findPoint=d},65185:function(B){B.exports=N;function N(e){var p=0,L=0,a=0,C=0;return e.map(function(w){w=w.slice();var h=w[0],g=h.toUpperCase();if(h!=g)switch(w[0]=g,h){case"a":w[6]+=a,w[7]+=C;break;case"v":w[1]+=C;break;case"h":w[1]+=a;break;default:for(var t=1;t<w.length;)w[t++]+=a,w[t++]+=C}switch(g){case"Z":a=p,C=L;break;case"H":a=w[1];break;case"V":C=w[1];break;case"M":a=p=w[1],C=L=w[2];break;default:a=w[w.length-2],C=w[w.length-1]}return w})}},21527:function(B){B.exports=N;function N(e,p){if(!e||e.length==null)throw Error("Argument should be an array");p==null?p=1:p=Math.floor(p);for(var L=Array(p*2),a=0;a<p;a++){for(var C=-1/0,w=1/0,h=a,g=e.length;h<g;h+=p)e[h]>C&&(C=e[h]),e[h]<w&&(w=e[h]);L[a]=w,L[p+a]=C}return L}},6851:function(B){B.exports=function(N,e,p){if(typeof Array.prototype.findIndex=="function")return N.findIndex(e,p);if(typeof e!="function")throw new TypeError("predicate must be a function");var L=Object(N),a=L.length;if(a===0)return-1;for(var C=0;C<a;C++)if(e.call(p,L[C],C,L))return C;return-1}},54:function(B,N,e){var p=e(21527);B.exports=L;function L(a,C,w){if(!a||a.length==null)throw Error("Argument should be an array");C==null&&(C=1),w==null&&(w=p(a,C));for(var h=0;h<C;h++){var g=w[C+h],t=w[h],r=h,s=a.length;if(g===1/0&&t===-1/0)for(r=h;r<s;r+=C)a[r]=a[r]===g?1:a[r]===t?0:.5;else if(g===1/0)for(r=h;r<s;r+=C)a[r]=a[r]===g?1:0;else if(t===-1/0)for(r=h;r<s;r+=C)a[r]=a[r]===t?0:1;else{var n=g-t;for(r=h;r<s;r+=C)isNaN(a[r])||(a[r]=n===0?.5:(a[r]-t)/n)}}return a}},57471:function(B){B.exports=function(e,p){var L=typeof e=="number",a=typeof p=="number";L&&!a?(p=e,e=0):!L&&!a&&(e=0,p=0),e=e|0,p=p|0;var C=p-e;if(C<0)throw new Error("array length must be positive");for(var w=new Array(C),h=0,g=e;h<C;h++,g++)w[h]=g;return w}},32791:function(B,N,e){var p=e(90386);function L(J){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(oe){return typeof oe}:L=function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},L(J)}function a(J,ae){if(!(J instanceof ae))throw new TypeError("Cannot call a class as a function")}var C=e(79616),w=C.codes,h=w.ERR_AMBIGUOUS_ARGUMENT,g=w.ERR_INVALID_ARG_TYPE,t=w.ERR_INVALID_ARG_VALUE,r=w.ERR_INVALID_RETURN_VALUE,s=w.ERR_MISSING_ARGS,n=e(73894),l=e(43827),c=l.inspect,f=e(43827).types,m=f.isPromise,v=f.isRegExp,A=Object.assign?Object.assign:e(73523).assign,d=Object.is?Object.is:e(64003),u,y;function M(){var J=e(74061);u=J.isDeepEqual,y=J.isDeepStrictEqual}var S=!1,R=B.exports=D,x={};function E(J){throw J.message instanceof Error?J.message:new n(J)}function T(J,ae,oe,he,q){var Z=arguments.length,$;if(Z===0)$="Failed";else if(Z===1)oe=J,J=void 0;else{if(S===!1){S=!0;var K=p.emitWarning?p.emitWarning:console.warn.bind(console);K("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(he="!=")}if(oe instanceof Error)throw oe;var re={actual:J,expected:ae,operator:he===void 0?"fail":he,stackStartFn:q||T};oe!==void 0&&(re.message=oe);var le=new n(re);throw $&&(le.message=$,le.generatedMessage=!0),le}R.fail=T,R.AssertionError=n;function i(J,ae,oe,he){if(!oe){var q=!1;if(ae===0)q=!0,he="No value argument passed to `assert.ok()`";else if(he instanceof Error)throw he;var Z=new n({actual:oe,expected:!0,message:he,operator:"==",stackStartFn:J});throw Z.generatedMessage=q,Z}}function D(){for(var J=arguments.length,ae=new Array(J),oe=0;oe<J;oe++)ae[oe]=arguments[oe];i.apply(void 0,[D,ae.length].concat(ae))}R.ok=D,R.equal=function J(ae,oe,he){if(arguments.length<2)throw new s("actual","expected");ae!=oe&&E({actual:ae,expected:oe,message:he,operator:"==",stackStartFn:J})},R.notEqual=function J(ae,oe,he){if(arguments.length<2)throw new s("actual","expected");ae==oe&&E({actual:ae,expected:oe,message:he,operator:"!=",stackStartFn:J})},R.deepEqual=function J(ae,oe,he){if(arguments.length<2)throw new s("actual","expected");u===void 0&&M(),u(ae,oe)||E({actual:ae,expected:oe,message:he,operator:"deepEqual",stackStartFn:J})},R.notDeepEqual=function J(ae,oe,he){if(arguments.length<2)throw new s("actual","expected");u===void 0&&M(),u(ae,oe)&&E({actual:ae,expected:oe,message:he,operator:"notDeepEqual",stackStartFn:J})},R.deepStrictEqual=function J(ae,oe,he){if(arguments.length<2)throw new s("actual","expected");u===void 0&&M(),y(ae,oe)||E({actual:ae,expected:oe,message:he,operator:"deepStrictEqual",stackStartFn:J})},R.notDeepStrictEqual=b;function b(J,ae,oe){if(arguments.length<2)throw new s("actual","expected");u===void 0&&M(),y(J,ae)&&E({actual:J,expected:ae,message:oe,operator:"notDeepStrictEqual",stackStartFn:b})}R.strictEqual=function J(ae,oe,he){if(arguments.length<2)throw new s("actual","expected");d(ae,oe)||E({actual:ae,expected:oe,message:he,operator:"strictEqual",stackStartFn:J})},R.notStrictEqual=function J(ae,oe,he){if(arguments.length<2)throw new s("actual","expected");d(ae,oe)&&E({actual:ae,expected:oe,message:he,operator:"notStrictEqual",stackStartFn:J})};var O=function J(ae,oe,he){var q=this;a(this,J),oe.forEach(function(Z){Z in ae&&(he!==void 0&&typeof he[Z]=="string"&&v(ae[Z])&&ae[Z].test(he[Z])?q[Z]=he[Z]:q[Z]=ae[Z])})};function F(J,ae,oe,he,q,Z){if(!(oe in J)||!y(J[oe],ae[oe])){if(!he){var $=new O(J,q),K=new O(ae,q,J),re=new n({actual:$,expected:K,operator:"deepStrictEqual",stackStartFn:Z});throw re.actual=J,re.expected=ae,re.operator=Z.name,re}E({actual:J,expected:ae,message:he,operator:Z.name,stackStartFn:Z})}}function V(J,ae,oe,he){if(typeof ae!="function"){if(v(ae))return ae.test(J);if(arguments.length===2)throw new g("expected",["Function","RegExp"],ae);if(L(J)!=="object"||J===null){var q=new n({actual:J,expected:ae,message:oe,operator:"deepStrictEqual",stackStartFn:he});throw q.operator=he.name,q}var Z=Object.keys(ae);if(ae instanceof Error)Z.push("name","message");else if(Z.length===0)throw new t("error",ae,"may not be an empty object");return u===void 0&&M(),Z.forEach(function($){typeof J[$]=="string"&&v(ae[$])&&ae[$].test(J[$])||F(J,ae,$,oe,Z,he)}),!0}return ae.prototype!==void 0&&J instanceof ae?!0:Error.isPrototypeOf(ae)?!1:ae.call({},J)===!0}function _(J){if(typeof J!="function")throw new g("fn","Function",J);try{J()}catch(ae){return ae}return x}function U(J){return m(J)||J!==null&&L(J)==="object"&&typeof J.then=="function"&&typeof J.catch=="function"}function H(J){return Promise.resolve().then(function(){var ae;if(typeof J=="function"){if(ae=J(),!U(ae))throw new r("instance of Promise","promiseFn",ae)}else if(U(J))ae=J;else throw new g("promiseFn",["Function","Promise"],J);return Promise.resolve().then(function(){return ae}).then(function(){return x}).catch(function(oe){return oe})})}function z(J,ae,oe,he){if(typeof oe=="string"){if(arguments.length===4)throw new g("error",["Object","Error","Function","RegExp"],oe);if(L(ae)==="object"&&ae!==null){if(ae.message===oe)throw new h("error/message",'The error message "'.concat(ae.message,'" is identical to the message.'))}else if(ae===oe)throw new h("error/message",'The error "'.concat(ae,'" is identical to the message.'));he=oe,oe=void 0}else if(oe!=null&&L(oe)!=="object"&&typeof oe!="function")throw new g("error",["Object","Error","Function","RegExp"],oe);if(ae===x){var q="";oe&&oe.name&&(q+=" (".concat(oe.name,")")),q+=he?": ".concat(he):".";var Z=J.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:oe,operator:J.name,message:"Missing expected ".concat(Z).concat(q),stackStartFn:J})}if(oe&&!V(ae,oe,he,J))throw ae}function G(J,ae,oe,he){if(ae!==x){if(typeof oe=="string"&&(he=oe,oe=void 0),!oe||V(ae,oe)){var q=he?": ".concat(he):".",Z=J.name==="doesNotReject"?"rejection":"exception";E({actual:ae,expected:oe,operator:J.name,message:"Got unwanted ".concat(Z).concat(q,`
`)+'Actual message: "'.concat(ae&&ae.message,'"'),stackStartFn:J})}throw ae}}R.throws=function J(ae){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),q=1;q<oe;q++)he[q-1]=arguments[q];z.apply(void 0,[J,_(ae)].concat(he))},R.rejects=function J(ae){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),q=1;q<oe;q++)he[q-1]=arguments[q];return H(ae).then(function(Z){return z.apply(void 0,[J,Z].concat(he))})},R.doesNotThrow=function J(ae){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),q=1;q<oe;q++)he[q-1]=arguments[q];G.apply(void 0,[J,_(ae)].concat(he))},R.doesNotReject=function J(ae){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),q=1;q<oe;q++)he[q-1]=arguments[q];return H(ae).then(function(Z){return G.apply(void 0,[J,Z].concat(he))})},R.ifError=function J(ae){if(ae!=null){var oe="ifError got unwanted exception: ";L(ae)==="object"&&typeof ae.message=="string"?ae.message.length===0&&ae.constructor?oe+=ae.constructor.name:oe+=ae.message:oe+=c(ae);var he=new n({actual:ae,expected:null,operator:"ifError",message:oe,stackStartFn:J}),q=ae.stack;if(typeof q=="string"){var Z=q.split(`
`);Z.shift();for(var $=he.stack.split(`
`),K=0;K<Z.length;K++){var re=$.indexOf(Z[K]);if(re!==-1){$=$.slice(0,re);break}}he.stack="".concat($.join(`
`),`
`).concat(Z.join(`
`))}throw he}};function Y(){for(var J=arguments.length,ae=new Array(J),oe=0;oe<J;oe++)ae[oe]=arguments[oe];i.apply(void 0,[Y,ae.length].concat(ae))}R.strict=A(Y,R,{equal:R.strictEqual,deepEqual:R.deepStrictEqual,notEqual:R.notStrictEqual,notDeepEqual:R.notDeepStrictEqual}),R.strict.strict=R.strict},73894:function(B,N,e){var p=e(90386);function L(_){for(var U=1;U<arguments.length;U++){var H=arguments[U]!=null?arguments[U]:{},z=Object.keys(H);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(H).filter(function(G){return Object.getOwnPropertyDescriptor(H,G).enumerable}))),z.forEach(function(G){a(_,G,H[G])})}return _}function a(_,U,H){return U in _?Object.defineProperty(_,U,{value:H,enumerable:!0,configurable:!0,writable:!0}):_[U]=H,_}function C(_,U){if(!(_ instanceof U))throw new TypeError("Cannot call a class as a function")}function w(_,U){for(var H=0;H<U.length;H++){var z=U[H];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(_,z.key,z)}}function h(_,U,H){return U&&w(_.prototype,U),H&&w(_,H),_}function g(_,U){return U&&(v(U)==="object"||typeof U=="function")?U:t(_)}function t(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function r(_,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(U&&U.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),U&&f(_,U)}function s(_){var U=typeof Map=="function"?new Map:void 0;return s=function(z){if(z===null||!c(z))return z;if(typeof z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof U<"u"){if(U.has(z))return U.get(z);U.set(z,G)}function G(){return l(z,arguments,m(this).constructor)}return G.prototype=Object.create(z.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),f(G,z)},s(_)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function l(_,U,H){return n()?l=Reflect.construct:l=function(G,Y,J){var ae=[null];ae.push.apply(ae,Y);var oe=Function.bind.apply(G,ae),he=new oe;return J&&f(he,J.prototype),he},l.apply(null,arguments)}function c(_){return Function.toString.call(_).indexOf("[native code]")!==-1}function f(_,U){return f=Object.setPrototypeOf||function(z,G){return z.__proto__=G,z},f(_,U)}function m(_){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},m(_)}function v(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v=function(H){return typeof H}:v=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},v(_)}var A=e(43827),d=A.inspect,u=e(79616),y=u.codes.ERR_INVALID_ARG_TYPE;function M(_,U,H){return(H===void 0||H>_.length)&&(H=_.length),_.substring(H-U.length,H)===U}function S(_,U){if(U=Math.floor(U),_.length==0||U==0)return"";var H=_.length*U;for(U=Math.floor(Math.log(U)/Math.log(2));U;)_+=_,U--;return _+=_.substring(0,H-_.length),_}var R="",x="",E="",T="",i={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},D=10;function b(_){var U=Object.keys(_),H=Object.create(Object.getPrototypeOf(_));return U.forEach(function(z){H[z]=_[z]}),Object.defineProperty(H,"message",{value:_.message}),H}function O(_){return d(_,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function F(_,U,H){var z="",G="",Y=0,J="",ae=!1,oe=O(_),he=oe.split(`
`),q=O(U).split(`
`),Z=0,$="";if(H==="strictEqual"&&v(_)==="object"&&v(U)==="object"&&_!==null&&U!==null&&(H="strictEqualObject"),he.length===1&&q.length===1&&he[0]!==q[0]){var K=he[0].length+q[0].length;if(K<=D){if((v(_)!=="object"||_===null)&&(v(U)!=="object"||U===null)&&(_!==0||U!==0))return"".concat(i[H],`

`)+"".concat(he[0]," !== ").concat(q[0],`
`)}else if(H!=="strictEqualObject"){var re=p.stderr&&p.stderr.isTTY?p.stderr.columns:80;if(K<re){for(;he[0][Z]===q[0][Z];)Z++;Z>2&&($=`
  `.concat(S(" ",Z),"^"),Z=0)}}}for(var le=he[he.length-1],te=q[q.length-1];le===te&&(Z++<2?J=`
  `.concat(le).concat(J):z=le,he.pop(),q.pop(),!(he.length===0||q.length===0));)le=he[he.length-1],te=q[q.length-1];var ee=Math.max(he.length,q.length);if(ee===0){var ue=oe.split(`
`);if(ue.length>30)for(ue[26]="".concat(R,"...").concat(T);ue.length>27;)ue.pop();return"".concat(i.notIdentical,`

`).concat(ue.join(`
`),`
`)}Z>3&&(J=`
`.concat(R,"...").concat(T).concat(J),ae=!0),z!==""&&(J=`
  `.concat(z).concat(J),z="");var se=0,ve=i[H]+`
`.concat(x,"+ actual").concat(T," ").concat(E,"- expected").concat(T),be=" ".concat(R,"...").concat(T," Lines skipped");for(Z=0;Z<ee;Z++){var Ee=Z-Y;if(he.length<Z+1)Ee>1&&Z>2&&(Ee>4?(G+=`
`.concat(R,"...").concat(T),ae=!0):Ee>3&&(G+=`
  `.concat(q[Z-2]),se++),G+=`
  `.concat(q[Z-1]),se++),Y=Z,z+=`
`.concat(E,"-").concat(T," ").concat(q[Z]),se++;else if(q.length<Z+1)Ee>1&&Z>2&&(Ee>4?(G+=`
`.concat(R,"...").concat(T),ae=!0):Ee>3&&(G+=`
  `.concat(he[Z-2]),se++),G+=`
  `.concat(he[Z-1]),se++),Y=Z,G+=`
`.concat(x,"+").concat(T," ").concat(he[Z]),se++;else{var Ae=q[Z],Oe=he[Z],Ue=Oe!==Ae&&(!M(Oe,",")||Oe.slice(0,-1)!==Ae);Ue&&M(Ae,",")&&Ae.slice(0,-1)===Oe&&(Ue=!1,Oe+=","),Ue?(Ee>1&&Z>2&&(Ee>4?(G+=`
`.concat(R,"...").concat(T),ae=!0):Ee>3&&(G+=`
  `.concat(he[Z-2]),se++),G+=`
  `.concat(he[Z-1]),se++),Y=Z,G+=`
`.concat(x,"+").concat(T," ").concat(Oe),z+=`
`.concat(E,"-").concat(T," ").concat(Ae),se+=2):(G+=z,z="",(Ee===1||Z===0)&&(G+=`
  `.concat(Oe),se++))}if(se>20&&Z<ee-2)return"".concat(ve).concat(be,`
`).concat(G,`
`).concat(R,"...").concat(T).concat(z,`
`)+"".concat(R,"...").concat(T)}return"".concat(ve).concat(ae?be:"",`
`).concat(G).concat(z).concat(J).concat($)}var V=function(_){r(U,_);function U(H){var z;if(C(this,U),v(H)!=="object"||H===null)throw new y("options","Object",H);var G=H.message,Y=H.operator,J=H.stackStartFn,ae=H.actual,oe=H.expected,he=Error.stackTraceLimit;if(Error.stackTraceLimit=0,G!=null)z=g(this,m(U).call(this,String(G)));else if(p.stderr&&p.stderr.isTTY&&(p.stderr&&p.stderr.getColorDepth&&p.stderr.getColorDepth()!==1?(R="\x1B[34m",x="\x1B[32m",T="\x1B[39m",E="\x1B[31m"):(R="",x="",T="",E="")),v(ae)==="object"&&ae!==null&&v(oe)==="object"&&oe!==null&&"stack"in ae&&ae instanceof Error&&"stack"in oe&&oe instanceof Error&&(ae=b(ae),oe=b(oe)),Y==="deepStrictEqual"||Y==="strictEqual")z=g(this,m(U).call(this,F(ae,oe,Y)));else if(Y==="notDeepStrictEqual"||Y==="notStrictEqual"){var q=i[Y],Z=O(ae).split(`
`);if(Y==="notStrictEqual"&&v(ae)==="object"&&ae!==null&&(q=i.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(R,"...").concat(T);Z.length>27;)Z.pop();Z.length===1?z=g(this,m(U).call(this,"".concat(q," ").concat(Z[0]))):z=g(this,m(U).call(this,"".concat(q,`

`).concat(Z.join(`
`),`
`)))}else{var $=O(ae),K="",re=i[Y];Y==="notDeepEqual"||Y==="notEqual"?($="".concat(i[Y],`

`).concat($),$.length>1024&&($="".concat($.slice(0,1021),"..."))):(K="".concat(O(oe)),$.length>512&&($="".concat($.slice(0,509),"...")),K.length>512&&(K="".concat(K.slice(0,509),"...")),Y==="deepEqual"||Y==="equal"?$="".concat(re,`

`).concat($,`

should equal

`):K=" ".concat(Y," ").concat(K)),z=g(this,m(U).call(this,"".concat($).concat(K)))}return Error.stackTraceLimit=he,z.generatedMessage=!G,Object.defineProperty(t(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=ae,z.expected=oe,z.operator=Y,Error.captureStackTrace&&Error.captureStackTrace(t(z),J),z.stack,z.name="AssertionError",g(z)}return h(U,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(z,G){return d(this,L({},G,{customInspect:!1,depth:0}))}}]),U}(s(Error));B.exports=V},79616:function(B,N,e){function p(v){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(d){return typeof d}:p=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},p(v)}function L(v,A){if(!(v instanceof A))throw new TypeError("Cannot call a class as a function")}function a(v,A){return A&&(p(A)==="object"||typeof A=="function")?A:C(v)}function C(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function w(v){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},w(v)}function h(v,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(A&&A.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),A&&g(v,A)}function g(v,A){return g=Object.setPrototypeOf||function(u,y){return u.__proto__=y,u},g(v,A)}var t={},r,s;function n(v,A,d){d||(d=Error);function u(M,S,R){return typeof A=="string"?A:A(M,S,R)}var y=function(M){h(S,M);function S(R,x,E){var T;return L(this,S),T=a(this,w(S).call(this,u(R,x,E))),T.code=v,T}return S}(d);t[v]=y}function l(v,A){if(Array.isArray(v)){var d=v.length;return v=v.map(function(u){return String(u)}),d>2?"one of ".concat(A," ").concat(v.slice(0,d-1).join(", "),", or ")+v[d-1]:d===2?"one of ".concat(A," ").concat(v[0]," or ").concat(v[1]):"of ".concat(A," ").concat(v[0])}else return"of ".concat(A," ").concat(String(v))}function c(v,A,d){return v.substr(!d||d<0?0:+d,A.length)===A}function f(v,A,d){return(d===void 0||d>v.length)&&(d=v.length),v.substring(d-A.length,d)===A}function m(v,A,d){return typeof d!="number"&&(d=0),d+A.length>v.length?!1:v.indexOf(A,d)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(v,A,d){r===void 0&&(r=e(32791)),r(typeof v=="string","'name' must be a string");var u;typeof A=="string"&&c(A,"not ")?(u="must not be",A=A.replace(/^not /,"")):u="must be";var y;if(f(v," argument"))y="The ".concat(v," ").concat(u," ").concat(l(A,"type"));else{var M=m(v,".")?"property":"argument";y='The "'.concat(v,'" ').concat(M," ").concat(u," ").concat(l(A,"type"))}return y+=". Received type ".concat(p(d)),y},TypeError),n("ERR_INVALID_ARG_VALUE",function(v,A){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";s===void 0&&(s=e(43827));var u=s.inspect(A);return u.length>128&&(u="".concat(u.slice(0,128),"...")),"The argument '".concat(v,"' ").concat(d,". Received ").concat(u)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(v,A,d){var u;return d&&d.constructor&&d.constructor.name?u="instance of ".concat(d.constructor.name):u="type ".concat(p(d)),"Expected ".concat(v,' to be returned from the "').concat(A,'"')+" function but got ".concat(u,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var v=arguments.length,A=new Array(v),d=0;d<v;d++)A[d]=arguments[d];r===void 0&&(r=e(32791)),r(A.length>0,"At least one arg needs to be specified");var u="The ",y=A.length;switch(A=A.map(function(M){return'"'.concat(M,'"')}),y){case 1:u+="".concat(A[0]," argument");break;case 2:u+="".concat(A[0]," and ").concat(A[1]," arguments");break;default:u+=A.slice(0,y-1).join(", "),u+=", and ".concat(A[y-1]," arguments");break}return"".concat(u," must be specified")},TypeError),B.exports.codes=t},74061:function(B,N,e){function p(Le,we){return C(Le)||a(Le,we)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Le,we){var Ce=[],Ve=!0,Ne=!1,ke=void 0;try{for(var We=Le[Symbol.iterator](),rt;!(Ve=(rt=We.next()).done)&&(Ce.push(rt.value),!(we&&Ce.length===we));Ve=!0);}catch(et){Ne=!0,ke=et}finally{try{!Ve&&We.return!=null&&We.return()}finally{if(Ne)throw ke}}return Ce}function C(Le){if(Array.isArray(Le))return Le}function w(Le){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(Ce){return typeof Ce}:w=function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},w(Le)}var h=/a/g.flags!==void 0,g=function(we){var Ce=[];return we.forEach(function(Ve){return Ce.push(Ve)}),Ce},t=function(we){var Ce=[];return we.forEach(function(Ve,Ne){return Ce.push([Ne,Ve])}),Ce},r=Object.is?Object.is:e(64003),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(15567);function l(Le){return Le.call.bind(Le)}var c=l(Object.prototype.hasOwnProperty),f=l(Object.prototype.propertyIsEnumerable),m=l(Object.prototype.toString),v=e(43827).types,A=v.isAnyArrayBuffer,d=v.isArrayBufferView,u=v.isDate,y=v.isMap,M=v.isRegExp,S=v.isSet,R=v.isNativeError,x=v.isBoxedPrimitive,E=v.isNumberObject,T=v.isStringObject,i=v.isBooleanObject,D=v.isBigIntObject,b=v.isSymbolObject,O=v.isFloat32Array,F=v.isFloat64Array;function V(Le){if(Le.length===0||Le.length>10)return!0;for(var we=0;we<Le.length;we++){var Ce=Le.charCodeAt(we);if(Ce<48||Ce>57)return!0}return Le.length===10&&Le>=Math.pow(2,32)}function _(Le){return Object.keys(Le).filter(V).concat(s(Le).filter(Object.prototype.propertyIsEnumerable.bind(Le)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function U(Le,we){if(Le===we)return 0;for(var Ce=Le.length,Ve=we.length,Ne=0,ke=Math.min(Ce,Ve);Ne<ke;++Ne)if(Le[Ne]!==we[Ne]){Ce=Le[Ne],Ve=we[Ne];break}return Ce<Ve?-1:Ve<Ce?1:0}var H=!0,z=!1,G=0,Y=1,J=2,ae=3;function oe(Le,we){return h?Le.source===we.source&&Le.flags===we.flags:RegExp.prototype.toString.call(Le)===RegExp.prototype.toString.call(we)}function he(Le,we){if(Le.byteLength!==we.byteLength)return!1;for(var Ce=0;Ce<Le.byteLength;Ce++)if(Le[Ce]!==we[Ce])return!1;return!0}function q(Le,we){return Le.byteLength!==we.byteLength?!1:U(new Uint8Array(Le.buffer,Le.byteOffset,Le.byteLength),new Uint8Array(we.buffer,we.byteOffset,we.byteLength))===0}function Z(Le,we){return Le.byteLength===we.byteLength&&U(new Uint8Array(Le),new Uint8Array(we))===0}function $(Le,we){return E(Le)?E(we)&&r(Number.prototype.valueOf.call(Le),Number.prototype.valueOf.call(we)):T(Le)?T(we)&&String.prototype.valueOf.call(Le)===String.prototype.valueOf.call(we):i(Le)?i(we)&&Boolean.prototype.valueOf.call(Le)===Boolean.prototype.valueOf.call(we):D(Le)?D(we)&&BigInt.prototype.valueOf.call(Le)===BigInt.prototype.valueOf.call(we):b(we)&&Symbol.prototype.valueOf.call(Le)===Symbol.prototype.valueOf.call(we)}function K(Le,we,Ce,Ve){if(Le===we)return Le!==0?!0:Ce?r(Le,we):!0;if(Ce){if(w(Le)!=="object")return typeof Le=="number"&&n(Le)&&n(we);if(w(we)!=="object"||Le===null||we===null||Object.getPrototypeOf(Le)!==Object.getPrototypeOf(we))return!1}else{if(Le===null||w(Le)!=="object")return we===null||w(we)!=="object"?Le==we:!1;if(we===null||w(we)!=="object")return!1}var Ne=m(Le),ke=m(we);if(Ne!==ke)return!1;if(Array.isArray(Le)){if(Le.length!==we.length)return!1;var We=_(Le),rt=_(we);return We.length!==rt.length?!1:le(Le,we,Ce,Ve,Y,We)}if(Ne==="[object Object]"&&(!y(Le)&&y(we)||!S(Le)&&S(we)))return!1;if(u(Le)){if(!u(we)||Date.prototype.getTime.call(Le)!==Date.prototype.getTime.call(we))return!1}else if(M(Le)){if(!M(we)||!oe(Le,we))return!1}else if(R(Le)||Le instanceof Error){if(Le.message!==we.message||Le.name!==we.name)return!1}else if(d(Le)){if(!Ce&&(O(Le)||F(Le))){if(!he(Le,we))return!1}else if(!q(Le,we))return!1;var et=_(Le),tt=_(we);return et.length!==tt.length?!1:le(Le,we,Ce,Ve,G,et)}else{if(S(Le))return!S(we)||Le.size!==we.size?!1:le(Le,we,Ce,Ve,J);if(y(Le))return!y(we)||Le.size!==we.size?!1:le(Le,we,Ce,Ve,ae);if(A(Le)){if(!Z(Le,we))return!1}else if(x(Le)&&!$(Le,we))return!1}return le(Le,we,Ce,Ve,G)}function re(Le,we){return we.filter(function(Ce){return f(Le,Ce)})}function le(Le,we,Ce,Ve,Ne,ke){if(arguments.length===5){ke=Object.keys(Le);var We=Object.keys(we);if(ke.length!==We.length)return!1}for(var rt=0;rt<ke.length;rt++)if(!c(we,ke[rt]))return!1;if(Ce&&arguments.length===5){var et=s(Le);if(et.length!==0){var tt=0;for(rt=0;rt<et.length;rt++){var at=et[rt];if(f(Le,at)){if(!f(we,at))return!1;ke.push(at),tt++}else if(f(we,at))return!1}var ct=s(we);if(et.length!==ct.length&&re(we,ct).length!==tt)return!1}else{var dt=s(we);if(dt.length!==0&&re(we,dt).length!==0)return!1}}if(ke.length===0&&(Ne===G||Ne===Y&&Le.length===0||Le.size===0))return!0;if(Ve===void 0)Ve={val1:new Map,val2:new Map,position:0};else{var gt=Ve.val1.get(Le);if(gt!==void 0){var Et=Ve.val2.get(we);if(Et!==void 0)return gt===Et}Ve.position++}Ve.val1.set(Le,Ve.position),Ve.val2.set(we,Ve.position);var Ct=Ae(Le,we,Ce,ke,Ve,Ne);return Ve.val1.delete(Le),Ve.val2.delete(we),Ct}function te(Le,we,Ce,Ve){for(var Ne=g(Le),ke=0;ke<Ne.length;ke++){var We=Ne[ke];if(K(we,We,Ce,Ve))return Le.delete(We),!0}return!1}function ee(Le){switch(w(Le)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Le=+Le;case"number":if(n(Le))return!1}return!0}function ue(Le,we,Ce){var Ve=ee(Ce);return Ve??(we.has(Ve)&&!Le.has(Ve))}function se(Le,we,Ce,Ve,Ne){var ke=ee(Ce);if(ke!=null)return ke;var We=we.get(ke);return We===void 0&&!we.has(ke)||!K(Ve,We,!1,Ne)?!1:!Le.has(ke)&&K(Ve,We,!1,Ne)}function ve(Le,we,Ce,Ve){for(var Ne=null,ke=g(Le),We=0;We<ke.length;We++){var rt=ke[We];if(w(rt)==="object"&&rt!==null)Ne===null&&(Ne=new Set),Ne.add(rt);else if(!we.has(rt)){if(Ce||!ue(Le,we,rt))return!1;Ne===null&&(Ne=new Set),Ne.add(rt)}}if(Ne!==null){for(var et=g(we),tt=0;tt<et.length;tt++){var at=et[tt];if(w(at)==="object"&&at!==null){if(!te(Ne,at,Ce,Ve))return!1}else if(!Ce&&!Le.has(at)&&!te(Ne,at,Ce,Ve))return!1}return Ne.size===0}return!0}function be(Le,we,Ce,Ve,Ne,ke){for(var We=g(Le),rt=0;rt<We.length;rt++){var et=We[rt];if(K(Ce,et,Ne,ke)&&K(Ve,we.get(et),Ne,ke))return Le.delete(et),!0}return!1}function Ee(Le,we,Ce,Ve){for(var Ne=null,ke=t(Le),We=0;We<ke.length;We++){var rt=p(ke[We],2),et=rt[0],tt=rt[1];if(w(et)==="object"&&et!==null)Ne===null&&(Ne=new Set),Ne.add(et);else{var at=we.get(et);if(at===void 0&&!we.has(et)||!K(tt,at,Ce,Ve)){if(Ce||!se(Le,we,et,tt,Ve))return!1;Ne===null&&(Ne=new Set),Ne.add(et)}}}if(Ne!==null){for(var ct=t(we),dt=0;dt<ct.length;dt++){var gt=p(ct[dt],2),et=gt[0],Et=gt[1];if(w(et)==="object"&&et!==null){if(!be(Ne,Le,et,Et,Ce,Ve))return!1}else if(!Ce&&(!Le.has(et)||!K(Le.get(et),Et,!1,Ve))&&!be(Ne,Le,et,Et,!1,Ve))return!1}return Ne.size===0}return!0}function Ae(Le,we,Ce,Ve,Ne,ke){var We=0;if(ke===J){if(!ve(Le,we,Ce,Ne))return!1}else if(ke===ae){if(!Ee(Le,we,Ce,Ne))return!1}else if(ke===Y)for(;We<Le.length;We++)if(c(Le,We)){if(!c(we,We)||!K(Le[We],we[We],Ce,Ne))return!1}else{if(c(we,We))return!1;for(var rt=Object.keys(Le);We<rt.length;We++){var et=rt[We];if(!c(we,et)||!K(Le[et],we[et],Ce,Ne))return!1}return rt.length===Object.keys(we).length}for(We=0;We<Ve.length;We++){var tt=Ve[We];if(!K(Le[tt],we[tt],Ce,Ne))return!1}return!0}function Oe(Le,we){return K(Le,we,z)}function Ue(Le,we){return K(Le,we,H)}B.exports={isDeepEqual:Oe,isDeepStrictEqual:Ue}},95341:function(B,N){N.byteLength=g,N.toByteArray=r,N.fromByteArray=l;for(var e=[],p=[],L=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,w=a.length;C<w;++C)e[C]=a[C],p[a.charCodeAt(C)]=C;p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63;function h(c){var f=c.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=c.indexOf("=");m===-1&&(m=f);var v=m===f?0:4-m%4;return[m,v]}function g(c){var f=h(c),m=f[0],v=f[1];return(m+v)*3/4-v}function t(c,f,m){return(f+m)*3/4-m}function r(c){var f,m=h(c),v=m[0],A=m[1],d=new L(t(c,v,A)),u=0,y=A>0?v-4:v,M;for(M=0;M<y;M+=4)f=p[c.charCodeAt(M)]<<18|p[c.charCodeAt(M+1)]<<12|p[c.charCodeAt(M+2)]<<6|p[c.charCodeAt(M+3)],d[u++]=f>>16&255,d[u++]=f>>8&255,d[u++]=f&255;return A===2&&(f=p[c.charCodeAt(M)]<<2|p[c.charCodeAt(M+1)]>>4,d[u++]=f&255),A===1&&(f=p[c.charCodeAt(M)]<<10|p[c.charCodeAt(M+1)]<<4|p[c.charCodeAt(M+2)]>>2,d[u++]=f>>8&255,d[u++]=f&255),d}function s(c){return e[c>>18&63]+e[c>>12&63]+e[c>>6&63]+e[c&63]}function n(c,f,m){for(var v,A=[],d=f;d<m;d+=3)v=(c[d]<<16&16711680)+(c[d+1]<<8&65280)+(c[d+2]&255),A.push(s(v));return A.join("")}function l(c){for(var f,m=c.length,v=m%3,A=[],d=16383,u=0,y=m-v;u<y;u+=d)A.push(n(c,u,u+d>y?y:u+d));return v===1?(f=c[m-1],A.push(e[f>>2]+e[f<<4&63]+"==")):v===2&&(f=(c[m-2]<<8)+c[m-1],A.push(e[f>>10]+e[f>>4&63]+e[f<<2&63]+"=")),A.join("")}},91358:function(B){function N(w,h,g,t,r){for(var s=r+1;t<=r;){var n=t+r>>>1,l=w[n],c=g!==void 0?g(l,h):l-h;c>=0?(s=n,r=n-1):t=n+1}return s}function e(w,h,g,t,r){for(var s=r+1;t<=r;){var n=t+r>>>1,l=w[n],c=g!==void 0?g(l,h):l-h;c>0?(s=n,r=n-1):t=n+1}return s}function p(w,h,g,t,r){for(var s=t-1;t<=r;){var n=t+r>>>1,l=w[n],c=g!==void 0?g(l,h):l-h;c<0?(s=n,t=n+1):r=n-1}return s}function L(w,h,g,t,r){for(var s=t-1;t<=r;){var n=t+r>>>1,l=w[n],c=g!==void 0?g(l,h):l-h;c<=0?(s=n,t=n+1):r=n-1}return s}function a(w,h,g,t,r){for(;t<=r;){var s=t+r>>>1,n=w[s],l=g!==void 0?g(n,h):n-h;if(l===0)return s;l<=0?t=s+1:r=s-1}return-1}function C(w,h,g,t,r,s){return typeof g=="function"?s(w,h,g,t===void 0?0:t|0,r===void 0?w.length-1:r|0):s(w,h,void 0,g===void 0?0:g|0,t===void 0?w.length-1:t|0)}B.exports={ge:function(w,h,g,t,r){return C(w,h,g,t,r,N)},gt:function(w,h,g,t,r){return C(w,h,g,t,r,e)},lt:function(w,h,g,t,r){return C(w,h,g,t,r,p)},le:function(w,h,g,t,r){return C(w,h,g,t,r,L)},eq:function(w,h,g,t,r){return C(w,h,g,t,r,a)}}},13547:function(B,N){"use restrict";var e=32;N.INT_BITS=e,N.INT_MAX=2147483647,N.INT_MIN=-1<<e-1,N.sign=function(a){return(a>0)-(a<0)},N.abs=function(a){var C=a>>e-1;return(a^C)-C},N.min=function(a,C){return C^(a^C)&-(a<C)},N.max=function(a,C){return a^(a^C)&-(a<C)},N.isPow2=function(a){return!(a&a-1)&&!!a},N.log2=function(a){var C,w;return C=(a>65535)<<4,a>>>=C,w=(a>255)<<3,a>>>=w,C|=w,w=(a>15)<<2,a>>>=w,C|=w,w=(a>3)<<1,a>>>=w,C|=w,C|a>>1},N.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},N.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function p(a){var C=32;return a&=-a,a&&C--,a&65535&&(C-=16),a&16711935&&(C-=8),a&252645135&&(C-=4),a&858993459&&(C-=2),a&1431655765&&(C-=1),C}N.countTrailingZeros=p,N.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},N.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},N.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var L=new Array(256);(function(a){for(var C=0;C<256;++C){var w=C,h=C,g=7;for(w>>>=1;w;w>>>=1)h<<=1,h|=w&1,--g;a[C]=h<<g&255}})(L),N.reverse=function(a){return L[a&255]<<24|L[a>>>8&255]<<16|L[a>>>16&255]<<8|L[a>>>24&255]},N.interleave2=function(a,C){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,a|C<<1},N.deinterleave2=function(a,C){return a=a>>>C&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},N.interleave3=function(a,C,w){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,a|=C<<1,w&=1023,w=(w|w<<16)&4278190335,w=(w|w<<8)&251719695,w=(w|w<<4)&3272356035,w=(w|w<<2)&1227133513,a|w<<2},N.deinterleave3=function(a,C){return a=a>>>C&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},N.nextCombination=function(a){var C=a|a-1;return C+1|(~C&-~C)-1>>>p(a)+1}},44781:function(B,N,e){var p=e(53435);B.exports=a;var L=1e20;function a(h,g){g||(g={});var t=g.cutoff==null?.25:g.cutoff,r=g.radius==null?8:g.radius,s=g.channel||0,n,l,c,f,m,v,A,d,u,y,M;if(ArrayBuffer.isView(h)||Array.isArray(h)){if(!g.width||!g.height)throw Error("For raw data width and height should be provided by options");n=g.width,l=g.height,f=h,g.stride?v=g.stride:v=Math.floor(h.length/n/l)}else window.HTMLCanvasElement&&h instanceof window.HTMLCanvasElement?(d=h,A=d.getContext("2d"),n=d.width,l=d.height,u=A.getImageData(0,0,n,l),f=u.data,v=4):window.CanvasRenderingContext2D&&h instanceof window.CanvasRenderingContext2D?(d=h.canvas,A=h,n=d.width,l=d.height,u=A.getImageData(0,0,n,l),f=u.data,v=4):window.ImageData&&h instanceof window.ImageData&&(u=h,n=h.width,l=h.height,f=u.data,v=4);if(c=Math.max(n,l),window.Uint8ClampedArray&&f instanceof window.Uint8ClampedArray||window.Uint8Array&&f instanceof window.Uint8Array)for(m=f,f=Array(n*l),y=0,M=m.length;y<M;y++)f[y]=m[y*v+s]/255;else if(v!==1)throw Error("Raw data can have only 1 value per pixel");var S=Array(n*l),R=Array(n*l),x=Array(c),E=Array(c),T=Array(c+1),i=Array(c);for(y=0,M=n*l;y<M;y++){var D=f[y];S[y]=D===1?0:D===0?L:Math.pow(Math.max(0,.5-D),2),R[y]=D===1?L:D===0?0:Math.pow(Math.max(0,D-.5),2)}C(S,n,l,x,E,i,T),C(R,n,l,x,E,i,T);var b=window.Float32Array?new Float32Array(n*l):new Array(n*l);for(y=0,M=n*l;y<M;y++)b[y]=p(1-((S[y]-R[y])/r+t),0,1);return b}function C(h,g,t,r,s,n,l){for(var c=0;c<g;c++){for(var f=0;f<t;f++)r[f]=h[f*g+c];for(w(r,s,n,l,t),f=0;f<t;f++)h[f*g+c]=s[f]}for(f=0;f<t;f++){for(c=0;c<g;c++)r[c]=h[f*g+c];for(w(r,s,n,l,g),c=0;c<g;c++)h[f*g+c]=Math.sqrt(s[c])}}function w(h,g,t,r,s){t[0]=0,r[0]=-L,r[1]=+L;for(var n=1,l=0;n<s;n++){for(var c=(h[n]+n*n-(h[t[l]]+t[l]*t[l]))/(2*n-2*t[l]);c<=r[l];)l--,c=(h[n]+n*n-(h[t[l]]+t[l]*t[l]))/(2*n-2*t[l]);l++,t[l]=n,r[l]=c,r[l+1]=+L}for(n=0,l=0;n<s;n++){for(;r[l+1]<n;)l++;g[n]=(n-t[l])*(n-t[l])+h[t[l]]}}},6614:function(B,N,e){var p=e(68318),L=e(68222),a=L(p("String.prototype.indexOf"));B.exports=function(w,h){var g=p(w,!!h);return typeof g=="function"&&a(w,".prototype.")>-1?L(g):g}},68222:function(B,N,e){var p=e(77575),L=e(68318),a=L("%Function.prototype.apply%"),C=L("%Function.prototype.call%"),w=L("%Reflect.apply%",!0)||p.call(C,a),h=L("%Object.getOwnPropertyDescriptor%",!0),g=L("%Object.defineProperty%",!0),t=L("%Math.max%");if(g)try{g({},"a",{value:1})}catch{g=null}B.exports=function(n){var l=w(p,C,arguments);if(h&&g){var c=h(l,"length");c.configurable&&g(l,"length",{value:1+t(0,n.length-(arguments.length-1))})}return l};var r=function(){return w(p,a,arguments)};g?g(B.exports,"apply",{value:r}):B.exports.apply=r},53435:function(B){B.exports=N;function N(e,p,L){return p<L?e<p?p:e>L?L:e:e<L?L:e>p?p:e}},6475:function(B,N,e){var p=e(53435);B.exports=L,B.exports.to=L,B.exports.from=a;function L(C,w){w==null&&(w=!0);var h=C[0],g=C[1],t=C[2],r=C[3];r==null&&(r=w?1:255),w&&(h*=255,g*=255,t*=255,r*=255),h=p(h,0,255)&255,g=p(g,0,255)&255,t=p(t,0,255)&255,r=p(r,0,255)&255;var s=h*16777216+(g<<16)+(t<<8)+r;return s}function a(C,w){C=+C;var h=C>>>24,g=(C&16711680)>>>16,t=(C&65280)>>>8,r=C&255;return w===!1?[h,g,t,r]:[h/255,g/255,t/255,r/255]}},76857:function(B){B.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(B,N,e){var p=e(36652),L=e(53435),a=e(90660);B.exports=function(h,g){(g==="float"||!g)&&(g="array"),g==="uint"&&(g="uint8"),g==="uint_clamped"&&(g="uint8_clamped");var t=a(g),r=new t(4),s=g!=="uint8"&&g!=="uint8_clamped";return(!h.length||typeof h=="string")&&(h=p(h),h[0]/=255,h[1]/=255,h[2]/=255),C(h)?(r[0]=h[0],r[1]=h[1],r[2]=h[2],r[3]=h[3]!=null?h[3]:255,s&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(s?(r[0]=h[0],r[1]=h[1],r[2]=h[2],r[3]=h[3]!=null?h[3]:1):(r[0]=L(Math.floor(h[0]*255),0,255),r[1]=L(Math.floor(h[1]*255),0,255),r[2]=L(Math.floor(h[2]*255),0,255),r[3]=h[3]==null?255:L(Math.floor(h[3]*255),0,255)),r)};function C(w){return!!(w instanceof Uint8Array||w instanceof Uint8ClampedArray||Array.isArray(w)&&(w[0]>1||w[0]===0)&&(w[1]>1||w[1]===0)&&(w[2]>1||w[2]===0)&&(!w[3]||w[3]>1))}},90736:function(B,N,e){var p=e(76857),L=e(10973),a=e(46775);B.exports=w;var C={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function w(h){var g,t=[],r=1,s;if(typeof h=="string")if(p[h])t=p[h].slice(),s="rgb";else if(h==="transparent")r=0,s="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(h)){var n=h.slice(1),l=n.length,c=l<=4;r=1,c?(t=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],l===4&&(r=parseInt(n[3]+n[3],16)/255)):(t=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],l===8&&(r=parseInt(n[6]+n[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),s="rgb"}else if(g=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(h)){var f=g[1],m=f==="rgb",n=f.replace(/a$/,"");s=n;var l=n==="cmyk"?4:n==="gray"?1:3;t=g[2].trim().split(/\s*,\s*/).map(function(u,y){if(/%$/.test(u))return y===l?parseFloat(u)/100:n==="rgb"?parseFloat(u)*255/100:parseFloat(u);if(n[y]==="h"){if(/deg$/.test(u))return parseFloat(u);if(C[u]!==void 0)return C[u]}return parseFloat(u)}),f===n&&t.push(1),r=m||t[l]===void 0?1:t[l],t=t.slice(0,l)}else h.length>10&&/[0-9](?:\s|\/)/.test(h)&&(t=h.match(/([0-9]+)/g).map(function(A){return parseFloat(A)}),s=h.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(h))s="rgb",t=[h>>>16,(h&65280)>>>8,h&255];else if(L(h)){var v=a(h.r,h.red,h.R,null);v!==null?(s="rgb",t=[v,a(h.g,h.green,h.G),a(h.b,h.blue,h.B)]):(s="hsl",t=[a(h.h,h.hue,h.H),a(h.s,h.saturation,h.S),a(h.l,h.lightness,h.L,h.b,h.brightness)]),r=a(h.a,h.alpha,h.opacity,1),h.opacity!=null&&(r/=100)}else(Array.isArray(h)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(h))&&(t=[h[0],h[1],h[2]],s="rgb",r=h.length===4?h[3]:1);return{space:s,values:t,alpha:r}}},36652:function(B,N,e){var p=e(90736),L=e(80009),a=e(53435);B.exports=function(w){var h,g=p(w);return g.space?(h=Array(3),h[0]=a(g.values[0],0,255),h[1]=a(g.values[1],0,255),h[2]=a(g.values[2],0,255),g.space[0]==="h"&&(h=L.rgb(h)),h.push(a(g.alpha,0,1)),h):[]}},80009:function(B,N,e){var p=e(6866);B.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(L){var a=L[0]/360,C=L[1]/100,w=L[2]/100,h,g,t,r,s;if(C===0)return s=w*255,[s,s,s];w<.5?g=w*(1+C):g=w+C-w*C,h=2*w-g,r=[0,0,0];for(var n=0;n<3;n++)t=a+.3333333333333333*-(n-1),t<0?t++:t>1&&t--,6*t<1?s=h+(g-h)*6*t:2*t<1?s=g:3*t<2?s=h+(g-h)*(.6666666666666666-t)*6:s=h,r[n]=s*255;return r}},p.hsl=function(L){var a=L[0]/255,C=L[1]/255,w=L[2]/255,h=Math.min(a,C,w),g=Math.max(a,C,w),t=g-h,r,s,n;return g===h?r=0:a===g?r=(C-w)/t:C===g?r=2+(w-a)/t:w===g&&(r=4+(a-C)/t),r=Math.min(r*60,360),r<0&&(r+=360),n=(h+g)/2,g===h?s=0:n<=.5?s=t/(g+h):s=t/(2-g-h),[r,s*100,n*100]}},6866:function(B){B.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(B){B.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(B,N,e){B.exports={parse:e(41004),stringify:e(53313)}},63625:function(B,N,e){var p=e(40402);B.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||p.indexOf(a)!==-1}}},41004:function(B,N,e){var p=e(90448),L=e(38732),a=e(41901),C=e(15659),w=e(96209),h=e(83794),g=e(99011),t=e(63625).isSize;B.exports=s;var r=s.cache={};function s(l){if(typeof l!="string")throw new Error("Font argument must be a string.");if(r[l])return r[l];if(l==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(l)!==-1)return r[l]={system:l};for(var c={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},f=g(l,/\s+/),m;m=f.shift();){if(L.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(A){c[A]=m}),r[l]=c;if(w.indexOf(m)!==-1){c.style=m;continue}if(m==="normal"||m==="small-caps"){c.variant=m;continue}if(h.indexOf(m)!==-1){c.stretch=m;continue}if(C.indexOf(m)!==-1){c.weight=m;continue}if(t(m)){var v=g(m,"/");if(c.size=v[0],v[1]!=null?c.lineHeight=n(v[1]):f[0]==="/"&&(f.shift(),c.lineHeight=n(f.shift())),!f.length)throw new Error("Missing required font-family.");return c.family=g(f.join(" "),/\s*,\s*/).map(p),r[l]=c}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function n(l){var c=parseFloat(l);return c.toString()===l?c:l}},53313:function(B,N,e){var p=e(71299),L=e(63625).isSize,a=l(e(38732)),C=l(e(41901)),w=l(e(15659)),h=l(e(96209)),g=l(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},s={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};B.exports=function(f){if(f=p(f,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),f.system)return f.system&&n(f.system,C),f.system;if(n(f.style,h),n(f.variant,t),n(f.weight,w),n(f.stretch,g),f.size==null&&(f.size=s.size),typeof f.size=="number"&&(f.size+="px"),!L)throw Error("Bad size value `"+f.size+"`");f.family||(f.family=s.family),Array.isArray(f.family)&&(f.family.length||(f.family=[s.family]),f.family=f.family.map(function(v){return r[v]?v:'"'+v+'"'}).join(", "));var m=[];return m.push(f.style),f.variant!==f.style&&m.push(f.variant),f.weight!==f.variant&&f.weight!==f.style&&m.push(f.weight),f.stretch!==f.weight&&f.stretch!==f.variant&&f.stretch!==f.style&&m.push(f.stretch),m.push(f.size+(f.lineHeight==null||f.lineHeight==="normal"||f.lineHeight+""=="1"?"":"/"+f.lineHeight)),m.push(f.family),m.filter(Boolean).join(" ")};function n(c,f){if(c&&!f[c]&&!a[c])throw Error("Unknown keyword `"+c+"`");return c}function l(c){for(var f={},m=0;m<c.length;m++)f[c[m]]=1;return f}},55174:function(B,N,e){var p=e(24582),L=e(10424),a=e(82527),C=e(19012),w=e(21780),h=e(16906),g=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,s;s=function(n,l,c){var f=L(l)&&a(l.value),m;return m=C(l),delete m.writable,delete m.value,m.get=function(){return!c.overwriteDefinition&&r.call(this,n)?f:(l.value=g.call(f,c.resolveContext?c.resolveContext(this):this),t(this,n,l),this[n])},m},B.exports=function(n){var l=w(arguments[1]);return p(l.resolveContext)&&a(l.resolveContext),h(n,function(c,f){return s(f,c,l)})}},62072:function(B,N,e){var p=e(24582),L=e(84985),a=e(95879),C=e(21780),w=e(66741),h=B.exports=function(g,t){var r,s,n,l,c;return arguments.length<2||typeof g!="string"?(l=t,t=g,g=null):l=arguments[2],p(g)?(r=w.call(g,"c"),s=w.call(g,"e"),n=w.call(g,"w")):(r=n=!0,s=!1),c={value:t,configurable:r,enumerable:s,writable:n},l?a(C(l),c):c};h.gs=function(g,t,r){var s,n,l,c;return typeof g!="string"?(l=r,r=t,t=g,g=null):l=arguments[3],p(t)?L(t)?p(r)?L(r)||(l=r,r=void 0):r=void 0:(l=t,t=r=void 0):t=void 0,p(g)?(s=w.call(g,"c"),n=w.call(g,"e")):(s=!0,n=!1),c={get:t,set:r,configurable:s,enumerable:n},l?a(C(l),c):c}},33064:function(B,N,e){e.d(N,{j2:function(){return p},Fp:function(){return C},J6:function(){return h},TS:function(){return g},VV:function(){return t},w6:function(){return r},Sm:function(){return s}});function p(n,l){return n<l?-1:n>l?1:n>=l?0:NaN}function L(n){return n.length===1&&(n=a(n)),{left:function(l,c,f,m){for(f==null&&(f=0),m==null&&(m=l.length);f<m;){var v=f+m>>>1;n(l[v],c)<0?f=v+1:m=v}return f},right:function(l,c,f,m){for(f==null&&(f=0),m==null&&(m=l.length);f<m;){var v=f+m>>>1;n(l[v],c)>0?m=v:f=v+1}return f}}}function a(n){return function(l,c){return p(n(l),c)}}L(p);function C(n,l){var c=n.length,f=-1,m,v;if(l==null){for(;++f<c;)if((m=n[f])!=null&&m>=m)for(v=m;++f<c;)(m=n[f])!=null&&m>v&&(v=m)}else for(;++f<c;)if((m=l(n[f],f,n))!=null&&m>=m)for(v=m;++f<c;)(m=l(n[f],f,n))!=null&&m>v&&(v=m);return v}function w(n){return n===null?NaN:+n}function h(n,l){var c=n.length,f=c,m=-1,v,A=0;if(l==null)for(;++m<c;)isNaN(v=w(n[m]))?--f:A+=v;else for(;++m<c;)isNaN(v=w(l(n[m],m,n)))?--f:A+=v;if(f)return A/f}function g(n){for(var l=n.length,c,f=-1,m=0,v,A;++f<l;)m+=n[f].length;for(v=new Array(m);--l>=0;)for(A=n[l],c=A.length;--c>=0;)v[--m]=A[c];return v}function t(n,l){var c=n.length,f=-1,m,v;if(l==null){for(;++f<c;)if((m=n[f])!=null&&m>=m)for(v=m;++f<c;)(m=n[f])!=null&&v>m&&(v=m)}else for(;++f<c;)if((m=l(n[f],f,n))!=null&&m>=m)for(v=m;++f<c;)(m=l(n[f],f,n))!=null&&v>m&&(v=m);return v}function r(n,l,c){n=+n,l=+l,c=(m=arguments.length)<2?(l=n,n=0,1):m<3?1:+c;for(var f=-1,m=Math.max(0,Math.ceil((l-n)/c))|0,v=new Array(m);++f<m;)v[f]=n+f*c;return v}function s(n,l){var c=n.length,f=-1,m,v=0;if(l==null)for(;++f<c;)(m=+n[f])&&(v+=m);else for(;++f<c;)(m=+l(n[f],f,n))&&(v+=m);return v}},15140:function(B,N,e){e.d(N,{UI:function(){return C},b1:function(){return w}});var p="$";function L(){}L.prototype=a.prototype={constructor:L,has:function(l){return p+l in this},get:function(l){return this[p+l]},set:function(l,c){return this[p+l]=c,this},remove:function(l){var c=p+l;return c in this&&delete this[c]},clear:function(){for(var l in this)l[0]===p&&delete this[l]},keys:function(){var l=[];for(var c in this)c[0]===p&&l.push(c.slice(1));return l},values:function(){var l=[];for(var c in this)c[0]===p&&l.push(this[c]);return l},entries:function(){var l=[];for(var c in this)c[0]===p&&l.push({key:c.slice(1),value:this[c]});return l},size:function(){var l=0;for(var c in this)c[0]===p&&++l;return l},empty:function(){for(var l in this)if(l[0]===p)return!1;return!0},each:function(l){for(var c in this)c[0]===p&&l(this[c],c.slice(1),this)}};function a(l,c){var f=new L;if(l instanceof L)l.each(function(u,y){f.set(y,u)});else if(Array.isArray(l)){var m=-1,v=l.length,A;if(c==null)for(;++m<v;)f.set(m,l[m]);else for(;++m<v;)f.set(c(A=l[m],m,l),A)}else if(l)for(var d in l)f.set(d,l[d]);return f}var C=a;function w(){var l=[],c=[],f,m,v;function A(u,y,M,S){if(y>=l.length)return f!=null&&u.sort(f),m!=null?m(u):u;for(var R=-1,x=u.length,E=l[y++],T,i,D=C(),b,O=M();++R<x;)(b=D.get(T=E(i=u[R])+""))?b.push(i):D.set(T,[i]);return D.each(function(F,V){S(O,V,A(F,y,M,S))}),O}function d(u,y){if(++y>l.length)return u;var M,S=c[y-1];return m!=null&&y>=l.length?M=u.entries():(M=[],u.each(function(R,x){M.push({key:x,values:d(R,y)})})),S!=null?M.sort(function(R,x){return S(R.key,x.key)}):M}return v={object:function(u){return A(u,0,h,g)},map:function(u){return A(u,0,t,r)},entries:function(u){return d(A(u,0,t,r),0)},key:function(u){return l.push(u),v},sortKeys:function(u){return c[l.length-1]=u,v},sortValues:function(u){return f=u,v},rollup:function(u){return m=u,v}}}function h(){return{}}function g(l,c,f){l[c]=f}function t(){return C()}function r(l,c,f){l.set(c,f)}function s(){}var n=C.prototype;s.prototype={constructor:s,has:n.has,add:function(l){return l+="",this[p+l]=l,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(B,N,e){e.r(N),e.d(N,{forceCenter:function(){return p},forceCollide:function(){return D},forceLink:function(){return V},forceManyBody:function(){return We},forceRadial:function(){return rt},forceSimulation:function(){return ke},forceX:function(){return et},forceY:function(){return tt}});function p(at,ct){var dt;at==null&&(at=0),ct==null&&(ct=0);function gt(){var Et,Ct=dt.length,Vt,Je=0,_e=0;for(Et=0;Et<Ct;++Et)Vt=dt[Et],Je+=Vt.x,_e+=Vt.y;for(Je=Je/Ct-at,_e=_e/Ct-ct,Et=0;Et<Ct;++Et)Vt=dt[Et],Vt.x-=Je,Vt.y-=_e}return gt.initialize=function(Et){dt=Et},gt.x=function(Et){return arguments.length?(at=+Et,gt):at},gt.y=function(Et){return arguments.length?(ct=+Et,gt):ct},gt}function L(at){return function(){return at}}function a(){return(Math.random()-.5)*1e-6}function C(at){var ct=+this._x.call(null,at),dt=+this._y.call(null,at);return w(this.cover(ct,dt),ct,dt,at)}function w(at,ct,dt,gt){if(isNaN(ct)||isNaN(dt))return at;var Et,Ct=at._root,Vt={data:gt},Je=at._x0,_e=at._y0,Fe=at._x1,Be=at._y1,De,Te,xe,Me,Pe,He,Ke,qe;if(!Ct)return at._root=Vt,at;for(;Ct.length;)if((Pe=ct>=(De=(Je+Fe)/2))?Je=De:Fe=De,(He=dt>=(Te=(_e+Be)/2))?_e=Te:Be=Te,Et=Ct,!(Ct=Ct[Ke=He<<1|Pe]))return Et[Ke]=Vt,at;if(xe=+at._x.call(null,Ct.data),Me=+at._y.call(null,Ct.data),ct===xe&&dt===Me)return Vt.next=Ct,Et?Et[Ke]=Vt:at._root=Vt,at;do Et=Et?Et[Ke]=new Array(4):at._root=new Array(4),(Pe=ct>=(De=(Je+Fe)/2))?Je=De:Fe=De,(He=dt>=(Te=(_e+Be)/2))?_e=Te:Be=Te;while((Ke=He<<1|Pe)===(qe=(Me>=Te)<<1|xe>=De));return Et[qe]=Ct,Et[Ke]=Vt,at}function h(at){var ct,dt,gt=at.length,Et,Ct,Vt=new Array(gt),Je=new Array(gt),_e=1/0,Fe=1/0,Be=-1/0,De=-1/0;for(dt=0;dt<gt;++dt)isNaN(Et=+this._x.call(null,ct=at[dt]))||isNaN(Ct=+this._y.call(null,ct))||(Vt[dt]=Et,Je[dt]=Ct,Et<_e&&(_e=Et),Et>Be&&(Be=Et),Ct<Fe&&(Fe=Ct),Ct>De&&(De=Ct));if(_e>Be||Fe>De)return this;for(this.cover(_e,Fe).cover(Be,De),dt=0;dt<gt;++dt)w(this,Vt[dt],Je[dt],at[dt]);return this}function g(at,ct){if(isNaN(at=+at)||isNaN(ct=+ct))return this;var dt=this._x0,gt=this._y0,Et=this._x1,Ct=this._y1;if(isNaN(dt))Et=(dt=Math.floor(at))+1,Ct=(gt=Math.floor(ct))+1;else{for(var Vt=Et-dt,Je=this._root,_e,Fe;dt>at||at>=Et||gt>ct||ct>=Ct;)switch(Fe=(ct<gt)<<1|at<dt,_e=new Array(4),_e[Fe]=Je,Je=_e,Vt*=2,Fe){case 0:Et=dt+Vt,Ct=gt+Vt;break;case 1:dt=Et-Vt,Ct=gt+Vt;break;case 2:Et=dt+Vt,gt=Ct-Vt;break;case 3:dt=Et-Vt,gt=Ct-Vt;break}this._root&&this._root.length&&(this._root=Je)}return this._x0=dt,this._y0=gt,this._x1=Et,this._y1=Ct,this}function t(){var at=[];return this.visit(function(ct){if(!ct.length)do at.push(ct.data);while(ct=ct.next)}),at}function r(at){return arguments.length?this.cover(+at[0][0],+at[0][1]).cover(+at[1][0],+at[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function s(at,ct,dt,gt,Et){this.node=at,this.x0=ct,this.y0=dt,this.x1=gt,this.y1=Et}function n(at,ct,dt){var gt,Et=this._x0,Ct=this._y0,Vt,Je,_e,Fe,Be=this._x1,De=this._y1,Te=[],xe=this._root,Me,Pe;for(xe&&Te.push(new s(xe,Et,Ct,Be,De)),dt==null?dt=1/0:(Et=at-dt,Ct=ct-dt,Be=at+dt,De=ct+dt,dt*=dt);Me=Te.pop();)if(!(!(xe=Me.node)||(Vt=Me.x0)>Be||(Je=Me.y0)>De||(_e=Me.x1)<Et||(Fe=Me.y1)<Ct))if(xe.length){var He=(Vt+_e)/2,Ke=(Je+Fe)/2;Te.push(new s(xe[3],He,Ke,_e,Fe),new s(xe[2],Vt,Ke,He,Fe),new s(xe[1],He,Je,_e,Ke),new s(xe[0],Vt,Je,He,Ke)),(Pe=(ct>=Ke)<<1|at>=He)&&(Me=Te[Te.length-1],Te[Te.length-1]=Te[Te.length-1-Pe],Te[Te.length-1-Pe]=Me)}else{var qe=at-+this._x.call(null,xe.data),vt=ct-+this._y.call(null,xe.data),bt=qe*qe+vt*vt;if(bt<dt){var Wt=Math.sqrt(dt=bt);Et=at-Wt,Ct=ct-Wt,Be=at+Wt,De=ct+Wt,gt=xe.data}}return gt}function l(at){if(isNaN(Be=+this._x.call(null,at))||isNaN(De=+this._y.call(null,at)))return this;var ct,dt=this._root,gt,Et,Ct,Vt=this._x0,Je=this._y0,_e=this._x1,Fe=this._y1,Be,De,Te,xe,Me,Pe,He,Ke;if(!dt)return this;if(dt.length)for(;;){if((Me=Be>=(Te=(Vt+_e)/2))?Vt=Te:_e=Te,(Pe=De>=(xe=(Je+Fe)/2))?Je=xe:Fe=xe,ct=dt,!(dt=dt[He=Pe<<1|Me]))return this;if(!dt.length)break;(ct[He+1&3]||ct[He+2&3]||ct[He+3&3])&&(gt=ct,Ke=He)}for(;dt.data!==at;)if(Et=dt,!(dt=dt.next))return this;return(Ct=dt.next)&&delete dt.next,Et?(Ct?Et.next=Ct:delete Et.next,this):ct?(Ct?ct[He]=Ct:delete ct[He],(dt=ct[0]||ct[1]||ct[2]||ct[3])&&dt===(ct[3]||ct[2]||ct[1]||ct[0])&&!dt.length&&(gt?gt[Ke]=dt:this._root=dt),this):(this._root=Ct,this)}function c(at){for(var ct=0,dt=at.length;ct<dt;++ct)this.remove(at[ct]);return this}function f(){return this._root}function m(){var at=0;return this.visit(function(ct){if(!ct.length)do++at;while(ct=ct.next)}),at}function v(at){var ct=[],dt,gt=this._root,Et,Ct,Vt,Je,_e;for(gt&&ct.push(new s(gt,this._x0,this._y0,this._x1,this._y1));dt=ct.pop();)if(!at(gt=dt.node,Ct=dt.x0,Vt=dt.y0,Je=dt.x1,_e=dt.y1)&&gt.length){var Fe=(Ct+Je)/2,Be=(Vt+_e)/2;(Et=gt[3])&&ct.push(new s(Et,Fe,Be,Je,_e)),(Et=gt[2])&&ct.push(new s(Et,Ct,Be,Fe,_e)),(Et=gt[1])&&ct.push(new s(Et,Fe,Vt,Je,Be)),(Et=gt[0])&&ct.push(new s(Et,Ct,Vt,Fe,Be))}return this}function A(at){var ct=[],dt=[],gt;for(this._root&&ct.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));gt=ct.pop();){var Et=gt.node;if(Et.length){var Ct,Vt=gt.x0,Je=gt.y0,_e=gt.x1,Fe=gt.y1,Be=(Vt+_e)/2,De=(Je+Fe)/2;(Ct=Et[0])&&ct.push(new s(Ct,Vt,Je,Be,De)),(Ct=Et[1])&&ct.push(new s(Ct,Be,Je,_e,De)),(Ct=Et[2])&&ct.push(new s(Ct,Vt,De,Be,Fe)),(Ct=Et[3])&&ct.push(new s(Ct,Be,De,_e,Fe))}dt.push(gt)}for(;gt=dt.pop();)at(gt.node,gt.x0,gt.y0,gt.x1,gt.y1);return this}function d(at){return at[0]}function u(at){return arguments.length?(this._x=at,this):this._x}function y(at){return at[1]}function M(at){return arguments.length?(this._y=at,this):this._y}function S(at,ct,dt){var gt=new R(ct??d,dt??y,NaN,NaN,NaN,NaN);return at==null?gt:gt.addAll(at)}function R(at,ct,dt,gt,Et,Ct){this._x=at,this._y=ct,this._x0=dt,this._y0=gt,this._x1=Et,this._y1=Ct,this._root=void 0}function x(at){for(var ct={data:at.data},dt=ct;at=at.next;)dt=dt.next={data:at.data};return ct}var E=S.prototype=R.prototype;E.copy=function(){var at=new R(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ct=this._root,dt,gt;if(!ct)return at;if(!ct.length)return at._root=x(ct),at;for(dt=[{source:ct,target:at._root=new Array(4)}];ct=dt.pop();)for(var Et=0;Et<4;++Et)(gt=ct.source[Et])&&(gt.length?dt.push({source:gt,target:ct.target[Et]=new Array(4)}):ct.target[Et]=x(gt));return at},E.add=C,E.addAll=h,E.cover=g,E.data=t,E.extent=r,E.find=n,E.remove=l,E.removeAll=c,E.root=f,E.size=m,E.visit=v,E.visitAfter=A,E.x=u,E.y=M;function T(at){return at.x+at.vx}function i(at){return at.y+at.vy}function D(at){var ct,dt,gt=1,Et=1;typeof at!="function"&&(at=L(at==null?1:+at));function Ct(){for(var _e,Fe=ct.length,Be,De,Te,xe,Me,Pe,He=0;He<Et;++He)for(Be=S(ct,T,i).visitAfter(Vt),_e=0;_e<Fe;++_e)De=ct[_e],Me=dt[De.index],Pe=Me*Me,Te=De.x+De.vx,xe=De.y+De.vy,Be.visit(Ke);function Ke(qe,vt,bt,Wt,qt){var At=qe.data,zt=qe.r,Kt=Me+zt;if(At){if(At.index>De.index){var Sr=Te-At.x-At.vx,yt=xe-At.y-At.vy,Zt=Sr*Sr+yt*yt;Zt<Kt*Kt&&(Sr===0&&(Sr=a(),Zt+=Sr*Sr),yt===0&&(yt=a(),Zt+=yt*yt),Zt=(Kt-(Zt=Math.sqrt(Zt)))/Zt*gt,De.vx+=(Sr*=Zt)*(Kt=(zt*=zt)/(Pe+zt)),De.vy+=(yt*=Zt)*Kt,At.vx-=Sr*(Kt=1-Kt),At.vy-=yt*Kt)}return}return vt>Te+Kt||Wt<Te-Kt||bt>xe+Kt||qt<xe-Kt}}function Vt(_e){if(_e.data)return _e.r=dt[_e.data.index];for(var Fe=_e.r=0;Fe<4;++Fe)_e[Fe]&&_e[Fe].r>_e.r&&(_e.r=_e[Fe].r)}function Je(){if(ct){var _e,Fe=ct.length,Be;for(dt=new Array(Fe),_e=0;_e<Fe;++_e)Be=ct[_e],dt[Be.index]=+at(Be,_e,ct)}}return Ct.initialize=function(_e){ct=_e,Je()},Ct.iterations=function(_e){return arguments.length?(Et=+_e,Ct):Et},Ct.strength=function(_e){return arguments.length?(gt=+_e,Ct):gt},Ct.radius=function(_e){return arguments.length?(at=typeof _e=="function"?_e:L(+_e),Je(),Ct):at},Ct}var b=e(15140);function O(at){return at.index}function F(at,ct){var dt=at.get(ct);if(!dt)throw new Error("missing: "+ct);return dt}function V(at){var ct=O,dt=Be,gt,Et=L(30),Ct,Vt,Je,_e,Fe=1;at==null&&(at=[]);function Be(Pe){return 1/Math.min(Je[Pe.source.index],Je[Pe.target.index])}function De(Pe){for(var He=0,Ke=at.length;He<Fe;++He)for(var qe=0,vt,bt,Wt,qt,At,zt,Kt;qe<Ke;++qe)vt=at[qe],bt=vt.source,Wt=vt.target,qt=Wt.x+Wt.vx-bt.x-bt.vx||a(),At=Wt.y+Wt.vy-bt.y-bt.vy||a(),zt=Math.sqrt(qt*qt+At*At),zt=(zt-Ct[qe])/zt*Pe*gt[qe],qt*=zt,At*=zt,Wt.vx-=qt*(Kt=_e[qe]),Wt.vy-=At*Kt,bt.vx+=qt*(Kt=1-Kt),bt.vy+=At*Kt}function Te(){if(Vt){var Pe,He=Vt.length,Ke=at.length,qe=(0,b.UI)(Vt,ct),vt;for(Pe=0,Je=new Array(He);Pe<Ke;++Pe)vt=at[Pe],vt.index=Pe,typeof vt.source!="object"&&(vt.source=F(qe,vt.source)),typeof vt.target!="object"&&(vt.target=F(qe,vt.target)),Je[vt.source.index]=(Je[vt.source.index]||0)+1,Je[vt.target.index]=(Je[vt.target.index]||0)+1;for(Pe=0,_e=new Array(Ke);Pe<Ke;++Pe)vt=at[Pe],_e[Pe]=Je[vt.source.index]/(Je[vt.source.index]+Je[vt.target.index]);gt=new Array(Ke),xe(),Ct=new Array(Ke),Me()}}function xe(){if(Vt)for(var Pe=0,He=at.length;Pe<He;++Pe)gt[Pe]=+dt(at[Pe],Pe,at)}function Me(){if(Vt)for(var Pe=0,He=at.length;Pe<He;++Pe)Ct[Pe]=+Et(at[Pe],Pe,at)}return De.initialize=function(Pe){Vt=Pe,Te()},De.links=function(Pe){return arguments.length?(at=Pe,Te(),De):at},De.id=function(Pe){return arguments.length?(ct=Pe,De):ct},De.iterations=function(Pe){return arguments.length?(Fe=+Pe,De):Fe},De.strength=function(Pe){return arguments.length?(dt=typeof Pe=="function"?Pe:L(+Pe),xe(),De):dt},De.distance=function(Pe){return arguments.length?(Et=typeof Pe=="function"?Pe:L(+Pe),Me(),De):Et},De}var _={value:function(){}};function U(){for(var at=0,ct=arguments.length,dt={},gt;at<ct;++at){if(!(gt=arguments[at]+"")||gt in dt||/[\s.]/.test(gt))throw new Error("illegal type: "+gt);dt[gt]=[]}return new H(dt)}function H(at){this._=at}function z(at,ct){return at.trim().split(/^|\s+/).map(function(dt){var gt="",Et=dt.indexOf(".");if(Et>=0&&(gt=dt.slice(Et+1),dt=dt.slice(0,Et)),dt&&!ct.hasOwnProperty(dt))throw new Error("unknown type: "+dt);return{type:dt,name:gt}})}H.prototype=U.prototype={constructor:H,on:function(at,ct){var dt=this._,gt=z(at+"",dt),Et,Ct=-1,Vt=gt.length;if(arguments.length<2){for(;++Ct<Vt;)if((Et=(at=gt[Ct]).type)&&(Et=G(dt[Et],at.name)))return Et;return}if(ct!=null&&typeof ct!="function")throw new Error("invalid callback: "+ct);for(;++Ct<Vt;)if(Et=(at=gt[Ct]).type)dt[Et]=Y(dt[Et],at.name,ct);else if(ct==null)for(Et in dt)dt[Et]=Y(dt[Et],at.name,null);return this},copy:function(){var at={},ct=this._;for(var dt in ct)at[dt]=ct[dt].slice();return new H(at)},call:function(at,ct){if((Et=arguments.length-2)>0)for(var dt=new Array(Et),gt=0,Et,Ct;gt<Et;++gt)dt[gt]=arguments[gt+2];if(!this._.hasOwnProperty(at))throw new Error("unknown type: "+at);for(Ct=this._[at],gt=0,Et=Ct.length;gt<Et;++gt)Ct[gt].value.apply(ct,dt)},apply:function(at,ct,dt){if(!this._.hasOwnProperty(at))throw new Error("unknown type: "+at);for(var gt=this._[at],Et=0,Ct=gt.length;Et<Ct;++Et)gt[Et].value.apply(ct,dt)}};function G(at,ct){for(var dt=0,gt=at.length,Et;dt<gt;++dt)if((Et=at[dt]).name===ct)return Et.value}function Y(at,ct,dt){for(var gt=0,Et=at.length;gt<Et;++gt)if(at[gt].name===ct){at[gt]=_,at=at.slice(0,gt).concat(at.slice(gt+1));break}return dt!=null&&at.push({name:ct,value:dt}),at}var J=U,ae=0,oe=0,he=0,q=1e3,Z,$,K=0,re=0,le=0,te=typeof performance=="object"&&performance.now?performance:Date,ee=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(at){setTimeout(at,17)};function ue(){return re||(ee(se),re=te.now()+le)}function se(){re=0}function ve(){this._call=this._time=this._next=null}ve.prototype=be.prototype={constructor:ve,restart:function(at,ct,dt){if(typeof at!="function")throw new TypeError("callback is not a function");dt=(dt==null?ue():+dt)+(ct==null?0:+ct),!this._next&&$!==this&&($?$._next=this:Z=this,$=this),this._call=at,this._time=dt,Le()},stop:function(){this._call&&(this._call=null,this._time=1/0,Le())}};function be(at,ct,dt){var gt=new ve;return gt.restart(at,ct,dt),gt}function Ee(){ue(),++ae;for(var at=Z,ct;at;)(ct=re-at._time)>=0&&at._call.call(null,ct),at=at._next;--ae}function Ae(){re=(K=te.now())+le,ae=oe=0;try{Ee()}finally{ae=0,Ue(),re=0}}function Oe(){var at=te.now(),ct=at-K;ct>q&&(le-=ct,K=at)}function Ue(){for(var at,ct=Z,dt,gt=1/0;ct;)ct._call?(gt>ct._time&&(gt=ct._time),at=ct,ct=ct._next):(dt=ct._next,ct._next=null,ct=at?at._next=dt:Z=dt);$=at,Le(gt)}function Le(at){if(!ae){oe&&(oe=clearTimeout(oe));var ct=at-re;ct>24?(at<1/0&&(oe=setTimeout(Ae,at-te.now()-le)),he&&(he=clearInterval(he))):(he||(K=te.now(),he=setInterval(Oe,q)),ae=1,ee(Ae))}}function we(at){return at.x}function Ce(at){return at.y}var Ve=10,Ne=Math.PI*(3-Math.sqrt(5));function ke(at){var ct,dt=1,gt=.001,Et=1-Math.pow(gt,1/300),Ct=0,Vt=.6,Je=(0,b.UI)(),_e=be(Be),Fe=J("tick","end");at==null&&(at=[]);function Be(){De(),Fe.call("tick",ct),dt<gt&&(_e.stop(),Fe.call("end",ct))}function De(Me){var Pe,He=at.length,Ke;Me===void 0&&(Me=1);for(var qe=0;qe<Me;++qe)for(dt+=(Ct-dt)*Et,Je.each(function(vt){vt(dt)}),Pe=0;Pe<He;++Pe)Ke=at[Pe],Ke.fx==null?Ke.x+=Ke.vx*=Vt:(Ke.x=Ke.fx,Ke.vx=0),Ke.fy==null?Ke.y+=Ke.vy*=Vt:(Ke.y=Ke.fy,Ke.vy=0);return ct}function Te(){for(var Me=0,Pe=at.length,He;Me<Pe;++Me){if(He=at[Me],He.index=Me,He.fx!=null&&(He.x=He.fx),He.fy!=null&&(He.y=He.fy),isNaN(He.x)||isNaN(He.y)){var Ke=Ve*Math.sqrt(Me),qe=Me*Ne;He.x=Ke*Math.cos(qe),He.y=Ke*Math.sin(qe)}(isNaN(He.vx)||isNaN(He.vy))&&(He.vx=He.vy=0)}}function xe(Me){return Me.initialize&&Me.initialize(at),Me}return Te(),ct={tick:De,restart:function(){return _e.restart(Be),ct},stop:function(){return _e.stop(),ct},nodes:function(Me){return arguments.length?(at=Me,Te(),Je.each(xe),ct):at},alpha:function(Me){return arguments.length?(dt=+Me,ct):dt},alphaMin:function(Me){return arguments.length?(gt=+Me,ct):gt},alphaDecay:function(Me){return arguments.length?(Et=+Me,ct):+Et},alphaTarget:function(Me){return arguments.length?(Ct=+Me,ct):Ct},velocityDecay:function(Me){return arguments.length?(Vt=1-Me,ct):1-Vt},force:function(Me,Pe){return arguments.length>1?(Pe==null?Je.remove(Me):Je.set(Me,xe(Pe)),ct):Je.get(Me)},find:function(Me,Pe,He){var Ke=0,qe=at.length,vt,bt,Wt,qt,At;for(He==null?He=1/0:He*=He,Ke=0;Ke<qe;++Ke)qt=at[Ke],vt=Me-qt.x,bt=Pe-qt.y,Wt=vt*vt+bt*bt,Wt<He&&(At=qt,He=Wt);return At},on:function(Me,Pe){return arguments.length>1?(Fe.on(Me,Pe),ct):Fe.on(Me)}}}function We(){var at,ct,dt,gt=L(-30),Et,Ct=1,Vt=1/0,Je=.81;function _e(Te){var xe,Me=at.length,Pe=S(at,we,Ce).visitAfter(Be);for(dt=Te,xe=0;xe<Me;++xe)ct=at[xe],Pe.visit(De)}function Fe(){if(at){var Te,xe=at.length,Me;for(Et=new Array(xe),Te=0;Te<xe;++Te)Me=at[Te],Et[Me.index]=+gt(Me,Te,at)}}function Be(Te){var xe=0,Me,Pe,He=0,Ke,qe,vt;if(Te.length){for(Ke=qe=vt=0;vt<4;++vt)(Me=Te[vt])&&(Pe=Math.abs(Me.value))&&(xe+=Me.value,He+=Pe,Ke+=Pe*Me.x,qe+=Pe*Me.y);Te.x=Ke/He,Te.y=qe/He}else{Me=Te,Me.x=Me.data.x,Me.y=Me.data.y;do xe+=Et[Me.data.index];while(Me=Me.next)}Te.value=xe}function De(Te,xe,Me,Pe){if(!Te.value)return!0;var He=Te.x-ct.x,Ke=Te.y-ct.y,qe=Pe-xe,vt=He*He+Ke*Ke;if(qe*qe/Je<vt)return vt<Vt&&(He===0&&(He=a(),vt+=He*He),Ke===0&&(Ke=a(),vt+=Ke*Ke),vt<Ct&&(vt=Math.sqrt(Ct*vt)),ct.vx+=He*Te.value*dt/vt,ct.vy+=Ke*Te.value*dt/vt),!0;if(Te.length||vt>=Vt)return;(Te.data!==ct||Te.next)&&(He===0&&(He=a(),vt+=He*He),Ke===0&&(Ke=a(),vt+=Ke*Ke),vt<Ct&&(vt=Math.sqrt(Ct*vt)));do Te.data!==ct&&(qe=Et[Te.data.index]*dt/vt,ct.vx+=He*qe,ct.vy+=Ke*qe);while(Te=Te.next)}return _e.initialize=function(Te){at=Te,Fe()},_e.strength=function(Te){return arguments.length?(gt=typeof Te=="function"?Te:L(+Te),Fe(),_e):gt},_e.distanceMin=function(Te){return arguments.length?(Ct=Te*Te,_e):Math.sqrt(Ct)},_e.distanceMax=function(Te){return arguments.length?(Vt=Te*Te,_e):Math.sqrt(Vt)},_e.theta=function(Te){return arguments.length?(Je=Te*Te,_e):Math.sqrt(Je)},_e}function rt(at,ct,dt){var gt,Et=L(.1),Ct,Vt;typeof at!="function"&&(at=L(+at)),ct==null&&(ct=0),dt==null&&(dt=0);function Je(Fe){for(var Be=0,De=gt.length;Be<De;++Be){var Te=gt[Be],xe=Te.x-ct||1e-6,Me=Te.y-dt||1e-6,Pe=Math.sqrt(xe*xe+Me*Me),He=(Vt[Be]-Pe)*Ct[Be]*Fe/Pe;Te.vx+=xe*He,Te.vy+=Me*He}}function _e(){if(gt){var Fe,Be=gt.length;for(Ct=new Array(Be),Vt=new Array(Be),Fe=0;Fe<Be;++Fe)Vt[Fe]=+at(gt[Fe],Fe,gt),Ct[Fe]=isNaN(Vt[Fe])?0:+Et(gt[Fe],Fe,gt)}}return Je.initialize=function(Fe){gt=Fe,_e()},Je.strength=function(Fe){return arguments.length?(Et=typeof Fe=="function"?Fe:L(+Fe),_e(),Je):Et},Je.radius=function(Fe){return arguments.length?(at=typeof Fe=="function"?Fe:L(+Fe),_e(),Je):at},Je.x=function(Fe){return arguments.length?(ct=+Fe,Je):ct},Je.y=function(Fe){return arguments.length?(dt=+Fe,Je):dt},Je}function et(at){var ct=L(.1),dt,gt,Et;typeof at!="function"&&(at=L(at==null?0:+at));function Ct(Je){for(var _e=0,Fe=dt.length,Be;_e<Fe;++_e)Be=dt[_e],Be.vx+=(Et[_e]-Be.x)*gt[_e]*Je}function Vt(){if(dt){var Je,_e=dt.length;for(gt=new Array(_e),Et=new Array(_e),Je=0;Je<_e;++Je)gt[Je]=isNaN(Et[Je]=+at(dt[Je],Je,dt))?0:+ct(dt[Je],Je,dt)}}return Ct.initialize=function(Je){dt=Je,Vt()},Ct.strength=function(Je){return arguments.length?(ct=typeof Je=="function"?Je:L(+Je),Vt(),Ct):ct},Ct.x=function(Je){return arguments.length?(at=typeof Je=="function"?Je:L(+Je),Vt(),Ct):at},Ct}function tt(at){var ct=L(.1),dt,gt,Et;typeof at!="function"&&(at=L(at==null?0:+at));function Ct(Je){for(var _e=0,Fe=dt.length,Be;_e<Fe;++_e)Be=dt[_e],Be.vy+=(Et[_e]-Be.y)*gt[_e]*Je}function Vt(){if(dt){var Je,_e=dt.length;for(gt=new Array(_e),Et=new Array(_e),Je=0;Je<_e;++Je)gt[Je]=isNaN(Et[Je]=+at(dt[Je],Je,dt))?0:+ct(dt[Je],Je,dt)}}return Ct.initialize=function(Je){dt=Je,Vt()},Ct.strength=function(Je){return arguments.length?(ct=typeof Je=="function"?Je:L(+Je),Vt(),Ct):ct},Ct.y=function(Je){return arguments.length?(at=typeof Je=="function"?Je:L(+Je),Vt(),Ct):at},Ct}},60721:function(B,N,e){e.d(N,{WU:function(){return u},FF:function(){return A}});function p(M){return Math.abs(M=Math.round(M))>=1e21?M.toLocaleString("en").replace(/,/g,""):M.toString(10)}function L(M,S){if((R=(M=S?M.toExponential(S-1):M.toExponential()).indexOf("e"))<0)return null;var R,x=M.slice(0,R);return[x.length>1?x[0]+x.slice(2):x,+M.slice(R+1)]}function a(M){return M=L(Math.abs(M)),M?M[1]:NaN}function C(M,S){return function(R,x){for(var E=R.length,T=[],i=0,D=M[0],b=0;E>0&&D>0&&(b+D+1>x&&(D=Math.max(1,x-b)),T.push(R.substring(E-=D,E+D)),!((b+=D+1)>x));)D=M[i=(i+1)%M.length];return T.reverse().join(S)}}function w(M){return function(S){return S.replace(/[0-9]/g,function(R){return M[+R]})}}var h=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function g(M){if(!(S=h.exec(M)))throw new Error("invalid format: "+M);var S;return new t({fill:S[1],align:S[2],sign:S[3],symbol:S[4],zero:S[5],width:S[6],comma:S[7],precision:S[8]&&S[8].slice(1),trim:S[9],type:S[10]})}g.prototype=t.prototype;function t(M){this.fill=M.fill===void 0?" ":M.fill+"",this.align=M.align===void 0?">":M.align+"",this.sign=M.sign===void 0?"-":M.sign+"",this.symbol=M.symbol===void 0?"":M.symbol+"",this.zero=!!M.zero,this.width=M.width===void 0?void 0:+M.width,this.comma=!!M.comma,this.precision=M.precision===void 0?void 0:+M.precision,this.trim=!!M.trim,this.type=M.type===void 0?"":M.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(M){e:for(var S=M.length,R=1,x=-1,E;R<S;++R)switch(M[R]){case".":x=E=R;break;case"0":x===0&&(x=R),E=R;break;default:if(!+M[R])break e;x>0&&(x=0);break}return x>0?M.slice(0,x)+M.slice(E+1):M}var s;function n(M,S){var R=L(M,S);if(!R)return M+"";var x=R[0],E=R[1],T=E-(s=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,i=x.length;return T===i?x:T>i?x+new Array(T-i+1).join("0"):T>0?x.slice(0,T)+"."+x.slice(T):"0."+new Array(1-T).join("0")+L(M,Math.max(0,S+T-1))[0]}function l(M,S){var R=L(M,S);if(!R)return M+"";var x=R[0],E=R[1];return E<0?"0."+new Array(-E).join("0")+x:x.length>E+1?x.slice(0,E+1)+"."+x.slice(E+1):x+new Array(E-x.length+2).join("0")}var c={"%":function(M,S){return(M*100).toFixed(S)},b:function(M){return Math.round(M).toString(2)},c:function(M){return M+""},d:p,e:function(M,S){return M.toExponential(S)},f:function(M,S){return M.toFixed(S)},g:function(M,S){return M.toPrecision(S)},o:function(M){return Math.round(M).toString(8)},p:function(M,S){return l(M*100,S)},r:l,s:n,X:function(M){return Math.round(M).toString(16).toUpperCase()},x:function(M){return Math.round(M).toString(16)}};function f(M){return M}var m=Array.prototype.map,v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function A(M){var S=M.grouping===void 0||M.thousands===void 0?f:C(m.call(M.grouping,Number),M.thousands+""),R=M.currency===void 0?"":M.currency[0]+"",x=M.currency===void 0?"":M.currency[1]+"",E=M.decimal===void 0?".":M.decimal+"",T=M.numerals===void 0?f:w(m.call(M.numerals,String)),i=M.percent===void 0?"%":M.percent+"",D=M.minus===void 0?"-":M.minus+"",b=M.nan===void 0?"NaN":M.nan+"";function O(V){V=g(V);var _=V.fill,U=V.align,H=V.sign,z=V.symbol,G=V.zero,Y=V.width,J=V.comma,ae=V.precision,oe=V.trim,he=V.type;he==="n"?(J=!0,he="g"):c[he]||(ae===void 0&&(ae=12),oe=!0,he="g"),(G||_==="0"&&U==="=")&&(G=!0,_="0",U="=");var q=z==="$"?R:z==="#"&&/[boxX]/.test(he)?"0"+he.toLowerCase():"",Z=z==="$"?x:/[%p]/.test(he)?i:"",$=c[he],K=/[defgprs%]/.test(he);ae=ae===void 0?6:/[gprs]/.test(he)?Math.max(1,Math.min(21,ae)):Math.max(0,Math.min(20,ae));function re(le){var te=q,ee=Z,ue,se,ve;if(he==="c")ee=$(le)+ee,le="";else{le=+le;var be=le<0||1/le<0;if(le=isNaN(le)?b:$(Math.abs(le),ae),oe&&(le=r(le)),be&&+le==0&&H!=="+"&&(be=!1),te=(be?H==="("?H:D:H==="-"||H==="("?"":H)+te,ee=(he==="s"?v[8+s/3]:"")+ee+(be&&H==="("?")":""),K){for(ue=-1,se=le.length;++ue<se;)if(ve=le.charCodeAt(ue),48>ve||ve>57){ee=(ve===46?E+le.slice(ue+1):le.slice(ue))+ee,le=le.slice(0,ue);break}}}J&&!G&&(le=S(le,1/0));var Ee=te.length+le.length+ee.length,Ae=Ee<Y?new Array(Y-Ee+1).join(_):"";switch(J&&G&&(le=S(Ae+le,Ae.length?Y-ee.length:1/0),Ae=""),U){case"<":le=te+le+ee+Ae;break;case"=":le=te+Ae+le+ee;break;case"^":le=Ae.slice(0,Ee=Ae.length>>1)+te+le+ee+Ae.slice(Ee);break;default:le=Ae+te+le+ee;break}return T(le)}return re.toString=function(){return V+""},re}function F(V,_){var U=O((V=g(V),V.type="f",V)),H=Math.max(-8,Math.min(8,Math.floor(a(_)/3)))*3,z=Math.pow(10,-H),G=v[8+H/3];return function(Y){return U(z*Y)+G}}return{format:O,formatPrefix:F}}var d,u;y({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function y(M){return d=A(M),u=d.format,d.formatPrefix,d}},65704:function(B,N,e){e.r(N),e.d(N,{geoAiry:function(){return G},geoAiryRaw:function(){return z},geoAitoff:function(){return J},geoAitoffRaw:function(){return Y},geoArmadillo:function(){return oe},geoArmadilloRaw:function(){return ae},geoAugust:function(){return q},geoAugustRaw:function(){return he},geoBaker:function(){return re},geoBakerRaw:function(){return K},geoBerghaus:function(){return ee},geoBerghausRaw:function(){return te},geoBertin1953:function(){return Ue},geoBertin1953Raw:function(){return Oe},geoBoggs:function(){return rt},geoBoggsRaw:function(){return We},geoBonne:function(){return dt},geoBonneRaw:function(){return ct},geoBottomley:function(){return Et},geoBottomleyRaw:function(){return gt},geoBromley:function(){return Vt},geoBromleyRaw:function(){return Ct},geoChamberlin:function(){return Pe},geoChamberlinAfrica:function(){return Me},geoChamberlinRaw:function(){return Te},geoCollignon:function(){return Ke},geoCollignonRaw:function(){return He},geoCraig:function(){return vt},geoCraigRaw:function(){return qe},geoCraster:function(){return qt},geoCrasterRaw:function(){return Wt},geoCylindricalEqualArea:function(){return zt},geoCylindricalEqualAreaRaw:function(){return At},geoCylindricalStereographic:function(){return Sr},geoCylindricalStereographicRaw:function(){return Kt},geoEckert1:function(){return Zt},geoEckert1Raw:function(){return yt},geoEckert2:function(){return mr},geoEckert2Raw:function(){return $t},geoEckert3:function(){return pt},geoEckert3Raw:function(){return ur},geoEckert4:function(){return xt},geoEckert4Raw:function(){return st},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return St},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Rt},geoEisenlohr:function(){return lr},geoEisenlohrRaw:function(){return Xt},geoFahey:function(){return Ye},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return It},geoFoucautRaw:function(){return je},geoFoucautSinusoidal:function(){return jt},geoFoucautSinusoidalRaw:function(){return kt},geoGilbert:function(){return hr},geoGingery:function(){return Gr},geoGingeryRaw:function(){return gr},geoGinzburg4:function(){return gn},geoGinzburg4Raw:function(){return _r},geoGinzburg5:function(){return Bn},geoGinzburg5Raw:function(){return tn},geoGinzburg6:function(){return Mr},geoGinzburg6Raw:function(){return An},geoGinzburg8:function(){return jr},geoGinzburg8Raw:function(){return Cr},geoGinzburg9:function(){return on},geoGinzburg9Raw:function(){return Hr},geoGringorten:function(){return sa},geoGringortenQuincuncial:function(){return mv},geoGringortenRaw:function(){return xn},geoGuyou:function(){return mn},geoGuyouRaw:function(){return Tr},geoHammer:function(){return be},geoHammerRaw:function(){return se},geoHammerRetroazimuthal:function(){return Nn},geoHammerRetroazimuthalRaw:function(){return En},geoHealpix:function(){return dn},geoHealpixRaw:function(){return rn},geoHill:function(){return Pr},geoHillRaw:function(){return Ir},geoHomolosine:function(){return Un},geoHomolosineRaw:function(){return bn},geoHufnagel:function(){return ca},geoHufnagelRaw:function(){return ia},geoHyperelliptical:function(){return fo},geoHyperellipticalRaw:function(){return ya},geoInterrupt:function(){return Bo},geoInterruptedBoggs:function(){return oi},geoInterruptedHomolosine:function(){return fu},geoInterruptedMollweide:function(){return Yo},geoInterruptedMollweideHemispheres:function(){return Hu},geoInterruptedQuarticAuthalic:function(){return lc},geoInterruptedSinuMollweide:function(){return Vu},geoInterruptedSinusoidal:function(){return io},geoKavrayskiy7:function(){return Do},geoKavrayskiy7Raw:function(){return ns},geoLagrange:function(){return Fs},geoLagrangeRaw:function(){return us},geoLarrivee:function(){return Zc},geoLarriveeRaw:function(){return xo},geoLaskowski:function(){return bo},geoLaskowskiRaw:function(){return _s},geoLittrow:function(){return el},geoLittrowRaw:function(){return rc},geoLoximuthal:function(){return nc},geoLoximuthalRaw:function(){return zs},geoMiller:function(){return rv},geoMillerRaw:function(){return ac},geoModifiedStereographic:function(){return Nl},geoModifiedStereographicAlaska:function(){return sv},geoModifiedStereographicGs48:function(){return Xc},geoModifiedStereographicGs50:function(){return lv},geoModifiedStereographicLee:function(){return oc},geoModifiedStereographicMiller:function(){return uv},geoModifiedStereographicRaw:function(){return Gu},geoMollweide:function(){return Ve},geoMollweideRaw:function(){return Ce},geoMtFlatPolarParabolic:function(){return fv},geoMtFlatPolarParabolicRaw:function(){return mf},geoMtFlatPolarQuartic:function(){return $c},geoMtFlatPolarQuarticRaw:function(){return tl},geoMtFlatPolarSinusoidal:function(){return cv},geoMtFlatPolarSinusoidalRaw:function(){return sc},geoNaturalEarth:function(){return fs.Z},geoNaturalEarth2:function(){return Wu},geoNaturalEarth2Raw:function(){return Hl},geoNaturalEarthRaw:function(){return fs.K},geoNellHammer:function(){return Os},geoNellHammerRaw:function(){return hu},geoNicolosi:function(){return ml},geoNicolosiRaw:function(){return vu},geoPatterson:function(){return hv},geoPattersonRaw:function(){return bf},geoPeirceQuincuncial:function(){return eh},geoPierceQuincuncial:function(){return eh},geoPolyconic:function(){return vv},geoPolyconicRaw:function(){return fc},geoPolyhedral:function(){return Si},geoPolyhedralButterfly:function(){return nl},geoPolyhedralCollignon:function(){return bl},geoPolyhedralWaterman:function(){return wl},geoProject:function(){return gv},geoQuantize:function(){return th},geoQuincuncial:function(){return Mf},geoRectangularPolyconic:function(){return Tl},geoRectangularPolyconicRaw:function(){return gc},geoRobinson:function(){return yc},geoRobinsonRaw:function(){return Ns},geoSatellite:function(){return Ef},geoSatelliteRaw:function(){return Wl},geoSinuMollweide:function(){return Xn},geoSinuMollweideRaw:function(){return zn},geoSinusoidal:function(){return at},geoSinusoidalRaw:function(){return tt},geoStitch:function(){return Zl},geoTimes:function(){return as},geoTimesRaw:function(){return $o},geoTwoPointAzimuthal:function(){return Rf},geoTwoPointAzimuthalRaw:function(){return ah},geoTwoPointAzimuthalUsa:function(){return wu},geoTwoPointEquidistant:function(){return wc},geoTwoPointEquidistantRaw:function(){return ih},geoTwoPointEquidistantUsa:function(){return As},geoVanDerGrinten:function(){return Qu},geoVanDerGrinten2:function(){return bv},geoVanDerGrinten2Raw:function(){return ll},geoVanDerGrinten3:function(){return Df},geoVanDerGrinten3Raw:function(){return Tc},geoVanDerGrinten4:function(){return oh},geoVanDerGrinten4Raw:function(){return Io},geoVanDerGrintenRaw:function(){return Ml},geoWagner:function(){return ef},geoWagner4:function(){return Sc},geoWagner4Raw:function(){return Ac},geoWagner6:function(){return kf},geoWagner6Raw:function(){return $l},geoWagner7:function(){return El},geoWagnerRaw:function(){return Us},geoWiechel:function(){return lh},geoWiechelRaw:function(){return tf},geoWinkel3:function(){return uh},geoWinkel3Raw:function(){return rf}});var p=e(15002),L=Math.abs,a=Math.atan,C=Math.atan2,w=Math.cos,h=Math.exp,g=Math.floor,t=Math.log,r=Math.max,s=Math.min,n=Math.pow,l=Math.round,c=Math.sign||function(Xe){return Xe>0?1:Xe<0?-1:0},f=Math.sin,m=Math.tan,v=1e-6,A=1e-12,d=Math.PI,u=d/2,y=d/4,M=Math.SQRT1_2,S=O(2),R=O(d),x=d*2,E=180/d,T=d/180;function i(Xe){return Xe?Xe/Math.sin(Xe):1}function D(Xe){return Xe>1?u:Xe<-1?-u:Math.asin(Xe)}function b(Xe){return Xe>1?0:Xe<-1?d:Math.acos(Xe)}function O(Xe){return Xe>0?Math.sqrt(Xe):0}function F(Xe){return Xe=h(2*Xe),(Xe-1)/(Xe+1)}function V(Xe){return(h(Xe)-h(-Xe))/2}function _(Xe){return(h(Xe)+h(-Xe))/2}function U(Xe){return t(Xe+O(Xe*Xe+1))}function H(Xe){return t(Xe+O(Xe*Xe-1))}function z(Xe){var it=m(Xe/2),ht=2*t(w(Xe/2))/(it*it);function mt(Ft,Lt){var Ot=w(Ft),cr=w(Lt),yr=f(Lt),ar=cr*Ot,Ar=-((1-ar?t((1+ar)/2)/(1-ar):-.5)+ht/(1+ar));return[Ar*cr*f(Ft),Ar*yr]}return mt.invert=function(Ft,Lt){var Ot=O(Ft*Ft+Lt*Lt),cr=-Xe/2,yr=50,ar;if(!Ot)return[0,0];do{var Ar=cr/2,Dr=w(Ar),Zr=f(Ar),Qr=Zr/Dr,wn=-t(L(Dr));cr-=ar=(2/Qr*wn-ht*Qr-Ot)/(-wn/(Zr*Zr)+1-ht/(2*Dr*Dr))*(Dr<0?.7:1)}while(L(ar)>v&&--yr>0);var Sn=f(cr);return[C(Ft*Sn,Ot*w(cr)),D(Lt*Sn/Ot)]},mt}function G(){var Xe=u,it=(0,p.r)(z),ht=it(Xe);return ht.radius=function(mt){return arguments.length?it(Xe=mt*T):Xe*E},ht.scale(179.976).clipAngle(147)}function Y(Xe,it){var ht=w(it),mt=i(b(ht*w(Xe/=2)));return[2*ht*f(Xe)*mt,f(it)*mt]}Y.invert=function(Xe,it){if(!(Xe*Xe+4*it*it>d*d+v)){var ht=Xe,mt=it,Ft=25;do{var Lt=f(ht),Ot=f(ht/2),cr=w(ht/2),yr=f(mt),ar=w(mt),Ar=f(2*mt),Dr=yr*yr,Zr=ar*ar,Qr=Ot*Ot,wn=1-Zr*cr*cr,Sn=wn?b(ar*cr)*O(kn=1/wn):kn=0,kn,pa=2*Sn*ar*Ot-Xe,Da=Sn*yr-it,ka=kn*(Zr*Qr+Sn*ar*cr*Dr),Fa=kn*(.5*Lt*Ar-Sn*2*yr*Ot),za=kn*.25*(Ar*Ot-Sn*yr*Zr*Lt),ci=kn*(Dr*cr+Sn*Qr*ar),ji=Fa*za-ci*ka;if(!ji)break;var Mi=(Da*Fa-pa*ci)/ji,fe=(pa*za-Da*ka)/ji;ht-=Mi,mt-=fe}while((L(Mi)>v||L(fe)>v)&&--Ft>0);return[ht,mt]}};function J(){return(0,p.Z)(Y).scale(152.63)}function ae(Xe){var it=f(Xe),ht=w(Xe),mt=Xe>=0?1:-1,Ft=m(mt*Xe),Lt=(1+it-ht)/2;function Ot(cr,yr){var ar=w(yr),Ar=w(cr/=2);return[(1+ar)*f(cr),(mt*yr>-C(Ar,Ft)-.001?0:-mt*10)+Lt+f(yr)*ht-(1+ar)*it*Ar]}return Ot.invert=function(cr,yr){var ar=0,Ar=0,Dr=50;do{var Zr=w(ar),Qr=f(ar),wn=w(Ar),Sn=f(Ar),kn=1+wn,pa=kn*Qr-cr,Da=Lt+Sn*ht-kn*it*Zr-yr,ka=kn*Zr/2,Fa=-Qr*Sn,za=it*kn*Qr/2,ci=ht*wn+it*Zr*Sn,ji=Fa*za-ci*ka,Mi=(Da*Fa-pa*ci)/ji/2,fe=(pa*za-Da*ka)/ji;L(fe)>2&&(fe/=2),ar-=Mi,Ar-=fe}while((L(Mi)>v||L(fe)>v)&&--Dr>0);return mt*Ar>-C(w(ar),Ft)-.001?[ar*2,Ar]:null},Ot}function oe(){var Xe=20*T,it=Xe>=0?1:-1,ht=m(it*Xe),mt=(0,p.r)(ae),Ft=mt(Xe),Lt=Ft.stream;return Ft.parallel=function(Ot){return arguments.length?(ht=m((it=(Xe=Ot*T)>=0?1:-1)*Xe),mt(Xe)):Xe*E},Ft.stream=function(Ot){var cr=Ft.rotate(),yr=Lt(Ot),ar=(Ft.rotate([0,0]),Lt(Ot)),Ar=Ft.precision();return Ft.rotate(cr),yr.sphere=function(){ar.polygonStart(),ar.lineStart();for(var Dr=it*-180;it*Dr<180;Dr+=it*90)ar.point(Dr,it*90);if(Xe)for(;it*(Dr-=3*it*Ar)>=-180;)ar.point(Dr,it*-C(w(Dr*T/2),ht)*E);ar.lineEnd(),ar.polygonEnd()},yr},Ft.scale(218.695).center([0,28.0974])}function he(Xe,it){var ht=m(it/2),mt=O(1-ht*ht),Ft=1+mt*w(Xe/=2),Lt=f(Xe)*mt/Ft,Ot=ht/Ft,cr=Lt*Lt,yr=Ot*Ot;return[1.3333333333333333*Lt*(3+cr-3*yr),1.3333333333333333*Ot*(3+3*cr-yr)]}he.invert=function(Xe,it){if(Xe*=.375,it*=.375,!Xe&&L(it)>1)return null;var ht=Xe*Xe,mt=it*it,Ft=1+ht+mt,Lt=O((Ft-O(Ft*Ft-4*it*it))/2),Ot=D(Lt)/3,cr=Lt?H(L(it/Lt))/3:U(L(Xe))/3,yr=w(Ot),ar=_(cr),Ar=ar*ar-yr*yr;return[c(Xe)*2*C(V(cr)*yr,.25-Ar),c(it)*2*C(ar*f(Ot),.25+Ar)]};function q(){return(0,p.Z)(he).scale(66.1603)}var Z=O(8),$=t(1+S);function K(Xe,it){var ht=L(it);return ht<y?[Xe,t(m(y+it/2))]:[Xe*w(ht)*(2*S-1/f(ht)),c(it)*(2*S*(ht-y)-t(m(ht/2)))]}K.invert=function(Xe,it){if((Lt=L(it))<$)return[Xe,2*a(h(it))-u];var ht=y,mt=25,Ft,Lt;do{var Ot=w(ht/2),cr=m(ht/2);ht-=Ft=(Z*(ht-y)-t(cr)-Lt)/(Z-Ot*Ot/(2*cr))}while(L(Ft)>A&&--mt>0);return[Xe/(w(ht)*(Z-1/f(ht))),c(it)*ht]};function re(){return(0,p.Z)(K).scale(112.314)}var le=e(17889);function te(Xe){var it=2*d/Xe;function ht(mt,Ft){var Lt=(0,le.N)(mt,Ft);if(L(mt)>u){var Ot=C(Lt[1],Lt[0]),cr=O(Lt[0]*Lt[0]+Lt[1]*Lt[1]),yr=it*l((Ot-u)/it)+u,ar=C(f(Ot-=yr),2-w(Ot));Ot=yr+D(d/cr*f(ar))-ar,Lt[0]=cr*w(Ot),Lt[1]=cr*f(Ot)}return Lt}return ht.invert=function(mt,Ft){var Lt=O(mt*mt+Ft*Ft);if(Lt>u){var Ot=C(Ft,mt),cr=it*l((Ot-u)/it)+u,yr=Ot>cr?-1:1,ar=Lt*w(cr-Ot),Ar=1/m(yr*b((ar-d)/O(d*(d-2*ar)+Lt*Lt)));Ot=cr+2*a((Ar+yr*O(Ar*Ar-3))/3),mt=Lt*w(Ot),Ft=Lt*f(Ot)}return le.N.invert(mt,Ft)},ht}function ee(){var Xe=5,it=(0,p.r)(te),ht=it(Xe),mt=ht.stream,Ft=.01,Lt=-w(Ft*T),Ot=f(Ft*T);return ht.lobes=function(cr){return arguments.length?it(Xe=+cr):Xe},ht.stream=function(cr){var yr=ht.rotate(),ar=mt(cr),Ar=(ht.rotate([0,0]),mt(cr));return ht.rotate(yr),ar.sphere=function(){Ar.polygonStart(),Ar.lineStart();for(var Dr=0,Zr=360/Xe,Qr=2*d/Xe,wn=90-180/Xe,Sn=u;Dr<Xe;++Dr,wn-=Zr,Sn-=Qr)Ar.point(C(Ot*w(Sn),Lt)*E,D(Ot*f(Sn))*E),wn<-90?(Ar.point(-90,-180-wn-Ft),Ar.point(-90,-180-wn+Ft)):(Ar.point(90,wn+Ft),Ar.point(90,wn-Ft));Ar.lineEnd(),Ar.polygonEnd()},ar},ht.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ue=e(12956);function se(Xe,it){if(arguments.length<2&&(it=Xe),it===1)return ue.l;if(it===1/0)return ve;function ht(mt,Ft){var Lt=(0,ue.l)(mt/it,Ft);return Lt[0]*=Xe,Lt}return ht.invert=function(mt,Ft){var Lt=ue.l.invert(mt/Xe,Ft);return Lt[0]*=it,Lt},ht}function ve(Xe,it){return[Xe*w(it)/w(it/=2),2*f(it)]}ve.invert=function(Xe,it){var ht=2*D(it/2);return[Xe*w(ht/2)/w(ht),ht]};function be(){var Xe=2,it=(0,p.r)(se),ht=it(Xe);return ht.coefficient=function(mt){return arguments.length?it(Xe=+mt):Xe},ht.scale(169.529)}function Ee(Xe,it,ht){var mt=100,Ft,Lt,Ot;ht=ht===void 0?0:+ht,it=+it;do Lt=Xe(ht),Ot=Xe(ht+v),Lt===Ot&&(Ot=Lt+v),ht-=Ft=-1*v*(Lt-it)/(Lt-Ot);while(mt-- >0&&L(Ft)>v);return mt<0?NaN:ht}function Ae(Xe,it,ht){return it===void 0&&(it=40),ht===void 0&&(ht=A),function(mt,Ft,Lt,Ot){var cr,yr,ar;Lt=Lt===void 0?0:+Lt,Ot=Ot===void 0?0:+Ot;for(var Ar=0;Ar<it;Ar++){var Dr=Xe(Lt,Ot),Zr=Dr[0]-mt,Qr=Dr[1]-Ft;if(L(Zr)<ht&&L(Qr)<ht)break;var wn=Zr*Zr+Qr*Qr;if(wn>cr){Lt-=yr/=2,Ot-=ar/=2;continue}cr=wn;var Sn=(Lt>0?-1:1)*ht,kn=(Ot>0?-1:1)*ht,pa=Xe(Lt+Sn,Ot),Da=Xe(Lt,Ot+kn),ka=(pa[0]-Dr[0])/Sn,Fa=(pa[1]-Dr[1])/Sn,za=(Da[0]-Dr[0])/kn,ci=(Da[1]-Dr[1])/kn,ji=ci*ka-Fa*za,Mi=(L(ji)<.5?.5:1)/ji;if(yr=(Qr*za-Zr*ci)*Mi,ar=(Zr*Fa-Qr*ka)*Mi,Lt+=yr,Ot+=ar,L(yr)<ht&&L(ar)<ht)break}return[Lt,Ot]}}function Oe(){var Xe=se(1.68,2),it=1.4,ht=12;function mt(Ft,Lt){if(Ft+Lt<-it){var Ot=(Ft-Lt+1.6)*(Ft+Lt+it)/8;Ft+=Ot,Lt-=.8*Ot*f(Lt+d/2)}var cr=Xe(Ft,Lt),yr=(1-w(Ft*Lt))/ht;return cr[1]<0&&(cr[0]*=1+yr),cr[1]>0&&(cr[1]*=1+yr/1.5*cr[0]*cr[0]),cr}return mt.invert=Ae(mt),mt}function Ue(){return(0,p.Z)(Oe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Le(Xe,it){var ht=Xe*f(it),mt=30,Ft;do it-=Ft=(it+f(it)-ht)/(1+w(it));while(L(Ft)>v&&--mt>0);return it/2}function we(Xe,it,ht){function mt(Ft,Lt){return[Xe*Ft*w(Lt=Le(ht,Lt)),it*f(Lt)]}return mt.invert=function(Ft,Lt){return Lt=D(Lt/it),[Ft/(Xe*w(Lt)),D((2*Lt+f(2*Lt))/ht)]},mt}var Ce=we(S/u,S,d);function Ve(){return(0,p.Z)(Ce).scale(169.529)}var Ne=2.00276,ke=1.11072;function We(Xe,it){var ht=Le(d,it);return[Ne*Xe/(1/w(it)+ke/w(ht)),(it+S*f(ht))/Ne]}We.invert=function(Xe,it){var ht=Ne*it,mt=it<0?-y:y,Ft=25,Lt,Ot;do Ot=ht-S*f(mt),mt-=Lt=(f(2*mt)+2*mt-d*f(Ot))/(2*w(2*mt)+2+d*w(Ot)*S*w(mt));while(L(Lt)>v&&--Ft>0);return Ot=ht-S*f(mt),[Xe*(1/w(Ot)+ke/w(mt))/Ne,Ot]};function rt(){return(0,p.Z)(We).scale(160.857)}function et(Xe){var it=0,ht=(0,p.r)(Xe),mt=ht(it);return mt.parallel=function(Ft){return arguments.length?ht(it=Ft*T):it*E},mt}function tt(Xe,it){return[Xe*w(it),it]}tt.invert=function(Xe,it){return[Xe/w(it),it]};function at(){return(0,p.Z)(tt).scale(152.63)}function ct(Xe){if(!Xe)return tt;var it=1/m(Xe);function ht(mt,Ft){var Lt=it+Xe-Ft,Ot=Lt&&mt*w(Ft)/Lt;return[Lt*f(Ot),it-Lt*w(Ot)]}return ht.invert=function(mt,Ft){var Lt=O(mt*mt+(Ft=it-Ft)*Ft),Ot=it+Xe-Lt;return[Lt/w(Ot)*C(mt,Ft),Ot]},ht}function dt(){return et(ct).scale(123.082).center([0,26.1441]).parallel(45)}function gt(Xe){function it(ht,mt){var Ft=u-mt,Lt=Ft&&ht*Xe*f(Ft)/Ft;return[Ft*f(Lt)/Xe,u-Ft*w(Lt)]}return it.invert=function(ht,mt){var Ft=ht*Xe,Lt=u-mt,Ot=O(Ft*Ft+Lt*Lt),cr=C(Ft,Lt);return[(Ot?Ot/f(Ot):1)*cr/Xe,u-Ot]},it}function Et(){var Xe=.5,it=(0,p.r)(gt),ht=it(Xe);return ht.fraction=function(mt){return arguments.length?it(Xe=+mt):Xe},ht.scale(158.837)}var Ct=we(1,4/d,d);function Vt(){return(0,p.Z)(Ct).scale(152.63)}var Je=e(66624),_e=e(49386);function Fe(Xe,it,ht,mt,Ft,Lt){var Ot=w(Lt),cr;if(L(Xe)>1||L(Lt)>1)cr=b(ht*Ft+it*mt*Ot);else{var yr=f(Xe/2),ar=f(Lt/2);cr=2*D(O(yr*yr+it*mt*ar*ar))}return L(cr)>v?[cr,C(mt*f(Lt),it*Ft-ht*mt*Ot)]:[0,0]}function Be(Xe,it,ht){return b((Xe*Xe+it*it-ht*ht)/(2*Xe*it))}function De(Xe){return Xe-2*d*g((Xe+d)/(2*d))}function Te(Xe,it,ht){for(var mt=[[Xe[0],Xe[1],f(Xe[1]),w(Xe[1])],[it[0],it[1],f(it[1]),w(it[1])],[ht[0],ht[1],f(ht[1]),w(ht[1])]],Ft=mt[2],Lt,Ot=0;Ot<3;++Ot,Ft=Lt)Lt=mt[Ot],Ft.v=Fe(Lt[1]-Ft[1],Ft[3],Ft[2],Lt[3],Lt[2],Lt[0]-Ft[0]),Ft.point=[0,0];var cr=Be(mt[0].v[0],mt[2].v[0],mt[1].v[0]),yr=Be(mt[0].v[0],mt[1].v[0],mt[2].v[0]),ar=d-cr;mt[2].point[1]=0,mt[0].point[0]=-(mt[1].point[0]=mt[0].v[0]/2);var Ar=[mt[2].point[0]=mt[0].point[0]+mt[2].v[0]*w(cr),2*(mt[0].point[1]=mt[1].point[1]=mt[2].v[0]*f(cr))];function Dr(Zr,Qr){var wn=f(Qr),Sn=w(Qr),kn=new Array(3),pa;for(pa=0;pa<3;++pa){var Da=mt[pa];if(kn[pa]=Fe(Qr-Da[1],Da[3],Da[2],Sn,wn,Zr-Da[0]),!kn[pa][0])return Da.point;kn[pa][1]=De(kn[pa][1]-Da.v[1])}var ka=Ar.slice();for(pa=0;pa<3;++pa){var Fa=pa==2?0:pa+1,za=Be(mt[pa].v[0],kn[pa][0],kn[Fa][0]);kn[pa][1]<0&&(za=-za),pa?pa==1?(za=yr-za,ka[0]-=kn[pa][0]*w(za),ka[1]-=kn[pa][0]*f(za)):(za=ar-za,ka[0]+=kn[pa][0]*w(za),ka[1]+=kn[pa][0]*f(za)):(ka[0]+=kn[pa][0]*w(za),ka[1]-=kn[pa][0]*f(za))}return ka[0]/=3,ka[1]/=3,ka}return Dr}function xe(Xe){return Xe[0]*=T,Xe[1]*=T,Xe}function Me(){return Pe([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Pe(Xe,it,ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:[Xe,it,ht]}),Ft=[-mt[0],-mt[1]],Lt=(0,_e.Z)(Ft),Ot=Te(xe(Lt(Xe)),xe(Lt(it)),xe(Lt(ht)));Ot.invert=Ae(Ot);var cr=(0,p.Z)(Ot).rotate(Ft),yr=cr.center;return delete cr.rotate,cr.center=function(ar){return arguments.length?yr(Lt(ar)):Lt.invert(yr())},cr.clipAngle(90)}function He(Xe,it){var ht=O(1-f(it));return[2/R*Xe*ht,R*(1-ht)]}He.invert=function(Xe,it){var ht=(ht=it/R-1)*ht;return[ht>0?Xe*O(d/ht)/2:0,D(1-ht)]};function Ke(){return(0,p.Z)(He).scale(95.6464).center([0,30])}function qe(Xe){var it=m(Xe);function ht(mt,Ft){return[mt,(mt?mt/f(mt):1)*(f(Ft)*w(mt)-it*w(Ft))]}return ht.invert=it?function(mt,Ft){mt&&(Ft*=f(mt)/mt);var Lt=w(mt);return[mt,2*C(O(Lt*Lt+it*it-Ft*Ft)-Lt,it-Ft)]}:function(mt,Ft){return[mt,D(mt?Ft*m(mt)/mt:Ft)]},ht}function vt(){return et(qe).scale(249.828).clipAngle(90)}var bt=O(3);function Wt(Xe,it){return[bt*Xe*(2*w(2*it/3)-1)/R,bt*R*f(it/3)]}Wt.invert=function(Xe,it){var ht=3*D(it/(bt*R));return[R*Xe/(bt*(2*w(2*ht/3)-1)),ht]};function qt(){return(0,p.Z)(Wt).scale(156.19)}function At(Xe){var it=w(Xe);function ht(mt,Ft){return[mt*it,f(Ft)/it]}return ht.invert=function(mt,Ft){return[mt/it,D(Ft*it)]},ht}function zt(){return et(At).parallel(38.58).scale(195.044)}function Kt(Xe){var it=w(Xe);function ht(mt,Ft){return[mt*it,(1+it)*m(Ft/2)]}return ht.invert=function(mt,Ft){return[mt/it,a(Ft/(1+it))*2]},ht}function Sr(){return et(Kt).scale(124.75)}function yt(Xe,it){var ht=O(8/(3*d));return[ht*Xe*(1-L(it)/d),ht*it]}yt.invert=function(Xe,it){var ht=O(8/(3*d)),mt=it/ht;return[Xe/(ht*(1-L(mt)/d)),mt]};function Zt(){return(0,p.Z)(yt).scale(165.664)}function $t(Xe,it){var ht=O(4-3*f(L(it)));return[2/O(6*d)*Xe*ht,c(it)*O(2*d/3)*(2-ht)]}$t.invert=function(Xe,it){var ht=2-L(it)/O(2*d/3);return[Xe*O(6*d)/(2*ht),c(it)*D((4-ht*ht)/3)]};function mr(){return(0,p.Z)($t).scale(165.664)}function ur(Xe,it){var ht=O(d*(4+d));return[2/ht*Xe*(1+O(1-4*it*it/(d*d))),4/ht*it]}ur.invert=function(Xe,it){var ht=O(d*(4+d))/2;return[Xe*ht/(1+O(1-it*it*(4+d)/(4*d))),it*ht/2]};function pt(){return(0,p.Z)(ur).scale(180.739)}function st(Xe,it){var ht=(2+u)*f(it);it/=2;for(var mt=0,Ft=1/0;mt<10&&L(Ft)>v;mt++){var Lt=w(it);it-=Ft=(it+f(it)*(Lt+2)-ht)/(2*Lt*(1+Lt))}return[2/O(d*(4+d))*Xe*(1+w(it)),2*O(d/(4+d))*f(it)]}st.invert=function(Xe,it){var ht=it*O((4+d)/d)/2,mt=D(ht),Ft=w(mt);return[Xe/(2/O(d*(4+d))*(1+Ft)),D((mt+ht*(Ft+2))/(2+u))]};function xt(){return(0,p.Z)(st).scale(180.739)}function St(Xe,it){return[Xe*(1+w(it))/O(2+d),2*it/O(2+d)]}St.invert=function(Xe,it){var ht=O(2+d),mt=it*ht/2;return[ht*Xe/(1+w(mt)),mt]};function Dt(){return(0,p.Z)(St).scale(173.044)}function Rt(Xe,it){for(var ht=(1+u)*f(it),mt=0,Ft=1/0;mt<10&&L(Ft)>v;mt++)it-=Ft=(it+f(it)-ht)/(1+w(it));return ht=O(2+d),[Xe*(1+w(it))/ht,2*it/ht]}Rt.invert=function(Xe,it){var ht=1+u,mt=O(ht/2);return[Xe*2*mt/(1+w(it*=mt)),D((it+f(it))/ht)]};function Bt(){return(0,p.Z)(Rt).scale(173.044)}var Nt=3+2*S;function Xt(Xe,it){var ht=f(Xe/=2),mt=w(Xe),Ft=O(w(it)),Lt=w(it/=2),Ot=f(it)/(Lt+S*mt*Ft),cr=O(2/(1+Ot*Ot)),yr=O((S*Lt+(mt+ht)*Ft)/(S*Lt+(mt-ht)*Ft));return[Nt*(cr*(yr-1/yr)-2*t(yr)),Nt*(cr*Ot*(yr+1/yr)-2*a(Ot))]}Xt.invert=function(Xe,it){if(!(Lt=he.invert(Xe/1.2,it*1.065)))return null;var ht=Lt[0],mt=Lt[1],Ft=20,Lt;Xe/=Nt,it/=Nt;do{var Ot=ht/2,cr=mt/2,yr=f(Ot),ar=w(Ot),Ar=f(cr),Dr=w(cr),Zr=w(mt),Qr=O(Zr),wn=Ar/(Dr+S*ar*Qr),Sn=wn*wn,kn=O(2/(1+Sn)),pa=S*Dr+(ar+yr)*Qr,Da=S*Dr+(ar-yr)*Qr,ka=pa/Da,Fa=O(ka),za=Fa-1/Fa,ci=Fa+1/Fa,ji=kn*za-2*t(Fa)-Xe,Mi=kn*wn*ci-2*a(wn)-it,fe=Ar&&M*Qr*yr*Sn/Ar,Re=(S*ar*Dr+Qr)/(2*(Dr+S*ar*Qr)*(Dr+S*ar*Qr)*Qr),Ge=-.5*wn*kn*kn*kn,Qe=Ge*fe,nt=Ge*Re,ot=(ot=2*Dr+S*Qr*(ar-yr))*ot*Fa,Pt=(S*ar*Dr*Qr+Zr)/ot,ft=-(S*yr*Ar)/(Qr*ot),Ht=za*Qe-2*Pt/Fa+kn*(Pt+Pt/ka),er=za*nt-2*ft/Fa+kn*(ft+ft/ka),nr=wn*ci*Qe-2*fe/(1+Sn)+kn*ci*fe+kn*wn*(Pt-Pt/ka),Rr=wn*ci*nt-2*Re/(1+Sn)+kn*ci*Re+kn*wn*(ft-ft/ka),Lr=er*nr-Rr*Ht;if(!Lr)break;var Jr=(Mi*er-ji*Rr)/Lr,an=(ji*nr-Mi*Ht)/Lr;ht-=Jr,mt=r(-u,s(u,mt-an))}while((L(Jr)>v||L(an)>v)&&--Ft>0);return L(L(mt)-u)<v?[0,mt]:Ft&&[ht,mt]};function lr(){return(0,p.Z)(Xt).scale(62.5271)}var sr=w(35*T);function dr(Xe,it){var ht=m(it/2);return[Xe*sr*O(1-ht*ht),(1+sr)*ht]}dr.invert=function(Xe,it){var ht=it/(1+sr);return[Xe&&Xe/(sr*O(1-ht*ht)),2*a(ht)]};function Ye(){return(0,p.Z)(dr).scale(137.152)}function je(Xe,it){var ht=it/2,mt=w(ht);return[2*Xe/R*w(it)*mt*mt,R*m(ht)]}je.invert=function(Xe,it){var ht=a(it/R),mt=w(ht),Ft=2*ht;return[Xe*R/2/(w(Ft)*mt*mt),Ft]};function It(){return(0,p.Z)(je).scale(135.264)}function kt(Xe){var it=1-Xe,ht=Lt(d,0)[0]-Lt(-d,0)[0],mt=Lt(0,u)[1]-Lt(0,-u)[1],Ft=O(2*mt/ht);function Lt(yr,ar){var Ar=w(ar),Dr=f(ar);return[Ar/(it+Xe*Ar)*yr,it*ar+Xe*Dr]}function Ot(yr,ar){var Ar=Lt(yr,ar);return[Ar[0]*Ft,Ar[1]/Ft]}function cr(yr){return Ot(0,yr)[1]}return Ot.invert=function(yr,ar){var Ar=Ee(cr,ar),Dr=yr/Ft*(Xe+it/w(Ar));return[Dr,Ar]},Ot}function jt(){var Xe=.5,it=(0,p.r)(kt),ht=it(Xe);return ht.alpha=function(mt){return arguments.length?it(Xe=+mt):Xe},ht.scale(168.725)}var tr=e(57962),or=e(97492);function rr(Xe){return[Xe[0]/2,D(m(Xe[1]/2*T))*E]}function _t(Xe){return[Xe[0]*2,2*a(f(Xe[1]*T))*E]}function hr(Xe){Xe==null&&(Xe=tr.Z);var it=Xe(),ht=(0,or.Z)().scale(E).precision(0).clipAngle(null).translate([0,0]);function mt(Lt){return it(rr(Lt))}it.invert&&(mt.invert=function(Lt){return _t(it.invert(Lt))}),mt.stream=function(Lt){var Ot=it.stream(Lt),cr=ht.stream({point:function(yr,ar){Ot.point(yr/2,D(m(-ar/2*T))*E)},lineStart:function(){Ot.lineStart()},lineEnd:function(){Ot.lineEnd()},polygonStart:function(){Ot.polygonStart()},polygonEnd:function(){Ot.polygonEnd()}});return cr.sphere=Ot.sphere,cr};function Ft(Lt){mt[Lt]=function(){return arguments.length?(it[Lt].apply(it,arguments),mt):it[Lt]()}}return mt.rotate=function(Lt){return arguments.length?(ht.rotate(Lt),mt):ht.rotate()},mt.center=function(Lt){return arguments.length?(it.center(rr(Lt)),mt):_t(it.center())},Ft("angle"),Ft("clipAngle"),Ft("clipExtent"),Ft("fitExtent"),Ft("fitHeight"),Ft("fitSize"),Ft("fitWidth"),Ft("scale"),Ft("translate"),Ft("precision"),mt.scale(249.5)}function gr(Xe,it){var ht=2*d/it,mt=Xe*Xe;function Ft(Lt,Ot){var cr=(0,le.N)(Lt,Ot),yr=cr[0],ar=cr[1],Ar=yr*yr+ar*ar;if(Ar>mt){var Dr=O(Ar),Zr=C(ar,yr),Qr=ht*l(Zr/ht),wn=Zr-Qr,Sn=Xe*w(wn),kn=(Xe*f(wn)-wn*f(Sn))/(u-Sn),pa=pr(wn,kn),Da=(d-Xe)/vr(pa,Sn,d);yr=Dr;var ka=50,Fa;do yr-=Fa=(Xe+vr(pa,Sn,yr)*Da-Dr)/(pa(yr)*Da);while(L(Fa)>v&&--ka>0);ar=wn*f(yr),yr<u&&(ar-=kn*(yr-u));var za=f(Qr),ci=w(Qr);cr[0]=yr*ci-ar*za,cr[1]=yr*za+ar*ci}return cr}return Ft.invert=function(Lt,Ot){var cr=Lt*Lt+Ot*Ot;if(cr>mt){var yr=O(cr),ar=C(Ot,Lt),Ar=ht*l(ar/ht),Dr=ar-Ar;Lt=yr*w(Dr),Ot=yr*f(Dr);for(var Zr=Lt-u,Qr=f(Lt),wn=Ot/Qr,Sn=Lt<u?1/0:0,kn=10;;){var pa=Xe*f(wn),Da=Xe*w(wn),ka=f(Da),Fa=u-Da,za=(pa-wn*ka)/Fa,ci=pr(wn,za);if(L(Sn)<A||!--kn)break;wn-=Sn=(wn*Qr-za*Zr-Ot)/(Qr-Zr*2*(Fa*(Da+wn*pa*w(Da)-ka)-pa*(pa-wn*ka))/(Fa*Fa))}yr=Xe+vr(ci,Da,Lt)*(d-Xe)/vr(ci,Da,d),ar=Ar+wn,Lt=yr*w(ar),Ot=yr*f(ar)}return le.N.invert(Lt,Ot)},Ft}function pr(Xe,it){return function(ht){var mt=Xe*w(ht);return ht<u&&(mt-=it),O(1+mt*mt)}}function vr(Xe,it,ht){for(var mt=50,Ft=(ht-it)/mt,Lt=Xe(it)+Xe(ht),Ot=1,cr=it;Ot<mt;++Ot)Lt+=2*Xe(cr+=Ft);return Lt*.5*Ft}function Gr(){var Xe=6,it=30*T,ht=w(it),mt=f(it),Ft=(0,p.r)(gr),Lt=Ft(it,Xe),Ot=Lt.stream,cr=.01,yr=-w(cr*T),ar=f(cr*T);return Lt.radius=function(Ar){return arguments.length?(ht=w(it=Ar*T),mt=f(it),Ft(it,Xe)):it*E},Lt.lobes=function(Ar){return arguments.length?Ft(it,Xe=+Ar):Xe},Lt.stream=function(Ar){var Dr=Lt.rotate(),Zr=Ot(Ar),Qr=(Lt.rotate([0,0]),Ot(Ar));return Lt.rotate(Dr),Zr.sphere=function(){Qr.polygonStart(),Qr.lineStart();for(var wn=0,Sn=2*d/Xe,kn=0;wn<Xe;++wn,kn-=Sn)Qr.point(C(ar*w(kn),yr)*E,D(ar*f(kn))*E),Qr.point(C(mt*w(kn-Sn/2),ht)*E,D(mt*f(kn-Sn/2))*E);Qr.lineEnd(),Qr.polygonEnd()},Zr},Lt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Fr(Xe,it,ht,mt,Ft,Lt,Ot,cr){arguments.length<8&&(cr=0);function yr(ar,Ar){if(!Ar)return[Xe*ar/d,0];var Dr=Ar*Ar,Zr=Xe+Dr*(it+Dr*(ht+Dr*mt)),Qr=Ar*(Ft-1+Dr*(Lt-cr+Dr*Ot)),wn=(Zr*Zr+Qr*Qr)/(2*Qr),Sn=ar*D(Zr/wn)/d;return[wn*f(Sn),Ar*(1+Dr*cr)+wn*(1-w(Sn))]}return yr.invert=function(ar,Ar){var Dr=d*ar/Xe,Zr=Ar,Qr,wn,Sn=50;do{var kn=Zr*Zr,pa=Xe+kn*(it+kn*(ht+kn*mt)),Da=Zr*(Ft-1+kn*(Lt-cr+kn*Ot)),ka=pa*pa+Da*Da,Fa=2*Da,za=ka/Fa,ci=za*za,ji=D(pa/za)/d,Mi=Dr*ji,fe=pa*pa,Re=(2*it+kn*(4*ht+kn*6*mt))*Zr,Ge=Ft+kn*(3*Lt+kn*5*Ot),Qe=2*(pa*Re+Da*(Ge-1)),nt=2*(Ge-1),ot=(Qe*Fa-ka*nt)/(Fa*Fa),Pt=w(Mi),ft=f(Mi),Ht=za*Pt,er=za*ft,nr=Dr/d*(1/O(1-fe/ci))*(Re*za-pa*ot)/ci,Rr=er-ar,Lr=Zr*(1+kn*cr)+za-Ht-Ar,Jr=ot*ft+Ht*nr,an=Ht*ji,kr=1+ot-(ot*Pt-er*nr),Ur=er*ji,$r=Jr*Ur-kr*an;if(!$r)break;Dr-=Qr=(Lr*Jr-Rr*kr)/$r,Zr-=wn=(Rr*Ur-Lr*an)/$r}while((L(Qr)>v||L(wn)>v)&&--Sn>0);return[Dr,Zr]},yr}var _r=Fr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function gn(){return(0,p.Z)(_r).scale(149.995)}var tn=Fr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Bn(){return(0,p.Z)(tn).scale(153.93)}var An=Fr(5/6*d,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Mr(){return(0,p.Z)(An).scale(130.945)}function Cr(Xe,it){var ht=Xe*Xe,mt=it*it;return[Xe*(1-.162388*mt)*(.87-952426e-9*ht*ht),it*(1+mt/12)]}Cr.invert=function(Xe,it){var ht=Xe,mt=it,Ft=50,Lt;do{var Ot=mt*mt;mt-=Lt=(mt*(1+Ot/12)-it)/(1+Ot/4)}while(L(Lt)>v&&--Ft>0);Ft=50,Xe/=1-.162388*Ot;do{var cr=(cr=ht*ht)*cr;ht-=Lt=(ht*(.87-952426e-9*cr)-Xe)/(.87-.00476213*cr)}while(L(Lt)>v&&--Ft>0);return[ht,mt]};function jr(){return(0,p.Z)(Cr).scale(131.747)}var Hr=Fr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function on(){return(0,p.Z)(Hr).scale(131.087)}function yn(Xe){var it=Xe(u,0)[0]-Xe(-u,0)[0];function ht(mt,Ft){var Lt=mt>0?-.5:.5,Ot=Xe(mt+Lt*d,Ft);return Ot[0]-=Lt*it,Ot}return Xe.invert&&(ht.invert=function(mt,Ft){var Lt=mt>0?-.5:.5,Ot=Xe.invert(mt+Lt*it,Ft),cr=Ot[0]-Lt*d;return cr<-d?cr+=2*d:cr>d&&(cr-=2*d),Ot[0]=cr,Ot}),ht}function xn(Xe,it){var ht=c(Xe),mt=c(it),Ft=w(it),Lt=w(Xe)*Ft,Ot=f(Xe)*Ft,cr=f(mt*it);Xe=L(C(Ot,cr)),it=D(Lt),L(Xe-u)>v&&(Xe%=u);var yr=Rn(Xe>d/4?u-Xe:Xe,it);return Xe>d/4&&(cr=yr[0],yr[0]=-yr[1],yr[1]=-cr),yr[0]*=ht,yr[1]*=-mt,yr}xn.invert=function(Xe,it){L(Xe)>1&&(Xe=c(Xe)*2-Xe),L(it)>1&&(it=c(it)*2-it);var ht=c(Xe),mt=c(it),Ft=-ht*Xe,Lt=-mt*it,Ot=Lt/Ft<1,cr=_n(Ot?Lt:Ft,Ot?Ft:Lt),yr=cr[0],ar=cr[1],Ar=w(ar);return Ot&&(yr=-u-yr),[ht*(C(f(yr)*Ar,-f(ar))+d),mt*D(w(yr)*Ar)]};function Rn(Xe,it){if(it===u)return[0,0];var ht=f(it),mt=ht*ht,Ft=mt*mt,Lt=1+Ft,Ot=1+3*Ft,cr=1-Ft,yr=D(1/O(Lt)),ar=cr+mt*Lt*yr,Ar=(1-ht)/ar,Dr=O(Ar),Zr=Ar*Lt,Qr=O(Zr),wn=Dr*cr,Sn,kn;if(Xe===0)return[0,-(wn+mt*Qr)];var pa=w(it),Da=1/pa,ka=2*ht*pa,Fa=(-3*mt+yr*Ot)*ka,za=(-ar*pa-(1-ht)*Fa)/(ar*ar),ci=.5*za/Dr,ji=cr*ci-2*mt*Dr*ka,Mi=mt*Lt*za+Ar*Ot*ka,fe=-Da*ka,Re=-Da*Mi,Ge=-2*Da*ji,Qe=4*Xe/d,nt;if(Xe>.222*d||it<d/4&&Xe>.175*d){if(Sn=(wn+mt*O(Zr*(1+Ft)-wn*wn))/(1+Ft),Xe>d/4)return[Sn,Sn];var ot=Sn,Pt=.5*Sn;Sn=.5*(Pt+ot),kn=50;do{var ft=O(Zr-Sn*Sn),Ht=Sn*(Ge+fe*ft)+Re*D(Sn/Qr)-Qe;if(!Ht)break;Ht<0?Pt=Sn:ot=Sn,Sn=.5*(Pt+ot)}while(L(ot-Pt)>v&&--kn>0)}else{Sn=v,kn=25;do{var er=Sn*Sn,nr=O(Zr-er),Rr=Ge+fe*nr,Lr=Sn*Rr+Re*D(Sn/Qr)-Qe,Jr=Rr+(Re-fe*er)/nr;Sn-=nt=nr?Lr/Jr:0}while(L(nt)>v&&--kn>0)}return[Sn,-wn-mt*O(Zr-Sn*Sn)]}function _n(Xe,it){for(var ht=0,mt=1,Ft=.5,Lt=50;;){var Ot=Ft*Ft,cr=O(Ft),yr=D(1/O(1+Ot)),ar=1-Ot+Ft*(1+Ot)*yr,Ar=(1-cr)/ar,Dr=O(Ar),Zr=Ar*(1+Ot),Qr=Dr*(1-Ot),wn=Zr-Xe*Xe,Sn=O(wn),kn=it+Qr+Ft*Sn;if(L(mt-ht)<A||--Lt===0||kn===0)break;kn>0?ht=Ft:mt=Ft,Ft=.5*(ht+mt)}if(!Lt)return null;var pa=D(cr),Da=w(pa),ka=1/Da,Fa=2*cr*Da,za=(-3*Ft+yr*(1+3*Ot))*Fa,ci=(-ar*Da-(1-cr)*za)/(ar*ar),ji=.5*ci/Dr,Mi=(1-Ot)*ji-2*Ft*Dr*Fa,fe=-2*ka*Mi,Re=-ka*Fa,Ge=-ka*(Ft*(1+Ot)*ci+Ar*(1+3*Ot)*Fa);return[d/4*(Xe*(fe+Re*Sn)+Ge*D(Xe/O(Zr))),pa]}function sa(){return(0,p.Z)(yn(xn)).scale(239.75)}function Zn(Xe,it,ht){var mt,Ft,Lt;return Xe?(mt=qn(Xe,ht),it?(Ft=qn(it,1-ht),Lt=Ft[1]*Ft[1]+ht*mt[0]*mt[0]*Ft[0]*Ft[0],[[mt[0]*Ft[2]/Lt,mt[1]*mt[2]*Ft[0]*Ft[1]/Lt],[mt[1]*Ft[1]/Lt,-mt[0]*mt[2]*Ft[0]*Ft[2]/Lt],[mt[2]*Ft[1]*Ft[2]/Lt,-ht*mt[0]*mt[1]*Ft[0]/Lt]]):[[mt[0],0],[mt[1],0],[mt[2],0]]):(Ft=qn(it,1-ht),[[0,Ft[0]/Ft[1]],[1/Ft[1],0],[Ft[2]/Ft[1],0]])}function qn(Xe,it){var ht,mt,Ft,Lt,Ot;if(it<v)return Lt=f(Xe),mt=w(Xe),ht=it*(Xe-Lt*mt)/4,[Lt-ht*mt,mt+ht*Lt,1-it*Lt*Lt/2,Xe-ht];if(it>=1-v)return ht=(1-it)/4,mt=_(Xe),Lt=F(Xe),Ft=1/mt,Ot=mt*V(Xe),[Lt+ht*(Ot-Xe)/(mt*mt),Ft-ht*Lt*Ft*(Ot-Xe),Ft+ht*Lt*Ft*(Ot+Xe),2*a(h(Xe))-u+ht*(Ot-Xe)/mt];var cr=[1,0,0,0,0,0,0,0,0],yr=[O(it),0,0,0,0,0,0,0,0],ar=0;for(mt=O(1-it),Ot=1;L(yr[ar]/cr[ar])>v&&ar<8;)ht=cr[ar++],yr[ar]=(ht-mt)/2,cr[ar]=(ht+mt)/2,mt=O(ht*mt),Ot*=2;Ft=Ot*cr[ar]*Xe;do Lt=yr[ar]*f(mt=Ft)/cr[ar],Ft=(D(Lt)+Ft)/2;while(--ar);return[f(Ft),Lt=w(Ft),Lt/w(Ft-mt),Ft]}function jn(Xe,it,ht){var mt=L(Xe),Ft=L(it),Lt=V(Ft);if(mt){var Ot=1/f(mt),cr=1/(m(mt)*m(mt)),yr=-(cr+ht*(Lt*Lt*Ot*Ot)-1+ht),ar=(ht-1)*cr,Ar=(-yr+O(yr*yr-4*ar))/2;return[Qn(a(1/O(Ar)),ht)*c(Xe),Qn(a(O((Ar/cr-1)/ht)),1-ht)*c(it)]}return[0,Qn(a(Lt),1-ht)*c(it)]}function Qn(Xe,it){if(!it)return Xe;if(it===1)return t(m(Xe/2+y));for(var ht=1,mt=O(1-it),Ft=O(it),Lt=0;L(Ft)>v;Lt++){if(Xe%d){var Ot=a(mt*m(Xe)/ht);Ot<0&&(Ot+=d),Xe+=Ot+~~(Xe/d)*d}else Xe+=Xe;Ft=(ht+mt)/2,mt=O(ht*mt),Ft=((ht=Ft)-mt)/2}return Xe/(n(2,Lt)*ht)}function Tr(Xe,it){var ht=(S-1)/(S+1),mt=O(1-ht*ht),Ft=Qn(u,mt*mt),Lt=-1,Ot=t(m(d/4+L(it)/2)),cr=h(Lt*Ot)/O(ht),yr=ln(cr*w(Lt*Xe),cr*f(Lt*Xe)),ar=jn(yr[0],yr[1],mt*mt);return[-ar[1],(it>=0?1:-1)*(.5*Ft-ar[0])]}function ln(Xe,it){var ht=Xe*Xe,mt=it+1,Ft=1-ht-it*it;return[.5*((Xe>=0?u:-u)-C(Ft,2*Xe)),-.25*t(Ft*Ft+4*ht)+.5*t(mt*mt+ht)]}function nn(Xe,it){var ht=it[0]*it[0]+it[1]*it[1];return[(Xe[0]*it[0]+Xe[1]*it[1])/ht,(Xe[1]*it[0]-Xe[0]*it[1])/ht]}Tr.invert=function(Xe,it){var ht=(S-1)/(S+1),mt=O(1-ht*ht),Ft=Qn(u,mt*mt),Lt=-1,Ot=Zn(.5*Ft-it,-Xe,mt*mt),cr=nn(Ot[0],Ot[1]),yr=C(cr[1],cr[0])/Lt;return[yr,2*a(h(.5/Lt*t(ht*cr[0]*cr[0]+ht*cr[1]*cr[1])))-u]};function mn(){return(0,p.Z)(yn(Tr)).scale(151.496)}var Vn=e(7613);function En(Xe){var it=f(Xe),ht=w(Xe),mt=Cn(Xe);mt.invert=Cn(-Xe);function Ft(Lt,Ot){var cr=mt(Lt,Ot);Lt=cr[0],Ot=cr[1];var yr=f(Ot),ar=w(Ot),Ar=w(Lt),Dr=b(it*yr+ht*ar*Ar),Zr=f(Dr),Qr=L(Zr)>v?Dr/Zr:1;return[Qr*ht*f(Lt),(L(Lt)>u?Qr:-Qr)*(it*ar-ht*yr*Ar)]}return Ft.invert=function(Lt,Ot){var cr=O(Lt*Lt+Ot*Ot),yr=-f(cr),ar=w(cr),Ar=cr*ar,Dr=-Ot*yr,Zr=cr*it,Qr=O(Ar*Ar+Dr*Dr-Zr*Zr),wn=C(Ar*Zr+Dr*Qr,Dr*Zr-Ar*Qr),Sn=(cr>u?-1:1)*C(Lt*yr,cr*w(wn)*ar+Ot*f(wn)*yr);return mt.invert(Sn,wn)},Ft}function Cn(Xe){var it=f(Xe),ht=w(Xe);return function(mt,Ft){var Lt=w(Ft),Ot=w(mt)*Lt,cr=f(mt)*Lt,yr=f(Ft);return[C(cr,Ot*ht-yr*it),D(yr*ht+Ot*it)]}}function Nn(){var Xe=0,it=(0,p.r)(En),ht=it(Xe),mt=ht.rotate,Ft=ht.stream,Lt=(0,Vn.Z)();return ht.parallel=function(Ot){if(!arguments.length)return Xe*E;var cr=ht.rotate();return it(Xe=Ot*T).rotate(cr)},ht.rotate=function(Ot){return arguments.length?(mt.call(ht,[Ot[0],Ot[1]-Xe*E]),Lt.center([-Ot[0],-Ot[1]]),ht):(Ot=mt.call(ht),Ot[1]+=Xe*E,Ot)},ht.stream=function(Ot){return Ot=Ft(Ot),Ot.sphere=function(){Ot.polygonStart();var cr=.01,yr=Lt.radius(90-cr)().coordinates[0],ar=yr.length-1,Ar=-1,Dr;for(Ot.lineStart();++Ar<ar;)Ot.point((Dr=yr[Ar])[0],Dr[1]);for(Ot.lineEnd(),yr=Lt.radius(90+cr)().coordinates[0],ar=yr.length-1,Ot.lineStart();--Ar>=0;)Ot.point((Dr=yr[Ar])[0],Dr[1]);Ot.lineEnd(),Ot.polygonEnd()},Ot},ht.scale(79.4187).parallel(45).clipAngle(179.999)}var ta=e(33064),wa=e(72736),Ka=3,Yt=D(1-1/Ka)*E,wr=At(0);function rn(Xe){var it=Yt*T,ht=He(d,it)[0]-He(-d,it)[0],mt=wr(0,it)[1],Ft=He(0,it)[1],Lt=R-Ft,Ot=x/Xe,cr=4/x,yr=mt+Lt*Lt*4/x;function ar(Ar,Dr){var Zr,Qr=L(Dr);if(Qr>it){var wn=s(Xe-1,r(0,g((Ar+d)/Ot)));Ar+=d*(Xe-1)/Xe-wn*Ot,Zr=He(Ar,Qr),Zr[0]=Zr[0]*x/ht-x*(Xe-1)/(2*Xe)+wn*x/Xe,Zr[1]=mt+(Zr[1]-Ft)*4*Lt/x,Dr<0&&(Zr[1]=-Zr[1])}else Zr=wr(Ar,Dr);return Zr[0]*=cr,Zr[1]/=yr,Zr}return ar.invert=function(Ar,Dr){Ar/=cr,Dr*=yr;var Zr=L(Dr);if(Zr>mt){var Qr=s(Xe-1,r(0,g((Ar+d)/Ot)));Ar=(Ar+d*(Xe-1)/Xe-Qr*Ot)*ht/x;var wn=He.invert(Ar,.25*(Zr-mt)*x/Lt+Ft);return wn[0]-=d*(Xe-1)/Xe-Qr*Ot,Dr<0&&(wn[1]=-wn[1]),wn}return wr.invert(Ar,Dr)},ar}function fn(Xe,it){return[Xe,it&1?90-v:Yt]}function hn(Xe,it){return[Xe,it&1?-90+v:-Yt]}function In(Xe){return[Xe[0]*(1-v),Xe[1]]}function Mn(Xe){var it=[].concat((0,ta.w6)(-180,180+Xe/2,Xe).map(fn),(0,ta.w6)(180,-180-Xe/2,-Xe).map(hn));return{type:"Polygon",coordinates:[Xe===180?it.map(In):it]}}function dn(){var Xe=4,it=(0,p.r)(rn),ht=it(Xe),mt=ht.stream;return ht.lobes=function(Ft){return arguments.length?it(Xe=+Ft):Xe},ht.stream=function(Ft){var Lt=ht.rotate(),Ot=mt(Ft),cr=(ht.rotate([0,0]),mt(Ft));return ht.rotate(Lt),Ot.sphere=function(){(0,wa.Z)(Mn(180/Xe),cr)},Ot},ht.scale(239.75)}function Ir(Xe){var it=1+Xe,ht=f(1/it),mt=D(ht),Ft=2*O(d/(Lt=d+4*mt*it)),Lt,Ot=.5*Ft*(it+O(Xe*(2+Xe))),cr=Xe*Xe,yr=it*it;function ar(Ar,Dr){var Zr=1-f(Dr),Qr,wn;if(Zr&&Zr<2){var Sn=u-Dr,kn=25,pa;do{var Da=f(Sn),ka=w(Sn),Fa=mt+C(Da,it-ka),za=1+yr-2*it*ka;Sn-=pa=(Sn-cr*mt-it*Da+za*Fa-.5*Zr*Lt)/(2*it*Da*Fa)}while(L(pa)>A&&--kn>0);Qr=Ft*O(za),wn=Ar*Fa/d}else Qr=Ft*(Xe+Zr),wn=Ar*mt/d;return[Qr*f(wn),Ot-Qr*w(wn)]}return ar.invert=function(Ar,Dr){var Zr=Ar*Ar+(Dr-=Ot)*Dr,Qr=(1+yr-Zr/(Ft*Ft))/(2*it),wn=b(Qr),Sn=f(wn),kn=mt+C(Sn,it-Qr);return[D(Ar/O(Zr))*d/kn,D(1-2*(wn-cr*mt-it*Sn+(1+yr-2*it*Qr)*kn)/Lt)]},ar}function Pr(){var Xe=1,it=(0,p.r)(Ir),ht=it(Xe);return ht.ratio=function(mt){return arguments.length?it(Xe=+mt):Xe},ht.scale(167.774).center([0,18.67])}var Br=.7109889596207567,pn=.0528035274542;function zn(Xe,it){return it>-Br?(Xe=Ce(Xe,it),Xe[1]+=pn,Xe):tt(Xe,it)}zn.invert=function(Xe,it){return it>-Br?Ce.invert(Xe,it-pn):tt.invert(Xe,it)};function Xn(){return(0,p.Z)(zn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function bn(Xe,it){return L(it)>Br?(Xe=Ce(Xe,it),Xe[1]-=it>0?pn:-pn,Xe):tt(Xe,it)}bn.invert=function(Xe,it){return L(it)>Br?Ce.invert(Xe,it+(it>0?pn:-pn)):tt.invert(Xe,it)};function Un(){return(0,p.Z)(bn).scale(152.63)}function ia(Xe,it,ht,mt){var Ft=O(4*d/(2*ht+(1+Xe-it/2)*f(2*ht)+(Xe+it)/2*f(4*ht)+it/2*f(6*ht))),Lt=O(mt*f(ht)*O((1+Xe*w(2*ht)+it*w(4*ht))/(1+Xe+it))),Ot=ht*yr(1);function cr(Dr){return O(1+Xe*w(2*Dr)+it*w(4*Dr))}function yr(Dr){var Zr=Dr*ht;return(2*Zr+(1+Xe-it/2)*f(2*Zr)+(Xe+it)/2*f(4*Zr)+it/2*f(6*Zr))/ht}function ar(Dr){return cr(Dr)*f(Dr)}var Ar=function(Dr,Zr){var Qr=ht*Ee(yr,Ot*f(Zr)/ht,Zr/d);isNaN(Qr)&&(Qr=ht*c(Zr));var wn=Ft*cr(Qr);return[wn*Lt*Dr/d*w(Qr),wn/Lt*f(Qr)]};return Ar.invert=function(Dr,Zr){var Qr=Ee(ar,Zr*Lt/Ft);return[Dr*d/(w(Qr)*Ft*Lt*cr(Qr)),D(ht*yr(Qr/ht)/Ot)]},ht===0&&(Ft=O(mt/d),Ar=function(Dr,Zr){return[Dr*Ft,f(Zr)/Ft]},Ar.invert=function(Dr,Zr){return[Dr/Ft,D(Zr*Ft)]}),Ar}function ca(){var Xe=1,it=0,ht=45*T,mt=2,Ft=(0,p.r)(ia),Lt=Ft(Xe,it,ht,mt);return Lt.a=function(Ot){return arguments.length?Ft(Xe=+Ot,it,ht,mt):Xe},Lt.b=function(Ot){return arguments.length?Ft(Xe,it=+Ot,ht,mt):it},Lt.psiMax=function(Ot){return arguments.length?Ft(Xe,it,ht=+Ot*T,mt):ht*E},Lt.ratio=function(Ot){return arguments.length?Ft(Xe,it,ht,mt=+Ot):mt},Lt.scale(180.739)}function ua(Xe,it,ht,mt,Ft,Lt,Ot,cr,yr,ar,Ar){if(Ar.nanEncountered)return NaN;var Dr,Zr,Qr,wn,Sn,kn,pa,Da,ka,Fa;if(Dr=ht-it,Zr=Xe(it+Dr*.25),Qr=Xe(ht-Dr*.25),isNaN(Zr)){Ar.nanEncountered=!0;return}if(isNaN(Qr)){Ar.nanEncountered=!0;return}return wn=Dr*(mt+4*Zr+Ft)/12,Sn=Dr*(Ft+4*Qr+Lt)/12,kn=wn+Sn,Fa=(kn-Ot)/15,ar>yr?(Ar.maxDepthCount++,kn+Fa):Math.abs(Fa)<cr?kn+Fa:(pa=it+Dr*.5,Da=ua(Xe,it,pa,mt,Zr,Ft,wn,cr*.5,yr,ar+1,Ar),isNaN(Da)?(Ar.nanEncountered=!0,NaN):(ka=ua(Xe,pa,ht,Ft,Qr,Lt,Sn,cr*.5,yr,ar+1,Ar),isNaN(ka)?(Ar.nanEncountered=!0,NaN):Da+ka))}function fa(Xe,it,ht,mt,Ft){var Lt={maxDepthCount:0,nanEncountered:!1};mt===void 0&&(mt=1e-8),Ft===void 0&&(Ft=20);var Ot=Xe(it),cr=Xe(.5*(it+ht)),yr=Xe(ht),ar=(Ot+4*cr+yr)*(ht-it)/6,Ar=ua(Xe,it,ht,Ot,cr,yr,ar,mt,Ft,1,Lt);return Ar}function ya(Xe,it,ht){function mt(Qr){return Xe+(1-Xe)*n(1-n(Qr,it),1/it)}function Ft(Qr){return fa(mt,0,Qr,1e-4)}for(var Lt=1/Ft(1),Ot=1e3,cr=(1+1e-8)*Lt,yr=[],ar=0;ar<=Ot;ar++)yr.push(Ft(ar/Ot)*cr);function Ar(Qr){var wn=0,Sn=Ot,kn=Ot>>1;do yr[kn]>Qr?Sn=kn:wn=kn,kn=wn+Sn>>1;while(kn>wn);var pa=yr[kn+1]-yr[kn];return pa&&(pa=(Qr-yr[kn+1])/pa),(kn+1+pa)/Ot}var Dr=2*Ar(1)/d*Lt/ht,Zr=function(Qr,wn){var Sn=Ar(L(f(wn))),kn=mt(Sn)*Qr;return Sn/=Dr,[kn,wn>=0?Sn:-Sn]};return Zr.invert=function(Qr,wn){var Sn;return wn*=Dr,L(wn)<1&&(Sn=c(wn)*D(Ft(L(wn))*Lt)),[Qr/mt(L(wn)),Sn]},Zr}function fo(){var Xe=0,it=2.5,ht=1.183136,mt=(0,p.r)(ya),Ft=mt(Xe,it,ht);return Ft.alpha=function(Lt){return arguments.length?mt(Xe=+Lt,it,ht):Xe},Ft.k=function(Lt){return arguments.length?mt(Xe,it=+Lt,ht):it},Ft.gamma=function(Lt){return arguments.length?mt(Xe,it,ht=+Lt):ht},Ft.scale(152.63)}function Ro(Xe,it){return L(Xe[0]-it[0])<v&&L(Xe[1]-it[1])<v}function Oo(Xe,it){for(var ht=-1,mt=Xe.length,Ft=Xe[0],Lt,Ot,cr,yr=[];++ht<mt;){Lt=Xe[ht],Ot=(Lt[0]-Ft[0])/it,cr=(Lt[1]-Ft[1])/it;for(var ar=0;ar<it;++ar)yr.push([Ft[0]+ar*Ot,Ft[1]+ar*cr]);Ft=Lt}return yr.push(Lt),yr}function jo(Xe){var it=[],ht,mt,Ft,Lt,Ot,cr,yr,ar=Xe[0].length;for(yr=0;yr<ar;++yr)ht=Xe[0][yr],mt=ht[0][0],Ft=ht[0][1],Lt=ht[1][1],Ot=ht[2][0],cr=ht[2][1],it.push(Oo([[mt+v,Ft+v],[mt+v,Lt-v],[Ot-v,Lt-v],[Ot-v,cr+v]],30));for(yr=Xe[1].length-1;yr>=0;--yr)ht=Xe[1][yr],mt=ht[0][0],Ft=ht[0][1],Lt=ht[1][1],Ot=ht[2][0],cr=ht[2][1],it.push(Oo([[Ot-v,cr-v],[Ot-v,Lt+v],[mt+v,Lt+v],[mt+v,Ft-v]],30));return{type:"Polygon",coordinates:[(0,ta.TS)(it)]}}function Bo(Xe,it,ht){var mt,Ft;function Lt(yr,ar){for(var Ar=ar<0?-1:1,Dr=it[+(ar<0)],Zr=0,Qr=Dr.length-1;Zr<Qr&&yr>Dr[Zr][2][0];++Zr);var wn=Xe(yr-Dr[Zr][1][0],ar);return wn[0]+=Xe(Dr[Zr][1][0],Ar*ar>Ar*Dr[Zr][0][1]?Dr[Zr][0][1]:ar)[0],wn}ht?Lt.invert=ht(Lt):Xe.invert&&(Lt.invert=function(yr,ar){for(var Ar=Ft[+(ar<0)],Dr=it[+(ar<0)],Zr=0,Qr=Ar.length;Zr<Qr;++Zr){var wn=Ar[Zr];if(wn[0][0]<=yr&&yr<wn[1][0]&&wn[0][1]<=ar&&ar<wn[1][1]){var Sn=Xe.invert(yr-Xe(Dr[Zr][1][0],0)[0],ar);return Sn[0]+=Dr[Zr][1][0],Ro(Lt(Sn[0],Sn[1]),[yr,ar])?Sn:null}}});var Ot=(0,p.Z)(Lt),cr=Ot.stream;return Ot.stream=function(yr){var ar=Ot.rotate(),Ar=cr(yr),Dr=(Ot.rotate([0,0]),cr(yr));return Ot.rotate(ar),Ar.sphere=function(){(0,wa.Z)(mt,Dr)},Ar},Ot.lobes=function(yr){return arguments.length?(mt=jo(yr),it=yr.map(function(ar){return ar.map(function(Ar){return[[Ar[0][0]*T,Ar[0][1]*T],[Ar[1][0]*T,Ar[1][1]*T],[Ar[2][0]*T,Ar[2][1]*T]]})}),Ft=it.map(function(ar){return ar.map(function(Ar){var Dr=Xe(Ar[0][0],Ar[0][1])[0],Zr=Xe(Ar[2][0],Ar[2][1])[0],Qr=Xe(Ar[1][0],Ar[0][1])[1],wn=Xe(Ar[1][0],Ar[1][1])[1],Sn;return Qr>wn&&(Sn=Qr,Qr=wn,wn=Sn),[[Dr,Qr],[Zr,wn]]})}),Ot):it.map(function(ar){return ar.map(function(Ar){return[[Ar[0][0]*E,Ar[0][1]*E],[Ar[1][0]*E,Ar[1][1]*E],[Ar[2][0]*E,Ar[2][1]*E]]})})},it!=null&&Ot.lobes(it),Ot}var tc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function oi(){return Bo(We,tc).scale(160.857)}var Uu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function fu(){return Bo(bn,Uu).scale(152.63)}var co=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Yo(){return Bo(Ce,co).scale(169.529)}var Yc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Hu(){return Bo(Ce,Yc).scale(169.529).rotate([20,0])}var Wi=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Vu(){return Bo(zn,Wi,Ae).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var rs=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function io(){return Bo(tt,rs).scale(152.63).rotate([-20,0])}function ns(Xe,it){return[3/x*Xe*O(d*d/3-it*it),it]}ns.invert=function(Xe,it){return[x/3*Xe/O(d*d/3-it*it),it]};function Do(){return(0,p.Z)(ns).scale(158.837)}function us(Xe){function it(ht,mt){if(L(L(mt)-u)<v)return[0,mt<0?-2:2];var Ft=f(mt),Lt=n((1+Ft)/(1-Ft),Xe/2),Ot=.5*(Lt+1/Lt)+w(ht*=Xe);return[2*f(ht)/Ot,(Lt-1/Lt)/Ot]}return it.invert=function(ht,mt){var Ft=L(mt);if(L(Ft-2)<v)return ht?null:[0,c(mt)*u];if(Ft>2)return null;ht/=2,mt/=2;var Lt=ht*ht,Ot=mt*mt,cr=2*mt/(1+Lt+Ot);return cr=n((1+cr)/(1-cr),1/Xe),[C(2*ht,1-Lt-Ot)/Xe,D((cr-1)/(cr+1))]},it}function Fs(){var Xe=.5,it=(0,p.r)(us),ht=it(Xe);return ht.spacing=function(mt){return arguments.length?it(Xe=+mt):Xe},ht.scale(124.75)}var qs=d/S;function xo(Xe,it){return[Xe*(1+O(w(it)))/2,it/(w(it/2)*w(Xe/6))]}xo.invert=function(Xe,it){var ht=L(Xe),mt=L(it),Ft=v,Lt=u;mt<qs?Lt*=mt/qs:Ft+=6*b(qs/mt);for(var Ot=0;Ot<25;Ot++){var cr=f(Lt),yr=O(w(Lt)),ar=f(Lt/2),Ar=w(Lt/2),Dr=f(Ft/6),Zr=w(Ft/6),Qr=.5*Ft*(1+yr)-ht,wn=Lt/(Ar*Zr)-mt,Sn=yr?-.25*Ft*cr/yr:0,kn=.5*(1+yr),pa=(1+.5*Lt*ar/Ar)/(Ar*Zr),Da=Lt/Ar*(Dr/6)/(Zr*Zr),ka=Sn*Da-pa*kn,Fa=(Qr*Da-wn*kn)/ka,za=(wn*Sn-Qr*pa)/ka;if(Lt-=Fa,Ft-=za,L(Fa)<v&&L(za)<v)break}return[Xe<0?-Ft:Ft,it<0?-Lt:Lt]};function Zc(){return(0,p.Z)(xo).scale(97.2672)}function _s(Xe,it){var ht=Xe*Xe,mt=it*it;return[Xe*(.975534+mt*(-.119161+ht*-.0143059+mt*-.0547009)),it*(1.00384+ht*(.0802894+mt*-.02855+ht*199025e-9)+mt*(.0998909+mt*-.0491032))]}_s.invert=function(Xe,it){var ht=c(Xe)*d,mt=it/2,Ft=50;do{var Lt=ht*ht,Ot=mt*mt,cr=ht*mt,yr=ht*(.975534+Ot*(-.119161+Lt*-.0143059+Ot*-.0547009))-Xe,ar=mt*(1.00384+Lt*(.0802894+Ot*-.02855+Lt*199025e-9)+Ot*(.0998909+Ot*-.0491032))-it,Ar=.975534-Ot*(.119161+3*Lt*.0143059+Ot*.0547009),Dr=-cr*(2*.119161+4*.0547009*Ot+2*.0143059*Lt),Zr=cr*(2*.0802894+4*199025e-9*Lt+2*-.02855*Ot),Qr=1.00384+Lt*(.0802894+199025e-9*Lt)+Ot*(3*(.0998909-.02855*Lt)-5*.0491032*Ot),wn=Dr*Zr-Qr*Ar,Sn=(ar*Dr-yr*Qr)/wn,kn=(yr*Zr-ar*Ar)/wn;ht-=Sn,mt-=kn}while((L(Sn)>v||L(kn)>v)&&--Ft>0);return Ft&&[ht,mt]};function bo(){return(0,p.Z)(_s).scale(139.98)}function rc(Xe,it){return[f(Xe)/w(it),m(it)*w(Xe)]}rc.invert=function(Xe,it){var ht=Xe*Xe,mt=it*it,Ft=mt+1,Lt=ht+Ft,Ot=Xe?M*O((Lt-O(Lt*Lt-4*ht))/ht):1/O(Ft);return[D(Xe*Ot),c(it)*b(Ot)]};function el(){return(0,p.Z)(rc).scale(144.049).clipAngle(89.999)}function zs(Xe){var it=w(Xe),ht=m(y+Xe/2);function mt(Ft,Lt){var Ot=Lt-Xe,cr=L(Ot)<v?Ft*it:L(cr=y+Lt/2)<v||L(L(cr)-u)<v?0:Ft*Ot/t(m(cr)/ht);return[cr,Ot]}return mt.invert=function(Ft,Lt){var Ot,cr=Lt+Xe;return[L(Lt)<v?Ft/it:L(Ot=y+cr/2)<v||L(L(Ot)-u)<v?0:Ft*t(m(Ot)/ht)/Lt,cr]},mt}function nc(){return et(zs).parallel(40).scale(158.837)}function ac(Xe,it){return[Xe,1.25*t(m(y+.4*it))]}ac.invert=function(Xe,it){return[Xe,2.5*a(h(.8*it))-.625*d]};function rv(){return(0,p.Z)(ac).scale(108.318)}function Gu(Xe){var it=Xe.length-1;function ht(mt,Ft){for(var Lt=w(Ft),Ot=2/(1+Lt*w(mt)),cr=Ot*Lt*f(mt),yr=Ot*f(Ft),ar=it,Ar=Xe[ar],Dr=Ar[0],Zr=Ar[1],Qr;--ar>=0;)Ar=Xe[ar],Dr=Ar[0]+cr*(Qr=Dr)-yr*Zr,Zr=Ar[1]+cr*Zr+yr*Qr;return Dr=cr*(Qr=Dr)-yr*Zr,Zr=cr*Zr+yr*Qr,[Dr,Zr]}return ht.invert=function(mt,Ft){var Lt=20,Ot=mt,cr=Ft;do{for(var yr=it,ar=Xe[yr],Ar=ar[0],Dr=ar[1],Zr=0,Qr=0,wn;--yr>=0;)ar=Xe[yr],Zr=Ar+Ot*(wn=Zr)-cr*Qr,Qr=Dr+Ot*Qr+cr*wn,Ar=ar[0]+Ot*(wn=Ar)-cr*Dr,Dr=ar[1]+Ot*Dr+cr*wn;Zr=Ar+Ot*(wn=Zr)-cr*Qr,Qr=Dr+Ot*Qr+cr*wn,Ar=Ot*(wn=Ar)-cr*Dr-mt,Dr=Ot*Dr+cr*wn-Ft;var Sn=Zr*Zr+Qr*Qr,kn,pa;Ot-=kn=(Ar*Zr+Dr*Qr)/Sn,cr-=pa=(Dr*Zr-Ar*Qr)/Sn}while(L(kn)+L(pa)>v*v&&--Lt>0);if(Lt){var Da=O(Ot*Ot+cr*cr),ka=2*a(Da*.5),Fa=f(ka);return[C(Ot*Fa,Da*w(ka)),Da?D(cr*Fa/Da):0]}},ht}var nv=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],av=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],iv=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],ic=[[.9245,0],[0,0],[.01943,0]],ov=[[.721316,0],[0,0],[-.00881625,-.00617325]];function sv(){return Nl(nv,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Xc(){return Nl(av,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function lv(){return Nl(iv,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function uv(){return Nl(ic,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function oc(){return Nl(ov,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Nl(Xe,it){var ht=(0,p.Z)(Gu(Xe)).rotate(it).clipAngle(90),mt=(0,_e.Z)(it),Ft=ht.center;return delete ht.rotate,ht.center=function(Lt){return arguments.length?Ft(mt(Lt)):mt.invert(Ft())},ht}var Ul=O(6),cu=O(7);function mf(Xe,it){var ht=D(7*f(it)/(3*Ul));return[Ul*Xe*(2*w(2*ht/3)-1)/cu,9*f(ht/3)/cu]}mf.invert=function(Xe,it){var ht=3*D(it*cu/9);return[Xe*cu/(Ul*(2*w(2*ht/3)-1)),D(f(ht)*3*Ul/7)]};function fv(){return(0,p.Z)(mf).scale(164.859)}function tl(Xe,it){for(var ht=(1+M)*f(it),mt=it,Ft=0,Lt;Ft<25&&(mt-=Lt=(f(mt/2)+f(mt)-ht)/(.5*w(mt/2)+w(mt)),!(L(Lt)<v));Ft++);return[Xe*(1+2*w(mt)/w(mt/2))/(3*S),2*O(3)*f(mt/2)/O(2+S)]}tl.invert=function(Xe,it){var ht=it*O(2+S)/(2*O(3)),mt=2*D(ht);return[3*S*Xe/(1+2*w(mt)/w(mt/2)),D((ht+f(mt))/(1+M))]};function $c(){return(0,p.Z)(tl).scale(188.209)}function sc(Xe,it){for(var ht=O(6/(4+d)),mt=(1+d/4)*f(it),Ft=it/2,Lt=0,Ot;Lt<25&&(Ft-=Ot=(Ft/2+f(Ft)-mt)/(.5+w(Ft)),!(L(Ot)<v));Lt++);return[ht*(.5+w(Ft))*Xe/1.5,ht*Ft]}sc.invert=function(Xe,it){var ht=O(6/(4+d)),mt=it/ht;return L(L(mt)-u)<v&&(mt=mt<0?-u:u),[1.5*Xe/(ht*(.5+w(mt))),D((mt/2+f(mt))/(1+d/4))]};function cv(){return(0,p.Z)(sc).scale(166.518)}var fs=e(26867);function Hl(Xe,it){var ht=it*it,mt=ht*ht,Ft=ht*mt;return[Xe*(.84719-.13063*ht+Ft*Ft*(-.04515+.05494*ht-.02326*mt+.00331*Ft)),it*(1.01183+mt*mt*(-.02625+.01926*ht-.00396*mt))]}Hl.invert=function(Xe,it){var ht=it,mt=25,Ft,Lt,Ot,cr;do Lt=ht*ht,Ot=Lt*Lt,ht-=Ft=(ht*(1.01183+Ot*Ot*(-.02625+.01926*Lt-.00396*Ot))-it)/(1.01183+Ot*Ot*(-.23625+.21186*Lt+-.05148*Ot));while(L(Ft)>A&&--mt>0);return Lt=ht*ht,Ot=Lt*Lt,cr=Lt*Ot,[Xe/(.84719-.13063*Lt+cr*cr*(-.04515+.05494*Lt-.02326*Ot+.00331*cr)),ht]};function Wu(){return(0,p.Z)(Hl).scale(175.295)}function hu(Xe,it){return[Xe*(1+w(it))/2,2*(it-m(it/2))]}hu.invert=function(Xe,it){for(var ht=it/2,mt=0,Ft=1/0;mt<10&&L(Ft)>v;++mt){var Lt=w(it/2);it-=Ft=(it-m(it/2)-ht)/(1-.5/(Lt*Lt))}return[2*Xe/(1+w(it)),it]};function Os(){return(0,p.Z)(hu).scale(152.63)}var rl=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function lc(){return Bo(se(1/0),rl).rotate([20,0]).scale(152.63)}function vu(Xe,it){var ht=f(it),mt=w(it),Ft=c(Xe);if(Xe===0||L(it)===u)return[0,it];if(it===0)return[Xe,0];if(L(Xe)===u)return[Xe*mt,u*ht];var Lt=d/(2*Xe)-2*Xe/d,Ot=2*it/d,cr=(1-Ot*Ot)/(ht-Ot),yr=Lt*Lt,ar=cr*cr,Ar=1+yr/ar,Dr=1+ar/yr,Zr=(Lt*ht/cr-Lt/2)/Ar,Qr=(ar*ht/yr+cr/2)/Dr,wn=Zr*Zr+mt*mt/Ar,Sn=Qr*Qr-(ar*ht*ht/yr+cr*ht-1)/Dr;return[u*(Zr+O(wn)*Ft),u*(Qr+O(Sn<0?0:Sn)*c(-it*Lt)*Ft)]}vu.invert=function(Xe,it){Xe/=u,it/=u;var ht=Xe*Xe,mt=it*it,Ft=ht+mt,Lt=d*d;return[Xe?(Ft-1+O((1-Ft)*(1-Ft)+4*ht))/(2*Xe)*u:0,Ee(function(Ot){return Ft*(d*f(Ot)-2*Ot)*d+4*Ot*Ot*(it-f(Ot))+2*d*Ot-Lt*it},0)]};function ml(){return(0,p.Z)(vu).scale(127.267)}var $i=1.0148,uc=.23185,xf=-.14499,du=.02406,Kc=$i,Jc=5*uc,pu=7*xf,gu=9*du,ho=1.790857183;function bf(Xe,it){var ht=it*it;return[Xe,it*($i+ht*ht*(uc+ht*(xf+du*ht)))]}bf.invert=function(Xe,it){it>ho?it=ho:it<-ho&&(it=-ho);var ht=it,mt;do{var Ft=ht*ht;ht-=mt=(ht*($i+Ft*Ft*(uc+Ft*(xf+du*Ft)))-it)/(Kc+Ft*Ft*(Jc+Ft*(pu+gu*Ft)))}while(L(mt)>v);return[Xe,ht]};function hv(){return(0,p.Z)(bf).scale(139.319)}function fc(Xe,it){if(L(it)<v)return[Xe,0];var ht=m(it),mt=Xe*f(it);return[f(mt)/ht,it+(1-w(mt))/ht]}fc.invert=function(Xe,it){if(L(it)<v)return[Xe,0];var ht=Xe*Xe+it*it,mt=it*.5,Ft=10,Lt;do{var Ot=m(mt),cr=1/w(mt),yr=ht-2*it*mt+mt*mt;mt-=Lt=(Ot*yr+2*(mt-it))/(2+yr*cr*cr+2*(mt-it)*Ot)}while(L(Lt)>v&&--Ft>0);return Ot=m(mt),[(L(it)<L(mt+1/Ot)?D(Xe*Ot):c(it)*c(Xe)*(b(L(Xe*Ot))+u))/f(mt),mt]};function vv(){return(0,p.Z)(fc).scale(103.74)}var wf=e(77338),ju=e(83074);function cc(Xe,it){var ht=vc(Xe[1],Xe[0]),mt=vc(it[1],it[0]),Ft=dc(ht,mt),Lt=Tf(ht)/Tf(mt);return Yu([1,0,Xe[0][0],0,1,Xe[0][1]],Yu([Lt,0,0,0,Lt,0],Yu([w(Ft),f(Ft),0,-f(Ft),w(Ft),0],[1,0,-it[0][0],0,1,-it[0][1]])))}function hc(Xe){var it=1/(Xe[0]*Xe[4]-Xe[1]*Xe[3]);return[it*Xe[4],-it*Xe[1],it*(Xe[1]*Xe[5]-Xe[2]*Xe[4]),-it*Xe[3],it*Xe[0],it*(Xe[2]*Xe[3]-Xe[0]*Xe[5])]}function Yu(Xe,it){return[Xe[0]*it[0]+Xe[1]*it[3],Xe[0]*it[1]+Xe[1]*it[4],Xe[0]*it[2]+Xe[1]*it[5]+Xe[2],Xe[3]*it[0]+Xe[4]*it[3],Xe[3]*it[1]+Xe[4]*it[4],Xe[3]*it[2]+Xe[4]*it[5]+Xe[5]]}function vc(Xe,it){return[Xe[0]-it[0],Xe[1]-it[1]]}function Tf(Xe){return O(Xe[0]*Xe[0]+Xe[1]*Xe[1])}function dc(Xe,it){return C(Xe[0]*it[1]-Xe[1]*it[0],Xe[0]*it[0]+Xe[1]*it[1])}function Si(Xe,it,ht){mt(Xe,{transform:null});function mt(ar,Ar){if(ar.edges=Vl(ar.face),Ar.face){var Dr=ar.shared=yu(ar.face,Ar.face),Zr=cc(Dr.map(Ar.project),Dr.map(ar.project));ar.transform=Ar.transform?Yu(Ar.transform,Zr):Zr;for(var Qr=Ar.edges,wn=0,Sn=Qr.length;wn<Sn;++wn)bs(Dr[0],Qr[wn][1])&&bs(Dr[1],Qr[wn][0])&&(Qr[wn]=ar),bs(Dr[0],Qr[wn][0])&&bs(Dr[1],Qr[wn][1])&&(Qr[wn]=ar);for(Qr=ar.edges,wn=0,Sn=Qr.length;wn<Sn;++wn)bs(Dr[0],Qr[wn][0])&&bs(Dr[1],Qr[wn][1])&&(Qr[wn]=Ar),bs(Dr[0],Qr[wn][1])&&bs(Dr[1],Qr[wn][0])&&(Qr[wn]=Ar)}else ar.transform=Ar.transform;return ar.children&&ar.children.forEach(function(kn){mt(kn,ar)}),ar}function Ft(ar,Ar){var Dr=it(ar,Ar),Zr=Dr.project([ar*E,Ar*E]),Qr;return(Qr=Dr.transform)?[Qr[0]*Zr[0]+Qr[1]*Zr[1]+Qr[2],-(Qr[3]*Zr[0]+Qr[4]*Zr[1]+Qr[5])]:(Zr[1]=-Zr[1],Zr)}pc(Xe)&&(Ft.invert=function(ar,Ar){var Dr=Lt(Xe,[ar,-Ar]);return Dr&&(Dr[0]*=T,Dr[1]*=T,Dr)});function Lt(ar,Ar){var Dr=ar.project.invert,Zr=ar.transform,Qr=Ar;if(Zr&&(Zr=hc(Zr),Qr=[Zr[0]*Qr[0]+Zr[1]*Qr[1]+Zr[2],Zr[3]*Qr[0]+Zr[4]*Qr[1]+Zr[5]]),Dr&&ar===Ot(wn=Dr(Qr)))return wn;for(var wn,Sn=ar.children,kn=0,pa=Sn&&Sn.length;kn<pa;++kn)if(wn=Lt(Sn[kn],Ar))return wn}function Ot(ar){return it(ar[0]*T,ar[1]*T)}var cr=(0,p.Z)(Ft),yr=cr.stream;return cr.stream=function(ar){var Ar=cr.rotate(),Dr=yr(ar),Zr=(cr.rotate([0,0]),yr(ar));return cr.rotate(Ar),Dr.sphere=function(){Zr.polygonStart(),Zr.lineStart(),Qc(Zr,Xe),Zr.lineEnd(),Zr.polygonEnd()},Dr},cr.angle(ht==null?-30:ht*E)}function Qc(Xe,it,ht){var mt,Ft=it.edges,Lt=Ft.length,Ot,cr={type:"MultiPoint",coordinates:it.face},yr=it.face.filter(function(Sn){return L(Sn[1])!==90}),ar=(0,wf.Z)({type:"MultiPoint",coordinates:yr}),Ar=!1,Dr=-1,Zr=ar[1][0]-ar[0][0],Qr=Zr===180||Zr===360?[(ar[0][0]+ar[1][0])/2,(ar[0][1]+ar[1][1])/2]:(0,Je.Z)(cr);if(ht)for(;++Dr<Lt&&Ft[Dr]!==ht;);++Dr;for(var wn=0;wn<Lt;++wn)Ot=Ft[(wn+Dr)%Lt],Array.isArray(Ot)?(Ar||(Xe.point((mt=(0,ju.Z)(Ot[0],Qr)(v))[0],mt[1]),Ar=!0),Xe.point((mt=(0,ju.Z)(Ot[1],Qr)(v))[0],mt[1])):(Ar=!1,Ot!==ht&&Qc(Xe,Ot,it))}function bs(Xe,it){return Xe&&it&&Xe[0]===it[0]&&Xe[1]===it[1]}function yu(Xe,it){for(var ht,mt,Ft=Xe.length,Lt=null,Ot=0;Ot<Ft;++Ot){ht=Xe[Ot];for(var cr=it.length;--cr>=0;)if(mt=it[cr],ht[0]===mt[0]&&ht[1]===mt[1]){if(Lt)return[Lt,ht];Lt=ht}}}function Vl(Xe){for(var it=Xe.length,ht=[],mt=Xe[it-1],Ft=0;Ft<it;++Ft)ht.push([mt,mt=Xe[Ft]]);return ht}function pc(Xe){return Xe.project.invert||Xe.children&&Xe.children.some(pc)}var Qi=e(98936),Zu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Zo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Xe){return Xe.map(function(it){return Zu[it]})});function nl(Xe){Xe=Xe||function(ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:ht});return(0,Qi.Z)().scale(1).translate([0,0]).rotate([-mt[0],-mt[1]])};var it=Zo.map(function(ht){return{face:ht,project:Xe(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,mt){var Ft=it[ht];Ft&&(Ft.children||(Ft.children=[])).push(it[mt])}),Si(it[0],function(ht,mt){return it[ht<-d/2?mt<0?6:4:ht<0?mt<0?2:0:ht<d/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var al=2/O(3);function xl(Xe,it){var ht=He(Xe,it);return[ht[0]*al,ht[1]]}xl.invert=function(Xe,it){return He.invert(Xe/al,it)};function bl(Xe){Xe=Xe||function(ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:ht});return(0,p.Z)(xl).translate([0,0]).scale(1).rotate(mt[1]>0?[-mt[0],0]:[180-mt[0],180])};var it=Zo.map(function(ht){return{face:ht,project:Xe(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,mt){var Ft=it[ht];Ft&&(Ft.children||(Ft.children=[])).push(it[mt])}),Si(it[0],function(ht,mt){return it[ht<-d/2?mt<0?6:4:ht<0?mt<0?2:0:ht<d/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function wl(Xe){Xe=Xe||function(Ot){var cr=Ot.length===6?(0,Je.Z)({type:"MultiPoint",coordinates:Ot}):Ot[0];return(0,Qi.Z)().scale(1).translate([0,0]).rotate([-cr[0],-cr[1]])};var it=Zo.map(function(Ot){for(var cr=Ot.map($u),yr=cr.length,ar=cr[yr-1],Ar,Dr=[],Zr=0;Zr<yr;++Zr)Ar=cr[Zr],Dr.push(Xu([ar[0]*.9486832980505138+Ar[0]*.31622776601683794,ar[1]*.9486832980505138+Ar[1]*.31622776601683794,ar[2]*.9486832980505138+Ar[2]*.31622776601683794]),Xu([Ar[0]*.9486832980505138+ar[0]*.31622776601683794,Ar[1]*.9486832980505138+ar[1]*.31622776601683794,Ar[2]*.9486832980505138+ar[2]*.31622776601683794])),ar=Ar;return Dr}),ht=[],mt=[-1,0,0,1,0,1,4,5];it.forEach(function(Ot,cr){for(var yr=Zo[cr],ar=yr.length,Ar=ht[cr]=[],Dr=0;Dr<ar;++Dr)it.push([yr[Dr],Ot[(Dr*2+2)%(2*ar)],Ot[(Dr*2+1)%(2*ar)]]),mt.push(cr),Ar.push(Bs($u(Ot[(Dr*2+2)%(2*ar)]),$u(Ot[(Dr*2+1)%(2*ar)])))});var Ft=it.map(function(Ot){return{project:Xe(Ot),face:Ot}});mt.forEach(function(Ot,cr){var yr=Ft[Ot];yr&&(yr.children||(yr.children=[])).push(Ft[cr])});function Lt(Ot,cr){var yr=w(cr),ar=[yr*w(Ot),yr*f(Ot),f(cr)],Ar=Ot<-d/2?cr<0?6:4:Ot<0?cr<0?2:0:Ot<d/2?cr<0?3:1:cr<0?7:5,Dr=ht[Ar];return Ft[ws(Dr[0],ar)<0?8+3*Ar:ws(Dr[1],ar)<0?8+3*Ar+1:ws(Dr[2],ar)<0?8+3*Ar+2:Ar]}return Si(Ft[0],Lt).angle(-30).scale(110.625).center([0,45])}function ws(Xe,it){for(var ht=0,mt=Xe.length,Ft=0;ht<mt;++ht)Ft+=Xe[ht]*it[ht];return Ft}function Bs(Xe,it){return[Xe[1]*it[2]-Xe[2]*it[1],Xe[2]*it[0]-Xe[0]*it[2],Xe[0]*it[1]-Xe[1]*it[0]]}function Xu(Xe){return[C(Xe[1],Xe[0])*E,D(r(-1,s(1,Xe[2])))*E]}function $u(Xe){var it=Xe[0]*T,ht=Xe[1]*T,mt=w(ht);return[mt*w(it),mt*f(it),f(ht)]}function Af(){}function dv(Xe){if((ht=Xe.length)<4)return!1;for(var it=0,ht,mt=Xe[ht-1][1]*Xe[0][0]-Xe[ht-1][0]*Xe[0][1];++it<ht;)mt+=Xe[it-1][1]*Xe[it][0]-Xe[it-1][0]*Xe[it][1];return mt<=0}function pv(Xe,it){for(var ht=it[0],mt=it[1],Ft=!1,Lt=0,Ot=Xe.length,cr=Ot-1;Lt<Ot;cr=Lt++){var yr=Xe[Lt],ar=yr[0],Ar=yr[1],Dr=Xe[cr],Zr=Dr[0],Qr=Dr[1];Ar>mt^Qr>mt&&ht<(Zr-ar)*(mt-Ar)/(Qr-Ar)+ar&&(Ft=!Ft)}return Ft}function gv(Xe,it){var ht=it.stream,mt;if(!ht)throw new Error("invalid projection");switch(Xe&&Xe.type){case"Feature":mt=Sf;break;case"FeatureCollection":mt=yv;break;default:mt=mu;break}return mt(Xe,ht)}function yv(Xe,it){return{type:"FeatureCollection",features:Xe.features.map(function(ht){return Sf(ht,it)})}}function Sf(Xe,it){return{type:"Feature",id:Xe.id,properties:Xe.properties,geometry:mu(Xe.geometry,it)}}function qc(Xe,it){return{type:"GeometryCollection",geometries:Xe.geometries.map(function(ht){return mu(ht,it)})}}function mu(Xe,it){if(!Xe)return null;if(Xe.type==="GeometryCollection")return qc(Xe,it);var ht;switch(Xe.type){case"Point":ht=Ku;break;case"MultiPoint":ht=Ku;break;case"LineString":ht=Gl;break;case"MultiLineString":ht=Gl;break;case"Polygon":ht=Ju;break;case"MultiPolygon":ht=Ju;break;case"Sphere":ht=Ju;break;default:return null}return(0,wa.Z)(Xe,it(ht)),ht.result()}var wo=[],Xo=[],Ku={point:function(Xe,it){wo.push([Xe,it])},result:function(){var Xe=wo.length?wo.length<2?{type:"Point",coordinates:wo[0]}:{type:"MultiPoint",coordinates:wo}:null;return wo=[],Xe}},Gl={lineStart:Af,point:function(Xe,it){wo.push([Xe,it])},lineEnd:function(){wo.length&&(Xo.push(wo),wo=[])},result:function(){var Xe=Xo.length?Xo.length<2?{type:"LineString",coordinates:Xo[0]}:{type:"MultiLineString",coordinates:Xo}:null;return Xo=[],Xe}},Ju={polygonStart:Af,lineStart:Af,point:function(Xe,it){wo.push([Xe,it])},lineEnd:function(){var Xe=wo.length;if(Xe){do wo.push(wo[0].slice());while(++Xe<4);Xo.push(wo),wo=[]}},polygonEnd:Af,result:function(){if(!Xo.length)return null;var Xe=[],it=[];return Xo.forEach(function(ht){dv(ht)?Xe.push([ht]):it.push(ht)}),it.forEach(function(ht){var mt=ht[0];Xe.some(function(Ft){if(pv(Ft[0],mt))return Ft.push(ht),!0})||Xe.push([ht])}),Xo=[],Xe.length?Xe.length>1?{type:"MultiPolygon",coordinates:Xe}:{type:"Polygon",coordinates:Xe[0]}:null}};function Mf(Xe){var it=Xe(u,0)[0]-Xe(-u,0)[0];function ht(mt,Ft){var Lt=L(mt)<u,Ot=Xe(Lt?mt:mt>0?mt-d:mt+d,Ft),cr=(Ot[0]-Ot[1])*M,yr=(Ot[0]+Ot[1])*M;if(Lt)return[cr,yr];var ar=it*M,Ar=cr>0^yr>0?-1:1;return[Ar*cr-c(yr)*ar,Ar*yr-c(cr)*ar]}return Xe.invert&&(ht.invert=function(mt,Ft){var Lt=(mt+Ft)*M,Ot=(Ft-mt)*M,cr=L(Lt)<.5*it&&L(Ot)<.5*it;if(!cr){var yr=it*M,ar=Lt>0^Ot>0?-1:1,Ar=-ar*mt+(Ot>0?1:-1)*yr,Dr=-ar*Ft+(Lt>0?1:-1)*yr;Lt=(-Ar-Dr)*M,Ot=(Ar-Dr)*M}var Zr=Xe.invert(Lt,Ot);return cr||(Zr[0]+=Lt>0?d:-d),Zr}),(0,p.Z)(ht).rotate([-90,-90,45]).clipAngle(179.999)}function mv(){return Mf(xn).scale(176.423)}function eh(){return Mf(Tr).scale(111.48)}function th(Xe,it){if(!(0<=(it=+it)&&it<=20))throw new Error("invalid digits");function ht(ar){var Ar=ar.length,Dr=2,Zr=new Array(Ar);for(Zr[0]=+ar[0].toFixed(it),Zr[1]=+ar[1].toFixed(it);Dr<Ar;)Zr[Dr]=ar[Dr],++Dr;return Zr}function mt(ar){return ar.map(ht)}function Ft(ar){for(var Ar=ht(ar[0]),Dr=[Ar],Zr=1;Zr<ar.length;Zr++){var Qr=ht(ar[Zr]);(Qr.length>2||Qr[0]!=Ar[0]||Qr[1]!=Ar[1])&&(Dr.push(Qr),Ar=Qr)}return Dr.length===1&&ar.length>1&&Dr.push(ht(ar[ar.length-1])),Dr}function Lt(ar){return ar.map(Ft)}function Ot(ar){if(ar==null)return ar;var Ar;switch(ar.type){case"GeometryCollection":Ar={type:"GeometryCollection",geometries:ar.geometries.map(Ot)};break;case"Point":Ar={type:"Point",coordinates:ht(ar.coordinates)};break;case"MultiPoint":Ar={type:ar.type,coordinates:mt(ar.coordinates)};break;case"LineString":Ar={type:ar.type,coordinates:Ft(ar.coordinates)};break;case"MultiLineString":case"Polygon":Ar={type:ar.type,coordinates:Lt(ar.coordinates)};break;case"MultiPolygon":Ar={type:"MultiPolygon",coordinates:ar.coordinates.map(Lt)};break;default:return ar}return ar.bbox!=null&&(Ar.bbox=ar.bbox),Ar}function cr(ar){var Ar={type:"Feature",properties:ar.properties,geometry:Ot(ar.geometry)};return ar.id!=null&&(Ar.id=ar.id),ar.bbox!=null&&(Ar.bbox=ar.bbox),Ar}if(Xe!=null)switch(Xe.type){case"Feature":return cr(Xe);case"FeatureCollection":{var yr={type:"FeatureCollection",features:Xe.features.map(cr)};return Xe.bbox!=null&&(yr.bbox=Xe.bbox),yr}default:return Ot(Xe)}return Xe}function gc(Xe){var it=f(Xe);function ht(mt,Ft){var Lt=it?m(mt*it/2)/it:mt/2;if(!Ft)return[2*Lt,-Xe];var Ot=2*a(Lt*f(Ft)),cr=1/m(Ft);return[f(Ot)*cr,Ft+(1-w(Ot))*cr-Xe]}return ht.invert=function(mt,Ft){if(L(Ft+=Xe)<v)return[it?2*a(it*mt/2)/it:mt,0];var Lt=mt*mt+Ft*Ft,Ot=0,cr=10,yr;do{var ar=m(Ot),Ar=1/w(Ot),Dr=Lt-2*Ft*Ot+Ot*Ot;Ot-=yr=(ar*Dr+2*(Ot-Ft))/(2+Dr*Ar*Ar+2*(Ot-Ft)*ar)}while(L(yr)>v&&--cr>0);var Zr=mt*(ar=m(Ot)),Qr=m(L(Ft)<L(Ot+1/ar)?D(Zr)*.5:b(Zr)*.5+d/4)/f(Ot);return[it?2*a(it*Qr)/it:2*Qr,Ot]},ht}function Tl(){return et(gc).scale(131.215)}var qi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];qi.forEach(function(Xe){Xe[1]*=1.0144});function Ns(Xe,it){var ht=s(18,L(it)*36/d),mt=g(ht),Ft=ht-mt,Lt=(Dr=qi[mt])[0],Ot=Dr[1],cr=(Dr=qi[++mt])[0],yr=Dr[1],ar=(Dr=qi[s(19,++mt)])[0],Ar=Dr[1],Dr;return[Xe*(cr+Ft*(ar-Lt)/2+Ft*Ft*(ar-2*cr+Lt)/2),(it>0?u:-u)*(yr+Ft*(Ar-Ot)/2+Ft*Ft*(Ar-2*yr+Ot)/2)]}Ns.invert=function(Xe,it){var ht=it/u,mt=ht*90,Ft=s(18,L(mt/5)),Lt=r(0,g(Ft));do{var Ot=qi[Lt][1],cr=qi[Lt+1][1],yr=qi[s(19,Lt+2)][1],ar=yr-Ot,Ar=yr-2*cr+Ot,Dr=2*(L(ht)-cr)/ar,Zr=Ar/ar,Qr=Dr*(1-Zr*Dr*(1-2*Zr*Dr));if(Qr>=0||Lt===1){mt=(it>=0?5:-5)*(Qr+Ft);var wn=50,Sn;do Ft=s(18,L(mt)/5),Lt=g(Ft),Qr=Ft-Lt,Ot=qi[Lt][1],cr=qi[Lt+1][1],yr=qi[s(19,Lt+2)][1],mt-=(Sn=(it>=0?u:-u)*(cr+Qr*(yr-Ot)/2+Qr*Qr*(yr-2*cr+Ot)/2)-it)*E;while(L(Sn)>A&&--wn>0);break}}while(--Lt>=0);var kn=qi[Lt][0],pa=qi[Lt+1][0],Da=qi[s(19,Lt+2)][0];return[Xe/(pa+Qr*(Da-kn)/2+Qr*Qr*(Da-2*pa+kn)/2),mt*T]};function yc(){return(0,p.Z)(Ns).scale(152.63)}function rh(Xe){function it(ht,mt){var Ft=w(mt),Lt=(Xe-1)/(Xe-Ft*w(ht));return[Lt*Ft*f(ht),Lt*f(mt)]}return it.invert=function(ht,mt){var Ft=ht*ht+mt*mt,Lt=O(Ft),Ot=(Xe-O(1-Ft*(Xe+1)/(Xe-1)))/((Xe-1)/Lt+Lt/(Xe-1));return[C(ht*Ot,Lt*O(1-Ot*Ot)),Lt?D(mt*Ot/Lt):0]},it}function Wl(Xe,it){var ht=rh(Xe);if(!it)return ht;var mt=w(it),Ft=f(it);function Lt(Ot,cr){var yr=ht(Ot,cr),ar=yr[1],Ar=ar*Ft/(Xe-1)+mt;return[yr[0]*mt/Ar,ar/Ar]}return Lt.invert=function(Ot,cr){var yr=(Xe-1)/(Xe-1-cr*Ft);return ht.invert(yr*Ot,yr*cr*mt)},Lt}function Ef(){var Xe=2,it=0,ht=(0,p.r)(Wl),mt=ht(Xe,it);return mt.distance=function(Ft){return arguments.length?ht(Xe=+Ft,it):Xe},mt.tilt=function(Ft){return arguments.length?ht(Xe,it=Ft*T):it*E},mt.scale(432.147).clipAngle(b(1/Xe)*E-1e-6)}var Ts=1e-4,Cf=1e4,il=-180,ol=il+Ts,mc=180,xu=mc-Ts,pi=-90,jl=pi+Ts,Lf=90,Pf=Lf-Ts;function Al(Xe){return Xe.length>0}function xv(Xe){return Math.floor(Xe*Cf)/Cf}function xc(Xe){return Xe===pi||Xe===Lf?[0,Xe]:[il,xv(Xe)]}function bu(Xe){var it=Xe[0],ht=Xe[1],mt=!1;return it<=ol?(it=il,mt=!0):it>=xu&&(it=mc,mt=!0),ht<=jl?(ht=pi,mt=!0):ht>=Pf&&(ht=Lf,mt=!0),mt?[it,ht]:Xe}function bc(Xe){return Xe.map(bu)}function nh(Xe,it,ht){for(var mt=0,Ft=Xe.length;mt<Ft;++mt){var Lt=Xe[mt].slice();ht.push({index:-1,polygon:it,ring:Lt});for(var Ot=0,cr=Lt.length;Ot<cr;++Ot){var yr=Lt[Ot],ar=yr[0],Ar=yr[1];if(ar<=ol||ar>=xu||Ar<=jl||Ar>=Pf){Lt[Ot]=bu(yr);for(var Dr=Ot+1;Dr<cr;++Dr){var Zr=Lt[Dr],Qr=Zr[0],wn=Zr[1];if(Qr>ol&&Qr<xu&&wn>jl&&wn<Pf)break}if(Dr===Ot+1)continue;if(Ot){var Sn={index:-1,polygon:it,ring:Lt.slice(0,Ot+1)};Sn.ring[Sn.ring.length-1]=xc(Ar),ht[ht.length-1]=Sn}else ht.pop();if(Dr>=cr)break;ht.push({index:-1,polygon:it,ring:Lt=Lt.slice(Dr-1)}),Lt[0]=xc(Lt[0][1]),Ot=-1,cr=Lt.length}}}}function sl(Xe){var it,ht=Xe.length,mt={},Ft={},Lt,Ot,cr,yr,ar;for(it=0;it<ht;++it){if(Lt=Xe[it],Ot=Lt.ring[0],yr=Lt.ring[Lt.ring.length-1],Ot[0]===yr[0]&&Ot[1]===yr[1]){Lt.polygon.push(Lt.ring),Xe[it]=null;continue}Lt.index=it,mt[Ot]=Ft[yr]=Lt}for(it=0;it<ht;++it)if(Lt=Xe[it],Lt){if(Ot=Lt.ring[0],yr=Lt.ring[Lt.ring.length-1],cr=Ft[Ot],ar=mt[yr],delete mt[Ot],delete Ft[yr],Ot[0]===yr[0]&&Ot[1]===yr[1]){Lt.polygon.push(Lt.ring);continue}cr?(delete Ft[Ot],delete mt[cr.ring[0]],cr.ring.pop(),Xe[cr.index]=null,Lt={index:-1,polygon:cr.polygon,ring:cr.ring.concat(Lt.ring)},cr===ar?Lt.polygon.push(Lt.ring):(Lt.index=ht++,Xe.push(mt[Lt.ring[0]]=Ft[Lt.ring[Lt.ring.length-1]]=Lt))):ar?(delete mt[yr],delete Ft[ar.ring[ar.ring.length-1]],Lt.ring.pop(),Lt={index:ht++,polygon:ar.polygon,ring:Lt.ring.concat(ar.ring)},Xe[ar.index]=null,Xe.push(mt[Lt.ring[0]]=Ft[Lt.ring[Lt.ring.length-1]]=Lt)):(Lt.ring.push(Lt.ring[0]),Lt.polygon.push(Lt.ring))}}function Sl(Xe){var it={type:"Feature",geometry:Yl(Xe.geometry)};return Xe.id!=null&&(it.id=Xe.id),Xe.bbox!=null&&(it.bbox=Xe.bbox),Xe.properties!=null&&(it.properties=Xe.properties),it}function Yl(Xe){if(Xe==null)return Xe;var it,ht,mt,Ft;switch(Xe.type){case"GeometryCollection":it={type:"GeometryCollection",geometries:Xe.geometries.map(Yl)};break;case"Point":it={type:"Point",coordinates:bu(Xe.coordinates)};break;case"MultiPoint":case"LineString":it={type:Xe.type,coordinates:bc(Xe.coordinates)};break;case"MultiLineString":it={type:"MultiLineString",coordinates:Xe.coordinates.map(bc)};break;case"Polygon":{var Lt=[];nh(Xe.coordinates,Lt,ht=[]),sl(ht),it={type:"Polygon",coordinates:Lt};break}case"MultiPolygon":{ht=[],mt=-1,Ft=Xe.coordinates.length;for(var Ot=new Array(Ft);++mt<Ft;)nh(Xe.coordinates[mt],Ot[mt]=[],ht);sl(ht),it={type:"MultiPolygon",coordinates:Ot.filter(Al)};break}default:return Xe}return Xe.bbox!=null&&(it.bbox=Xe.bbox),it}function Zl(Xe){if(Xe==null)return Xe;switch(Xe.type){case"Feature":return Sl(Xe);case"FeatureCollection":{var it={type:"FeatureCollection",features:Xe.features.map(Sl)};return Xe.bbox!=null&&(it.bbox=Xe.bbox),it}default:return Yl(Xe)}}function $o(Xe,it){var ht=m(it/2),mt=f(y*ht);return[Xe*(.74482-.34588*mt*mt),1.70711*ht]}$o.invert=function(Xe,it){var ht=it/1.70711,mt=f(y*ht);return[Xe/(.74482-.34588*mt*mt),2*a(ht)]};function as(){return(0,p.Z)($o).scale(146.153)}function Xl(Xe,it,ht){var mt=(0,ju.Z)(it,ht),Ft=mt(.5),Lt=(0,_e.Z)([-Ft[0],-Ft[1]])(it),Ot=mt.distance/2,cr=-D(f(Lt[1]*T)/f(Ot)),yr=[-Ft[0],-Ft[1],-(Lt[0]>0?d-cr:cr)*E],ar=(0,p.Z)(Xe(Ot)).rotate(yr),Ar=(0,_e.Z)(yr),Dr=ar.center;return delete ar.rotate,ar.center=function(Zr){return arguments.length?Dr(Ar(Zr)):Ar.invert(Dr())},ar.clipAngle(90)}function ah(Xe){var it=w(Xe);function ht(mt,Ft){var Lt=(0,Qi.M)(mt,Ft);return Lt[0]*=it,Lt}return ht.invert=function(mt,Ft){return Qi.M.invert(mt/it,Ft)},ht}function wu(){return Rf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Rf(Xe,it){return Xl(ah,Xe,it)}function ih(Xe){if(!(Xe*=2))return le.N;var it=-Xe/2,ht=-it,mt=Xe*Xe,Ft=m(ht),Lt=.5/f(ht);function Ot(cr,yr){var ar=b(w(yr)*w(cr-it)),Ar=b(w(yr)*w(cr-ht)),Dr=yr<0?-1:1;return ar*=ar,Ar*=Ar,[(ar-Ar)/(2*Xe),Dr*O(4*mt*Ar-(mt-ar+Ar)*(mt-ar+Ar))/(2*Xe)]}return Ot.invert=function(cr,yr){var ar=yr*yr,Ar=w(O(ar+(Zr=cr+it)*Zr)),Dr=w(O(ar+(Zr=cr+ht)*Zr)),Zr,Qr;return[C(Qr=Ar-Dr,Zr=(Ar+Dr)*Ft),(yr<0?-1:1)*b(O(Zr*Zr+Qr*Qr)*Lt)]},Ot}function As(){return wc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function wc(Xe,it){return Xl(ih,Xe,it)}function Ml(Xe,it){if(L(it)<v)return[Xe,0];var ht=L(it/u),mt=D(ht);if(L(Xe)<v||L(L(it)-u)<v)return[0,c(it)*d*m(mt/2)];var Ft=w(mt),Lt=L(d/Xe-Xe/d)/2,Ot=Lt*Lt,cr=Ft/(ht+Ft-1),yr=cr*(2/ht-1),ar=yr*yr,Ar=ar+Ot,Dr=cr-ar,Zr=Ot+cr;return[c(Xe)*d*(Lt*Dr+O(Ot*Dr*Dr-Ar*(cr*cr-ar)))/Ar,c(it)*d*(yr*Zr-Lt*O((Ot+1)*Ar-Zr*Zr))/Ar]}Ml.invert=function(Xe,it){if(L(it)<v)return[Xe,0];if(L(Xe)<v)return[0,u*f(2*a(it/d))];var ht=(Xe/=d)*Xe,mt=(it/=d)*it,Ft=ht+mt,Lt=Ft*Ft,Ot=-L(it)*(1+Ft),cr=Ot-2*mt+ht,yr=-2*Ot+1+2*mt+Lt,ar=mt/yr+(2*cr*cr*cr/(yr*yr*yr)-9*Ot*cr/(yr*yr))/27,Ar=(Ot-cr*cr/(3*yr))/yr,Dr=2*O(-Ar/3),Zr=b(3*ar/(Ar*Dr))/3;return[d*(Ft-1+O(1+2*(ht-mt)+Lt))/(2*Xe),c(it)*d*(-Dr*w(Zr+d/3)-cr/(3*yr))]};function Qu(){return(0,p.Z)(Ml).scale(79.4183)}function ll(Xe,it){if(L(it)<v)return[Xe,0];var ht=L(it/u),mt=D(ht);if(L(Xe)<v||L(L(it)-u)<v)return[0,c(it)*d*m(mt/2)];var Ft=w(mt),Lt=L(d/Xe-Xe/d)/2,Ot=Lt*Lt,cr=Ft*(O(1+Ot)-Lt*Ft)/(1+Ot*ht*ht);return[c(Xe)*d*cr,c(it)*d*O(1-cr*(2*Lt+cr))]}ll.invert=function(Xe,it){if(!Xe)return[0,u*f(2*a(it/d))];var ht=L(Xe/d),mt=(1-ht*ht-(it/=d)*it)/(2*ht),Ft=mt*mt,Lt=O(Ft+1);return[c(Xe)*d*(Lt-mt),c(it)*u*f(2*C(O((1-2*mt*ht)*(mt+Lt)-ht),O(Lt+mt+ht)))]};function bv(){return(0,p.Z)(ll).scale(79.4183)}function Tc(Xe,it){if(L(it)<v)return[Xe,0];var ht=it/u,mt=D(ht);if(L(Xe)<v||L(L(it)-u)<v)return[0,d*m(mt/2)];var Ft=(d/Xe-Xe/d)/2,Lt=ht/(1+w(mt));return[d*(c(Xe)*O(Ft*Ft+1-Lt*Lt)-Ft),d*Lt]}Tc.invert=function(Xe,it){if(!it)return[Xe,0];var ht=it/d,mt=(d*d*(1-ht*ht)-Xe*Xe)/(2*d*Xe);return[Xe?d*(c(Xe)*O(mt*mt+1)-mt):0,u*f(2*a(ht))]};function Df(){return(0,p.Z)(Tc).scale(79.4183)}function Io(Xe,it){if(!it)return[Xe,0];var ht=L(it);if(!Xe||ht===u)return[0,it];var mt=ht/u,Ft=mt*mt,Lt=(8*mt-Ft*(Ft+2)-5)/(2*Ft*(mt-1)),Ot=Lt*Lt,cr=mt*Lt,yr=Ft+Ot+2*cr,ar=mt+3*Lt,Ar=Xe/u,Dr=Ar+1/Ar,Zr=c(L(Xe)-u)*O(Dr*Dr-4),Qr=Zr*Zr,wn=yr*(Ft+Ot*Qr-1)+(1-Ft)*(Ft*(ar*ar+4*Ot)+12*cr*Ot+4*Ot*Ot),Sn=(Zr*(yr+Ot-1)+2*O(wn))/(4*yr+Qr);return[c(Xe)*u*Sn,c(it)*u*O(1+Zr*L(Sn)-Sn*Sn)]}Io.invert=function(Xe,it){var ht;if(!Xe||!it)return[Xe,it];it/=d;var mt=c(Xe)*Xe/u,Ft=(mt*mt-1+4*it*it)/L(mt),Lt=Ft*Ft,Ot=2*it,cr=50;do{var yr=Ot*Ot,ar=(8*Ot-yr*(yr+2)-5)/(2*yr*(Ot-1)),Ar=(3*Ot-yr*Ot-10)/(2*yr*Ot),Dr=ar*ar,Zr=Ot*ar,Qr=Ot+ar,wn=Qr*Qr,Sn=Ot+3*ar,kn=wn*(yr+Dr*Lt-1)+(1-yr)*(yr*(Sn*Sn+4*Dr)+Dr*(12*Zr+4*Dr)),pa=-2*Qr*(4*Zr*Dr+(1-4*yr+3*yr*yr)*(1+Ar)+Dr*(-6+14*yr-Lt+(-8+8*yr-2*Lt)*Ar)+Zr*(-8+12*yr+(-10+10*yr-Lt)*Ar)),Da=O(kn),ka=Ft*(wn+Dr-1)+2*Da-mt*(4*wn+Lt),Fa=Ft*(2*ar*Ar+2*Qr*(1+Ar))+pa/Da-8*Qr*(Ft*(-1+Dr+wn)+2*Da)*(1+Ar)/(Lt+4*wn);Ot-=ht=ka/Fa}while(ht>v&&--cr>0);return[c(Xe)*(O(Ft*Ft+4)+Ft)*d/4,u*Ot]};function oh(){return(0,p.Z)(Io).scale(127.16)}function qu(Xe,it,ht,mt,Ft){function Lt(Ot,cr){var yr=ht*f(mt*cr),ar=O(1-yr*yr),Ar=O(2/(1+ar*w(Ot*=Ft)));return[Xe*ar*Ar*f(Ot),it*yr*Ar]}return Lt.invert=function(Ot,cr){var yr=Ot/Xe,ar=cr/it,Ar=O(yr*yr+ar*ar),Dr=2*D(Ar/2);return[C(Ot*m(Dr),Xe*Ar)/Ft,Ar&&D(cr*f(Dr)/(it*ht*Ar))/mt]},Lt}function Us(Xe,it,ht,mt){var Ft=d/3;Xe=r(Xe,v),it=r(it,v),Xe=s(Xe,u),it=s(it,d-v),ht=r(ht,0),ht=s(ht,100-v),mt=r(mt,v);var Lt=ht/100+1,Ot=mt/100,cr=b(Lt*w(Ft))/Ft,yr=f(Xe)/f(cr*u),ar=it/d,Ar=O(Ot*f(Xe/2)/f(it/2)),Dr=Ar/O(ar*yr*cr),Zr=1/(Ar*O(ar*yr*cr));return qu(Dr,Zr,yr,cr,ar)}function ef(){var Xe=65*T,it=60*T,ht=20,mt=200,Ft=(0,p.r)(Us),Lt=Ft(Xe,it,ht,mt);return Lt.poleline=function(Ot){return arguments.length?Ft(Xe=+Ot*T,it,ht,mt):Xe*E},Lt.parallels=function(Ot){return arguments.length?Ft(Xe,it=+Ot*T,ht,mt):it*E},Lt.inflation=function(Ot){return arguments.length?Ft(Xe,it,ht=+Ot,mt):ht},Lt.ratio=function(Ot){return arguments.length?Ft(Xe,it,ht,mt=+Ot):mt},Lt.scale(163.775)}function El(){return ef().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var If=4*d+3*O(3),sh=2*O(2*d*O(3)/If),Ac=we(sh*O(3)/d,sh,If/6);function Sc(){return(0,p.Z)(Ac).scale(176.84)}function $l(Xe,it){return[Xe*O(1-3*it*it/(d*d)),it]}$l.invert=function(Xe,it){return[Xe/O(1-3*it*it/(d*d)),it]};function kf(){return(0,p.Z)($l).scale(152.63)}function tf(Xe,it){var ht=w(it),mt=w(Xe)*ht,Ft=1-mt,Lt=w(Xe=C(f(Xe)*ht,-f(it))),Ot=f(Xe);return ht=O(1-mt*mt),[Ot*ht-Lt*Ft,-Lt*ht-Ot*Ft]}tf.invert=function(Xe,it){var ht=(Xe*Xe+it*it)/-2,mt=O(-ht*(2+ht)),Ft=it*ht+Xe*mt,Lt=Xe*ht-it*mt,Ot=O(Lt*Lt+Ft*Ft);return[C(mt*Ft,Ot*(1+ht)),Ot?-D(mt*Lt/Ot):0]};function lh(){return(0,p.Z)(tf).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function rf(Xe,it){var ht=Y(Xe,it);return[(ht[0]+Xe/u)/2,(ht[1]+it)/2]}rf.invert=function(Xe,it){var ht=Xe,mt=it,Ft=25;do{var Lt=w(mt),Ot=f(mt),cr=f(2*mt),yr=Ot*Ot,ar=Lt*Lt,Ar=f(ht),Dr=w(ht/2),Zr=f(ht/2),Qr=Zr*Zr,wn=1-ar*Dr*Dr,Sn=wn?b(Lt*Dr)*O(kn=1/wn):kn=0,kn,pa=.5*(2*Sn*Lt*Zr+ht/u)-Xe,Da=.5*(Sn*Ot+mt)-it,ka=.5*kn*(ar*Qr+Sn*Lt*Dr*yr)+.5/u,Fa=kn*(Ar*cr/4-Sn*Ot*Zr),za=.125*kn*(cr*Zr-Sn*Ot*ar*Ar),ci=.5*kn*(yr*Dr+Sn*Qr*Lt)+.5,ji=Fa*za-ci*ka,Mi=(Da*Fa-pa*ci)/ji,fe=(pa*za-Da*ka)/ji;ht-=Mi,mt-=fe}while((L(Mi)>v||L(fe)>v)&&--Ft>0);return[ht,mt]};function uh(){return(0,p.Z)(rf).scale(158.837)}},33940:function(B,N,e){e.d(N,{Z:function(){return p}});function p(){return new L}function L(){this.reset()}L.prototype={constructor:L,reset:function(){this.s=this.t=0},add:function(w){C(a,w,this.t),C(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new L;function C(w,h,g){var t=w.s=h+g,r=t-h,s=t-r;w.t=h-s+(g-r)}},97860:function(B,N,e){e.d(N,{L9:function(){return w},ZP:function(){return A},gL:function(){return l}});var p=e(33940),L=e(39695),a=e(73182),C=e(72736),w=(0,p.Z)(),h=(0,p.Z)(),g,t,r,s,n,l={point:a.Z,lineStart:a.Z,lineEnd:a.Z,polygonStart:function(){w.reset(),l.lineStart=c,l.lineEnd=f},polygonEnd:function(){var d=+w;h.add(d<0?L.BZ+d:d),this.lineStart=this.lineEnd=this.point=a.Z},sphere:function(){h.add(L.BZ)}};function c(){l.point=m}function f(){v(g,t)}function m(d,u){l.point=v,g=d,t=u,d*=L.uR,u*=L.uR,r=d,s=(0,L.mC)(u=u/2+L.pu),n=(0,L.O$)(u)}function v(d,u){d*=L.uR,u*=L.uR,u=u/2+L.pu;var y=d-r,M=y>=0?1:-1,S=M*y,R=(0,L.mC)(u),x=(0,L.O$)(u),E=n*x,T=s*R+E*(0,L.mC)(S),i=E*M*(0,L.O$)(S);w.add((0,L.fv)(i,T)),r=d,s=R,n=x}function A(d){return h.reset(),(0,C.Z)(d,l),h*2}},77338:function(B,N,e){e.d(N,{Z:function(){return D}});var p=e(33940),L=e(97860),a=e(7620),C=e(39695),w=e(72736),h,g,t,r,s,n,l,c,f=(0,p.Z)(),m,v,A={point:d,lineStart:y,lineEnd:M,polygonStart:function(){A.point=S,A.lineStart=R,A.lineEnd=x,f.reset(),L.gL.polygonStart()},polygonEnd:function(){L.gL.polygonEnd(),A.point=d,A.lineStart=y,A.lineEnd=M,L.L9<0?(h=-(t=180),g=-(r=90)):f>C.Ho?r=90:f<-C.Ho&&(g=-90),v[0]=h,v[1]=t},sphere:function(){h=-(t=180),g=-(r=90)}};function d(b,O){m.push(v=[h=b,t=b]),O<g&&(g=O),O>r&&(r=O)}function u(b,O){var F=(0,a.Og)([b*C.uR,O*C.uR]);if(c){var V=(0,a.T5)(c,F),_=[V[1],-V[0],0],U=(0,a.T5)(_,V);(0,a.iJ)(U),U=(0,a.Y1)(U);var H=b-s,z=H>0?1:-1,G=U[0]*C.RW*z,Y,J=(0,C.Wn)(H)>180;J^(z*s<G&&G<z*b)?(Y=U[1]*C.RW,Y>r&&(r=Y)):(G=(G+360)%360-180,J^(z*s<G&&G<z*b)?(Y=-U[1]*C.RW,Y<g&&(g=Y)):(O<g&&(g=O),O>r&&(r=O))),J?b<s?E(h,b)>E(h,t)&&(t=b):E(b,t)>E(h,t)&&(h=b):t>=h?(b<h&&(h=b),b>t&&(t=b)):b>s?E(h,b)>E(h,t)&&(t=b):E(b,t)>E(h,t)&&(h=b)}else m.push(v=[h=b,t=b]);O<g&&(g=O),O>r&&(r=O),c=F,s=b}function y(){A.point=u}function M(){v[0]=h,v[1]=t,A.point=d,c=null}function S(b,O){if(c){var F=b-s;f.add((0,C.Wn)(F)>180?F+(F>0?360:-360):F)}else n=b,l=O;L.gL.point(b,O),u(b,O)}function R(){L.gL.lineStart()}function x(){S(n,l),L.gL.lineEnd(),(0,C.Wn)(f)>C.Ho&&(h=-(t=180)),v[0]=h,v[1]=t,c=null}function E(b,O){return(O-=b)<0?O+360:O}function T(b,O){return b[0]-O[0]}function i(b,O){return b[0]<=b[1]?b[0]<=O&&O<=b[1]:O<b[0]||b[1]<O}function D(b){var O,F,V,_,U,H,z;if(r=t=-(h=g=1/0),m=[],(0,w.Z)(b,A),F=m.length){for(m.sort(T),O=1,V=m[0],U=[V];O<F;++O)_=m[O],i(V,_[0])||i(V,_[1])?(E(V[0],_[1])>E(V[0],V[1])&&(V[1]=_[1]),E(_[0],V[1])>E(V[0],V[1])&&(V[0]=_[0])):U.push(V=_);for(H=-1/0,F=U.length-1,O=0,V=U[F];O<=F;V=_,++O)_=U[O],(z=E(V[1],_[0]))>H&&(H=z,h=_[0],t=V[1])}return m=v=null,h===1/0||g===1/0?[[NaN,NaN],[NaN,NaN]]:[[h,g],[t,r]]}},7620:function(B,N,e){e.d(N,{Og:function(){return a},T:function(){return g},T5:function(){return w},Y1:function(){return L},iJ:function(){return t},j9:function(){return C},s0:function(){return h}});var p=e(39695);function L(r){return[(0,p.fv)(r[1],r[0]),(0,p.ZR)(r[2])]}function a(r){var s=r[0],n=r[1],l=(0,p.mC)(n);return[l*(0,p.mC)(s),l*(0,p.O$)(s),(0,p.O$)(n)]}function C(r,s){return r[0]*s[0]+r[1]*s[1]+r[2]*s[2]}function w(r,s){return[r[1]*s[2]-r[2]*s[1],r[2]*s[0]-r[0]*s[2],r[0]*s[1]-r[1]*s[0]]}function h(r,s){r[0]+=s[0],r[1]+=s[1],r[2]+=s[2]}function g(r,s){return[r[0]*s,r[1]*s,r[2]*s]}function t(r){var s=(0,p._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=s,r[1]/=s,r[2]/=s}},66624:function(B,N,e){e.d(N,{Z:function(){return F}});var p=e(39695),L=e(73182),a=e(72736),C,w,h,g,t,r,s,n,l,c,f,m,v,A,d,u,y={sphere:L.Z,point:M,lineStart:R,lineEnd:T,polygonStart:function(){y.lineStart=i,y.lineEnd=D},polygonEnd:function(){y.lineStart=R,y.lineEnd=T}};function M(V,_){V*=p.uR,_*=p.uR;var U=(0,p.mC)(_);S(U*(0,p.mC)(V),U*(0,p.O$)(V),(0,p.O$)(_))}function S(V,_,U){++C,h+=(V-h)/C,g+=(_-g)/C,t+=(U-t)/C}function R(){y.point=x}function x(V,_){V*=p.uR,_*=p.uR;var U=(0,p.mC)(_);A=U*(0,p.mC)(V),d=U*(0,p.O$)(V),u=(0,p.O$)(_),y.point=E,S(A,d,u)}function E(V,_){V*=p.uR,_*=p.uR;var U=(0,p.mC)(_),H=U*(0,p.mC)(V),z=U*(0,p.O$)(V),G=(0,p.O$)(_),Y=(0,p.fv)((0,p._b)((Y=d*G-u*z)*Y+(Y=u*H-A*G)*Y+(Y=A*z-d*H)*Y),A*H+d*z+u*G);w+=Y,r+=Y*(A+(A=H)),s+=Y*(d+(d=z)),n+=Y*(u+(u=G)),S(A,d,u)}function T(){y.point=M}function i(){y.point=b}function D(){O(m,v),y.point=M}function b(V,_){m=V,v=_,V*=p.uR,_*=p.uR,y.point=O;var U=(0,p.mC)(_);A=U*(0,p.mC)(V),d=U*(0,p.O$)(V),u=(0,p.O$)(_),S(A,d,u)}function O(V,_){V*=p.uR,_*=p.uR;var U=(0,p.mC)(_),H=U*(0,p.mC)(V),z=U*(0,p.O$)(V),G=(0,p.O$)(_),Y=d*G-u*z,J=u*H-A*G,ae=A*z-d*H,oe=(0,p._b)(Y*Y+J*J+ae*ae),he=(0,p.ZR)(oe),q=oe&&-he/oe;l+=q*Y,c+=q*J,f+=q*ae,w+=he,r+=he*(A+(A=H)),s+=he*(d+(d=z)),n+=he*(u+(u=G)),S(A,d,u)}function F(V){C=w=h=g=t=r=s=n=l=c=f=0,(0,a.Z)(V,y);var _=l,U=c,H=f,z=_*_+U*U+H*H;return z<p.aW&&(_=r,U=s,H=n,w<p.Ho&&(_=h,U=g,H=t),z=_*_+U*U+H*H,z<p.aW)?[NaN,NaN]:[(0,p.fv)(U,_)*p.RW,(0,p.ZR)(H/(0,p._b)(z))*p.RW]}},7613:function(B,N,e){e.d(N,{m:function(){return w},Z:function(){return g}});var p=e(7620);function L(t){return function(){return t}}var a=e(39695),C=e(49386);function w(t,r,s,n,l,c){if(s){var f=(0,a.mC)(r),m=(0,a.O$)(r),v=n*s;l==null?(l=r+n*a.BZ,c=r-v/2):(l=h(f,l),c=h(f,c),(n>0?l<c:l>c)&&(l+=n*a.BZ));for(var A,d=l;n>0?d>c:d<c;d-=v)A=(0,p.Y1)([f,-m*(0,a.mC)(d),-m*(0,a.O$)(d)]),t.point(A[0],A[1])}}function h(t,r){r=(0,p.Og)(r),r[0]-=t,(0,p.iJ)(r);var s=(0,a.Kh)(-r[1]);return((-r[2]<0?-s:s)+a.BZ-a.Ho)%a.BZ}function g(){var t=L([0,0]),r=L(90),s=L(6),n,l,c={point:f};function f(v,A){n.push(v=l(v,A)),v[0]*=a.RW,v[1]*=a.RW}function m(){var v=t.apply(this,arguments),A=r.apply(this,arguments)*a.uR,d=s.apply(this,arguments)*a.uR;return n=[],l=(0,C.I)(-v[0]*a.uR,-v[1]*a.uR,0).invert,w(c,A,d,1),v={type:"Polygon",coordinates:[n]},n=l=null,v}return m.center=function(v){return arguments.length?(t=typeof v=="function"?v:L([+v[0],+v[1]]),m):t},m.radius=function(v){return arguments.length?(r=typeof v=="function"?v:L(+v),m):r},m.precision=function(v){return arguments.length?(s=typeof v=="function"?v:L(+v),m):s},m}},87070:function(B,N,e){var p=e(97023),L=e(39695);N.Z=(0,p.Z)(function(){return!0},a,w,[-L.pi,-L.ou]);function a(h){var g=NaN,t=NaN,r=NaN,s;return{lineStart:function(){h.lineStart(),s=1},point:function(n,l){var c=n>0?L.pi:-L.pi,f=(0,L.Wn)(n-g);(0,L.Wn)(f-L.pi)<L.Ho?(h.point(g,t=(t+l)/2>0?L.ou:-L.ou),h.point(r,t),h.lineEnd(),h.lineStart(),h.point(c,t),h.point(n,t),s=0):r!==c&&f>=L.pi&&((0,L.Wn)(g-r)<L.Ho&&(g-=r*L.Ho),(0,L.Wn)(n-c)<L.Ho&&(n-=c*L.Ho),t=C(g,t,n,l),h.point(r,t),h.lineEnd(),h.lineStart(),h.point(c,t),s=0),h.point(g=n,t=l),r=c},lineEnd:function(){h.lineEnd(),g=t=NaN},clean:function(){return 2-s}}}function C(h,g,t,r){var s,n,l=(0,L.O$)(h-t);return(0,L.Wn)(l)>L.Ho?(0,L.z4)(((0,L.O$)(g)*(n=(0,L.mC)(r))*(0,L.O$)(t)-(0,L.O$)(r)*(s=(0,L.mC)(g))*(0,L.O$)(h))/(s*n*l)):(g+r)/2}function w(h,g,t,r){var s;if(h==null)s=t*L.ou,r.point(-L.pi,s),r.point(0,s),r.point(L.pi,s),r.point(L.pi,0),r.point(L.pi,-s),r.point(0,-s),r.point(-L.pi,-s),r.point(-L.pi,0),r.point(-L.pi,s);else if((0,L.Wn)(h[0]-g[0])>L.Ho){var n=h[0]<g[0]?L.pi:-L.pi;s=t*n/2,r.point(-n,s),r.point(0,s),r.point(n,s)}else r.point(g[0],g[1])}},85272:function(B,N,e){e.d(N,{Z:function(){return L}});var p=e(73182);function L(){var a=[],C;return{point:function(w,h,g){C.push([w,h,g])},lineStart:function(){a.push(C=[])},lineEnd:p.Z,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var w=a;return a=[],C=null,w}}}},1457:function(B,N,e){e.d(N,{Z:function(){return h}});var p=e(7620),L=e(7613),a=e(39695),C=e(67108),w=e(97023);function h(g){var t=(0,a.mC)(g),r=6*a.uR,s=t>0,n=(0,a.Wn)(t)>a.Ho;function l(A,d,u,y){(0,L.m)(y,g,r,u,A,d)}function c(A,d){return(0,a.mC)(A)*(0,a.mC)(d)>t}function f(A){var d,u,y,M,S;return{lineStart:function(){M=y=!1,S=1},point:function(R,x){var E=[R,x],T,i=c(R,x),D=s?i?0:v(R,x):i?v(R+(R<0?a.pi:-a.pi),x):0;if(!d&&(M=y=i)&&A.lineStart(),i!==y&&(T=m(d,E),(!T||(0,C.Z)(d,T)||(0,C.Z)(E,T))&&(E[2]=1)),i!==y)S=0,i?(A.lineStart(),T=m(E,d),A.point(T[0],T[1])):(T=m(d,E),A.point(T[0],T[1],2),A.lineEnd()),d=T;else if(n&&d&&s^i){var b;!(D&u)&&(b=m(E,d,!0))&&(S=0,s?(A.lineStart(),A.point(b[0][0],b[0][1]),A.point(b[1][0],b[1][1]),A.lineEnd()):(A.point(b[1][0],b[1][1]),A.lineEnd(),A.lineStart(),A.point(b[0][0],b[0][1],3)))}i&&(!d||!(0,C.Z)(d,E))&&A.point(E[0],E[1]),d=E,y=i,u=D},lineEnd:function(){y&&A.lineEnd(),d=null},clean:function(){return S|(M&&y)<<1}}}function m(A,d,u){var y=(0,p.Og)(A),M=(0,p.Og)(d),S=[1,0,0],R=(0,p.T5)(y,M),x=(0,p.j9)(R,R),E=R[0],T=x-E*E;if(!T)return!u&&A;var i=t*x/T,D=-t*E/T,b=(0,p.T5)(S,R),O=(0,p.T)(S,i),F=(0,p.T)(R,D);(0,p.s0)(O,F);var V=b,_=(0,p.j9)(O,V),U=(0,p.j9)(V,V),H=_*_-U*((0,p.j9)(O,O)-1);if(!(H<0)){var z=(0,a._b)(H),G=(0,p.T)(V,(-_-z)/U);if((0,p.s0)(G,O),G=(0,p.Y1)(G),!u)return G;var Y=A[0],J=d[0],ae=A[1],oe=d[1],he;J<Y&&(he=Y,Y=J,J=he);var q=J-Y,Z=(0,a.Wn)(q-a.pi)<a.Ho,$=Z||q<a.Ho;if(!Z&&oe<ae&&(he=ae,ae=oe,oe=he),$?Z?ae+oe>0^G[1]<((0,a.Wn)(G[0]-Y)<a.Ho?ae:oe):ae<=G[1]&&G[1]<=oe:q>a.pi^(Y<=G[0]&&G[0]<=J)){var K=(0,p.T)(V,(-_+z)/U);return(0,p.s0)(K,O),[G,(0,p.Y1)(K)]}}}function v(A,d){var u=s?g:a.pi-g,y=0;return A<-u?y|=1:A>u&&(y|=2),d<-u?y|=4:d>u&&(y|=8),y}return(0,w.Z)(c,f,l,s?[0,-g]:[-a.pi,g-a.pi])}},97023:function(B,N,e){e.d(N,{Z:function(){return h}});var p=e(85272),L=e(46225),a=e(39695),C=e(23071),w=e(33064);function h(r,s,n,l){return function(c){var f=s(c),m=(0,p.Z)(),v=s(m),A=!1,d,u,y,M={point:S,lineStart:x,lineEnd:E,polygonStart:function(){M.point=T,M.lineStart=i,M.lineEnd=D,u=[],d=[]},polygonEnd:function(){M.point=S,M.lineStart=x,M.lineEnd=E,u=(0,w.TS)(u);var b=(0,C.Z)(d,l);u.length?(A||(c.polygonStart(),A=!0),(0,L.Z)(u,t,b,n,c)):b&&(A||(c.polygonStart(),A=!0),c.lineStart(),n(null,null,1,c),c.lineEnd()),A&&(c.polygonEnd(),A=!1),u=d=null},sphere:function(){c.polygonStart(),c.lineStart(),n(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function S(b,O){r(b,O)&&c.point(b,O)}function R(b,O){f.point(b,O)}function x(){M.point=R,f.lineStart()}function E(){M.point=S,f.lineEnd()}function T(b,O){y.push([b,O]),v.point(b,O)}function i(){v.lineStart(),y=[]}function D(){T(y[0][0],y[0][1]),v.lineEnd();var b=v.clean(),O=m.result(),F,V=O.length,_,U,H;if(y.pop(),d.push(y),y=null,!!V){if(b&1){if(U=O[0],(_=U.length-1)>0){for(A||(c.polygonStart(),A=!0),c.lineStart(),F=0;F<_;++F)c.point((H=U[F])[0],H[1]);c.lineEnd()}return}V>1&&b&2&&O.push(O.pop().concat(O.shift())),u.push(O.filter(g))}}return M}}function g(r){return r.length>1}function t(r,s){return((r=r.x)[0]<0?r[1]-a.ou-a.Ho:a.ou-r[1])-((s=s.x)[0]<0?s[1]-a.ou-a.Ho:a.ou-s[1])}},87605:function(B,N,e){e.d(N,{Z:function(){return t}});var p=e(39695),L=e(85272);function a(r,s,n,l,c,f){var m=r[0],v=r[1],A=s[0],d=s[1],u=0,y=1,M=A-m,S=d-v,R;if(R=n-m,!(!M&&R>0)){if(R/=M,M<0){if(R<u)return;R<y&&(y=R)}else if(M>0){if(R>y)return;R>u&&(u=R)}if(R=c-m,!(!M&&R<0)){if(R/=M,M<0){if(R>y)return;R>u&&(u=R)}else if(M>0){if(R<u)return;R<y&&(y=R)}if(R=l-v,!(!S&&R>0)){if(R/=S,S<0){if(R<u)return;R<y&&(y=R)}else if(S>0){if(R>y)return;R>u&&(u=R)}if(R=f-v,!(!S&&R<0)){if(R/=S,S<0){if(R>y)return;R>u&&(u=R)}else if(S>0){if(R<u)return;R<y&&(y=R)}return u>0&&(r[0]=m+u*M,r[1]=v+u*S),y<1&&(s[0]=m+y*M,s[1]=v+y*S),!0}}}}}var C=e(46225),w=e(33064),h=1e9,g=-h;function t(r,s,n,l){function c(d,u){return r<=d&&d<=n&&s<=u&&u<=l}function f(d,u,y,M){var S=0,R=0;if(d==null||(S=m(d,y))!==(R=m(u,y))||A(d,u)<0^y>0)do M.point(S===0||S===3?r:n,S>1?l:s);while((S=(S+y+4)%4)!==R);else M.point(u[0],u[1])}function m(d,u){return(0,p.Wn)(d[0]-r)<p.Ho?u>0?0:3:(0,p.Wn)(d[0]-n)<p.Ho?u>0?2:1:(0,p.Wn)(d[1]-s)<p.Ho?u>0?1:0:u>0?3:2}function v(d,u){return A(d.x,u.x)}function A(d,u){var y=m(d,1),M=m(u,1);return y!==M?y-M:y===0?u[1]-d[1]:y===1?d[0]-u[0]:y===2?d[1]-u[1]:u[0]-d[0]}return function(d){var u=d,y=(0,L.Z)(),M,S,R,x,E,T,i,D,b,O,F,V={point:_,lineStart:G,lineEnd:Y,polygonStart:H,polygonEnd:z};function _(ae,oe){c(ae,oe)&&u.point(ae,oe)}function U(){for(var ae=0,oe=0,he=S.length;oe<he;++oe)for(var q=S[oe],Z=1,$=q.length,K=q[0],re,le,te=K[0],ee=K[1];Z<$;++Z)re=te,le=ee,K=q[Z],te=K[0],ee=K[1],le<=l?ee>l&&(te-re)*(l-le)>(ee-le)*(r-re)&&++ae:ee<=l&&(te-re)*(l-le)<(ee-le)*(r-re)&&--ae;return ae}function H(){u=y,M=[],S=[],F=!0}function z(){var ae=U(),oe=F&&ae,he=(M=(0,w.TS)(M)).length;(oe||he)&&(d.polygonStart(),oe&&(d.lineStart(),f(null,null,1,d),d.lineEnd()),he&&(0,C.Z)(M,v,ae,f,d),d.polygonEnd()),u=d,M=S=R=null}function G(){V.point=J,S&&S.push(R=[]),O=!0,b=!1,i=D=NaN}function Y(){M&&(J(x,E),T&&b&&y.rejoin(),M.push(y.result())),V.point=_,b&&u.lineEnd()}function J(ae,oe){var he=c(ae,oe);if(S&&R.push([ae,oe]),O)x=ae,E=oe,T=he,O=!1,he&&(u.lineStart(),u.point(ae,oe));else if(he&&b)u.point(ae,oe);else{var q=[i=Math.max(g,Math.min(h,i)),D=Math.max(g,Math.min(h,D))],Z=[ae=Math.max(g,Math.min(h,ae)),oe=Math.max(g,Math.min(h,oe))];a(q,Z,r,s,n,l)?(b||(u.lineStart(),u.point(q[0],q[1])),u.point(Z[0],Z[1]),he||u.lineEnd(),F=!1):he&&(u.lineStart(),u.point(ae,oe),F=!1)}i=ae,D=oe,b=he}return V}}},46225:function(B,N,e){e.d(N,{Z:function(){return C}});var p=e(67108),L=e(39695);function a(h,g,t,r){this.x=h,this.z=g,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function C(h,g,t,r,s){var n=[],l=[],c,f;if(h.forEach(function(y){if(!((M=y.length-1)<=0)){var M,S=y[0],R=y[M],x;if((0,p.Z)(S,R)){if(!S[2]&&!R[2]){for(s.lineStart(),c=0;c<M;++c)s.point((S=y[c])[0],S[1]);s.lineEnd();return}R[0]+=2*L.Ho}n.push(x=new a(S,y,null,!0)),l.push(x.o=new a(S,null,x,!1)),n.push(x=new a(R,y,null,!1)),l.push(x.o=new a(R,null,x,!0))}}),!!n.length){for(l.sort(g),w(n),w(l),c=0,f=l.length;c<f;++c)l[c].e=t=!t;for(var m=n[0],v,A;;){for(var d=m,u=!0;d.v;)if((d=d.n)===m)return;v=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(u)for(c=0,f=v.length;c<f;++c)s.point((A=v[c])[0],A[1]);else r(d.x,d.n.x,1,s);d=d.n}else{if(u)for(v=d.p.z,c=v.length-1;c>=0;--c)s.point((A=v[c])[0],A[1]);else r(d.x,d.p.x,-1,s);d=d.p}d=d.o,v=d.z,u=!u}while(!d.v);s.lineEnd()}}}function w(h){if(g=h.length){for(var g,t=0,r=h[0],s;++t<g;)r.n=s=h[t],s.p=r,r=s;r.n=s=h[0],s.p=r}}},96059:function(B,N,e){e.d(N,{Z:function(){return p}});function p(L,a){function C(w,h){return w=L(w,h),a(w[0],w[1])}return L.invert&&a.invert&&(C.invert=function(w,h){return w=a.invert(w,h),w&&L.invert(w[0],w[1])}),C}},8593:function(B,N,e){e.d(N,{Z:function(){return p}});function p(L){return L}},27362:function(B,N,e){e.r(N),e.d(N,{geoAlbers:function(){return mr},geoAlbersUsa:function(){return st},geoArea:function(){return p.ZP},geoAzimuthalEqualArea:function(){return xt.Z},geoAzimuthalEqualAreaRaw:function(){return xt.l},geoAzimuthalEquidistant:function(){return St.Z},geoAzimuthalEquidistantRaw:function(){return St.N},geoBounds:function(){return L.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return C.Z},geoClipAntimeridian:function(){return w.Z},geoClipCircle:function(){return h.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return g.Z},geoConicConformal:function(){return sr},geoConicConformalRaw:function(){return lr},geoConicEqualArea:function(){return $t},geoConicEqualAreaRaw:function(){return Zt},geoConicEquidistant:function(){return je},geoConicEquidistantRaw:function(){return Ye},geoContains:function(){return H},geoDistance:function(){return T},geoEqualEarth:function(){return hr},geoEqualEarthRaw:function(){return _t},geoEquirectangular:function(){return dr.Z},geoEquirectangularRaw:function(){return dr.k},geoGnomonic:function(){return gr.Z},geoGnomonicRaw:function(){return gr.M},geoGraticule:function(){return J},geoGraticule10:function(){return ae},geoIdentity:function(){return vr},geoInterpolate:function(){return oe.Z},geoLength:function(){return R},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Rt},geoNaturalEarth1:function(){return Gr.Z},geoNaturalEarth1Raw:function(){return Gr.K},geoOrthographic:function(){return Fr.Z},geoOrthographicRaw:function(){return Fr.I},geoPath:function(){return zt},geoProjection:function(){return Kt.Z},geoProjectionMutator:function(){return Kt.r},geoRotation:function(){return Dt.Z},geoStereographic:function(){return tn},geoStereographicRaw:function(){return gn},geoStream:function(){return c.Z},geoTransform:function(){return pr.Z},geoTransverseMercator:function(){return An},geoTransverseMercatorRaw:function(){return Bn}});var p=e(97860),L=e(77338),a=e(66624),C=e(7613),w=e(87070),h=e(1457),g=e(87605);function t(){var Mr=0,Cr=0,jr=960,Hr=500,on,yn,xn;return xn={stream:function(Rn){return on&&yn===Rn?on:on=(0,g.Z)(Mr,Cr,jr,Hr)(yn=Rn)},extent:function(Rn){return arguments.length?(Mr=+Rn[0][0],Cr=+Rn[0][1],jr=+Rn[1][0],Hr=+Rn[1][1],on=yn=null,xn):[[Mr,Cr],[jr,Hr]]}}}var r=e(23071),s=e(33940),n=e(39695),l=e(73182),c=e(72736),f=(0,s.Z)(),m,v,A,d={sphere:l.Z,point:l.Z,lineStart:u,lineEnd:l.Z,polygonStart:l.Z,polygonEnd:l.Z};function u(){d.point=M,d.lineEnd=y}function y(){d.point=d.lineEnd=l.Z}function M(Mr,Cr){Mr*=n.uR,Cr*=n.uR,m=Mr,v=(0,n.O$)(Cr),A=(0,n.mC)(Cr),d.point=S}function S(Mr,Cr){Mr*=n.uR,Cr*=n.uR;var jr=(0,n.O$)(Cr),Hr=(0,n.mC)(Cr),on=(0,n.Wn)(Mr-m),yn=(0,n.mC)(on),xn=(0,n.O$)(on),Rn=Hr*xn,_n=A*jr-v*Hr*yn,sa=v*jr+A*Hr*yn;f.add((0,n.fv)((0,n._b)(Rn*Rn+_n*_n),sa)),m=Mr,v=jr,A=Hr}function R(Mr){return f.reset(),(0,c.Z)(Mr,d),+f}var x=[null,null],E={type:"LineString",coordinates:x};function T(Mr,Cr){return x[0]=Mr,x[1]=Cr,R(E)}var i={Feature:function(Mr,Cr){return b(Mr.geometry,Cr)},FeatureCollection:function(Mr,Cr){for(var jr=Mr.features,Hr=-1,on=jr.length;++Hr<on;)if(b(jr[Hr].geometry,Cr))return!0;return!1}},D={Sphere:function(){return!0},Point:function(Mr,Cr){return O(Mr.coordinates,Cr)},MultiPoint:function(Mr,Cr){for(var jr=Mr.coordinates,Hr=-1,on=jr.length;++Hr<on;)if(O(jr[Hr],Cr))return!0;return!1},LineString:function(Mr,Cr){return F(Mr.coordinates,Cr)},MultiLineString:function(Mr,Cr){for(var jr=Mr.coordinates,Hr=-1,on=jr.length;++Hr<on;)if(F(jr[Hr],Cr))return!0;return!1},Polygon:function(Mr,Cr){return V(Mr.coordinates,Cr)},MultiPolygon:function(Mr,Cr){for(var jr=Mr.coordinates,Hr=-1,on=jr.length;++Hr<on;)if(V(jr[Hr],Cr))return!0;return!1},GeometryCollection:function(Mr,Cr){for(var jr=Mr.geometries,Hr=-1,on=jr.length;++Hr<on;)if(b(jr[Hr],Cr))return!0;return!1}};function b(Mr,Cr){return Mr&&D.hasOwnProperty(Mr.type)?D[Mr.type](Mr,Cr):!1}function O(Mr,Cr){return T(Mr,Cr)===0}function F(Mr,Cr){for(var jr,Hr,on,yn=0,xn=Mr.length;yn<xn;yn++){if(Hr=T(Mr[yn],Cr),Hr===0||yn>0&&(on=T(Mr[yn],Mr[yn-1]),on>0&&jr<=on&&Hr<=on&&(jr+Hr-on)*(1-Math.pow((jr-Hr)/on,2))<n.aW*on))return!0;jr=Hr}return!1}function V(Mr,Cr){return!!(0,r.Z)(Mr.map(_),U(Cr))}function _(Mr){return Mr=Mr.map(U),Mr.pop(),Mr}function U(Mr){return[Mr[0]*n.uR,Mr[1]*n.uR]}function H(Mr,Cr){return(Mr&&i.hasOwnProperty(Mr.type)?i[Mr.type]:b)(Mr,Cr)}var z=e(33064);function G(Mr,Cr,jr){var Hr=(0,z.w6)(Mr,Cr-n.Ho,jr).concat(Cr);return function(on){return Hr.map(function(yn){return[on,yn]})}}function Y(Mr,Cr,jr){var Hr=(0,z.w6)(Mr,Cr-n.Ho,jr).concat(Cr);return function(on){return Hr.map(function(yn){return[yn,on]})}}function J(){var Mr,Cr,jr,Hr,on,yn,xn,Rn,_n=10,sa=_n,Zn=90,qn=360,jn,Qn,Tr,ln,nn=2.5;function mn(){return{type:"MultiLineString",coordinates:Vn()}}function Vn(){return(0,z.w6)((0,n.mD)(Hr/Zn)*Zn,jr,Zn).map(Tr).concat((0,z.w6)((0,n.mD)(Rn/qn)*qn,xn,qn).map(ln)).concat((0,z.w6)((0,n.mD)(Cr/_n)*_n,Mr,_n).filter(function(En){return(0,n.Wn)(En%Zn)>n.Ho}).map(jn)).concat((0,z.w6)((0,n.mD)(yn/sa)*sa,on,sa).filter(function(En){return(0,n.Wn)(En%qn)>n.Ho}).map(Qn))}return mn.lines=function(){return Vn().map(function(En){return{type:"LineString",coordinates:En}})},mn.outline=function(){return{type:"Polygon",coordinates:[Tr(Hr).concat(ln(xn).slice(1),Tr(jr).reverse().slice(1),ln(Rn).reverse().slice(1))]}},mn.extent=function(En){return arguments.length?mn.extentMajor(En).extentMinor(En):mn.extentMinor()},mn.extentMajor=function(En){return arguments.length?(Hr=+En[0][0],jr=+En[1][0],Rn=+En[0][1],xn=+En[1][1],Hr>jr&&(En=Hr,Hr=jr,jr=En),Rn>xn&&(En=Rn,Rn=xn,xn=En),mn.precision(nn)):[[Hr,Rn],[jr,xn]]},mn.extentMinor=function(En){return arguments.length?(Cr=+En[0][0],Mr=+En[1][0],yn=+En[0][1],on=+En[1][1],Cr>Mr&&(En=Cr,Cr=Mr,Mr=En),yn>on&&(En=yn,yn=on,on=En),mn.precision(nn)):[[Cr,yn],[Mr,on]]},mn.step=function(En){return arguments.length?mn.stepMajor(En).stepMinor(En):mn.stepMinor()},mn.stepMajor=function(En){return arguments.length?(Zn=+En[0],qn=+En[1],mn):[Zn,qn]},mn.stepMinor=function(En){return arguments.length?(_n=+En[0],sa=+En[1],mn):[_n,sa]},mn.precision=function(En){return arguments.length?(nn=+En,jn=G(yn,on,90),Qn=Y(Cr,Mr,nn),Tr=G(Rn,xn,90),ln=Y(Hr,jr,nn),mn):nn},mn.extentMajor([[-180,-90+n.Ho],[180,90-n.Ho]]).extentMinor([[-180,-80-n.Ho],[180,80+n.Ho]])}function ae(){return J()()}var oe=e(83074),he=e(8593),q=(0,s.Z)(),Z=(0,s.Z)(),$,K,re,le,te={point:l.Z,lineStart:l.Z,lineEnd:l.Z,polygonStart:function(){te.lineStart=ee,te.lineEnd=ve},polygonEnd:function(){te.lineStart=te.lineEnd=te.point=l.Z,q.add((0,n.Wn)(Z)),Z.reset()},result:function(){var Mr=q/2;return q.reset(),Mr}};function ee(){te.point=ue}function ue(Mr,Cr){te.point=se,$=re=Mr,K=le=Cr}function se(Mr,Cr){Z.add(le*Mr-re*Cr),re=Mr,le=Cr}function ve(){se($,K)}var be=te,Ee=e(3559),Ae=0,Oe=0,Ue=0,Le=0,we=0,Ce=0,Ve=0,Ne=0,ke=0,We,rt,et,tt,at={point:ct,lineStart:dt,lineEnd:Ct,polygonStart:function(){at.lineStart=Vt,at.lineEnd=Je},polygonEnd:function(){at.point=ct,at.lineStart=dt,at.lineEnd=Ct},result:function(){var Mr=ke?[Ve/ke,Ne/ke]:Ce?[Le/Ce,we/Ce]:Ue?[Ae/Ue,Oe/Ue]:[NaN,NaN];return Ae=Oe=Ue=Le=we=Ce=Ve=Ne=ke=0,Mr}};function ct(Mr,Cr){Ae+=Mr,Oe+=Cr,++Ue}function dt(){at.point=gt}function gt(Mr,Cr){at.point=Et,ct(et=Mr,tt=Cr)}function Et(Mr,Cr){var jr=Mr-et,Hr=Cr-tt,on=(0,n._b)(jr*jr+Hr*Hr);Le+=on*(et+Mr)/2,we+=on*(tt+Cr)/2,Ce+=on,ct(et=Mr,tt=Cr)}function Ct(){at.point=ct}function Vt(){at.point=_e}function Je(){Fe(We,rt)}function _e(Mr,Cr){at.point=Fe,ct(We=et=Mr,rt=tt=Cr)}function Fe(Mr,Cr){var jr=Mr-et,Hr=Cr-tt,on=(0,n._b)(jr*jr+Hr*Hr);Le+=on*(et+Mr)/2,we+=on*(tt+Cr)/2,Ce+=on,on=tt*Mr-et*Cr,Ve+=on*(et+Mr),Ne+=on*(tt+Cr),ke+=on*3,ct(et=Mr,tt=Cr)}var Be=at;function De(Mr){this._context=Mr}De.prototype={_radius:4.5,pointRadius:function(Mr){return this._radius=Mr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Mr,Cr){switch(this._point){case 0:{this._context.moveTo(Mr,Cr),this._point=1;break}case 1:{this._context.lineTo(Mr,Cr);break}default:{this._context.moveTo(Mr+this._radius,Cr),this._context.arc(Mr,Cr,this._radius,0,n.BZ);break}}},result:l.Z};var Te=(0,s.Z)(),xe,Me,Pe,He,Ke,qe={point:l.Z,lineStart:function(){qe.point=vt},lineEnd:function(){xe&&bt(Me,Pe),qe.point=l.Z},polygonStart:function(){xe=!0},polygonEnd:function(){xe=null},result:function(){var Mr=+Te;return Te.reset(),Mr}};function vt(Mr,Cr){qe.point=bt,Me=He=Mr,Pe=Ke=Cr}function bt(Mr,Cr){He-=Mr,Ke-=Cr,Te.add((0,n._b)(He*He+Ke*Ke)),He=Mr,Ke=Cr}var Wt=qe;function qt(){this._string=[]}qt.prototype={_radius:4.5,_circle:At(4.5),pointRadius:function(Mr){return(Mr=+Mr)!==this._radius&&(this._radius=Mr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Mr,Cr){switch(this._point){case 0:{this._string.push("M",Mr,",",Cr),this._point=1;break}case 1:{this._string.push("L",Mr,",",Cr);break}default:{this._circle==null&&(this._circle=At(this._radius)),this._string.push("M",Mr,",",Cr,this._circle);break}}},result:function(){if(this._string.length){var Mr=this._string.join("");return this._string=[],Mr}else return null}};function At(Mr){return"m0,"+Mr+"a"+Mr+","+Mr+" 0 1,1 0,"+-2*Mr+"a"+Mr+","+Mr+" 0 1,1 0,"+2*Mr+"z"}function zt(Mr,Cr){var jr=4.5,Hr,on;function yn(xn){return xn&&(typeof jr=="function"&&on.pointRadius(+jr.apply(this,arguments)),(0,c.Z)(xn,Hr(on))),on.result()}return yn.area=function(xn){return(0,c.Z)(xn,Hr(be)),be.result()},yn.measure=function(xn){return(0,c.Z)(xn,Hr(Wt)),Wt.result()},yn.bounds=function(xn){return(0,c.Z)(xn,Hr(Ee.Z)),Ee.Z.result()},yn.centroid=function(xn){return(0,c.Z)(xn,Hr(Be)),Be.result()},yn.projection=function(xn){return arguments.length?(Hr=xn==null?(Mr=null,he.Z):(Mr=xn).stream,yn):Mr},yn.context=function(xn){return arguments.length?(on=xn==null?(Cr=null,new qt):new De(Cr=xn),typeof jr!="function"&&on.pointRadius(jr),yn):Cr},yn.pointRadius=function(xn){return arguments.length?(jr=typeof xn=="function"?xn:(on.pointRadius(+xn),+xn),yn):jr},yn.projection(Mr).context(Cr)}var Kt=e(15002);function Sr(Mr){var Cr=0,jr=n.pi/3,Hr=(0,Kt.r)(Mr),on=Hr(Cr,jr);return on.parallels=function(yn){return arguments.length?Hr(Cr=yn[0]*n.uR,jr=yn[1]*n.uR):[Cr*n.RW,jr*n.RW]},on}function yt(Mr){var Cr=(0,n.mC)(Mr);function jr(Hr,on){return[Hr*Cr,(0,n.O$)(on)/Cr]}return jr.invert=function(Hr,on){return[Hr/Cr,(0,n.ZR)(on*Cr)]},jr}function Zt(Mr,Cr){var jr=(0,n.O$)(Mr),Hr=(jr+(0,n.O$)(Cr))/2;if((0,n.Wn)(Hr)<n.Ho)return yt(Mr);var on=1+jr*(2*Hr-jr),yn=(0,n._b)(on)/Hr;function xn(Rn,_n){var sa=(0,n._b)(on-2*Hr*(0,n.O$)(_n))/Hr;return[sa*(0,n.O$)(Rn*=Hr),yn-sa*(0,n.mC)(Rn)]}return xn.invert=function(Rn,_n){var sa=yn-_n,Zn=(0,n.fv)(Rn,(0,n.Wn)(sa))*(0,n.Xx)(sa);return sa*Hr<0&&(Zn-=n.pi*(0,n.Xx)(Rn)*(0,n.Xx)(sa)),[Zn/Hr,(0,n.ZR)((on-(Rn*Rn+sa*sa)*Hr*Hr)/(2*Hr))]},xn}function $t(){return Sr(Zt).scale(155.424).center([0,33.6442])}function mr(){return $t().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ur=e(47589);function pt(Mr){var Cr=Mr.length;return{point:function(jr,Hr){for(var on=-1;++on<Cr;)Mr[on].point(jr,Hr)},sphere:function(){for(var jr=-1;++jr<Cr;)Mr[jr].sphere()},lineStart:function(){for(var jr=-1;++jr<Cr;)Mr[jr].lineStart()},lineEnd:function(){for(var jr=-1;++jr<Cr;)Mr[jr].lineEnd()},polygonStart:function(){for(var jr=-1;++jr<Cr;)Mr[jr].polygonStart()},polygonEnd:function(){for(var jr=-1;++jr<Cr;)Mr[jr].polygonEnd()}}}function st(){var Mr,Cr,jr=mr(),Hr,on=$t().rotate([154,0]).center([-2,58.5]).parallels([55,65]),yn,xn=$t().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Rn,_n,sa={point:function(jn,Qn){_n=[jn,Qn]}};function Zn(jn){var Qn=jn[0],Tr=jn[1];return _n=null,Hr.point(Qn,Tr),_n||(yn.point(Qn,Tr),_n)||(Rn.point(Qn,Tr),_n)}Zn.invert=function(jn){var Qn=jr.scale(),Tr=jr.translate(),ln=(jn[0]-Tr[0])/Qn,nn=(jn[1]-Tr[1])/Qn;return(nn>=.12&&nn<.234&&ln>=-.425&&ln<-.214?on:nn>=.166&&nn<.234&&ln>=-.214&&ln<-.115?xn:jr).invert(jn)},Zn.stream=function(jn){return Mr&&Cr===jn?Mr:Mr=pt([jr.stream(Cr=jn),on.stream(jn),xn.stream(jn)])},Zn.precision=function(jn){return arguments.length?(jr.precision(jn),on.precision(jn),xn.precision(jn),qn()):jr.precision()},Zn.scale=function(jn){return arguments.length?(jr.scale(jn),on.scale(jn*.35),xn.scale(jn),Zn.translate(jr.translate())):jr.scale()},Zn.translate=function(jn){if(!arguments.length)return jr.translate();var Qn=jr.scale(),Tr=+jn[0],ln=+jn[1];return Hr=jr.translate(jn).clipExtent([[Tr-.455*Qn,ln-.238*Qn],[Tr+.455*Qn,ln+.238*Qn]]).stream(sa),yn=on.translate([Tr-.307*Qn,ln+.201*Qn]).clipExtent([[Tr-.425*Qn+n.Ho,ln+.12*Qn+n.Ho],[Tr-.214*Qn-n.Ho,ln+.234*Qn-n.Ho]]).stream(sa),Rn=xn.translate([Tr-.205*Qn,ln+.212*Qn]).clipExtent([[Tr-.214*Qn+n.Ho,ln+.166*Qn+n.Ho],[Tr-.115*Qn-n.Ho,ln+.234*Qn-n.Ho]]).stream(sa),qn()},Zn.fitExtent=function(jn,Qn){return(0,ur.qg)(Zn,jn,Qn)},Zn.fitSize=function(jn,Qn){return(0,ur.mF)(Zn,jn,Qn)},Zn.fitWidth=function(jn,Qn){return(0,ur.V6)(Zn,jn,Qn)},Zn.fitHeight=function(jn,Qn){return(0,ur.rf)(Zn,jn,Qn)};function qn(){return Mr=Cr=null,Zn}return Zn.scale(1070)}var xt=e(12956),St=e(17889),Dt=e(49386);function Rt(Mr,Cr){return[Mr,(0,n.cM)((0,n.OR)((n.ou+Cr)/2))]}Rt.invert=function(Mr,Cr){return[Mr,2*(0,n.z4)((0,n.Qq)(Cr))-n.ou]};function Bt(){return Nt(Rt).scale(961/n.BZ)}function Nt(Mr){var Cr=(0,Kt.Z)(Mr),jr=Cr.center,Hr=Cr.scale,on=Cr.translate,yn=Cr.clipExtent,xn=null,Rn,_n,sa;Cr.scale=function(qn){return arguments.length?(Hr(qn),Zn()):Hr()},Cr.translate=function(qn){return arguments.length?(on(qn),Zn()):on()},Cr.center=function(qn){return arguments.length?(jr(qn),Zn()):jr()},Cr.clipExtent=function(qn){return arguments.length?(qn==null?xn=Rn=_n=sa=null:(xn=+qn[0][0],Rn=+qn[0][1],_n=+qn[1][0],sa=+qn[1][1]),Zn()):xn==null?null:[[xn,Rn],[_n,sa]]};function Zn(){var qn=n.pi*Hr(),jn=Cr((0,Dt.Z)(Cr.rotate()).invert([0,0]));return yn(xn==null?[[jn[0]-qn,jn[1]-qn],[jn[0]+qn,jn[1]+qn]]:Mr===Rt?[[Math.max(jn[0]-qn,xn),Rn],[Math.min(jn[0]+qn,_n),sa]]:[[xn,Math.max(jn[1]-qn,Rn)],[_n,Math.min(jn[1]+qn,sa)]])}return Zn()}function Xt(Mr){return(0,n.OR)((n.ou+Mr)/2)}function lr(Mr,Cr){var jr=(0,n.mC)(Mr),Hr=Mr===Cr?(0,n.O$)(Mr):(0,n.cM)(jr/(0,n.mC)(Cr))/(0,n.cM)(Xt(Cr)/Xt(Mr)),on=jr*(0,n.sQ)(Xt(Mr),Hr)/Hr;if(!Hr)return Rt;function yn(xn,Rn){on>0?Rn<-n.ou+n.Ho&&(Rn=-n.ou+n.Ho):Rn>n.ou-n.Ho&&(Rn=n.ou-n.Ho);var _n=on/(0,n.sQ)(Xt(Rn),Hr);return[_n*(0,n.O$)(Hr*xn),on-_n*(0,n.mC)(Hr*xn)]}return yn.invert=function(xn,Rn){var _n=on-Rn,sa=(0,n.Xx)(Hr)*(0,n._b)(xn*xn+_n*_n),Zn=(0,n.fv)(xn,(0,n.Wn)(_n))*(0,n.Xx)(_n);return _n*Hr<0&&(Zn-=n.pi*(0,n.Xx)(xn)*(0,n.Xx)(_n)),[Zn/Hr,2*(0,n.z4)((0,n.sQ)(on/sa,1/Hr))-n.ou]},yn}function sr(){return Sr(lr).scale(109.5).parallels([30,30])}var dr=e(97492);function Ye(Mr,Cr){var jr=(0,n.mC)(Mr),Hr=Mr===Cr?(0,n.O$)(Mr):(jr-(0,n.mC)(Cr))/(Cr-Mr),on=jr/Hr+Mr;if((0,n.Wn)(Hr)<n.Ho)return dr.k;function yn(xn,Rn){var _n=on-Rn,sa=Hr*xn;return[_n*(0,n.O$)(sa),on-_n*(0,n.mC)(sa)]}return yn.invert=function(xn,Rn){var _n=on-Rn,sa=(0,n.fv)(xn,(0,n.Wn)(_n))*(0,n.Xx)(_n);return _n*Hr<0&&(sa-=n.pi*(0,n.Xx)(xn)*(0,n.Xx)(_n)),[sa/Hr,on-(0,n.Xx)(Hr)*(0,n._b)(xn*xn+_n*_n)]},yn}function je(){return Sr(Ye).scale(131.154).center([0,13.9389])}var It=1.340264,kt=-.081106,jt=893e-6,tr=.003796,or=(0,n._b)(3)/2,rr=12;function _t(Mr,Cr){var jr=(0,n.ZR)(or*(0,n.O$)(Cr)),Hr=jr*jr,on=Hr*Hr*Hr;return[Mr*(0,n.mC)(jr)/(or*(It+3*kt*Hr+on*(7*jt+9*tr*Hr))),jr*(It+kt*Hr+on*(jt+tr*Hr))]}_t.invert=function(Mr,Cr){for(var jr=Cr,Hr=jr*jr,on=Hr*Hr*Hr,yn=0,xn,Rn,_n;yn<rr&&(Rn=jr*(It+kt*Hr+on*(jt+tr*Hr))-Cr,_n=It+3*kt*Hr+on*(7*jt+9*tr*Hr),jr-=xn=Rn/_n,Hr=jr*jr,on=Hr*Hr*Hr,!((0,n.Wn)(xn)<n.aW));++yn);return[or*Mr*(It+3*kt*Hr+on*(7*jt+9*tr*Hr))/(0,n.mC)(jr),(0,n.ZR)((0,n.O$)(jr)/or)]};function hr(){return(0,Kt.Z)(_t).scale(177.158)}var gr=e(98936),pr=e(64684);function vr(){var Mr=1,Cr=0,jr=0,Hr=1,on=1,yn=0,xn,Rn,_n=null,sa,Zn,qn,jn=1,Qn=1,Tr=(0,pr.l)({point:function(Cn,Nn){var ta=En([Cn,Nn]);this.stream.point(ta[0],ta[1])}}),ln=he.Z,nn,mn;function Vn(){return jn=Mr*Hr,Qn=Mr*on,nn=mn=null,En}function En(Cn){var Nn=Cn[0]*jn,ta=Cn[1]*Qn;if(yn){var wa=ta*xn-Nn*Rn;Nn=Nn*xn+ta*Rn,ta=wa}return[Nn+Cr,ta+jr]}return En.invert=function(Cn){var Nn=Cn[0]-Cr,ta=Cn[1]-jr;if(yn){var wa=ta*xn+Nn*Rn;Nn=Nn*xn-ta*Rn,ta=wa}return[Nn/jn,ta/Qn]},En.stream=function(Cn){return nn&&mn===Cn?nn:nn=Tr(ln(mn=Cn))},En.postclip=function(Cn){return arguments.length?(ln=Cn,_n=sa=Zn=qn=null,Vn()):ln},En.clipExtent=function(Cn){return arguments.length?(ln=Cn==null?(_n=sa=Zn=qn=null,he.Z):(0,g.Z)(_n=+Cn[0][0],sa=+Cn[0][1],Zn=+Cn[1][0],qn=+Cn[1][1]),Vn()):_n==null?null:[[_n,sa],[Zn,qn]]},En.scale=function(Cn){return arguments.length?(Mr=+Cn,Vn()):Mr},En.translate=function(Cn){return arguments.length?(Cr=+Cn[0],jr=+Cn[1],Vn()):[Cr,jr]},En.angle=function(Cn){return arguments.length?(yn=Cn%360*n.uR,Rn=(0,n.O$)(yn),xn=(0,n.mC)(yn),Vn()):yn*n.RW},En.reflectX=function(Cn){return arguments.length?(Hr=Cn?-1:1,Vn()):Hr<0},En.reflectY=function(Cn){return arguments.length?(on=Cn?-1:1,Vn()):on<0},En.fitExtent=function(Cn,Nn){return(0,ur.qg)(En,Cn,Nn)},En.fitSize=function(Cn,Nn){return(0,ur.mF)(En,Cn,Nn)},En.fitWidth=function(Cn,Nn){return(0,ur.V6)(En,Cn,Nn)},En.fitHeight=function(Cn,Nn){return(0,ur.rf)(En,Cn,Nn)},En}var Gr=e(26867),Fr=e(57962),_r=e(25382);function gn(Mr,Cr){var jr=(0,n.mC)(Cr),Hr=1+(0,n.mC)(Mr)*jr;return[jr*(0,n.O$)(Mr)/Hr,(0,n.O$)(Cr)/Hr]}gn.invert=(0,_r.O)(function(Mr){return 2*(0,n.z4)(Mr)});function tn(){return(0,Kt.Z)(gn).scale(250).clipAngle(142)}function Bn(Mr,Cr){return[(0,n.cM)((0,n.OR)((n.ou+Cr)/2)),-Mr]}Bn.invert=function(Mr,Cr){return[-Cr,2*(0,n.z4)((0,n.Qq)(Mr))-n.ou]};function An(){var Mr=Nt(Bn),Cr=Mr.center,jr=Mr.rotate;return Mr.center=function(Hr){return arguments.length?Cr([-Hr[1],Hr[0]]):(Hr=Cr(),[Hr[1],-Hr[0]])},Mr.rotate=function(Hr){return arguments.length?jr([Hr[0],Hr[1],Hr.length>2?Hr[2]+90:90]):(Hr=jr(),[Hr[0],Hr[1],Hr[2]-90])},jr([0,0,90]).scale(159.155)}},83074:function(B,N,e){e.d(N,{Z:function(){return L}});var p=e(39695);function L(a,C){var w=a[0]*p.uR,h=a[1]*p.uR,g=C[0]*p.uR,t=C[1]*p.uR,r=(0,p.mC)(h),s=(0,p.O$)(h),n=(0,p.mC)(t),l=(0,p.O$)(t),c=r*(0,p.mC)(w),f=r*(0,p.O$)(w),m=n*(0,p.mC)(g),v=n*(0,p.O$)(g),A=2*(0,p.ZR)((0,p._b)((0,p.Jy)(t-h)+r*n*(0,p.Jy)(g-w))),d=(0,p.O$)(A),u=A?function(y){var M=(0,p.O$)(y*=A)/d,S=(0,p.O$)(A-y)/d,R=S*c+M*m,x=S*f+M*v,E=S*s+M*l;return[(0,p.fv)(x,R)*p.RW,(0,p.fv)(E,(0,p._b)(R*R+x*x))*p.RW]}:function(){return[w*p.RW,h*p.RW]};return u.distance=A,u}},39695:function(B,N,e){e.d(N,{BZ:function(){return h},Ho:function(){return p},Jy:function(){return R},Kh:function(){return M},O$:function(){return A},OR:function(){return y},Qq:function(){return f},RW:function(){return g},Wn:function(){return r},Xx:function(){return d},ZR:function(){return S},_b:function(){return u},aW:function(){return L},cM:function(){return m},fv:function(){return n},mC:function(){return l},mD:function(){return c},ou:function(){return C},pi:function(){return a},pu:function(){return w},sQ:function(){return v},uR:function(){return t},z4:function(){return s}});var p=1e-6,L=1e-12,a=Math.PI,C=a/2,w=a/4,h=a*2,g=180/a,t=a/180,r=Math.abs,s=Math.atan,n=Math.atan2,l=Math.cos,c=Math.ceil,f=Math.exp,m=Math.log,v=Math.pow,A=Math.sin,d=Math.sign||function(x){return x>0?1:x<0?-1:0},u=Math.sqrt,y=Math.tan;function M(x){return x>1?0:x<-1?a:Math.acos(x)}function S(x){return x>1?C:x<-1?-C:Math.asin(x)}function R(x){return(x=A(x/2))*x}},73182:function(B,N,e){e.d(N,{Z:function(){return p}});function p(){}},3559:function(B,N,e){var p=e(73182),L=1/0,a=L,C=-L,w=C,h={point:g,lineStart:p.Z,lineEnd:p.Z,polygonStart:p.Z,polygonEnd:p.Z,result:function(){var t=[[L,a],[C,w]];return C=w=-(a=L=1/0),t}};function g(t,r){t<L&&(L=t),t>C&&(C=t),r<a&&(a=r),r>w&&(w=r)}N.Z=h},67108:function(B,N,e){e.d(N,{Z:function(){return L}});var p=e(39695);function L(a,C){return(0,p.Wn)(a[0]-C[0])<p.Ho&&(0,p.Wn)(a[1]-C[1])<p.Ho}},23071:function(B,N,e){e.d(N,{Z:function(){return h}});var p=e(33940),L=e(7620),a=e(39695),C=(0,p.Z)();function w(g){return(0,a.Wn)(g[0])<=a.pi?g[0]:(0,a.Xx)(g[0])*(((0,a.Wn)(g[0])+a.pi)%a.BZ-a.pi)}function h(g,t){var r=w(t),s=t[1],n=(0,a.O$)(s),l=[(0,a.O$)(r),-(0,a.mC)(r),0],c=0,f=0;C.reset(),n===1?s=a.ou+a.Ho:n===-1&&(s=-a.ou-a.Ho);for(var m=0,v=g.length;m<v;++m)if(d=(A=g[m]).length)for(var A,d,u=A[d-1],y=w(u),M=u[1]/2+a.pu,S=(0,a.O$)(M),R=(0,a.mC)(M),x=0;x<d;++x,y=T,S=D,R=b,u=E){var E=A[x],T=w(E),i=E[1]/2+a.pu,D=(0,a.O$)(i),b=(0,a.mC)(i),O=T-y,F=O>=0?1:-1,V=F*O,_=V>a.pi,U=S*D;if(C.add((0,a.fv)(U*F*(0,a.O$)(V),R*b+U*(0,a.mC)(V))),c+=_?O+F*a.BZ:O,_^y>=r^T>=r){var H=(0,L.T5)((0,L.Og)(u),(0,L.Og)(E));(0,L.iJ)(H);var z=(0,L.T5)(l,H);(0,L.iJ)(z);var G=(_^O>=0?-1:1)*(0,a.ZR)(z[2]);(s>G||s===G&&(H[0]||H[1]))&&(f+=_^O>=0?1:-1)}}return(c<-a.Ho||c<a.Ho&&C<-a.Ho)^f&1}},25382:function(B,N,e){e.d(N,{O:function(){return a},W:function(){return L}});var p=e(39695);function L(C){return function(w,h){var g=(0,p.mC)(w),t=(0,p.mC)(h),r=C(g*t);return[r*t*(0,p.O$)(w),r*(0,p.O$)(h)]}}function a(C){return function(w,h){var g=(0,p._b)(w*w+h*h),t=C(g),r=(0,p.O$)(t),s=(0,p.mC)(t);return[(0,p.fv)(w*r,g*s),(0,p.ZR)(g&&h*r/g)]}}},12956:function(B,N,e){e.d(N,{Z:function(){return w},l:function(){return C}});var p=e(39695),L=e(25382),a=e(15002),C=(0,L.W)(function(h){return(0,p._b)(2/(1+h))});C.invert=(0,L.O)(function(h){return 2*(0,p.ZR)(h/2)});function w(){return(0,a.Z)(C).scale(124.75).clipAngle(179.999)}},17889:function(B,N,e){e.d(N,{N:function(){return C},Z:function(){return w}});var p=e(39695),L=e(25382),a=e(15002),C=(0,L.W)(function(h){return(h=(0,p.Kh)(h))&&h/(0,p.O$)(h)});C.invert=(0,L.O)(function(h){return h});function w(){return(0,a.Z)(C).scale(79.4188).clipAngle(179.999)}},97492:function(B,N,e){e.d(N,{Z:function(){return a},k:function(){return L}});var p=e(15002);function L(C,w){return[C,w]}L.invert=L;function a(){return(0,p.Z)(L).scale(152.63)}},47589:function(B,N,e){e.d(N,{V6:function(){return h},mF:function(){return w},qg:function(){return C},rf:function(){return g}});var p=e(72736),L=e(3559);function a(t,r,s){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,p.Z)(s,t.stream(L.Z)),r(L.Z.result()),n!=null&&t.clipExtent(n),t}function C(t,r,s){return a(t,function(n){var l=r[1][0]-r[0][0],c=r[1][1]-r[0][1],f=Math.min(l/(n[1][0]-n[0][0]),c/(n[1][1]-n[0][1])),m=+r[0][0]+(l-f*(n[1][0]+n[0][0]))/2,v=+r[0][1]+(c-f*(n[1][1]+n[0][1]))/2;t.scale(150*f).translate([m,v])},s)}function w(t,r,s){return C(t,[[0,0],r],s)}function h(t,r,s){return a(t,function(n){var l=+r,c=l/(n[1][0]-n[0][0]),f=(l-c*(n[1][0]+n[0][0]))/2,m=-c*n[0][1];t.scale(150*c).translate([f,m])},s)}function g(t,r,s){return a(t,function(n){var l=+r,c=l/(n[1][1]-n[0][1]),f=-c*n[0][0],m=(l-c*(n[1][1]+n[0][1]))/2;t.scale(150*c).translate([f,m])},s)}},98936:function(B,N,e){e.d(N,{M:function(){return C},Z:function(){return w}});var p=e(39695),L=e(25382),a=e(15002);function C(h,g){var t=(0,p.mC)(g),r=(0,p.mC)(h)*t;return[t*(0,p.O$)(h)/r,(0,p.O$)(g)/r]}C.invert=(0,L.O)(p.z4);function w(){return(0,a.Z)(C).scale(144.049).clipAngle(60)}},15002:function(B,N,e){e.d(N,{Z:function(){return y},r:function(){return M}});var p=e(87070),L=e(1457),a=e(87605),C=e(96059),w=e(8593),h=e(39695),g=e(49386),t=e(64684),r=e(47589),s=e(7620),n=16,l=(0,h.mC)(30*h.uR);function c(S,R){return+R?m(S,R):f(S)}function f(S){return(0,t.l)({point:function(R,x){R=S(R,x),this.stream.point(R[0],R[1])}})}function m(S,R){function x(E,T,i,D,b,O,F,V,_,U,H,z,G,Y){var J=F-E,ae=V-T,oe=J*J+ae*ae;if(oe>4*R&&G--){var he=D+U,q=b+H,Z=O+z,$=(0,h._b)(he*he+q*q+Z*Z),K=(0,h.ZR)(Z/=$),re=(0,h.Wn)((0,h.Wn)(Z)-1)<h.Ho||(0,h.Wn)(i-_)<h.Ho?(i+_)/2:(0,h.fv)(q,he),le=S(re,K),te=le[0],ee=le[1],ue=te-E,se=ee-T,ve=ae*ue-J*se;(ve*ve/oe>R||(0,h.Wn)((J*ue+ae*se)/oe-.5)>.3||D*U+b*H+O*z<l)&&(x(E,T,i,D,b,O,te,ee,re,he/=$,q/=$,Z,G,Y),Y.point(te,ee),x(te,ee,re,he,q,Z,F,V,_,U,H,z,G,Y))}}return function(E){var T,i,D,b,O,F,V,_,U,H,z,G,Y={point:J,lineStart:ae,lineEnd:he,polygonStart:function(){E.polygonStart(),Y.lineStart=q},polygonEnd:function(){E.polygonEnd(),Y.lineStart=ae}};function J(K,re){K=S(K,re),E.point(K[0],K[1])}function ae(){_=NaN,Y.point=oe,E.lineStart()}function oe(K,re){var le=(0,s.Og)([K,re]),te=S(K,re);x(_,U,V,H,z,G,_=te[0],U=te[1],V=K,H=le[0],z=le[1],G=le[2],n,E),E.point(_,U)}function he(){Y.point=J,E.lineEnd()}function q(){ae(),Y.point=Z,Y.lineEnd=$}function Z(K,re){oe(T=K,re),i=_,D=U,b=H,O=z,F=G,Y.point=oe}function $(){x(_,U,V,H,z,G,i,D,T,b,O,F,n,E),Y.lineEnd=he,he()}return Y}}var v=(0,t.l)({point:function(S,R){this.stream.point(S*h.uR,R*h.uR)}});function A(S){return(0,t.l)({point:function(R,x){var E=S(R,x);return this.stream.point(E[0],E[1])}})}function d(S,R,x,E,T){function i(D,b){return D*=E,b*=T,[R+S*D,x-S*b]}return i.invert=function(D,b){return[(D-R)/S*E,(x-b)/S*T]},i}function u(S,R,x,E,T,i){var D=(0,h.mC)(i),b=(0,h.O$)(i),O=D*S,F=b*S,V=D/S,_=b/S,U=(b*x-D*R)/S,H=(b*R+D*x)/S;function z(G,Y){return G*=E,Y*=T,[O*G-F*Y+R,x-F*G-O*Y]}return z.invert=function(G,Y){return[E*(V*G-_*Y+U),T*(H-_*G-V*Y)]},z}function y(S){return M(function(){return S})()}function M(S){var R,x=150,E=480,T=250,i=0,D=0,b=0,O=0,F=0,V,_=0,U=1,H=1,z=null,G=p.Z,Y=null,J,ae,oe,he=w.Z,q=.5,Z,$,K,re,le;function te(ve){return K(ve[0]*h.uR,ve[1]*h.uR)}function ee(ve){return ve=K.invert(ve[0],ve[1]),ve&&[ve[0]*h.RW,ve[1]*h.RW]}te.stream=function(ve){return re&&le===ve?re:re=v(A(V)(G(Z(he(le=ve)))))},te.preclip=function(ve){return arguments.length?(G=ve,z=void 0,se()):G},te.postclip=function(ve){return arguments.length?(he=ve,Y=J=ae=oe=null,se()):he},te.clipAngle=function(ve){return arguments.length?(G=+ve?(0,L.Z)(z=ve*h.uR):(z=null,p.Z),se()):z*h.RW},te.clipExtent=function(ve){return arguments.length?(he=ve==null?(Y=J=ae=oe=null,w.Z):(0,a.Z)(Y=+ve[0][0],J=+ve[0][1],ae=+ve[1][0],oe=+ve[1][1]),se()):Y==null?null:[[Y,J],[ae,oe]]},te.scale=function(ve){return arguments.length?(x=+ve,ue()):x},te.translate=function(ve){return arguments.length?(E=+ve[0],T=+ve[1],ue()):[E,T]},te.center=function(ve){return arguments.length?(i=ve[0]%360*h.uR,D=ve[1]%360*h.uR,ue()):[i*h.RW,D*h.RW]},te.rotate=function(ve){return arguments.length?(b=ve[0]%360*h.uR,O=ve[1]%360*h.uR,F=ve.length>2?ve[2]%360*h.uR:0,ue()):[b*h.RW,O*h.RW,F*h.RW]},te.angle=function(ve){return arguments.length?(_=ve%360*h.uR,ue()):_*h.RW},te.reflectX=function(ve){return arguments.length?(U=ve?-1:1,ue()):U<0},te.reflectY=function(ve){return arguments.length?(H=ve?-1:1,ue()):H<0},te.precision=function(ve){return arguments.length?(Z=c($,q=ve*ve),se()):(0,h._b)(q)},te.fitExtent=function(ve,be){return(0,r.qg)(te,ve,be)},te.fitSize=function(ve,be){return(0,r.mF)(te,ve,be)},te.fitWidth=function(ve,be){return(0,r.V6)(te,ve,be)},te.fitHeight=function(ve,be){return(0,r.rf)(te,ve,be)};function ue(){var ve=u(x,0,0,U,H,_).apply(null,R(i,D)),be=(_?u:d)(x,E-ve[0],T-ve[1],U,H,_);return V=(0,g.I)(b,O,F),$=(0,C.Z)(R,be),K=(0,C.Z)(V,$),Z=c($,q),se()}function se(){return re=le=null,te}return function(){return R=S.apply(this,arguments),te.invert=R.invert&&ee,ue()}}},26867:function(B,N,e){e.d(N,{K:function(){return a},Z:function(){return C}});var p=e(15002),L=e(39695);function a(w,h){var g=h*h,t=g*g;return[w*(.8707-.131979*g+t*(-.013791+t*(.003971*g-.001529*t))),h*(1.007226+g*(.015085+t*(-.044475+.028874*g-.005916*t)))]}a.invert=function(w,h){var g=h,t=25,r;do{var s=g*g,n=s*s;g-=r=(g*(1.007226+s*(.015085+n*(-.044475+.028874*s-.005916*n)))-h)/(1.007226+s*(.045255+n*(-.311325+.259866*s-.06507600000000001*n)))}while((0,L.Wn)(r)>L.Ho&&--t>0);return[w/(.8707+(s=g*g)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),g]};function C(){return(0,p.Z)(a).scale(175.295)}},57962:function(B,N,e){e.d(N,{I:function(){return C},Z:function(){return w}});var p=e(39695),L=e(25382),a=e(15002);function C(h,g){return[(0,p.mC)(g)*(0,p.O$)(h),(0,p.O$)(g)]}C.invert=(0,L.O)(p.ZR);function w(){return(0,a.Z)(C).scale(249.5).clipAngle(90+p.Ho)}},49386:function(B,N,e){e.d(N,{I:function(){return C},Z:function(){return t}});var p=e(96059),L=e(39695);function a(r,s){return[(0,L.Wn)(r)>L.pi?r+Math.round(-r/L.BZ)*L.BZ:r,s]}a.invert=a;function C(r,s,n){return(r%=L.BZ)?s||n?(0,p.Z)(h(r),g(s,n)):h(r):s||n?g(s,n):a}function w(r){return function(s,n){return s+=r,[s>L.pi?s-L.BZ:s<-L.pi?s+L.BZ:s,n]}}function h(r){var s=w(r);return s.invert=w(-r),s}function g(r,s){var n=(0,L.mC)(r),l=(0,L.O$)(r),c=(0,L.mC)(s),f=(0,L.O$)(s);function m(v,A){var d=(0,L.mC)(A),u=(0,L.mC)(v)*d,y=(0,L.O$)(v)*d,M=(0,L.O$)(A),S=M*n+u*l;return[(0,L.fv)(y*c-S*f,u*n-M*l),(0,L.ZR)(S*c+y*f)]}return m.invert=function(v,A){var d=(0,L.mC)(A),u=(0,L.mC)(v)*d,y=(0,L.O$)(v)*d,M=(0,L.O$)(A),S=M*c-y*f;return[(0,L.fv)(y*c+M*f,u*n+S*l),(0,L.ZR)(S*n-u*l)]},m}function t(r){r=C(r[0]*L.uR,r[1]*L.uR,r.length>2?r[2]*L.uR:0);function s(n){return n=r(n[0]*L.uR,n[1]*L.uR),n[0]*=L.RW,n[1]*=L.RW,n}return s.invert=function(n){return n=r.invert(n[0]*L.uR,n[1]*L.uR),n[0]*=L.RW,n[1]*=L.RW,n},s}},72736:function(B,N,e){e.d(N,{Z:function(){return h}});function p(g,t){g&&a.hasOwnProperty(g.type)&&a[g.type](g,t)}var L={Feature:function(g,t){p(g.geometry,t)},FeatureCollection:function(g,t){for(var r=g.features,s=-1,n=r.length;++s<n;)p(r[s].geometry,t)}},a={Sphere:function(g,t){t.sphere()},Point:function(g,t){g=g.coordinates,t.point(g[0],g[1],g[2])},MultiPoint:function(g,t){for(var r=g.coordinates,s=-1,n=r.length;++s<n;)g=r[s],t.point(g[0],g[1],g[2])},LineString:function(g,t){C(g.coordinates,t,0)},MultiLineString:function(g,t){for(var r=g.coordinates,s=-1,n=r.length;++s<n;)C(r[s],t,0)},Polygon:function(g,t){w(g.coordinates,t)},MultiPolygon:function(g,t){for(var r=g.coordinates,s=-1,n=r.length;++s<n;)w(r[s],t)},GeometryCollection:function(g,t){for(var r=g.geometries,s=-1,n=r.length;++s<n;)p(r[s],t)}};function C(g,t,r){var s=-1,n=g.length-r,l;for(t.lineStart();++s<n;)l=g[s],t.point(l[0],l[1],l[2]);t.lineEnd()}function w(g,t){var r=-1,s=g.length;for(t.polygonStart();++r<s;)C(g[r],t,1);t.polygonEnd()}function h(g,t){g&&L.hasOwnProperty(g.type)?L[g.type](g,t):p(g,t)}},64684:function(B,N,e){e.d(N,{Z:function(){return p},l:function(){return L}});function p(C){return{stream:L(C)}}function L(C){return function(w){var h=new a;for(var g in C)h[g]=C[g];return h.stream=w,h}}function a(){}a.prototype={constructor:a,point:function(C,w){this.stream.point(C,w)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(B,N,e){e.r(N),e.d(N,{cluster:function(){return t},hierarchy:function(){return S},pack:function(){return ee},packEnclose:function(){return O},packSiblings:function(){return Z},partition:function(){return Ae},stratify:function(){return Ve},tree:function(){return dt},treemap:function(){return Je},treemapBinary:function(){return _e},treemapDice:function(){return Ee},treemapResquarify:function(){return Be},treemapSlice:function(){return gt},treemapSliceDice:function(){return Fe},treemapSquarify:function(){return Vt}});function p(De,Te){return De.parent===Te.parent?1:2}function L(De){return De.reduce(a,0)/De.length}function a(De,Te){return De+Te.x}function C(De){return 1+De.reduce(w,0)}function w(De,Te){return Math.max(De,Te.y)}function h(De){for(var Te;Te=De.children;)De=Te[0];return De}function g(De){for(var Te;Te=De.children;)De=Te[Te.length-1];return De}function t(){var De=p,Te=1,xe=1,Me=!1;function Pe(He){var Ke,qe=0;He.eachAfter(function(At){var zt=At.children;zt?(At.x=L(zt),At.y=C(zt)):(At.x=Ke?qe+=De(At,Ke):0,At.y=0,Ke=At)});var vt=h(He),bt=g(He),Wt=vt.x-De(vt,bt)/2,qt=bt.x+De(bt,vt)/2;return He.eachAfter(Me?function(At){At.x=(At.x-He.x)*Te,At.y=(He.y-At.y)*xe}:function(At){At.x=(At.x-Wt)/(qt-Wt)*Te,At.y=(1-(He.y?At.y/He.y:1))*xe})}return Pe.separation=function(He){return arguments.length?(De=He,Pe):De},Pe.size=function(He){return arguments.length?(Me=!1,Te=+He[0],xe=+He[1],Pe):Me?null:[Te,xe]},Pe.nodeSize=function(He){return arguments.length?(Me=!0,Te=+He[0],xe=+He[1],Pe):Me?[Te,xe]:null},Pe}function r(De){var Te=0,xe=De.children,Me=xe&&xe.length;if(!Me)Te=1;else for(;--Me>=0;)Te+=xe[Me].value;De.value=Te}function s(){return this.eachAfter(r)}function n(De){var Te=this,xe,Me=[Te],Pe,He,Ke;do for(xe=Me.reverse(),Me=[];Te=xe.pop();)if(De(Te),Pe=Te.children,Pe)for(He=0,Ke=Pe.length;He<Ke;++He)Me.push(Pe[He]);while(Me.length);return this}function l(De){for(var Te=this,xe=[Te],Me,Pe;Te=xe.pop();)if(De(Te),Me=Te.children,Me)for(Pe=Me.length-1;Pe>=0;--Pe)xe.push(Me[Pe]);return this}function c(De){for(var Te=this,xe=[Te],Me=[],Pe,He,Ke;Te=xe.pop();)if(Me.push(Te),Pe=Te.children,Pe)for(He=0,Ke=Pe.length;He<Ke;++He)xe.push(Pe[He]);for(;Te=Me.pop();)De(Te);return this}function f(De){return this.eachAfter(function(Te){for(var xe=+De(Te.data)||0,Me=Te.children,Pe=Me&&Me.length;--Pe>=0;)xe+=Me[Pe].value;Te.value=xe})}function m(De){return this.eachBefore(function(Te){Te.children&&Te.children.sort(De)})}function v(De){for(var Te=this,xe=A(Te,De),Me=[Te];Te!==xe;)Te=Te.parent,Me.push(Te);for(var Pe=Me.length;De!==xe;)Me.splice(Pe,0,De),De=De.parent;return Me}function A(De,Te){if(De===Te)return De;var xe=De.ancestors(),Me=Te.ancestors(),Pe=null;for(De=xe.pop(),Te=Me.pop();De===Te;)Pe=De,De=xe.pop(),Te=Me.pop();return Pe}function d(){for(var De=this,Te=[De];De=De.parent;)Te.push(De);return Te}function u(){var De=[];return this.each(function(Te){De.push(Te)}),De}function y(){var De=[];return this.eachBefore(function(Te){Te.children||De.push(Te)}),De}function M(){var De=this,Te=[];return De.each(function(xe){xe!==De&&Te.push({source:xe.parent,target:xe})}),Te}function S(De,Te){var xe=new i(De),Me=+De.value&&(xe.value=De.value),Pe,He=[xe],Ke,qe,vt,bt;for(Te==null&&(Te=x);Pe=He.pop();)if(Me&&(Pe.value=+Pe.data.value),(qe=Te(Pe.data))&&(bt=qe.length))for(Pe.children=new Array(bt),vt=bt-1;vt>=0;--vt)He.push(Ke=Pe.children[vt]=new i(qe[vt])),Ke.parent=Pe,Ke.depth=Pe.depth+1;return xe.eachBefore(T)}function R(){return S(this).eachBefore(E)}function x(De){return De.children}function E(De){De.data=De.data.data}function T(De){var Te=0;do De.height=Te;while((De=De.parent)&&De.height<++Te)}function i(De){this.data=De,this.depth=this.height=0,this.parent=null}i.prototype=S.prototype={constructor:i,count:s,each:n,eachAfter:c,eachBefore:l,sum:f,sort:m,path:v,ancestors:d,descendants:u,leaves:y,links:M,copy:R};var D=Array.prototype.slice;function b(De){for(var Te=De.length,xe,Me;Te;)Me=Math.random()*Te--|0,xe=De[Te],De[Te]=De[Me],De[Me]=xe;return De}function O(De){for(var Te=0,xe=(De=b(D.call(De))).length,Me=[],Pe,He;Te<xe;)Pe=De[Te],He&&_(He,Pe)?++Te:(He=H(Me=F(Me,Pe)),Te=0);return He}function F(De,Te){var xe,Me;if(U(Te,De))return[Te];for(xe=0;xe<De.length;++xe)if(V(Te,De[xe])&&U(G(De[xe],Te),De))return[De[xe],Te];for(xe=0;xe<De.length-1;++xe)for(Me=xe+1;Me<De.length;++Me)if(V(G(De[xe],De[Me]),Te)&&V(G(De[xe],Te),De[Me])&&V(G(De[Me],Te),De[xe])&&U(Y(De[xe],De[Me],Te),De))return[De[xe],De[Me],Te];throw new Error}function V(De,Te){var xe=De.r-Te.r,Me=Te.x-De.x,Pe=Te.y-De.y;return xe<0||xe*xe<Me*Me+Pe*Pe}function _(De,Te){var xe=De.r-Te.r+1e-6,Me=Te.x-De.x,Pe=Te.y-De.y;return xe>0&&xe*xe>Me*Me+Pe*Pe}function U(De,Te){for(var xe=0;xe<Te.length;++xe)if(!_(De,Te[xe]))return!1;return!0}function H(De){switch(De.length){case 1:return z(De[0]);case 2:return G(De[0],De[1]);case 3:return Y(De[0],De[1],De[2])}}function z(De){return{x:De.x,y:De.y,r:De.r}}function G(De,Te){var xe=De.x,Me=De.y,Pe=De.r,He=Te.x,Ke=Te.y,qe=Te.r,vt=He-xe,bt=Ke-Me,Wt=qe-Pe,qt=Math.sqrt(vt*vt+bt*bt);return{x:(xe+He+vt/qt*Wt)/2,y:(Me+Ke+bt/qt*Wt)/2,r:(qt+Pe+qe)/2}}function Y(De,Te,xe){var Me=De.x,Pe=De.y,He=De.r,Ke=Te.x,qe=Te.y,vt=Te.r,bt=xe.x,Wt=xe.y,qt=xe.r,At=Me-Ke,zt=Me-bt,Kt=Pe-qe,Sr=Pe-Wt,yt=vt-He,Zt=qt-He,$t=Me*Me+Pe*Pe-He*He,mr=$t-Ke*Ke-qe*qe+vt*vt,ur=$t-bt*bt-Wt*Wt+qt*qt,pt=zt*Kt-At*Sr,st=(Kt*ur-Sr*mr)/(pt*2)-Me,xt=(Sr*yt-Kt*Zt)/pt,St=(zt*mr-At*ur)/(pt*2)-Pe,Dt=(At*Zt-zt*yt)/pt,Rt=xt*xt+Dt*Dt-1,Bt=2*(He+st*xt+St*Dt),Nt=st*st+St*St-He*He,Xt=-(Rt?(Bt+Math.sqrt(Bt*Bt-4*Rt*Nt))/(2*Rt):Nt/Bt);return{x:Me+st+xt*Xt,y:Pe+St+Dt*Xt,r:Xt}}function J(De,Te,xe){var Me=De.x-Te.x,Pe,He,Ke=De.y-Te.y,qe,vt,bt=Me*Me+Ke*Ke;bt?(He=Te.r+xe.r,He*=He,vt=De.r+xe.r,vt*=vt,He>vt?(Pe=(bt+vt-He)/(2*bt),qe=Math.sqrt(Math.max(0,vt/bt-Pe*Pe)),xe.x=De.x-Pe*Me-qe*Ke,xe.y=De.y-Pe*Ke+qe*Me):(Pe=(bt+He-vt)/(2*bt),qe=Math.sqrt(Math.max(0,He/bt-Pe*Pe)),xe.x=Te.x+Pe*Me-qe*Ke,xe.y=Te.y+Pe*Ke+qe*Me)):(xe.x=Te.x+xe.r,xe.y=Te.y)}function ae(De,Te){var xe=De.r+Te.r-1e-6,Me=Te.x-De.x,Pe=Te.y-De.y;return xe>0&&xe*xe>Me*Me+Pe*Pe}function oe(De){var Te=De._,xe=De.next._,Me=Te.r+xe.r,Pe=(Te.x*xe.r+xe.x*Te.r)/Me,He=(Te.y*xe.r+xe.y*Te.r)/Me;return Pe*Pe+He*He}function he(De){this._=De,this.next=null,this.previous=null}function q(De){if(!(Pe=De.length))return 0;var Te,xe,Me,Pe,He,Ke,qe,vt,bt,Wt,qt;if(Te=De[0],Te.x=0,Te.y=0,!(Pe>1))return Te.r;if(xe=De[1],Te.x=-xe.r,xe.x=Te.r,xe.y=0,!(Pe>2))return Te.r+xe.r;J(xe,Te,Me=De[2]),Te=new he(Te),xe=new he(xe),Me=new he(Me),Te.next=Me.previous=xe,xe.next=Te.previous=Me,Me.next=xe.previous=Te;e:for(qe=3;qe<Pe;++qe){J(Te._,xe._,Me=De[qe]),Me=new he(Me),vt=xe.next,bt=Te.previous,Wt=xe._.r,qt=Te._.r;do if(Wt<=qt){if(ae(vt._,Me._)){xe=vt,Te.next=xe,xe.previous=Te,--qe;continue e}Wt+=vt._.r,vt=vt.next}else{if(ae(bt._,Me._)){Te=bt,Te.next=xe,xe.previous=Te,--qe;continue e}qt+=bt._.r,bt=bt.previous}while(vt!==bt.next);for(Me.previous=Te,Me.next=xe,Te.next=xe.previous=xe=Me,He=oe(Te);(Me=Me.next)!==xe;)(Ke=oe(Me))<He&&(Te=Me,He=Ke);xe=Te.next}for(Te=[xe._],Me=xe;(Me=Me.next)!==xe;)Te.push(Me._);for(Me=O(Te),qe=0;qe<Pe;++qe)Te=De[qe],Te.x-=Me.x,Te.y-=Me.y;return Me.r}function Z(De){return q(De),De}function $(De){return De==null?null:K(De)}function K(De){if(typeof De!="function")throw new Error;return De}function re(){return 0}function le(De){return function(){return De}}function te(De){return Math.sqrt(De.value)}function ee(){var De=null,Te=1,xe=1,Me=re;function Pe(He){return He.x=Te/2,He.y=xe/2,De?He.eachBefore(ue(De)).eachAfter(se(Me,.5)).eachBefore(ve(1)):He.eachBefore(ue(te)).eachAfter(se(re,1)).eachAfter(se(Me,He.r/Math.min(Te,xe))).eachBefore(ve(Math.min(Te,xe)/(2*He.r))),He}return Pe.radius=function(He){return arguments.length?(De=$(He),Pe):De},Pe.size=function(He){return arguments.length?(Te=+He[0],xe=+He[1],Pe):[Te,xe]},Pe.padding=function(He){return arguments.length?(Me=typeof He=="function"?He:le(+He),Pe):Me},Pe}function ue(De){return function(Te){Te.children||(Te.r=Math.max(0,+De(Te)||0))}}function se(De,Te){return function(xe){if(Me=xe.children){var Me,Pe,He=Me.length,Ke=De(xe)*Te||0,qe;if(Ke)for(Pe=0;Pe<He;++Pe)Me[Pe].r+=Ke;if(qe=q(Me),Ke)for(Pe=0;Pe<He;++Pe)Me[Pe].r-=Ke;xe.r=qe+Ke}}}function ve(De){return function(Te){var xe=Te.parent;Te.r*=De,xe&&(Te.x=xe.x+De*Te.x,Te.y=xe.y+De*Te.y)}}function be(De){De.x0=Math.round(De.x0),De.y0=Math.round(De.y0),De.x1=Math.round(De.x1),De.y1=Math.round(De.y1)}function Ee(De,Te,xe,Me,Pe){for(var He=De.children,Ke,qe=-1,vt=He.length,bt=De.value&&(Me-Te)/De.value;++qe<vt;)Ke=He[qe],Ke.y0=xe,Ke.y1=Pe,Ke.x0=Te,Ke.x1=Te+=Ke.value*bt}function Ae(){var De=1,Te=1,xe=0,Me=!1;function Pe(Ke){var qe=Ke.height+1;return Ke.x0=Ke.y0=xe,Ke.x1=De,Ke.y1=Te/qe,Ke.eachBefore(He(Te,qe)),Me&&Ke.eachBefore(be),Ke}function He(Ke,qe){return function(vt){vt.children&&Ee(vt,vt.x0,Ke*(vt.depth+1)/qe,vt.x1,Ke*(vt.depth+2)/qe);var bt=vt.x0,Wt=vt.y0,qt=vt.x1-xe,At=vt.y1-xe;qt<bt&&(bt=qt=(bt+qt)/2),At<Wt&&(Wt=At=(Wt+At)/2),vt.x0=bt,vt.y0=Wt,vt.x1=qt,vt.y1=At}}return Pe.round=function(Ke){return arguments.length?(Me=!!Ke,Pe):Me},Pe.size=function(Ke){return arguments.length?(De=+Ke[0],Te=+Ke[1],Pe):[De,Te]},Pe.padding=function(Ke){return arguments.length?(xe=+Ke,Pe):xe},Pe}var Oe="$",Ue={depth:-1},Le={};function we(De){return De.id}function Ce(De){return De.parentId}function Ve(){var De=we,Te=Ce;function xe(Me){var Pe,He,Ke=Me.length,qe,vt,bt,Wt=new Array(Ke),qt,At,zt={};for(He=0;He<Ke;++He)Pe=Me[He],bt=Wt[He]=new i(Pe),(qt=De(Pe,He,Me))!=null&&(qt+="")&&(At=Oe+(bt.id=qt),zt[At]=At in zt?Le:bt);for(He=0;He<Ke;++He)if(bt=Wt[He],qt=Te(Me[He],He,Me),qt==null||!(qt+="")){if(qe)throw new Error("multiple roots");qe=bt}else{if(vt=zt[Oe+qt],!vt)throw new Error("missing: "+qt);if(vt===Le)throw new Error("ambiguous: "+qt);vt.children?vt.children.push(bt):vt.children=[bt],bt.parent=vt}if(!qe)throw new Error("no root");if(qe.parent=Ue,qe.eachBefore(function(Kt){Kt.depth=Kt.parent.depth+1,--Ke}).eachBefore(T),qe.parent=null,Ke>0)throw new Error("cycle");return qe}return xe.id=function(Me){return arguments.length?(De=K(Me),xe):De},xe.parentId=function(Me){return arguments.length?(Te=K(Me),xe):Te},xe}function Ne(De,Te){return De.parent===Te.parent?1:2}function ke(De){var Te=De.children;return Te?Te[0]:De.t}function We(De){var Te=De.children;return Te?Te[Te.length-1]:De.t}function rt(De,Te,xe){var Me=xe/(Te.i-De.i);Te.c-=Me,Te.s+=xe,De.c+=Me,Te.z+=xe,Te.m+=xe}function et(De){for(var Te=0,xe=0,Me=De.children,Pe=Me.length,He;--Pe>=0;)He=Me[Pe],He.z+=Te,He.m+=Te,Te+=He.s+(xe+=He.c)}function tt(De,Te,xe){return De.a.parent===Te.parent?De.a:xe}function at(De,Te){this._=De,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Te}at.prototype=Object.create(i.prototype);function ct(De){for(var Te=new at(De,0),xe,Me=[Te],Pe,He,Ke,qe;xe=Me.pop();)if(He=xe._.children)for(xe.children=new Array(qe=He.length),Ke=qe-1;Ke>=0;--Ke)Me.push(Pe=xe.children[Ke]=new at(He[Ke],Ke)),Pe.parent=xe;return(Te.parent=new at(null,0)).children=[Te],Te}function dt(){var De=Ne,Te=1,xe=1,Me=null;function Pe(bt){var Wt=ct(bt);if(Wt.eachAfter(He),Wt.parent.m=-Wt.z,Wt.eachBefore(Ke),Me)bt.eachBefore(vt);else{var qt=bt,At=bt,zt=bt;bt.eachBefore(function($t){$t.x<qt.x&&(qt=$t),$t.x>At.x&&(At=$t),$t.depth>zt.depth&&(zt=$t)});var Kt=qt===At?1:De(qt,At)/2,Sr=Kt-qt.x,yt=Te/(At.x+Kt+Sr),Zt=xe/(zt.depth||1);bt.eachBefore(function($t){$t.x=($t.x+Sr)*yt,$t.y=$t.depth*Zt})}return bt}function He(bt){var Wt=bt.children,qt=bt.parent.children,At=bt.i?qt[bt.i-1]:null;if(Wt){et(bt);var zt=(Wt[0].z+Wt[Wt.length-1].z)/2;At?(bt.z=At.z+De(bt._,At._),bt.m=bt.z-zt):bt.z=zt}else At&&(bt.z=At.z+De(bt._,At._));bt.parent.A=qe(bt,At,bt.parent.A||qt[0])}function Ke(bt){bt._.x=bt.z+bt.parent.m,bt.m+=bt.parent.m}function qe(bt,Wt,qt){if(Wt){for(var At=bt,zt=bt,Kt=Wt,Sr=At.parent.children[0],yt=At.m,Zt=zt.m,$t=Kt.m,mr=Sr.m,ur;Kt=We(Kt),At=ke(At),Kt&&At;)Sr=ke(Sr),zt=We(zt),zt.a=bt,ur=Kt.z+$t-At.z-yt+De(Kt._,At._),ur>0&&(rt(tt(Kt,bt,qt),bt,ur),yt+=ur,Zt+=ur),$t+=Kt.m,yt+=At.m,mr+=Sr.m,Zt+=zt.m;Kt&&!We(zt)&&(zt.t=Kt,zt.m+=$t-Zt),At&&!ke(Sr)&&(Sr.t=At,Sr.m+=yt-mr,qt=bt)}return qt}function vt(bt){bt.x*=Te,bt.y=bt.depth*xe}return Pe.separation=function(bt){return arguments.length?(De=bt,Pe):De},Pe.size=function(bt){return arguments.length?(Me=!1,Te=+bt[0],xe=+bt[1],Pe):Me?null:[Te,xe]},Pe.nodeSize=function(bt){return arguments.length?(Me=!0,Te=+bt[0],xe=+bt[1],Pe):Me?[Te,xe]:null},Pe}function gt(De,Te,xe,Me,Pe){for(var He=De.children,Ke,qe=-1,vt=He.length,bt=De.value&&(Pe-xe)/De.value;++qe<vt;)Ke=He[qe],Ke.x0=Te,Ke.x1=Me,Ke.y0=xe,Ke.y1=xe+=Ke.value*bt}var Et=(1+Math.sqrt(5))/2;function Ct(De,Te,xe,Me,Pe,He){for(var Ke=[],qe=Te.children,vt,bt,Wt=0,qt=0,At=qe.length,zt,Kt,Sr=Te.value,yt,Zt,$t,mr,ur,pt,st;Wt<At;){zt=Pe-xe,Kt=He-Me;do yt=qe[qt++].value;while(!yt&&qt<At);for(Zt=$t=yt,pt=Math.max(Kt/zt,zt/Kt)/(Sr*De),st=yt*yt*pt,ur=Math.max($t/st,st/Zt);qt<At;++qt){if(yt+=bt=qe[qt].value,bt<Zt&&(Zt=bt),bt>$t&&($t=bt),st=yt*yt*pt,mr=Math.max($t/st,st/Zt),mr>ur){yt-=bt;break}ur=mr}Ke.push(vt={value:yt,dice:zt<Kt,children:qe.slice(Wt,qt)}),vt.dice?Ee(vt,xe,Me,Pe,Sr?Me+=Kt*yt/Sr:He):gt(vt,xe,Me,Sr?xe+=zt*yt/Sr:Pe,He),Sr-=yt,Wt=qt}return Ke}var Vt=function De(Te){function xe(Me,Pe,He,Ke,qe){Ct(Te,Me,Pe,He,Ke,qe)}return xe.ratio=function(Me){return De((Me=+Me)>1?Me:1)},xe}(Et);function Je(){var De=Vt,Te=!1,xe=1,Me=1,Pe=[0],He=re,Ke=re,qe=re,vt=re,bt=re;function Wt(At){return At.x0=At.y0=0,At.x1=xe,At.y1=Me,At.eachBefore(qt),Pe=[0],Te&&At.eachBefore(be),At}function qt(At){var zt=Pe[At.depth],Kt=At.x0+zt,Sr=At.y0+zt,yt=At.x1-zt,Zt=At.y1-zt;yt<Kt&&(Kt=yt=(Kt+yt)/2),Zt<Sr&&(Sr=Zt=(Sr+Zt)/2),At.x0=Kt,At.y0=Sr,At.x1=yt,At.y1=Zt,At.children&&(zt=Pe[At.depth+1]=He(At)/2,Kt+=bt(At)-zt,Sr+=Ke(At)-zt,yt-=qe(At)-zt,Zt-=vt(At)-zt,yt<Kt&&(Kt=yt=(Kt+yt)/2),Zt<Sr&&(Sr=Zt=(Sr+Zt)/2),De(At,Kt,Sr,yt,Zt))}return Wt.round=function(At){return arguments.length?(Te=!!At,Wt):Te},Wt.size=function(At){return arguments.length?(xe=+At[0],Me=+At[1],Wt):[xe,Me]},Wt.tile=function(At){return arguments.length?(De=K(At),Wt):De},Wt.padding=function(At){return arguments.length?Wt.paddingInner(At).paddingOuter(At):Wt.paddingInner()},Wt.paddingInner=function(At){return arguments.length?(He=typeof At=="function"?At:le(+At),Wt):He},Wt.paddingOuter=function(At){return arguments.length?Wt.paddingTop(At).paddingRight(At).paddingBottom(At).paddingLeft(At):Wt.paddingTop()},Wt.paddingTop=function(At){return arguments.length?(Ke=typeof At=="function"?At:le(+At),Wt):Ke},Wt.paddingRight=function(At){return arguments.length?(qe=typeof At=="function"?At:le(+At),Wt):qe},Wt.paddingBottom=function(At){return arguments.length?(vt=typeof At=="function"?At:le(+At),Wt):vt},Wt.paddingLeft=function(At){return arguments.length?(bt=typeof At=="function"?At:le(+At),Wt):bt},Wt}function _e(De,Te,xe,Me,Pe){var He=De.children,Ke,qe=He.length,vt,bt=new Array(qe+1);for(bt[0]=vt=Ke=0;Ke<qe;++Ke)bt[Ke+1]=vt+=He[Ke].value;Wt(0,qe,De.value,Te,xe,Me,Pe);function Wt(qt,At,zt,Kt,Sr,yt,Zt){if(qt>=At-1){var $t=He[qt];$t.x0=Kt,$t.y0=Sr,$t.x1=yt,$t.y1=Zt;return}for(var mr=bt[qt],ur=zt/2+mr,pt=qt+1,st=At-1;pt<st;){var xt=pt+st>>>1;bt[xt]<ur?pt=xt+1:st=xt}ur-bt[pt-1]<bt[pt]-ur&&qt+1<pt&&--pt;var St=bt[pt]-mr,Dt=zt-St;if(yt-Kt>Zt-Sr){var Rt=(Kt*Dt+yt*St)/zt;Wt(qt,pt,St,Kt,Sr,Rt,Zt),Wt(pt,At,Dt,Rt,Sr,yt,Zt)}else{var Bt=(Sr*Dt+Zt*St)/zt;Wt(qt,pt,St,Kt,Sr,yt,Bt),Wt(pt,At,Dt,Kt,Bt,yt,Zt)}}}function Fe(De,Te,xe,Me,Pe){(De.depth&1?gt:Ee)(De,Te,xe,Me,Pe)}var Be=function De(Te){function xe(Me,Pe,He,Ke,qe){if((vt=Me._squarify)&&vt.ratio===Te)for(var vt,bt,Wt,qt,At=-1,zt,Kt=vt.length,Sr=Me.value;++At<Kt;){for(bt=vt[At],Wt=bt.children,qt=bt.value=0,zt=Wt.length;qt<zt;++qt)bt.value+=Wt[qt].value;bt.dice?Ee(bt,Pe,He,Ke,He+=(qe-He)*bt.value/Sr):gt(bt,Pe,He,Pe+=(Ke-Pe)*bt.value/Sr,qe),Sr-=bt.value}else Me._squarify=vt=Ct(Te,Me,Pe,He,Ke,qe),vt.ratio=Te}return xe.ratio=function(Me){return De((Me=+Me)>1?Me:1)},xe}(Et)},45879:function(B,N,e){e.d(N,{h5:function(){return v}});var p=Math.PI,L=2*p,a=1e-6,C=L-a;function w(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function h(){return new w}w.prototype=h.prototype={constructor:w,moveTo:function(A,d){this._+="M"+(this._x0=this._x1=+A)+","+(this._y0=this._y1=+d)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(A,d){this._+="L"+(this._x1=+A)+","+(this._y1=+d)},quadraticCurveTo:function(A,d,u,y){this._+="Q"+ +A+","+ +d+","+(this._x1=+u)+","+(this._y1=+y)},bezierCurveTo:function(A,d,u,y,M,S){this._+="C"+ +A+","+ +d+","+ +u+","+ +y+","+(this._x1=+M)+","+(this._y1=+S)},arcTo:function(A,d,u,y,M){A=+A,d=+d,u=+u,y=+y,M=+M;var S=this._x1,R=this._y1,x=u-A,E=y-d,T=S-A,i=R-d,D=T*T+i*i;if(M<0)throw new Error("negative radius: "+M);if(this._x1===null)this._+="M"+(this._x1=A)+","+(this._y1=d);else if(D>a)if(!(Math.abs(i*x-E*T)>a)||!M)this._+="L"+(this._x1=A)+","+(this._y1=d);else{var b=u-S,O=y-R,F=x*x+E*E,V=b*b+O*O,_=Math.sqrt(F),U=Math.sqrt(D),H=M*Math.tan((p-Math.acos((F+D-V)/(2*_*U)))/2),z=H/U,G=H/_;Math.abs(z-1)>a&&(this._+="L"+(A+z*T)+","+(d+z*i)),this._+="A"+M+","+M+",0,0,"+ +(i*b>T*O)+","+(this._x1=A+G*x)+","+(this._y1=d+G*E)}},arc:function(A,d,u,y,M,S){A=+A,d=+d,u=+u,S=!!S;var R=u*Math.cos(y),x=u*Math.sin(y),E=A+R,T=d+x,i=1^S,D=S?y-M:M-y;if(u<0)throw new Error("negative radius: "+u);this._x1===null?this._+="M"+E+","+T:(Math.abs(this._x1-E)>a||Math.abs(this._y1-T)>a)&&(this._+="L"+E+","+T),u&&(D<0&&(D=D%L+L),D>C?this._+="A"+u+","+u+",0,1,"+i+","+(A-R)+","+(d-x)+"A"+u+","+u+",0,1,"+i+","+(this._x1=E)+","+(this._y1=T):D>a&&(this._+="A"+u+","+u+",0,"+ +(D>=p)+","+i+","+(this._x1=A+u*Math.cos(M))+","+(this._y1=d+u*Math.sin(M))))},rect:function(A,d,u,y){this._+="M"+(this._x0=this._x1=+A)+","+(this._y0=this._y1=+d)+"h"+ +u+"v"+ +y+"h"+-u+"Z"},toString:function(){return this._}};var g=h,t=Array.prototype.slice;function r(A){return function(){return A}}function s(A){return A[0]}function n(A){return A[1]}function l(A){return A.source}function c(A){return A.target}function f(A){var d=l,u=c,y=s,M=n,S=null;function R(){var x,E=t.call(arguments),T=d.apply(this,E),i=u.apply(this,E);if(S||(S=x=g()),A(S,+y.apply(this,(E[0]=T,E)),+M.apply(this,E),+y.apply(this,(E[0]=i,E)),+M.apply(this,E)),x)return S=null,x+""||null}return R.source=function(x){return arguments.length?(d=x,R):d},R.target=function(x){return arguments.length?(u=x,R):u},R.x=function(x){return arguments.length?(y=typeof x=="function"?x:r(+x),R):y},R.y=function(x){return arguments.length?(M=typeof x=="function"?x:r(+x),R):M},R.context=function(x){return arguments.length?(S=x??null,R):S},R}function m(A,d,u,y,M){A.moveTo(d,u),A.bezierCurveTo(d=(d+y)/2,u,d,M,y,M)}function v(){return f(m)}},84096:function(B,N,e){e.d(N,{i$:function(){return _e},Dq:function(){return s},g0:function(){return Fe}});var p=e(58176),L=e(48480),a=e(59879),C=e(82301),w=e(34823),h=e(79791);function g(De){if(0<=De.y&&De.y<100){var Te=new Date(-1,De.m,De.d,De.H,De.M,De.S,De.L);return Te.setFullYear(De.y),Te}return new Date(De.y,De.m,De.d,De.H,De.M,De.S,De.L)}function t(De){if(0<=De.y&&De.y<100){var Te=new Date(Date.UTC(-1,De.m,De.d,De.H,De.M,De.S,De.L));return Te.setUTCFullYear(De.y),Te}return new Date(Date.UTC(De.y,De.m,De.d,De.H,De.M,De.S,De.L))}function r(De,Te,xe){return{y:De,m:Te,d:xe,H:0,M:0,S:0,L:0}}function s(De){var Te=De.dateTime,xe=De.date,Me=De.time,Pe=De.periods,He=De.days,Ke=De.shortDays,qe=De.months,vt=De.shortMonths,bt=A(Pe),Wt=d(Pe),qt=A(He),At=d(He),zt=A(Ke),Kt=d(Ke),Sr=A(qe),yt=d(qe),Zt=A(vt),$t=d(vt),mr={a:Ye,A:je,b:It,B:kt,c:null,d:J,e:J,f:Z,H:ae,I:oe,j:he,L:q,m:$,M:K,p:jt,q:tr,Q:Ct,s:Vt,S:re,u:le,U:te,V:ee,w:ue,W:se,x:null,X:null,y:ve,Y:be,Z:Ee,"%":Et},ur={a:or,A:rr,b:_t,B:hr,c:null,d:Ae,e:Ae,f:Ce,H:Oe,I:Ue,j:Le,L:we,m:Ve,M:Ne,p:gr,q:pr,Q:Ct,s:Vt,S:ke,u:We,U:rt,V:et,w:tt,W:at,x:null,X:null,y:ct,Y:dt,Z:gt,"%":Et},pt={a:Rt,A:Bt,b:Nt,B:Xt,c:lr,d:b,e:b,f:H,H:F,I:F,j:O,L:U,m:D,M:V,p:Dt,q:i,Q:G,s:Y,S:_,u:y,U:M,V:S,w:u,W:R,x:sr,X:dr,y:E,Y:x,Z:T,"%":z};mr.x=st(xe,mr),mr.X=st(Me,mr),mr.c=st(Te,mr),ur.x=st(xe,ur),ur.X=st(Me,ur),ur.c=st(Te,ur);function st(vr,Gr){return function(Fr){var _r=[],gn=-1,tn=0,Bn=vr.length,An,Mr,Cr;for(Fr instanceof Date||(Fr=new Date(+Fr));++gn<Bn;)vr.charCodeAt(gn)===37&&(_r.push(vr.slice(tn,gn)),(Mr=n[An=vr.charAt(++gn)])!=null?An=vr.charAt(++gn):Mr=An==="e"?" ":"0",(Cr=Gr[An])&&(An=Cr(Fr,Mr)),_r.push(An),tn=gn+1);return _r.push(vr.slice(tn,gn)),_r.join("")}}function xt(vr,Gr){return function(Fr){var _r=r(1900,void 0,1),gn=St(_r,vr,Fr+="",0),tn,Bn;if(gn!=Fr.length)return null;if("Q"in _r)return new Date(_r.Q);if("s"in _r)return new Date(_r.s*1e3+("L"in _r?_r.L:0));if(Gr&&!("Z"in _r)&&(_r.Z=0),"p"in _r&&(_r.H=_r.H%12+_r.p*12),_r.m===void 0&&(_r.m="q"in _r?_r.q:0),"V"in _r){if(_r.V<1||_r.V>53)return null;"w"in _r||(_r.w=1),"Z"in _r?(tn=t(r(_r.y,0,1)),Bn=tn.getUTCDay(),tn=Bn>4||Bn===0?p.l6.ceil(tn):(0,p.l6)(tn),tn=L.Z.offset(tn,(_r.V-1)*7),_r.y=tn.getUTCFullYear(),_r.m=tn.getUTCMonth(),_r.d=tn.getUTCDate()+(_r.w+6)%7):(tn=g(r(_r.y,0,1)),Bn=tn.getDay(),tn=Bn>4||Bn===0?a.wA.ceil(tn):(0,a.wA)(tn),tn=C.Z.offset(tn,(_r.V-1)*7),_r.y=tn.getFullYear(),_r.m=tn.getMonth(),_r.d=tn.getDate()+(_r.w+6)%7)}else("W"in _r||"U"in _r)&&("w"in _r||(_r.w="u"in _r?_r.u%7:"W"in _r?1:0),Bn="Z"in _r?t(r(_r.y,0,1)).getUTCDay():g(r(_r.y,0,1)).getDay(),_r.m=0,_r.d="W"in _r?(_r.w+6)%7+_r.W*7-(Bn+5)%7:_r.w+_r.U*7-(Bn+6)%7);return"Z"in _r?(_r.H+=_r.Z/100|0,_r.M+=_r.Z%100,t(_r)):g(_r)}}function St(vr,Gr,Fr,_r){for(var gn=0,tn=Gr.length,Bn=Fr.length,An,Mr;gn<tn;){if(_r>=Bn)return-1;if(An=Gr.charCodeAt(gn++),An===37){if(An=Gr.charAt(gn++),Mr=pt[An in n?Gr.charAt(gn++):An],!Mr||(_r=Mr(vr,Fr,_r))<0)return-1}else if(An!=Fr.charCodeAt(_r++))return-1}return _r}function Dt(vr,Gr,Fr){var _r=bt.exec(Gr.slice(Fr));return _r?(vr.p=Wt[_r[0].toLowerCase()],Fr+_r[0].length):-1}function Rt(vr,Gr,Fr){var _r=zt.exec(Gr.slice(Fr));return _r?(vr.w=Kt[_r[0].toLowerCase()],Fr+_r[0].length):-1}function Bt(vr,Gr,Fr){var _r=qt.exec(Gr.slice(Fr));return _r?(vr.w=At[_r[0].toLowerCase()],Fr+_r[0].length):-1}function Nt(vr,Gr,Fr){var _r=Zt.exec(Gr.slice(Fr));return _r?(vr.m=$t[_r[0].toLowerCase()],Fr+_r[0].length):-1}function Xt(vr,Gr,Fr){var _r=Sr.exec(Gr.slice(Fr));return _r?(vr.m=yt[_r[0].toLowerCase()],Fr+_r[0].length):-1}function lr(vr,Gr,Fr){return St(vr,Te,Gr,Fr)}function sr(vr,Gr,Fr){return St(vr,xe,Gr,Fr)}function dr(vr,Gr,Fr){return St(vr,Me,Gr,Fr)}function Ye(vr){return Ke[vr.getDay()]}function je(vr){return He[vr.getDay()]}function It(vr){return vt[vr.getMonth()]}function kt(vr){return qe[vr.getMonth()]}function jt(vr){return Pe[+(vr.getHours()>=12)]}function tr(vr){return 1+~~(vr.getMonth()/3)}function or(vr){return Ke[vr.getUTCDay()]}function rr(vr){return He[vr.getUTCDay()]}function _t(vr){return vt[vr.getUTCMonth()]}function hr(vr){return qe[vr.getUTCMonth()]}function gr(vr){return Pe[+(vr.getUTCHours()>=12)]}function pr(vr){return 1+~~(vr.getUTCMonth()/3)}return{format:function(vr){var Gr=st(vr+="",mr);return Gr.toString=function(){return vr},Gr},parse:function(vr){var Gr=xt(vr+="",!1);return Gr.toString=function(){return vr},Gr},utcFormat:function(vr){var Gr=st(vr+="",ur);return Gr.toString=function(){return vr},Gr},utcParse:function(vr){var Gr=xt(vr+="",!0);return Gr.toString=function(){return vr},Gr}}}var n={"-":"",_:" ",0:"0"},l=/^\s*\d+/,c=/^%/,f=/[\\^$*+?|[\]().{}]/g;function m(De,Te,xe){var Me=De<0?"-":"",Pe=(Me?-De:De)+"",He=Pe.length;return Me+(He<xe?new Array(xe-He+1).join(Te)+Pe:Pe)}function v(De){return De.replace(f,"\\$&")}function A(De){return new RegExp("^(?:"+De.map(v).join("|")+")","i")}function d(De){for(var Te={},xe=-1,Me=De.length;++xe<Me;)Te[De[xe].toLowerCase()]=xe;return Te}function u(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+1));return Me?(De.w=+Me[0],xe+Me[0].length):-1}function y(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+1));return Me?(De.u=+Me[0],xe+Me[0].length):-1}function M(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+2));return Me?(De.U=+Me[0],xe+Me[0].length):-1}function S(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+2));return Me?(De.V=+Me[0],xe+Me[0].length):-1}function R(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+2));return Me?(De.W=+Me[0],xe+Me[0].length):-1}function x(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+4));return Me?(De.y=+Me[0],xe+Me[0].length):-1}function E(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+2));return Me?(De.y=+Me[0]+(+Me[0]>68?1900:2e3),xe+Me[0].length):-1}function T(De,Te,xe){var Me=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Te.slice(xe,xe+6));return Me?(De.Z=Me[1]?0:-(Me[2]+(Me[3]||"00")),xe+Me[0].length):-1}function i(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+1));return Me?(De.q=Me[0]*3-3,xe+Me[0].length):-1}function D(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+2));return Me?(De.m=Me[0]-1,xe+Me[0].length):-1}function b(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+2));return Me?(De.d=+Me[0],xe+Me[0].length):-1}function O(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+3));return Me?(De.m=0,De.d=+Me[0],xe+Me[0].length):-1}function F(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+2));return Me?(De.H=+Me[0],xe+Me[0].length):-1}function V(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+2));return Me?(De.M=+Me[0],xe+Me[0].length):-1}function _(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+2));return Me?(De.S=+Me[0],xe+Me[0].length):-1}function U(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+3));return Me?(De.L=+Me[0],xe+Me[0].length):-1}function H(De,Te,xe){var Me=l.exec(Te.slice(xe,xe+6));return Me?(De.L=Math.floor(Me[0]/1e3),xe+Me[0].length):-1}function z(De,Te,xe){var Me=c.exec(Te.slice(xe,xe+1));return Me?xe+Me[0].length:-1}function G(De,Te,xe){var Me=l.exec(Te.slice(xe));return Me?(De.Q=+Me[0],xe+Me[0].length):-1}function Y(De,Te,xe){var Me=l.exec(Te.slice(xe));return Me?(De.s=+Me[0],xe+Me[0].length):-1}function J(De,Te){return m(De.getDate(),Te,2)}function ae(De,Te){return m(De.getHours(),Te,2)}function oe(De,Te){return m(De.getHours()%12||12,Te,2)}function he(De,Te){return m(1+C.Z.count((0,w.Z)(De),De),Te,3)}function q(De,Te){return m(De.getMilliseconds(),Te,3)}function Z(De,Te){return q(De,Te)+"000"}function $(De,Te){return m(De.getMonth()+1,Te,2)}function K(De,Te){return m(De.getMinutes(),Te,2)}function re(De,Te){return m(De.getSeconds(),Te,2)}function le(De){var Te=De.getDay();return Te===0?7:Te}function te(De,Te){return m(a.OM.count((0,w.Z)(De)-1,De),Te,2)}function ee(De,Te){var xe=De.getDay();return De=xe>=4||xe===0?(0,a.bL)(De):a.bL.ceil(De),m(a.bL.count((0,w.Z)(De),De)+((0,w.Z)(De).getDay()===4),Te,2)}function ue(De){return De.getDay()}function se(De,Te){return m(a.wA.count((0,w.Z)(De)-1,De),Te,2)}function ve(De,Te){return m(De.getFullYear()%100,Te,2)}function be(De,Te){return m(De.getFullYear()%1e4,Te,4)}function Ee(De){var Te=De.getTimezoneOffset();return(Te>0?"-":(Te*=-1,"+"))+m(Te/60|0,"0",2)+m(Te%60,"0",2)}function Ae(De,Te){return m(De.getUTCDate(),Te,2)}function Oe(De,Te){return m(De.getUTCHours(),Te,2)}function Ue(De,Te){return m(De.getUTCHours()%12||12,Te,2)}function Le(De,Te){return m(1+L.Z.count((0,h.Z)(De),De),Te,3)}function we(De,Te){return m(De.getUTCMilliseconds(),Te,3)}function Ce(De,Te){return we(De,Te)+"000"}function Ve(De,Te){return m(De.getUTCMonth()+1,Te,2)}function Ne(De,Te){return m(De.getUTCMinutes(),Te,2)}function ke(De,Te){return m(De.getUTCSeconds(),Te,2)}function We(De){var Te=De.getUTCDay();return Te===0?7:Te}function rt(De,Te){return m(p.Ox.count((0,h.Z)(De)-1,De),Te,2)}function et(De,Te){var xe=De.getUTCDay();return De=xe>=4||xe===0?(0,p.hB)(De):p.hB.ceil(De),m(p.hB.count((0,h.Z)(De),De)+((0,h.Z)(De).getUTCDay()===4),Te,2)}function tt(De){return De.getUTCDay()}function at(De,Te){return m(p.l6.count((0,h.Z)(De)-1,De),Te,2)}function ct(De,Te){return m(De.getUTCFullYear()%100,Te,2)}function dt(De,Te){return m(De.getUTCFullYear()%1e4,Te,4)}function gt(){return"+0000"}function Et(){return"%"}function Ct(De){return+De}function Vt(De){return Math.floor(+De/1e3)}var Je,_e,Fe;Be({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Be(De){return Je=s(De),_e=Je.format,Je.parse,Fe=Je.utcFormat,Je.utcParse,Je}},82301:function(B,N,e){e.d(N,{a:function(){return C}});var p=e(30052),L=e(54263),a=(0,p.Z)(function(w){w.setHours(0,0,0,0)},function(w,h){w.setDate(w.getDate()+h)},function(w,h){return(h-w-(h.getTimezoneOffset()-w.getTimezoneOffset())*L.yB)/L.UD},function(w){return w.getDate()-1});N.Z=a;var C=a.range},54263:function(B,N,e){e.d(N,{UD:function(){return C},Y2:function(){return a},Ym:function(){return p},iM:function(){return w},yB:function(){return L}});var p=1e3,L=6e4,a=36e5,C=864e5,w=6048e5},81041:function(B,N,e){e.r(N),e.d(N,{timeDay:function(){return m.Z},timeDays:function(){return m.a},timeFriday:function(){return v.mC},timeFridays:function(){return v.b$},timeHour:function(){return c},timeHours:function(){return f},timeInterval:function(){return p.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return C},timeMinute:function(){return s},timeMinutes:function(){return n},timeMonday:function(){return v.wA},timeMondays:function(){return v.bJ},timeMonth:function(){return d},timeMonths:function(){return u},timeSaturday:function(){return v.EY},timeSaturdays:function(){return v.Ff},timeSecond:function(){return g},timeSeconds:function(){return t},timeSunday:function(){return v.OM},timeSundays:function(){return v.vm},timeThursday:function(){return v.bL},timeThursdays:function(){return v.$t},timeTuesday:function(){return v.sy},timeTuesdays:function(){return v.aU},timeWednesday:function(){return v.zg},timeWednesdays:function(){return v.Ld},timeWeek:function(){return v.OM},timeWeeks:function(){return v.vm},timeYear:function(){return y.Z},timeYears:function(){return y.g},utcDay:function(){return i.Z},utcDays:function(){return i.y},utcFriday:function(){return D.QQ},utcFridays:function(){return D.fz},utcHour:function(){return E},utcHours:function(){return T},utcMillisecond:function(){return a},utcMilliseconds:function(){return C},utcMinute:function(){return S},utcMinutes:function(){return R},utcMonday:function(){return D.l6},utcMondays:function(){return D.$3},utcMonth:function(){return O},utcMonths:function(){return F},utcSaturday:function(){return D.g4},utcSaturdays:function(){return D.Q_},utcSecond:function(){return g},utcSeconds:function(){return t},utcSunday:function(){return D.Ox},utcSundays:function(){return D.SU},utcThursday:function(){return D.hB},utcThursdays:function(){return D.xj},utcTuesday:function(){return D.J1},utcTuesdays:function(){return D.DK},utcWednesday:function(){return D.b3},utcWednesdays:function(){return D.uy},utcWeek:function(){return D.Ox},utcWeeks:function(){return D.SU},utcYear:function(){return V.Z},utcYears:function(){return V.D}});var p=e(30052),L=(0,p.Z)(function(){},function(_,U){_.setTime(+_+U)},function(_,U){return U-_});L.every=function(_){return _=Math.floor(_),!isFinite(_)||!(_>0)?null:_>1?(0,p.Z)(function(U){U.setTime(Math.floor(U/_)*_)},function(U,H){U.setTime(+U+H*_)},function(U,H){return(H-U)/_}):L};var a=L,C=L.range,w=e(54263),h=(0,p.Z)(function(_){_.setTime(_-_.getMilliseconds())},function(_,U){_.setTime(+_+U*w.Ym)},function(_,U){return(U-_)/w.Ym},function(_){return _.getUTCSeconds()}),g=h,t=h.range,r=(0,p.Z)(function(_){_.setTime(_-_.getMilliseconds()-_.getSeconds()*w.Ym)},function(_,U){_.setTime(+_+U*w.yB)},function(_,U){return(U-_)/w.yB},function(_){return _.getMinutes()}),s=r,n=r.range,l=(0,p.Z)(function(_){_.setTime(_-_.getMilliseconds()-_.getSeconds()*w.Ym-_.getMinutes()*w.yB)},function(_,U){_.setTime(+_+U*w.Y2)},function(_,U){return(U-_)/w.Y2},function(_){return _.getHours()}),c=l,f=l.range,m=e(82301),v=e(59879),A=(0,p.Z)(function(_){_.setDate(1),_.setHours(0,0,0,0)},function(_,U){_.setMonth(_.getMonth()+U)},function(_,U){return U.getMonth()-_.getMonth()+(U.getFullYear()-_.getFullYear())*12},function(_){return _.getMonth()}),d=A,u=A.range,y=e(34823),M=(0,p.Z)(function(_){_.setUTCSeconds(0,0)},function(_,U){_.setTime(+_+U*w.yB)},function(_,U){return(U-_)/w.yB},function(_){return _.getUTCMinutes()}),S=M,R=M.range,x=(0,p.Z)(function(_){_.setUTCMinutes(0,0,0)},function(_,U){_.setTime(+_+U*w.Y2)},function(_,U){return(U-_)/w.Y2},function(_){return _.getUTCHours()}),E=x,T=x.range,i=e(48480),D=e(58176),b=(0,p.Z)(function(_){_.setUTCDate(1),_.setUTCHours(0,0,0,0)},function(_,U){_.setUTCMonth(_.getUTCMonth()+U)},function(_,U){return U.getUTCMonth()-_.getUTCMonth()+(U.getUTCFullYear()-_.getUTCFullYear())*12},function(_){return _.getUTCMonth()}),O=b,F=b.range,V=e(79791)},30052:function(B,N,e){e.d(N,{Z:function(){return a}});var p=new Date,L=new Date;function a(C,w,h,g){function t(r){return C(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return C(r=new Date(+r)),r},t.ceil=function(r){return C(r=new Date(r-1)),w(r,1),C(r),r},t.round=function(r){var s=t(r),n=t.ceil(r);return r-s<n-r?s:n},t.offset=function(r,s){return w(r=new Date(+r),s==null?1:Math.floor(s)),r},t.range=function(r,s,n){var l=[],c;if(r=t.ceil(r),n=n==null?1:Math.floor(n),!(r<s)||!(n>0))return l;do l.push(c=new Date(+r)),w(r,n),C(r);while(c<r&&r<s);return l},t.filter=function(r){return a(function(s){if(s>=s)for(;C(s),!r(s);)s.setTime(s-1)},function(s,n){if(s>=s)if(n<0)for(;++n<=0;)for(;w(s,-1),!r(s););else for(;--n>=0;)for(;w(s,1),!r(s););})},h&&(t.count=function(r,s){return p.setTime(+r),L.setTime(+s),C(p),C(L),Math.floor(h(p,L))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(g?function(s){return g(s)%r===0}:function(s){return t.count(0,s)%r===0}):t}),t}},48480:function(B,N,e){e.d(N,{y:function(){return C}});var p=e(30052),L=e(54263),a=(0,p.Z)(function(w){w.setUTCHours(0,0,0,0)},function(w,h){w.setUTCDate(w.getUTCDate()+h)},function(w,h){return(h-w)/L.UD},function(w){return w.getUTCDate()-1});N.Z=a;var C=a.range},58176:function(B,N,e){e.d(N,{$3:function(){return l},DK:function(){return c},J1:function(){return h},Ox:function(){return C},QQ:function(){return r},Q_:function(){return A},SU:function(){return n},b3:function(){return g},fz:function(){return v},g4:function(){return s},hB:function(){return t},l6:function(){return w},uy:function(){return f},xj:function(){return m}});var p=e(30052),L=e(54263);function a(d){return(0,p.Z)(function(u){u.setUTCDate(u.getUTCDate()-(u.getUTCDay()+7-d)%7),u.setUTCHours(0,0,0,0)},function(u,y){u.setUTCDate(u.getUTCDate()+y*7)},function(u,y){return(y-u)/L.iM})}var C=a(0),w=a(1),h=a(2),g=a(3),t=a(4),r=a(5),s=a(6),n=C.range,l=w.range,c=h.range,f=g.range,m=t.range,v=r.range,A=s.range},79791:function(B,N,e){e.d(N,{D:function(){return a}});var p=e(30052),L=(0,p.Z)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,w){C.setUTCFullYear(C.getUTCFullYear()+w)},function(C,w){return w.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.Z)(function(w){w.setUTCFullYear(Math.floor(w.getUTCFullYear()/C)*C),w.setUTCMonth(0,1),w.setUTCHours(0,0,0,0)},function(w,h){w.setUTCFullYear(w.getUTCFullYear()+h*C)})},N.Z=L;var a=L.range},59879:function(B,N,e){e.d(N,{$t:function(){return m},EY:function(){return s},Ff:function(){return A},Ld:function(){return f},OM:function(){return C},aU:function(){return c},b$:function(){return v},bJ:function(){return l},bL:function(){return t},mC:function(){return r},sy:function(){return h},vm:function(){return n},wA:function(){return w},zg:function(){return g}});var p=e(30052),L=e(54263);function a(d){return(0,p.Z)(function(u){u.setDate(u.getDate()-(u.getDay()+7-d)%7),u.setHours(0,0,0,0)},function(u,y){u.setDate(u.getDate()+y*7)},function(u,y){return(y-u-(y.getTimezoneOffset()-u.getTimezoneOffset())*L.yB)/L.iM})}var C=a(0),w=a(1),h=a(2),g=a(3),t=a(4),r=a(5),s=a(6),n=C.range,l=w.range,c=h.range,f=g.range,m=t.range,v=r.range,A=s.range},34823:function(B,N,e){e.d(N,{g:function(){return a}});var p=e(30052),L=(0,p.Z)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,w){C.setFullYear(C.getFullYear()+w)},function(C,w){return w.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.Z)(function(w){w.setFullYear(Math.floor(w.getFullYear()/C)*C),w.setMonth(0,1),w.setHours(0,0,0,0)},function(w,h){w.setFullYear(w.getFullYear()+h*C)})},N.Z=L;var a=L.range},17045:function(B,N,e){var p=e(8709),L=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,C=Array.prototype.concat,w=Object.defineProperty,h=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},g=e(55622)(),t=w&&g,r=function(n,l,c,f){if(l in n){if(f===!0){if(n[l]===c)return}else if(!h(f)||!f())return}t?w(n,l,{configurable:!0,enumerable:!1,value:c,writable:!0}):n[l]=c},s=function(n,l){var c=arguments.length>2?arguments[2]:{},f=p(l);L&&(f=C.call(f,Object.getOwnPropertySymbols(l)));for(var m=0;m<f.length;m+=1)r(n,f[m],l[f[m]],c[f[m]])};s.supportsDescriptors=!!t,B.exports=s},46775:function(B){B.exports=function(){for(var N=0;N<arguments.length;N++)if(arguments[N]!==void 0)return arguments[N]}},53545:function(B){B.exports=L;var N=L.canvas=document.createElement("canvas"),e=N.getContext("2d"),p=a([32,126]);L.createPairs=a,L.ascii=p;function L(C,w){Array.isArray(C)&&(C=C.join(", "));var h={},g,t=16,r=.05;w&&(w.length===2&&typeof w[0]=="number"?g=a(w):Array.isArray(w)?g=w:(w.o?g=a(w.o):w.pairs&&(g=w.pairs),w.fontSize&&(t=w.fontSize),w.threshold!=null&&(r=w.threshold))),g||(g=p),e.font=t+"px "+C;for(var s=0;s<g.length;s++){var n=g[s],l=e.measureText(n[0]).width+e.measureText(n[1]).width,c=e.measureText(n).width;if(Math.abs(l-c)>t*r){var f=(c-l)/t;h[n]=f*1e3}}return h}function a(C){for(var w=[],h=C[0];h<=C[1];h++)for(var g=String.fromCharCode(h),t=C[0];t<C[1];t++){var r=String.fromCharCode(t),s=g+r;w.push(s)}return w}},31457:function(B,N,e){var p=e(65185),L=e(18625),a={M:"moveTo",C:"bezierCurveTo"};B.exports=function(C,w){C.beginPath(),L(p(w)).forEach(function(h){var g=h[0],t=h.slice(1);C[a[g]].apply(C,t)}),C.closePath()}},90660:function(B){B.exports=function(N){switch(N){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(B){function N(L,a,C){var w=L[C]|0;if(w<=0)return[];var h=new Array(w),g;if(C===L.length-1)for(g=0;g<w;++g)h[g]=a;else for(g=0;g<w;++g)h[g]=N(L,a,C+1);return h}function e(L,a){var C,w;for(C=new Array(L),w=0;w<L;++w)C[w]=a;return C}function p(L,a){switch(typeof a>"u"&&(a=0),typeof L){case"number":if(L>0)return e(L|0,a);break;case"object":if(typeof L.length=="number")return N(L,a,0);break}return[]}B.exports=p},11474:function(B){B.exports=N,B.exports.default=N;function N(F,V,_){_=_||2;var U=V&&V.length,H=U?V[0]*_:F.length,z=e(F,0,H,_,!0),G=[];if(!z||z.next===z.prev)return G;var Y,J,ae,oe,he,q,Z;if(U&&(z=g(F,V,z,_)),F.length>80*_){Y=ae=F[0],J=oe=F[1];for(var $=_;$<H;$+=_)he=F[$],q=F[$+1],he<Y&&(Y=he),q<J&&(J=q),he>ae&&(ae=he),q>oe&&(oe=q);Z=Math.max(ae-Y,oe-J),Z=Z!==0?1/Z:0}return L(z,G,_,Y,J,Z),G}function e(F,V,_,U,H){var z,G;if(H===O(F,V,_,U)>0)for(z=V;z<_;z+=U)G=i(z,F[z],F[z+1],G);else for(z=_-U;z>=V;z-=U)G=i(z,F[z],F[z+1],G);return G&&u(G,G.next)&&(D(G),G=G.next),G}function p(F,V){if(!F)return F;V||(V=F);var _=F,U;do if(U=!1,!_.steiner&&(u(_,_.next)||d(_.prev,_,_.next)===0)){if(D(_),_=V=_.prev,_===_.next)break;U=!0}else _=_.next;while(U||_!==V);return V}function L(F,V,_,U,H,z,G){if(F){!G&&z&&l(F,U,H,z);for(var Y=F,J,ae;F.prev!==F.next;){if(J=F.prev,ae=F.next,z?C(F,U,H,z):a(F)){V.push(J.i/_),V.push(F.i/_),V.push(ae.i/_),D(F),F=ae.next,Y=ae.next;continue}if(F=ae,F===Y){G?G===1?(F=w(p(F),V,_),L(F,V,_,U,H,z,2)):G===2&&h(F,V,_,U,H,z):L(p(F),V,_,U,H,z,1);break}}}}function a(F){var V=F.prev,_=F,U=F.next;if(d(V,_,U)>=0)return!1;for(var H=F.next.next;H!==F.prev;){if(v(V.x,V.y,_.x,_.y,U.x,U.y,H.x,H.y)&&d(H.prev,H,H.next)>=0)return!1;H=H.next}return!0}function C(F,V,_,U){var H=F.prev,z=F,G=F.next;if(d(H,z,G)>=0)return!1;for(var Y=H.x<z.x?H.x<G.x?H.x:G.x:z.x<G.x?z.x:G.x,J=H.y<z.y?H.y<G.y?H.y:G.y:z.y<G.y?z.y:G.y,ae=H.x>z.x?H.x>G.x?H.x:G.x:z.x>G.x?z.x:G.x,oe=H.y>z.y?H.y>G.y?H.y:G.y:z.y>G.y?z.y:G.y,he=f(Y,J,V,_,U),q=f(ae,oe,V,_,U),Z=F.prevZ,$=F.nextZ;Z&&Z.z>=he&&$&&$.z<=q;){if(Z!==F.prev&&Z!==F.next&&v(H.x,H.y,z.x,z.y,G.x,G.y,Z.x,Z.y)&&d(Z.prev,Z,Z.next)>=0||(Z=Z.prevZ,$!==F.prev&&$!==F.next&&v(H.x,H.y,z.x,z.y,G.x,G.y,$.x,$.y)&&d($.prev,$,$.next)>=0))return!1;$=$.nextZ}for(;Z&&Z.z>=he;){if(Z!==F.prev&&Z!==F.next&&v(H.x,H.y,z.x,z.y,G.x,G.y,Z.x,Z.y)&&d(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;$&&$.z<=q;){if($!==F.prev&&$!==F.next&&v(H.x,H.y,z.x,z.y,G.x,G.y,$.x,$.y)&&d($.prev,$,$.next)>=0)return!1;$=$.nextZ}return!0}function w(F,V,_){var U=F;do{var H=U.prev,z=U.next.next;!u(H,z)&&y(H,U,U.next,z)&&x(H,z)&&x(z,H)&&(V.push(H.i/_),V.push(U.i/_),V.push(z.i/_),D(U),D(U.next),U=F=z),U=U.next}while(U!==F);return p(U)}function h(F,V,_,U,H,z){var G=F;do{for(var Y=G.next.next;Y!==G.prev;){if(G.i!==Y.i&&A(G,Y)){var J=T(G,Y);G=p(G,G.next),J=p(J,J.next),L(G,V,_,U,H,z),L(J,V,_,U,H,z);return}Y=Y.next}G=G.next}while(G!==F)}function g(F,V,_,U){var H=[],z,G,Y,J,ae;for(z=0,G=V.length;z<G;z++)Y=V[z]*U,J=z<G-1?V[z+1]*U:F.length,ae=e(F,Y,J,U,!1),ae===ae.next&&(ae.steiner=!0),H.push(m(ae));for(H.sort(t),z=0;z<H.length;z++)r(H[z],_),_=p(_,_.next);return _}function t(F,V){return F.x-V.x}function r(F,V){if(V=s(F,V),V){var _=T(V,F);p(V,V.next),p(_,_.next)}}function s(F,V){var _=V,U=F.x,H=F.y,z=-1/0,G;do{if(H<=_.y&&H>=_.next.y&&_.next.y!==_.y){var Y=_.x+(H-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(Y<=U&&Y>z){if(z=Y,Y===U){if(H===_.y)return _;if(H===_.next.y)return _.next}G=_.x<_.next.x?_:_.next}}_=_.next}while(_!==V);if(!G)return null;if(U===z)return G;var J=G,ae=G.x,oe=G.y,he=1/0,q;_=G;do U>=_.x&&_.x>=ae&&U!==_.x&&v(H<oe?U:z,H,ae,oe,H<oe?z:U,H,_.x,_.y)&&(q=Math.abs(H-_.y)/(U-_.x),x(_,F)&&(q<he||q===he&&(_.x>G.x||_.x===G.x&&n(G,_)))&&(G=_,he=q)),_=_.next;while(_!==J);return G}function n(F,V){return d(F.prev,F,V.prev)<0&&d(V.next,F,F.next)<0}function l(F,V,_,U){var H=F;do H.z===null&&(H.z=f(H.x,H.y,V,_,U)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next;while(H!==F);H.prevZ.nextZ=null,H.prevZ=null,c(H)}function c(F){var V,_,U,H,z,G,Y,J,ae=1;do{for(_=F,F=null,z=null,G=0;_;){for(G++,U=_,Y=0,V=0;V<ae&&(Y++,U=U.nextZ,!!U);V++);for(J=ae;Y>0||J>0&&U;)Y!==0&&(J===0||!U||_.z<=U.z)?(H=_,_=_.nextZ,Y--):(H=U,U=U.nextZ,J--),z?z.nextZ=H:F=H,H.prevZ=z,z=H;_=U}z.nextZ=null,ae*=2}while(G>1);return F}function f(F,V,_,U,H){return F=32767*(F-_)*H,V=32767*(V-U)*H,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,F|V<<1}function m(F){var V=F,_=F;do(V.x<_.x||V.x===_.x&&V.y<_.y)&&(_=V),V=V.next;while(V!==F);return _}function v(F,V,_,U,H,z,G,Y){return(H-G)*(V-Y)-(F-G)*(z-Y)>=0&&(F-G)*(U-Y)-(_-G)*(V-Y)>=0&&(_-G)*(z-Y)-(H-G)*(U-Y)>=0}function A(F,V){return F.next.i!==V.i&&F.prev.i!==V.i&&!R(F,V)&&(x(F,V)&&x(V,F)&&E(F,V)&&(d(F.prev,F,V.prev)||d(F,V.prev,V))||u(F,V)&&d(F.prev,F,F.next)>0&&d(V.prev,V,V.next)>0)}function d(F,V,_){return(V.y-F.y)*(_.x-V.x)-(V.x-F.x)*(_.y-V.y)}function u(F,V){return F.x===V.x&&F.y===V.y}function y(F,V,_,U){var H=S(d(F,V,_)),z=S(d(F,V,U)),G=S(d(_,U,F)),Y=S(d(_,U,V));return!!(H!==z&&G!==Y||H===0&&M(F,_,V)||z===0&&M(F,U,V)||G===0&&M(_,F,U)||Y===0&&M(_,V,U))}function M(F,V,_){return V.x<=Math.max(F.x,_.x)&&V.x>=Math.min(F.x,_.x)&&V.y<=Math.max(F.y,_.y)&&V.y>=Math.min(F.y,_.y)}function S(F){return F>0?1:F<0?-1:0}function R(F,V){var _=F;do{if(_.i!==F.i&&_.next.i!==F.i&&_.i!==V.i&&_.next.i!==V.i&&y(_,_.next,F,V))return!0;_=_.next}while(_!==F);return!1}function x(F,V){return d(F.prev,F,F.next)<0?d(F,V,F.next)>=0&&d(F,F.prev,V)>=0:d(F,V,F.prev)<0||d(F,F.next,V)<0}function E(F,V){var _=F,U=!1,H=(F.x+V.x)/2,z=(F.y+V.y)/2;do _.y>z!=_.next.y>z&&_.next.y!==_.y&&H<(_.next.x-_.x)*(z-_.y)/(_.next.y-_.y)+_.x&&(U=!U),_=_.next;while(_!==F);return U}function T(F,V){var _=new b(F.i,F.x,F.y),U=new b(V.i,V.x,V.y),H=F.next,z=V.prev;return F.next=V,V.prev=F,_.next=H,H.prev=_,U.next=_,_.prev=U,z.next=U,U.prev=z,U}function i(F,V,_,U){var H=new b(F,V,_);return U?(H.next=U.next,H.prev=U,U.next.prev=H,U.next=H):(H.prev=H,H.next=H),H}function D(F){F.next.prev=F.prev,F.prev.next=F.next,F.prevZ&&(F.prevZ.nextZ=F.nextZ),F.nextZ&&(F.nextZ.prevZ=F.prevZ)}function b(F,V,_){this.i=F,this.x=V,this.y=_,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}N.deviation=function(F,V,_,U){var H=V&&V.length,z=H?V[0]*_:F.length,G=Math.abs(O(F,0,z,_));if(H)for(var Y=0,J=V.length;Y<J;Y++){var ae=V[Y]*_,oe=Y<J-1?V[Y+1]*_:F.length;G-=Math.abs(O(F,ae,oe,_))}var he=0;for(Y=0;Y<U.length;Y+=3){var q=U[Y]*_,Z=U[Y+1]*_,$=U[Y+2]*_;he+=Math.abs((F[q]-F[$])*(F[Z+1]-F[q+1])-(F[q]-F[Z])*(F[$+1]-F[q+1]))}return G===0&&he===0?0:Math.abs((he-G)/G)};function O(F,V,_,U){for(var H=0,z=V,G=_-U;z<_;z+=U)H+=(F[G]-F[z])*(F[z+1]+F[G+1]),G=z;return H}N.flatten=function(F){for(var V=F[0][0].length,_={vertices:[],holes:[],dimensions:V},U=0,H=0;H<F.length;H++){for(var z=0;z<F[H].length;z++)for(var G=0;G<V;G++)_.vertices.push(F[H][z][G]);H>0&&(U+=F[H-1].length,_.holes.push(U))}return _}},2502:function(B,N,e){var p=e(68664);B.exports=function(a,C){var w=[],h=[],g=[],t={},r=[],s;function n(M){g[M]=!1,t.hasOwnProperty(M)&&Object.keys(t[M]).forEach(function(S){delete t[M][S],g[S]&&n(S)})}function l(M){var S=!1;h.push(M),g[M]=!0;var R,x;for(R=0;R<r[M].length;R++)x=r[M][R],x===s?(c(s,h),S=!0):g[x]||(S=l(x));if(S)n(M);else for(R=0;R<r[M].length;R++){x=r[M][R];var E=t[x];E||(E={},t[x]=E),E[x]=!0}return h.pop(),S}function c(M,S){var R=[].concat(S).concat(M);C?C(l):w.push(R)}function f(M){for(var S=0;S<a.length;S++)S<M&&(a[S]=[]),a[S]=a[S].filter(function(R){return R>=M})}function m(M){f(M);for(var S=a,R=p(S),x=R.components.filter(function(F){return F.length>1}),E=1/0,T,i=0;i<x.length;i++)for(var D=0;D<x[i].length;D++)x[i][D]<E&&(E=x[i][D],T=i);var b=x[T];if(!b)return!1;var O=a.map(function(F,V){return b.indexOf(V)===-1?[]:F.filter(function(_){return b.indexOf(_)!==-1})});return{leastVertex:E,adjList:O}}s=0;for(var v=a.length;s<v;){var A=m(s);if(s=A.leastVertex,r=A.adjList,r){for(var d=0;d<r.length;d++)for(var u=0;u<r[d].length;u++){var y=r[d][u];g[+y]=!1,t[y]={}}l(s),s=s+1}else s=v}if(!C)return w}},16134:function(B,N,e){var p=e(36672);B.exports=function(){return p(this).length=0,this}},4892:function(B,N,e){B.exports=e(64404)()?Array.from:e(49441)},64404:function(B){B.exports=function(){var N=Array.from,e,p;return typeof N!="function"?!1:(e=["raz","dwa"],p=N(e),!!(p&&p!==e&&p[1]==="dwa"))}},49441:function(B,N,e){var p=e(8260).iterator,L=e(73051),a=e(33717),C=e(35976),w=e(78513),h=e(36672),g=e(95296),t=e(87963),r=Array.isArray,s=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;B.exports=function(c){var f=arguments[1],m=arguments[2],v,A,d,u,y,M,S,R,x,E;if(c=Object(h(c)),g(f)&&w(f),!this||this===Array||!a(this)){if(!f){if(L(c))return y=c.length,y!==1?Array.apply(null,c):(u=new Array(1),u[0]=c[0],u);if(r(c)){for(u=new Array(y=c.length),A=0;A<y;++A)u[A]=c[A];return u}}u=[]}else v=this;if(!r(c)){if((x=c[p])!==void 0){for(S=w(x).call(c),v&&(u=new v),R=S.next(),A=0;!R.done;)E=f?s.call(f,m,R.value,A):R.value,v?(n.value=E,l(u,A,n)):u[A]=E,R=S.next(),++A;y=A}else if(t(c)){for(y=c.length,v&&(u=new v),A=0,d=0;A<y;++A)E=c[A],A+1<y&&(M=E.charCodeAt(0),M>=55296&&M<=56319&&(E+=c[++A])),E=f?s.call(f,m,E,d):E,v?(n.value=E,l(u,d,n)):u[d]=E,++d;y=d}}if(y===void 0)for(y=C(c.length),v&&(u=new v(y)),A=0;A<y;++A)E=f?s.call(f,m,c[A],A):c[A],v?(n.value=E,l(u,A,n)):u[A]=E;return v&&(n.value=null,u.length=y),u}},73051:function(B){var N=Object.prototype.toString,e=N.call(function(){return arguments}());B.exports=function(p){return N.call(p)===e}},33717:function(B){var N=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);B.exports=function(p){return typeof p=="function"&&e(N.call(p))}},52345:function(B){B.exports=function(){}},9953:function(B,N,e){B.exports=e(90436)()?Math.sign:e(6069)},90436:function(B){B.exports=function(){var N=Math.sign;return typeof N!="function"?!1:N(10)===1&&N(-20)===-1}},6069:function(B){B.exports=function(N){return N=Number(N),isNaN(N)||N===0?N:N>0?1:-1}},56247:function(B,N,e){var p=e(9953),L=Math.abs,a=Math.floor;B.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:p(C)*a(L(C)))}},35976:function(B,N,e){var p=e(56247),L=Math.max;B.exports=function(a){return L(0,p(a))}},67260:function(B,N,e){var p=e(78513),L=e(36672),a=Function.prototype.bind,C=Function.prototype.call,w=Object.keys,h=Object.prototype.propertyIsEnumerable;B.exports=function(g,t){return function(r,s){var n,l=arguments[2],c=arguments[3];return r=Object(L(r)),p(s),n=w(r),c&&n.sort(typeof c=="function"?a.call(c,r):void 0),typeof g!="function"&&(g=n[g]),C.call(g,n,function(f,m){return h.call(r,f)?C.call(s,l,r[f],f,r,m):t})}}},95879:function(B,N,e){B.exports=e(73583)()?Object.assign:e(34205)},73583:function(B){B.exports=function(){var N=Object.assign,e;return typeof N!="function"?!1:(e={foo:"raz"},N(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(B,N,e){var p=e(68700),L=e(36672),a=Math.max;B.exports=function(C,w){var h,g,t=a(arguments.length,2),r;for(C=Object(L(C)),r=function(s){try{C[s]=w[s]}catch(n){h||(h=n)}},g=1;g<t;++g)w=arguments[g],p(w).forEach(r);if(h!==void 0)throw h;return C}},19012:function(B,N,e){var p=e(4892),L=e(95879),a=e(36672);B.exports=function(C){var w=Object(a(C)),h=arguments[1],g=Object(arguments[2]);if(w!==C&&!h)return w;var t={};return h?p(h,function(r){(g.ensure||r in C)&&(t[r]=C[r])}):L(t,C),t}},52818:function(B,N,e){var p=Object.create,L;e(33247)()||(L=e(51882)),B.exports=function(){var a,C,w;return!L||L.level!==1?p:(a={},C={},w={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(h){if(h==="__proto__"){C[h]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[h]=w}),Object.defineProperties(a,C),Object.defineProperty(L,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(h,g){return p(h===null?a:h,g)})}()},96437:function(B,N,e){B.exports=e(67260)("forEach")},99611:function(B,N,e){var p=e(95296),L={function:!0,object:!0};B.exports=function(a){return p(a)&&L[typeof a]||!1}},95296:function(B,N,e){var p=e(52345)();B.exports=function(L){return L!==p&&L!==null}},68700:function(B,N,e){B.exports=e(13895)()?Object.keys:e(25217)},13895:function(B){B.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(B,N,e){var p=e(95296),L=Object.keys;B.exports=function(a){return L(p(a)?Object(a):a)}},16906:function(B,N,e){var p=e(78513),L=e(96437),a=Function.prototype.call;B.exports=function(C,w){var h={},g=arguments[2];return p(w),L(C,function(t,r,s,n){h[r]=a.call(w,g,t,r,s,n)}),h}},21780:function(B,N,e){var p=e(95296),L=Array.prototype.forEach,a=Object.create,C=function(w,h){var g;for(g in w)h[g]=w[g]};B.exports=function(w){var h=a(null);return L.call(arguments,function(g){p(g)&&C(Object(g),h)}),h}},1496:function(B,N,e){B.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(B){var N=Object.create,e=Object.getPrototypeOf,p={};B.exports=function(){var L=Object.setPrototypeOf,a=arguments[0]||N;return typeof L!="function"?!1:e(L(a(null),p))===p}},51882:function(B,N,e){var p=e(99611),L=e(36672),a=Object.prototype.isPrototypeOf,C=Object.defineProperty,w={configurable:!0,enumerable:!1,writable:!0,value:void 0},h;h=function(g,t){if(L(g),t===null||p(t))return g;throw new TypeError("Prototype must be null or an object")},B.exports=function(g){var t,r;return g?(g.level===2?g.set?(r=g.set,t=function(s,n){return r.call(h(s,n),n),s}):t=function(s,n){return h(s,n).__proto__=n,s}:t=function s(n,l){var c;return h(n,l),c=a.call(s.nullPolyfill,n),c&&delete s.nullPolyfill.__proto__,l===null&&(l=s.nullPolyfill),n.__proto__=l,c&&C(s.nullPolyfill,"__proto__",w),n},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:g.level})):null}(function(){var g=Object.create(null),t={},r,s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{r=s.set,r.call(g,t)}catch{}if(Object.getPrototypeOf(g)===t)return{set:r,level:2}}return g.__proto__=t,Object.getPrototypeOf(g)===t?{level:2}:(g={},g.__proto__=t,Object.getPrototypeOf(g)===t?{level:1}:!1)}()),e(52818)},78513:function(B){B.exports=function(N){if(typeof N!="function")throw new TypeError(N+" is not a function");return N}},98976:function(B,N,e){var p=e(99611);B.exports=function(L){if(!p(L))throw new TypeError(L+" is not an Object");return L}},36672:function(B,N,e){var p=e(95296);B.exports=function(L){if(!p(L))throw new TypeError("Cannot use null or undefined");return L}},66741:function(B,N,e){B.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(B){var N="razdwatrzy";B.exports=function(){return typeof N.contains!="function"?!1:N.contains("dwa")===!0&&N.contains("foo")===!1}},60381:function(B){var N=String.prototype.indexOf;B.exports=function(e){return N.call(this,e,arguments[1])>-1}},87963:function(B){var N=Object.prototype.toString,e=N.call("");B.exports=function(p){return typeof p=="string"||p&&typeof p=="object"&&(p instanceof String||N.call(p)===e)||!1}},43043:function(B){var N=Object.create(null),e=Math.random;B.exports=function(){var p;do p=e().toString(36).slice(2);while(N[p]);return p}},32411:function(B,N,e){var p=e(1496),L=e(66741),a=e(62072),C=e(8260),w=e(95426),h=Object.defineProperty,g;g=B.exports=function(t,r){if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");w.call(this,t),r?L.call(r,"key+value")?r="key+value":L.call(r,"key")?r="key":r="value":r="value",h(this,"__kind__",a("",r))},p&&p(g,w),delete g.prototype.constructor,g.prototype=Object.create(w.prototype,{_resolve:a(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),h(g.prototype,C.toStringTag,a("c","Array Iterator"))},27515:function(B,N,e){var p=e(73051),L=e(78513),a=e(87963),C=e(66661),w=Array.isArray,h=Function.prototype.call,g=Array.prototype.some;B.exports=function(t,r){var s,n=arguments[2],l,c,f,m,v,A,d;if(w(t)||p(t)?s="array":a(t)?s="string":t=C(t),L(r),c=function(){f=!0},s==="array"){g.call(t,function(u){return h.call(r,n,u,c),f});return}if(s==="string"){for(v=t.length,m=0;m<v&&(A=t[m],m+1<v&&(d=A.charCodeAt(0),d>=55296&&d<=56319&&(A+=t[++m])),h.call(r,n,A,c),!f);++m);return}for(l=t.next();!l.done;){if(h.call(r,n,l.value,c),f)return;l=t.next()}}},66661:function(B,N,e){var p=e(73051),L=e(87963),a=e(32411),C=e(259),w=e(58095),h=e(8260).iterator;B.exports=function(g){return typeof w(g)[h]=="function"?g[h]():p(g)?new a(g):L(g)?new C(g):new a(g)}},95426:function(B,N,e){var p=e(16134),L=e(95879),a=e(78513),C=e(36672),w=e(62072),h=e(55174),g=e(8260),t=Object.defineProperty,r=Object.defineProperties,s;B.exports=s=function(n,l){if(!(this instanceof s))throw new TypeError("Constructor requires 'new'");r(this,{__list__:w("w",C(n)),__context__:w("w",l),__nextIndex__:w("w",0)}),l&&(a(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete s.prototype.constructor,r(s.prototype,L({_next:w(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:w(function(){return this._createResult(this._next())}),_createResult:w(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:w(function(n){return this.__list__[n]}),_unBind:w(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:w(function(){return"[object "+(this[g.toStringTag]||"Object")+"]"})},h({_onAdd:w(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",w("c",[n]));return}this.__redo__.forEach(function(l,c){l>=n&&(this.__redo__[c]=++l)},this),this.__redo__.push(n)}}),_onDelete:w(function(n){var l;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(l=this.__redo__.indexOf(n),l!==-1&&this.__redo__.splice(l,1),this.__redo__.forEach(function(c,f){c>n&&(this.__redo__[f]=--c)},this)))}),_onClear:w(function(){this.__redo__&&p.call(this.__redo__),this.__nextIndex__=0})}))),t(s.prototype,g.iterator,w(function(){return this}))},35940:function(B,N,e){var p=e(73051),L=e(95296),a=e(87963),C=e(8260).iterator,w=Array.isArray;B.exports=function(h){return L(h)?w(h)||a(h)||p(h)?!0:typeof h[C]=="function":!1}},259:function(B,N,e){var p=e(1496),L=e(62072),a=e(8260),C=e(95426),w=Object.defineProperty,h;h=B.exports=function(g){if(!(this instanceof h))throw new TypeError("Constructor requires 'new'");g=String(g),C.call(this,g),w(this,"__length__",L("",g.length))},p&&p(h,C),delete h.prototype.constructor,h.prototype=Object.create(C.prototype,{_next:L(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:L(function(g){var t=this.__list__[g],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),w(h.prototype,a.toStringTag,L("c","String Iterator"))},58095:function(B,N,e){var p=e(35940);B.exports=function(L){if(!p(L))throw new TypeError(L+" is not iterable");return L}},73523:function(B){function N(p,L){if(p==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(p),C=1;C<arguments.length;C++){var w=arguments[C];if(w!=null)for(var h=Object.keys(Object(w)),g=0,t=h.length;g<t;g++){var r=h[g],s=Object.getOwnPropertyDescriptor(w,r);s!==void 0&&s.enumerable&&(a[r]=w[r])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:N})}B.exports={assign:N,polyfill:e}},8260:function(B,N,e){B.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(B,N,e){var p=e(94908),L={object:!0,symbol:!0};B.exports=function(){var a=p.Symbol,C;if(typeof a!="function")return!1;C=a("test symbol");try{String(C)}catch{return!1}return!(!L[typeof a.iterator]||!L[typeof a.toPrimitive]||!L[typeof a.toStringTag])}},82276:function(B){B.exports=function(N){return N?typeof N=="symbol"?!0:!N.constructor||N.constructor.name!=="Symbol"?!1:N[N.constructor.toStringTag]==="Symbol":!1}},29366:function(B,N,e){var p=e(62072),L=Object.create,a=Object.defineProperty,C=Object.prototype,w=L(null);B.exports=function(h){for(var g=0,t,r;w[h+(g||"")];)++g;return h+=g||"",w[h]=!0,t="@@"+h,a(C,t,p.gs(null,function(s){r||(r=!0,a(this,t,p(s)),r=!1)})),t}},92842:function(B,N,e){var p=e(62072),L=e(94908).Symbol;B.exports=function(a){return Object.defineProperties(a,{hasInstance:p("",L&&L.hasInstance||a("hasInstance")),isConcatSpreadable:p("",L&&L.isConcatSpreadable||a("isConcatSpreadable")),iterator:p("",L&&L.iterator||a("iterator")),match:p("",L&&L.match||a("match")),replace:p("",L&&L.replace||a("replace")),search:p("",L&&L.search||a("search")),species:p("",L&&L.species||a("species")),split:p("",L&&L.split||a("split")),toPrimitive:p("",L&&L.toPrimitive||a("toPrimitive")),toStringTag:p("",L&&L.toStringTag||a("toStringTag")),unscopables:p("",L&&L.unscopables||a("unscopables"))})}},13304:function(B,N,e){var p=e(62072),L=e(53308),a=Object.create(null);B.exports=function(C){return Object.defineProperties(C,{for:p(function(w){return a[w]?a[w]:a[w]=C(String(w))}),keyFor:p(function(w){var h;L(w);for(h in a)if(a[h]===w)return h})})}},18415:function(B,N,e){var p=e(62072),L=e(53308),a=e(94908).Symbol,C=e(29366),w=e(92842),h=e(13304),g=Object.create,t=Object.defineProperties,r=Object.defineProperty,s,n,l;if(typeof a=="function")try{String(a()),l=!0}catch{}else a=null;n=function(f){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return s(f)},B.exports=s=function c(f){var m;if(this instanceof c)throw new TypeError("Symbol is not a constructor");return l?a(f):(m=g(n.prototype),f=f===void 0?"":String(f),t(m,{__description__:p("",f),__name__:p("",C(f))}))},w(s),h(s),t(n.prototype,{constructor:p(s),toString:p("",function(){return this.__name__})}),t(s.prototype,{toString:p(function(){return"Symbol ("+L(this).__description__+")"}),valueOf:p(function(){return L(this)})}),r(s.prototype,s.toPrimitive,p("",function(){var c=L(this);return typeof c=="symbol"?c:c.toString()})),r(s.prototype,s.toStringTag,p("c","Symbol")),r(n.prototype,s.toStringTag,p("c",s.prototype[s.toStringTag])),r(n.prototype,s.toPrimitive,p("c",s.prototype[s.toPrimitive]))},53308:function(B,N,e){var p=e(82276);B.exports=function(L){if(!p(L))throw new TypeError(L+" is not a symbol");return L}},83522:function(B,N,e){B.exports=e(96402)()?WeakMap:e(329)},96402:function(B){B.exports=function(){var N,e;if(typeof WeakMap!="function")return!1;try{N=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(N)!=="[object WeakMap]"||typeof N.set!="function"||N.set({},1)!==N||typeof N.delete!="function"||typeof N.has!="function"||N.get(e)!=="one")}},96416:function(B){B.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(B,N,e){var p=e(95296),L=e(1496),a=e(98976),C=e(36672),w=e(43043),h=e(62072),g=e(66661),t=e(27515),r=e(8260).toStringTag,s=e(96416),n=Array.isArray,l=Object.defineProperty,c=Object.prototype.hasOwnProperty,f=Object.getPrototypeOf,m;B.exports=m=function(){var v=arguments[0],A;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return A=s&&L&&WeakMap!==m?L(new WeakMap,f(this)):this,p(v)&&(n(v)||(v=g(v))),l(A,"__weakMapData__",h("c","$weakMap$"+w())),v&&t(v,function(d){C(d),A.set(d[0],d[1])}),A},s&&(L&&L(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:h(m)})),Object.defineProperties(m.prototype,{delete:h(function(v){return c.call(a(v),this.__weakMapData__)?(delete v[this.__weakMapData__],!0):!1}),get:h(function(v){if(c.call(a(v),this.__weakMapData__))return v[this.__weakMapData__]}),has:h(function(v){return c.call(a(v),this.__weakMapData__)}),set:h(function(v,A){return l(a(v),this.__weakMapData__,h("c",A)),this}),toString:h(function(){return"[object WeakMap]"})}),l(m.prototype,r,h("c","WeakMap"))},15398:function(B){var N=typeof Reflect=="object"?Reflect:null,e=N&&typeof N.apply=="function"?N.apply:function(y,M,S){return Function.prototype.apply.call(y,M,S)},p;N&&typeof N.ownKeys=="function"?p=N.ownKeys:Object.getOwnPropertySymbols?p=function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:p=function(y){return Object.getOwnPropertyNames(y)};function L(u){console&&console.warn&&console.warn(u)}var a=Number.isNaN||function(y){return y!==y};function C(){C.init.call(this)}B.exports=C,B.exports.once=v,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var w=10;function h(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(u){if(typeof u!="number"||u<0||a(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");w=u}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||a(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this};function g(u){return u._maxListeners===void 0?C.defaultMaxListeners:u._maxListeners}C.prototype.getMaxListeners=function(){return g(this)},C.prototype.emit=function(y){for(var M=[],S=1;S<arguments.length;S++)M.push(arguments[S]);var R=y==="error",x=this._events;if(x!==void 0)R=R&&x.error===void 0;else if(!R)return!1;if(R){var E;if(M.length>0&&(E=M[0]),E instanceof Error)throw E;var T=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw T.context=E,T}var i=x[y];if(i===void 0)return!1;if(typeof i=="function")e(i,this,M);else for(var D=i.length,b=c(i,D),S=0;S<D;++S)e(b[S],this,M);return!0};function t(u,y,M,S){var R,x,E;if(h(M),x=u._events,x===void 0?(x=u._events=Object.create(null),u._eventsCount=0):(x.newListener!==void 0&&(u.emit("newListener",y,M.listener?M.listener:M),x=u._events),E=x[y]),E===void 0)E=x[y]=M,++u._eventsCount;else if(typeof E=="function"?E=x[y]=S?[M,E]:[E,M]:S?E.unshift(M):E.push(M),R=g(u),R>0&&E.length>R&&!E.warned){E.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=u,T.type=y,T.count=E.length,L(T)}return u}C.prototype.addListener=function(y,M){return t(this,y,M,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(y,M){return t(this,y,M,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(u,y,M){var S={fired:!1,wrapFn:void 0,target:u,type:y,listener:M},R=r.bind(S);return R.listener=M,S.wrapFn=R,R}C.prototype.once=function(y,M){return h(M),this.on(y,s(this,y,M)),this},C.prototype.prependOnceListener=function(y,M){return h(M),this.prependListener(y,s(this,y,M)),this},C.prototype.removeListener=function(y,M){var S,R,x,E,T;if(h(M),R=this._events,R===void 0)return this;if(S=R[y],S===void 0)return this;if(S===M||S.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete R[y],R.removeListener&&this.emit("removeListener",y,S.listener||M));else if(typeof S!="function"){for(x=-1,E=S.length-1;E>=0;E--)if(S[E]===M||S[E].listener===M){T=S[E].listener,x=E;break}if(x<0)return this;x===0?S.shift():f(S,x),S.length===1&&(R[y]=S[0]),R.removeListener!==void 0&&this.emit("removeListener",y,T||M)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(y){var M,S,R;if(S=this._events,S===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[y]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete S[y]),this;if(arguments.length===0){var x=Object.keys(S),E;for(R=0;R<x.length;++R)E=x[R],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=S[y],typeof M=="function")this.removeListener(y,M);else if(M!==void 0)for(R=M.length-1;R>=0;R--)this.removeListener(y,M[R]);return this};function n(u,y,M){var S=u._events;if(S===void 0)return[];var R=S[y];return R===void 0?[]:typeof R=="function"?M?[R.listener||R]:[R]:M?m(R):c(R,R.length)}C.prototype.listeners=function(y){return n(this,y,!0)},C.prototype.rawListeners=function(y){return n(this,y,!1)},C.listenerCount=function(u,y){return typeof u.listenerCount=="function"?u.listenerCount(y):l.call(u,y)},C.prototype.listenerCount=l;function l(u){var y=this._events;if(y!==void 0){var M=y[u];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function c(u,y){for(var M=new Array(y),S=0;S<y;++S)M[S]=u[S];return M}function f(u,y){for(;y+1<u.length;y++)u[y]=u[y+1];u.pop()}function m(u){for(var y=new Array(u.length),M=0;M<y.length;++M)y[M]=u[M].listener||u[M];return y}function v(u,y){return new Promise(function(M,S){function R(E){u.removeListener(y,x),S(E)}function x(){typeof u.removeListener=="function"&&u.removeListener("error",R),M([].slice.call(arguments))}d(u,y,x,{once:!0}),y!=="error"&&A(u,R,{once:!0})})}function A(u,y,M){typeof u.on=="function"&&d(u,"error",y,M)}function d(u,y,M,S){if(typeof u.on=="function")S.once?u.once(y,M):u.on(y,M);else if(typeof u.addEventListener=="function")u.addEventListener(y,function R(x){S.once&&u.removeEventListener(y,R),M(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u)}},60774:function(B){var N=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};B.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return N()}try{return __global__||N()}finally{delete Object.prototype.__global__}}()},94908:function(B,N,e){B.exports=e(51152)()?globalThis:e(60774)},51152:function(B){B.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(B,N,e){var p=e(18546);B.exports=function(L){var a=typeof L;if(a==="string"){var C=L;if(L=+L,L===0&&p(C))return!1}else if(a!=="number")return!1;return L-L<1}},30120:function(B,N,e){var p=e(90660);B.exports=L;function L(a,C,w){if(!a)throw new TypeError("must specify data as first parameter");if(w=+(w||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var h=a[0].length,g=a.length*h,t,r,s,n;(!C||typeof C=="string")&&(C=new(p(C||"float32"))(g+w));var l=C.length-w;if(g!==l)throw new Error("source length "+g+" ("+h+"x"+a.length+") does not match destination length "+l);for(t=0,s=w;t<a.length;t++)for(r=0;r<h;r++)C[s++]=a[t][r]===null?NaN:a[t][r]}else if(!C||typeof C=="string"){var c=p(C||"float32");if(Array.isArray(a)||C==="array")for(C=new c(a.length+w),t=0,s=w,n=C.length;s<n;s++,t++)C[s]=a[t]===null?NaN:a[t];else w===0?C=new c(a):(C=new c(a.length+w),C.set(a,w))}else C.set(a,w);return C}},68016:function(B,N,e){var p=e(53313),L=[32,126];B.exports=a;function a(C){C=C||{};var w=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],h=C.canvas||document.createElement("canvas"),g=C.font,t=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],r=C.chars||L;if(g&&typeof g!="string"&&(g=p(g)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var s=[],n=r[0],l=0;n<=r[1];n++)s[l++]=String.fromCharCode(n);r=s}w=w.slice(),h.width=w[0],h.height=w[1];var c=h.getContext("2d");c.fillStyle="#000",c.fillRect(0,0,h.width,h.height),c.font=g,c.textAlign="center",c.textBaseline="middle",c.fillStyle="#fff";for(var f=t[0]/2,m=t[1]/2,n=0;n<r.length;n++)c.fillText(r[n],f,m),(f+=t[0])>w[0]-t[0]/2&&(f=t[0]/2,m+=t[1]);return h}},32879:function(B){B.exports=N,N.canvas=document.createElement("canvas"),N.cache={};function N(r,C){C||(C={}),(typeof r=="string"||Array.isArray(r))&&(C.family=r);var w=Array.isArray(C.family)?C.family.join(", "):C.family;if(!w)throw Error("`family` must be defined");var h=C.size||C.fontSize||C.em||48,g=C.weight||C.fontWeight||"",t=C.style||C.fontStyle||"",r=[t,g,h].join(" ")+"px "+w,s=C.origin||"top";if(N.cache[w]&&h<=N.cache[w].em)return e(N.cache[w],s);var n=C.canvas||N.canvas,l=n.getContext("2d"),c={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},f=Math.ceil(h*1.5);n.height=f,n.width=f*.5,l.font=r;var m="H",v={top:0};l.clearRect(0,0,f,f),l.textBaseline="top",l.fillStyle="black",l.fillText(m,0,0);var A=p(l.getImageData(0,0,f,f));l.clearRect(0,0,f,f),l.textBaseline="bottom",l.fillText(m,0,f);var d=p(l.getImageData(0,0,f,f));v.lineHeight=v.bottom=f-d+A,l.clearRect(0,0,f,f),l.textBaseline="alphabetic",l.fillText(m,0,f);var u=p(l.getImageData(0,0,f,f)),y=f-u-1+A;v.baseline=v.alphabetic=y,l.clearRect(0,0,f,f),l.textBaseline="middle",l.fillText(m,0,f*.5);var M=p(l.getImageData(0,0,f,f));v.median=v.middle=f-M-1+A-f*.5,l.clearRect(0,0,f,f),l.textBaseline="hanging",l.fillText(m,0,f*.5);var S=p(l.getImageData(0,0,f,f));v.hanging=f-S-1+A-f*.5,l.clearRect(0,0,f,f),l.textBaseline="ideographic",l.fillText(m,0,f);var R=p(l.getImageData(0,0,f,f));if(v.ideographic=f-R-1+A,c.upper&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(c.upper,0,0),v.upper=p(l.getImageData(0,0,f,f)),v.capHeight=v.baseline-v.upper),c.lower&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(c.lower,0,0),v.lower=p(l.getImageData(0,0,f,f)),v.xHeight=v.baseline-v.lower),c.tittle&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(c.tittle,0,0),v.tittle=p(l.getImageData(0,0,f,f))),c.ascent&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(c.ascent,0,0),v.ascent=p(l.getImageData(0,0,f,f))),c.descent&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(c.descent,0,0),v.descent=L(l.getImageData(0,0,f,f))),c.overshoot){l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(c.overshoot,0,0);var x=L(l.getImageData(0,0,f,f));v.overshoot=x-y}for(var E in v)v[E]/=h;return v.em=h,N.cache[w]=v,e(v,s)}function e(a,C){var w={};typeof C=="string"&&(C=a[C]);for(var h in a)h!=="em"&&(w[h]=a[h]-C);return w}function p(a){for(var C=a.height,w=a.data,h=3;h<w.length;h+=4)if(w[h]!==0)return Math.floor((h-3)*.25/C)}function L(a){for(var C=a.height,w=a.data,h=w.length-1;h>0;h-=4)if(w[h]!==0)return Math.floor((h-3)*.25/C)}},31353:function(B,N,e){var p=e(85395),L=Object.prototype.toString,a=Object.prototype.hasOwnProperty,C=function(r,s,n){for(var l=0,c=r.length;l<c;l++)a.call(r,l)&&(n==null?s(r[l],l,r):s.call(n,r[l],l,r))},w=function(r,s,n){for(var l=0,c=r.length;l<c;l++)n==null?s(r.charAt(l),l,r):s.call(n,r.charAt(l),l,r)},h=function(r,s,n){for(var l in r)a.call(r,l)&&(n==null?s(r[l],l,r):s.call(n,r[l],l,r))},g=function(r,s,n){if(!p(s))throw new TypeError("iterator must be a function");var l;arguments.length>=3&&(l=n),L.call(r)==="[object Array]"?C(r,s,l):typeof r=="string"?w(r,s,l):h(r,s,l)};B.exports=g},73047:function(B){var N="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,p=Object.prototype.toString,L="[object Function]";B.exports=function(C){var w=this;if(typeof w!="function"||p.call(w)!==L)throw new TypeError(N+w);for(var h=e.call(arguments,1),g,t=function(){if(this instanceof g){var c=w.apply(this,h.concat(e.call(arguments)));return Object(c)===c?c:this}else return w.apply(C,h.concat(e.call(arguments)))},r=Math.max(0,w.length-h.length),s=[],n=0;n<r;n++)s.push("$"+n);if(g=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(t),w.prototype){var l=function(){};l.prototype=w.prototype,g.prototype=new l,l.prototype=null}return g}},77575:function(B,N,e){var p=e(73047);B.exports=Function.prototype.bind||p},86249:function(B){B.exports=N;function N(e,p){if(typeof e!="string")throw new TypeError("must specify type string");if(p=p||{},typeof document>"u"&&!p.canvas)return null;var L=p.canvas||document.createElement("canvas");typeof p.width=="number"&&(L.width=p.width),typeof p.height=="number"&&(L.height=p.height);var a=p,C;try{var w=[e];e.indexOf("webgl")===0&&w.push("experimental-"+e);for(var h=0;h<w.length;h++)if(C=L.getContext(w[h],a),C)return C}catch{C=null}return C||null}},68318:function(B,N,e){var p,L=SyntaxError,a=Function,C=TypeError,w=function(D){try{return a('"use strict"; return ('+D+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var g=function(){throw new C},t=h?function(){try{return arguments.callee,g}catch{try{return h(arguments,"callee").get}catch{return g}}}():g,r=e(57877)(),s=Object.getPrototypeOf||function(D){return D.__proto__},n={},l=typeof Uint8Array>"u"?p:s(Uint8Array),c={"%AggregateError%":typeof AggregateError>"u"?p:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?p:ArrayBuffer,"%ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):p,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?p:Atomics,"%BigInt%":typeof BigInt>"u"?p:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?p:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?p:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?p:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?p:Float32Array,"%Float64Array%":typeof Float64Array>"u"?p:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?p:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?p:Int8Array,"%Int16Array%":typeof Int16Array>"u"?p:Int16Array,"%Int32Array%":typeof Int32Array>"u"?p:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?s(s([][Symbol.iterator]())):p,"%JSON%":typeof JSON=="object"?JSON:p,"%Map%":typeof Map>"u"?p:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?p:s(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?p:Promise,"%Proxy%":typeof Proxy>"u"?p:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?p:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?p:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?p:s(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?p:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?s(""[Symbol.iterator]()):p,"%Symbol%":r?Symbol:p,"%SyntaxError%":L,"%ThrowTypeError%":t,"%TypedArray%":l,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?p:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?p:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?p:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?p:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?p:WeakMap,"%WeakRef%":typeof WeakRef>"u"?p:WeakRef,"%WeakSet%":typeof WeakSet>"u"?p:WeakSet};try{null.error}catch(D){var f=s(s(D));c["%Error.prototype%"]=f}var m=function D(b){var O;if(b==="%AsyncFunction%")O=w("async function () {}");else if(b==="%GeneratorFunction%")O=w("function* () {}");else if(b==="%AsyncGeneratorFunction%")O=w("async function* () {}");else if(b==="%AsyncGenerator%"){var F=D("%AsyncGeneratorFunction%");F&&(O=F.prototype)}else if(b==="%AsyncIteratorPrototype%"){var V=D("%AsyncGenerator%");V&&(O=s(V.prototype))}return c[b]=O,O},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=e(77575),d=e(35065),u=A.call(Function.call,Array.prototype.concat),y=A.call(Function.apply,Array.prototype.splice),M=A.call(Function.call,String.prototype.replace),S=A.call(Function.call,String.prototype.slice),R=A.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,T=function(b){var O=S(b,0,1),F=S(b,-1);if(O==="%"&&F!=="%")throw new L("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&O!=="%")throw new L("invalid intrinsic syntax, expected opening `%`");var V=[];return M(b,x,function(_,U,H,z){V[V.length]=H?M(z,E,"$1"):U||_}),V},i=function(b,O){var F=b,V;if(d(v,F)&&(V=v[F],F="%"+V[0]+"%"),d(c,F)){var _=c[F];if(_===n&&(_=m(F)),typeof _>"u"&&!O)throw new C("intrinsic "+b+" exists, but is not available. Please file an issue!");return{alias:V,name:F,value:_}}throw new L("intrinsic "+b+" does not exist!")};B.exports=function(b,O){if(typeof b!="string"||b.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof O!="boolean")throw new C('"allowMissing" argument must be a boolean');if(R(/^%?[^%]*%?$/,b)===null)throw new L("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=T(b),V=F.length>0?F[0]:"",_=i("%"+V+"%",O),U=_.name,H=_.value,z=!1,G=_.alias;G&&(V=G[0],y(F,u([0,1],G)));for(var Y=1,J=!0;Y<F.length;Y+=1){var ae=F[Y],oe=S(ae,0,1),he=S(ae,-1);if((oe==='"'||oe==="'"||oe==="`"||he==='"'||he==="'"||he==="`")&&oe!==he)throw new L("property names with quotes must have matching quotes");if((ae==="constructor"||!J)&&(z=!0),V+="."+ae,U="%"+V+"%",d(c,U))H=c[U];else if(H!=null){if(!(ae in H)){if(!O)throw new C("base intrinsic for "+b+" exists, but the property is not available.");return}if(h&&Y+1>=F.length){var q=h(H,ae);J=!!q,J&&"get"in q&&!("originalValue"in q.get)?H=q.get:H=H[ae]}else J=d(H,ae),H=H[ae];J&&!z&&(c[U]=H)}}return H}},85400:function(B){B.exports=N;function N(e,p){var L=p[0],a=p[1],C=p[2],w=p[3],h=p[4],g=p[5],t=p[6],r=p[7],s=p[8],n=p[9],l=p[10],c=p[11],f=p[12],m=p[13],v=p[14],A=p[15];return e[0]=g*(l*A-c*v)-n*(t*A-r*v)+m*(t*c-r*l),e[1]=-(a*(l*A-c*v)-n*(C*A-w*v)+m*(C*c-w*l)),e[2]=a*(t*A-r*v)-g*(C*A-w*v)+m*(C*r-w*t),e[3]=-(a*(t*c-r*l)-g*(C*c-w*l)+n*(C*r-w*t)),e[4]=-(h*(l*A-c*v)-s*(t*A-r*v)+f*(t*c-r*l)),e[5]=L*(l*A-c*v)-s*(C*A-w*v)+f*(C*c-w*l),e[6]=-(L*(t*A-r*v)-h*(C*A-w*v)+f*(C*r-w*t)),e[7]=L*(t*c-r*l)-h*(C*c-w*l)+s*(C*r-w*t),e[8]=h*(n*A-c*m)-s*(g*A-r*m)+f*(g*c-r*n),e[9]=-(L*(n*A-c*m)-s*(a*A-w*m)+f*(a*c-w*n)),e[10]=L*(g*A-r*m)-h*(a*A-w*m)+f*(a*r-w*g),e[11]=-(L*(g*c-r*n)-h*(a*c-w*n)+s*(a*r-w*g)),e[12]=-(h*(n*v-l*m)-s*(g*v-t*m)+f*(g*l-t*n)),e[13]=L*(n*v-l*m)-s*(a*v-C*m)+f*(a*l-C*n),e[14]=-(L*(g*v-t*m)-h*(a*v-C*m)+f*(a*t-C*g)),e[15]=L*(g*l-t*n)-h*(a*l-C*n)+s*(a*t-C*g),e}},42331:function(B){B.exports=N;function N(e){var p=new Float32Array(16);return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p[4]=e[4],p[5]=e[5],p[6]=e[6],p[7]=e[7],p[8]=e[8],p[9]=e[9],p[10]=e[10],p[11]=e[11],p[12]=e[12],p[13]=e[13],p[14]=e[14],p[15]=e[15],p}},31042:function(B){B.exports=N;function N(e,p){return e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},11902:function(B){B.exports=N;function N(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(B){B.exports=N;function N(e){var p=e[0],L=e[1],a=e[2],C=e[3],w=e[4],h=e[5],g=e[6],t=e[7],r=e[8],s=e[9],n=e[10],l=e[11],c=e[12],f=e[13],m=e[14],v=e[15],A=p*h-L*w,d=p*g-a*w,u=p*t-C*w,y=L*g-a*h,M=L*t-C*h,S=a*t-C*g,R=r*f-s*c,x=r*m-n*c,E=r*v-l*c,T=s*m-n*f,i=s*v-l*f,D=n*v-l*m;return A*D-d*i+u*T+y*E-M*x+S*R}},27812:function(B){B.exports=N;function N(e,p){var L=p[0],a=p[1],C=p[2],w=p[3],h=L+L,g=a+a,t=C+C,r=L*h,s=a*h,n=a*g,l=C*h,c=C*g,f=C*t,m=w*h,v=w*g,A=w*t;return e[0]=1-n-f,e[1]=s+A,e[2]=l-v,e[3]=0,e[4]=s-A,e[5]=1-r-f,e[6]=c+m,e[7]=0,e[8]=l+v,e[9]=c-m,e[10]=1-r-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(B){B.exports=N;function N(e,p,L){var a,C,w,h=L[0],g=L[1],t=L[2],r=Math.sqrt(h*h+g*g+t*t);return Math.abs(r)<1e-6?null:(r=1/r,h*=r,g*=r,t*=r,a=Math.sin(p),C=Math.cos(p),w=1-C,e[0]=h*h*w+C,e[1]=g*h*w+t*a,e[2]=t*h*w-g*a,e[3]=0,e[4]=h*g*w-t*a,e[5]=g*g*w+C,e[6]=t*g*w+h*a,e[7]=0,e[8]=h*t*w+g*a,e[9]=g*t*w-h*a,e[10]=t*t*w+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(B){B.exports=N;function N(e,p,L){var a=p[0],C=p[1],w=p[2],h=p[3],g=a+a,t=C+C,r=w+w,s=a*g,n=a*t,l=a*r,c=C*t,f=C*r,m=w*r,v=h*g,A=h*t,d=h*r;return e[0]=1-(c+m),e[1]=n+d,e[2]=l-A,e[3]=0,e[4]=n-d,e[5]=1-(s+m),e[6]=f+v,e[7]=0,e[8]=l+A,e[9]=f-v,e[10]=1-(s+c),e[11]=0,e[12]=L[0],e[13]=L[1],e[14]=L[2],e[15]=1,e}},81472:function(B){B.exports=N;function N(e,p){return e[0]=p[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=p[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=p[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(B){B.exports=N;function N(e,p){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=p[0],e[13]=p[1],e[14]=p[2],e[15]=1,e}},75262:function(B){B.exports=N;function N(e,p){var L=Math.sin(p),a=Math.cos(p);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=L,e[7]=0,e[8]=0,e[9]=-L,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(B){B.exports=N;function N(e,p){var L=Math.sin(p),a=Math.cos(p);return e[0]=a,e[1]=0,e[2]=-L,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=L,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(B){B.exports=N;function N(e,p){var L=Math.sin(p),a=Math.cos(p);return e[0]=a,e[1]=L,e[2]=0,e[3]=0,e[4]=-L,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(B){B.exports=N;function N(e,p,L,a,C,w,h){var g=1/(L-p),t=1/(C-a),r=1/(w-h);return e[0]=w*2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=w*2*t,e[6]=0,e[7]=0,e[8]=(L+p)*g,e[9]=(C+a)*t,e[10]=(h+w)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=h*w*2*r,e[15]=0,e}},71551:function(B){B.exports=N;function N(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(B,N,e){B.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(B){B.exports=N;function N(e,p){var L=p[0],a=p[1],C=p[2],w=p[3],h=p[4],g=p[5],t=p[6],r=p[7],s=p[8],n=p[9],l=p[10],c=p[11],f=p[12],m=p[13],v=p[14],A=p[15],d=L*g-a*h,u=L*t-C*h,y=L*r-w*h,M=a*t-C*g,S=a*r-w*g,R=C*r-w*t,x=s*m-n*f,E=s*v-l*f,T=s*A-c*f,i=n*v-l*m,D=n*A-c*m,b=l*A-c*v,O=d*b-u*D+y*i+M*T-S*E+R*x;return O?(O=1/O,e[0]=(g*b-t*D+r*i)*O,e[1]=(C*D-a*b-w*i)*O,e[2]=(m*R-v*S+A*M)*O,e[3]=(l*S-n*R-c*M)*O,e[4]=(t*T-h*b-r*E)*O,e[5]=(L*b-C*T+w*E)*O,e[6]=(v*y-f*R-A*u)*O,e[7]=(s*R-l*y+c*u)*O,e[8]=(h*D-g*T+r*x)*O,e[9]=(a*T-L*D-w*x)*O,e[10]=(f*S-m*y+A*d)*O,e[11]=(n*y-s*S-c*d)*O,e[12]=(g*E-h*i-t*x)*O,e[13]=(L*i-a*E+C*x)*O,e[14]=(m*u-f*M-v*d)*O,e[15]=(s*M-n*u+l*d)*O,e):null}},65551:function(B,N,e){var p=e(71551);B.exports=L;function L(a,C,w,h){var g,t,r,s,n,l,c,f,m,v,A=C[0],d=C[1],u=C[2],y=h[0],M=h[1],S=h[2],R=w[0],x=w[1],E=w[2];return Math.abs(A-R)<1e-6&&Math.abs(d-x)<1e-6&&Math.abs(u-E)<1e-6?p(a):(c=A-R,f=d-x,m=u-E,v=1/Math.sqrt(c*c+f*f+m*m),c*=v,f*=v,m*=v,g=M*m-S*f,t=S*c-y*m,r=y*f-M*c,v=Math.sqrt(g*g+t*t+r*r),v?(v=1/v,g*=v,t*=v,r*=v):(g=0,t=0,r=0),s=f*r-m*t,n=m*g-c*r,l=c*t-f*g,v=Math.sqrt(s*s+n*n+l*l),v?(v=1/v,s*=v,n*=v,l*=v):(s=0,n=0,l=0),a[0]=g,a[1]=s,a[2]=c,a[3]=0,a[4]=t,a[5]=n,a[6]=f,a[7]=0,a[8]=r,a[9]=l,a[10]=m,a[11]=0,a[12]=-(g*A+t*d+r*u),a[13]=-(s*A+n*d+l*u),a[14]=-(c*A+f*d+m*u),a[15]=1,a)}},91362:function(B){B.exports=N;function N(e,p,L){var a=p[0],C=p[1],w=p[2],h=p[3],g=p[4],t=p[5],r=p[6],s=p[7],n=p[8],l=p[9],c=p[10],f=p[11],m=p[12],v=p[13],A=p[14],d=p[15],u=L[0],y=L[1],M=L[2],S=L[3];return e[0]=u*a+y*g+M*n+S*m,e[1]=u*C+y*t+M*l+S*v,e[2]=u*w+y*r+M*c+S*A,e[3]=u*h+y*s+M*f+S*d,u=L[4],y=L[5],M=L[6],S=L[7],e[4]=u*a+y*g+M*n+S*m,e[5]=u*C+y*t+M*l+S*v,e[6]=u*w+y*r+M*c+S*A,e[7]=u*h+y*s+M*f+S*d,u=L[8],y=L[9],M=L[10],S=L[11],e[8]=u*a+y*g+M*n+S*m,e[9]=u*C+y*t+M*l+S*v,e[10]=u*w+y*r+M*c+S*A,e[11]=u*h+y*s+M*f+S*d,u=L[12],y=L[13],M=L[14],S=L[15],e[12]=u*a+y*g+M*n+S*m,e[13]=u*C+y*t+M*l+S*v,e[14]=u*w+y*r+M*c+S*A,e[15]=u*h+y*s+M*f+S*d,e}},60378:function(B){B.exports=N;function N(e,p,L,a,C,w,h){var g=1/(p-L),t=1/(a-C),r=1/(w-h);return e[0]=-2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(p+L)*g,e[13]=(C+a)*t,e[14]=(h+w)*r,e[15]=1,e}},7864:function(B){B.exports=N;function N(e,p,L,a,C){var w=1/Math.tan(p/2),h=1/(a-C);return e[0]=w/L,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=w,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+a)*h,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*a*h,e[15]=0,e}},35279:function(B){B.exports=N;function N(e,p,L,a){var C=Math.tan(p.upDegrees*Math.PI/180),w=Math.tan(p.downDegrees*Math.PI/180),h=Math.tan(p.leftDegrees*Math.PI/180),g=Math.tan(p.rightDegrees*Math.PI/180),t=2/(h+g),r=2/(C+w);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((h-g)*t*.5),e[9]=(C-w)*r*.5,e[10]=a/(L-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*L/(L-a),e[15]=0,e}},65074:function(B){B.exports=N;function N(e,p,L,a){var C=a[0],w=a[1],h=a[2],g=Math.sqrt(C*C+w*w+h*h),t,r,s,n,l,c,f,m,v,A,d,u,y,M,S,R,x,E,T,i,D,b,O,F;return Math.abs(g)<1e-6?null:(g=1/g,C*=g,w*=g,h*=g,t=Math.sin(L),r=Math.cos(L),s=1-r,n=p[0],l=p[1],c=p[2],f=p[3],m=p[4],v=p[5],A=p[6],d=p[7],u=p[8],y=p[9],M=p[10],S=p[11],R=C*C*s+r,x=w*C*s+h*t,E=h*C*s-w*t,T=C*w*s-h*t,i=w*w*s+r,D=h*w*s+C*t,b=C*h*s+w*t,O=w*h*s-C*t,F=h*h*s+r,e[0]=n*R+m*x+u*E,e[1]=l*R+v*x+y*E,e[2]=c*R+A*x+M*E,e[3]=f*R+d*x+S*E,e[4]=n*T+m*i+u*D,e[5]=l*T+v*i+y*D,e[6]=c*T+A*i+M*D,e[7]=f*T+d*i+S*D,e[8]=n*b+m*O+u*F,e[9]=l*b+v*O+y*F,e[10]=c*b+A*O+M*F,e[11]=f*b+d*O+S*F,p!==e&&(e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e)}},35545:function(B){B.exports=N;function N(e,p,L){var a=Math.sin(L),C=Math.cos(L),w=p[4],h=p[5],g=p[6],t=p[7],r=p[8],s=p[9],n=p[10],l=p[11];return p!==e&&(e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[4]=w*C+r*a,e[5]=h*C+s*a,e[6]=g*C+n*a,e[7]=t*C+l*a,e[8]=r*C-w*a,e[9]=s*C-h*a,e[10]=n*C-g*a,e[11]=l*C-t*a,e}},94918:function(B){B.exports=N;function N(e,p,L){var a=Math.sin(L),C=Math.cos(L),w=p[0],h=p[1],g=p[2],t=p[3],r=p[8],s=p[9],n=p[10],l=p[11];return p!==e&&(e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=w*C-r*a,e[1]=h*C-s*a,e[2]=g*C-n*a,e[3]=t*C-l*a,e[8]=w*a+r*C,e[9]=h*a+s*C,e[10]=g*a+n*C,e[11]=t*a+l*C,e}},15692:function(B){B.exports=N;function N(e,p,L){var a=Math.sin(L),C=Math.cos(L),w=p[0],h=p[1],g=p[2],t=p[3],r=p[4],s=p[5],n=p[6],l=p[7];return p!==e&&(e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=w*C+r*a,e[1]=h*C+s*a,e[2]=g*C+n*a,e[3]=t*C+l*a,e[4]=r*C-w*a,e[5]=s*C-h*a,e[6]=n*C-g*a,e[7]=l*C-t*a,e}},10789:function(B){B.exports=N;function N(e,p,L){var a=L[0],C=L[1],w=L[2];return e[0]=p[0]*a,e[1]=p[1]*a,e[2]=p[2]*a,e[3]=p[3]*a,e[4]=p[4]*C,e[5]=p[5]*C,e[6]=p[6]*C,e[7]=p[7]*C,e[8]=p[8]*w,e[9]=p[9]*w,e[10]=p[10]*w,e[11]=p[11]*w,e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},6726:function(B){B.exports=N;function N(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(B){B.exports=N;function N(e,p,L){var a=L[0],C=L[1],w=L[2],h,g,t,r,s,n,l,c,f,m,v,A;return p===e?(e[12]=p[0]*a+p[4]*C+p[8]*w+p[12],e[13]=p[1]*a+p[5]*C+p[9]*w+p[13],e[14]=p[2]*a+p[6]*C+p[10]*w+p[14],e[15]=p[3]*a+p[7]*C+p[11]*w+p[15]):(h=p[0],g=p[1],t=p[2],r=p[3],s=p[4],n=p[5],l=p[6],c=p[7],f=p[8],m=p[9],v=p[10],A=p[11],e[0]=h,e[1]=g,e[2]=t,e[3]=r,e[4]=s,e[5]=n,e[6]=l,e[7]=c,e[8]=f,e[9]=m,e[10]=v,e[11]=A,e[12]=h*a+s*C+f*w+p[12],e[13]=g*a+n*C+m*w+p[13],e[14]=t*a+l*C+v*w+p[14],e[15]=r*a+c*C+A*w+p[15]),e}},88654:function(B){B.exports=N;function N(e,p){if(e===p){var L=p[1],a=p[2],C=p[3],w=p[6],h=p[7],g=p[11];e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=L,e[6]=p[9],e[7]=p[13],e[8]=a,e[9]=w,e[11]=p[14],e[12]=C,e[13]=h,e[14]=g}else e[0]=p[0],e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=p[1],e[5]=p[5],e[6]=p[9],e[7]=p[13],e[8]=p[2],e[9]=p[6],e[10]=p[10],e[11]=p[14],e[12]=p[3],e[13]=p[7],e[14]=p[11],e[15]=p[15];return e}},42505:function(B,N,e){var p=e(72791),L=e(71299),a=e(98580),C=e(12018),w=e(83522),h=e(25075),g=e(68016),t=e(58404),r=e(18863),s=e(10973),n=e(25677),l=e(75686),c=e(53545),f=e(56131),m=e(32879),v=e(30120),A=e(13547),d=A.nextPow2,u=new w,y=!1;if(document.body){var M=document.body.appendChild(document.createElement("div"));M.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(M).fontStretch&&(y=!0),document.body.removeChild(M)}var S=function(E){R(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=C(E),this.shader=u.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),u.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(s(E)?E:{})};S.prototype.createShader=function(){var E=this.regl,T=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(D,b){return[b.atlas.width,b.atlas.height]},atlasDim:function(D,b){return[b.atlas.cols,b.atlas.rows]},atlas:function(D,b){return b.atlas.texture},charStep:function(D,b){return b.atlas.step},em:function(D,b){return b.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),i={};return{regl:E,draw:T,atlas:i}},S.prototype.update=function(E){var T=this;if(typeof E=="string")E={text:E};else if(!E)return;E=L(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(ke){return parseFloat(ke)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=r(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=v(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=S.baseFontSize+"px sans-serif");var i=!1,D=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(ke,We){if(typeof ke=="string")try{ke=p.parse(ke)}catch{ke=p.parse(S.baseFontSize+"px "+ke)}else ke=p.parse(p.stringify(ke));var rt=p.stringify({size:S.baseFontSize,family:ke.family,stretch:y?ke.stretch:void 0,variant:ke.variant,weight:ke.weight,style:ke.style}),et=n(ke.size),tt=Math.round(et[0]*l(et[1]));if(tt!==T.fontSize[We]&&(D=!0,T.fontSize[We]=tt),(!T.font[We]||rt!=T.font[We].baseString)&&(i=!0,T.font[We]=S.fonts[rt],!T.font[We])){var at=ke.family.join(", "),ct=[ke.style];ke.style!=ke.variant&&ct.push(ke.variant),ke.variant!=ke.weight&&ct.push(ke.weight),y&&ke.weight!=ke.stretch&&ct.push(ke.stretch),T.font[We]={baseString:rt,family:at,weight:ke.weight,stretch:ke.stretch,style:ke.style,variant:ke.variant,width:{},kerning:{},metrics:m(at,{origin:"top",fontSize:S.baseFontSize,fontStyle:ct.join(" ")})},S.fonts[rt]=T.font[We]}}),(i||D)&&this.font.forEach(function(ke,We){var rt=p.stringify({size:T.fontSize[We],family:ke.family,stretch:y?ke.stretch:void 0,variant:ke.variant,weight:ke.weight,style:ke.style});if(T.fontAtlas[We]=T.shader.atlas[rt],!T.fontAtlas[We]){var et=ke.metrics;T.shader.atlas[rt]=T.fontAtlas[We]={fontString:rt,step:Math.ceil(T.fontSize[We]*et.bottom*.5)*2,em:T.fontSize[We],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:T.regl.texture()}}E.text==null&&(E.text=T.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var b=Array(E.position.length*.5),O=0;O<b.length;O++)b[O]=E.text;E.text=b}var F;if(E.text!=null||i){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var V=1;V<E.text.length;V++)this.textOffsets[V]=this.textOffsets[V-1]+E.text[V-1].length,this.count+=E.text[V].length,this.counts.push(E.text[V].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];F=[],this.font.forEach(function(ke,We){S.atlasContext.font=ke.baseString;for(var rt=T.fontAtlas[We],et=0;et<T.text.length;et++){var tt=T.text.charAt(et);if(rt.ids[tt]==null&&(rt.ids[tt]=rt.chars.length,rt.chars.push(tt),F.push(tt)),ke.width[tt]==null&&(ke.width[tt]=S.atlasContext.measureText(tt).width/S.baseFontSize,T.kerning)){var at=[];for(var ct in ke.width)at.push(ct+tt,tt+ct);f(ke.kerning,c(ke.family,{pairs:at}))}}})}if(E.position)if(E.position.length>2){for(var _=!E.position[0].length,U=t.mallocFloat(this.count*2),H=0,z=0;H<this.counts.length;H++){var G=this.counts[H];if(_)for(var Y=0;Y<G;Y++)U[z++]=E.position[H*2],U[z++]=E.position[H*2+1];else for(var J=0;J<G;J++)U[z++]=E.position[H][0],U[z++]=E.position[H][1]}this.position.call?this.position({type:"float",data:U}):this.position=this.regl.buffer({type:"float",data:U}),t.freeFloat(U)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||i){var ae=t.mallocUint8(this.count),oe=t.mallocFloat(this.count*2);this.textWidth=[];for(var he=0,q=0;he<this.counts.length;he++){for(var Z=this.counts[he],$=this.font[he]||this.font[0],K=this.fontAtlas[he]||this.fontAtlas[0],re=0;re<Z;re++){var le=this.text.charAt(q),te=this.text.charAt(q-1);if(ae[q]=K.ids[le],oe[q*2]=$.width[le],re){var ee=oe[q*2-2],ue=oe[q*2],se=oe[q*2-1],ve=se+ee*.5+ue*.5;if(this.kerning){var be=$.kerning[te+le];be&&(ve+=be*.001)}oe[q*2+1]=ve}else oe[q*2+1]=oe[q*2]*.5;q++}this.textWidth.push(oe.length?oe[q*2-2]*.5+oe[q*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:ae,type:"uint8",usage:"stream"}),this.sizeBuffer({data:oe,type:"float",usage:"stream"}),t.freeUint8(ae),t.freeFloat(oe),F.length&&this.font.forEach(function(ke,We){var rt=T.fontAtlas[We],et=rt.step,tt=Math.floor(S.maxAtlasSize/et),at=Math.min(tt,rt.chars.length),ct=Math.ceil(rt.chars.length/at),dt=d(at*et),gt=d(ct*et);rt.width=dt,rt.height=gt,rt.rows=ct,rt.cols=at,rt.em&&rt.texture({data:g({canvas:S.atlasCanvas,font:rt.fontString,chars:rt.chars,shape:[dt,gt],step:[et,et]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(ke,We){var rt=Array.isArray(T.align)?T.align.length>1?T.align[We]:T.align[0]:T.align;if(typeof rt=="number")return rt;switch(rt){case"right":case"end":return-ke;case"center":case"centre":case"middle":return-ke*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ke,We){var rt=(T.font[We]||T.font[0]).metrics,et=0;return et+=rt.bottom*.5,typeof ke=="number"?et+=ke-rt.baseline:et+=-rt[ke],et*=-1,et})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=h(E.color,"uint8");else{var Ee;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var Ae=E.color.length;Ee=t.mallocUint8(Ae);for(var Oe=(E.color.subarray||E.color.slice).bind(E.color),Ue=0;Ue<Ae;Ue+=4)Ee.set(h(Oe(Ue,Ue+4),"uint8"),Ue)}else{var Le=E.color.length;Ee=t.mallocUint8(Le*4);for(var we=0;we<Le;we++)Ee.set(h(E.color[we]||0,"uint8"),we*4)}this.color=Ee}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Ce=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Ce){var Ve=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ve);for(var Ne=0;Ne<this.batch.length;Ne++)this.batch[Ne]={count:this.counts.length>1?this.counts[Ne]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ne]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ne*4,Ne*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ne]:this.opacity,baseline:this.baselineOffset[Ne]!=null?this.baselineOffset[Ne]:this.baselineOffset[0],align:this.align?this.alignOffset[Ne]!=null?this.alignOffset[Ne]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ne]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ne*2,Ne*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},S.prototype.destroy=function(){},S.prototype.kerning=!0,S.prototype.position={constant:new Float32Array(2)},S.prototype.translate=null,S.prototype.scale=null,S.prototype.font=null,S.prototype.text="",S.prototype.positionOffset=[0,0],S.prototype.opacity=1,S.prototype.color=new Uint8Array([0,0,0,255]),S.prototype.alignOffset=[0,0],S.maxAtlasSize=1024,S.atlasCanvas=document.createElement("canvas"),S.atlasContext=S.atlasCanvas.getContext("2d",{alpha:!1}),S.baseFontSize=64,S.fonts={};function R(x){return typeof x=="function"&&x._gl&&x.prop&&x.texture&&x.buffer}B.exports=S},12018:function(B,N,e){var p=e(71299);B.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},a(t)?t={container:t}:C(t)?t={container:t}:w(t)?t={gl:t}:t=p(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}a(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=h(),t.container.appendChild(t.canvas),L(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=h(),t.container.appendChild(t.canvas),L(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(s){try{t.gl=t.canvas.getContext(s,t.attrs)}catch{}return t.gl}),t.gl};function L(g){if(g.container)if(g.container==document.body)document.body.style.width||(g.canvas.width=g.width||g.pixelRatio*e.g.innerWidth),document.body.style.height||(g.canvas.height=g.height||g.pixelRatio*e.g.innerHeight);else{var t=g.container.getBoundingClientRect();g.canvas.width=g.width||t.right-t.left,g.canvas.height=g.height||t.bottom-t.top}}function a(g){return typeof g.getContext=="function"&&"width"in g&&"height"in g}function C(g){return typeof g.nodeName=="string"&&typeof g.appendChild=="function"&&typeof g.getBoundingClientRect=="function"}function w(g){return typeof g.drawArrays=="function"||typeof g.drawElements=="function"}function h(){var g=document.createElement("canvas");return g.style.position="absolute",g.style.top=0,g.style.left=0,g}},56068:function(B){B.exports=function(N){typeof N=="string"&&(N=[N]);for(var e=[].slice.call(arguments,1),p=[],L=0;L<N.length-1;L++)p.push(N[L],e[L]||"");return p.push(N[L]),p.join("")}},40383:function(B,N,e){var p=e(68318),L=p("%Object.getOwnPropertyDescriptor%",!0);if(L)try{L([],"length")}catch{L=null}B.exports=L},57035:function(B,N,e){var p=e(54404),L;typeof e.g.matchMedia=="function"?L=!e.g.matchMedia("(hover: none)").matches:L=p,B.exports=L},38520:function(B,N,e){var p=e(54404);function L(){var a=!1;try{var C=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{a=!1}return a}B.exports=p&&L()},55622:function(B,N,e){var p=e(68318),L=p("%Object.defineProperty%",!0),a=function(){if(L)try{return L({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return L([],"length",{value:1}).length!==1}catch{return!0}},B.exports=a},57877:function(B,N,e){var p=typeof Symbol<"u"&&Symbol,L=e(35638);B.exports=function(){return typeof p!="function"||typeof Symbol!="function"||typeof p("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},35638:function(B){B.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},p=Symbol("test"),L=Object(p);if(typeof p=="string"||Object.prototype.toString.call(p)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var a=42;e[p]=a;for(p in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==p||!Object.prototype.propertyIsEnumerable.call(e,p))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var w=Object.getOwnPropertyDescriptor(e,p);if(w.value!==a||w.enumerable!==!0)return!1}return!0}},84543:function(B,N,e){var p=e(35638);B.exports=function(){return p()&&!!Symbol.toStringTag}},35065:function(B,N,e){var p=e(77575);B.exports=p.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(B,N){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */N.read=function(e,p,L,a,C){var w,h,g=C*8-a-1,t=(1<<g)-1,r=t>>1,s=-7,n=L?C-1:0,l=L?-1:1,c=e[p+n];for(n+=l,w=c&(1<<-s)-1,c>>=-s,s+=g;s>0;w=w*256+e[p+n],n+=l,s-=8);for(h=w&(1<<-s)-1,w>>=-s,s+=a;s>0;h=h*256+e[p+n],n+=l,s-=8);if(w===0)w=1-r;else{if(w===t)return h?NaN:(c?-1:1)*(1/0);h=h+Math.pow(2,a),w=w-r}return(c?-1:1)*h*Math.pow(2,w-a)},N.write=function(e,p,L,a,C,w){var h,g,t,r=w*8-C-1,s=(1<<r)-1,n=s>>1,l=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=a?0:w-1,f=a?1:-1,m=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(g=isNaN(p)?1:0,h=s):(h=Math.floor(Math.log(p)/Math.LN2),p*(t=Math.pow(2,-h))<1&&(h--,t*=2),h+n>=1?p+=l/t:p+=l*Math.pow(2,1-n),p*t>=2&&(h++,t/=2),h+n>=s?(g=0,h=s):h+n>=1?(g=(p*t-1)*Math.pow(2,C),h=h+n):(g=p*Math.pow(2,n-1)*Math.pow(2,C),h=0));C>=8;e[L+c]=g&255,c+=f,g/=256,C-=8);for(h=h<<C|g,r+=C;r>0;e[L+c]=h&255,c+=f,h/=256,r-=8);e[L+c-f]|=m*128}},42018:function(B){typeof Object.create=="function"?B.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:B.exports=function(e,p){if(p){e.super_=p;var L=function(){};L.prototype=p.prototype,e.prototype=new L,e.prototype.constructor=e}}},47216:function(B,N,e){var p=e(84543)(),L=e(6614),a=L("Object.prototype.toString"),C=function(t){return p&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:a(t)==="[object Arguments]"},w=function(t){return C(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&a(t)!=="[object Array]"&&a(t.callee)==="[object Function]"},h=function(){return C(arguments)}();C.isLegacyArguments=w,B.exports=h?C:w},54404:function(B){B.exports=!0},85395:function(B){var N=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,p,L;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{p=Object.defineProperty({},"length",{get:function(){throw L}}),L={},e(function(){throw 42},null,p)}catch(A){A!==L&&(e=null)}else e=null;var a=/^\s*class\b/,C=function(d){try{var u=N.call(d);return a.test(u)}catch{return!1}},w=function(d){try{return C(d)?!1:(N.call(d),!0)}catch{return!1}},h=Object.prototype.toString,g="[object Object]",t="[object Function]",r="[object GeneratorFunction]",s="[object HTMLAllCollection]",n="[object HTML document.all class]",l="[object HTMLCollection]",c=typeof Symbol=="function"&&!!Symbol.toStringTag,f=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var v=document.all;h.call(v)===h.call(document.all)&&(m=function(d){if((f||!d)&&(typeof d>"u"||typeof d=="object"))try{var u=h.call(d);return(u===s||u===n||u===l||u===g)&&d("")==null}catch{}return!1})}B.exports=e?function(d){if(m(d))return!0;if(!d||typeof d!="function"&&typeof d!="object")return!1;try{e(d,null,p)}catch(u){if(u!==L)return!1}return!C(d)&&w(d)}:function(d){if(m(d))return!0;if(!d||typeof d!="function"&&typeof d!="object")return!1;if(c)return w(d);if(C(d))return!1;var u=h.call(d);return u!==t&&u!==r&&!/^\[object HTML/.test(u)?!1:w(d)}},65481:function(B,N,e){var p=Object.prototype.toString,L=Function.prototype.toString,a=/^\s*(?:function)?\*/,C=e(84543)(),w=Object.getPrototypeOf,h=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},g;B.exports=function(r){if(typeof r!="function")return!1;if(a.test(L.call(r)))return!0;if(!C){var s=p.call(r);return s==="[object GeneratorFunction]"}if(!w)return!1;if(typeof g>"u"){var n=h();g=n?w(n):!1}return w(r)===g}},62683:function(B){B.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(B){B.exports=function(e){return e!==e}},15567:function(B,N,e){var p=e(68222),L=e(17045),a=e(64274),C=e(14922),w=e(22442),h=p(C(),Number);L(h,{getPolyfill:C,implementation:a,shim:w}),B.exports=h},14922:function(B,N,e){var p=e(64274);B.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:p}},22442:function(B,N,e){var p=e(17045),L=e(14922);B.exports=function(){var C=L();return p(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},64941:function(B){B.exports=function(N){var e=typeof N;return N!==null&&(e==="object"||e==="function")}},10973:function(B){var N=Object.prototype.toString;B.exports=function(e){var p;return N.call(e)==="[object Object]"&&(p=Object.getPrototypeOf(e),p===null||p===Object.getPrototypeOf({}))}},18546:function(B){B.exports=function(N){for(var e=N.length,p,L=0;L<e;L++)if(p=N.charCodeAt(L),(p<9||p>13)&&p!==32&&p!==133&&p!==160&&p!==5760&&p!==6158&&(p<8192||p>8205)&&p!==8232&&p!==8233&&p!==8239&&p!==8287&&p!==8288&&p!==12288&&p!==65279)return!1;return!0}},89546:function(B){B.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(B,N,e){var p=e(31353),L=e(72077),a=e(6614),C=a("Object.prototype.toString"),w=e(84543)(),h=e(40383),g=typeof globalThis>"u"?e.g:globalThis,t=L(),r=a("Array.prototype.indexOf",!0)||function(m,v){for(var A=0;A<m.length;A+=1)if(m[A]===v)return A;return-1},s=a("String.prototype.slice"),n={},l=Object.getPrototypeOf;w&&h&&l&&p(t,function(f){var m=new g[f];if(Symbol.toStringTag in m){var v=l(m),A=h(v,Symbol.toStringTag);if(!A){var d=l(v);A=h(d,Symbol.toStringTag)}n[f]=A.get}});var c=function(m){var v=!1;return p(n,function(A,d){if(!v)try{v=A.call(m)===d}catch{}}),v};B.exports=function(m){if(!m||typeof m!="object")return!1;if(!w||!(Symbol.toStringTag in m)){var v=s(C(m),8,-1);return r(t,v)>-1}return h?c(m):!1}},44517:function(B){(function(N,e){B.exports=e()})(this,function(){var N,e,p;function L(a,C){if(!N)N=C;else if(!e)e=C;else{var w="var sharedChunk = {}; ("+N+")(sharedChunk); ("+e+")(sharedChunk);",h={};N(h),p=C(h),p.workerUrl=window.URL.createObjectURL(new Blob([w],{type:"text/javascript"}))}}return L(["exports"],function(a){function C(I,k){return k={exports:{}},I(k,k.exports),k.exports}var w="1.10.1",h=g;function g(I,k,j,ie){this.cx=3*I,this.bx=3*(j-I)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*k,this.by=3*(ie-k)-this.cy,this.ay=1-this.cy-this.by,this.p1x=I,this.p1y=ie,this.p2x=j,this.p2y=ie}g.prototype.sampleCurveX=function(I){return((this.ax*I+this.bx)*I+this.cx)*I},g.prototype.sampleCurveY=function(I){return((this.ay*I+this.by)*I+this.cy)*I},g.prototype.sampleCurveDerivativeX=function(I){return(3*this.ax*I+2*this.bx)*I+this.cx},g.prototype.solveCurveX=function(I,k){typeof k>"u"&&(k=1e-6);var j,ie,pe,Se,Ie;for(pe=I,Ie=0;Ie<8;Ie++){if(Se=this.sampleCurveX(pe)-I,Math.abs(Se)<k)return pe;var $e=this.sampleCurveDerivativeX(pe);if(Math.abs($e)<1e-6)break;pe=pe-Se/$e}if(j=0,ie=1,pe=I,pe<j)return j;if(pe>ie)return ie;for(;j<ie;){if(Se=this.sampleCurveX(pe),Math.abs(Se-I)<k)return pe;I>Se?j=pe:ie=pe,pe=(ie-j)*.5+j}return pe},g.prototype.solve=function(I,k){return this.sampleCurveY(this.solveCurveX(I,k))};var t=r;function r(I,k){this.x=I,this.y=k}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(I){return this.clone()._add(I)},sub:function(I){return this.clone()._sub(I)},multByPoint:function(I){return this.clone()._multByPoint(I)},divByPoint:function(I){return this.clone()._divByPoint(I)},mult:function(I){return this.clone()._mult(I)},div:function(I){return this.clone()._div(I)},rotate:function(I){return this.clone()._rotate(I)},rotateAround:function(I,k){return this.clone()._rotateAround(I,k)},matMult:function(I){return this.clone()._matMult(I)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(I){return this.x===I.x&&this.y===I.y},dist:function(I){return Math.sqrt(this.distSqr(I))},distSqr:function(I){var k=I.x-this.x,j=I.y-this.y;return k*k+j*j},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(I){return Math.atan2(this.y-I.y,this.x-I.x)},angleWith:function(I){return this.angleWithSep(I.x,I.y)},angleWithSep:function(I,k){return Math.atan2(this.x*k-this.y*I,this.x*I+this.y*k)},_matMult:function(I){var k=I[0]*this.x+I[1]*this.y,j=I[2]*this.x+I[3]*this.y;return this.x=k,this.y=j,this},_add:function(I){return this.x+=I.x,this.y+=I.y,this},_sub:function(I){return this.x-=I.x,this.y-=I.y,this},_mult:function(I){return this.x*=I,this.y*=I,this},_div:function(I){return this.x/=I,this.y/=I,this},_multByPoint:function(I){return this.x*=I.x,this.y*=I.y,this},_divByPoint:function(I){return this.x/=I.x,this.y/=I.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var I=this.y;return this.y=this.x,this.x=-I,this},_rotate:function(I){var k=Math.cos(I),j=Math.sin(I),ie=k*this.x-j*this.y,pe=j*this.x+k*this.y;return this.x=ie,this.y=pe,this},_rotateAround:function(I,k){var j=Math.cos(I),ie=Math.sin(I),pe=k.x+j*(this.x-k.x)-ie*(this.y-k.y),Se=k.y+ie*(this.x-k.x)+j*(this.y-k.y);return this.x=pe,this.y=Se,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(I){return I instanceof r?I:Array.isArray(I)?new r(I[0],I[1]):I};function s(I,k){if(Array.isArray(I)){if(!Array.isArray(k)||I.length!==k.length)return!1;for(var j=0;j<I.length;j++)if(!s(I[j],k[j]))return!1;return!0}if(typeof I=="object"&&I!==null&&k!==null){if(typeof k!="object")return!1;var ie=Object.keys(I);if(ie.length!==Object.keys(k).length)return!1;for(var pe in I)if(!s(I[pe],k[pe]))return!1;return!0}return I===k}function n(I){if(I<=0)return 0;if(I>=1)return 1;var k=I*I,j=k*I;return 4*(I<.5?j:3*(I-k)+j-.75)}function l(I,k,j,ie){var pe=new h(I,k,j,ie);return function(Se){return pe.solve(Se)}}var c=l(.25,.1,.25,1);function f(I,k,j){return Math.min(j,Math.max(k,I))}function m(I,k,j){var ie=j-k,pe=((I-k)%ie+ie)%ie+k;return pe===k?j:pe}function v(I,k,j){if(!I.length)return j(null,[]);var ie=I.length,pe=new Array(I.length),Se=null;I.forEach(function(Ie,$e){k(Ie,function(ut,Tt){ut&&(Se=ut),pe[$e]=Tt,--ie===0&&j(Se,pe)})})}function A(I){var k=[];for(var j in I)k.push(I[j]);return k}function d(I,k){var j=[];for(var ie in I)ie in k||j.push(ie);return j}function u(I){for(var k=[],j=arguments.length-1;j-- >0;)k[j]=arguments[j+1];for(var ie=0,pe=k;ie<pe.length;ie+=1){var Se=pe[ie];for(var Ie in Se)I[Ie]=Se[Ie]}return I}function y(I,k){for(var j={},ie=0;ie<k.length;ie++){var pe=k[ie];pe in I&&(j[pe]=I[pe])}return j}var M=1;function S(){return M++}function R(){function I(k){return k?(k^Math.random()*16>>k/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,I)}return I()}function x(I){return I?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(I):!1}function E(I,k){I.forEach(function(j){k[j]&&(k[j]=k[j].bind(k))})}function T(I,k){return I.indexOf(k,I.length-k.length)!==-1}function i(I,k,j){var ie={};for(var pe in I)ie[pe]=k.call(j||this,I[pe],pe,I);return ie}function D(I,k,j){var ie={};for(var pe in I)k.call(j||this,I[pe],pe,I)&&(ie[pe]=I[pe]);return ie}function b(I){return Array.isArray(I)?I.map(b):typeof I=="object"&&I?i(I,b):I}function O(I,k){for(var j=0;j<I.length;j++)if(k.indexOf(I[j])>=0)return!0;return!1}var F={};function V(I){F[I]||(typeof console<"u"&&console.warn(I),F[I]=!0)}function _(I,k,j){return(j.y-I.y)*(k.x-I.x)>(k.y-I.y)*(j.x-I.x)}function U(I){for(var k=0,j=0,ie=I.length,pe=ie-1,Se=void 0,Ie=void 0;j<ie;pe=j++)Se=I[j],Ie=I[pe],k+=(Ie.x-Se.x)*(Se.y+Ie.y);return k}function H(I){var k=I[0],j=I[1],ie=I[2];return j+=90,j*=Math.PI/180,ie*=Math.PI/180,{x:k*Math.cos(j)*Math.sin(ie),y:k*Math.sin(j)*Math.sin(ie),z:k*Math.cos(ie)}}function z(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function G(I){var k=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,j={};if(I.replace(k,function(pe,Se,Ie,$e){var ut=Ie||$e;return j[Se]=ut?ut.toLowerCase():!0,""}),j["max-age"]){var ie=parseInt(j["max-age"],10);isNaN(ie)?delete j["max-age"]:j["max-age"]=ie}return j}var Y=null;function J(I){if(Y==null){var k=I.navigator?I.navigator.userAgent:null;Y=!!I.safari||!!(k&&(/\b(iPad|iPhone|iPod)\b/.test(k)||k.match("Safari")&&!k.match("Chrome")))}return Y}function ae(I){try{var k=self[I];return k.setItem("_mapbox_test_",1),k.removeItem("_mapbox_test_"),!0}catch{return!1}}function oe(I){return self.btoa(encodeURIComponent(I).replace(/%([0-9A-F]{2})/g,function(k,j){return String.fromCharCode(+("0x"+j))}))}function he(I){return decodeURIComponent(self.atob(I).split("").map(function(k){return"%"+("00"+k.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var q=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),Z=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,$=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,K,re,le={now:q,frame:function(k){var j=Z(k);return{cancel:function(){return $(j)}}},getImageData:function(k,j){j===void 0&&(j=0);var ie=self.document.createElement("canvas"),pe=ie.getContext("2d");if(!pe)throw new Error("failed to create canvas 2d context");return ie.width=k.width,ie.height=k.height,pe.drawImage(k,0,0,k.width,k.height),pe.getImageData(-j,-j,k.width+2*j,k.height+2*j)},resolveURL:function(k){return K||(K=self.document.createElement("a")),K.href=k,K.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(re==null&&(re=self.matchMedia("(prefers-reduced-motion: reduce)")),re.matches):!1}},te={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ee={supported:!1,testSupport:Ee},ue,se=!1,ve,be=!1;self.document&&(ve=self.document.createElement("img"),ve.onload=function(){ue&&Ae(ue),ue=null,be=!0},ve.onerror=function(){se=!0,ue=null},ve.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Ee(I){se||!ve||(be?Ae(I):ue=I)}function Ae(I){var k=I.createTexture();I.bindTexture(I.TEXTURE_2D,k);try{if(I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,ve),I.isContextLost())return;ee.supported=!0}catch{}I.deleteTexture(k),se=!0}var Oe="01";function Ue(){for(var I="1",k="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",j="",ie=0;ie<10;ie++)j+=k[Math.floor(Math.random()*62)];var pe=12*60*60*1e3,Se=[I,Oe,j].join(""),Ie=Date.now()+pe;return{token:Se,tokenExpiresAt:Ie}}var Le=function(k,j){this._transformRequestFn=k,this._customAccessToken=j,this._createSkuToken()};Le.prototype._createSkuToken=function(){var k=Ue();this._skuToken=k.token,this._skuTokenExpiresAt=k.tokenExpiresAt},Le.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Le.prototype.transformRequest=function(k,j){return this._transformRequestFn?this._transformRequestFn(k,j)||{url:k}:{url:k}},Le.prototype.normalizeStyleURL=function(k,j){if(!we(k))return k;var ie=rt(k);return ie.path="/styles/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||j)},Le.prototype.normalizeGlyphsURL=function(k,j){if(!we(k))return k;var ie=rt(k);return ie.path="/fonts/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||j)},Le.prototype.normalizeSourceURL=function(k,j){if(!we(k))return k;var ie=rt(k);return ie.path="/v4/"+ie.authority+".json",ie.params.push("secure"),this._makeAPIURL(ie,this._customAccessToken||j)},Le.prototype.normalizeSpriteURL=function(k,j,ie,pe){var Se=rt(k);return we(k)?(Se.path="/styles/v1"+Se.path+"/sprite"+j+ie,this._makeAPIURL(Se,this._customAccessToken||pe)):(Se.path+=""+j+ie,et(Se))},Le.prototype.normalizeTileURL=function(k,j){if(this._isSkuTokenExpired()&&this._createSkuToken(),k&&!we(k))return k;var ie=rt(k),pe=/(\.(png|jpg)\d*)(?=$)/,Se=/^.+\/v4\//,Ie=le.devicePixelRatio>=2||j===512?"@2x":"",$e=ee.supported?".webp":"$1";ie.path=ie.path.replace(pe,""+Ie+$e),ie.path=ie.path.replace(Se,"/"),ie.path="/v4"+ie.path;var ut=this._customAccessToken||ke(ie.params)||te.ACCESS_TOKEN;return te.REQUIRE_ACCESS_TOKEN&&ut&&this._skuToken&&ie.params.push("sku="+this._skuToken),this._makeAPIURL(ie,ut)},Le.prototype.canonicalizeTileURL=function(k,j){var ie="/v4/",pe=/\.[\w]+$/,Se=rt(k);if(!Se.path.match(/(^\/v4\/)/)||!Se.path.match(pe))return k;var Ie="mapbox://tiles/";Ie+=Se.path.replace(ie,"");var $e=Se.params;return j&&($e=$e.filter(function(ut){return!ut.match(/^access_token=/)})),$e.length&&(Ie+="?"+$e.join("&")),Ie},Le.prototype.canonicalizeTileset=function(k,j){for(var ie=j?we(j):!1,pe=[],Se=0,Ie=k.tiles||[];Se<Ie.length;Se+=1){var $e=Ie[Se];Ve($e)?pe.push(this.canonicalizeTileURL($e,ie)):pe.push($e)}return pe},Le.prototype._makeAPIURL=function(k,j){var ie="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",pe=rt(te.API_URL);if(k.protocol=pe.protocol,k.authority=pe.authority,pe.path!=="/"&&(k.path=""+pe.path+k.path),!te.REQUIRE_ACCESS_TOKEN)return et(k);if(j=j||te.ACCESS_TOKEN,!j)throw new Error("An API access token is required to use Mapbox GL. "+ie);if(j[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ie);return k.params=k.params.filter(function(Se){return Se.indexOf("access_token")===-1}),k.params.push("access_token="+j),et(k)};function we(I){return I.indexOf("mapbox:")===0}var Ce=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ve(I){return Ce.test(I)}function Ne(I){return I.indexOf("sku=")>0&&Ve(I)}function ke(I){for(var k=0,j=I;k<j.length;k+=1){var ie=j[k],pe=ie.match(/^access_token=(.*)$/);if(pe)return pe[1]}return null}var We=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function rt(I){var k=I.match(We);if(!k)throw new Error("Unable to parse URL object");return{protocol:k[1],authority:k[2],path:k[3]||"/",params:k[4]?k[4].split("&"):[]}}function et(I){var k=I.params.length?"?"+I.params.join("&"):"";return I.protocol+"://"+I.authority+I.path+k}var tt="mapbox.eventData";function at(I){if(!I)return null;var k=I.split(".");if(!k||k.length!==3)return null;try{var j=JSON.parse(he(k[1]));return j}catch{return null}}var ct=function(k){this.type=k,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ct.prototype.getStorageKey=function(k){var j=at(te.ACCESS_TOKEN),ie="";return j&&j.u?ie=oe(j.u):ie=te.ACCESS_TOKEN||"",k?tt+"."+k+":"+ie:tt+":"+ie},ct.prototype.fetchEventData=function(){var k=ae("localStorage"),j=this.getStorageKey(),ie=this.getStorageKey("uuid");if(k)try{var pe=self.localStorage.getItem(j);pe&&(this.eventData=JSON.parse(pe));var Se=self.localStorage.getItem(ie);Se&&(this.anonId=Se)}catch{V("Unable to read from LocalStorage")}},ct.prototype.saveEventData=function(){var k=ae("localStorage"),j=this.getStorageKey(),ie=this.getStorageKey("uuid");if(k)try{self.localStorage.setItem(ie,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(j,JSON.stringify(this.eventData))}catch{V("Unable to write to LocalStorage")}},ct.prototype.processRequests=function(k){},ct.prototype.postEvent=function(k,j,ie,pe){var Se=this;if(te.EVENTS_URL){var Ie=rt(te.EVENTS_URL);Ie.params.push("access_token="+(pe||te.ACCESS_TOKEN||""));var $e={event:this.type,created:new Date(k).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:w,skuId:Oe,userId:this.anonId},ut=j?u($e,j):$e,Tt={url:et(Ie),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ut])};this.pendingRequest=Dt(Tt,function(Mt){Se.pendingRequest=null,ie(Mt),Se.saveEventData(),Se.processRequests(pe)})}},ct.prototype.queueRequest=function(k,j){this.queue.push(k),this.processRequests(j)};var dt=function(I){function k(){I.call(this,"map.load"),this.success={},this.skuToken=""}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.postMapLoadEvent=function(ie,pe,Se,Ie){this.skuToken=Se,(te.EVENTS_URL&&Ie||te.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function($e){return we($e)||Ve($e)}))&&this.queueRequest({id:pe,timestamp:Date.now()},Ie)},k.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){var Se=this.queue.shift(),Ie=Se.id,$e=Se.timestamp;Ie&&this.success[Ie]||(this.anonId||this.fetchEventData(),x(this.anonId)||(this.anonId=R()),this.postEvent($e,{skuToken:this.skuToken},function(ut){ut||Ie&&(pe.success[Ie]=!0)},ie))}},k}(ct),gt=function(I){function k(j){I.call(this,"appUserTurnstile"),this._customAccessToken=j}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.postTurnstileEvent=function(ie,pe){te.EVENTS_URL&&te.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Se){return we(Se)||Ve(Se)})&&this.queueRequest(Date.now(),pe)},k.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Se=at(te.ACCESS_TOKEN),Ie=Se?Se.u:te.ACCESS_TOKEN,$e=Ie!==this.eventData.tokenU;x(this.anonId)||(this.anonId=R(),$e=!0);var ut=this.queue.shift();if(this.eventData.lastSuccess){var Tt=new Date(this.eventData.lastSuccess),Mt=new Date(ut),Gt=(ut-this.eventData.lastSuccess)/(24*60*60*1e3);$e=$e||Gt>=1||Gt<-1||Tt.getDate()!==Mt.getDate()}else $e=!0;if(!$e)return this.processRequests();this.postEvent(ut,{"enabled.telemetry":!1},function(ir){ir||(pe.eventData.lastSuccess=ut,pe.eventData.tokenU=Ie)},ie)}},k}(ct),Et=new gt,Ct=Et.postTurnstileEvent.bind(Et),Vt=new dt,Je=Vt.postMapLoadEvent.bind(Vt),_e="mapbox-tiles",Fe=500,Be=50,De=1e3*60*7,Te;function xe(){self.caches&&!Te&&(Te=self.caches.open(_e))}var Me;function Pe(I,k){if(Me===void 0)try{new Response(new ReadableStream),Me=!0}catch{Me=!1}Me?k(I.body):I.blob().then(k)}function He(I,k,j){if(xe(),!!Te){var ie={status:k.status,statusText:k.statusText,headers:new self.Headers};k.headers.forEach(function(Ie,$e){return ie.headers.set($e,Ie)});var pe=G(k.headers.get("Cache-Control")||"");if(!pe["no-store"]){pe["max-age"]&&ie.headers.set("Expires",new Date(j+pe["max-age"]*1e3).toUTCString());var Se=new Date(ie.headers.get("Expires")).getTime()-j;Se<De||Pe(k,function(Ie){var $e=new self.Response(Ie,ie);xe(),Te&&Te.then(function(ut){return ut.put(Ke(I.url),$e)}).catch(function(ut){return V(ut.message)})})}}}function Ke(I){var k=I.indexOf("?");return k<0?I:I.slice(0,k)}function qe(I,k){if(xe(),!Te)return k(null);var j=Ke(I.url);Te.then(function(ie){ie.match(j).then(function(pe){var Se=vt(pe);ie.delete(j),Se&&ie.put(j,pe.clone()),k(null,pe,Se)}).catch(k)}).catch(k)}function vt(I){if(!I)return!1;var k=new Date(I.headers.get("Expires")||0),j=G(I.headers.get("Cache-Control")||"");return k>Date.now()&&!j["no-cache"]}var bt=1/0;function Wt(I){bt++,bt>Be&&(I.getActor().send("enforceCacheSizeLimit",Fe),bt=0)}function qt(I){xe(),Te&&Te.then(function(k){k.keys().then(function(j){for(var ie=0;ie<j.length-I;ie++)k.delete(j[ie])})})}function At(I){var k=self.caches.delete(_e);I&&k.catch(I).then(function(){return I()})}function zt(I,k){Fe=I,Be=k}var Kt;function Sr(){return Kt==null&&(Kt=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Kt}var yt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yt);var Zt=function(I){function k(j,ie,pe){ie===401&&Ve(pe)&&(j+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),I.call(this,j),this.status=ie,this.url=pe,this.name=this.constructor.name,this.message=j}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},k}(Error),$t=z()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},mr=function(I){return/^file:/.test(I)||/^file:/.test($t())&&!/^\w+:/.test(I)};function ur(I,k){var j=new self.AbortController,ie=new self.Request(I.url,{method:I.method||"GET",body:I.body,credentials:I.credentials,headers:I.headers,referrer:$t(),signal:j.signal}),pe=!1,Se=!1,Ie=Ne(ie.url);I.type==="json"&&ie.headers.set("Accept","application/json");var $e=function(Tt,Mt,Gt){if(!Se){if(Tt&&Tt.message!=="SecurityError"&&V(Tt),Mt&&Gt)return ut(Mt);var ir=Date.now();self.fetch(ie).then(function(Qt){if(Qt.ok){var br=Ie?Qt.clone():null;return ut(Qt,br,ir)}else return k(new Zt(Qt.statusText,Qt.status,I.url))}).catch(function(Qt){Qt.code!==20&&k(new Error(Qt.message))})}},ut=function(Tt,Mt,Gt){(I.type==="arrayBuffer"?Tt.arrayBuffer():I.type==="json"?Tt.json():Tt.text()).then(function(ir){Se||(Mt&&Gt&&He(ie,Mt,Gt),pe=!0,k(null,ir,Tt.headers.get("Cache-Control"),Tt.headers.get("Expires")))}).catch(function(ir){Se||k(new Error(ir.message))})};return Ie?qe(ie,$e):$e(null,null),{cancel:function(){Se=!0,pe||j.abort()}}}function pt(I,k){var j=new self.XMLHttpRequest;j.open(I.method||"GET",I.url,!0),I.type==="arrayBuffer"&&(j.responseType="arraybuffer");for(var ie in I.headers)j.setRequestHeader(ie,I.headers[ie]);return I.type==="json"&&(j.responseType="text",j.setRequestHeader("Accept","application/json")),j.withCredentials=I.credentials==="include",j.onerror=function(){k(new Error(j.statusText))},j.onload=function(){if((j.status>=200&&j.status<300||j.status===0)&&j.response!==null){var pe=j.response;if(I.type==="json")try{pe=JSON.parse(j.response)}catch(Se){return k(Se)}k(null,pe,j.getResponseHeader("Cache-Control"),j.getResponseHeader("Expires"))}else k(new Zt(j.statusText,j.status,I.url))},j.send(I.body),{cancel:function(){return j.abort()}}}var st=function(I,k){if(!mr(I.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return ur(I,k);if(z()&&self.worker&&self.worker.actor){var j=!0;return self.worker.actor.send("getResource",I,k,void 0,j)}}return pt(I,k)},xt=function(I,k){return st(u(I,{type:"json"}),k)},St=function(I,k){return st(u(I,{type:"arrayBuffer"}),k)},Dt=function(I,k){return st(u(I,{method:"POST"}),k)};function Rt(I){var k=self.document.createElement("a");return k.href=I,k.protocol===self.document.location.protocol&&k.host===self.document.location.host}var Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Nt(I,k,j,ie){var pe=new self.Image,Se=self.URL;pe.onload=function(){k(null,pe),Se.revokeObjectURL(pe.src)},pe.onerror=function(){return k(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ie=new self.Blob([new Uint8Array(I)],{type:"image/png"});pe.cacheControl=j,pe.expires=ie,pe.src=I.byteLength?Se.createObjectURL(Ie):Bt}function Xt(I,k){var j=new self.Blob([new Uint8Array(I)],{type:"image/png"});self.createImageBitmap(j).then(function(ie){k(null,ie)}).catch(function(ie){k(new Error("Could not load image because of "+ie.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var lr,sr,dr=function(){lr=[],sr=0};dr();var Ye=function(I,k){if(ee.supported&&(I.headers||(I.headers={}),I.headers.accept="image/webp,*/*"),sr>=te.MAX_PARALLEL_IMAGE_REQUESTS){var j={requestParameters:I,callback:k,cancelled:!1,cancel:function(){this.cancelled=!0}};return lr.push(j),j}sr++;var ie=!1,pe=function(){if(!ie)for(ie=!0,sr--;lr.length&&sr<te.MAX_PARALLEL_IMAGE_REQUESTS;){var Ie=lr.shift(),$e=Ie.requestParameters,ut=Ie.callback,Tt=Ie.cancelled;Tt||(Ie.cancel=Ye($e,ut).cancel)}},Se=St(I,function(Ie,$e,ut,Tt){pe(),Ie?k(Ie):$e&&(Sr()?Xt($e,k):Nt($e,k,ut,Tt))});return{cancel:function(){Se.cancel(),pe()}}},je=function(I,k){var j=self.document.createElement("video");j.muted=!0,j.onloadstart=function(){k(null,j)};for(var ie=0;ie<I.length;ie++){var pe=self.document.createElement("source");Rt(I[ie])||(j.crossOrigin="Anonymous"),pe.src=I[ie],j.appendChild(pe)}return{cancel:function(){}}};function It(I,k,j){var ie=j[I]&&j[I].indexOf(k)!==-1;ie||(j[I]=j[I]||[],j[I].push(k))}function kt(I,k,j){if(j&&j[I]){var ie=j[I].indexOf(k);ie!==-1&&j[I].splice(ie,1)}}var jt=function(k,j){j===void 0&&(j={}),u(this,j),this.type=k},tr=function(I){function k(j,ie){ie===void 0&&(ie={}),I.call(this,"error",u({error:j},ie))}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(jt),or=function(){};or.prototype.on=function(k,j){return this._listeners=this._listeners||{},It(k,j,this._listeners),this},or.prototype.off=function(k,j){return kt(k,j,this._listeners),kt(k,j,this._oneTimeListeners),this},or.prototype.once=function(k,j){return this._oneTimeListeners=this._oneTimeListeners||{},It(k,j,this._oneTimeListeners),this},or.prototype.fire=function(k,j){typeof k=="string"&&(k=new jt(k,j||{}));var ie=k.type;if(this.listens(ie)){k.target=this;for(var pe=this._listeners&&this._listeners[ie]?this._listeners[ie].slice():[],Se=0,Ie=pe;Se<Ie.length;Se+=1){var $e=Ie[Se];$e.call(this,k)}for(var ut=this._oneTimeListeners&&this._oneTimeListeners[ie]?this._oneTimeListeners[ie].slice():[],Tt=0,Mt=ut;Tt<Mt.length;Tt+=1){var Gt=Mt[Tt];kt(ie,Gt,this._oneTimeListeners),Gt.call(this,k)}var ir=this._eventedParent;ir&&(u(k,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ir.fire(k))}else k instanceof tr&&console.error(k.error);return this},or.prototype.listens=function(k){return this._listeners&&this._listeners[k]&&this._listeners[k].length>0||this._oneTimeListeners&&this._oneTimeListeners[k]&&this._oneTimeListeners[k].length>0||this._eventedParent&&this._eventedParent.listens(k)},or.prototype.setEventedParent=function(k,j){return this._eventedParent=k,this._eventedParentData=j,this};var rr=8,_t={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},hr={"*":{type:"source"}},gr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],pr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},vr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},Gr={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},Fr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},_r={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},gn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},tn={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Bn=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],An={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Mr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Cr={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},jr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Hr={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},on={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},yn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},xn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Rn={type:"array",value:"*"},_n={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},sa={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Zn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},qn={type:"array",value:"*",minimum:1},jn={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},Qn={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Tr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],ln={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},nn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},mn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Vn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},En={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Cn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Nn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ta={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},wa={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Ka={"*":{type:"string"}},Yt={$version:rr,$root:_t,sources:hr,source:gr,source_vector:pr,source_raster:vr,source_raster_dem:Gr,source_geojson:Fr,source_video:_r,source_image:gn,layer:tn,layout:Bn,layout_background:An,layout_fill:Mr,layout_circle:Cr,layout_heatmap:jr,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Hr,layout_symbol:on,layout_raster:yn,layout_hillshade:xn,filter:Rn,filter_operator:_n,geometry_type:sa,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Zn,expression:qn,expression_name:jn,light:Qn,paint:Tr,paint_fill:ln,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:nn,paint_circle:mn,paint_heatmap:Vn,paint_symbol:En,paint_raster:Cn,paint_hillshade:Nn,paint_background:ta,transition:wa,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Ka},wr=function(k,j,ie,pe){this.message=(k?k+": ":"")+ie,pe&&(this.identifier=pe),j!=null&&j.__line__&&(this.line=j.__line__)};function rn(I){var k=I.key,j=I.value;return j?[new wr(k,j,"constants have been deprecated as of v8")]:[]}function fn(I){for(var k=[],j=arguments.length-1;j-- >0;)k[j]=arguments[j+1];for(var ie=0,pe=k;ie<pe.length;ie+=1){var Se=pe[ie];for(var Ie in Se)I[Ie]=Se[Ie]}return I}function hn(I){return I instanceof Number||I instanceof String||I instanceof Boolean?I.valueOf():I}function In(I){if(Array.isArray(I))return I.map(In);if(I instanceof Object&&!(I instanceof Number||I instanceof String||I instanceof Boolean)){var k={};for(var j in I)k[j]=In(I[j]);return k}return hn(I)}var Mn=function(I){function k(j,ie){I.call(this,ie),this.message=ie,this.key=j}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(Error),dn=function(k,j){j===void 0&&(j=[]),this.parent=k,this.bindings={};for(var ie=0,pe=j;ie<pe.length;ie+=1){var Se=pe[ie],Ie=Se[0],$e=Se[1];this.bindings[Ie]=$e}};dn.prototype.concat=function(k){return new dn(this,k)},dn.prototype.get=function(k){if(this.bindings[k])return this.bindings[k];if(this.parent)return this.parent.get(k);throw new Error(k+" not found in scope.")},dn.prototype.has=function(k){return this.bindings[k]?!0:this.parent?this.parent.has(k):!1};var Ir={kind:"null"},Pr={kind:"number"},Br={kind:"string"},pn={kind:"boolean"},zn={kind:"color"},Xn={kind:"object"},bn={kind:"value"},Un={kind:"error"},ia={kind:"collator"},ca={kind:"formatted"},ua={kind:"resolvedImage"};function fa(I,k){return{kind:"array",itemType:I,N:k}}function ya(I){if(I.kind==="array"){var k=ya(I.itemType);return typeof I.N=="number"?"array<"+k+", "+I.N+">":I.itemType.kind==="value"?"array":"array<"+k+">"}else return I.kind}var fo=[Ir,Pr,Br,pn,zn,ca,Xn,fa(bn),ua];function Ro(I,k){if(k.kind==="error")return null;if(I.kind==="array"){if(k.kind==="array"&&(k.N===0&&k.itemType.kind==="value"||!Ro(I.itemType,k.itemType))&&(typeof I.N!="number"||I.N===k.N))return null}else{if(I.kind===k.kind)return null;if(I.kind==="value")for(var j=0,ie=fo;j<ie.length;j+=1){var pe=ie[j];if(!Ro(pe,k))return null}}return"Expected "+ya(I)+" but found "+ya(k)+" instead."}function Oo(I,k){return k.some(function(j){return j.kind===I.kind})}function jo(I,k){return k.some(function(j){return j==="null"?I===null:j==="array"?Array.isArray(I):j==="object"?I&&!Array.isArray(I)&&typeof I=="object":j===typeof I})}var Bo=C(function(I,k){var j={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ie(Tt){return Tt=Math.round(Tt),Tt<0?0:Tt>255?255:Tt}function pe(Tt){return Tt<0?0:Tt>1?1:Tt}function Se(Tt){return Tt[Tt.length-1]==="%"?ie(parseFloat(Tt)/100*255):ie(parseInt(Tt))}function Ie(Tt){return Tt[Tt.length-1]==="%"?pe(parseFloat(Tt)/100):pe(parseFloat(Tt))}function $e(Tt,Mt,Gt){return Gt<0?Gt+=1:Gt>1&&(Gt-=1),Gt*6<1?Tt+(Mt-Tt)*Gt*6:Gt*2<1?Mt:Gt*3<2?Tt+(Mt-Tt)*(2/3-Gt)*6:Tt}function ut(Tt){var Mt=Tt.replace(/ /g,"").toLowerCase();if(Mt in j)return j[Mt].slice();if(Mt[0]==="#"){if(Mt.length===4){var Gt=parseInt(Mt.substr(1),16);return Gt>=0&&Gt<=4095?[(Gt&3840)>>4|(Gt&3840)>>8,Gt&240|(Gt&240)>>4,Gt&15|(Gt&15)<<4,1]:null}else if(Mt.length===7){var Gt=parseInt(Mt.substr(1),16);return Gt>=0&&Gt<=16777215?[(Gt&16711680)>>16,(Gt&65280)>>8,Gt&255,1]:null}return null}var ir=Mt.indexOf("("),Qt=Mt.indexOf(")");if(ir!==-1&&Qt+1===Mt.length){var br=Mt.substr(0,ir),Nr=Mt.substr(ir+1,Qt-(ir+1)).split(","),un=1;switch(br){case"rgba":if(Nr.length!==4)return null;un=Ie(Nr.pop());case"rgb":return Nr.length!==3?null:[Se(Nr[0]),Se(Nr[1]),Se(Nr[2]),un];case"hsla":if(Nr.length!==4)return null;un=Ie(Nr.pop());case"hsl":if(Nr.length!==3)return null;var en=(parseFloat(Nr[0])%360+360)%360/360,Pn=Ie(Nr[1]),Tn=Ie(Nr[2]),Ln=Tn<=.5?Tn*(Pn+1):Tn+Pn-Tn*Pn,Fn=Tn*2-Ln;return[ie($e(Fn,Ln,en+1/3)*255),ie($e(Fn,Ln,en)*255),ie($e(Fn,Ln,en-1/3)*255),un];default:return null}}return null}try{k.parseCSSColor=ut}catch{}}),tc=Bo.parseCSSColor,oi=function(k,j,ie,pe){pe===void 0&&(pe=1),this.r=k,this.g=j,this.b=ie,this.a=pe};oi.parse=function(k){if(k){if(k instanceof oi)return k;if(typeof k=="string"){var j=tc(k);if(j)return new oi(j[0]/255*j[3],j[1]/255*j[3],j[2]/255*j[3],j[3])}}},oi.prototype.toString=function(){var k=this.toArray(),j=k[0],ie=k[1],pe=k[2],Se=k[3];return"rgba("+Math.round(j)+","+Math.round(ie)+","+Math.round(pe)+","+Se+")"},oi.prototype.toArray=function(){var k=this,j=k.r,ie=k.g,pe=k.b,Se=k.a;return Se===0?[0,0,0,0]:[j*255/Se,ie*255/Se,pe*255/Se,Se]},oi.black=new oi(0,0,0,1),oi.white=new oi(1,1,1,1),oi.transparent=new oi(0,0,0,0),oi.red=new oi(1,0,0,1);var Uu=function(k,j,ie){k?this.sensitivity=j?"variant":"case":this.sensitivity=j?"accent":"base",this.locale=ie,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Uu.prototype.compare=function(k,j){return this.collator.compare(k,j)},Uu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var fu=function(k,j,ie,pe,Se){this.text=k,this.image=j,this.scale=ie,this.fontStack=pe,this.textColor=Se},co=function(k){this.sections=k};co.fromString=function(k){return new co([new fu(k,null,null,null,null)])},co.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(k){return k.text.length!==0||k.image&&k.image.name.length!==0})},co.factory=function(k){return k instanceof co?k:co.fromString(k)},co.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(k){return k.text}).join("")},co.prototype.serialize=function(){for(var k=["format"],j=0,ie=this.sections;j<ie.length;j+=1){var pe=ie[j];if(pe.image){k.push(["image",pe.image.name]);continue}k.push(pe.text);var Se={};pe.fontStack&&(Se["text-font"]=["literal",pe.fontStack.split(",")]),pe.scale&&(Se["font-scale"]=pe.scale),pe.textColor&&(Se["text-color"]=["rgba"].concat(pe.textColor.toArray())),k.push(Se)}return k};var Yo=function(k){this.name=k.name,this.available=k.available};Yo.prototype.toString=function(){return this.name},Yo.fromString=function(k){return k?new Yo({name:k,available:!1}):null},Yo.prototype.serialize=function(){return["image",this.name]};function Yc(I,k,j,ie){if(!(typeof I=="number"&&I>=0&&I<=255&&typeof k=="number"&&k>=0&&k<=255&&typeof j=="number"&&j>=0&&j<=255)){var pe=typeof ie=="number"?[I,k,j,ie]:[I,k,j];return"Invalid rgba value ["+pe.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ie>"u"||typeof ie=="number"&&ie>=0&&ie<=1?null:"Invalid rgba value ["+[I,k,j,ie].join(", ")+"]: 'a' must be between 0 and 1."}function Hu(I){if(I===null)return!0;if(typeof I=="string")return!0;if(typeof I=="boolean")return!0;if(typeof I=="number")return!0;if(I instanceof oi)return!0;if(I instanceof Uu)return!0;if(I instanceof co)return!0;if(I instanceof Yo)return!0;if(Array.isArray(I)){for(var k=0,j=I;k<j.length;k+=1){var ie=j[k];if(!Hu(ie))return!1}return!0}else if(typeof I=="object"){for(var pe in I)if(!Hu(I[pe]))return!1;return!0}else return!1}function Wi(I){if(I===null)return Ir;if(typeof I=="string")return Br;if(typeof I=="boolean")return pn;if(typeof I=="number")return Pr;if(I instanceof oi)return zn;if(I instanceof Uu)return ia;if(I instanceof co)return ca;if(I instanceof Yo)return ua;if(Array.isArray(I)){for(var k=I.length,j,ie=0,pe=I;ie<pe.length;ie+=1){var Se=pe[ie],Ie=Wi(Se);if(!j)j=Ie;else{if(j===Ie)continue;j=bn;break}}return fa(j||bn,k)}else return Xn}function Vu(I){var k=typeof I;return I===null?"":k==="string"||k==="number"||k==="boolean"?String(I):I instanceof oi||I instanceof co||I instanceof Yo?I.toString():JSON.stringify(I)}var rs=function(k,j){this.type=k,this.value=j};rs.parse=function(k,j){if(k.length!==2)return j.error("'literal' expression requires exactly one argument, but found "+(k.length-1)+" instead.");if(!Hu(k[1]))return j.error("invalid value");var ie=k[1],pe=Wi(ie),Se=j.expectedType;return pe.kind==="array"&&pe.N===0&&Se&&Se.kind==="array"&&(typeof Se.N!="number"||Se.N===0)&&(pe=Se),new rs(pe,ie)},rs.prototype.evaluate=function(){return this.value},rs.prototype.eachChild=function(){},rs.prototype.outputDefined=function(){return!0},rs.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof oi?["rgba"].concat(this.value.toArray()):this.value instanceof co?this.value.serialize():this.value};var io=function(k){this.name="ExpressionEvaluationError",this.message=k};io.prototype.toJSON=function(){return this.message};var ns={string:Br,number:Pr,boolean:pn,object:Xn},Do=function(k,j){this.type=k,this.args=j};Do.parse=function(k,j){if(k.length<2)return j.error("Expected at least one argument.");var ie=1,pe,Se=k[0];if(Se==="array"){var Ie;if(k.length>2){var $e=k[1];if(typeof $e!="string"||!($e in ns)||$e==="object")return j.error('The item type argument of "array" must be one of string, number, boolean',1);Ie=ns[$e],ie++}else Ie=bn;var ut;if(k.length>3){if(k[2]!==null&&(typeof k[2]!="number"||k[2]<0||k[2]!==Math.floor(k[2])))return j.error('The length argument to "array" must be a positive integer literal',2);ut=k[2],ie++}pe=fa(Ie,ut)}else pe=ns[Se];for(var Tt=[];ie<k.length;ie++){var Mt=j.parse(k[ie],ie,bn);if(!Mt)return null;Tt.push(Mt)}return new Do(pe,Tt)},Do.prototype.evaluate=function(k){for(var j=0;j<this.args.length;j++){var ie=this.args[j].evaluate(k),pe=Ro(this.type,Wi(ie));if(pe){if(j===this.args.length-1)throw new io("Expected value to be of type "+ya(this.type)+", but found "+ya(Wi(ie))+" instead.")}else return ie}return null},Do.prototype.eachChild=function(k){this.args.forEach(k)},Do.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},Do.prototype.serialize=function(){var k=this.type,j=[k.kind];if(k.kind==="array"){var ie=k.itemType;if(ie.kind==="string"||ie.kind==="number"||ie.kind==="boolean"){j.push(ie.kind);var pe=k.N;(typeof pe=="number"||this.args.length>1)&&j.push(pe)}}return j.concat(this.args.map(function(Se){return Se.serialize()}))};var us=function(k){this.type=ca,this.sections=k};us.parse=function(k,j){if(k.length<2)return j.error("Expected at least one argument.");var ie=k[1];if(!Array.isArray(ie)&&typeof ie=="object")return j.error("First argument must be an image or text section.");for(var pe=[],Se=!1,Ie=1;Ie<=k.length-1;++Ie){var $e=k[Ie];if(Se&&typeof $e=="object"&&!Array.isArray($e)){Se=!1;var ut=null;if($e["font-scale"]&&(ut=j.parse($e["font-scale"],1,Pr),!ut))return null;var Tt=null;if($e["text-font"]&&(Tt=j.parse($e["text-font"],1,fa(Br)),!Tt))return null;var Mt=null;if($e["text-color"]&&(Mt=j.parse($e["text-color"],1,zn),!Mt))return null;var Gt=pe[pe.length-1];Gt.scale=ut,Gt.font=Tt,Gt.textColor=Mt}else{var ir=j.parse(k[Ie],1,bn);if(!ir)return null;var Qt=ir.type.kind;if(Qt!=="string"&&Qt!=="value"&&Qt!=="null"&&Qt!=="resolvedImage")return j.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,pe.push({content:ir,scale:null,font:null,textColor:null})}}return new us(pe)},us.prototype.evaluate=function(k){var j=function(ie){var pe=ie.content.evaluate(k);return Wi(pe)===ua?new fu("",pe,null,null,null):new fu(Vu(pe),null,ie.scale?ie.scale.evaluate(k):null,ie.font?ie.font.evaluate(k).join(","):null,ie.textColor?ie.textColor.evaluate(k):null)};return new co(this.sections.map(j))},us.prototype.eachChild=function(k){for(var j=0,ie=this.sections;j<ie.length;j+=1){var pe=ie[j];k(pe.content),pe.scale&&k(pe.scale),pe.font&&k(pe.font),pe.textColor&&k(pe.textColor)}},us.prototype.outputDefined=function(){return!1},us.prototype.serialize=function(){for(var k=["format"],j=0,ie=this.sections;j<ie.length;j+=1){var pe=ie[j];k.push(pe.content.serialize());var Se={};pe.scale&&(Se["font-scale"]=pe.scale.serialize()),pe.font&&(Se["text-font"]=pe.font.serialize()),pe.textColor&&(Se["text-color"]=pe.textColor.serialize()),k.push(Se)}return k};var Fs=function(k){this.type=ua,this.input=k};Fs.parse=function(k,j){if(k.length!==2)return j.error("Expected two arguments.");var ie=j.parse(k[1],1,Br);return ie?new Fs(ie):j.error("No image name provided.")},Fs.prototype.evaluate=function(k){var j=this.input.evaluate(k),ie=Yo.fromString(j);return ie&&k.availableImages&&(ie.available=k.availableImages.indexOf(j)>-1),ie},Fs.prototype.eachChild=function(k){k(this.input)},Fs.prototype.outputDefined=function(){return!1},Fs.prototype.serialize=function(){return["image",this.input.serialize()]};var qs={"to-boolean":pn,"to-color":zn,"to-number":Pr,"to-string":Br},xo=function(k,j){this.type=k,this.args=j};xo.parse=function(k,j){if(k.length<2)return j.error("Expected at least one argument.");var ie=k[0];if((ie==="to-boolean"||ie==="to-string")&&k.length!==2)return j.error("Expected one argument.");for(var pe=qs[ie],Se=[],Ie=1;Ie<k.length;Ie++){var $e=j.parse(k[Ie],Ie,bn);if(!$e)return null;Se.push($e)}return new xo(pe,Se)},xo.prototype.evaluate=function(k){if(this.type.kind==="boolean")return!!this.args[0].evaluate(k);if(this.type.kind==="color"){for(var j,ie,pe=0,Se=this.args;pe<Se.length;pe+=1){var Ie=Se[pe];if(j=Ie.evaluate(k),ie=null,j instanceof oi)return j;if(typeof j=="string"){var $e=k.parseColor(j);if($e)return $e}else if(Array.isArray(j)&&(j.length<3||j.length>4?ie="Invalid rbga value "+JSON.stringify(j)+": expected an array containing either three or four numeric values.":ie=Yc(j[0],j[1],j[2],j[3]),!ie))return new oi(j[0]/255,j[1]/255,j[2]/255,j[3])}throw new io(ie||"Could not parse color from value '"+(typeof j=="string"?j:String(JSON.stringify(j)))+"'")}else if(this.type.kind==="number"){for(var ut=null,Tt=0,Mt=this.args;Tt<Mt.length;Tt+=1){var Gt=Mt[Tt];if(ut=Gt.evaluate(k),ut===null)return 0;var ir=Number(ut);if(!isNaN(ir))return ir}throw new io("Could not convert "+JSON.stringify(ut)+" to number.")}else return this.type.kind==="formatted"?co.fromString(Vu(this.args[0].evaluate(k))):this.type.kind==="resolvedImage"?Yo.fromString(Vu(this.args[0].evaluate(k))):Vu(this.args[0].evaluate(k))},xo.prototype.eachChild=function(k){this.args.forEach(k)},xo.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},xo.prototype.serialize=function(){if(this.type.kind==="formatted")return new us([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Fs(this.args[0]).serialize();var k=["to-"+this.type.kind];return this.eachChild(function(j){k.push(j.serialize())}),k};var Zc=["Unknown","Point","LineString","Polygon"],_s=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};_s.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},_s.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Zc[this.feature.type]:this.feature.type:null},_s.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},_s.prototype.canonicalID=function(){return this.canonical},_s.prototype.properties=function(){return this.feature&&this.feature.properties||{}},_s.prototype.parseColor=function(k){var j=this._parseColorCache[k];return j||(j=this._parseColorCache[k]=oi.parse(k)),j};var bo=function(k,j,ie,pe){this.name=k,this.type=j,this._evaluate=ie,this.args=pe};bo.prototype.evaluate=function(k){return this._evaluate(k,this.args)},bo.prototype.eachChild=function(k){this.args.forEach(k)},bo.prototype.outputDefined=function(){return!1},bo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(k){return k.serialize()}))},bo.parse=function(k,j){var ie,pe=k[0],Se=bo.definitions[pe];if(!Se)return j.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ie=Array.isArray(Se)?Se[0]:Se.type,$e=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,ut=$e.filter(function(Ea){var Ca=Ea[0];return!Array.isArray(Ca)||Ca.length===k.length-1}),Tt=null,Mt=0,Gt=ut;Mt<Gt.length;Mt+=1){var ir=Gt[Mt],Qt=ir[0],br=ir[1];Tt=new rl(j.registry,j.path,null,j.scope);for(var Nr=[],un=!1,en=1;en<k.length;en++){var Pn=k[en],Tn=Array.isArray(Qt)?Qt[en-1]:Qt.type,Ln=Tt.parse(Pn,1+Nr.length,Tn);if(!Ln){un=!0;break}Nr.push(Ln)}if(!un){if(Array.isArray(Qt)&&Qt.length!==Nr.length){Tt.error("Expected "+Qt.length+" arguments, but found "+Nr.length+" instead.");continue}for(var Fn=0;Fn<Nr.length;Fn++){var Wn=Array.isArray(Qt)?Qt[Fn]:Qt.type,aa=Nr[Fn];Tt.concat(Fn+1).checkSubtype(Wn,aa.type)}if(Tt.errors.length===0)return new bo(pe,Ie,br,Nr)}}if(ut.length===1)(ie=j.errors).push.apply(ie,Tt.errors);else{for(var na=ut.length?ut:$e,Pa=na.map(function(Ea){var Ca=Ea[0];return rc(Ca)}).join(" | "),da=[],ba=1;ba<k.length;ba++){var Wa=j.parse(k[ba],1+da.length);if(!Wa)return null;da.push(ya(Wa.type))}j.error("Expected arguments of type "+Pa+", but found ("+da.join(", ")+") instead.")}return null},bo.register=function(k,j){bo.definitions=j;for(var ie in j)k[ie]=bo};function rc(I){return Array.isArray(I)?"("+I.map(ya).join(", ")+")":"("+ya(I.type)+"...)"}var el=function(k,j,ie){this.type=ia,this.locale=ie,this.caseSensitive=k,this.diacriticSensitive=j};el.parse=function(k,j){if(k.length!==2)return j.error("Expected one argument.");var ie=k[1];if(typeof ie!="object"||Array.isArray(ie))return j.error("Collator options argument must be an object.");var pe=j.parse(ie["case-sensitive"]===void 0?!1:ie["case-sensitive"],1,pn);if(!pe)return null;var Se=j.parse(ie["diacritic-sensitive"]===void 0?!1:ie["diacritic-sensitive"],1,pn);if(!Se)return null;var Ie=null;return ie.locale&&(Ie=j.parse(ie.locale,1,Br),!Ie)?null:new el(pe,Se,Ie)},el.prototype.evaluate=function(k){return new Uu(this.caseSensitive.evaluate(k),this.diacriticSensitive.evaluate(k),this.locale?this.locale.evaluate(k):null)},el.prototype.eachChild=function(k){k(this.caseSensitive),k(this.diacriticSensitive),this.locale&&k(this.locale)},el.prototype.outputDefined=function(){return!1},el.prototype.serialize=function(){var k={};return k["case-sensitive"]=this.caseSensitive.serialize(),k["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(k.locale=this.locale.serialize()),["collator",k]};var zs=8192;function nc(I,k){I[0]=Math.min(I[0],k[0]),I[1]=Math.min(I[1],k[1]),I[2]=Math.max(I[2],k[0]),I[3]=Math.max(I[3],k[1])}function ac(I){return(180+I)/360}function rv(I){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+I*Math.PI/360)))/360}function Gu(I,k){return!(I[0]<=k[0]||I[2]>=k[2]||I[1]<=k[1]||I[3]>=k[3])}function nv(I,k){var j=ac(I[0]),ie=rv(I[1]),pe=Math.pow(2,k.z);return[Math.round(j*pe*zs),Math.round(ie*pe*zs)]}function av(I,k,j){var ie=I[0]-k[0],pe=I[1]-k[1],Se=I[0]-j[0],Ie=I[1]-j[1];return ie*Ie-Se*pe===0&&ie*Se<=0&&pe*Ie<=0}function iv(I,k,j){return k[1]>I[1]!=j[1]>I[1]&&I[0]<(j[0]-k[0])*(I[1]-k[1])/(j[1]-k[1])+k[0]}function ic(I,k){for(var j=!1,ie=0,pe=k.length;ie<pe;ie++)for(var Se=k[ie],Ie=0,$e=Se.length;Ie<$e-1;Ie++){if(av(I,Se[Ie],Se[Ie+1]))return!1;iv(I,Se[Ie],Se[Ie+1])&&(j=!j)}return j}function ov(I,k){for(var j=0;j<k.length;j++)if(ic(I,k[j]))return!0;return!1}function sv(I,k){return I[0]*k[1]-I[1]*k[0]}function Xc(I,k,j,ie){var pe=I[0]-j[0],Se=I[1]-j[1],Ie=k[0]-j[0],$e=k[1]-j[1],ut=ie[0]-j[0],Tt=ie[1]-j[1],Mt=pe*Tt-ut*Se,Gt=Ie*Tt-ut*$e;return Mt>0&&Gt<0||Mt<0&&Gt>0}function lv(I,k,j,ie){var pe=[k[0]-I[0],k[1]-I[1]],Se=[ie[0]-j[0],ie[1]-j[1]];return sv(Se,pe)===0?!1:!!(Xc(I,k,j,ie)&&Xc(j,ie,I,k))}function uv(I,k,j){for(var ie=0,pe=j;ie<pe.length;ie+=1)for(var Se=pe[ie],Ie=0;Ie<Se.length-1;++Ie)if(lv(I,k,Se[Ie],Se[Ie+1]))return!0;return!1}function oc(I,k){for(var j=0;j<I.length;++j)if(!ic(I[j],k))return!1;for(var ie=0;ie<I.length-1;++ie)if(uv(I[ie],I[ie+1],k))return!1;return!0}function Nl(I,k){for(var j=0;j<k.length;j++)if(oc(I,k[j]))return!0;return!1}function Ul(I,k,j){for(var ie=[],pe=0;pe<I.length;pe++){for(var Se=[],Ie=0;Ie<I[pe].length;Ie++){var $e=nv(I[pe][Ie],j);nc(k,$e),Se.push($e)}ie.push(Se)}return ie}function cu(I,k,j){for(var ie=[],pe=0;pe<I.length;pe++){var Se=Ul(I[pe],k,j);ie.push(Se)}return ie}function mf(I,k,j,ie){if(I[0]<j[0]||I[0]>j[2]){var pe=ie*.5,Se=I[0]-j[0]>pe?-ie:j[0]-I[0]>pe?ie:0;Se===0&&(Se=I[0]-j[2]>pe?-ie:j[2]-I[0]>pe?ie:0),I[0]+=Se}nc(k,I)}function fv(I){I[0]=I[1]=1/0,I[2]=I[3]=-1/0}function tl(I,k,j,ie){for(var pe=Math.pow(2,ie.z)*zs,Se=[ie.x*zs,ie.y*zs],Ie=[],$e=0,ut=I;$e<ut.length;$e+=1)for(var Tt=ut[$e],Mt=0,Gt=Tt;Mt<Gt.length;Mt+=1){var ir=Gt[Mt],Qt=[ir.x+Se[0],ir.y+Se[1]];mf(Qt,k,j,pe),Ie.push(Qt)}return Ie}function $c(I,k,j,ie){for(var pe=Math.pow(2,ie.z)*zs,Se=[ie.x*zs,ie.y*zs],Ie=[],$e=0,ut=I;$e<ut.length;$e+=1){for(var Tt=ut[$e],Mt=[],Gt=0,ir=Tt;Gt<ir.length;Gt+=1){var Qt=ir[Gt],br=[Qt.x+Se[0],Qt.y+Se[1]];nc(k,br),Mt.push(br)}Ie.push(Mt)}if(k[2]-k[0]<=pe/2){fv(k);for(var Nr=0,un=Ie;Nr<un.length;Nr+=1)for(var en=un[Nr],Pn=0,Tn=en;Pn<Tn.length;Pn+=1){var Ln=Tn[Pn];mf(Ln,k,j,pe)}}return Ie}function sc(I,k){var j=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=I.canonicalID();if(k.type==="Polygon"){var Se=Ul(k.coordinates,ie,pe),Ie=tl(I.geometry(),j,ie,pe);if(!Gu(j,ie))return!1;for(var $e=0,ut=Ie;$e<ut.length;$e+=1){var Tt=ut[$e];if(!ic(Tt,Se))return!1}}if(k.type==="MultiPolygon"){var Mt=cu(k.coordinates,ie,pe),Gt=tl(I.geometry(),j,ie,pe);if(!Gu(j,ie))return!1;for(var ir=0,Qt=Gt;ir<Qt.length;ir+=1){var br=Qt[ir];if(!ov(br,Mt))return!1}}return!0}function cv(I,k){var j=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=I.canonicalID();if(k.type==="Polygon"){var Se=Ul(k.coordinates,ie,pe),Ie=$c(I.geometry(),j,ie,pe);if(!Gu(j,ie))return!1;for(var $e=0,ut=Ie;$e<ut.length;$e+=1){var Tt=ut[$e];if(!oc(Tt,Se))return!1}}if(k.type==="MultiPolygon"){var Mt=cu(k.coordinates,ie,pe),Gt=$c(I.geometry(),j,ie,pe);if(!Gu(j,ie))return!1;for(var ir=0,Qt=Gt;ir<Qt.length;ir+=1){var br=Qt[ir];if(!Nl(br,Mt))return!1}}return!0}var fs=function(k,j){this.type=pn,this.geojson=k,this.geometries=j};fs.parse=function(k,j){if(k.length!==2)return j.error("'within' expression requires exactly one argument, but found "+(k.length-1)+" instead.");if(Hu(k[1])){var ie=k[1];if(ie.type==="FeatureCollection")for(var pe=0;pe<ie.features.length;++pe){var Se=ie.features[pe].geometry.type;if(Se==="Polygon"||Se==="MultiPolygon")return new fs(ie,ie.features[pe].geometry)}else if(ie.type==="Feature"){var Ie=ie.geometry.type;if(Ie==="Polygon"||Ie==="MultiPolygon")return new fs(ie,ie.geometry)}else if(ie.type==="Polygon"||ie.type==="MultiPolygon")return new fs(ie,ie)}return j.error("'within' expression requires valid geojson object that contains polygon geometry type.")},fs.prototype.evaluate=function(k){if(k.geometry()!=null&&k.canonicalID()!=null){if(k.geometryType()==="Point")return sc(k,this.geometries);if(k.geometryType()==="LineString")return cv(k,this.geometries)}return!1},fs.prototype.eachChild=function(){},fs.prototype.outputDefined=function(){return!0},fs.prototype.serialize=function(){return["within",this.geojson]};function Hl(I){if(I instanceof bo){if(I.name==="get"&&I.args.length===1)return!1;if(I.name==="feature-state")return!1;if(I.name==="has"&&I.args.length===1)return!1;if(I.name==="properties"||I.name==="geometry-type"||I.name==="id")return!1;if(/^filter-/.test(I.name))return!1}if(I instanceof fs)return!1;var k=!0;return I.eachChild(function(j){k&&!Hl(j)&&(k=!1)}),k}function Wu(I){if(I instanceof bo&&I.name==="feature-state")return!1;var k=!0;return I.eachChild(function(j){k&&!Wu(j)&&(k=!1)}),k}function hu(I,k){if(I instanceof bo&&k.indexOf(I.name)>=0)return!1;var j=!0;return I.eachChild(function(ie){j&&!hu(ie,k)&&(j=!1)}),j}var Os=function(k,j){this.type=j.type,this.name=k,this.boundExpression=j};Os.parse=function(k,j){if(k.length!==2||typeof k[1]!="string")return j.error("'var' expression requires exactly one string literal argument.");var ie=k[1];return j.scope.has(ie)?new Os(ie,j.scope.get(ie)):j.error('Unknown variable "'+ie+'". Make sure "'+ie+'" has been bound in an enclosing "let" expression before using it.',1)},Os.prototype.evaluate=function(k){return this.boundExpression.evaluate(k)},Os.prototype.eachChild=function(){},Os.prototype.outputDefined=function(){return!1},Os.prototype.serialize=function(){return["var",this.name]};var rl=function(k,j,ie,pe,Se){j===void 0&&(j=[]),pe===void 0&&(pe=new dn),Se===void 0&&(Se=[]),this.registry=k,this.path=j,this.key=j.map(function(Ie){return"["+Ie+"]"}).join(""),this.scope=pe,this.errors=Se,this.expectedType=ie};rl.prototype.parse=function(k,j,ie,pe,Se){return Se===void 0&&(Se={}),j?this.concat(j,ie,pe)._parse(k,Se):this._parse(k,Se)},rl.prototype._parse=function(k,j){(k===null||typeof k=="string"||typeof k=="boolean"||typeof k=="number")&&(k=["literal",k]);function ie(Mt,Gt,ir){return ir==="assert"?new Do(Gt,[Mt]):ir==="coerce"?new xo(Gt,[Mt]):Mt}if(Array.isArray(k)){if(k.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var pe=k[0];if(typeof pe!="string")return this.error("Expression name must be a string, but found "+typeof pe+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[pe];if(Se){var Ie=Se.parse(k,this);if(!Ie)return null;if(this.expectedType){var $e=this.expectedType,ut=Ie.type;if(($e.kind==="string"||$e.kind==="number"||$e.kind==="boolean"||$e.kind==="object"||$e.kind==="array")&&ut.kind==="value")Ie=ie(Ie,$e,j.typeAnnotation||"assert");else if(($e.kind==="color"||$e.kind==="formatted"||$e.kind==="resolvedImage")&&(ut.kind==="value"||ut.kind==="string"))Ie=ie(Ie,$e,j.typeAnnotation||"coerce");else if(this.checkSubtype($e,ut))return null}if(!(Ie instanceof rs)&&Ie.type.kind!=="resolvedImage"&&lc(Ie)){var Tt=new _s;try{Ie=new rs(Ie.type,Ie.evaluate(Tt))}catch(Mt){return this.error(Mt.message),null}}return Ie}return this.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof k>"u"?this.error("'undefined' value invalid. Use null instead."):typeof k=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof k+" instead.")},rl.prototype.concat=function(k,j,ie){var pe=typeof k=="number"?this.path.concat(k):this.path,Se=ie?this.scope.concat(ie):this.scope;return new rl(this.registry,pe,j||null,Se,this.errors)},rl.prototype.error=function(k){for(var j=[],ie=arguments.length-1;ie-- >0;)j[ie]=arguments[ie+1];var pe=""+this.key+j.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new Mn(pe,k))},rl.prototype.checkSubtype=function(k,j){var ie=Ro(k,j);return ie&&this.error(ie),ie};function lc(I){if(I instanceof Os)return lc(I.boundExpression);if(I instanceof bo&&I.name==="error")return!1;if(I instanceof el)return!1;if(I instanceof fs)return!1;var k=I instanceof xo||I instanceof Do,j=!0;return I.eachChild(function(ie){k?j=j&&lc(ie):j=j&&ie instanceof rs}),j?Hl(I)&&hu(I,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function vu(I,k){for(var j=I.length-1,ie=0,pe=j,Se=0,Ie,$e;ie<=pe;)if(Se=Math.floor((ie+pe)/2),Ie=I[Se],$e=I[Se+1],Ie<=k){if(Se===j||k<$e)return Se;ie=Se+1}else if(Ie>k)pe=Se-1;else throw new io("Input is not a number.");return 0}var ml=function(k,j,ie){this.type=k,this.input=j,this.labels=[],this.outputs=[];for(var pe=0,Se=ie;pe<Se.length;pe+=1){var Ie=Se[pe],$e=Ie[0],ut=Ie[1];this.labels.push($e),this.outputs.push(ut)}};ml.parse=function(k,j){if(k.length-1<4)return j.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if((k.length-1)%2!==0)return j.error("Expected an even number of arguments.");var ie=j.parse(k[1],1,Pr);if(!ie)return null;var pe=[],Se=null;j.expectedType&&j.expectedType.kind!=="value"&&(Se=j.expectedType);for(var Ie=1;Ie<k.length;Ie+=2){var $e=Ie===1?-1/0:k[Ie],ut=k[Ie+1],Tt=Ie,Mt=Ie+1;if(typeof $e!="number")return j.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Tt);if(pe.length&&pe[pe.length-1][0]>=$e)return j.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Tt);var Gt=j.parse(ut,Mt,Se);if(!Gt)return null;Se=Se||Gt.type,pe.push([$e,Gt])}return new ml(Se,ie,pe)},ml.prototype.evaluate=function(k){var j=this.labels,ie=this.outputs;if(j.length===1)return ie[0].evaluate(k);var pe=this.input.evaluate(k);if(pe<=j[0])return ie[0].evaluate(k);var Se=j.length;if(pe>=j[Se-1])return ie[Se-1].evaluate(k);var Ie=vu(j,pe);return ie[Ie].evaluate(k)},ml.prototype.eachChild=function(k){k(this.input);for(var j=0,ie=this.outputs;j<ie.length;j+=1){var pe=ie[j];k(pe)}},ml.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})},ml.prototype.serialize=function(){for(var k=["step",this.input.serialize()],j=0;j<this.labels.length;j++)j>0&&k.push(this.labels[j]),k.push(this.outputs[j].serialize());return k};function $i(I,k,j){return I*(1-j)+k*j}function uc(I,k,j){return new oi($i(I.r,k.r,j),$i(I.g,k.g,j),$i(I.b,k.b,j),$i(I.a,k.a,j))}function xf(I,k,j){return I.map(function(ie,pe){return $i(ie,k[pe],j)})}var du=Object.freeze({__proto__:null,number:$i,color:uc,array:xf}),Kc=.95047,Jc=1,pu=1.08883,gu=4/29,ho=6/29,bf=3*ho*ho,hv=ho*ho*ho,fc=Math.PI/180,vv=180/Math.PI;function wf(I){return I>hv?Math.pow(I,.3333333333333333):I/bf+gu}function ju(I){return I>ho?I*I*I:bf*(I-gu)}function cc(I){return 255*(I<=.0031308?12.92*I:1.055*Math.pow(I,.4166666666666667)-.055)}function hc(I){return I/=255,I<=.04045?I/12.92:Math.pow((I+.055)/1.055,2.4)}function Yu(I){var k=hc(I.r),j=hc(I.g),ie=hc(I.b),pe=wf((.4124564*k+.3575761*j+.1804375*ie)/Kc),Se=wf((.2126729*k+.7151522*j+.072175*ie)/Jc),Ie=wf((.0193339*k+.119192*j+.9503041*ie)/pu);return{l:116*Se-16,a:500*(pe-Se),b:200*(Se-Ie),alpha:I.a}}function vc(I){var k=(I.l+16)/116,j=isNaN(I.a)?k:k+I.a/500,ie=isNaN(I.b)?k:k-I.b/200;return k=Jc*ju(k),j=Kc*ju(j),ie=pu*ju(ie),new oi(cc(3.2404542*j-1.5371385*k-.4985314*ie),cc(-.969266*j+1.8760108*k+.041556*ie),cc(.0556434*j-.2040259*k+1.0572252*ie),I.alpha)}function Tf(I,k,j){return{l:$i(I.l,k.l,j),a:$i(I.a,k.a,j),b:$i(I.b,k.b,j),alpha:$i(I.alpha,k.alpha,j)}}function dc(I){var k=Yu(I),j=k.l,ie=k.a,pe=k.b,Se=Math.atan2(pe,ie)*vv;return{h:Se<0?Se+360:Se,c:Math.sqrt(ie*ie+pe*pe),l:j,alpha:I.a}}function Si(I){var k=I.h*fc,j=I.c,ie=I.l;return vc({l:ie,a:Math.cos(k)*j,b:Math.sin(k)*j,alpha:I.alpha})}function Qc(I,k,j){var ie=k-I;return I+j*(ie>180||ie<-180?ie-360*Math.round(ie/360):ie)}function bs(I,k,j){return{h:Qc(I.h,k.h,j),c:$i(I.c,k.c,j),l:$i(I.l,k.l,j),alpha:$i(I.alpha,k.alpha,j)}}var yu={forward:Yu,reverse:vc,interpolate:Tf},Vl={forward:dc,reverse:Si,interpolate:bs},pc=Object.freeze({__proto__:null,lab:yu,hcl:Vl}),Qi=function(k,j,ie,pe,Se){this.type=k,this.operator=j,this.interpolation=ie,this.input=pe,this.labels=[],this.outputs=[];for(var Ie=0,$e=Se;Ie<$e.length;Ie+=1){var ut=$e[Ie],Tt=ut[0],Mt=ut[1];this.labels.push(Tt),this.outputs.push(Mt)}};Qi.interpolationFactor=function(k,j,ie,pe){var Se=0;if(k.name==="exponential")Se=Zu(j,k.base,ie,pe);else if(k.name==="linear")Se=Zu(j,1,ie,pe);else if(k.name==="cubic-bezier"){var Ie=k.controlPoints,$e=new h(Ie[0],Ie[1],Ie[2],Ie[3]);Se=$e.solve(Zu(j,1,ie,pe))}return Se},Qi.parse=function(k,j){var ie=k[0],pe=k[1],Se=k[2],Ie=k.slice(3);if(!Array.isArray(pe)||pe.length===0)return j.error("Expected an interpolation type expression.",1);if(pe[0]==="linear")pe={name:"linear"};else if(pe[0]==="exponential"){var $e=pe[1];if(typeof $e!="number")return j.error("Exponential interpolation requires a numeric base.",1,1);pe={name:"exponential",base:$e}}else if(pe[0]==="cubic-bezier"){var ut=pe.slice(1);if(ut.length!==4||ut.some(function(en){return typeof en!="number"||en<0||en>1}))return j.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);pe={name:"cubic-bezier",controlPoints:ut}}else return j.error("Unknown interpolation type "+String(pe[0]),1,0);if(k.length-1<4)return j.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if((k.length-1)%2!==0)return j.error("Expected an even number of arguments.");if(Se=j.parse(Se,2,Pr),!Se)return null;var Tt=[],Mt=null;ie==="interpolate-hcl"||ie==="interpolate-lab"?Mt=zn:j.expectedType&&j.expectedType.kind!=="value"&&(Mt=j.expectedType);for(var Gt=0;Gt<Ie.length;Gt+=2){var ir=Ie[Gt],Qt=Ie[Gt+1],br=Gt+3,Nr=Gt+4;if(typeof ir!="number")return j.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',br);if(Tt.length&&Tt[Tt.length-1][0]>=ir)return j.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',br);var un=j.parse(Qt,Nr,Mt);if(!un)return null;Mt=Mt||un.type,Tt.push([ir,un])}return Mt.kind!=="number"&&Mt.kind!=="color"&&!(Mt.kind==="array"&&Mt.itemType.kind==="number"&&typeof Mt.N=="number")?j.error("Type "+ya(Mt)+" is not interpolatable."):new Qi(Mt,ie,pe,Se,Tt)},Qi.prototype.evaluate=function(k){var j=this.labels,ie=this.outputs;if(j.length===1)return ie[0].evaluate(k);var pe=this.input.evaluate(k);if(pe<=j[0])return ie[0].evaluate(k);var Se=j.length;if(pe>=j[Se-1])return ie[Se-1].evaluate(k);var Ie=vu(j,pe),$e=j[Ie],ut=j[Ie+1],Tt=Qi.interpolationFactor(this.interpolation,pe,$e,ut),Mt=ie[Ie].evaluate(k),Gt=ie[Ie+1].evaluate(k);return this.operator==="interpolate"?du[this.type.kind.toLowerCase()](Mt,Gt,Tt):this.operator==="interpolate-hcl"?Vl.reverse(Vl.interpolate(Vl.forward(Mt),Vl.forward(Gt),Tt)):yu.reverse(yu.interpolate(yu.forward(Mt),yu.forward(Gt),Tt))},Qi.prototype.eachChild=function(k){k(this.input);for(var j=0,ie=this.outputs;j<ie.length;j+=1){var pe=ie[j];k(pe)}},Qi.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})},Qi.prototype.serialize=function(){var k;this.interpolation.name==="linear"?k=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?k=["linear"]:k=["exponential",this.interpolation.base]:k=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var j=[this.operator,k,this.input.serialize()],ie=0;ie<this.labels.length;ie++)j.push(this.labels[ie],this.outputs[ie].serialize());return j};function Zu(I,k,j,ie){var pe=ie-j,Se=I-j;return pe===0?0:k===1?Se/pe:(Math.pow(k,Se)-1)/(Math.pow(k,pe)-1)}var Zo=function(k,j){this.type=k,this.args=j};Zo.parse=function(k,j){if(k.length<2)return j.error("Expectected at least one argument.");var ie=null,pe=j.expectedType;pe&&pe.kind!=="value"&&(ie=pe);for(var Se=[],Ie=0,$e=k.slice(1);Ie<$e.length;Ie+=1){var ut=$e[Ie],Tt=j.parse(ut,1+Se.length,ie,void 0,{typeAnnotation:"omit"});if(!Tt)return null;ie=ie||Tt.type,Se.push(Tt)}var Mt=pe&&Se.some(function(Gt){return Ro(pe,Gt.type)});return Mt?new Zo(bn,Se):new Zo(ie,Se)},Zo.prototype.evaluate=function(k){for(var j=null,ie=0,pe,Se=0,Ie=this.args;Se<Ie.length;Se+=1){var $e=Ie[Se];if(ie++,j=$e.evaluate(k),j&&j instanceof Yo&&!j.available&&(pe||(pe=j.name),j=null,ie===this.args.length&&(j=pe)),j!==null)break}return j},Zo.prototype.eachChild=function(k){this.args.forEach(k)},Zo.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},Zo.prototype.serialize=function(){var k=["coalesce"];return this.eachChild(function(j){k.push(j.serialize())}),k};var nl=function(k,j){this.type=j.type,this.bindings=[].concat(k),this.result=j};nl.prototype.evaluate=function(k){return this.result.evaluate(k)},nl.prototype.eachChild=function(k){for(var j=0,ie=this.bindings;j<ie.length;j+=1){var pe=ie[j];k(pe[1])}k(this.result)},nl.parse=function(k,j){if(k.length<4)return j.error("Expected at least 3 arguments, but found "+(k.length-1)+" instead.");for(var ie=[],pe=1;pe<k.length-1;pe+=2){var Se=k[pe];if(typeof Se!="string")return j.error("Expected string, but found "+typeof Se+" instead.",pe);if(/[^a-zA-Z0-9_]/.test(Se))return j.error("Variable names must contain only alphanumeric characters or '_'.",pe);var Ie=j.parse(k[pe+1],pe+1);if(!Ie)return null;ie.push([Se,Ie])}var $e=j.parse(k[k.length-1],k.length-1,j.expectedType,ie);return $e?new nl(ie,$e):null},nl.prototype.outputDefined=function(){return this.result.outputDefined()},nl.prototype.serialize=function(){for(var k=["let"],j=0,ie=this.bindings;j<ie.length;j+=1){var pe=ie[j],Se=pe[0],Ie=pe[1];k.push(Se,Ie.serialize())}return k.push(this.result.serialize()),k};var al=function(k,j,ie){this.type=k,this.index=j,this.input=ie};al.parse=function(k,j){if(k.length!==3)return j.error("Expected 2 arguments, but found "+(k.length-1)+" instead.");var ie=j.parse(k[1],1,Pr),pe=j.parse(k[2],2,fa(j.expectedType||bn));if(!ie||!pe)return null;var Se=pe.type;return new al(Se.itemType,ie,pe)},al.prototype.evaluate=function(k){var j=this.index.evaluate(k),ie=this.input.evaluate(k);if(j<0)throw new io("Array index out of bounds: "+j+" < 0.");if(j>=ie.length)throw new io("Array index out of bounds: "+j+" > "+(ie.length-1)+".");if(j!==Math.floor(j))throw new io("Array index must be an integer, but found "+j+" instead.");return ie[j]},al.prototype.eachChild=function(k){k(this.index),k(this.input)},al.prototype.outputDefined=function(){return!1},al.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var xl=function(k,j){this.type=pn,this.needle=k,this.haystack=j};xl.parse=function(k,j){if(k.length!==3)return j.error("Expected 2 arguments, but found "+(k.length-1)+" instead.");var ie=j.parse(k[1],1,bn),pe=j.parse(k[2],2,bn);return!ie||!pe?null:Oo(ie.type,[pn,Br,Pr,Ir,bn])?new xl(ie,pe):j.error("Expected first argument to be of type boolean, string, number or null, but found "+ya(ie.type)+" instead")},xl.prototype.evaluate=function(k){var j=this.needle.evaluate(k),ie=this.haystack.evaluate(k);if(!ie)return!1;if(!jo(j,["boolean","string","number","null"]))throw new io("Expected first argument to be of type boolean, string, number or null, but found "+ya(Wi(j))+" instead.");if(!jo(ie,["string","array"]))throw new io("Expected second argument to be of type array or string, but found "+ya(Wi(ie))+" instead.");return ie.indexOf(j)>=0},xl.prototype.eachChild=function(k){k(this.needle),k(this.haystack)},xl.prototype.outputDefined=function(){return!0},xl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var bl=function(k,j,ie){this.type=Pr,this.needle=k,this.haystack=j,this.fromIndex=ie};bl.parse=function(k,j){if(k.length<=2||k.length>=5)return j.error("Expected 3 or 4 arguments, but found "+(k.length-1)+" instead.");var ie=j.parse(k[1],1,bn),pe=j.parse(k[2],2,bn);if(!ie||!pe)return null;if(!Oo(ie.type,[pn,Br,Pr,Ir,bn]))return j.error("Expected first argument to be of type boolean, string, number or null, but found "+ya(ie.type)+" instead");if(k.length===4){var Se=j.parse(k[3],3,Pr);return Se?new bl(ie,pe,Se):null}else return new bl(ie,pe)},bl.prototype.evaluate=function(k){var j=this.needle.evaluate(k),ie=this.haystack.evaluate(k);if(!jo(j,["boolean","string","number","null"]))throw new io("Expected first argument to be of type boolean, string, number or null, but found "+ya(Wi(j))+" instead.");if(!jo(ie,["string","array"]))throw new io("Expected second argument to be of type array or string, but found "+ya(Wi(ie))+" instead.");if(this.fromIndex){var pe=this.fromIndex.evaluate(k);return ie.indexOf(j,pe)}return ie.indexOf(j)},bl.prototype.eachChild=function(k){k(this.needle),k(this.haystack),this.fromIndex&&k(this.fromIndex)},bl.prototype.outputDefined=function(){return!1},bl.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var k=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),k]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var wl=function(k,j,ie,pe,Se,Ie){this.inputType=k,this.type=j,this.input=ie,this.cases=pe,this.outputs=Se,this.otherwise=Ie};wl.parse=function(k,j){if(k.length<5)return j.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if(k.length%2!==1)return j.error("Expected an even number of arguments.");var ie,pe;j.expectedType&&j.expectedType.kind!=="value"&&(pe=j.expectedType);for(var Se={},Ie=[],$e=2;$e<k.length-1;$e+=2){var ut=k[$e],Tt=k[$e+1];Array.isArray(ut)||(ut=[ut]);var Mt=j.concat($e);if(ut.length===0)return Mt.error("Expected at least one branch label.");for(var Gt=0,ir=ut;Gt<ir.length;Gt+=1){var Qt=ir[Gt];if(typeof Qt!="number"&&typeof Qt!="string")return Mt.error("Branch labels must be numbers or strings.");if(typeof Qt=="number"&&Math.abs(Qt)>Number.MAX_SAFE_INTEGER)return Mt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Qt=="number"&&Math.floor(Qt)!==Qt)return Mt.error("Numeric branch labels must be integer values.");if(!ie)ie=Wi(Qt);else if(Mt.checkSubtype(ie,Wi(Qt)))return null;if(typeof Se[String(Qt)]<"u")return Mt.error("Branch labels must be unique.");Se[String(Qt)]=Ie.length}var br=j.parse(Tt,$e,pe);if(!br)return null;pe=pe||br.type,Ie.push(br)}var Nr=j.parse(k[1],1,bn);if(!Nr)return null;var un=j.parse(k[k.length-1],k.length-1,pe);return!un||Nr.type.kind!=="value"&&j.concat(1).checkSubtype(ie,Nr.type)?null:new wl(ie,pe,Nr,Se,Ie,un)},wl.prototype.evaluate=function(k){var j=this.input.evaluate(k),ie=Wi(j)===this.inputType&&this.outputs[this.cases[j]]||this.otherwise;return ie.evaluate(k)},wl.prototype.eachChild=function(k){k(this.input),this.outputs.forEach(k),k(this.otherwise)},wl.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})&&this.otherwise.outputDefined()},wl.prototype.serialize=function(){for(var k=this,j=["match",this.input.serialize()],ie=Object.keys(this.cases).sort(),pe=[],Se={},Ie=0,$e=ie;Ie<$e.length;Ie+=1){var ut=$e[Ie],Tt=Se[this.cases[ut]];Tt===void 0?(Se[this.cases[ut]]=pe.length,pe.push([this.cases[ut],[ut]])):pe[Tt][1].push(ut)}for(var Mt=function(Nr){return k.inputType.kind==="number"?Number(Nr):Nr},Gt=0,ir=pe;Gt<ir.length;Gt+=1){var Qt=ir[Gt],Tt=Qt[0],br=Qt[1];br.length===1?j.push(Mt(br[0])):j.push(br.map(Mt)),j.push(this.outputs[outputIndex$1].serialize())}return j.push(this.otherwise.serialize()),j};var ws=function(k,j,ie){this.type=k,this.branches=j,this.otherwise=ie};ws.parse=function(k,j){if(k.length<4)return j.error("Expected at least 3 arguments, but found only "+(k.length-1)+".");if(k.length%2!==0)return j.error("Expected an odd number of arguments.");var ie;j.expectedType&&j.expectedType.kind!=="value"&&(ie=j.expectedType);for(var pe=[],Se=1;Se<k.length-1;Se+=2){var Ie=j.parse(k[Se],Se,pn);if(!Ie)return null;var $e=j.parse(k[Se+1],Se+1,ie);if(!$e)return null;pe.push([Ie,$e]),ie=ie||$e.type}var ut=j.parse(k[k.length-1],k.length-1,ie);return ut?new ws(ie,pe,ut):null},ws.prototype.evaluate=function(k){for(var j=0,ie=this.branches;j<ie.length;j+=1){var pe=ie[j],Se=pe[0],Ie=pe[1];if(Se.evaluate(k))return Ie.evaluate(k)}return this.otherwise.evaluate(k)},ws.prototype.eachChild=function(k){for(var j=0,ie=this.branches;j<ie.length;j+=1){var pe=ie[j],Se=pe[0],Ie=pe[1];k(Se),k(Ie)}k(this.otherwise)},ws.prototype.outputDefined=function(){return this.branches.every(function(k){k[0];var j=k[1];return j.outputDefined()})&&this.otherwise.outputDefined()},ws.prototype.serialize=function(){var k=["case"];return this.eachChild(function(j){k.push(j.serialize())}),k};var Bs=function(k,j,ie,pe){this.type=k,this.input=j,this.beginIndex=ie,this.endIndex=pe};Bs.parse=function(k,j){if(k.length<=2||k.length>=5)return j.error("Expected 3 or 4 arguments, but found "+(k.length-1)+" instead.");var ie=j.parse(k[1],1,bn),pe=j.parse(k[2],2,Pr);if(!ie||!pe)return null;if(!Oo(ie.type,[fa(bn),Br,bn]))return j.error("Expected first argument to be of type array or string, but found "+ya(ie.type)+" instead");if(k.length===4){var Se=j.parse(k[3],3,Pr);return Se?new Bs(ie.type,ie,pe,Se):null}else return new Bs(ie.type,ie,pe)},Bs.prototype.evaluate=function(k){var j=this.input.evaluate(k),ie=this.beginIndex.evaluate(k);if(!jo(j,["string","array"]))throw new io("Expected first argument to be of type array or string, but found "+ya(Wi(j))+" instead.");if(this.endIndex){var pe=this.endIndex.evaluate(k);return j.slice(ie,pe)}return j.slice(ie)},Bs.prototype.eachChild=function(k){k(this.input),k(this.beginIndex),this.endIndex&&k(this.endIndex)},Bs.prototype.outputDefined=function(){return!1},Bs.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var k=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),k]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Xu(I,k){return I==="=="||I==="!="?k.kind==="boolean"||k.kind==="string"||k.kind==="number"||k.kind==="null"||k.kind==="value":k.kind==="string"||k.kind==="number"||k.kind==="value"}function $u(I,k,j){return k===j}function Af(I,k,j){return k!==j}function dv(I,k,j){return k<j}function pv(I,k,j){return k>j}function gv(I,k,j){return k<=j}function yv(I,k,j){return k>=j}function Sf(I,k,j,ie){return ie.compare(k,j)===0}function qc(I,k,j,ie){return!Sf(I,k,j,ie)}function mu(I,k,j,ie){return ie.compare(k,j)<0}function wo(I,k,j,ie){return ie.compare(k,j)>0}function Xo(I,k,j,ie){return ie.compare(k,j)<=0}function Ku(I,k,j,ie){return ie.compare(k,j)>=0}function Gl(I,k,j){var ie=I!=="=="&&I!=="!=";return function(){function pe(Se,Ie,$e){this.type=pn,this.lhs=Se,this.rhs=Ie,this.collator=$e,this.hasUntypedArgument=Se.type.kind==="value"||Ie.type.kind==="value"}return pe.parse=function(Ie,$e){if(Ie.length!==3&&Ie.length!==4)return $e.error("Expected two or three arguments.");var ut=Ie[0],Tt=$e.parse(Ie[1],1,bn);if(!Tt)return null;if(!Xu(ut,Tt.type))return $e.concat(1).error('"'+ut+`" comparisons are not supported for type '`+ya(Tt.type)+"'.");var Mt=$e.parse(Ie[2],2,bn);if(!Mt)return null;if(!Xu(ut,Mt.type))return $e.concat(2).error('"'+ut+`" comparisons are not supported for type '`+ya(Mt.type)+"'.");if(Tt.type.kind!==Mt.type.kind&&Tt.type.kind!=="value"&&Mt.type.kind!=="value")return $e.error("Cannot compare types '"+ya(Tt.type)+"' and '"+ya(Mt.type)+"'.");ie&&(Tt.type.kind==="value"&&Mt.type.kind!=="value"?Tt=new Do(Mt.type,[Tt]):Tt.type.kind!=="value"&&Mt.type.kind==="value"&&(Mt=new Do(Tt.type,[Mt])));var Gt=null;if(Ie.length===4){if(Tt.type.kind!=="string"&&Mt.type.kind!=="string"&&Tt.type.kind!=="value"&&Mt.type.kind!=="value")return $e.error("Cannot use collator to compare non-string types.");if(Gt=$e.parse(Ie[3],3,ia),!Gt)return null}return new pe(Tt,Mt,Gt)},pe.prototype.evaluate=function(Ie){var $e=this.lhs.evaluate(Ie),ut=this.rhs.evaluate(Ie);if(ie&&this.hasUntypedArgument){var Tt=Wi($e),Mt=Wi(ut);if(Tt.kind!==Mt.kind||!(Tt.kind==="string"||Tt.kind==="number"))throw new io('Expected arguments for "'+I+'" to be (string, string) or (number, number), but found ('+Tt.kind+", "+Mt.kind+") instead.")}if(this.collator&&!ie&&this.hasUntypedArgument){var Gt=Wi($e),ir=Wi(ut);if(Gt.kind!=="string"||ir.kind!=="string")return k(Ie,$e,ut)}return this.collator?j(Ie,$e,ut,this.collator.evaluate(Ie)):k(Ie,$e,ut)},pe.prototype.eachChild=function(Ie){Ie(this.lhs),Ie(this.rhs),this.collator&&Ie(this.collator)},pe.prototype.outputDefined=function(){return!0},pe.prototype.serialize=function(){var Ie=[I];return this.eachChild(function($e){Ie.push($e.serialize())}),Ie},pe}()}var Ju=Gl("==",$u,Sf),Mf=Gl("!=",Af,qc),mv=Gl("<",dv,mu),eh=Gl(">",pv,wo),th=Gl("<=",gv,Xo),gc=Gl(">=",yv,Ku),Tl=function(k,j,ie,pe,Se){this.type=Br,this.number=k,this.locale=j,this.currency=ie,this.minFractionDigits=pe,this.maxFractionDigits=Se};Tl.parse=function(k,j){if(k.length!==3)return j.error("Expected two arguments.");var ie=j.parse(k[1],1,Pr);if(!ie)return null;var pe=k[2];if(typeof pe!="object"||Array.isArray(pe))return j.error("NumberFormat options argument must be an object.");var Se=null;if(pe.locale&&(Se=j.parse(pe.locale,1,Br),!Se))return null;var Ie=null;if(pe.currency&&(Ie=j.parse(pe.currency,1,Br),!Ie))return null;var $e=null;if(pe["min-fraction-digits"]&&($e=j.parse(pe["min-fraction-digits"],1,Pr),!$e))return null;var ut=null;return pe["max-fraction-digits"]&&(ut=j.parse(pe["max-fraction-digits"],1,Pr),!ut)?null:new Tl(ie,Se,Ie,$e,ut)},Tl.prototype.evaluate=function(k){return new Intl.NumberFormat(this.locale?this.locale.evaluate(k):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(k):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(k):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(k):void 0}).format(this.number.evaluate(k))},Tl.prototype.eachChild=function(k){k(this.number),this.locale&&k(this.locale),this.currency&&k(this.currency),this.minFractionDigits&&k(this.minFractionDigits),this.maxFractionDigits&&k(this.maxFractionDigits)},Tl.prototype.outputDefined=function(){return!1},Tl.prototype.serialize=function(){var k={};return this.locale&&(k.locale=this.locale.serialize()),this.currency&&(k.currency=this.currency.serialize()),this.minFractionDigits&&(k["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(k["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),k]};var qi=function(k){this.type=Pr,this.input=k};qi.parse=function(k,j){if(k.length!==2)return j.error("Expected 1 argument, but found "+(k.length-1)+" instead.");var ie=j.parse(k[1],1);return ie?ie.type.kind!=="array"&&ie.type.kind!=="string"&&ie.type.kind!=="value"?j.error("Expected argument of type string or array, but found "+ya(ie.type)+" instead."):new qi(ie):null},qi.prototype.evaluate=function(k){var j=this.input.evaluate(k);if(typeof j=="string")return j.length;if(Array.isArray(j))return j.length;throw new io("Expected value to be of type string or array, but found "+ya(Wi(j))+" instead.")},qi.prototype.eachChild=function(k){k(this.input)},qi.prototype.outputDefined=function(){return!1},qi.prototype.serialize=function(){var k=["length"];return this.eachChild(function(j){k.push(j.serialize())}),k};var Ns={"==":Ju,"!=":Mf,">":eh,"<":mv,">=":gc,"<=":th,array:Do,at:al,boolean:Do,case:ws,coalesce:Zo,collator:el,format:us,image:Fs,in:xl,"index-of":bl,interpolate:Qi,"interpolate-hcl":Qi,"interpolate-lab":Qi,length:qi,let:nl,literal:rs,match:wl,number:Do,"number-format":Tl,object:Do,slice:Bs,step:ml,string:Do,"to-boolean":xo,"to-color":xo,"to-number":xo,"to-string":xo,var:Os,within:fs};function yc(I,k){var j=k[0],ie=k[1],pe=k[2],Se=k[3];j=j.evaluate(I),ie=ie.evaluate(I),pe=pe.evaluate(I);var Ie=Se?Se.evaluate(I):1,$e=Yc(j,ie,pe,Ie);if($e)throw new io($e);return new oi(j/255*Ie,ie/255*Ie,pe/255*Ie,Ie)}function rh(I,k){return I in k}function Wl(I,k){var j=k[I];return typeof j>"u"?null:j}function Ef(I,k,j,ie){for(;j<=ie;){var pe=j+ie>>1;if(k[pe]===I)return!0;k[pe]>I?ie=pe-1:j=pe+1}return!1}function Ts(I){return{type:I}}bo.register(Ns,{error:[Un,[Br],function(I,k){var j=k[0];throw new io(j.evaluate(I))}],typeof:[Br,[bn],function(I,k){var j=k[0];return ya(Wi(j.evaluate(I)))}],"to-rgba":[fa(Pr,4),[zn],function(I,k){var j=k[0];return j.evaluate(I).toArray()}],rgb:[zn,[Pr,Pr,Pr],yc],rgba:[zn,[Pr,Pr,Pr,Pr],yc],has:{type:pn,overloads:[[[Br],function(I,k){var j=k[0];return rh(j.evaluate(I),I.properties())}],[[Br,Xn],function(I,k){var j=k[0],ie=k[1];return rh(j.evaluate(I),ie.evaluate(I))}]]},get:{type:bn,overloads:[[[Br],function(I,k){var j=k[0];return Wl(j.evaluate(I),I.properties())}],[[Br,Xn],function(I,k){var j=k[0],ie=k[1];return Wl(j.evaluate(I),ie.evaluate(I))}]]},"feature-state":[bn,[Br],function(I,k){var j=k[0];return Wl(j.evaluate(I),I.featureState||{})}],properties:[Xn,[],function(I){return I.properties()}],"geometry-type":[Br,[],function(I){return I.geometryType()}],id:[bn,[],function(I){return I.id()}],zoom:[Pr,[],function(I){return I.globals.zoom}],"heatmap-density":[Pr,[],function(I){return I.globals.heatmapDensity||0}],"line-progress":[Pr,[],function(I){return I.globals.lineProgress||0}],accumulated:[bn,[],function(I){return I.globals.accumulated===void 0?null:I.globals.accumulated}],"+":[Pr,Ts(Pr),function(I,k){for(var j=0,ie=0,pe=k;ie<pe.length;ie+=1){var Se=pe[ie];j+=Se.evaluate(I)}return j}],"*":[Pr,Ts(Pr),function(I,k){for(var j=1,ie=0,pe=k;ie<pe.length;ie+=1){var Se=pe[ie];j*=Se.evaluate(I)}return j}],"-":{type:Pr,overloads:[[[Pr,Pr],function(I,k){var j=k[0],ie=k[1];return j.evaluate(I)-ie.evaluate(I)}],[[Pr],function(I,k){var j=k[0];return-j.evaluate(I)}]]},"/":[Pr,[Pr,Pr],function(I,k){var j=k[0],ie=k[1];return j.evaluate(I)/ie.evaluate(I)}],"%":[Pr,[Pr,Pr],function(I,k){var j=k[0],ie=k[1];return j.evaluate(I)%ie.evaluate(I)}],ln2:[Pr,[],function(){return Math.LN2}],pi:[Pr,[],function(){return Math.PI}],e:[Pr,[],function(){return Math.E}],"^":[Pr,[Pr,Pr],function(I,k){var j=k[0],ie=k[1];return Math.pow(j.evaluate(I),ie.evaluate(I))}],sqrt:[Pr,[Pr],function(I,k){var j=k[0];return Math.sqrt(j.evaluate(I))}],log10:[Pr,[Pr],function(I,k){var j=k[0];return Math.log(j.evaluate(I))/Math.LN10}],ln:[Pr,[Pr],function(I,k){var j=k[0];return Math.log(j.evaluate(I))}],log2:[Pr,[Pr],function(I,k){var j=k[0];return Math.log(j.evaluate(I))/Math.LN2}],sin:[Pr,[Pr],function(I,k){var j=k[0];return Math.sin(j.evaluate(I))}],cos:[Pr,[Pr],function(I,k){var j=k[0];return Math.cos(j.evaluate(I))}],tan:[Pr,[Pr],function(I,k){var j=k[0];return Math.tan(j.evaluate(I))}],asin:[Pr,[Pr],function(I,k){var j=k[0];return Math.asin(j.evaluate(I))}],acos:[Pr,[Pr],function(I,k){var j=k[0];return Math.acos(j.evaluate(I))}],atan:[Pr,[Pr],function(I,k){var j=k[0];return Math.atan(j.evaluate(I))}],min:[Pr,Ts(Pr),function(I,k){return Math.min.apply(Math,k.map(function(j){return j.evaluate(I)}))}],max:[Pr,Ts(Pr),function(I,k){return Math.max.apply(Math,k.map(function(j){return j.evaluate(I)}))}],abs:[Pr,[Pr],function(I,k){var j=k[0];return Math.abs(j.evaluate(I))}],round:[Pr,[Pr],function(I,k){var j=k[0],ie=j.evaluate(I);return ie<0?-Math.round(-ie):Math.round(ie)}],floor:[Pr,[Pr],function(I,k){var j=k[0];return Math.floor(j.evaluate(I))}],ceil:[Pr,[Pr],function(I,k){var j=k[0];return Math.ceil(j.evaluate(I))}],"filter-==":[pn,[Br,bn],function(I,k){var j=k[0],ie=k[1];return I.properties()[j.value]===ie.value}],"filter-id-==":[pn,[bn],function(I,k){var j=k[0];return I.id()===j.value}],"filter-type-==":[pn,[Br],function(I,k){var j=k[0];return I.geometryType()===j.value}],"filter-<":[pn,[Br,bn],function(I,k){var j=k[0],ie=k[1],pe=I.properties()[j.value],Se=ie.value;return typeof pe==typeof Se&&pe<Se}],"filter-id-<":[pn,[bn],function(I,k){var j=k[0],ie=I.id(),pe=j.value;return typeof ie==typeof pe&&ie<pe}],"filter->":[pn,[Br,bn],function(I,k){var j=k[0],ie=k[1],pe=I.properties()[j.value],Se=ie.value;return typeof pe==typeof Se&&pe>Se}],"filter-id->":[pn,[bn],function(I,k){var j=k[0],ie=I.id(),pe=j.value;return typeof ie==typeof pe&&ie>pe}],"filter-<=":[pn,[Br,bn],function(I,k){var j=k[0],ie=k[1],pe=I.properties()[j.value],Se=ie.value;return typeof pe==typeof Se&&pe<=Se}],"filter-id-<=":[pn,[bn],function(I,k){var j=k[0],ie=I.id(),pe=j.value;return typeof ie==typeof pe&&ie<=pe}],"filter->=":[pn,[Br,bn],function(I,k){var j=k[0],ie=k[1],pe=I.properties()[j.value],Se=ie.value;return typeof pe==typeof Se&&pe>=Se}],"filter-id->=":[pn,[bn],function(I,k){var j=k[0],ie=I.id(),pe=j.value;return typeof ie==typeof pe&&ie>=pe}],"filter-has":[pn,[bn],function(I,k){var j=k[0];return j.value in I.properties()}],"filter-has-id":[pn,[],function(I){return I.id()!==null&&I.id()!==void 0}],"filter-type-in":[pn,[fa(Br)],function(I,k){var j=k[0];return j.value.indexOf(I.geometryType())>=0}],"filter-id-in":[pn,[fa(bn)],function(I,k){var j=k[0];return j.value.indexOf(I.id())>=0}],"filter-in-small":[pn,[Br,fa(bn)],function(I,k){var j=k[0],ie=k[1];return ie.value.indexOf(I.properties()[j.value])>=0}],"filter-in-large":[pn,[Br,fa(bn)],function(I,k){var j=k[0],ie=k[1];return Ef(I.properties()[j.value],ie.value,0,ie.value.length-1)}],all:{type:pn,overloads:[[[pn,pn],function(I,k){var j=k[0],ie=k[1];return j.evaluate(I)&&ie.evaluate(I)}],[Ts(pn),function(I,k){for(var j=0,ie=k;j<ie.length;j+=1){var pe=ie[j];if(!pe.evaluate(I))return!1}return!0}]]},any:{type:pn,overloads:[[[pn,pn],function(I,k){var j=k[0],ie=k[1];return j.evaluate(I)||ie.evaluate(I)}],[Ts(pn),function(I,k){for(var j=0,ie=k;j<ie.length;j+=1){var pe=ie[j];if(pe.evaluate(I))return!0}return!1}]]},"!":[pn,[pn],function(I,k){var j=k[0];return!j.evaluate(I)}],"is-supported-script":[pn,[Br],function(I,k){var j=k[0],ie=I.globals&&I.globals.isSupportedScript;return ie?ie(j.evaluate(I)):!0}],upcase:[Br,[Br],function(I,k){var j=k[0];return j.evaluate(I).toUpperCase()}],downcase:[Br,[Br],function(I,k){var j=k[0];return j.evaluate(I).toLowerCase()}],concat:[Br,Ts(bn),function(I,k){return k.map(function(j){return Vu(j.evaluate(I))}).join("")}],"resolved-locale":[Br,[ia],function(I,k){var j=k[0];return j.evaluate(I).resolvedLocale()}]});function Cf(I){return{result:"success",value:I}}function il(I){return{result:"error",value:I}}function ol(I){return I["property-type"]==="data-driven"||I["property-type"]==="cross-faded-data-driven"}function mc(I){return!!I.expression&&I.expression.parameters.indexOf("zoom")>-1}function xu(I){return!!I.expression&&I.expression.interpolated}function pi(I){return I instanceof Number?"number":I instanceof String?"string":I instanceof Boolean?"boolean":Array.isArray(I)?"array":I===null?"null":typeof I}function jl(I){return typeof I=="object"&&I!==null&&!Array.isArray(I)}function Lf(I){return I}function Pf(I,k){var j=k.type==="color",ie=I.stops&&typeof I.stops[0][0]=="object",pe=ie||I.property!==void 0,Se=ie||!pe,Ie=I.type||(xu(k)?"exponential":"interval");if(j&&(I=fn({},I),I.stops&&(I.stops=I.stops.map(function(na){return[na[0],oi.parse(na[1])]})),I.default?I.default=oi.parse(I.default):I.default=oi.parse(k.default)),I.colorSpace&&I.colorSpace!=="rgb"&&!pc[I.colorSpace])throw new Error("Unknown color space: "+I.colorSpace);var $e,ut,Tt;if(Ie==="exponential")$e=bu;else if(Ie==="interval")$e=xc;else if(Ie==="categorical"){$e=xv,ut=Object.create(null);for(var Mt=0,Gt=I.stops;Mt<Gt.length;Mt+=1){var ir=Gt[Mt];ut[ir[0]]=ir[1]}Tt=typeof I.stops[0][0]}else if(Ie==="identity")$e=bc;else throw new Error('Unknown function type "'+Ie+'"');if(ie){for(var Qt={},br=[],Nr=0;Nr<I.stops.length;Nr++){var un=I.stops[Nr],en=un[0].zoom;Qt[en]===void 0&&(Qt[en]={zoom:en,type:I.type,property:I.property,default:I.default,stops:[]},br.push(en)),Qt[en].stops.push([un[0].value,un[1]])}for(var Pn=[],Tn=0,Ln=br;Tn<Ln.length;Tn+=1){var Fn=Ln[Tn];Pn.push([Qt[Fn].zoom,Pf(Qt[Fn],k)])}var Wn={name:"linear"};return{kind:"composite",interpolationType:Wn,interpolationFactor:Qi.interpolationFactor.bind(void 0,Wn),zoomStops:Pn.map(function(na){return na[0]}),evaluate:function(Pa,da){var ba=Pa.zoom;return bu({stops:Pn,base:I.base},k,ba).evaluate(ba,da)}}}else if(Se){var aa=Ie==="exponential"?{name:"exponential",base:I.base!==void 0?I.base:1}:null;return{kind:"camera",interpolationType:aa,interpolationFactor:Qi.interpolationFactor.bind(void 0,aa),zoomStops:I.stops.map(function(na){return na[0]}),evaluate:function(na){var Pa=na.zoom;return $e(I,k,Pa,ut,Tt)}}}else return{kind:"source",evaluate:function(Pa,da){var ba=da&&da.properties?da.properties[I.property]:void 0;return ba===void 0?Al(I.default,k.default):$e(I,k,ba,ut,Tt)}}}function Al(I,k,j){if(I!==void 0)return I;if(k!==void 0)return k;if(j!==void 0)return j}function xv(I,k,j,ie,pe){var Se=typeof j===pe?ie[j]:void 0;return Al(Se,I.default,k.default)}function xc(I,k,j){if(pi(j)!=="number")return Al(I.default,k.default);var ie=I.stops.length;if(ie===1||j<=I.stops[0][0])return I.stops[0][1];if(j>=I.stops[ie-1][0])return I.stops[ie-1][1];var pe=vu(I.stops.map(function(Se){return Se[0]}),j);return I.stops[pe][1]}function bu(I,k,j){var ie=I.base!==void 0?I.base:1;if(pi(j)!=="number")return Al(I.default,k.default);var pe=I.stops.length;if(pe===1||j<=I.stops[0][0])return I.stops[0][1];if(j>=I.stops[pe-1][0])return I.stops[pe-1][1];var Se=vu(I.stops.map(function(Gt){return Gt[0]}),j),Ie=nh(j,ie,I.stops[Se][0],I.stops[Se+1][0]),$e=I.stops[Se][1],ut=I.stops[Se+1][1],Tt=du[k.type]||Lf;if(I.colorSpace&&I.colorSpace!=="rgb"){var Mt=pc[I.colorSpace];Tt=function(Gt,ir){return Mt.reverse(Mt.interpolate(Mt.forward(Gt),Mt.forward(ir),Ie))}}return typeof $e.evaluate=="function"?{evaluate:function(){for(var ir=[],Qt=arguments.length;Qt--;)ir[Qt]=arguments[Qt];var br=$e.evaluate.apply(void 0,ir),Nr=ut.evaluate.apply(void 0,ir);if(!(br===void 0||Nr===void 0))return Tt(br,Nr,Ie)}}:Tt($e,ut,Ie)}function bc(I,k,j){return k.type==="color"?j=oi.parse(j):k.type==="formatted"?j=co.fromString(j.toString()):k.type==="resolvedImage"?j=Yo.fromString(j.toString()):pi(j)!==k.type&&(k.type!=="enum"||!k.values[j])&&(j=void 0),Al(j,I.default,k.default)}function nh(I,k,j,ie){var pe=ie-j,Se=I-j;return pe===0?0:k===1?Se/pe:(Math.pow(k,Se)-1)/(Math.pow(k,pe)-1)}var sl=function(k,j){this.expression=k,this._warningHistory={},this._evaluator=new _s,this._defaultValue=j?ih(j):null,this._enumValues=j&&j.type==="enum"?j.values:null};sl.prototype.evaluateWithoutErrorHandling=function(k,j,ie,pe,Se,Ie){return this._evaluator.globals=k,this._evaluator.feature=j,this._evaluator.featureState=ie,this._evaluator.canonical=pe,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Ie,this.expression.evaluate(this._evaluator)},sl.prototype.evaluate=function(k,j,ie,pe,Se,Ie){this._evaluator.globals=k,this._evaluator.feature=j||null,this._evaluator.featureState=ie||null,this._evaluator.canonical=pe,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Ie||null;try{var $e=this.expression.evaluate(this._evaluator);if($e==null||typeof $e=="number"&&$e!==$e)return this._defaultValue;if(this._enumValues&&!($e in this._enumValues))throw new io("Expected value to be one of "+Object.keys(this._enumValues).map(function(ut){return JSON.stringify(ut)}).join(", ")+", but found "+JSON.stringify($e)+" instead.");return $e}catch(ut){return this._warningHistory[ut.message]||(this._warningHistory[ut.message]=!0,typeof console<"u"&&console.warn(ut.message)),this._defaultValue}};function Sl(I){return Array.isArray(I)&&I.length>0&&typeof I[0]=="string"&&I[0]in Ns}function Yl(I,k){var j=new rl(Ns,[],k?Rf(k):void 0),ie=j.parse(I,void 0,void 0,void 0,k&&k.type==="string"?{typeAnnotation:"coerce"}:void 0);return ie?Cf(new sl(ie,k)):il(j.errors)}var Zl=function(k,j){this.kind=k,this._styleExpression=j,this.isStateDependent=k!=="constant"&&!Wu(j.expression)};Zl.prototype.evaluateWithoutErrorHandling=function(k,j,ie,pe,Se,Ie){return this._styleExpression.evaluateWithoutErrorHandling(k,j,ie,pe,Se,Ie)},Zl.prototype.evaluate=function(k,j,ie,pe,Se,Ie){return this._styleExpression.evaluate(k,j,ie,pe,Se,Ie)};var $o=function(k,j,ie,pe){this.kind=k,this.zoomStops=ie,this._styleExpression=j,this.isStateDependent=k!=="camera"&&!Wu(j.expression),this.interpolationType=pe};$o.prototype.evaluateWithoutErrorHandling=function(k,j,ie,pe,Se,Ie){return this._styleExpression.evaluateWithoutErrorHandling(k,j,ie,pe,Se,Ie)},$o.prototype.evaluate=function(k,j,ie,pe,Se,Ie){return this._styleExpression.evaluate(k,j,ie,pe,Se,Ie)},$o.prototype.interpolationFactor=function(k,j,ie){return this.interpolationType?Qi.interpolationFactor(this.interpolationType,k,j,ie):0};function as(I,k){if(I=Yl(I,k),I.result==="error")return I;var j=I.value.expression,ie=Hl(j);if(!ie&&!ol(k))return il([new Mn("","data expressions not supported")]);var pe=hu(j,["zoom"]);if(!pe&&!mc(k))return il([new Mn("","zoom expressions not supported")]);var Se=wu(j);if(!Se&&!pe)return il([new Mn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Se instanceof Mn)return il([Se]);if(Se instanceof Qi&&!xu(k))return il([new Mn("",'"interpolate" expressions cannot be used with this property')]);if(!Se)return Cf(ie?new Zl("constant",I.value):new Zl("source",I.value));var Ie=Se instanceof Qi?Se.interpolation:void 0;return Cf(ie?new $o("camera",I.value,Se.labels,Ie):new $o("composite",I.value,Se.labels,Ie))}var Xl=function(k,j){this._parameters=k,this._specification=j,fn(this,Pf(this._parameters,this._specification))};Xl.deserialize=function(k){return new Xl(k._parameters,k._specification)},Xl.serialize=function(k){return{_parameters:k._parameters,_specification:k._specification}};function ah(I,k){if(jl(I))return new Xl(I,k);if(Sl(I)){var j=as(I,k);if(j.result==="error")throw new Error(j.value.map(function(pe){return pe.key+": "+pe.message}).join(", "));return j.value}else{var ie=I;return typeof I=="string"&&k.type==="color"&&(ie=oi.parse(I)),{kind:"constant",evaluate:function(){return ie}}}}function wu(I){var k=null;if(I instanceof nl)k=wu(I.result);else if(I instanceof Zo)for(var j=0,ie=I.args;j<ie.length;j+=1){var pe=ie[j];if(k=wu(pe),k)break}else(I instanceof ml||I instanceof Qi)&&I.input instanceof bo&&I.input.name==="zoom"&&(k=I);return k instanceof Mn||I.eachChild(function(Se){var Ie=wu(Se);Ie instanceof Mn?k=Ie:!k&&Ie?k=new Mn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):k&&Ie&&k!==Ie&&(k=new Mn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),k}function Rf(I){var k={color:zn,string:Br,number:Pr,enum:Br,boolean:pn,formatted:ca,resolvedImage:ua};return I.type==="array"?fa(k[I.value]||bn,I.length):k[I.type]}function ih(I){return I.type==="color"&&jl(I.default)?new oi(0,0,0,0):I.type==="color"?oi.parse(I.default)||null:I.default===void 0?null:I.default}function As(I){var k=I.key,j=I.value,ie=I.valueSpec||{},pe=I.objectElementValidators||{},Se=I.style,Ie=I.styleSpec,$e=[],ut=pi(j);if(ut!=="object")return[new wr(k,j,"object expected, "+ut+" found")];for(var Tt in j){var Mt=Tt.split(".")[0],Gt=ie[Mt]||ie["*"],ir=void 0;if(pe[Mt])ir=pe[Mt];else if(ie[Mt])ir=ar;else if(pe["*"])ir=pe["*"];else if(ie["*"])ir=ar;else{$e.push(new wr(k,j[Tt],'unknown property "'+Tt+'"'));continue}$e=$e.concat(ir({key:(k&&k+".")+Tt,value:j[Tt],valueSpec:Gt,style:Se,styleSpec:Ie,object:j,objectKey:Tt},j))}for(var Qt in ie)pe[Qt]||ie[Qt].required&&ie[Qt].default===void 0&&j[Qt]===void 0&&$e.push(new wr(k,j,'missing required property "'+Qt+'"'));return $e}function wc(I){var k=I.value,j=I.valueSpec,ie=I.style,pe=I.styleSpec,Se=I.key,Ie=I.arrayElementValidator||ar;if(pi(k)!=="array")return[new wr(Se,k,"array expected, "+pi(k)+" found")];if(j.length&&k.length!==j.length)return[new wr(Se,k,"array length "+j.length+" expected, length "+k.length+" found")];if(j["min-length"]&&k.length<j["min-length"])return[new wr(Se,k,"array length at least "+j["min-length"]+" expected, length "+k.length+" found")];var $e={type:j.value,values:j.values};pe.$version<7&&($e.function=j.function),pi(j.value)==="object"&&($e=j.value);for(var ut=[],Tt=0;Tt<k.length;Tt++)ut=ut.concat(Ie({array:k,arrayIndex:Tt,value:k[Tt],valueSpec:$e,style:ie,styleSpec:pe,key:Se+"["+Tt+"]"}));return ut}function Ml(I){var k=I.key,j=I.value,ie=I.valueSpec,pe=pi(j);return pe==="number"&&j!==j&&(pe="NaN"),pe!=="number"?[new wr(k,j,"number expected, "+pe+" found")]:"minimum"in ie&&j<ie.minimum?[new wr(k,j,j+" is less than the minimum value "+ie.minimum)]:"maximum"in ie&&j>ie.maximum?[new wr(k,j,j+" is greater than the maximum value "+ie.maximum)]:[]}function Qu(I){var k=I.valueSpec,j=hn(I.value.type),ie,pe={},Se,Ie,$e=j!=="categorical"&&I.value.property===void 0,ut=!$e,Tt=pi(I.value.stops)==="array"&&pi(I.value.stops[0])==="array"&&pi(I.value.stops[0][0])==="object",Mt=As({key:I.key,value:I.value,valueSpec:I.styleSpec.function,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{stops:Gt,default:br}});return j==="identity"&&$e&&Mt.push(new wr(I.key,I.value,'missing required property "property"')),j!=="identity"&&!I.value.stops&&Mt.push(new wr(I.key,I.value,'missing required property "stops"')),j==="exponential"&&I.valueSpec.expression&&!xu(I.valueSpec)&&Mt.push(new wr(I.key,I.value,"exponential functions not supported")),I.styleSpec.$version>=8&&(ut&&!ol(I.valueSpec)?Mt.push(new wr(I.key,I.value,"property functions not supported")):$e&&!mc(I.valueSpec)&&Mt.push(new wr(I.key,I.value,"zoom functions not supported"))),(j==="categorical"||Tt)&&I.value.property===void 0&&Mt.push(new wr(I.key,I.value,'"property" property is required')),Mt;function Gt(Nr){if(j==="identity")return[new wr(Nr.key,Nr.value,'identity function may not have a "stops" property')];var un=[],en=Nr.value;return un=un.concat(wc({key:Nr.key,value:en,valueSpec:Nr.valueSpec,style:Nr.style,styleSpec:Nr.styleSpec,arrayElementValidator:ir})),pi(en)==="array"&&en.length===0&&un.push(new wr(Nr.key,en,"array must have at least one stop")),un}function ir(Nr){var un=[],en=Nr.value,Pn=Nr.key;if(pi(en)!=="array")return[new wr(Pn,en,"array expected, "+pi(en)+" found")];if(en.length!==2)return[new wr(Pn,en,"array length 2 expected, length "+en.length+" found")];if(Tt){if(pi(en[0])!=="object")return[new wr(Pn,en,"object expected, "+pi(en[0])+" found")];if(en[0].zoom===void 0)return[new wr(Pn,en,"object stop key must have zoom")];if(en[0].value===void 0)return[new wr(Pn,en,"object stop key must have value")];if(Ie&&Ie>hn(en[0].zoom))return[new wr(Pn,en[0].zoom,"stop zoom values must appear in ascending order")];hn(en[0].zoom)!==Ie&&(Ie=hn(en[0].zoom),Se=void 0,pe={}),un=un.concat(As({key:Pn+"[0]",value:en[0],valueSpec:{zoom:{}},style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{zoom:Ml,value:Qt}}))}else un=un.concat(Qt({key:Pn+"[0]",value:en[0],valueSpec:{},style:Nr.style,styleSpec:Nr.styleSpec},en));return Sl(In(en[1]))?un.concat([new wr(Pn+"[1]",en[1],"expressions are not allowed in function stops.")]):un.concat(ar({key:Pn+"[1]",value:en[1],valueSpec:k,style:Nr.style,styleSpec:Nr.styleSpec}))}function Qt(Nr,un){var en=pi(Nr.value),Pn=hn(Nr.value),Tn=Nr.value!==null?Nr.value:un;if(!ie)ie=en;else if(en!==ie)return[new wr(Nr.key,Tn,en+" stop domain type must match previous stop domain type "+ie)];if(en!=="number"&&en!=="string"&&en!=="boolean")return[new wr(Nr.key,Tn,"stop domain value must be a number, string, or boolean")];if(en!=="number"&&j!=="categorical"){var Ln="number expected, "+en+" found";return ol(k)&&j===void 0&&(Ln+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new wr(Nr.key,Tn,Ln)]}return j==="categorical"&&en==="number"&&(!isFinite(Pn)||Math.floor(Pn)!==Pn)?[new wr(Nr.key,Tn,"integer expected, found "+Pn)]:j!=="categorical"&&en==="number"&&Se!==void 0&&Pn<Se?[new wr(Nr.key,Tn,"stop domain values must appear in ascending order")]:(Se=Pn,j==="categorical"&&Pn in pe?[new wr(Nr.key,Tn,"stop domain values must be unique")]:(pe[Pn]=!0,[]))}function br(Nr){return ar({key:Nr.key,value:Nr.value,valueSpec:k,style:Nr.style,styleSpec:Nr.styleSpec})}}function ll(I){var k=(I.expressionContext==="property"?as:Yl)(In(I.value),I.valueSpec);if(k.result==="error")return k.value.map(function(ie){return new wr(""+I.key+ie.key,I.value,ie.message)});var j=k.value.expression||k.value._styleExpression.expression;if(I.expressionContext==="property"&&I.propertyKey==="text-font"&&!j.outputDefined())return[new wr(I.key,I.value,'Invalid data expression for "'+I.propertyKey+'". Output values must be contained as literals within the expression.')];if(I.expressionContext==="property"&&I.propertyType==="layout"&&!Wu(j))return[new wr(I.key,I.value,'"feature-state" data expressions are not supported with layout properties.')];if(I.expressionContext==="filter"&&!Wu(j))return[new wr(I.key,I.value,'"feature-state" data expressions are not supported with filters.')];if(I.expressionContext&&I.expressionContext.indexOf("cluster")===0){if(!hu(j,["zoom","feature-state"]))return[new wr(I.key,I.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(I.expressionContext==="cluster-initial"&&!Hl(j))return[new wr(I.key,I.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function bv(I){var k=I.value,j=I.key,ie=pi(k);return ie!=="boolean"?[new wr(j,k,"boolean expected, "+ie+" found")]:[]}function Tc(I){var k=I.key,j=I.value,ie=pi(j);return ie!=="string"?[new wr(k,j,"color expected, "+ie+" found")]:tc(j)===null?[new wr(k,j,'color expected, "'+j+'" found')]:[]}function Df(I){var k=I.key,j=I.value,ie=I.valueSpec,pe=[];return Array.isArray(ie.values)?ie.values.indexOf(hn(j))===-1&&pe.push(new wr(k,j,"expected one of ["+ie.values.join(", ")+"], "+JSON.stringify(j)+" found")):Object.keys(ie.values).indexOf(hn(j))===-1&&pe.push(new wr(k,j,"expected one of ["+Object.keys(ie.values).join(", ")+"], "+JSON.stringify(j)+" found")),pe}function Io(I){if(I===!0||I===!1)return!0;if(!Array.isArray(I)||I.length===0)return!1;switch(I[0]){case"has":return I.length>=2&&I[1]!=="$id"&&I[1]!=="$type";case"in":return I.length>=3&&(typeof I[1]!="string"||Array.isArray(I[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return I.length!==3||Array.isArray(I[1])||Array.isArray(I[2]);case"any":case"all":for(var k=0,j=I.slice(1);k<j.length;k+=1){var ie=j[k];if(!Io(ie)&&typeof ie!="boolean")return!1}return!0;default:return!0}}var oh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function qu(I){if(I==null)return{filter:function(){return!0},needGeometry:!1};Io(I)||(I=El(I));var k=Yl(I,oh);if(k.result==="error")throw new Error(k.value.map(function(ie){return ie.key+": "+ie.message}).join(", "));var j=ef(I);return{filter:function(ie,pe,Se){return k.value.evaluate(ie,pe,{},Se)},needGeometry:j}}function Us(I,k){return I<k?-1:I>k?1:0}function ef(I){if(!Array.isArray(I))return!1;if(I[0]==="within")return!0;for(var k=1;k<I.length;k++)if(ef(I[k]))return!0;return!1}function El(I){if(!I)return!0;var k=I[0];if(I.length<=1)return k!=="any";var j=k==="=="?If(I[1],I[2],"=="):k==="!="?$l(If(I[1],I[2],"==")):k==="<"||k===">"||k==="<="||k===">="?If(I[1],I[2],k):k==="any"?sh(I.slice(1)):k==="all"?["all"].concat(I.slice(1).map(El)):k==="none"?["all"].concat(I.slice(1).map(El).map($l)):k==="in"?Ac(I[1],I.slice(2)):k==="!in"?$l(Ac(I[1],I.slice(2))):k==="has"?Sc(I[1]):k==="!has"?$l(Sc(I[1])):k==="within"?I:!0;return j}function If(I,k,j){switch(I){case"$type":return["filter-type-"+j,k];case"$id":return["filter-id-"+j,k];default:return["filter-"+j,I,k]}}function sh(I){return["any"].concat(I.map(El))}function Ac(I,k){if(k.length===0)return!1;switch(I){case"$type":return["filter-type-in",["literal",k]];case"$id":return["filter-id-in",["literal",k]];default:return k.length>200&&!k.some(function(j){return typeof j!=typeof k[0]})?["filter-in-large",I,["literal",k.sort(Us)]]:["filter-in-small",I,["literal",k]]}}function Sc(I){switch(I){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",I]}}function $l(I){return["!",I]}function kf(I){return Io(In(I.value))?ll(fn({},I,{expressionContext:"filter",valueSpec:{value:"boolean"}})):tf(I)}function tf(I){var k=I.value,j=I.key;if(pi(k)!=="array")return[new wr(j,k,"array expected, "+pi(k)+" found")];var ie=I.styleSpec,pe,Se=[];if(k.length<1)return[new wr(j,k,"filter array must have at least 1 element")];switch(Se=Se.concat(Df({key:j+"[0]",value:k[0],valueSpec:ie.filter_operator,style:I.style,styleSpec:I.styleSpec})),hn(k[0])){case"<":case"<=":case">":case">=":k.length>=2&&hn(k[1])==="$type"&&Se.push(new wr(j,k,'"$type" cannot be use with operator "'+k[0]+'"'));case"==":case"!=":k.length!==3&&Se.push(new wr(j,k,'filter array for operator "'+k[0]+'" must have 3 elements'));case"in":case"!in":k.length>=2&&(pe=pi(k[1]),pe!=="string"&&Se.push(new wr(j+"[1]",k[1],"string expected, "+pe+" found")));for(var Ie=2;Ie<k.length;Ie++)pe=pi(k[Ie]),hn(k[1])==="$type"?Se=Se.concat(Df({key:j+"["+Ie+"]",value:k[Ie],valueSpec:ie.geometry_type,style:I.style,styleSpec:I.styleSpec})):pe!=="string"&&pe!=="number"&&pe!=="boolean"&&Se.push(new wr(j+"["+Ie+"]",k[Ie],"string, number, or boolean expected, "+pe+" found"));break;case"any":case"all":case"none":for(var $e=1;$e<k.length;$e++)Se=Se.concat(tf({key:j+"["+$e+"]",value:k[$e],style:I.style,styleSpec:I.styleSpec}));break;case"has":case"!has":pe=pi(k[1]),k.length!==2?Se.push(new wr(j,k,'filter array for "'+k[0]+'" operator must have 2 elements')):pe!=="string"&&Se.push(new wr(j+"[1]",k[1],"string expected, "+pe+" found"));break;case"within":pe=pi(k[1]),k.length!==2?Se.push(new wr(j,k,'filter array for "'+k[0]+'" operator must have 2 elements')):pe!=="object"&&Se.push(new wr(j+"[1]",k[1],"object expected, "+pe+" found"));break}return Se}function lh(I,k){var j=I.key,ie=I.style,pe=I.styleSpec,Se=I.value,Ie=I.objectKey,$e=pe[k+"_"+I.layerType];if(!$e)return[];var ut=Ie.match(/^(.*)-transition$/);if(k==="paint"&&ut&&$e[ut[1]]&&$e[ut[1]].transition)return ar({key:j,value:Se,valueSpec:pe.transition,style:ie,styleSpec:pe});var Tt=I.valueSpec||$e[Ie];if(!Tt)return[new wr(j,Se,'unknown property "'+Ie+'"')];var Mt;if(pi(Se)==="string"&&ol(Tt)&&!Tt.tokens&&(Mt=/^{([^}]+)}$/.exec(Se)))return[new wr(j,Se,'"'+Ie+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Mt[1])+" }`.")];var Gt=[];return I.layerType==="symbol"&&(Ie==="text-field"&&ie&&!ie.glyphs&&Gt.push(new wr(j,Se,'use of "text-field" requires a style "glyphs" property')),Ie==="text-font"&&jl(In(Se))&&hn(Se.type)==="identity"&&Gt.push(new wr(j,Se,'"text-font" does not support identity functions'))),Gt.concat(ar({key:I.key,value:Se,valueSpec:Tt,style:ie,styleSpec:pe,expressionContext:"property",propertyType:k,propertyKey:Ie}))}function rf(I){return lh(I,"paint")}function uh(I){return lh(I,"layout")}function Xe(I){var k=[],j=I.value,ie=I.key,pe=I.style,Se=I.styleSpec;!j.type&&!j.ref&&k.push(new wr(ie,j,'either "type" or "ref" is required'));var Ie=hn(j.type),$e=hn(j.ref);if(j.id)for(var ut=hn(j.id),Tt=0;Tt<I.arrayIndex;Tt++){var Mt=pe.layers[Tt];hn(Mt.id)===ut&&k.push(new wr(ie,j.id,'duplicate layer id "'+j.id+'", previously used at line '+Mt.id.__line__))}if("ref"in j){["type","source","source-layer","filter","layout"].forEach(function(br){br in j&&k.push(new wr(ie,j[br],'"'+br+'" is prohibited for ref layers'))});var Gt;pe.layers.forEach(function(br){hn(br.id)===$e&&(Gt=br)}),Gt?Gt.ref?k.push(new wr(ie,j.ref,"ref cannot reference another ref layer")):Ie=hn(Gt.type):k.push(new wr(ie,j.ref,'ref layer "'+$e+'" not found'))}else if(Ie!=="background")if(!j.source)k.push(new wr(ie,j,'missing required property "source"'));else{var ir=pe.sources&&pe.sources[j.source],Qt=ir&&hn(ir.type);ir?Qt==="vector"&&Ie==="raster"?k.push(new wr(ie,j.source,'layer "'+j.id+'" requires a raster source')):Qt==="raster"&&Ie!=="raster"?k.push(new wr(ie,j.source,'layer "'+j.id+'" requires a vector source')):Qt==="vector"&&!j["source-layer"]?k.push(new wr(ie,j,'layer "'+j.id+'" must specify a "source-layer"')):Qt==="raster-dem"&&Ie!=="hillshade"?k.push(new wr(ie,j.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ie==="line"&&j.paint&&j.paint["line-gradient"]&&(Qt!=="geojson"||!ir.lineMetrics)&&k.push(new wr(ie,j,'layer "'+j.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):k.push(new wr(ie,j.source,'source "'+j.source+'" not found'))}return k=k.concat(As({key:ie,value:j,valueSpec:Se.layer,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ar({key:ie+".type",value:j.type,valueSpec:Se.layer.type,style:I.style,styleSpec:I.styleSpec,object:j,objectKey:"type"})},filter:kf,layout:function(Nr){return As({layer:j,key:Nr.key,value:Nr.value,style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{"*":function(en){return uh(fn({layerType:Ie},en))}}})},paint:function(Nr){return As({layer:j,key:Nr.key,value:Nr.value,style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{"*":function(en){return rf(fn({layerType:Ie},en))}}})}}})),k}function it(I){var k=I.value,j=I.key,ie=pi(k);return ie!=="string"?[new wr(j,k,"string expected, "+ie+" found")]:[]}var ht={promoteId:Ft};function mt(I){var k=I.value,j=I.key,ie=I.styleSpec,pe=I.style;if(!k.type)return[new wr(j,k,'"type" is required')];var Se=hn(k.type),Ie;switch(Se){case"vector":case"raster":case"raster-dem":return Ie=As({key:j,value:k,valueSpec:ie["source_"+Se.replace("-","_")],style:I.style,styleSpec:ie,objectElementValidators:ht}),Ie;case"geojson":if(Ie=As({key:j,value:k,valueSpec:ie.source_geojson,style:pe,styleSpec:ie,objectElementValidators:ht}),k.cluster)for(var $e in k.clusterProperties){var ut=k.clusterProperties[$e],Tt=ut[0],Mt=ut[1],Gt=typeof Tt=="string"?[Tt,["accumulated"],["get",$e]]:Tt;Ie.push.apply(Ie,ll({key:j+"."+$e+".map",value:Mt,expressionContext:"cluster-map"})),Ie.push.apply(Ie,ll({key:j+"."+$e+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return Ie;case"video":return As({key:j,value:k,valueSpec:ie.source_video,style:pe,styleSpec:ie});case"image":return As({key:j,value:k,valueSpec:ie.source_image,style:pe,styleSpec:ie});case"canvas":return[new wr(j,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Df({key:j+".type",value:k.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:pe,styleSpec:ie})}}function Ft(I){var k=I.key,j=I.value;if(pi(j)==="string")return it({key:k,value:j});var ie=[];for(var pe in j)ie.push.apply(ie,it({key:k+"."+pe,value:j[pe]}));return ie}function Lt(I){var k=I.value,j=I.styleSpec,ie=j.light,pe=I.style,Se=[],Ie=pi(k);if(k===void 0)return Se;if(Ie!=="object")return Se=Se.concat([new wr("light",k,"object expected, "+Ie+" found")]),Se;for(var $e in k){var ut=$e.match(/^(.*)-transition$/);ut&&ie[ut[1]]&&ie[ut[1]].transition?Se=Se.concat(ar({key:$e,value:k[$e],valueSpec:j.transition,style:pe,styleSpec:j})):ie[$e]?Se=Se.concat(ar({key:$e,value:k[$e],valueSpec:ie[$e],style:pe,styleSpec:j})):Se=Se.concat([new wr($e,k[$e],'unknown property "'+$e+'"')])}return Se}function Ot(I){return it(I).length===0?[]:ll(I)}function cr(I){return it(I).length===0?[]:ll(I)}var yr={"*":function(){return[]},array:wc,boolean:bv,number:Ml,color:Tc,constants:rn,enum:Df,filter:kf,function:Qu,layer:Xe,object:As,source:mt,light:Lt,string:it,formatted:Ot,resolvedImage:cr};function ar(I){var k=I.value,j=I.valueSpec,ie=I.styleSpec;if(j.expression&&jl(hn(k)))return Qu(I);if(j.expression&&Sl(In(k)))return ll(I);if(j.type&&yr[j.type])return yr[j.type](I);var pe=As(fn({},I,{valueSpec:j.type?ie[j.type]:j}));return pe}function Ar(I){var k=I.value,j=I.key,ie=it(I);return ie.length||(k.indexOf("{fontstack}")===-1&&ie.push(new wr(j,k,'"glyphs" url must include a "{fontstack}" token')),k.indexOf("{range}")===-1&&ie.push(new wr(j,k,'"glyphs" url must include a "{range}" token'))),ie}function Dr(I,k){k===void 0&&(k=Yt);var j=[];return j=j.concat(ar({key:"",value:I,valueSpec:k.$root,styleSpec:k,style:I,objectElementValidators:{glyphs:Ar,"*":function(){return[]}}})),I.constants&&(j=j.concat(rn({key:"constants",value:I.constants,style:I,styleSpec:k}))),Zr(j)}Dr.source=Qr(mt),Dr.light=Qr(Lt),Dr.layer=Qr(Xe),Dr.filter=Qr(kf),Dr.paintProperty=Qr(rf),Dr.layoutProperty=Qr(uh);function Zr(I){return[].concat(I).sort(function(k,j){return k.line-j.line})}function Qr(I){return function(){for(var k=[],j=arguments.length;j--;)k[j]=arguments[j];return Zr(I.apply(this,k))}}var wn=Dr,Sn=wn.light,kn=wn.paintProperty,pa=wn.layoutProperty;function Da(I,k){var j=!1;if(k&&k.length)for(var ie=0,pe=k;ie<pe.length;ie+=1){var Se=pe[ie];I.fire(new tr(new Error(Se.message))),j=!0}return j}var ka=za,Fa=3;function za(I,k,j){var ie=this.cells=[];if(I instanceof ArrayBuffer){this.arrayBuffer=I;var pe=new Int32Array(this.arrayBuffer);I=pe[0],k=pe[1],j=pe[2],this.d=k+2*j;for(var Se=0;Se<this.d*this.d;Se++){var Ie=pe[Fa+Se],$e=pe[Fa+Se+1];ie.push(Ie===$e?null:pe.subarray(Ie,$e))}var ut=pe[Fa+ie.length],Tt=pe[Fa+ie.length+1];this.keys=pe.subarray(ut,Tt),this.bboxes=pe.subarray(Tt),this.insert=this._insertReadonly}else{this.d=k+2*j;for(var Mt=0;Mt<this.d*this.d;Mt++)ie.push([]);this.keys=[],this.bboxes=[]}this.n=k,this.extent=I,this.padding=j,this.scale=k/I,this.uid=0;var Gt=j/k*I;this.min=-Gt,this.max=I+Gt}za.prototype.insert=function(I,k,j,ie,pe){this._forEachCell(k,j,ie,pe,this._insertCell,this.uid++),this.keys.push(I),this.bboxes.push(k),this.bboxes.push(j),this.bboxes.push(ie),this.bboxes.push(pe)},za.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},za.prototype._insertCell=function(I,k,j,ie,pe,Se){this.cells[pe].push(Se)},za.prototype.query=function(I,k,j,ie,pe){var Se=this.min,Ie=this.max;if(I<=Se&&k<=Se&&Ie<=j&&Ie<=ie&&!pe)return Array.prototype.slice.call(this.keys);var $e=[],ut={};return this._forEachCell(I,k,j,ie,this._queryCell,$e,ut,pe),$e},za.prototype._queryCell=function(I,k,j,ie,pe,Se,Ie,$e){var ut=this.cells[pe];if(ut!==null)for(var Tt=this.keys,Mt=this.bboxes,Gt=0;Gt<ut.length;Gt++){var ir=ut[Gt];if(Ie[ir]===void 0){var Qt=ir*4;($e?$e(Mt[Qt+0],Mt[Qt+1],Mt[Qt+2],Mt[Qt+3]):I<=Mt[Qt+2]&&k<=Mt[Qt+3]&&j>=Mt[Qt+0]&&ie>=Mt[Qt+1])?(Ie[ir]=!0,Se.push(Tt[ir])):Ie[ir]=!1}}},za.prototype._forEachCell=function(I,k,j,ie,pe,Se,Ie,$e){for(var ut=this._convertToCellCoord(I),Tt=this._convertToCellCoord(k),Mt=this._convertToCellCoord(j),Gt=this._convertToCellCoord(ie),ir=ut;ir<=Mt;ir++)for(var Qt=Tt;Qt<=Gt;Qt++){var br=this.d*Qt+ir;if(!($e&&!$e(this._convertFromCellCoord(ir),this._convertFromCellCoord(Qt),this._convertFromCellCoord(ir+1),this._convertFromCellCoord(Qt+1)))&&pe.call(this,I,k,j,ie,br,Se,Ie,$e))return}},za.prototype._convertFromCellCoord=function(I){return(I-this.padding)/this.scale},za.prototype._convertToCellCoord=function(I){return Math.max(0,Math.min(this.d-1,Math.floor(I*this.scale)+this.padding))},za.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var I=this.cells,k=Fa+this.cells.length+1+1,j=0,ie=0;ie<this.cells.length;ie++)j+=this.cells[ie].length;var pe=new Int32Array(k+j+this.keys.length+this.bboxes.length);pe[0]=this.extent,pe[1]=this.n,pe[2]=this.padding;for(var Se=k,Ie=0;Ie<I.length;Ie++){var $e=I[Ie];pe[Fa+Ie]=Se,pe.set($e,Se),Se+=$e.length}return pe[Fa+I.length]=Se,pe.set(this.keys,Se),Se+=this.keys.length,pe[Fa+I.length+1]=Se,pe.set(this.bboxes,Se),Se+=this.bboxes.length,pe.buffer};var ci=self.ImageData,ji=self.ImageBitmap,Mi={};function fe(I,k,j){j===void 0&&(j={}),Object.defineProperty(k,"_classRegistryKey",{value:I,writeable:!1}),Mi[I]={klass:k,omit:j.omit||[],shallow:j.shallow||[]}}fe("Object",Object),ka.serialize=function(k,j){var ie=k.toArrayBuffer();return j&&j.push(ie),{buffer:ie}},ka.deserialize=function(k){return new ka(k.buffer)},fe("Grid",ka),fe("Color",oi),fe("Error",Error),fe("ResolvedImage",Yo),fe("StylePropertyFunction",Xl),fe("StyleExpression",sl,{omit:["_evaluator"]}),fe("ZoomDependentExpression",$o),fe("ZoomConstantExpression",Zl),fe("CompoundExpression",bo,{omit:["_evaluate"]});for(var Re in Ns)Ns[Re]._classRegistryKey||fe("Expression_"+Re,Ns[Re]);function Ge(I){return I&&typeof ArrayBuffer<"u"&&(I instanceof ArrayBuffer||I.constructor&&I.constructor.name==="ArrayBuffer")}function Qe(I){return ji&&I instanceof ji}function nt(I,k){if(I==null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||I instanceof Boolean||I instanceof Number||I instanceof String||I instanceof Date||I instanceof RegExp)return I;if(Ge(I)||Qe(I))return k&&k.push(I),I;if(ArrayBuffer.isView(I)){var j=I;return k&&k.push(j.buffer),j}if(I instanceof ci)return k&&k.push(I.data.buffer),I;if(Array.isArray(I)){for(var ie=[],pe=0,Se=I;pe<Se.length;pe+=1){var Ie=Se[pe];ie.push(nt(Ie,k))}return ie}if(typeof I=="object"){var $e=I.constructor,ut=$e._classRegistryKey;if(!ut)throw new Error("can't serialize object of unregistered class");var Tt=$e.serialize?$e.serialize(I,k):{};if(!$e.serialize){for(var Mt in I)if(I.hasOwnProperty(Mt)&&!(Mi[ut].omit.indexOf(Mt)>=0)){var Gt=I[Mt];Tt[Mt]=Mi[ut].shallow.indexOf(Mt)>=0?Gt:nt(Gt,k)}I instanceof Error&&(Tt.message=I.message)}if(Tt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ut!=="Object"&&(Tt.$name=ut),Tt}throw new Error("can't serialize object of type "+typeof I)}function ot(I){if(I==null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||I instanceof Boolean||I instanceof Number||I instanceof String||I instanceof Date||I instanceof RegExp||Ge(I)||Qe(I)||ArrayBuffer.isView(I)||I instanceof ci)return I;if(Array.isArray(I))return I.map(ot);if(typeof I=="object"){var k=I.$name||"Object",j=Mi[k],ie=j.klass;if(!ie)throw new Error("can't deserialize unregistered class "+k);if(ie.deserialize)return ie.deserialize(I);for(var pe=Object.create(ie.prototype),Se=0,Ie=Object.keys(I);Se<Ie.length;Se+=1){var $e=Ie[Se];if($e!=="$name"){var ut=I[$e];pe[$e]=Mi[k].shallow.indexOf($e)>=0?ut:ot(ut)}}return pe}throw new Error("can't deserialize object of type "+typeof I)}var Pt=function(){this.first=!0};Pt.prototype.update=function(k,j){var ie=Math.floor(k);return this.first?(this.first=!1,this.lastIntegerZoom=ie,this.lastIntegerZoomTime=0,this.lastZoom=k,this.lastFloorZoom=ie,!0):(this.lastFloorZoom>ie?(this.lastIntegerZoom=ie+1,this.lastIntegerZoomTime=j):this.lastFloorZoom<ie&&(this.lastIntegerZoom=ie,this.lastIntegerZoomTime=j),k!==this.lastZoom?(this.lastZoom=k,this.lastFloorZoom=ie,!0):!1)};var ft={"Latin-1 Supplement":function(I){return I>=128&&I<=255},Arabic:function(I){return I>=1536&&I<=1791},"Arabic Supplement":function(I){return I>=1872&&I<=1919},"Arabic Extended-A":function(I){return I>=2208&&I<=2303},"Hangul Jamo":function(I){return I>=4352&&I<=4607},"Unified Canadian Aboriginal Syllabics":function(I){return I>=5120&&I<=5759},Khmer:function(I){return I>=6016&&I<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(I){return I>=6320&&I<=6399},"General Punctuation":function(I){return I>=8192&&I<=8303},"Letterlike Symbols":function(I){return I>=8448&&I<=8527},"Number Forms":function(I){return I>=8528&&I<=8591},"Miscellaneous Technical":function(I){return I>=8960&&I<=9215},"Control Pictures":function(I){return I>=9216&&I<=9279},"Optical Character Recognition":function(I){return I>=9280&&I<=9311},"Enclosed Alphanumerics":function(I){return I>=9312&&I<=9471},"Geometric Shapes":function(I){return I>=9632&&I<=9727},"Miscellaneous Symbols":function(I){return I>=9728&&I<=9983},"Miscellaneous Symbols and Arrows":function(I){return I>=11008&&I<=11263},"CJK Radicals Supplement":function(I){return I>=11904&&I<=12031},"Kangxi Radicals":function(I){return I>=12032&&I<=12255},"Ideographic Description Characters":function(I){return I>=12272&&I<=12287},"CJK Symbols and Punctuation":function(I){return I>=12288&&I<=12351},Hiragana:function(I){return I>=12352&&I<=12447},Katakana:function(I){return I>=12448&&I<=12543},Bopomofo:function(I){return I>=12544&&I<=12591},"Hangul Compatibility Jamo":function(I){return I>=12592&&I<=12687},Kanbun:function(I){return I>=12688&&I<=12703},"Bopomofo Extended":function(I){return I>=12704&&I<=12735},"CJK Strokes":function(I){return I>=12736&&I<=12783},"Katakana Phonetic Extensions":function(I){return I>=12784&&I<=12799},"Enclosed CJK Letters and Months":function(I){return I>=12800&&I<=13055},"CJK Compatibility":function(I){return I>=13056&&I<=13311},"CJK Unified Ideographs Extension A":function(I){return I>=13312&&I<=19903},"Yijing Hexagram Symbols":function(I){return I>=19904&&I<=19967},"CJK Unified Ideographs":function(I){return I>=19968&&I<=40959},"Yi Syllables":function(I){return I>=40960&&I<=42127},"Yi Radicals":function(I){return I>=42128&&I<=42191},"Hangul Jamo Extended-A":function(I){return I>=43360&&I<=43391},"Hangul Syllables":function(I){return I>=44032&&I<=55215},"Hangul Jamo Extended-B":function(I){return I>=55216&&I<=55295},"Private Use Area":function(I){return I>=57344&&I<=63743},"CJK Compatibility Ideographs":function(I){return I>=63744&&I<=64255},"Arabic Presentation Forms-A":function(I){return I>=64336&&I<=65023},"Vertical Forms":function(I){return I>=65040&&I<=65055},"CJK Compatibility Forms":function(I){return I>=65072&&I<=65103},"Small Form Variants":function(I){return I>=65104&&I<=65135},"Arabic Presentation Forms-B":function(I){return I>=65136&&I<=65279},"Halfwidth and Fullwidth Forms":function(I){return I>=65280&&I<=65519}};function Ht(I){for(var k=0,j=I;k<j.length;k+=1){var ie=j[k];if(Lr(ie.charCodeAt(0)))return!0}return!1}function er(I){for(var k=0,j=I;k<j.length;k+=1){var ie=j[k];if(!nr(ie.charCodeAt(0)))return!1}return!0}function nr(I){return!(ft.Arabic(I)||ft["Arabic Supplement"](I)||ft["Arabic Extended-A"](I)||ft["Arabic Presentation Forms-A"](I)||ft["Arabic Presentation Forms-B"](I))}function Rr(I){return I<11904?!1:!!(ft["Bopomofo Extended"](I)||ft.Bopomofo(I)||ft["CJK Compatibility Forms"](I)||ft["CJK Compatibility Ideographs"](I)||ft["CJK Compatibility"](I)||ft["CJK Radicals Supplement"](I)||ft["CJK Strokes"](I)||ft["CJK Symbols and Punctuation"](I)||ft["CJK Unified Ideographs Extension A"](I)||ft["CJK Unified Ideographs"](I)||ft["Enclosed CJK Letters and Months"](I)||ft["Halfwidth and Fullwidth Forms"](I)||ft.Hiragana(I)||ft["Ideographic Description Characters"](I)||ft["Kangxi Radicals"](I)||ft["Katakana Phonetic Extensions"](I)||ft.Katakana(I)||ft["Vertical Forms"](I)||ft["Yi Radicals"](I)||ft["Yi Syllables"](I))}function Lr(I){return I===746||I===747?!0:I<4352?!1:!!(ft["Bopomofo Extended"](I)||ft.Bopomofo(I)||ft["CJK Compatibility Forms"](I)&&!(I>=65097&&I<=65103)||ft["CJK Compatibility Ideographs"](I)||ft["CJK Compatibility"](I)||ft["CJK Radicals Supplement"](I)||ft["CJK Strokes"](I)||ft["CJK Symbols and Punctuation"](I)&&!(I>=12296&&I<=12305)&&!(I>=12308&&I<=12319)&&I!==12336||ft["CJK Unified Ideographs Extension A"](I)||ft["CJK Unified Ideographs"](I)||ft["Enclosed CJK Letters and Months"](I)||ft["Hangul Compatibility Jamo"](I)||ft["Hangul Jamo Extended-A"](I)||ft["Hangul Jamo Extended-B"](I)||ft["Hangul Jamo"](I)||ft["Hangul Syllables"](I)||ft.Hiragana(I)||ft["Ideographic Description Characters"](I)||ft.Kanbun(I)||ft["Kangxi Radicals"](I)||ft["Katakana Phonetic Extensions"](I)||ft.Katakana(I)&&I!==12540||ft["Halfwidth and Fullwidth Forms"](I)&&I!==65288&&I!==65289&&I!==65293&&!(I>=65306&&I<=65310)&&I!==65339&&I!==65341&&I!==65343&&!(I>=65371&&I<=65503)&&I!==65507&&!(I>=65512&&I<=65519)||ft["Small Form Variants"](I)&&!(I>=65112&&I<=65118)&&!(I>=65123&&I<=65126)||ft["Unified Canadian Aboriginal Syllabics"](I)||ft["Unified Canadian Aboriginal Syllabics Extended"](I)||ft["Vertical Forms"](I)||ft["Yijing Hexagram Symbols"](I)||ft["Yi Syllables"](I)||ft["Yi Radicals"](I))}function Jr(I){return!!(ft["Latin-1 Supplement"](I)&&(I===167||I===169||I===174||I===177||I===188||I===189||I===190||I===215||I===247)||ft["General Punctuation"](I)&&(I===8214||I===8224||I===8225||I===8240||I===8241||I===8251||I===8252||I===8258||I===8263||I===8264||I===8265||I===8273)||ft["Letterlike Symbols"](I)||ft["Number Forms"](I)||ft["Miscellaneous Technical"](I)&&(I>=8960&&I<=8967||I>=8972&&I<=8991||I>=8996&&I<=9e3||I===9003||I>=9085&&I<=9114||I>=9150&&I<=9165||I===9167||I>=9169&&I<=9179||I>=9186&&I<=9215)||ft["Control Pictures"](I)&&I!==9251||ft["Optical Character Recognition"](I)||ft["Enclosed Alphanumerics"](I)||ft["Geometric Shapes"](I)||ft["Miscellaneous Symbols"](I)&&!(I>=9754&&I<=9759)||ft["Miscellaneous Symbols and Arrows"](I)&&(I>=11026&&I<=11055||I>=11088&&I<=11097||I>=11192&&I<=11243)||ft["CJK Symbols and Punctuation"](I)||ft.Katakana(I)||ft["Private Use Area"](I)||ft["CJK Compatibility Forms"](I)||ft["Small Form Variants"](I)||ft["Halfwidth and Fullwidth Forms"](I)||I===8734||I===8756||I===8757||I>=9984&&I<=10087||I>=10102&&I<=10131||I===65532||I===65533)}function an(I){return!(Lr(I)||Jr(I))}function kr(I){return ft.Arabic(I)||ft["Arabic Supplement"](I)||ft["Arabic Extended-A"](I)||ft["Arabic Presentation Forms-A"](I)||ft["Arabic Presentation Forms-B"](I)}function Ur(I){return I>=1424&&I<=2303||ft["Arabic Presentation Forms-A"](I)||ft["Arabic Presentation Forms-B"](I)}function $r(I,k){return!(!k&&Ur(I)||I>=2304&&I<=3583||I>=3840&&I<=4255||ft.Khmer(I))}function sn(I){for(var k=0,j=I;k<j.length;k+=1){var ie=j[k];if(Ur(ie.charCodeAt(0)))return!0}return!1}function vn(I,k){for(var j=0,ie=I;j<ie.length;j+=1){var pe=ie[j];if(!$r(pe.charCodeAt(0),k))return!1}return!0}var Kr={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Hn=null,Yn=Kr.unavailable,ea=null,la=function(I){I&&typeof I=="string"&&I.indexOf("NetworkError")>-1&&(Yn=Kr.error),Hn&&Hn(I)};function Aa(){Ta.fire(new jt("pluginStateChange",{pluginStatus:Yn,pluginURL:ea}))}var Ta=new or,ja=function(){return Yn},Ra=function(I){return I({pluginStatus:Yn,pluginURL:ea}),Ta.on("pluginStateChange",I),I},Va=function(I,k,j){if(j===void 0&&(j=!1),Yn===Kr.deferred||Yn===Kr.loading||Yn===Kr.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");ea=le.resolveURL(I),Yn=Kr.deferred,Hn=k,Aa(),j||ni()},ni=function(){if(Yn!==Kr.deferred||!ea)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Yn=Kr.loading,Aa(),ea&&St({url:ea},function(I){I?la(I):(Yn=Kr.loaded,Aa())})},si={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Yn===Kr.loaded||si.applyArabicShaping!=null},isLoading:function(){return Yn===Kr.loading},setState:function(k){Yn=k.pluginStatus,ea=k.pluginURL},isParsed:function(){return si.applyArabicShaping!=null&&si.processBidirectionalText!=null&&si.processStyledBidirectionalText!=null},getPluginURL:function(){return ea}},gi=function(){!si.isLoading()&&!si.isLoaded()&&ja()==="deferred"&&ni()},Gn=function(k,j){this.zoom=k,j?(this.now=j.now,this.fadeDuration=j.fadeDuration,this.zoomHistory=j.zoomHistory,this.transition=j.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Pt,this.transition={})};Gn.prototype.isSupportedScript=function(k){return vn(k,si.isLoaded())},Gn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Gn.prototype.getCrossfadeParameters=function(){var k=this.zoom,j=k-Math.floor(k),ie=this.crossFadingFactor();return k>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:j+(1-j)*ie}:{fromScale:.5,toScale:1,t:1-(1-ie)*j}};var Ga=function(k,j){this.property=k,this.value=j,this.expression=ah(j===void 0?k.specification.default:j,k.specification)};Ga.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ga.prototype.possiblyEvaluate=function(k,j,ie){return this.property.possiblyEvaluate(this,k,j,ie)};var Ua=function(k){this.property=k,this.value=new Ga(k,void 0)};Ua.prototype.transitioned=function(k,j){return new zi(this.property,this.value,j,u({},k.transition,this.transition),k.now)},Ua.prototype.untransitioned=function(){return new zi(this.property,this.value,null,{},0)};var Qa=function(k){this._properties=k,this._values=Object.create(k.defaultTransitionablePropertyValues)};Qa.prototype.getValue=function(k){return b(this._values[k].value.value)},Qa.prototype.setValue=function(k,j){this._values.hasOwnProperty(k)||(this._values[k]=new Ua(this._values[k].property)),this._values[k].value=new Ga(this._values[k].property,j===null?void 0:b(j))},Qa.prototype.getTransition=function(k){return b(this._values[k].transition)},Qa.prototype.setTransition=function(k,j){this._values.hasOwnProperty(k)||(this._values[k]=new Ua(this._values[k].property)),this._values[k].transition=b(j)||void 0},Qa.prototype.serialize=function(){for(var k={},j=0,ie=Object.keys(this._values);j<ie.length;j+=1){var pe=ie[j],Se=this.getValue(pe);Se!==void 0&&(k[pe]=Se);var Ie=this.getTransition(pe);Ie!==void 0&&(k[pe+"-transition"]=Ie)}return k},Qa.prototype.transitioned=function(k,j){for(var ie=new Ki(this._properties),pe=0,Se=Object.keys(this._values);pe<Se.length;pe+=1){var Ie=Se[pe];ie._values[Ie]=this._values[Ie].transitioned(k,j._values[Ie])}return ie},Qa.prototype.untransitioned=function(){for(var k=new Ki(this._properties),j=0,ie=Object.keys(this._values);j<ie.length;j+=1){var pe=ie[j];k._values[pe]=this._values[pe].untransitioned()}return k};var zi=function(k,j,ie,pe,Se){this.property=k,this.value=j,this.begin=Se+pe.delay||0,this.end=this.begin+pe.duration||0,k.specification.transition&&(pe.delay||pe.duration)&&(this.prior=ie)};zi.prototype.possiblyEvaluate=function(k,j,ie){var pe=k.now||0,Se=this.value.possiblyEvaluate(k,j,ie),Ie=this.prior;if(Ie){if(pe>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(pe<this.begin)return Ie.possiblyEvaluate(k,j,ie);var $e=(pe-this.begin)/(this.end-this.begin);return this.property.interpolate(Ie.possiblyEvaluate(k,j,ie),Se,n($e))}else return Se};var Ki=function(k){this._properties=k,this._values=Object.create(k.defaultTransitioningPropertyValues)};Ki.prototype.possiblyEvaluate=function(k,j,ie){for(var pe=new bi(this._properties),Se=0,Ie=Object.keys(this._values);Se<Ie.length;Se+=1){var $e=Ie[Se];pe._values[$e]=this._values[$e].possiblyEvaluate(k,j,ie)}return pe},Ki.prototype.hasTransition=function(){for(var k=0,j=Object.keys(this._values);k<j.length;k+=1){var ie=j[k];if(this._values[ie].prior)return!0}return!1};var to=function(k){this._properties=k,this._values=Object.create(k.defaultPropertyValues)};to.prototype.getValue=function(k){return b(this._values[k].value)},to.prototype.setValue=function(k,j){this._values[k]=new Ga(this._values[k].property,j===null?void 0:b(j))},to.prototype.serialize=function(){for(var k={},j=0,ie=Object.keys(this._values);j<ie.length;j+=1){var pe=ie[j],Se=this.getValue(pe);Se!==void 0&&(k[pe]=Se)}return k},to.prototype.possiblyEvaluate=function(k,j,ie){for(var pe=new bi(this._properties),Se=0,Ie=Object.keys(this._values);Se<Ie.length;Se+=1){var $e=Ie[Se];pe._values[$e]=this._values[$e].possiblyEvaluate(k,j,ie)}return pe};var Di=function(k,j,ie){this.property=k,this.value=j,this.parameters=ie};Di.prototype.isConstant=function(){return this.value.kind==="constant"},Di.prototype.constantOr=function(k){return this.value.kind==="constant"?this.value.value:k},Di.prototype.evaluate=function(k,j,ie,pe){return this.property.evaluate(this.value,this.parameters,k,j,ie,pe)};var bi=function(k){this._properties=k,this._values=Object.create(k.defaultPossiblyEvaluatedValues)};bi.prototype.get=function(k){return this._values[k]};var xa=function(k){this.specification=k};xa.prototype.possiblyEvaluate=function(k,j){return k.expression.evaluate(j)},xa.prototype.interpolate=function(k,j,ie){var pe=du[this.specification.type];return pe?pe(k,j,ie):k};var La=function(k,j){this.specification=k,this.overrides=j};La.prototype.possiblyEvaluate=function(k,j,ie,pe){return k.expression.kind==="constant"||k.expression.kind==="camera"?new Di(this,{kind:"constant",value:k.expression.evaluate(j,null,{},ie,pe)},j):new Di(this,k.expression,j)},La.prototype.interpolate=function(k,j,ie){if(k.value.kind!=="constant"||j.value.kind!=="constant")return k;if(k.value.value===void 0||j.value.value===void 0)return new Di(this,{kind:"constant",value:void 0},k.parameters);var pe=du[this.specification.type];return pe?new Di(this,{kind:"constant",value:pe(k.value.value,j.value.value,ie)},k.parameters):k},La.prototype.evaluate=function(k,j,ie,pe,Se,Ie){return k.kind==="constant"?k.value:k.evaluate(j,ie,pe,Se,Ie)};var Ii=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.possiblyEvaluate=function(ie,pe,Se,Ie){if(ie.value===void 0)return new Di(this,{kind:"constant",value:void 0},pe);if(ie.expression.kind==="constant"){var $e=ie.expression.evaluate(pe,null,{},Se,Ie),ut=ie.property.specification.type==="resolvedImage",Tt=ut&&typeof $e!="string"?$e.name:$e,Mt=this._calculate(Tt,Tt,Tt,pe);return new Di(this,{kind:"constant",value:Mt},pe)}else if(ie.expression.kind==="camera"){var Gt=this._calculate(ie.expression.evaluate({zoom:pe.zoom-1}),ie.expression.evaluate({zoom:pe.zoom}),ie.expression.evaluate({zoom:pe.zoom+1}),pe);return new Di(this,{kind:"constant",value:Gt},pe)}else return new Di(this,ie.expression,pe)},k.prototype.evaluate=function(ie,pe,Se,Ie,$e,ut){if(ie.kind==="source"){var Tt=ie.evaluate(pe,Se,Ie,$e,ut);return this._calculate(Tt,Tt,Tt,pe)}else return ie.kind==="composite"?this._calculate(ie.evaluate({zoom:Math.floor(pe.zoom)-1},Se,Ie),ie.evaluate({zoom:Math.floor(pe.zoom)},Se,Ie),ie.evaluate({zoom:Math.floor(pe.zoom)+1},Se,Ie),pe):ie.value},k.prototype._calculate=function(ie,pe,Se,Ie){var $e=Ie.zoom;return $e>Ie.zoomHistory.lastIntegerZoom?{from:ie,to:pe}:{from:Se,to:pe}},k.prototype.interpolate=function(ie){return ie},k}(La),eo=function(k){this.specification=k};eo.prototype.possiblyEvaluate=function(k,j,ie,pe){if(k.value!==void 0)if(k.expression.kind==="constant"){var Se=k.expression.evaluate(j,null,{},ie,pe);return this._calculate(Se,Se,Se,j)}else return this._calculate(k.expression.evaluate(new Gn(Math.floor(j.zoom-1),j)),k.expression.evaluate(new Gn(Math.floor(j.zoom),j)),k.expression.evaluate(new Gn(Math.floor(j.zoom+1),j)),j)},eo.prototype._calculate=function(k,j,ie,pe){var Se=pe.zoom;return Se>pe.zoomHistory.lastIntegerZoom?{from:k,to:j}:{from:ie,to:j}},eo.prototype.interpolate=function(k){return k};var is=function(k){this.specification=k};is.prototype.possiblyEvaluate=function(k,j,ie,pe){return!!k.expression.evaluate(j,null,{},ie,pe)},is.prototype.interpolate=function(){return!1};var vo=function(k){this.properties=k,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var j in k){var ie=k[j];ie.specification.overridable&&this.overridableProperties.push(j);var pe=this.defaultPropertyValues[j]=new Ga(ie,void 0),Se=this.defaultTransitionablePropertyValues[j]=new Ua(ie);this.defaultTransitioningPropertyValues[j]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[j]=pe.possiblyEvaluate({})}};fe("DataDrivenProperty",La),fe("DataConstantProperty",xa),fe("CrossFadedDataDrivenProperty",Ii),fe("CrossFadedProperty",eo),fe("ColorRampProperty",is);var No="-transition",Ni=function(I){function k(j,ie){if(I.call(this),this.id=j.id,this.type=j.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},j.type!=="custom"&&(j=j,this.metadata=j.metadata,this.minzoom=j.minzoom,this.maxzoom=j.maxzoom,j.type!=="background"&&(this.source=j.source,this.sourceLayer=j["source-layer"],this.filter=j.filter),ie.layout&&(this._unevaluatedLayout=new to(ie.layout)),ie.paint)){this._transitionablePaint=new Qa(ie.paint);for(var pe in j.paint)this.setPaintProperty(pe,j.paint[pe],{validate:!1});for(var Se in j.layout)this.setLayoutProperty(Se,j.layout[Se],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new bi(ie.paint)}}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},k.prototype.getLayoutProperty=function(ie){return ie==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ie)},k.prototype.setLayoutProperty=function(ie,pe,Se){if(Se===void 0&&(Se={}),pe!=null){var Ie="layers."+this.id+".layout."+ie;if(this._validate(pa,Ie,ie,pe,Se))return}if(ie==="visibility"){this.visibility=pe;return}this._unevaluatedLayout.setValue(ie,pe)},k.prototype.getPaintProperty=function(ie){return T(ie,No)?this._transitionablePaint.getTransition(ie.slice(0,-No.length)):this._transitionablePaint.getValue(ie)},k.prototype.setPaintProperty=function(ie,pe,Se){if(Se===void 0&&(Se={}),pe!=null){var Ie="layers."+this.id+".paint."+ie;if(this._validate(kn,Ie,ie,pe,Se))return!1}if(T(ie,No))return this._transitionablePaint.setTransition(ie.slice(0,-No.length),pe||void 0),!1;var $e=this._transitionablePaint._values[ie],ut=$e.property.specification["property-type"]==="cross-faded-data-driven",Tt=$e.value.isDataDriven(),Mt=$e.value;this._transitionablePaint.setValue(ie,pe),this._handleSpecialPaintPropertyUpdate(ie);var Gt=this._transitionablePaint._values[ie].value,ir=Gt.isDataDriven();return ir||Tt||ut||this._handleOverridablePaintPropertyUpdate(ie,Mt,Gt)},k.prototype._handleSpecialPaintPropertyUpdate=function(ie){},k.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Se){return!1},k.prototype.isHidden=function(ie){return this.minzoom&&ie<this.minzoom||this.maxzoom&&ie>=this.maxzoom?!0:this.visibility==="none"},k.prototype.updateTransitions=function(ie){this._transitioningPaint=this._transitionablePaint.transitioned(ie,this._transitioningPaint)},k.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},k.prototype.recalculate=function(ie,pe){ie.getCrossfadeParameters&&(this._crossfadeParameters=ie.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ie,void 0,pe)),this.paint=this._transitioningPaint.possiblyEvaluate(ie,void 0,pe)},k.prototype.serialize=function(){var ie={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ie.layout=ie.layout||{},ie.layout.visibility=this.visibility),D(ie,function(pe,Se){return pe!==void 0&&!(Se==="layout"&&!Object.keys(pe).length)&&!(Se==="paint"&&!Object.keys(pe).length)})},k.prototype._validate=function(ie,pe,Se,Ie,$e){return $e===void 0&&($e={}),$e&&$e.validate===!1?!1:Da(this,ie.call(wn,{key:pe,layerType:this.type,objectKey:Se,value:Ie,styleSpec:Yt,style:{glyphs:!0,sprite:!0}}))},k.prototype.is3D=function(){return!1},k.prototype.isTileClipped=function(){return!1},k.prototype.hasOffscreenPass=function(){return!1},k.prototype.resize=function(){},k.prototype.isStateDependent=function(){for(var ie in this.paint._values){var pe=this.paint.get(ie);if(!(!(pe instanceof Di)||!ol(pe.property.specification))&&(pe.value.kind==="source"||pe.value.kind==="composite")&&pe.value.isStateDependent)return!0}return!1},k}(or),cs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ei=function(k,j){this._structArray=k,this._pos1=j*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Hs=128,hs=5,ei=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};ei.serialize=function(k,j){return k._trim(),j&&(k.isTransferred=!0,j.push(k.arrayBuffer)),{length:k.length,arrayBuffer:k.arrayBuffer}},ei.deserialize=function(k){var j=Object.create(this.prototype);return j.arrayBuffer=k.arrayBuffer,j.length=k.length,j.capacity=k.arrayBuffer.byteLength/j.bytesPerElement,j._refreshViews(),j},ei.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ei.prototype.clear=function(){this.length=0},ei.prototype.resize=function(k){this.reserve(k),this.length=k},ei.prototype.reserve=function(k){if(k>this.capacity){this.capacity=Math.max(k,Math.floor(this.capacity*hs),Hs),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var j=this.uint8;this._refreshViews(),j&&this.uint8.set(j)}},ei.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function ki(I,k){k===void 0&&(k=1);var j=0,ie=0,pe=I.map(function(Ie){var $e=fh(Ie.type),ut=j=Mc(j,Math.max(k,$e)),Tt=Ie.components||1;return ie=Math.max(ie,$e),j+=$e*Tt,{name:Ie.name,type:Ie.type,components:Tt,offset:ut}}),Se=Mc(j,Math.max(ie,k));return{members:pe,size:Se,alignment:k}}function fh(I){return cs[I].BYTES_PER_ELEMENT}function Mc(I,k){return Math.ceil(I/k)*k}var wv=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,pe)},k.prototype.emplace=function(ie,pe,Se){var Ie=ie*2;return this.int16[Ie+0]=pe,this.int16[Ie+1]=Se,ie},k}(ei);wv.prototype.bytesPerElement=4,fe("StructArrayLayout2i4",wv);var Ff=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie){var $e=this.length;return this.resize($e+1),this.emplace($e,ie,pe,Se,Ie)},k.prototype.emplace=function(ie,pe,Se,Ie,$e){var ut=ie*4;return this.int16[ut+0]=pe,this.int16[ut+1]=Se,this.int16[ut+2]=Ie,this.int16[ut+3]=$e,ie},k}(ei);Ff.prototype.bytesPerElement=8,fe("StructArrayLayout4i8",Ff);var ch=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie,$e,ut){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ie,pe,Se,Ie,$e,ut)},k.prototype.emplace=function(ie,pe,Se,Ie,$e,ut,Tt){var Mt=ie*6;return this.int16[Mt+0]=pe,this.int16[Mt+1]=Se,this.int16[Mt+2]=Ie,this.int16[Mt+3]=$e,this.int16[Mt+4]=ut,this.int16[Mt+5]=Tt,ie},k}(ei);ch.prototype.bytesPerElement=12,fe("StructArrayLayout2i4i12",ch);var id=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie,$e,ut){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ie,pe,Se,Ie,$e,ut)},k.prototype.emplace=function(ie,pe,Se,Ie,$e,ut,Tt){var Mt=ie*4,Gt=ie*8;return this.int16[Mt+0]=pe,this.int16[Mt+1]=Se,this.uint8[Gt+4]=Ie,this.uint8[Gt+5]=$e,this.uint8[Gt+6]=ut,this.uint8[Gt+7]=Tt,ie},k}(ei);id.prototype.bytesPerElement=8,fe("StructArrayLayout2i4ub8",id);var Ss=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir){var Qt=this.length;return this.resize(Qt+1),this.emplace(Qt,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir)},k.prototype.emplace=function(ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt){var br=ie*9,Nr=ie*18;return this.uint16[br+0]=pe,this.uint16[br+1]=Se,this.uint16[br+2]=Ie,this.uint16[br+3]=$e,this.uint16[br+4]=ut,this.uint16[br+5]=Tt,this.uint16[br+6]=Mt,this.uint16[br+7]=Gt,this.uint8[Nr+16]=ir,this.uint8[Nr+17]=Qt,ie},k}(ei);Ss.prototype.bytesPerElement=18,fe("StructArrayLayout8ui2ub18",Ss);var _f=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br){var Nr=this.length;return this.resize(Nr+1),this.emplace(Nr,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br)},k.prototype.emplace=function(ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br,Nr){var un=ie*12;return this.int16[un+0]=pe,this.int16[un+1]=Se,this.int16[un+2]=Ie,this.int16[un+3]=$e,this.uint16[un+4]=ut,this.uint16[un+5]=Tt,this.uint16[un+6]=Mt,this.uint16[un+7]=Gt,this.int16[un+8]=ir,this.int16[un+9]=Qt,this.int16[un+10]=br,this.int16[un+11]=Nr,ie},k}(ei);_f.prototype.bytesPerElement=24,fe("StructArrayLayout4i4ui4i24",_f);var kp=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,pe,Se)},k.prototype.emplace=function(ie,pe,Se,Ie){var $e=ie*3;return this.float32[$e+0]=pe,this.float32[$e+1]=Se,this.float32[$e+2]=Ie,ie},k}(ei);kp.prototype.bytesPerElement=12,fe("StructArrayLayout3f12",kp);var Fp=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},k.prototype.emplace=function(ie,pe){var Se=ie*1;return this.uint32[Se+0]=pe,ie},k}(ei);Fp.prototype.bytesPerElement=4,fe("StructArrayLayout1ul4",Fp);var Tv=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt){var ir=this.length;return this.resize(ir+1),this.emplace(ir,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt)},k.prototype.emplace=function(ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir){var Qt=ie*10,br=ie*5;return this.int16[Qt+0]=pe,this.int16[Qt+1]=Se,this.int16[Qt+2]=Ie,this.int16[Qt+3]=$e,this.int16[Qt+4]=ut,this.int16[Qt+5]=Tt,this.uint32[br+3]=Mt,this.uint16[Qt+8]=Gt,this.uint16[Qt+9]=ir,ie},k}(ei);Tv.prototype.bytesPerElement=20,fe("StructArrayLayout6i1ul2ui20",Tv);var od=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie,$e,ut){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ie,pe,Se,Ie,$e,ut)},k.prototype.emplace=function(ie,pe,Se,Ie,$e,ut,Tt){var Mt=ie*6;return this.int16[Mt+0]=pe,this.int16[Mt+1]=Se,this.int16[Mt+2]=Ie,this.int16[Mt+3]=$e,this.int16[Mt+4]=ut,this.int16[Mt+5]=Tt,ie},k}(ei);od.prototype.bytesPerElement=12,fe("StructArrayLayout2i2i2i12",od);var nf=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie,$e){var ut=this.length;return this.resize(ut+1),this.emplace(ut,ie,pe,Se,Ie,$e)},k.prototype.emplace=function(ie,pe,Se,Ie,$e,ut){var Tt=ie*4,Mt=ie*8;return this.float32[Tt+0]=pe,this.float32[Tt+1]=Se,this.float32[Tt+2]=Ie,this.int16[Mt+6]=$e,this.int16[Mt+7]=ut,ie},k}(ei);nf.prototype.bytesPerElement=16,fe("StructArrayLayout2f1f2i16",nf);var Vs=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie){var $e=this.length;return this.resize($e+1),this.emplace($e,ie,pe,Se,Ie)},k.prototype.emplace=function(ie,pe,Se,Ie,$e){var ut=ie*12,Tt=ie*3;return this.uint8[ut+0]=pe,this.uint8[ut+1]=Se,this.float32[Tt+1]=Ie,this.float32[Tt+2]=$e,ie},k}(ei);Vs.prototype.bytesPerElement=12,fe("StructArrayLayout2ub2f12",Vs);var af=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,pe,Se)},k.prototype.emplace=function(ie,pe,Se,Ie){var $e=ie*3;return this.uint16[$e+0]=pe,this.uint16[$e+1]=Se,this.uint16[$e+2]=Ie,ie},k}(ei);af.prototype.bytesPerElement=6,fe("StructArrayLayout3ui6",af);var Av=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br,Nr,un,en,Pn,Tn){var Ln=this.length;return this.resize(Ln+1),this.emplace(Ln,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br,Nr,un,en,Pn,Tn)},k.prototype.emplace=function(ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br,Nr,un,en,Pn,Tn,Ln){var Fn=ie*24,Wn=ie*12,aa=ie*48;return this.int16[Fn+0]=pe,this.int16[Fn+1]=Se,this.uint16[Fn+2]=Ie,this.uint16[Fn+3]=$e,this.uint32[Wn+2]=ut,this.uint32[Wn+3]=Tt,this.uint32[Wn+4]=Mt,this.uint16[Fn+10]=Gt,this.uint16[Fn+11]=ir,this.uint16[Fn+12]=Qt,this.float32[Wn+7]=br,this.float32[Wn+8]=Nr,this.uint8[aa+36]=un,this.uint8[aa+37]=en,this.uint8[aa+38]=Pn,this.uint32[Wn+10]=Tn,this.int16[Fn+22]=Ln,ie},k}(ei);Av.prototype.bytesPerElement=48,fe("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Av);var sd=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br,Nr,un,en,Pn,Tn,Ln,Fn,Wn,aa,na,Pa,da,ba,Wa,Ea,Ca){var Ja=this.length;return this.resize(Ja+1),this.emplace(Ja,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br,Nr,un,en,Pn,Tn,Ln,Fn,Wn,aa,na,Pa,da,ba,Wa,Ea,Ca)},k.prototype.emplace=function(ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br,Nr,un,en,Pn,Tn,Ln,Fn,Wn,aa,na,Pa,da,ba,Wa,Ea,Ca,Ja){var Ha=ie*34,li=ie*17;return this.int16[Ha+0]=pe,this.int16[Ha+1]=Se,this.int16[Ha+2]=Ie,this.int16[Ha+3]=$e,this.int16[Ha+4]=ut,this.int16[Ha+5]=Tt,this.int16[Ha+6]=Mt,this.int16[Ha+7]=Gt,this.uint16[Ha+8]=ir,this.uint16[Ha+9]=Qt,this.uint16[Ha+10]=br,this.uint16[Ha+11]=Nr,this.uint16[Ha+12]=un,this.uint16[Ha+13]=en,this.uint16[Ha+14]=Pn,this.uint16[Ha+15]=Tn,this.uint16[Ha+16]=Ln,this.uint16[Ha+17]=Fn,this.uint16[Ha+18]=Wn,this.uint16[Ha+19]=aa,this.uint16[Ha+20]=na,this.uint16[Ha+21]=Pa,this.uint16[Ha+22]=da,this.uint32[li+12]=ba,this.float32[li+13]=Wa,this.float32[li+14]=Ea,this.float32[li+15]=Ca,this.float32[li+16]=Ja,ie},k}(ei);sd.prototype.bytesPerElement=68,fe("StructArrayLayout8i15ui1ul4f68",sd);var hh=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},k.prototype.emplace=function(ie,pe){var Se=ie*1;return this.float32[Se+0]=pe,ie},k}(ei);hh.prototype.bytesPerElement=4,fe("StructArrayLayout1f4",hh);var _p=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,pe,Se)},k.prototype.emplace=function(ie,pe,Se,Ie){var $e=ie*3;return this.int16[$e+0]=pe,this.int16[$e+1]=Se,this.int16[$e+2]=Ie,ie},k}(ei);_p.prototype.bytesPerElement=6,fe("StructArrayLayout3i6",_p);var zf=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,pe,Se)},k.prototype.emplace=function(ie,pe,Se,Ie){var $e=ie*2,ut=ie*4;return this.uint32[$e+0]=pe,this.uint16[ut+2]=Se,this.uint16[ut+3]=Ie,ie},k}(ei);zf.prototype.bytesPerElement=8,fe("StructArrayLayout1ul2ui8",zf);var Sv=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,pe)},k.prototype.emplace=function(ie,pe,Se){var Ie=ie*2;return this.uint16[Ie+0]=pe,this.uint16[Ie+1]=Se,ie},k}(ei);Sv.prototype.bytesPerElement=4,fe("StructArrayLayout2ui4",Sv);var vh=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},k.prototype.emplace=function(ie,pe){var Se=ie*1;return this.uint16[Se+0]=pe,ie},k}(ei);vh.prototype.bytesPerElement=2,fe("StructArrayLayout1ui2",vh);var Of=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,pe)},k.prototype.emplace=function(ie,pe,Se){var Ie=ie*2;return this.float32[Ie+0]=pe,this.float32[Ie+1]=Se,ie},k}(ei);Of.prototype.bytesPerElement=8,fe("StructArrayLayout2f8",Of);var zp=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,pe,Se,Ie){var $e=this.length;return this.resize($e+1),this.emplace($e,ie,pe,Se,Ie)},k.prototype.emplace=function(ie,pe,Se,Ie,$e){var ut=ie*4;return this.float32[ut+0]=pe,this.float32[ut+1]=Se,this.float32[ut+2]=Ie,this.float32[ut+3]=$e,ie},k}(ei);zp.prototype.bytesPerElement=16,fe("StructArrayLayout4f16",zp);var Tg=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var j={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return j.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},j.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},j.x1.get=function(){return this._structArray.int16[this._pos2+2]},j.y1.get=function(){return this._structArray.int16[this._pos2+3]},j.x2.get=function(){return this._structArray.int16[this._pos2+4]},j.y2.get=function(){return this._structArray.int16[this._pos2+5]},j.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},j.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},j.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},j.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(k.prototype,j),k}(Ei);Tg.prototype.size=20;var Bf=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new Tg(this,ie)},k}(Tv);fe("CollisionBoxArray",Bf);var Op=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var j={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return j.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},j.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},j.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},j.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},j.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},j.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},j.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},j.segment.get=function(){return this._structArray.uint16[this._pos2+10]},j.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},j.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},j.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},j.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},j.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},j.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},j.placedOrientation.set=function(ie){this._structArray.uint8[this._pos1+37]=ie},j.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},j.hidden.set=function(ie){this._structArray.uint8[this._pos1+38]=ie},j.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},j.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+10]=ie},j.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(k.prototype,j),k}(Ei);Op.prototype.size=48;var dh=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new Op(this,ie)},k}(Av);fe("PlacedSymbolArray",dh);var Ag=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var j={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return j.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},j.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},j.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},j.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},j.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},j.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},j.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},j.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},j.key.get=function(){return this._structArray.uint16[this._pos2+8]},j.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},j.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},j.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},j.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},j.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},j.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},j.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},j.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},j.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},j.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},j.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},j.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},j.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},j.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},j.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},j.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+12]=ie},j.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},j.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},j.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},j.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(k.prototype,j),k}(Ei);Ag.prototype.size=68;var Sg=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new Ag(this,ie)},k}(sd);fe("SymbolInstanceArray",Sg);var Kl=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.getoffsetX=function(ie){return this.float32[ie*1+0]},k}(hh);fe("GlyphOffsetArray",Kl);var Mg=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.getx=function(ie){return this.int16[ie*3+0]},k.prototype.gety=function(ie){return this.int16[ie*3+1]},k.prototype.gettileUnitDistanceFromAnchor=function(ie){return this.int16[ie*3+2]},k}(_p);fe("SymbolLineVertexArray",Mg);var Eg=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var j={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return j.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},j.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},j.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(k.prototype,j),k}(Ei);Eg.prototype.size=8;var Bp=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new Eg(this,ie)},k}(zf);fe("FeatureIndexArray",Bp);var Cg=ki([{name:"a_pos",components:2,type:"Int16"}],4),de=Cg.members,X=function(k){k===void 0&&(k=[]),this.segments=k};X.prototype.prepareSegment=function(k,j,ie,pe){var Se=this.segments[this.segments.length-1];return k>X.MAX_VERTEX_ARRAY_LENGTH&&V("Max vertices per segment is "+X.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+k),(!Se||Se.vertexLength+k>X.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==pe)&&(Se={vertexOffset:j.length,primitiveOffset:ie.length,vertexLength:0,primitiveLength:0},pe!==void 0&&(Se.sortKey=pe),this.segments.push(Se)),Se},X.prototype.get=function(){return this.segments},X.prototype.destroy=function(){for(var k=0,j=this.segments;k<j.length;k+=1){var ie=j[k];for(var pe in ie.vaos)ie.vaos[pe].destroy()}},X.simpleSegment=function(k,j,ie,pe){return new X([{vertexOffset:k,primitiveOffset:j,vertexLength:ie,primitiveLength:pe,vaos:{},sortKey:0}])},X.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,fe("SegmentVector",X);function ge(I,k){return I=f(Math.floor(I),0,255),k=f(Math.floor(k),0,255),256*I+k}var ne=ki([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),ye=C(function(I){function k(j,ie){var pe,Se,Ie,$e,ut,Tt,Mt,Gt;for(pe=j.length&3,Se=j.length-pe,Ie=ie,ut=3432918353,Tt=461845907,Gt=0;Gt<Se;)Mt=j.charCodeAt(Gt)&255|(j.charCodeAt(++Gt)&255)<<8|(j.charCodeAt(++Gt)&255)<<16|(j.charCodeAt(++Gt)&255)<<24,++Gt,Mt=(Mt&65535)*ut+(((Mt>>>16)*ut&65535)<<16)&4294967295,Mt=Mt<<15|Mt>>>17,Mt=(Mt&65535)*Tt+(((Mt>>>16)*Tt&65535)<<16)&4294967295,Ie^=Mt,Ie=Ie<<13|Ie>>>19,$e=(Ie&65535)*5+(((Ie>>>16)*5&65535)<<16)&4294967295,Ie=($e&65535)+27492+((($e>>>16)+58964&65535)<<16);switch(Mt=0,pe){case 3:Mt^=(j.charCodeAt(Gt+2)&255)<<16;case 2:Mt^=(j.charCodeAt(Gt+1)&255)<<8;case 1:Mt^=j.charCodeAt(Gt)&255,Mt=(Mt&65535)*ut+(((Mt>>>16)*ut&65535)<<16)&4294967295,Mt=Mt<<15|Mt>>>17,Mt=(Mt&65535)*Tt+(((Mt>>>16)*Tt&65535)<<16)&4294967295,Ie^=Mt}return Ie^=j.length,Ie^=Ie>>>16,Ie=(Ie&65535)*2246822507+(((Ie>>>16)*2246822507&65535)<<16)&4294967295,Ie^=Ie>>>13,Ie=(Ie&65535)*3266489909+(((Ie>>>16)*3266489909&65535)<<16)&4294967295,Ie^=Ie>>>16,Ie>>>0}I.exports=k}),ze=C(function(I){function k(j,ie){for(var pe=j.length,Se=ie^pe,Ie=0,$e;pe>=4;)$e=j.charCodeAt(Ie)&255|(j.charCodeAt(++Ie)&255)<<8|(j.charCodeAt(++Ie)&255)<<16|(j.charCodeAt(++Ie)&255)<<24,$e=($e&65535)*1540483477+((($e>>>16)*1540483477&65535)<<16),$e^=$e>>>24,$e=($e&65535)*1540483477+((($e>>>16)*1540483477&65535)<<16),Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)^$e,pe-=4,++Ie;switch(pe){case 3:Se^=(j.charCodeAt(Ie+2)&255)<<16;case 2:Se^=(j.charCodeAt(Ie+1)&255)<<8;case 1:Se^=j.charCodeAt(Ie)&255,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)}return Se^=Se>>>13,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16),Se^=Se>>>15,Se>>>0}I.exports=k}),Ze=ye,lt=ye,wt=ze;Ze.murmur3=lt,Ze.murmur2=wt;var Ut=function(){this.ids=[],this.positions=[],this.indexed=!1};Ut.prototype.add=function(k,j,ie,pe){this.ids.push(fr(k)),this.positions.push(j,ie,pe)},Ut.prototype.getPositions=function(k){for(var j=fr(k),ie=0,pe=this.ids.length-1;ie<pe;){var Se=ie+pe>>1;this.ids[Se]>=j?pe=Se:ie=Se+1}for(var Ie=[];this.ids[ie]===j;){var $e=this.positions[3*ie],ut=this.positions[3*ie+1],Tt=this.positions[3*ie+2];Ie.push({index:$e,start:ut,end:Tt}),ie++}return Ie},Ut.serialize=function(k,j){var ie=new Float64Array(k.ids),pe=new Uint32Array(k.positions);return xr(ie,pe,0,ie.length-1),j&&j.push(ie.buffer,pe.buffer),{ids:ie,positions:pe}},Ut.deserialize=function(k){var j=new Ut;return j.ids=k.ids,j.positions=k.positions,j.indexed=!0,j};var Jt=Math.pow(2,53)-1;function fr(I){var k=+I;return!isNaN(k)&&k<=Jt?k:Ze(String(I))}function xr(I,k,j,ie){for(;j<ie;){for(var pe=I[j+ie>>1],Se=j-1,Ie=ie+1;;){do Se++;while(I[Se]<pe);do Ie--;while(I[Ie]>pe);if(Se>=Ie)break;zr(I,Se,Ie),zr(k,3*Se,3*Ie),zr(k,3*Se+1,3*Ie+1),zr(k,3*Se+2,3*Ie+2)}Ie-j<ie-Ie?(xr(I,k,j,Ie),j=Ie+1):(xr(I,k,Ie+1,ie),ie=Ie)}}function zr(I,k,j){var ie=I[k];I[k]=I[j],I[j]=ie}fe("FeaturePositionMap",Ut);var Wr=function(k,j){this.gl=k.gl,this.location=j},Yr=function(I){function k(j,ie){I.call(this,j,ie),this.current=0}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1i(this.location,ie))},k}(Wr),Vr=function(I){function k(j,ie){I.call(this,j,ie),this.current=0}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1f(this.location,ie))},k}(Wr),qr=function(I){function k(j,ie){I.call(this,j,ie),this.current=[0,0]}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1])&&(this.current=ie,this.gl.uniform2f(this.location,ie[0],ie[1]))},k}(Wr),cn=function(I){function k(j,ie){I.call(this,j,ie),this.current=[0,0,0]}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2])&&(this.current=ie,this.gl.uniform3f(this.location,ie[0],ie[1],ie[2]))},k}(Wr),Dn=function(I){function k(j,ie){I.call(this,j,ie),this.current=[0,0,0,0]}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2]||ie[3]!==this.current[3])&&(this.current=ie,this.gl.uniform4f(this.location,ie[0],ie[1],ie[2],ie[3]))},k}(Wr),On=function(I){function k(j,ie){I.call(this,j,ie),this.current=oi.transparent}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie.r!==this.current.r||ie.g!==this.current.g||ie.b!==this.current.b||ie.a!==this.current.a)&&(this.current=ie,this.gl.uniform4f(this.location,ie.r,ie.g,ie.b,ie.a))},k}(Wr),$n=new Float32Array(16),Jn=function(I){function k(j,ie){I.call(this,j,ie),this.current=$n}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){if(ie[12]!==this.current[12]||ie[0]!==this.current[0]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);return}for(var pe=1;pe<16;pe++)if(ie[pe]!==this.current[pe]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);break}},k}(Wr);function Kn(I){return[ge(255*I.r,255*I.g),ge(255*I.b,255*I.a)]}var oa=function(k,j,ie){this.value=k,this.uniformNames=j.map(function(pe){return"u_"+pe}),this.type=ie};oa.prototype.setUniform=function(k,j,ie){k.set(ie.constantOr(this.value))},oa.prototype.getBinding=function(k,j,ie){return this.type==="color"?new On(k,j):new Vr(k,j)};var va=function(k,j){this.uniformNames=j.map(function(ie){return"u_"+ie}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};va.prototype.setConstantPatternPositions=function(k,j){this.pixelRatioFrom=j.pixelRatio,this.pixelRatioTo=k.pixelRatio,this.patternFrom=j.tlbr,this.patternTo=k.tlbr},va.prototype.setUniform=function(k,j,ie,pe){var Se=pe==="u_pattern_to"?this.patternTo:pe==="u_pattern_from"?this.patternFrom:pe==="u_pixel_ratio_to"?this.pixelRatioTo:pe==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Se&&k.set(Se)},va.prototype.getBinding=function(k,j,ie){return ie.substr(0,9)==="u_pattern"?new Dn(k,j):new Vr(k,j)};var ha=function(k,j,ie,pe){this.expression=k,this.type=ie,this.maxValue=0,this.paintVertexAttributes=j.map(function(Se){return{name:"a_"+Se,type:"Float32",components:ie==="color"?2:1,offset:0}}),this.paintVertexArray=new pe};ha.prototype.populatePaintArray=function(k,j,ie,pe,Se){var Ie=this.paintVertexArray.length,$e=this.expression.evaluate(new Gn(0),j,{},pe,[],Se);this.paintVertexArray.resize(k),this._setPaintValue(Ie,k,$e)},ha.prototype.updatePaintArray=function(k,j,ie,pe){var Se=this.expression.evaluate({zoom:0},ie,pe);this._setPaintValue(k,j,Se)},ha.prototype._setPaintValue=function(k,j,ie){if(this.type==="color")for(var pe=Kn(ie),Se=k;Se<j;Se++)this.paintVertexArray.emplace(Se,pe[0],pe[1]);else{for(var Ie=k;Ie<j;Ie++)this.paintVertexArray.emplace(Ie,ie);this.maxValue=Math.max(this.maxValue,Math.abs(ie))}},ha.prototype.upload=function(k){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=k.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ha.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ma=function(k,j,ie,pe,Se,Ie){this.expression=k,this.uniformNames=j.map(function($e){return"u_"+$e+"_t"}),this.type=ie,this.useIntegerZoom=pe,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=j.map(function($e){return{name:"a_"+$e,type:"Float32",components:ie==="color"?4:2,offset:0}}),this.paintVertexArray=new Ie};ma.prototype.populatePaintArray=function(k,j,ie,pe,Se){var Ie=this.expression.evaluate(new Gn(this.zoom),j,{},pe,[],Se),$e=this.expression.evaluate(new Gn(this.zoom+1),j,{},pe,[],Se),ut=this.paintVertexArray.length;this.paintVertexArray.resize(k),this._setPaintValue(ut,k,Ie,$e)},ma.prototype.updatePaintArray=function(k,j,ie,pe){var Se=this.expression.evaluate({zoom:this.zoom},ie,pe),Ie=this.expression.evaluate({zoom:this.zoom+1},ie,pe);this._setPaintValue(k,j,Se,Ie)},ma.prototype._setPaintValue=function(k,j,ie,pe){if(this.type==="color")for(var Se=Kn(ie),Ie=Kn(pe),$e=k;$e<j;$e++)this.paintVertexArray.emplace($e,Se[0],Se[1],Ie[0],Ie[1]);else{for(var ut=k;ut<j;ut++)this.paintVertexArray.emplace(ut,ie,pe);this.maxValue=Math.max(this.maxValue,Math.abs(ie),Math.abs(pe))}},ma.prototype.upload=function(k){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=k.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ma.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ma.prototype.setUniform=function(k,j){var ie=this.useIntegerZoom?Math.floor(j.zoom):j.zoom,pe=f(this.expression.interpolationFactor(ie,this.zoom,this.zoom+1),0,1);k.set(pe)},ma.prototype.getBinding=function(k,j,ie){return new Vr(k,j)};var Ma=function(k,j,ie,pe,Se,Ie){this.expression=k,this.type=j,this.useIntegerZoom=ie,this.zoom=pe,this.layerId=Ie,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};Ma.prototype.populatePaintArray=function(k,j,ie){var pe=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(k),this.zoomOutPaintVertexArray.resize(k),this._setPaintValues(pe,k,j.patterns&&j.patterns[this.layerId],ie)},Ma.prototype.updatePaintArray=function(k,j,ie,pe,Se){this._setPaintValues(k,j,ie.patterns&&ie.patterns[this.layerId],Se)},Ma.prototype._setPaintValues=function(k,j,ie,pe){if(!(!pe||!ie)){var Se=ie.min,Ie=ie.mid,$e=ie.max,ut=pe[Se],Tt=pe[Ie],Mt=pe[$e];if(!(!ut||!Tt||!Mt))for(var Gt=k;Gt<j;Gt++)this.zoomInPaintVertexArray.emplace(Gt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],ut.tl[0],ut.tl[1],ut.br[0],ut.br[1],Tt.pixelRatio,ut.pixelRatio),this.zoomOutPaintVertexArray.emplace(Gt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],Tt.pixelRatio,Mt.pixelRatio)}},Ma.prototype.upload=function(k){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=k.createVertexBuffer(this.zoomInPaintVertexArray,ne.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=k.createVertexBuffer(this.zoomOutPaintVertexArray,ne.members,this.expression.isStateDependent))},Ma.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var _a=function(k,j,ie,pe){this.binders={},this.layoutAttributes=pe,this._buffers=[];var Se=[];for(var Ie in k.paint._values)if(ie(Ie)){var $e=k.paint.get(Ie);if(!(!($e instanceof Di)||!ol($e.property.specification))){var ut=hi(Ie,k.type),Tt=$e.value,Mt=$e.property.specification.type,Gt=$e.property.useIntegerZoom,ir=$e.property.specification["property-type"],Qt=ir==="cross-faded"||ir==="cross-faded-data-driven";if(Tt.kind==="constant")this.binders[Ie]=Qt?new va(Tt.value,ut):new oa(Tt.value,ut,Mt),Se.push("/u_"+Ie);else if(Tt.kind==="source"||Qt){var br=ti(Ie,Mt,"source");this.binders[Ie]=Qt?new Ma(Tt,Mt,Gt,j,br,k.id):new ha(Tt,ut,Mt,br),Se.push("/a_"+Ie)}else{var Nr=ti(Ie,Mt,"composite");this.binders[Ie]=new ma(Tt,ut,Mt,Gt,j,Nr),Se.push("/z_"+Ie)}}}this.cacheKey=Se.sort().join("")};_a.prototype.getMaxValue=function(k){var j=this.binders[k];return j instanceof ha||j instanceof ma?j.maxValue:0},_a.prototype.populatePaintArrays=function(k,j,ie,pe,Se){for(var Ie in this.binders){var $e=this.binders[Ie];($e instanceof ha||$e instanceof ma||$e instanceof Ma)&&$e.populatePaintArray(k,j,ie,pe,Se)}},_a.prototype.setConstantPatternPositions=function(k,j){for(var ie in this.binders){var pe=this.binders[ie];pe instanceof va&&pe.setConstantPatternPositions(k,j)}},_a.prototype.updatePaintArrays=function(k,j,ie,pe,Se){var Ie=!1;for(var $e in k)for(var ut=j.getPositions($e),Tt=0,Mt=ut;Tt<Mt.length;Tt+=1){var Gt=Mt[Tt],ir=ie.feature(Gt.index);for(var Qt in this.binders){var br=this.binders[Qt];if((br instanceof ha||br instanceof ma||br instanceof Ma)&&br.expression.isStateDependent===!0){var Nr=pe.paint.get(Qt);br.expression=Nr.value,br.updatePaintArray(Gt.start,Gt.end,ir,k[$e],Se),Ie=!0}}}return Ie},_a.prototype.defines=function(){var k=[];for(var j in this.binders){var ie=this.binders[j];(ie instanceof oa||ie instanceof va)&&k.push.apply(k,ie.uniformNames.map(function(pe){return"#define HAS_UNIFORM_"+pe}))}return k},_a.prototype.getPaintVertexBuffers=function(){return this._buffers},_a.prototype.getUniforms=function(k,j){var ie=[];for(var pe in this.binders){var Se=this.binders[pe];if(Se instanceof oa||Se instanceof va||Se instanceof ma)for(var Ie=0,$e=Se.uniformNames;Ie<$e.length;Ie+=1){var ut=$e[Ie];if(j[ut]){var Tt=Se.getBinding(k,j[ut],ut);ie.push({name:ut,property:pe,binding:Tt})}}}return ie},_a.prototype.setUniforms=function(k,j,ie,pe){for(var Se=0,Ie=j;Se<Ie.length;Se+=1){var $e=Ie[Se],ut=$e.name,Tt=$e.property,Mt=$e.binding;this.binders[Tt].setUniform(Mt,pe,ie.get(Tt),ut)}},_a.prototype.updatePaintBuffers=function(k){this._buffers=[];for(var j in this.binders){var ie=this.binders[j];if(k&&ie instanceof Ma){var pe=k.fromScale===2?ie.zoomInPaintVertexBuffer:ie.zoomOutPaintVertexBuffer;pe&&this._buffers.push(pe)}else(ie instanceof ha||ie instanceof ma)&&ie.paintVertexBuffer&&this._buffers.push(ie.paintVertexBuffer)}},_a.prototype.upload=function(k){for(var j in this.binders){var ie=this.binders[j];(ie instanceof ha||ie instanceof ma||ie instanceof Ma)&&ie.upload(k)}this.updatePaintBuffers()},_a.prototype.destroy=function(){for(var k in this.binders){var j=this.binders[k];(j instanceof ha||j instanceof ma||j instanceof Ma)&&j.destroy()}};var Ya=function(k,j,ie,pe){pe===void 0&&(pe=function(){return!0}),this.programConfigurations={};for(var Se=0,Ie=j;Se<Ie.length;Se+=1){var $e=Ie[Se];this.programConfigurations[$e.id]=new _a($e,ie,pe,k)}this.needsUpload=!1,this._featureMap=new Ut,this._bufferOffset=0};Ya.prototype.populatePaintArrays=function(k,j,ie,pe,Se,Ie){for(var $e in this.programConfigurations)this.programConfigurations[$e].populatePaintArrays(k,j,pe,Se,Ie);j.id!==void 0&&this._featureMap.add(j.id,ie,this._bufferOffset,k),this._bufferOffset=k,this.needsUpload=!0},Ya.prototype.updatePaintArrays=function(k,j,ie,pe){for(var Se=0,Ie=ie;Se<Ie.length;Se+=1){var $e=Ie[Se];this.needsUpload=this.programConfigurations[$e.id].updatePaintArrays(k,this._featureMap,j,$e,pe)||this.needsUpload}},Ya.prototype.get=function(k){return this.programConfigurations[k]},Ya.prototype.upload=function(k){if(this.needsUpload){for(var j in this.programConfigurations)this.programConfigurations[j].upload(k);this.needsUpload=!1}},Ya.prototype.destroy=function(){for(var k in this.programConfigurations)this.programConfigurations[k].destroy()};function hi(I,k){var j={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return j[I]||[I.replace(k+"-","").replace(/-/g,"_")]}function $a(I){var k={"line-pattern":{source:Ss,composite:Ss},"fill-pattern":{source:Ss,composite:Ss},"fill-extrusion-pattern":{source:Ss,composite:Ss}};return k[I]}function ti(I,k,j){var ie={color:{source:Of,composite:zp},number:{source:hh,composite:Of}},pe=$a(I);return pe&&pe[j]||ie[k][j]}fe("ConstantBinder",oa),fe("CrossFadedConstantBinder",va),fe("SourceExpressionBinder",ha),fe("CrossFadedCompositeBinder",Ma),fe("CompositeExpressionBinder",ma),fe("ProgramConfiguration",_a,{omit:["_buffers"]}),fe("ProgramConfigurationSet",Ya);var Ia=8192;function vi(I){return{min:-1*Math.pow(2,I-1),max:Math.pow(2,I-1)-1}}var yi=vi(15);function Ti(I){for(var k=Ia/I.extent,j=I.loadGeometry(),ie=0;ie<j.length;ie++)for(var pe=j[ie],Se=0;Se<pe.length;Se++){var Ie=pe[Se];Ie.x=Math.round(Ie.x*k),Ie.y=Math.round(Ie.y*k),(Ie.x<yi.min||Ie.x>yi.max||Ie.y<yi.min||Ie.y>yi.max)&&(V("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ie.x=f(Ie.x,yi.min,yi.max),Ie.y=f(Ie.y,yi.min,yi.max))}return j}function ri(I,k,j,ie,pe){I.emplaceBack(k*2+(ie+1)/2,j*2+(pe+1)/2)}var Fi=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(j){return j.id}),this.index=k.index,this.hasPattern=!1,this.layoutVertexArray=new wv,this.indexArray=new af,this.segments=new X,this.programConfigurations=new Ya(de,k.layers,k.zoom),this.stateDependentLayerIds=this.layers.filter(function(j){return j.isStateDependent()}).map(function(j){return j.id})};Fi.prototype.populate=function(k,j,ie){var pe=this.layers[0],Se=[],Ie=null;pe.type==="circle"&&(Ie=pe.layout.get("circle-sort-key"));for(var $e=0,ut=k;$e<ut.length;$e+=1){var Tt=ut[$e],Mt=Tt.feature,Gt=Tt.id,ir=Tt.index,Qt=Tt.sourceLayerIndex,br=this.layers[0]._featureFilter.needGeometry,Nr={type:Mt.type,id:Gt,properties:Mt.properties,geometry:br?Ti(Mt):[]};if(this.layers[0]._featureFilter.filter(new Gn(this.zoom),Nr,ie)){br||(Nr.geometry=Ti(Mt));var un=Ie?Ie.evaluate(Nr,{},ie):void 0,en={id:Gt,properties:Mt.properties,type:Mt.type,sourceLayerIndex:Qt,index:ir,geometry:Nr.geometry,patterns:{},sortKey:un};Se.push(en)}}Ie&&Se.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var Pn=0,Tn=Se;Pn<Tn.length;Pn+=1){var Ln=Tn[Pn],Fn=Ln,Wn=Fn.geometry,aa=Fn.index,na=Fn.sourceLayerIndex,Pa=k[aa].feature;this.addFeature(Ln,Wn,aa,ie),j.featureIndex.insert(Pa,Wn,aa,na,this.index)}},Fi.prototype.update=function(k,j,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,j,this.stateDependentLayers,ie)},Fi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Fi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Fi.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,de),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},Fi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Fi.prototype.addFeature=function(k,j,ie,pe){for(var Se=0,Ie=j;Se<Ie.length;Se+=1)for(var $e=Ie[Se],ut=0,Tt=$e;ut<Tt.length;ut+=1){var Mt=Tt[ut],Gt=Mt.x,ir=Mt.y;if(!(Gt<0||Gt>=Ia||ir<0||ir>=Ia)){var Qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,k.sortKey),br=Qt.vertexLength;ri(this.layoutVertexArray,Gt,ir,-1,-1),ri(this.layoutVertexArray,Gt,ir,1,-1),ri(this.layoutVertexArray,Gt,ir,1,1),ri(this.layoutVertexArray,Gt,ir,-1,1),this.indexArray.emplaceBack(br,br+1,br+2),this.indexArray.emplaceBack(br,br+3,br+2),Qt.vertexLength+=4,Qt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,{},pe)},fe("CircleBucket",Fi,{omit:["layers"]});function Za(I,k){for(var j=0;j<I.length;j++)if(Ms(k,I[j]))return!0;for(var ie=0;ie<k.length;ie++)if(Ms(I,k[ie]))return!0;return!!Ll(I,k)}function ai(I,k,j){return!!(Ms(I,k)||Au(k,I,j))}function ro(I,k){if(I.length===1)return Su(k,I[0]);for(var j=0;j<k.length;j++)for(var ie=k[j],pe=0;pe<ie.length;pe++)if(Ms(I,ie[pe]))return!0;for(var Se=0;Se<I.length;Se++)if(Su(k,I[Se]))return!0;for(var Ie=0;Ie<k.length;Ie++)if(Ll(I,k[Ie]))return!0;return!1}function To(I,k,j){for(var ie=0;ie<k.length;ie++){var pe=k[ie];if(I.length>=3){for(var Se=0;Se<pe.length;Se++)if(Ms(I,pe[Se]))return!0}if(Cl(I,pe,j))return!0}return!1}function Cl(I,k,j){if(I.length>1){if(Ll(I,k))return!0;for(var ie=0;ie<k.length;ie++)if(Au(k[ie],I,j))return!0}for(var pe=0;pe<I.length;pe++)if(Au(I[pe],k,j))return!0;return!1}function Ll(I,k){if(I.length===0||k.length===0)return!1;for(var j=0;j<I.length-1;j++)for(var ie=I[j],pe=I[j+1],Se=0;Se<k.length-1;Se++){var Ie=k[Se],$e=k[Se+1];if(Tu(ie,pe,Ie,$e))return!0}return!1}function Tu(I,k,j,ie){return _(I,j,ie)!==_(k,j,ie)&&_(I,k,j)!==_(I,k,ie)}function Au(I,k,j){var ie=j*j;if(k.length===1)return I.distSqr(k[0])<ie;for(var pe=1;pe<k.length;pe++){var Se=k[pe-1],Ie=k[pe];if(of(I,Se,Ie)<ie)return!0}return!1}function of(I,k,j){var ie=k.distSqr(j);if(ie===0)return I.distSqr(k);var pe=((I.x-k.x)*(j.x-k.x)+(I.y-k.y)*(j.y-k.y))/ie;return pe<0?I.distSqr(k):pe>1?I.distSqr(j):I.distSqr(j.sub(k)._mult(pe)._add(k))}function Su(I,k){for(var j=!1,ie,pe,Se,Ie=0;Ie<I.length;Ie++){ie=I[Ie];for(var $e=0,ut=ie.length-1;$e<ie.length;ut=$e++)pe=ie[$e],Se=ie[ut],pe.y>k.y!=Se.y>k.y&&k.x<(Se.x-pe.x)*(k.y-pe.y)/(Se.y-pe.y)+pe.x&&(j=!j)}return j}function Ms(I,k){for(var j=!1,ie=0,pe=I.length-1;ie<I.length;pe=ie++){var Se=I[ie],Ie=I[pe];Se.y>k.y!=Ie.y>k.y&&k.x<(Ie.x-Se.x)*(k.y-Se.y)/(Ie.y-Se.y)+Se.x&&(j=!j)}return j}function Nf(I,k,j,ie,pe){for(var Se=0,Ie=I;Se<Ie.length;Se+=1){var $e=Ie[Se];if(k<=$e.x&&j<=$e.y&&ie>=$e.x&&pe>=$e.y)return!0}var ut=[new t(k,j),new t(k,pe),new t(ie,pe),new t(ie,j)];if(I.length>2)for(var Tt=0,Mt=ut;Tt<Mt.length;Tt+=1){var Gt=Mt[Tt];if(Ms(I,Gt))return!0}for(var ir=0;ir<I.length-1;ir++){var Qt=I[ir],br=I[ir+1];if(os(Qt,br,ut))return!0}return!1}function os(I,k,j){var ie=j[0],pe=j[2];if(I.x<ie.x&&k.x<ie.x||I.x>pe.x&&k.x>pe.x||I.y<ie.y&&k.y<ie.y||I.y>pe.y&&k.y>pe.y)return!1;var Se=_(I,k,j[0]);return Se!==_(I,k,j[1])||Se!==_(I,k,j[2])||Se!==_(I,k,j[3])}function ul(I,k,j){var ie=k.paint.get(I).value;return ie.kind==="constant"?ie.value:j.programConfigurations.get(k.id).getMaxValue(I)}function Mu(I){return Math.sqrt(I[0]*I[0]+I[1]*I[1])}function Jl(I,k,j,ie,pe){if(!k[0]&&!k[1])return I;var Se=t.convert(k)._mult(pe);j==="viewport"&&Se._rotate(-ie);for(var Ie=[],$e=0;$e<I.length;$e++){var ut=I[$e];Ie.push(ut.sub(Se))}return Ie}var Eu=new vo({"circle-sort-key":new La(Yt.layout_circle["circle-sort-key"])}),ld=new vo({"circle-radius":new La(Yt.paint_circle["circle-radius"]),"circle-color":new La(Yt.paint_circle["circle-color"]),"circle-blur":new La(Yt.paint_circle["circle-blur"]),"circle-opacity":new La(Yt.paint_circle["circle-opacity"]),"circle-translate":new xa(Yt.paint_circle["circle-translate"]),"circle-translate-anchor":new xa(Yt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new xa(Yt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new xa(Yt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new La(Yt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new La(Yt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new La(Yt.paint_circle["circle-stroke-opacity"])}),Ec={paint:ld,layout:Eu},Ko=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var I=arguments,k=0,j=arguments.length;j--;)k+=I[j]*I[j];return Math.sqrt(k)});function Mv(){var I=new Ko(4);return Ko!=Float32Array&&(I[1]=0,I[2]=0),I[0]=1,I[3]=1,I}function vs(I,k,j){var ie=k[0],pe=k[1],Se=k[2],Ie=k[3],$e=Math.sin(j),ut=Math.cos(j);return I[0]=ie*ut+Se*$e,I[1]=pe*ut+Ie*$e,I[2]=ie*-$e+Se*ut,I[3]=pe*-$e+Ie*ut,I}function Ev(){var I=new Ko(9);return Ko!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[5]=0,I[6]=0,I[7]=0),I[0]=1,I[4]=1,I[8]=1,I}function ud(I,k){var j=Math.sin(k),ie=Math.cos(k);return I[0]=ie,I[1]=j,I[2]=0,I[3]=-j,I[4]=ie,I[5]=0,I[6]=0,I[7]=0,I[8]=1,I}function fd(){var I=new Ko(16);return Ko!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[11]=0,I[12]=0,I[13]=0,I[14]=0),I[0]=1,I[5]=1,I[10]=1,I[15]=1,I}function Lg(I){var k=new Ko(16);return k[0]=I[0],k[1]=I[1],k[2]=I[2],k[3]=I[3],k[4]=I[4],k[5]=I[5],k[6]=I[6],k[7]=I[7],k[8]=I[8],k[9]=I[9],k[10]=I[10],k[11]=I[11],k[12]=I[12],k[13]=I[13],k[14]=I[14],k[15]=I[15],k}function cd(I){return I[0]=1,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=1,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=1,I[11]=0,I[12]=0,I[13]=0,I[14]=0,I[15]=1,I}function ph(I,k){var j=k[0],ie=k[1],pe=k[2],Se=k[3],Ie=k[4],$e=k[5],ut=k[6],Tt=k[7],Mt=k[8],Gt=k[9],ir=k[10],Qt=k[11],br=k[12],Nr=k[13],un=k[14],en=k[15],Pn=j*$e-ie*Ie,Tn=j*ut-pe*Ie,Ln=j*Tt-Se*Ie,Fn=ie*ut-pe*$e,Wn=ie*Tt-Se*$e,aa=pe*Tt-Se*ut,na=Mt*Nr-Gt*br,Pa=Mt*un-ir*br,da=Mt*en-Qt*br,ba=Gt*un-ir*Nr,Wa=Gt*en-Qt*Nr,Ea=ir*en-Qt*un,Ca=Pn*Ea-Tn*Wa+Ln*ba+Fn*da-Wn*Pa+aa*na;return Ca?(Ca=1/Ca,I[0]=($e*Ea-ut*Wa+Tt*ba)*Ca,I[1]=(pe*Wa-ie*Ea-Se*ba)*Ca,I[2]=(Nr*aa-un*Wn+en*Fn)*Ca,I[3]=(ir*Wn-Gt*aa-Qt*Fn)*Ca,I[4]=(ut*da-Ie*Ea-Tt*Pa)*Ca,I[5]=(j*Ea-pe*da+Se*Pa)*Ca,I[6]=(un*Ln-br*aa-en*Tn)*Ca,I[7]=(Mt*aa-ir*Ln+Qt*Tn)*Ca,I[8]=(Ie*Wa-$e*da+Tt*na)*Ca,I[9]=(ie*da-j*Wa-Se*na)*Ca,I[10]=(br*Wn-Nr*Ln+en*Pn)*Ca,I[11]=(Gt*Ln-Mt*Wn-Qt*Pn)*Ca,I[12]=($e*Pa-Ie*ba-ut*na)*Ca,I[13]=(j*ba-ie*Pa+pe*na)*Ca,I[14]=(Nr*Tn-br*Fn-un*Pn)*Ca,I[15]=(Mt*Fn-Gt*Tn+ir*Pn)*Ca,I):null}function gh(I,k,j){var ie=k[0],pe=k[1],Se=k[2],Ie=k[3],$e=k[4],ut=k[5],Tt=k[6],Mt=k[7],Gt=k[8],ir=k[9],Qt=k[10],br=k[11],Nr=k[12],un=k[13],en=k[14],Pn=k[15],Tn=j[0],Ln=j[1],Fn=j[2],Wn=j[3];return I[0]=Tn*ie+Ln*$e+Fn*Gt+Wn*Nr,I[1]=Tn*pe+Ln*ut+Fn*ir+Wn*un,I[2]=Tn*Se+Ln*Tt+Fn*Qt+Wn*en,I[3]=Tn*Ie+Ln*Mt+Fn*br+Wn*Pn,Tn=j[4],Ln=j[5],Fn=j[6],Wn=j[7],I[4]=Tn*ie+Ln*$e+Fn*Gt+Wn*Nr,I[5]=Tn*pe+Ln*ut+Fn*ir+Wn*un,I[6]=Tn*Se+Ln*Tt+Fn*Qt+Wn*en,I[7]=Tn*Ie+Ln*Mt+Fn*br+Wn*Pn,Tn=j[8],Ln=j[9],Fn=j[10],Wn=j[11],I[8]=Tn*ie+Ln*$e+Fn*Gt+Wn*Nr,I[9]=Tn*pe+Ln*ut+Fn*ir+Wn*un,I[10]=Tn*Se+Ln*Tt+Fn*Qt+Wn*en,I[11]=Tn*Ie+Ln*Mt+Fn*br+Wn*Pn,Tn=j[12],Ln=j[13],Fn=j[14],Wn=j[15],I[12]=Tn*ie+Ln*$e+Fn*Gt+Wn*Nr,I[13]=Tn*pe+Ln*ut+Fn*ir+Wn*un,I[14]=Tn*Se+Ln*Tt+Fn*Qt+Wn*en,I[15]=Tn*Ie+Ln*Mt+Fn*br+Wn*Pn,I}function oo(I,k,j){var ie=j[0],pe=j[1],Se=j[2],Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br,Nr,un,en;return k===I?(I[12]=k[0]*ie+k[4]*pe+k[8]*Se+k[12],I[13]=k[1]*ie+k[5]*pe+k[9]*Se+k[13],I[14]=k[2]*ie+k[6]*pe+k[10]*Se+k[14],I[15]=k[3]*ie+k[7]*pe+k[11]*Se+k[15]):(Ie=k[0],$e=k[1],ut=k[2],Tt=k[3],Mt=k[4],Gt=k[5],ir=k[6],Qt=k[7],br=k[8],Nr=k[9],un=k[10],en=k[11],I[0]=Ie,I[1]=$e,I[2]=ut,I[3]=Tt,I[4]=Mt,I[5]=Gt,I[6]=ir,I[7]=Qt,I[8]=br,I[9]=Nr,I[10]=un,I[11]=en,I[12]=Ie*ie+Mt*pe+br*Se+k[12],I[13]=$e*ie+Gt*pe+Nr*Se+k[13],I[14]=ut*ie+ir*pe+un*Se+k[14],I[15]=Tt*ie+Qt*pe+en*Se+k[15]),I}function Gs(I,k,j){var ie=j[0],pe=j[1],Se=j[2];return I[0]=k[0]*ie,I[1]=k[1]*ie,I[2]=k[2]*ie,I[3]=k[3]*ie,I[4]=k[4]*pe,I[5]=k[5]*pe,I[6]=k[6]*pe,I[7]=k[7]*pe,I[8]=k[8]*Se,I[9]=k[9]*Se,I[10]=k[10]*Se,I[11]=k[11]*Se,I[12]=k[12],I[13]=k[13],I[14]=k[14],I[15]=k[15],I}function Ws(I,k,j){var ie=Math.sin(j),pe=Math.cos(j),Se=k[4],Ie=k[5],$e=k[6],ut=k[7],Tt=k[8],Mt=k[9],Gt=k[10],ir=k[11];return k!==I&&(I[0]=k[0],I[1]=k[1],I[2]=k[2],I[3]=k[3],I[12]=k[12],I[13]=k[13],I[14]=k[14],I[15]=k[15]),I[4]=Se*pe+Tt*ie,I[5]=Ie*pe+Mt*ie,I[6]=$e*pe+Gt*ie,I[7]=ut*pe+ir*ie,I[8]=Tt*pe-Se*ie,I[9]=Mt*pe-Ie*ie,I[10]=Gt*pe-$e*ie,I[11]=ir*pe-ut*ie,I}function hd(I,k,j){var ie=Math.sin(j),pe=Math.cos(j),Se=k[0],Ie=k[1],$e=k[2],ut=k[3],Tt=k[4],Mt=k[5],Gt=k[6],ir=k[7];return k!==I&&(I[8]=k[8],I[9]=k[9],I[10]=k[10],I[11]=k[11],I[12]=k[12],I[13]=k[13],I[14]=k[14],I[15]=k[15]),I[0]=Se*pe+Tt*ie,I[1]=Ie*pe+Mt*ie,I[2]=$e*pe+Gt*ie,I[3]=ut*pe+ir*ie,I[4]=Tt*pe-Se*ie,I[5]=Mt*pe-Ie*ie,I[6]=Gt*pe-$e*ie,I[7]=ir*pe-ut*ie,I}function Np(I,k,j,ie,pe){var Se=1/Math.tan(k/2),Ie;return I[0]=Se/j,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=Se,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[11]=-1,I[12]=0,I[13]=0,I[15]=0,pe!=null&&pe!==1/0?(Ie=1/(ie-pe),I[10]=(pe+ie)*Ie,I[14]=2*pe*ie*Ie):(I[10]=-1,I[14]=-2*ie),I}function F1(I,k,j,ie,pe,Se,Ie){var $e=1/(k-j),ut=1/(ie-pe),Tt=1/(Se-Ie);return I[0]=-2*$e,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=-2*ut,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=2*Tt,I[11]=0,I[12]=(k+j)*$e,I[13]=(pe+ie)*ut,I[14]=(Ie+Se)*Tt,I[15]=1,I}var _1=gh;function Cv(){var I=new Ko(3);return Ko!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0),I}function z1(I){var k=new Ko(3);return k[0]=I[0],k[1]=I[1],k[2]=I[2],k}function vd(I,k,j){return I[0]=k[0]+j[0],I[1]=k[1]+j[1],I[2]=k[2]+j[2],I}function O1(I,k,j){return I[0]=k[0]-j[0],I[1]=k[1]-j[1],I[2]=k[2]-j[2],I}function B1(I,k,j){return I[0]=k[0]*j,I[1]=k[1]*j,I[2]=k[2]*j,I}function Up(I,k){var j=k[0],ie=k[1],pe=k[2],Se=j*j+ie*ie+pe*pe;return Se>0&&(Se=1/Math.sqrt(Se)),I[0]=k[0]*Se,I[1]=k[1]*Se,I[2]=k[2]*Se,I}function $E(I,k){return I[0]*k[0]+I[1]*k[1]+I[2]*k[2]}function KE(I,k,j){var ie=k[0],pe=k[1],Se=k[2],Ie=j[0],$e=j[1],ut=j[2];return I[0]=pe*ut-Se*$e,I[1]=Se*Ie-ie*ut,I[2]=ie*$e-pe*Ie,I}function JE(I,k,j){var ie=k[0],pe=k[1],Se=k[2];return I[0]=ie*j[0]+pe*j[3]+Se*j[6],I[1]=ie*j[1]+pe*j[4]+Se*j[7],I[2]=ie*j[2]+pe*j[5]+Se*j[8],I}var QE=O1;(function(){var I=Cv();return function(k,j,ie,pe,Se,Ie){var $e,ut;for(j||(j=3),ie||(ie=0),pe?ut=Math.min(pe*j+ie,k.length):ut=k.length,$e=ie;$e<ut;$e+=j)I[0]=k[$e],I[1]=k[$e+1],I[2]=k[$e+2],Se(I,I,Ie),k[$e]=I[0],k[$e+1]=I[1],k[$e+2]=I[2];return k}})();function qE(){var I=new Ko(4);return Ko!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0,I[3]=0),I}function eC(I,k,j){return I[0]=k[0]*j,I[1]=k[1]*j,I[2]=k[2]*j,I[3]=k[3]*j,I}function tC(I,k){return I[0]*k[0]+I[1]*k[1]+I[2]*k[2]+I[3]*k[3]}function Pg(I,k,j){var ie=k[0],pe=k[1],Se=k[2],Ie=k[3];return I[0]=j[0]*ie+j[4]*pe+j[8]*Se+j[12]*Ie,I[1]=j[1]*ie+j[5]*pe+j[9]*Se+j[13]*Ie,I[2]=j[2]*ie+j[6]*pe+j[10]*Se+j[14]*Ie,I[3]=j[3]*ie+j[7]*pe+j[11]*Se+j[15]*Ie,I}(function(){var I=qE();return function(k,j,ie,pe,Se,Ie){var $e,ut;for(j||(j=4),ie||(ie=0),pe?ut=Math.min(pe*j+ie,k.length):ut=k.length,$e=ie;$e<ut;$e+=j)I[0]=k[$e],I[1]=k[$e+1],I[2]=k[$e+2],I[3]=k[$e+3],Se(I,I,Ie),k[$e]=I[0],k[$e+1]=I[1],k[$e+2]=I[2],k[$e+3]=I[3];return k}})();function rC(){var I=new Ko(2);return Ko!=Float32Array&&(I[0]=0,I[1]=0),I}function nC(I){var k=I[0],j=I[1];return k*k+j*j}var aC=nC;(function(){var I=rC();return function(k,j,ie,pe,Se,Ie){var $e,ut;for(j||(j=2),ie||(ie=0),pe?ut=Math.min(pe*j+ie,k.length):ut=k.length,$e=ie;$e<ut;$e+=j)I[0]=k[$e],I[1]=k[$e+1],Se(I,I,Ie),k[$e]=I[0],k[$e+1]=I[1];return k}})();var iC=function(I){function k(j){I.call(this,j,Ec)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.createBucket=function(ie){return new Fi(ie)},k.prototype.queryRadius=function(ie){var pe=ie;return ul("circle-radius",this,pe)+ul("circle-stroke-width",this,pe)+Mu(this.paint.get("circle-translate"))},k.prototype.queryIntersectsFeature=function(ie,pe,Se,Ie,$e,ut,Tt,Mt){for(var Gt=Jl(ie,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ut.angle,Tt),ir=this.paint.get("circle-radius").evaluate(pe,Se),Qt=this.paint.get("circle-stroke-width").evaluate(pe,Se),br=ir+Qt,Nr=this.paint.get("circle-pitch-alignment")==="map",un=Nr?Gt:oC(Gt,Mt),en=Nr?br*Tt:br,Pn=0,Tn=Ie;Pn<Tn.length;Pn+=1)for(var Ln=Tn[Pn],Fn=0,Wn=Ln;Fn<Wn.length;Fn+=1){var aa=Wn[Fn],na=Nr?aa:cw(aa,Mt),Pa=en,da=Pg([],[aa.x,aa.y,0,1],Mt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Pa*=da[3]/ut.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Pa*=ut.cameraToCenterDistance/da[3]),ai(un,na,Pa))return!0}return!1},k}(Ni);function cw(I,k){var j=Pg([],[I.x,I.y,0,1],k);return new t(j[0]/j[3],j[1]/j[3])}function oC(I,k){return I.map(function(j){return cw(j,k)})}var hw=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(Fi);fe("HeatmapBucket",hw,{omit:["layers"]});function N1(I,k,j,ie){var pe=k.width,Se=k.height;if(!ie)ie=new Uint8Array(pe*Se*j);else if(ie instanceof Uint8ClampedArray)ie=new Uint8Array(ie.buffer);else if(ie.length!==pe*Se*j)throw new RangeError("mismatched image size");return I.width=pe,I.height=Se,I.data=ie,I}function vw(I,k,j){var ie=k.width,pe=k.height;if(!(ie===I.width&&pe===I.height)){var Se=N1({},{width:ie,height:pe},j);U1(I,Se,{x:0,y:0},{x:0,y:0},{width:Math.min(I.width,ie),height:Math.min(I.height,pe)},j),I.width=ie,I.height=pe,I.data=Se.data}}function U1(I,k,j,ie,pe,Se){if(pe.width===0||pe.height===0)return k;if(pe.width>I.width||pe.height>I.height||j.x>I.width-pe.width||j.y>I.height-pe.height)throw new RangeError("out of range source coordinates for image copy");if(pe.width>k.width||pe.height>k.height||ie.x>k.width-pe.width||ie.y>k.height-pe.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ie=I.data,$e=k.data,ut=0;ut<pe.height;ut++)for(var Tt=((j.y+ut)*I.width+j.x)*Se,Mt=((ie.y+ut)*k.width+ie.x)*Se,Gt=0;Gt<pe.width*Se;Gt++)$e[Mt+Gt]=Ie[Tt+Gt];return k}var Lv=function(k,j){N1(this,k,1,j)};Lv.prototype.resize=function(k){vw(this,k,1)},Lv.prototype.clone=function(){return new Lv({width:this.width,height:this.height},new Uint8Array(this.data))},Lv.copy=function(k,j,ie,pe,Se){U1(k,j,ie,pe,Se,1)};var js=function(k,j){N1(this,k,4,j)};js.prototype.resize=function(k){vw(this,k,4)},js.prototype.replace=function(k,j){j?this.data.set(k):k instanceof Uint8ClampedArray?this.data=new Uint8Array(k.buffer):this.data=k},js.prototype.clone=function(){return new js({width:this.width,height:this.height},new Uint8Array(this.data))},js.copy=function(k,j,ie,pe,Se){U1(k,j,ie,pe,Se,4)},fe("AlphaImage",Lv),fe("RGBAImage",js);var sC=new vo({"heatmap-radius":new La(Yt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new La(Yt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new xa(Yt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new is(Yt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new xa(Yt.paint_heatmap["heatmap-opacity"])}),lC={paint:sC};function dw(I,k){for(var j=new Uint8Array(1024),ie={},pe=0,Se=0;pe<256;pe++,Se+=4){ie[k]=pe/255;var Ie=I.evaluate(ie);j[Se+0]=Math.floor(Ie.r*255/Ie.a),j[Se+1]=Math.floor(Ie.g*255/Ie.a),j[Se+2]=Math.floor(Ie.b*255/Ie.a),j[Se+3]=Math.floor(Ie.a*255)}return new js({width:256,height:1},j)}var uC=function(I){function k(j){I.call(this,j,lC),this._updateColorRamp()}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.createBucket=function(ie){return new hw(ie)},k.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="heatmap-color"&&this._updateColorRamp()},k.prototype._updateColorRamp=function(){var ie=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=dw(ie,"heatmapDensity"),this.colorRampTexture=null},k.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},k.prototype.queryRadius=function(){return 0},k.prototype.queryIntersectsFeature=function(){return!1},k.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},k}(Ni),fC=new vo({"hillshade-illumination-direction":new xa(Yt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new xa(Yt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new xa(Yt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new xa(Yt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new xa(Yt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new xa(Yt.paint_hillshade["hillshade-accent-color"])}),cC={paint:fC},hC=function(I){function k(j){I.call(this,j,cC)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},k}(Ni),vC=ki([{name:"a_pos",components:2,type:"Int16"}],4),pw=vC.members,H1=Rg,dC=Rg;function Rg(I,k,j){j=j||2;var ie=k&&k.length,pe=ie?k[0]*j:I.length,Se=gw(I,0,pe,j,!0),Ie=[];if(!Se||Se.next===Se.prev)return Ie;var $e,ut,Tt,Mt,Gt,ir,Qt;if(ie&&(Se=xC(I,k,Se,j)),I.length>80*j){$e=Tt=I[0],ut=Mt=I[1];for(var br=j;br<pe;br+=j)Gt=I[br],ir=I[br+1],Gt<$e&&($e=Gt),ir<ut&&(ut=ir),Gt>Tt&&(Tt=Gt),ir>Mt&&(Mt=ir);Qt=Math.max(Tt-$e,Mt-ut),Qt=Qt!==0?1/Qt:0}return Hp(Se,Ie,j,$e,ut,Qt),Ie}function gw(I,k,j,ie,pe){var Se,Ie;if(pe===W1(I,k,j,ie)>0)for(Se=k;Se<j;Se+=ie)Ie=xw(Se,I[Se],I[Se+1],Ie);else for(Se=j-ie;Se>=k;Se-=ie)Ie=xw(Se,I[Se],I[Se+1],Ie);return Ie&&Dg(Ie,Ie.next)&&(Gp(Ie),Ie=Ie.next),Ie}function yh(I,k){if(!I)return I;k||(k=I);var j=I,ie;do if(ie=!1,!j.steiner&&(Dg(j,j.next)||Ao(j.prev,j,j.next)===0)){if(Gp(j),j=k=j.prev,j===j.next)break;ie=!0}else j=j.next;while(ie||j!==k);return k}function Hp(I,k,j,ie,pe,Se,Ie){if(I){!Ie&&Se&&SC(I,ie,pe,Se);for(var $e=I,ut,Tt;I.prev!==I.next;){if(ut=I.prev,Tt=I.next,Se?gC(I,ie,pe,Se):pC(I)){k.push(ut.i/j),k.push(I.i/j),k.push(Tt.i/j),Gp(I),I=Tt.next,$e=Tt.next;continue}if(I=Tt,I===$e){Ie?Ie===1?(I=yC(yh(I),k,j),Hp(I,k,j,ie,pe,Se,2)):Ie===2&&mC(I,k,j,ie,pe,Se):Hp(yh(I),k,j,ie,pe,Se,1);break}}}}function pC(I){var k=I.prev,j=I,ie=I.next;if(Ao(k,j,ie)>=0)return!1;for(var pe=I.next.next;pe!==I.prev;){if(dd(k.x,k.y,j.x,j.y,ie.x,ie.y,pe.x,pe.y)&&Ao(pe.prev,pe,pe.next)>=0)return!1;pe=pe.next}return!0}function gC(I,k,j,ie){var pe=I.prev,Se=I,Ie=I.next;if(Ao(pe,Se,Ie)>=0)return!1;for(var $e=pe.x<Se.x?pe.x<Ie.x?pe.x:Ie.x:Se.x<Ie.x?Se.x:Ie.x,ut=pe.y<Se.y?pe.y<Ie.y?pe.y:Ie.y:Se.y<Ie.y?Se.y:Ie.y,Tt=pe.x>Se.x?pe.x>Ie.x?pe.x:Ie.x:Se.x>Ie.x?Se.x:Ie.x,Mt=pe.y>Se.y?pe.y>Ie.y?pe.y:Ie.y:Se.y>Ie.y?Se.y:Ie.y,Gt=V1($e,ut,k,j,ie),ir=V1(Tt,Mt,k,j,ie),Qt=I.prevZ,br=I.nextZ;Qt&&Qt.z>=Gt&&br&&br.z<=ir;){if(Qt!==I.prev&&Qt!==I.next&&dd(pe.x,pe.y,Se.x,Se.y,Ie.x,Ie.y,Qt.x,Qt.y)&&Ao(Qt.prev,Qt,Qt.next)>=0||(Qt=Qt.prevZ,br!==I.prev&&br!==I.next&&dd(pe.x,pe.y,Se.x,Se.y,Ie.x,Ie.y,br.x,br.y)&&Ao(br.prev,br,br.next)>=0))return!1;br=br.nextZ}for(;Qt&&Qt.z>=Gt;){if(Qt!==I.prev&&Qt!==I.next&&dd(pe.x,pe.y,Se.x,Se.y,Ie.x,Ie.y,Qt.x,Qt.y)&&Ao(Qt.prev,Qt,Qt.next)>=0)return!1;Qt=Qt.prevZ}for(;br&&br.z<=ir;){if(br!==I.prev&&br!==I.next&&dd(pe.x,pe.y,Se.x,Se.y,Ie.x,Ie.y,br.x,br.y)&&Ao(br.prev,br,br.next)>=0)return!1;br=br.nextZ}return!0}function yC(I,k,j){var ie=I;do{var pe=ie.prev,Se=ie.next.next;!Dg(pe,Se)&&yw(pe,ie,ie.next,Se)&&Vp(pe,Se)&&Vp(Se,pe)&&(k.push(pe.i/j),k.push(ie.i/j),k.push(Se.i/j),Gp(ie),Gp(ie.next),ie=I=Se),ie=ie.next}while(ie!==I);return yh(ie)}function mC(I,k,j,ie,pe,Se){var Ie=I;do{for(var $e=Ie.next.next;$e!==Ie.prev;){if(Ie.i!==$e.i&&CC(Ie,$e)){var ut=mw(Ie,$e);Ie=yh(Ie,Ie.next),ut=yh(ut,ut.next),Hp(Ie,k,j,ie,pe,Se),Hp(ut,k,j,ie,pe,Se);return}$e=$e.next}Ie=Ie.next}while(Ie!==I)}function xC(I,k,j,ie){var pe=[],Se,Ie,$e,ut,Tt;for(Se=0,Ie=k.length;Se<Ie;Se++)$e=k[Se]*ie,ut=Se<Ie-1?k[Se+1]*ie:I.length,Tt=gw(I,$e,ut,ie,!1),Tt===Tt.next&&(Tt.steiner=!0),pe.push(EC(Tt));for(pe.sort(bC),Se=0;Se<pe.length;Se++)wC(pe[Se],j),j=yh(j,j.next);return j}function bC(I,k){return I.x-k.x}function wC(I,k){if(k=TC(I,k),k){var j=mw(k,I);yh(k,k.next),yh(j,j.next)}}function TC(I,k){var j=k,ie=I.x,pe=I.y,Se=-1/0,Ie;do{if(pe<=j.y&&pe>=j.next.y&&j.next.y!==j.y){var $e=j.x+(pe-j.y)*(j.next.x-j.x)/(j.next.y-j.y);if($e<=ie&&$e>Se){if(Se=$e,$e===ie){if(pe===j.y)return j;if(pe===j.next.y)return j.next}Ie=j.x<j.next.x?j:j.next}}j=j.next}while(j!==k);if(!Ie)return null;if(ie===Se)return Ie;var ut=Ie,Tt=Ie.x,Mt=Ie.y,Gt=1/0,ir;j=Ie;do ie>=j.x&&j.x>=Tt&&ie!==j.x&&dd(pe<Mt?ie:Se,pe,Tt,Mt,pe<Mt?Se:ie,pe,j.x,j.y)&&(ir=Math.abs(pe-j.y)/(ie-j.x),Vp(j,I)&&(ir<Gt||ir===Gt&&(j.x>Ie.x||j.x===Ie.x&&AC(Ie,j)))&&(Ie=j,Gt=ir)),j=j.next;while(j!==ut);return Ie}function AC(I,k){return Ao(I.prev,I,k.prev)<0&&Ao(k.next,I,I.next)<0}function SC(I,k,j,ie){var pe=I;do pe.z===null&&(pe.z=V1(pe.x,pe.y,k,j,ie)),pe.prevZ=pe.prev,pe.nextZ=pe.next,pe=pe.next;while(pe!==I);pe.prevZ.nextZ=null,pe.prevZ=null,MC(pe)}function MC(I){var k,j,ie,pe,Se,Ie,$e,ut,Tt=1;do{for(j=I,I=null,Se=null,Ie=0;j;){for(Ie++,ie=j,$e=0,k=0;k<Tt&&($e++,ie=ie.nextZ,!!ie);k++);for(ut=Tt;$e>0||ut>0&&ie;)$e!==0&&(ut===0||!ie||j.z<=ie.z)?(pe=j,j=j.nextZ,$e--):(pe=ie,ie=ie.nextZ,ut--),Se?Se.nextZ=pe:I=pe,pe.prevZ=Se,Se=pe;j=ie}Se.nextZ=null,Tt*=2}while(Ie>1);return I}function V1(I,k,j,ie,pe){return I=32767*(I-j)*pe,k=32767*(k-ie)*pe,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,I|k<<1}function EC(I){var k=I,j=I;do(k.x<j.x||k.x===j.x&&k.y<j.y)&&(j=k),k=k.next;while(k!==I);return j}function dd(I,k,j,ie,pe,Se,Ie,$e){return(pe-Ie)*(k-$e)-(I-Ie)*(Se-$e)>=0&&(I-Ie)*(ie-$e)-(j-Ie)*(k-$e)>=0&&(j-Ie)*(Se-$e)-(pe-Ie)*(ie-$e)>=0}function CC(I,k){return I.next.i!==k.i&&I.prev.i!==k.i&&!LC(I,k)&&(Vp(I,k)&&Vp(k,I)&&PC(I,k)&&(Ao(I.prev,I,k.prev)||Ao(I,k.prev,k))||Dg(I,k)&&Ao(I.prev,I,I.next)>0&&Ao(k.prev,k,k.next)>0)}function Ao(I,k,j){return(k.y-I.y)*(j.x-k.x)-(k.x-I.x)*(j.y-k.y)}function Dg(I,k){return I.x===k.x&&I.y===k.y}function yw(I,k,j,ie){var pe=kg(Ao(I,k,j)),Se=kg(Ao(I,k,ie)),Ie=kg(Ao(j,ie,I)),$e=kg(Ao(j,ie,k));return!!(pe!==Se&&Ie!==$e||pe===0&&Ig(I,j,k)||Se===0&&Ig(I,ie,k)||Ie===0&&Ig(j,I,ie)||$e===0&&Ig(j,k,ie))}function Ig(I,k,j){return k.x<=Math.max(I.x,j.x)&&k.x>=Math.min(I.x,j.x)&&k.y<=Math.max(I.y,j.y)&&k.y>=Math.min(I.y,j.y)}function kg(I){return I>0?1:I<0?-1:0}function LC(I,k){var j=I;do{if(j.i!==I.i&&j.next.i!==I.i&&j.i!==k.i&&j.next.i!==k.i&&yw(j,j.next,I,k))return!0;j=j.next}while(j!==I);return!1}function Vp(I,k){return Ao(I.prev,I,I.next)<0?Ao(I,k,I.next)>=0&&Ao(I,I.prev,k)>=0:Ao(I,k,I.prev)<0||Ao(I,I.next,k)<0}function PC(I,k){var j=I,ie=!1,pe=(I.x+k.x)/2,Se=(I.y+k.y)/2;do j.y>Se!=j.next.y>Se&&j.next.y!==j.y&&pe<(j.next.x-j.x)*(Se-j.y)/(j.next.y-j.y)+j.x&&(ie=!ie),j=j.next;while(j!==I);return ie}function mw(I,k){var j=new G1(I.i,I.x,I.y),ie=new G1(k.i,k.x,k.y),pe=I.next,Se=k.prev;return I.next=k,k.prev=I,j.next=pe,pe.prev=j,ie.next=j,j.prev=ie,Se.next=ie,ie.prev=Se,ie}function xw(I,k,j,ie){var pe=new G1(I,k,j);return ie?(pe.next=ie.next,pe.prev=ie,ie.next.prev=pe,ie.next=pe):(pe.prev=pe,pe.next=pe),pe}function Gp(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function G1(I,k,j){this.i=I,this.x=k,this.y=j,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Rg.deviation=function(I,k,j,ie){var pe=k&&k.length,Se=pe?k[0]*j:I.length,Ie=Math.abs(W1(I,0,Se,j));if(pe)for(var $e=0,ut=k.length;$e<ut;$e++){var Tt=k[$e]*j,Mt=$e<ut-1?k[$e+1]*j:I.length;Ie-=Math.abs(W1(I,Tt,Mt,j))}var Gt=0;for($e=0;$e<ie.length;$e+=3){var ir=ie[$e]*j,Qt=ie[$e+1]*j,br=ie[$e+2]*j;Gt+=Math.abs((I[ir]-I[br])*(I[Qt+1]-I[ir+1])-(I[ir]-I[Qt])*(I[br+1]-I[ir+1]))}return Ie===0&&Gt===0?0:Math.abs((Gt-Ie)/Ie)};function W1(I,k,j,ie){for(var pe=0,Se=k,Ie=j-ie;Se<j;Se+=ie)pe+=(I[Ie]-I[Se])*(I[Se+1]+I[Ie+1]),Ie=Se;return pe}Rg.flatten=function(I){for(var k=I[0][0].length,j={vertices:[],holes:[],dimensions:k},ie=0,pe=0;pe<I.length;pe++){for(var Se=0;Se<I[pe].length;Se++)for(var Ie=0;Ie<k;Ie++)j.vertices.push(I[pe][Se][Ie]);pe>0&&(ie+=I[pe-1].length,j.holes.push(ie))}return j},H1.default=dC;function RC(I,k,j,ie,pe){bw(I,k,j||0,ie||I.length-1,pe||DC)}function bw(I,k,j,ie,pe){for(;ie>j;){if(ie-j>600){var Se=ie-j+1,Ie=k-j+1,$e=Math.log(Se),ut=.5*Math.exp(2*$e/3),Tt=.5*Math.sqrt($e*ut*(Se-ut)/Se)*(Ie-Se/2<0?-1:1),Mt=Math.max(j,Math.floor(k-Ie*ut/Se+Tt)),Gt=Math.min(ie,Math.floor(k+(Se-Ie)*ut/Se+Tt));bw(I,k,Mt,Gt,pe)}var ir=I[k],Qt=j,br=ie;for(Wp(I,j,k),pe(I[ie],ir)>0&&Wp(I,j,ie);Qt<br;){for(Wp(I,Qt,br),Qt++,br--;pe(I[Qt],ir)<0;)Qt++;for(;pe(I[br],ir)>0;)br--}pe(I[j],ir)===0?Wp(I,j,br):(br++,Wp(I,br,ie)),br<=k&&(j=br+1),k<=br&&(ie=br-1)}}function Wp(I,k,j){var ie=I[k];I[k]=I[j],I[j]=ie}function DC(I,k){return I<k?-1:I>k?1:0}function j1(I,k){var j=I.length;if(j<=1)return[I];for(var ie=[],pe,Se,Ie=0;Ie<j;Ie++){var $e=U(I[Ie]);$e!==0&&(I[Ie].area=Math.abs($e),Se===void 0&&(Se=$e<0),Se===$e<0?(pe&&ie.push(pe),pe=[I[Ie]]):pe.push(I[Ie]))}if(pe&&ie.push(pe),k>1)for(var ut=0;ut<ie.length;ut++)ie[ut].length<=k||(RC(ie[ut],k,1,ie[ut].length-1,IC),ie[ut]=ie[ut].slice(0,k));return ie}function IC(I,k){return k.area-I.area}function Y1(I,k,j){for(var ie=j.patternDependencies,pe=!1,Se=0,Ie=k;Se<Ie.length;Se+=1){var $e=Ie[Se],ut=$e.paint.get(I+"-pattern");ut.isConstant()||(pe=!0);var Tt=ut.constantOr(null);Tt&&(pe=!0,ie[Tt.to]=!0,ie[Tt.from]=!0)}return pe}function Z1(I,k,j,ie,pe){for(var Se=pe.patternDependencies,Ie=0,$e=k;Ie<$e.length;Ie+=1){var ut=$e[Ie],Tt=ut.paint.get(I+"-pattern"),Mt=Tt.value;if(Mt.kind!=="constant"){var Gt=Mt.evaluate({zoom:ie-1},j,{},pe.availableImages),ir=Mt.evaluate({zoom:ie},j,{},pe.availableImages),Qt=Mt.evaluate({zoom:ie+1},j,{},pe.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,ir=ir&&ir.name?ir.name:ir,Qt=Qt&&Qt.name?Qt.name:Qt,Se[Gt]=!0,Se[ir]=!0,Se[Qt]=!0,j.patterns[ut.id]={min:Gt,mid:ir,max:Qt}}}return j}var kC=500,sf=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(j){return j.id}),this.index=k.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new wv,this.indexArray=new af,this.indexArray2=new Sv,this.programConfigurations=new Ya(pw,k.layers,k.zoom),this.segments=new X,this.segments2=new X,this.stateDependentLayerIds=this.layers.filter(function(j){return j.isStateDependent()}).map(function(j){return j.id})};sf.prototype.populate=function(k,j,ie){this.hasPattern=Y1("fill",this.layers,j);for(var pe=this.layers[0].layout.get("fill-sort-key"),Se=[],Ie=0,$e=k;Ie<$e.length;Ie+=1){var ut=$e[Ie],Tt=ut.feature,Mt=ut.id,Gt=ut.index,ir=ut.sourceLayerIndex,Qt=this.layers[0]._featureFilter.needGeometry,br={type:Tt.type,id:Mt,properties:Tt.properties,geometry:Qt?Ti(Tt):[]};if(this.layers[0]._featureFilter.filter(new Gn(this.zoom),br,ie)){Qt||(br.geometry=Ti(Tt));var Nr=pe?pe.evaluate(br,{},ie,j.availableImages):void 0,un={id:Mt,properties:Tt.properties,type:Tt.type,sourceLayerIndex:ir,index:Gt,geometry:br.geometry,patterns:{},sortKey:Nr};Se.push(un)}}pe&&Se.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var en=0,Pn=Se;en<Pn.length;en+=1){var Tn=Pn[en],Ln=Tn,Fn=Ln.geometry,Wn=Ln.index,aa=Ln.sourceLayerIndex;if(this.hasPattern){var na=Z1("fill",this.layers,Tn,this.zoom,j);this.patternFeatures.push(na)}else this.addFeature(Tn,Fn,Wn,ie,{});var Pa=k[Wn].feature;j.featureIndex.insert(Pa,Fn,Wn,aa,this.index)}},sf.prototype.update=function(k,j,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,j,this.stateDependentLayers,ie)},sf.prototype.addFeatures=function(k,j,ie){for(var pe=0,Se=this.patternFeatures;pe<Se.length;pe+=1){var Ie=Se[pe];this.addFeature(Ie,Ie.geometry,Ie.index,j,ie)}},sf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},sf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},sf.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,pw),this.indexBuffer=k.createIndexBuffer(this.indexArray),this.indexBuffer2=k.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(k),this.uploaded=!0},sf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},sf.prototype.addFeature=function(k,j,ie,pe,Se){for(var Ie=0,$e=j1(j,kC);Ie<$e.length;Ie+=1){for(var ut=$e[Ie],Tt=0,Mt=0,Gt=ut;Mt<Gt.length;Mt+=1){var ir=Gt[Mt];Tt+=ir.length}for(var Qt=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray),br=Qt.vertexLength,Nr=[],un=[],en=0,Pn=ut;en<Pn.length;en+=1){var Tn=Pn[en];if(Tn.length!==0){Tn!==ut[0]&&un.push(Nr.length/2);var Ln=this.segments2.prepareSegment(Tn.length,this.layoutVertexArray,this.indexArray2),Fn=Ln.vertexLength;this.layoutVertexArray.emplaceBack(Tn[0].x,Tn[0].y),this.indexArray2.emplaceBack(Fn+Tn.length-1,Fn),Nr.push(Tn[0].x),Nr.push(Tn[0].y);for(var Wn=1;Wn<Tn.length;Wn++)this.layoutVertexArray.emplaceBack(Tn[Wn].x,Tn[Wn].y),this.indexArray2.emplaceBack(Fn+Wn-1,Fn+Wn),Nr.push(Tn[Wn].x),Nr.push(Tn[Wn].y);Ln.vertexLength+=Tn.length,Ln.primitiveLength+=Tn.length}}for(var aa=H1(Nr,un),na=0;na<aa.length;na+=3)this.indexArray.emplaceBack(br+aa[na],br+aa[na+1],br+aa[na+2]);Qt.vertexLength+=Tt,Qt.primitiveLength+=aa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,Se,pe)},fe("FillBucket",sf,{omit:["layers","patternFeatures"]});var FC=new vo({"fill-sort-key":new La(Yt.layout_fill["fill-sort-key"])}),_C=new vo({"fill-antialias":new xa(Yt.paint_fill["fill-antialias"]),"fill-opacity":new La(Yt.paint_fill["fill-opacity"]),"fill-color":new La(Yt.paint_fill["fill-color"]),"fill-outline-color":new La(Yt.paint_fill["fill-outline-color"]),"fill-translate":new xa(Yt.paint_fill["fill-translate"]),"fill-translate-anchor":new xa(Yt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ii(Yt.paint_fill["fill-pattern"])}),zC={paint:_C,layout:FC},OC=function(I){function k(j){I.call(this,j,zC)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.recalculate=function(ie,pe){I.prototype.recalculate.call(this,ie,pe);var Se=this.paint._values["fill-outline-color"];Se.value.kind==="constant"&&Se.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},k.prototype.createBucket=function(ie){return new sf(ie)},k.prototype.queryRadius=function(){return Mu(this.paint.get("fill-translate"))},k.prototype.queryIntersectsFeature=function(ie,pe,Se,Ie,$e,ut,Tt){var Mt=Jl(ie,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ut.angle,Tt);return ro(Mt,Ie)},k.prototype.isTileClipped=function(){return!0},k}(Ni),BC=ki([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ww=BC.members,Tw=pd;function pd(I,k,j,ie,pe){this.properties={},this.extent=j,this.type=0,this._pbf=I,this._geometry=-1,this._keys=ie,this._values=pe,I.readFields(NC,this,k)}function NC(I,k,j){I==1?k.id=j.readVarint():I==2?UC(j,k):I==3?k.type=j.readVarint():I==4&&(k._geometry=j.pos)}function UC(I,k){for(var j=I.readVarint()+I.pos;I.pos<j;){var ie=k._keys[I.readVarint()],pe=k._values[I.readVarint()];k.properties[ie]=pe}}pd.types=["Unknown","Point","LineString","Polygon"],pd.prototype.loadGeometry=function(){var I=this._pbf;I.pos=this._geometry;for(var k=I.readVarint()+I.pos,j=1,ie=0,pe=0,Se=0,Ie=[],$e;I.pos<k;){if(ie<=0){var ut=I.readVarint();j=ut&7,ie=ut>>3}if(ie--,j===1||j===2)pe+=I.readSVarint(),Se+=I.readSVarint(),j===1&&($e&&Ie.push($e),$e=[]),$e.push(new t(pe,Se));else if(j===7)$e&&$e.push($e[0].clone());else throw new Error("unknown command "+j)}return $e&&Ie.push($e),Ie},pd.prototype.bbox=function(){var I=this._pbf;I.pos=this._geometry;for(var k=I.readVarint()+I.pos,j=1,ie=0,pe=0,Se=0,Ie=1/0,$e=-1/0,ut=1/0,Tt=-1/0;I.pos<k;){if(ie<=0){var Mt=I.readVarint();j=Mt&7,ie=Mt>>3}if(ie--,j===1||j===2)pe+=I.readSVarint(),Se+=I.readSVarint(),pe<Ie&&(Ie=pe),pe>$e&&($e=pe),Se<ut&&(ut=Se),Se>Tt&&(Tt=Se);else if(j!==7)throw new Error("unknown command "+j)}return[Ie,ut,$e,Tt]},pd.prototype.toGeoJSON=function(I,k,j){var ie=this.extent*Math.pow(2,j),pe=this.extent*I,Se=this.extent*k,Ie=this.loadGeometry(),$e=pd.types[this.type],ut,Tt;function Mt(Qt){for(var br=0;br<Qt.length;br++){var Nr=Qt[br],un=180-(Nr.y+Se)*360/ie;Qt[br]=[(Nr.x+pe)*360/ie-180,360/Math.PI*Math.atan(Math.exp(un*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(ut=0;ut<Ie.length;ut++)Gt[ut]=Ie[ut][0];Ie=Gt,Mt(Ie);break;case 2:for(ut=0;ut<Ie.length;ut++)Mt(Ie[ut]);break;case 3:for(Ie=HC(Ie),ut=0;ut<Ie.length;ut++)for(Tt=0;Tt<Ie[ut].length;Tt++)Mt(Ie[ut][Tt]);break}Ie.length===1?Ie=Ie[0]:$e="Multi"+$e;var ir={type:"Feature",geometry:{type:$e,coordinates:Ie},properties:this.properties};return"id"in this&&(ir.id=this.id),ir};function HC(I){var k=I.length;if(k<=1)return[I];for(var j=[],ie,pe,Se=0;Se<k;Se++){var Ie=VC(I[Se]);Ie!==0&&(pe===void 0&&(pe=Ie<0),pe===Ie<0?(ie&&j.push(ie),ie=[I[Se]]):ie.push(I[Se]))}return ie&&j.push(ie),j}function VC(I){for(var k=0,j=0,ie=I.length,pe=ie-1,Se,Ie;j<ie;pe=j++)Se=I[j],Ie=I[pe],k+=(Ie.x-Se.x)*(Se.y+Ie.y);return k}var Aw=Sw;function Sw(I,k){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=I,this._keys=[],this._values=[],this._features=[],I.readFields(GC,this,k),this.length=this._features.length}function GC(I,k,j){I===15?k.version=j.readVarint():I===1?k.name=j.readString():I===5?k.extent=j.readVarint():I===2?k._features.push(j.pos):I===3?k._keys.push(j.readString()):I===4&&k._values.push(WC(j))}function WC(I){for(var k=null,j=I.readVarint()+I.pos;I.pos<j;){var ie=I.readVarint()>>3;k=ie===1?I.readString():ie===2?I.readFloat():ie===3?I.readDouble():ie===4?I.readVarint64():ie===5?I.readVarint():ie===6?I.readSVarint():ie===7?I.readBoolean():null}return k}Sw.prototype.feature=function(I){if(I<0||I>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[I];var k=this._pbf.readVarint()+this._pbf.pos;return new Tw(this._pbf,k,this.extent,this._keys,this._values)};var jC=YC;function YC(I,k){this.layers=I.readFields(ZC,{},k)}function ZC(I,k,j){if(I===3){var ie=new Aw(j,j.readVarint()+j.pos);ie.length&&(k[ie.name]=ie)}}var XC=jC,$C=Tw,KC=Aw,gd={VectorTile:XC,VectorTileFeature:$C,VectorTileLayer:KC},JC=gd.VectorTileFeature.types,QC=500,X1=Math.pow(2,13);function jp(I,k,j,ie,pe,Se,Ie,$e){I.emplaceBack(k,j,Math.floor(ie*X1)*2+Ie,pe*X1*2,Se*X1*2,Math.round($e))}var lf=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(j){return j.id}),this.index=k.index,this.hasPattern=!1,this.layoutVertexArray=new ch,this.indexArray=new af,this.programConfigurations=new Ya(ww,k.layers,k.zoom),this.segments=new X,this.stateDependentLayerIds=this.layers.filter(function(j){return j.isStateDependent()}).map(function(j){return j.id})};lf.prototype.populate=function(k,j,ie){this.features=[],this.hasPattern=Y1("fill-extrusion",this.layers,j);for(var pe=0,Se=k;pe<Se.length;pe+=1){var Ie=Se[pe],$e=Ie.feature,ut=Ie.id,Tt=Ie.index,Mt=Ie.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,ir={type:$e.type,id:ut,properties:$e.properties,geometry:Gt?Ti($e):[]};if(this.layers[0]._featureFilter.filter(new Gn(this.zoom),ir,ie)){var Qt={id:ut,sourceLayerIndex:Mt,index:Tt,geometry:Gt?ir.geometry:Ti($e),properties:$e.properties,type:$e.type,patterns:{}};typeof $e.id<"u"&&(Qt.id=$e.id),this.hasPattern?this.features.push(Z1("fill-extrusion",this.layers,Qt,this.zoom,j)):this.addFeature(Qt,Qt.geometry,Tt,ie,{}),j.featureIndex.insert($e,Qt.geometry,Tt,Mt,this.index,!0)}}},lf.prototype.addFeatures=function(k,j,ie){for(var pe=0,Se=this.features;pe<Se.length;pe+=1){var Ie=Se[pe],$e=Ie.geometry;this.addFeature(Ie,$e,Ie.index,j,ie)}},lf.prototype.update=function(k,j,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,j,this.stateDependentLayers,ie)},lf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},lf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},lf.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,ww),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},lf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},lf.prototype.addFeature=function(k,j,ie,pe,Se){for(var Ie=0,$e=j1(j,QC);Ie<$e.length;Ie+=1){for(var ut=$e[Ie],Tt=0,Mt=0,Gt=ut;Mt<Gt.length;Mt+=1){var ir=Gt[Mt];Tt+=ir.length}for(var Qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),br=0,Nr=ut;br<Nr.length;br+=1){var un=Nr[br];if(un.length!==0&&!e8(un))for(var en=0,Pn=0;Pn<un.length;Pn++){var Tn=un[Pn];if(Pn>=1){var Ln=un[Pn-1];if(!qC(Tn,Ln)){Qt.vertexLength+4>X.MAX_VERTEX_ARRAY_LENGTH&&(Qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Fn=Tn.sub(Ln)._perp()._unit(),Wn=Ln.dist(Tn);en+Wn>32768&&(en=0),jp(this.layoutVertexArray,Tn.x,Tn.y,Fn.x,Fn.y,0,0,en),jp(this.layoutVertexArray,Tn.x,Tn.y,Fn.x,Fn.y,0,1,en),en+=Wn,jp(this.layoutVertexArray,Ln.x,Ln.y,Fn.x,Fn.y,0,0,en),jp(this.layoutVertexArray,Ln.x,Ln.y,Fn.x,Fn.y,0,1,en);var aa=Qt.vertexLength;this.indexArray.emplaceBack(aa,aa+2,aa+1),this.indexArray.emplaceBack(aa+1,aa+2,aa+3),Qt.vertexLength+=4,Qt.primitiveLength+=2}}}}if(Qt.vertexLength+Tt>X.MAX_VERTEX_ARRAY_LENGTH&&(Qt=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray)),JC[k.type]==="Polygon"){for(var na=[],Pa=[],da=Qt.vertexLength,ba=0,Wa=ut;ba<Wa.length;ba+=1){var Ea=Wa[ba];if(Ea.length!==0){Ea!==ut[0]&&Pa.push(na.length/2);for(var Ca=0;Ca<Ea.length;Ca++){var Ja=Ea[Ca];jp(this.layoutVertexArray,Ja.x,Ja.y,0,0,1,1,0),na.push(Ja.x),na.push(Ja.y)}}}for(var Ha=H1(na,Pa),li=0;li<Ha.length;li+=3)this.indexArray.emplaceBack(da+Ha[li],da+Ha[li+2],da+Ha[li+1]);Qt.primitiveLength+=Ha.length/3,Qt.vertexLength+=Tt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,Se,pe)},fe("FillExtrusionBucket",lf,{omit:["layers","features"]});function qC(I,k){return I.x===k.x&&(I.x<0||I.x>Ia)||I.y===k.y&&(I.y<0||I.y>Ia)}function e8(I){return I.every(function(k){return k.x<0})||I.every(function(k){return k.x>Ia})||I.every(function(k){return k.y<0})||I.every(function(k){return k.y>Ia})}var t8=new vo({"fill-extrusion-opacity":new xa(Yt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new La(Yt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new xa(Yt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new xa(Yt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ii(Yt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new La(Yt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new La(Yt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new xa(Yt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),r8={paint:t8},n8=function(I){function k(j){I.call(this,j,r8)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.createBucket=function(ie){return new lf(ie)},k.prototype.queryRadius=function(){return Mu(this.paint.get("fill-extrusion-translate"))},k.prototype.is3D=function(){return!0},k.prototype.queryIntersectsFeature=function(ie,pe,Se,Ie,$e,ut,Tt,Mt){var Gt=Jl(ie,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ut.angle,Tt),ir=this.paint.get("fill-extrusion-height").evaluate(pe,Se),Qt=this.paint.get("fill-extrusion-base").evaluate(pe,Se),br=o8(Gt,Mt,ut,0),Nr=i8(Ie,Qt,ir,Mt),un=Nr[0],en=Nr[1];return a8(un,en,br)},k}(Ni);function Yp(I,k){return I.x*k.x+I.y*k.y}function Mw(I,k){if(I.length===1){for(var j=0,ie=k[j++],pe;!pe||ie.equals(pe);)if(pe=k[j++],!pe)return 1/0;for(;j<k.length;j++){var Se=k[j],Ie=I[0],$e=pe.sub(ie),ut=Se.sub(ie),Tt=Ie.sub(ie),Mt=Yp($e,$e),Gt=Yp($e,ut),ir=Yp(ut,ut),Qt=Yp(Tt,$e),br=Yp(Tt,ut),Nr=Mt*ir-Gt*Gt,un=(ir*Qt-Gt*br)/Nr,en=(Mt*br-Gt*Qt)/Nr,Pn=1-un-en,Tn=ie.z*Pn+pe.z*un+Se.z*en;if(isFinite(Tn))return Tn}return 1/0}else{for(var Ln=1/0,Fn=0,Wn=k;Fn<Wn.length;Fn+=1){var aa=Wn[Fn];Ln=Math.min(Ln,aa.z)}return Ln}}function a8(I,k,j){var ie=1/0;ro(j,k)&&(ie=Mw(j,k[0]));for(var pe=0;pe<k.length;pe++)for(var Se=k[pe],Ie=I[pe],$e=0;$e<Se.length-1;$e++){var ut=Se[$e],Tt=Se[$e+1],Mt=Ie[$e],Gt=Ie[$e+1],ir=[ut,Tt,Gt,Mt,ut];Za(j,ir)&&(ie=Math.min(ie,Mw(j,ir)))}return ie===1/0?!1:ie}function i8(I,k,j,ie){for(var pe=[],Se=[],Ie=ie[8]*k,$e=ie[9]*k,ut=ie[10]*k,Tt=ie[11]*k,Mt=ie[8]*j,Gt=ie[9]*j,ir=ie[10]*j,Qt=ie[11]*j,br=0,Nr=I;br<Nr.length;br+=1){for(var un=Nr[br],en=[],Pn=[],Tn=0,Ln=un;Tn<Ln.length;Tn+=1){var Fn=Ln[Tn],Wn=Fn.x,aa=Fn.y,na=ie[0]*Wn+ie[4]*aa+ie[12],Pa=ie[1]*Wn+ie[5]*aa+ie[13],da=ie[2]*Wn+ie[6]*aa+ie[14],ba=ie[3]*Wn+ie[7]*aa+ie[15],Wa=na+Ie,Ea=Pa+$e,Ca=da+ut,Ja=ba+Tt,Ha=na+Mt,li=Pa+Gt,Pi=da+ir,ui=ba+Qt,fi=new t(Wa/Ja,Ea/Ja);fi.z=Ca/Ja,en.push(fi);var ii=new t(Ha/ui,li/ui);ii.z=Pi/ui,Pn.push(ii)}pe.push(en),Se.push(Pn)}return[pe,Se]}function o8(I,k,j,ie){for(var pe=[],Se=0,Ie=I;Se<Ie.length;Se+=1){var $e=Ie[Se],ut=[$e.x,$e.y,ie,1];Pg(ut,ut,k),pe.push(new t(ut[0]/ut[3],ut[1]/ut[3]))}return pe}var s8=ki([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),Ew=s8.members,l8=gd.VectorTileFeature.types,Cw=63,u8=Math.cos(75/2*(Math.PI/180)),f8=15,c8=20,h8=15,Lw=1/2,Pw=Math.pow(2,h8-1)/Lw,Ys=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(j){return j.id}),this.index=k.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new id,this.indexArray=new af,this.programConfigurations=new Ya(Ew,k.layers,k.zoom),this.segments=new X,this.stateDependentLayerIds=this.layers.filter(function(j){return j.isStateDependent()}).map(function(j){return j.id})};Ys.prototype.populate=function(k,j,ie){this.hasPattern=Y1("line",this.layers,j);for(var pe=this.layers[0].layout.get("line-sort-key"),Se=[],Ie=0,$e=k;Ie<$e.length;Ie+=1){var ut=$e[Ie],Tt=ut.feature,Mt=ut.id,Gt=ut.index,ir=ut.sourceLayerIndex,Qt=this.layers[0]._featureFilter.needGeometry,br={type:Tt.type,id:Mt,properties:Tt.properties,geometry:Qt?Ti(Tt):[]};if(this.layers[0]._featureFilter.filter(new Gn(this.zoom),br,ie)){Qt||(br.geometry=Ti(Tt));var Nr=pe?pe.evaluate(br,{},ie):void 0,un={id:Mt,properties:Tt.properties,type:Tt.type,sourceLayerIndex:ir,index:Gt,geometry:br.geometry,patterns:{},sortKey:Nr};Se.push(un)}}pe&&Se.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var en=0,Pn=Se;en<Pn.length;en+=1){var Tn=Pn[en],Ln=Tn,Fn=Ln.geometry,Wn=Ln.index,aa=Ln.sourceLayerIndex;if(this.hasPattern){var na=Z1("line",this.layers,Tn,this.zoom,j);this.patternFeatures.push(na)}else this.addFeature(Tn,Fn,Wn,ie,{});var Pa=k[Wn].feature;j.featureIndex.insert(Pa,Fn,Wn,aa,this.index)}},Ys.prototype.update=function(k,j,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,j,this.stateDependentLayers,ie)},Ys.prototype.addFeatures=function(k,j,ie){for(var pe=0,Se=this.patternFeatures;pe<Se.length;pe+=1){var Ie=Se[pe];this.addFeature(Ie,Ie.geometry,Ie.index,j,ie)}},Ys.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ys.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ys.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,Ew),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},Ys.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ys.prototype.addFeature=function(k,j,ie,pe,Se){for(var Ie=this.layers[0].layout,$e=Ie.get("line-join").evaluate(k,{}),ut=Ie.get("line-cap"),Tt=Ie.get("line-miter-limit"),Mt=Ie.get("line-round-limit"),Gt=0,ir=j;Gt<ir.length;Gt+=1){var Qt=ir[Gt];this.addLine(Qt,k,$e,ut,Tt,Mt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,Se,pe)},Ys.prototype.addLine=function(k,j,ie,pe,Se,Ie){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,j.properties&&j.properties.hasOwnProperty("mapbox_clip_start")&&j.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+j.properties.mapbox_clip_start,this.clipEnd=+j.properties.mapbox_clip_end;for(var $e=0;$e<k.length-1;$e++)this.totalDistance+=k[$e].dist(k[$e+1]);this.updateScaledDistance()}for(var ut=l8[j.type]==="Polygon",Tt=k.length;Tt>=2&&k[Tt-1].equals(k[Tt-2]);)Tt--;for(var Mt=0;Mt<Tt-1&&k[Mt].equals(k[Mt+1]);)Mt++;if(!(Tt<(ut?3:2))){ie==="bevel"&&(Se=1.05);var Gt=this.overscaling<=16?f8*Ia/(512*this.overscaling):0,ir=this.segments.prepareSegment(Tt*10,this.layoutVertexArray,this.indexArray),Qt,br=void 0,Nr=void 0,un=void 0,en=void 0;this.e1=this.e2=-1,ut&&(Qt=k[Tt-2],en=k[Mt].sub(Qt)._unit()._perp());for(var Pn=Mt;Pn<Tt;Pn++)if(Nr=Pn===Tt-1?ut?k[Mt+1]:void 0:k[Pn+1],!(Nr&&k[Pn].equals(Nr))){en&&(un=en),Qt&&(br=Qt),Qt=k[Pn],en=Nr?Nr.sub(Qt)._unit()._perp():un,un=un||en;var Tn=un.add(en);(Tn.x!==0||Tn.y!==0)&&Tn._unit();var Ln=un.x*en.x+un.y*en.y,Fn=Tn.x*en.x+Tn.y*en.y,Wn=Fn!==0?1/Fn:1/0,aa=2*Math.sqrt(2-2*Fn),na=Fn<u8&&br&&Nr,Pa=un.x*en.y-un.y*en.x>0;if(na&&Pn>Mt){var da=Qt.dist(br);if(da>2*Gt){var ba=Qt.sub(Qt.sub(br)._mult(Gt/da)._round());this.updateDistance(br,ba),this.addCurrentVertex(ba,un,0,0,ir),br=ba}}var Wa=br&&Nr,Ea=Wa?ie:ut?"butt":pe;if(Wa&&Ea==="round"&&(Wn<Ie?Ea="miter":Wn<=2&&(Ea="fakeround")),Ea==="miter"&&Wn>Se&&(Ea="bevel"),Ea==="bevel"&&(Wn>2&&(Ea="flipbevel"),Wn<Se&&(Ea="miter")),br&&this.updateDistance(br,Qt),Ea==="miter")Tn._mult(Wn),this.addCurrentVertex(Qt,Tn,0,0,ir);else if(Ea==="flipbevel"){if(Wn>100)Tn=en.mult(-1);else{var Ca=Wn*un.add(en).mag()/un.sub(en).mag();Tn._perp()._mult(Ca*(Pa?-1:1))}this.addCurrentVertex(Qt,Tn,0,0,ir),this.addCurrentVertex(Qt,Tn.mult(-1),0,0,ir)}else if(Ea==="bevel"||Ea==="fakeround"){var Ja=-Math.sqrt(Wn*Wn-1),Ha=Pa?Ja:0,li=Pa?0:Ja;if(br&&this.addCurrentVertex(Qt,un,Ha,li,ir),Ea==="fakeround")for(var Pi=Math.round(aa*180/Math.PI/c8),ui=1;ui<Pi;ui++){var fi=ui/Pi;if(fi!==.5){var ii=fi-.5,Oi=1.0904+Ln*(-3.2452+Ln*(3.55645-Ln*1.43519)),Hi=.848013+Ln*(-1.06021+Ln*.215638);fi=fi+fi*ii*(fi-1)*(Oi*ii*ii+Hi)}var no=en.sub(un)._mult(fi)._add(un)._unit()._mult(Pa?-1:1);this.addHalfVertex(Qt,no.x,no.y,!1,Pa,0,ir)}Nr&&this.addCurrentVertex(Qt,en,-Ha,-li,ir)}else if(Ea==="butt")this.addCurrentVertex(Qt,Tn,0,0,ir);else if(Ea==="square"){var so=br?1:-1;this.addCurrentVertex(Qt,Tn,so,so,ir)}else Ea==="round"&&(br&&(this.addCurrentVertex(Qt,un,0,0,ir),this.addCurrentVertex(Qt,un,1,1,ir,!0)),Nr&&(this.addCurrentVertex(Qt,en,-1,-1,ir,!0),this.addCurrentVertex(Qt,en,0,0,ir)));if(na&&Pn<Tt-1){var Ho=Qt.dist(Nr);if(Ho>2*Gt){var Eo=Qt.add(Nr.sub(Qt)._mult(Gt/Ho)._round());this.updateDistance(Qt,Eo),this.addCurrentVertex(Eo,en,0,0,ir),Qt=Eo}}}}},Ys.prototype.addCurrentVertex=function(k,j,ie,pe,Se,Ie){Ie===void 0&&(Ie=!1);var $e=j.x+j.y*ie,ut=j.y-j.x*ie,Tt=-j.x+j.y*pe,Mt=-j.y-j.x*pe;this.addHalfVertex(k,$e,ut,Ie,!1,ie,Se),this.addHalfVertex(k,Tt,Mt,Ie,!0,-pe,Se),this.distance>Pw/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(k,j,ie,pe,Se,Ie))},Ys.prototype.addHalfVertex=function(k,j,ie,pe,Se,Ie,$e){var ut=k.x,Tt=k.y,Mt=this.scaledDistance*Lw;this.layoutVertexArray.emplaceBack((ut<<1)+(pe?1:0),(Tt<<1)+(Se?1:0),Math.round(Cw*j)+128,Math.round(Cw*ie)+128,(Ie===0?0:Ie<0?-1:1)+1|(Mt&63)<<2,Mt>>6);var Gt=$e.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Gt),$e.primitiveLength++),Se?this.e2=Gt:this.e1=Gt},Ys.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Pw-1):this.distance},Ys.prototype.updateDistance=function(k,j){this.distance+=k.dist(j),this.updateScaledDistance()},fe("LineBucket",Ys,{omit:["layers","patternFeatures"]});var v8=new vo({"line-cap":new xa(Yt.layout_line["line-cap"]),"line-join":new La(Yt.layout_line["line-join"]),"line-miter-limit":new xa(Yt.layout_line["line-miter-limit"]),"line-round-limit":new xa(Yt.layout_line["line-round-limit"]),"line-sort-key":new La(Yt.layout_line["line-sort-key"])}),d8=new vo({"line-opacity":new La(Yt.paint_line["line-opacity"]),"line-color":new La(Yt.paint_line["line-color"]),"line-translate":new xa(Yt.paint_line["line-translate"]),"line-translate-anchor":new xa(Yt.paint_line["line-translate-anchor"]),"line-width":new La(Yt.paint_line["line-width"]),"line-gap-width":new La(Yt.paint_line["line-gap-width"]),"line-offset":new La(Yt.paint_line["line-offset"]),"line-blur":new La(Yt.paint_line["line-blur"]),"line-dasharray":new eo(Yt.paint_line["line-dasharray"]),"line-pattern":new Ii(Yt.paint_line["line-pattern"]),"line-gradient":new is(Yt.paint_line["line-gradient"])}),Rw={paint:d8,layout:v8},p8=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.possiblyEvaluate=function(ie,pe){return pe=new Gn(Math.floor(pe.zoom),{now:pe.now,fadeDuration:pe.fadeDuration,zoomHistory:pe.zoomHistory,transition:pe.transition}),I.prototype.possiblyEvaluate.call(this,ie,pe)},k.prototype.evaluate=function(ie,pe,Se,Ie){return pe=u({},pe,{zoom:Math.floor(pe.zoom)}),I.prototype.evaluate.call(this,ie,pe,Se,Ie)},k}(La),Dw=new p8(Rw.paint.properties["line-width"].specification);Dw.useIntegerZoom=!0;var g8=function(I){function k(j){I.call(this,j,Rw)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="line-gradient"&&this._updateGradient()},k.prototype._updateGradient=function(){var ie=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=dw(ie,"lineProgress"),this.gradientTexture=null},k.prototype.recalculate=function(ie,pe){I.prototype.recalculate.call(this,ie,pe),this.paint._values["line-floorwidth"]=Dw.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ie)},k.prototype.createBucket=function(ie){return new Ys(ie)},k.prototype.queryRadius=function(ie){var pe=ie,Se=Iw(ul("line-width",this,pe),ul("line-gap-width",this,pe)),Ie=ul("line-offset",this,pe);return Se/2+Math.abs(Ie)+Mu(this.paint.get("line-translate"))},k.prototype.queryIntersectsFeature=function(ie,pe,Se,Ie,$e,ut,Tt){var Mt=Jl(ie,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ut.angle,Tt),Gt=Tt/2*Iw(this.paint.get("line-width").evaluate(pe,Se),this.paint.get("line-gap-width").evaluate(pe,Se)),ir=this.paint.get("line-offset").evaluate(pe,Se);return ir&&(Ie=y8(Ie,ir*Tt)),To(Mt,Ie,Gt)},k.prototype.isTileClipped=function(){return!0},k}(Ni);function Iw(I,k){return k>0?k+2*I:I}function y8(I,k){for(var j=[],ie=new t(0,0),pe=0;pe<I.length;pe++){for(var Se=I[pe],Ie=[],$e=0;$e<Se.length;$e++){var ut=Se[$e-1],Tt=Se[$e],Mt=Se[$e+1],Gt=$e===0?ie:Tt.sub(ut)._unit()._perp(),ir=$e===Se.length-1?ie:Mt.sub(Tt)._unit()._perp(),Qt=Gt._add(ir)._unit(),br=Qt.x*ir.x+Qt.y*ir.y;Qt._mult(1/br),Ie.push(Qt._mult(k)._add(Tt))}j.push(Ie)}return j}var $1=ki([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),m8=ki([{name:"a_projected_pos",components:3,type:"Float32"}],4);ki([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var x8=ki([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);ki([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var kw=ki([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),b8=ki([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);ki([{name:"triangle",components:3,type:"Uint16"}]),ki([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ki([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ki([{type:"Float32",name:"offsetX"}]),ki([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function w8(I,k,j){var ie=k.layout.get("text-transform").evaluate(j,{});return ie==="uppercase"?I=I.toLocaleUpperCase():ie==="lowercase"&&(I=I.toLocaleLowerCase()),si.applyArabicShaping&&(I=si.applyArabicShaping(I)),I}function T8(I,k,j){return I.sections.forEach(function(ie){ie.text=w8(ie.text,k,j)}),I}function A8(I){var k={},j={},ie=[],pe=0;function Se(en){ie.push(I[en]),pe++}function Ie(en,Pn,Tn){var Ln=j[en];return delete j[en],j[Pn]=Ln,ie[Ln].geometry[0].pop(),ie[Ln].geometry[0]=ie[Ln].geometry[0].concat(Tn[0]),Ln}function $e(en,Pn,Tn){var Ln=k[Pn];return delete k[Pn],k[en]=Ln,ie[Ln].geometry[0].shift(),ie[Ln].geometry[0]=Tn[0].concat(ie[Ln].geometry[0]),Ln}function ut(en,Pn,Tn){var Ln=Tn?Pn[0][Pn[0].length-1]:Pn[0][0];return en+":"+Ln.x+":"+Ln.y}for(var Tt=0;Tt<I.length;Tt++){var Mt=I[Tt],Gt=Mt.geometry,ir=Mt.text?Mt.text.toString():null;if(!ir){Se(Tt);continue}var Qt=ut(ir,Gt),br=ut(ir,Gt,!0);if(Qt in j&&br in k&&j[Qt]!==k[br]){var Nr=$e(Qt,br,Gt),un=Ie(Qt,br,ie[Nr].geometry);delete k[Qt],delete j[br],j[ut(ir,ie[un].geometry,!0)]=un,ie[Nr].geometry=null}else Qt in j?Ie(Qt,br,Gt):br in k?$e(Qt,br,Gt):(Se(Tt),k[Qt]=pe-1,j[br]=pe-1)}return ie.filter(function(en){return en.geometry})}var Zp={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function S8(I){for(var k="",j=0;j<I.length;j++){var ie=I.charCodeAt(j+1)||null,pe=I.charCodeAt(j-1)||null,Se=(!ie||!an(ie)||Zp[I[j+1]])&&(!pe||!an(pe)||Zp[I[j-1]]);Se&&Zp[I[j]]?k+=Zp[I[j]]:k+=I[j]}return k}var Jo=24,M8=function(I,k,j,ie,pe){var Se,Ie,$e=pe*8-ie-1,ut=(1<<$e)-1,Tt=ut>>1,Mt=-7,Gt=j?pe-1:0,ir=j?-1:1,Qt=I[k+Gt];for(Gt+=ir,Se=Qt&(1<<-Mt)-1,Qt>>=-Mt,Mt+=$e;Mt>0;Se=Se*256+I[k+Gt],Gt+=ir,Mt-=8);for(Ie=Se&(1<<-Mt)-1,Se>>=-Mt,Mt+=ie;Mt>0;Ie=Ie*256+I[k+Gt],Gt+=ir,Mt-=8);if(Se===0)Se=1-Tt;else{if(Se===ut)return Ie?NaN:(Qt?-1:1)*(1/0);Ie=Ie+Math.pow(2,ie),Se=Se-Tt}return(Qt?-1:1)*Ie*Math.pow(2,Se-ie)},E8=function(I,k,j,ie,pe,Se){var Ie,$e,ut,Tt=Se*8-pe-1,Mt=(1<<Tt)-1,Gt=Mt>>1,ir=pe===23?Math.pow(2,-24)-Math.pow(2,-77):0,Qt=ie?0:Se-1,br=ie?1:-1,Nr=k<0||k===0&&1/k<0?1:0;for(k=Math.abs(k),isNaN(k)||k===1/0?($e=isNaN(k)?1:0,Ie=Mt):(Ie=Math.floor(Math.log(k)/Math.LN2),k*(ut=Math.pow(2,-Ie))<1&&(Ie--,ut*=2),Ie+Gt>=1?k+=ir/ut:k+=ir*Math.pow(2,1-Gt),k*ut>=2&&(Ie++,ut/=2),Ie+Gt>=Mt?($e=0,Ie=Mt):Ie+Gt>=1?($e=(k*ut-1)*Math.pow(2,pe),Ie=Ie+Gt):($e=k*Math.pow(2,Gt-1)*Math.pow(2,pe),Ie=0));pe>=8;I[j+Qt]=$e&255,Qt+=br,$e/=256,pe-=8);for(Ie=Ie<<pe|$e,Tt+=pe;Tt>0;I[j+Qt]=Ie&255,Qt+=br,Ie/=256,Tt-=8);I[j+Qt-br]|=Nr*128},Fg={read:M8,write:E8},_g=Ui;function Ui(I){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(I)?I:new Uint8Array(I||0),this.pos=0,this.type=0,this.length=this.buf.length}Ui.Varint=0,Ui.Fixed64=1,Ui.Bytes=2,Ui.Fixed32=5;var K1=65536*65536,Fw=1/K1,C8=12,_w=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Ui.prototype={destroy:function(){this.buf=null},readFields:function(I,k,j){for(j=j||this.length;this.pos<j;){var ie=this.readVarint(),pe=ie>>3,Se=this.pos;this.type=ie&7,I(pe,k,this),this.pos===Se&&this.skip(ie)}return k},readMessage:function(I,k){return this.readFields(I,k,this.readVarint()+this.pos)},readFixed32:function(){var I=zg(this.buf,this.pos);return this.pos+=4,I},readSFixed32:function(){var I=Ow(this.buf,this.pos);return this.pos+=4,I},readFixed64:function(){var I=zg(this.buf,this.pos)+zg(this.buf,this.pos+4)*K1;return this.pos+=8,I},readSFixed64:function(){var I=zg(this.buf,this.pos)+Ow(this.buf,this.pos+4)*K1;return this.pos+=8,I},readFloat:function(){var I=Fg.read(this.buf,this.pos,!0,23,4);return this.pos+=4,I},readDouble:function(){var I=Fg.read(this.buf,this.pos,!0,52,8);return this.pos+=8,I},readVarint:function(I){var k=this.buf,j,ie;return ie=k[this.pos++],j=ie&127,ie<128||(ie=k[this.pos++],j|=(ie&127)<<7,ie<128)||(ie=k[this.pos++],j|=(ie&127)<<14,ie<128)||(ie=k[this.pos++],j|=(ie&127)<<21,ie<128)?j:(ie=k[this.pos],j|=(ie&15)<<28,L8(j,I,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var I=this.readVarint();return I%2===1?(I+1)/-2:I/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var I=this.readVarint()+this.pos,k=this.pos;return this.pos=I,I-k>=C8&&_w?V8(this.buf,k,I):H8(this.buf,k,I)},readBytes:function(){var I=this.readVarint()+this.pos,k=this.buf.subarray(this.pos,I);return this.pos=I,k},readPackedVarint:function(I,k){if(this.type!==Ui.Bytes)return I.push(this.readVarint(k));var j=Cc(this);for(I=I||[];this.pos<j;)I.push(this.readVarint(k));return I},readPackedSVarint:function(I){if(this.type!==Ui.Bytes)return I.push(this.readSVarint());var k=Cc(this);for(I=I||[];this.pos<k;)I.push(this.readSVarint());return I},readPackedBoolean:function(I){if(this.type!==Ui.Bytes)return I.push(this.readBoolean());var k=Cc(this);for(I=I||[];this.pos<k;)I.push(this.readBoolean());return I},readPackedFloat:function(I){if(this.type!==Ui.Bytes)return I.push(this.readFloat());var k=Cc(this);for(I=I||[];this.pos<k;)I.push(this.readFloat());return I},readPackedDouble:function(I){if(this.type!==Ui.Bytes)return I.push(this.readDouble());var k=Cc(this);for(I=I||[];this.pos<k;)I.push(this.readDouble());return I},readPackedFixed32:function(I){if(this.type!==Ui.Bytes)return I.push(this.readFixed32());var k=Cc(this);for(I=I||[];this.pos<k;)I.push(this.readFixed32());return I},readPackedSFixed32:function(I){if(this.type!==Ui.Bytes)return I.push(this.readSFixed32());var k=Cc(this);for(I=I||[];this.pos<k;)I.push(this.readSFixed32());return I},readPackedFixed64:function(I){if(this.type!==Ui.Bytes)return I.push(this.readFixed64());var k=Cc(this);for(I=I||[];this.pos<k;)I.push(this.readFixed64());return I},readPackedSFixed64:function(I){if(this.type!==Ui.Bytes)return I.push(this.readSFixed64());var k=Cc(this);for(I=I||[];this.pos<k;)I.push(this.readSFixed64());return I},skip:function(I){var k=I&7;if(k===Ui.Varint)for(;this.buf[this.pos++]>127;);else if(k===Ui.Bytes)this.pos=this.readVarint()+this.pos;else if(k===Ui.Fixed32)this.pos+=4;else if(k===Ui.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+k)},writeTag:function(I,k){this.writeVarint(I<<3|k)},realloc:function(I){for(var k=this.length||16;k<this.pos+I;)k*=2;if(k!==this.length){var j=new Uint8Array(k);j.set(this.buf),this.buf=j,this.length=k}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(I){this.realloc(4),md(this.buf,I,this.pos),this.pos+=4},writeSFixed32:function(I){this.realloc(4),md(this.buf,I,this.pos),this.pos+=4},writeFixed64:function(I){this.realloc(8),md(this.buf,I&-1,this.pos),md(this.buf,Math.floor(I*Fw),this.pos+4),this.pos+=8},writeSFixed64:function(I){this.realloc(8),md(this.buf,I&-1,this.pos),md(this.buf,Math.floor(I*Fw),this.pos+4),this.pos+=8},writeVarint:function(I){if(I=+I||0,I>268435455||I<0){P8(I,this);return}this.realloc(4),this.buf[this.pos++]=I&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=(I>>>=7)&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=(I>>>=7)&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=I>>>7&127)))},writeSVarint:function(I){this.writeVarint(I<0?-I*2-1:I*2)},writeBoolean:function(I){this.writeVarint(!!I)},writeString:function(I){I=String(I),this.realloc(I.length*4),this.pos++;var k=this.pos;this.pos=G8(this.buf,I,this.pos);var j=this.pos-k;j>=128&&zw(k,j,this),this.pos=k-1,this.writeVarint(j),this.pos+=j},writeFloat:function(I){this.realloc(4),Fg.write(this.buf,I,this.pos,!0,23,4),this.pos+=4},writeDouble:function(I){this.realloc(8),Fg.write(this.buf,I,this.pos,!0,52,8),this.pos+=8},writeBytes:function(I){var k=I.length;this.writeVarint(k),this.realloc(k);for(var j=0;j<k;j++)this.buf[this.pos++]=I[j]},writeRawMessage:function(I,k){this.pos++;var j=this.pos;I(k,this);var ie=this.pos-j;ie>=128&&zw(j,ie,this),this.pos=j-1,this.writeVarint(ie),this.pos+=ie},writeMessage:function(I,k,j){this.writeTag(I,Ui.Bytes),this.writeRawMessage(k,j)},writePackedVarint:function(I,k){k.length&&this.writeMessage(I,I8,k)},writePackedSVarint:function(I,k){k.length&&this.writeMessage(I,k8,k)},writePackedBoolean:function(I,k){k.length&&this.writeMessage(I,z8,k)},writePackedFloat:function(I,k){k.length&&this.writeMessage(I,F8,k)},writePackedDouble:function(I,k){k.length&&this.writeMessage(I,_8,k)},writePackedFixed32:function(I,k){k.length&&this.writeMessage(I,O8,k)},writePackedSFixed32:function(I,k){k.length&&this.writeMessage(I,B8,k)},writePackedFixed64:function(I,k){k.length&&this.writeMessage(I,N8,k)},writePackedSFixed64:function(I,k){k.length&&this.writeMessage(I,U8,k)},writeBytesField:function(I,k){this.writeTag(I,Ui.Bytes),this.writeBytes(k)},writeFixed32Field:function(I,k){this.writeTag(I,Ui.Fixed32),this.writeFixed32(k)},writeSFixed32Field:function(I,k){this.writeTag(I,Ui.Fixed32),this.writeSFixed32(k)},writeFixed64Field:function(I,k){this.writeTag(I,Ui.Fixed64),this.writeFixed64(k)},writeSFixed64Field:function(I,k){this.writeTag(I,Ui.Fixed64),this.writeSFixed64(k)},writeVarintField:function(I,k){this.writeTag(I,Ui.Varint),this.writeVarint(k)},writeSVarintField:function(I,k){this.writeTag(I,Ui.Varint),this.writeSVarint(k)},writeStringField:function(I,k){this.writeTag(I,Ui.Bytes),this.writeString(k)},writeFloatField:function(I,k){this.writeTag(I,Ui.Fixed32),this.writeFloat(k)},writeDoubleField:function(I,k){this.writeTag(I,Ui.Fixed64),this.writeDouble(k)},writeBooleanField:function(I,k){this.writeVarintField(I,!!k)}};function L8(I,k,j){var ie=j.buf,pe,Se;if(Se=ie[j.pos++],pe=(Se&112)>>4,Se<128||(Se=ie[j.pos++],pe|=(Se&127)<<3,Se<128)||(Se=ie[j.pos++],pe|=(Se&127)<<10,Se<128)||(Se=ie[j.pos++],pe|=(Se&127)<<17,Se<128)||(Se=ie[j.pos++],pe|=(Se&127)<<24,Se<128)||(Se=ie[j.pos++],pe|=(Se&1)<<31,Se<128))return yd(I,pe,k);throw new Error("Expected varint not more than 10 bytes")}function Cc(I){return I.type===Ui.Bytes?I.readVarint()+I.pos:I.pos+1}function yd(I,k,j){return j?k*4294967296+(I>>>0):(k>>>0)*4294967296+(I>>>0)}function P8(I,k){var j,ie;if(I>=0?(j=I%4294967296|0,ie=I/4294967296|0):(j=~(-I%4294967296),ie=~(-I/4294967296),j^4294967295?j=j+1|0:(j=0,ie=ie+1|0)),I>=18446744073709552e3||I<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");k.realloc(10),R8(j,ie,k),D8(ie,k)}function R8(I,k,j){j.buf[j.pos++]=I&127|128,I>>>=7,j.buf[j.pos++]=I&127|128,I>>>=7,j.buf[j.pos++]=I&127|128,I>>>=7,j.buf[j.pos++]=I&127|128,I>>>=7,j.buf[j.pos]=I&127}function D8(I,k){var j=(I&7)<<4;k.buf[k.pos++]|=j|((I>>>=3)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127)))))}function zw(I,k,j){var ie=k<=16383?1:k<=2097151?2:k<=268435455?3:Math.floor(Math.log(k)/(Math.LN2*7));j.realloc(ie);for(var pe=j.pos-1;pe>=I;pe--)j.buf[pe+ie]=j.buf[pe]}function I8(I,k){for(var j=0;j<I.length;j++)k.writeVarint(I[j])}function k8(I,k){for(var j=0;j<I.length;j++)k.writeSVarint(I[j])}function F8(I,k){for(var j=0;j<I.length;j++)k.writeFloat(I[j])}function _8(I,k){for(var j=0;j<I.length;j++)k.writeDouble(I[j])}function z8(I,k){for(var j=0;j<I.length;j++)k.writeBoolean(I[j])}function O8(I,k){for(var j=0;j<I.length;j++)k.writeFixed32(I[j])}function B8(I,k){for(var j=0;j<I.length;j++)k.writeSFixed32(I[j])}function N8(I,k){for(var j=0;j<I.length;j++)k.writeFixed64(I[j])}function U8(I,k){for(var j=0;j<I.length;j++)k.writeSFixed64(I[j])}function zg(I,k){return(I[k]|I[k+1]<<8|I[k+2]<<16)+I[k+3]*16777216}function md(I,k,j){I[j]=k,I[j+1]=k>>>8,I[j+2]=k>>>16,I[j+3]=k>>>24}function Ow(I,k){return(I[k]|I[k+1]<<8|I[k+2]<<16)+(I[k+3]<<24)}function H8(I,k,j){for(var ie="",pe=k;pe<j;){var Se=I[pe],Ie=null,$e=Se>239?4:Se>223?3:Se>191?2:1;if(pe+$e>j)break;var ut,Tt,Mt;$e===1?Se<128&&(Ie=Se):$e===2?(ut=I[pe+1],(ut&192)===128&&(Ie=(Se&31)<<6|ut&63,Ie<=127&&(Ie=null))):$e===3?(ut=I[pe+1],Tt=I[pe+2],(ut&192)===128&&(Tt&192)===128&&(Ie=(Se&15)<<12|(ut&63)<<6|Tt&63,(Ie<=2047||Ie>=55296&&Ie<=57343)&&(Ie=null))):$e===4&&(ut=I[pe+1],Tt=I[pe+2],Mt=I[pe+3],(ut&192)===128&&(Tt&192)===128&&(Mt&192)===128&&(Ie=(Se&15)<<18|(ut&63)<<12|(Tt&63)<<6|Mt&63,(Ie<=65535||Ie>=1114112)&&(Ie=null))),Ie===null?(Ie=65533,$e=1):Ie>65535&&(Ie-=65536,ie+=String.fromCharCode(Ie>>>10&1023|55296),Ie=56320|Ie&1023),ie+=String.fromCharCode(Ie),pe+=$e}return ie}function V8(I,k,j){return _w.decode(I.subarray(k,j))}function G8(I,k,j){for(var ie=0,pe,Se;ie<k.length;ie++){if(pe=k.charCodeAt(ie),pe>55295&&pe<57344)if(Se)if(pe<56320){I[j++]=239,I[j++]=191,I[j++]=189,Se=pe;continue}else pe=Se-55296<<10|pe-56320|65536,Se=null;else{pe>56319||ie+1===k.length?(I[j++]=239,I[j++]=191,I[j++]=189):Se=pe;continue}else Se&&(I[j++]=239,I[j++]=191,I[j++]=189,Se=null);pe<128?I[j++]=pe:(pe<2048?I[j++]=pe>>6|192:(pe<65536?I[j++]=pe>>12|224:(I[j++]=pe>>18|240,I[j++]=pe>>12&63|128),I[j++]=pe>>6&63|128),I[j++]=pe&63|128)}return j}var J1=3;function W8(I,k,j){I===1&&j.readMessage(j8,k)}function j8(I,k,j){if(I===3){var ie=j.readMessage(Y8,{}),pe=ie.id,Se=ie.bitmap,Ie=ie.width,$e=ie.height,ut=ie.left,Tt=ie.top,Mt=ie.advance;k.push({id:pe,bitmap:new Lv({width:Ie+2*J1,height:$e+2*J1},Se),metrics:{width:Ie,height:$e,left:ut,top:Tt,advance:Mt}})}}function Y8(I,k,j){I===1?k.id=j.readVarint():I===2?k.bitmap=j.readBytes():I===3?k.width=j.readVarint():I===4?k.height=j.readVarint():I===5?k.left=j.readSVarint():I===6?k.top=j.readSVarint():I===7&&(k.advance=j.readVarint())}function Z8(I){return new _g(I).readFields(W8,[])}var Bw=J1;function Nw(I){for(var k=0,j=0,ie=0,pe=I;ie<pe.length;ie+=1){var Se=pe[ie];k+=Se.w*Se.h,j=Math.max(j,Se.w)}I.sort(function(un,en){return en.h-un.h});for(var Ie=Math.max(Math.ceil(Math.sqrt(k/.95)),j),$e=[{x:0,y:0,w:Ie,h:1/0}],ut=0,Tt=0,Mt=0,Gt=I;Mt<Gt.length;Mt+=1)for(var ir=Gt[Mt],Qt=$e.length-1;Qt>=0;Qt--){var br=$e[Qt];if(!(ir.w>br.w||ir.h>br.h)){if(ir.x=br.x,ir.y=br.y,Tt=Math.max(Tt,ir.y+ir.h),ut=Math.max(ut,ir.x+ir.w),ir.w===br.w&&ir.h===br.h){var Nr=$e.pop();Qt<$e.length&&($e[Qt]=Nr)}else ir.h===br.h?(br.x+=ir.w,br.w-=ir.w):ir.w===br.w?(br.y+=ir.h,br.h-=ir.h):($e.push({x:br.x+ir.w,y:br.y,w:br.w-ir.w,h:ir.h}),br.y+=ir.h,br.h-=ir.h);break}}return{w:ut,h:Tt,fill:k/(ut*Tt)||0}}var fl=1,Og=function(k,j){var ie=j.pixelRatio,pe=j.version,Se=j.stretchX,Ie=j.stretchY,$e=j.content;this.paddedRect=k,this.pixelRatio=ie,this.stretchX=Se,this.stretchY=Ie,this.content=$e,this.version=pe},Xp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Xp.tl.get=function(){return[this.paddedRect.x+fl,this.paddedRect.y+fl]},Xp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-fl,this.paddedRect.y+this.paddedRect.h-fl]},Xp.tlbr.get=function(){return this.tl.concat(this.br)},Xp.displaySize.get=function(){return[(this.paddedRect.w-fl*2)/this.pixelRatio,(this.paddedRect.h-fl*2)/this.pixelRatio]},Object.defineProperties(Og.prototype,Xp);var $p=function(k,j){var ie={},pe={};this.haveRenderCallbacks=[];var Se=[];this.addImages(k,ie,Se),this.addImages(j,pe,Se);var Ie=Nw(Se),$e=Ie.w,ut=Ie.h,Tt=new js({width:$e||1,height:ut||1});for(var Mt in k){var Gt=k[Mt],ir=ie[Mt].paddedRect;js.copy(Gt.data,Tt,{x:0,y:0},{x:ir.x+fl,y:ir.y+fl},Gt.data)}for(var Qt in j){var br=j[Qt],Nr=pe[Qt].paddedRect,un=Nr.x+fl,en=Nr.y+fl,Pn=br.data.width,Tn=br.data.height;js.copy(br.data,Tt,{x:0,y:0},{x:un,y:en},br.data),js.copy(br.data,Tt,{x:0,y:Tn-1},{x:un,y:en-1},{width:Pn,height:1}),js.copy(br.data,Tt,{x:0,y:0},{x:un,y:en+Tn},{width:Pn,height:1}),js.copy(br.data,Tt,{x:Pn-1,y:0},{x:un-1,y:en},{width:1,height:Tn}),js.copy(br.data,Tt,{x:0,y:0},{x:un+Pn,y:en},{width:1,height:Tn})}this.image=Tt,this.iconPositions=ie,this.patternPositions=pe};$p.prototype.addImages=function(k,j,ie){for(var pe in k){var Se=k[pe],Ie={x:0,y:0,w:Se.data.width+2*fl,h:Se.data.height+2*fl};ie.push(Ie),j[pe]=new Og(Ie,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(pe)}},$p.prototype.patchUpdatedImages=function(k,j){k.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ie in k.updatedImages)this.patchUpdatedImage(this.iconPositions[ie],k.getImage(ie),j),this.patchUpdatedImage(this.patternPositions[ie],k.getImage(ie),j)},$p.prototype.patchUpdatedImage=function(k,j,ie){if(!(!k||!j)&&k.version!==j.version){k.version=j.version;var pe=k.tl,Se=pe[0],Ie=pe[1];ie.update(j.data,void 0,{x:Se,y:Ie})}},fe("ImagePosition",Og),fe("ImageAtlas",$p);var Pl={horizontal:1,vertical:2,horizontalOnly:3},Kp=-17;function X8(I){for(var k=0,j=I;k<j.length;k+=1){var ie=j[k];if(ie.positionedGlyphs.length!==0)return!1}return!0}var Uw=57344,Hw=63743,xd=function(){this.scale=1,this.fontStack="",this.imageName=null};xd.forText=function(k,j){var ie=new xd;return ie.scale=k||1,ie.fontStack=j,ie},xd.forImage=function(k){var j=new xd;return j.imageName=k,j};var ds=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};ds.fromFeature=function(k,j){for(var ie=new ds,pe=0;pe<k.sections.length;pe++){var Se=k.sections[pe];Se.image?ie.addImageSection(Se):ie.addTextSection(Se,j)}return ie},ds.prototype.length=function(){return this.text.length},ds.prototype.getSection=function(k){return this.sections[this.sectionIndex[k]]},ds.prototype.getSectionIndex=function(k){return this.sectionIndex[k]},ds.prototype.getCharCode=function(k){return this.text.charCodeAt(k)},ds.prototype.verticalizePunctuation=function(){this.text=S8(this.text)},ds.prototype.trim=function(){for(var k=0,j=0;j<this.text.length&&Uf[this.text.charCodeAt(j)];j++)k++;for(var ie=this.text.length,pe=this.text.length-1;pe>=0&&pe>=k&&Uf[this.text.charCodeAt(pe)];pe--)ie--;this.text=this.text.substring(k,ie),this.sectionIndex=this.sectionIndex.slice(k,ie)},ds.prototype.substring=function(k,j){var ie=new ds;return ie.text=this.text.substring(k,j),ie.sectionIndex=this.sectionIndex.slice(k,j),ie.sections=this.sections,ie},ds.prototype.toString=function(){return this.text},ds.prototype.getMaxScale=function(){var k=this;return this.sectionIndex.reduce(function(j,ie){return Math.max(j,k.sections[ie].scale)},0)},ds.prototype.addTextSection=function(k,j){this.text+=k.text,this.sections.push(xd.forText(k.scale,k.fontStack||j));for(var ie=this.sections.length-1,pe=0;pe<k.text.length;++pe)this.sectionIndex.push(ie)},ds.prototype.addImageSection=function(k){var j=k.image?k.image.name:"";if(j.length===0){V("Can't add FormattedSection with an empty image.");return}var ie=this.getNextImageSectionCharCode();if(!ie){V("Reached maximum number of images "+(Hw-Uw+2));return}this.text+=String.fromCharCode(ie),this.sections.push(xd.forImage(j)),this.sectionIndex.push(this.sections.length-1)},ds.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Hw?null:++this.imageSectionID:(this.imageSectionID=Uw,this.imageSectionID)};function $8(I,k){for(var j=[],ie=I.text,pe=0,Se=0,Ie=k;Se<Ie.length;Se+=1){var $e=Ie[Se];j.push(I.substring(pe,$e)),pe=$e}return pe<ie.length&&j.push(I.substring(pe,ie.length)),j}function Bg(I,k,j,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br,Nr){var un=ds.fromFeature(I,pe);Gt===Pl.vertical&&un.verticalizePunctuation();var en,Pn=si.processBidirectionalText,Tn=si.processStyledBidirectionalText;if(Pn&&un.sections.length===1){en=[];for(var Ln=Pn(un.toString(),Q1(un,Tt,Se,k,ie,Qt,br)),Fn=0,Wn=Ln;Fn<Wn.length;Fn+=1){var aa=Wn[Fn],na=new ds;na.text=aa,na.sections=un.sections;for(var Pa=0;Pa<aa.length;Pa++)na.sectionIndex.push(0);en.push(na)}}else if(Tn){en=[];for(var da=Tn(un.text,un.sectionIndex,Q1(un,Tt,Se,k,ie,Qt,br)),ba=0,Wa=da;ba<Wa.length;ba+=1){var Ea=Wa[ba],Ca=new ds;Ca.text=Ea[0],Ca.sectionIndex=Ea[1],Ca.sections=un.sections,en.push(Ca)}}else en=$8(un,Q1(un,Tt,Se,k,ie,Qt,br));var Ja=[],Ha={positionedLines:Ja,text:un.toString(),top:Mt[1],bottom:Mt[1],left:Mt[0],right:Mt[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return Q8(Ha,k,j,ie,en,Ie,$e,ut,Gt,Tt,ir,Nr),X8(Ja)?!1:Ha}var Uf={};Uf[9]=!0,Uf[10]=!0,Uf[11]=!0,Uf[12]=!0,Uf[13]=!0,Uf[32]=!0;var cl={};cl[10]=!0,cl[32]=!0,cl[38]=!0,cl[40]=!0,cl[41]=!0,cl[43]=!0,cl[45]=!0,cl[47]=!0,cl[173]=!0,cl[183]=!0,cl[8203]=!0,cl[8208]=!0,cl[8211]=!0,cl[8231]=!0;function Vw(I,k,j,ie,pe,Se){if(k.imageName){var ut=ie[k.imageName];return ut?ut.displaySize[0]*k.scale*Jo/Se+pe:0}else{var Ie=j[k.fontStack],$e=Ie&&Ie[I];return $e?$e.metrics.advance*k.scale+pe:0}}function K8(I,k,j,ie,pe,Se){for(var Ie=0,$e=0;$e<I.length();$e++){var ut=I.getSection($e);Ie+=Vw(I.getCharCode($e),ut,ie,pe,k,Se)}var Tt=Math.max(1,Math.ceil(Ie/j));return Ie/Tt}function Gw(I,k,j,ie){var pe=Math.pow(I-k,2);return ie?I<k?pe/2:pe*2:pe+Math.abs(j)*j}function J8(I,k,j){var ie=0;return I===10&&(ie-=1e4),j&&(ie+=150),(I===40||I===65288)&&(ie+=50),(k===41||k===65289)&&(ie+=50),ie}function Ww(I,k,j,ie,pe,Se){for(var Ie=null,$e=Gw(k,j,pe,Se),ut=0,Tt=ie;ut<Tt.length;ut+=1){var Mt=Tt[ut],Gt=k-Mt.x,ir=Gw(Gt,j,pe,Se)+Mt.badness;ir<=$e&&(Ie=Mt,$e=ir)}return{index:I,x:k,priorBreak:Ie,badness:$e}}function jw(I){return I?jw(I.priorBreak).concat(I.index):[]}function Q1(I,k,j,ie,pe,Se,Ie){if(Se!=="point")return[];if(!I)return[];for(var $e=[],ut=K8(I,k,j,ie,pe,Ie),Tt=I.text.indexOf("​")>=0,Mt=0,Gt=0;Gt<I.length();Gt++){var ir=I.getSection(Gt),Qt=I.getCharCode(Gt);if(Uf[Qt]||(Mt+=Vw(Qt,ir,ie,pe,k,Ie)),Gt<I.length()-1){var br=Rr(Qt);(cl[Qt]||br||ir.imageName)&&$e.push(Ww(Gt+1,Mt,ut,$e,J8(Qt,I.getCharCode(Gt+1),br&&Tt),!1))}}return jw(Ww(I.length(),Mt,ut,$e,0,!0))}function q1(I){var k=.5,j=.5;switch(I){case"right":case"top-right":case"bottom-right":k=1;break;case"left":case"top-left":case"bottom-left":k=0;break}switch(I){case"bottom":case"bottom-right":case"bottom-left":j=1;break;case"top":case"top-right":case"top-left":j=0;break}return{horizontalAlign:k,verticalAlign:j}}function Q8(I,k,j,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt){for(var ir=0,Qt=Kp,br=0,Nr=0,un=$e==="right"?1:$e==="left"?0:.5,en=0,Pn=0,Tn=pe;Pn<Tn.length;Pn+=1){var Ln=Tn[Pn];Ln.trim();var Fn=Ln.getMaxScale(),Wn=(Fn-1)*Jo,aa={positionedGlyphs:[],lineOffset:0};I.positionedLines[en]=aa;var na=aa.positionedGlyphs,Pa=0;if(!Ln.length()){Qt+=Se,++en;continue}for(var da=0;da<Ln.length();da++){var ba=Ln.getSection(da),Wa=Ln.getSectionIndex(da),Ea=Ln.getCharCode(da),Ca=0,Ja=null,Ha=null,li=null,Pi=Jo,ui=!(ut===Pl.horizontal||!Mt&&!Lr(Ea)||Mt&&(Uf[Ea]||kr(Ea)));if(ba.imageName){var no=ie[ba.imageName];if(!no)continue;li=ba.imageName,I.iconsInText=I.iconsInText||!0,Ha=no.paddedRect;var so=no.displaySize;ba.scale=ba.scale*Jo/Gt,Ja={width:so[0],height:so[1],left:fl,top:-Bw,advance:ui?so[1]:so[0]};var Ho=Jo-so[1]*ba.scale;Ca=Wn+Ho,Pi=Ja.advance;var Eo=ui?so[0]*ba.scale-Jo*Fn:so[1]*ba.scale-Jo*Fn;Eo>0&&Eo>Pa&&(Pa=Eo)}else{var fi=j[ba.fontStack],ii=fi&&fi[Ea];if(ii&&ii.rect)Ha=ii.rect,Ja=ii.metrics;else{var Oi=k[ba.fontStack],Hi=Oi&&Oi[Ea];if(!Hi)continue;Ja=Hi.metrics}Ca=(Fn-ba.scale)*Jo}ui?(I.verticalizable=!0,na.push({glyph:Ea,imageName:li,x:ir,y:Qt+Ca,vertical:ui,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Wa,metrics:Ja,rect:Ha}),ir+=Pi*ba.scale+Tt):(na.push({glyph:Ea,imageName:li,x:ir,y:Qt+Ca,vertical:ui,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Wa,metrics:Ja,rect:Ha}),ir+=Ja.advance*ba.scale+Tt)}if(na.length!==0){var ps=ir-Tt;br=Math.max(ps,br),q8(na,0,na.length-1,un,Pa)}ir=0;var gs=Se*Fn+Pa;aa.lineOffset=Math.max(Pa,Wn),Qt+=gs,Nr=Math.max(gs,Nr),++en}var Vo=Qt-Kp,Es=q1(Ie),Cs=Es.horizontalAlign,ko=Es.verticalAlign;eL(I.positionedLines,un,Cs,ko,br,Nr,Se,Vo,pe.length),I.top+=-ko*Vo,I.bottom=I.top+Vo,I.left+=-Cs*br,I.right=I.left+br}function q8(I,k,j,ie,pe){if(!(!ie&&!pe))for(var Se=I[j],Ie=Se.metrics.advance*Se.scale,$e=(I[j].x+Ie)*ie,ut=k;ut<=j;ut++)I[ut].x-=$e,I[ut].y+=pe}function eL(I,k,j,ie,pe,Se,Ie,$e,ut){var Tt=(k-j)*pe,Mt=0;Se!==Ie?Mt=-$e*ie-Kp:Mt=(-ie*ut+.5)*Ie;for(var Gt=0,ir=I;Gt<ir.length;Gt+=1)for(var Qt=ir[Gt],br=0,Nr=Qt.positionedGlyphs;br<Nr.length;br+=1){var un=Nr[br];un.x+=Tt,un.y+=Mt}}function tL(I,k,j){var ie=q1(j),pe=ie.horizontalAlign,Se=ie.verticalAlign,Ie=k[0],$e=k[1],ut=Ie-I.displaySize[0]*pe,Tt=ut+I.displaySize[0],Mt=$e-I.displaySize[1]*Se,Gt=Mt+I.displaySize[1];return{image:I,top:Mt,bottom:Gt,left:ut,right:Tt}}function Yw(I,k,j,ie,pe,Se){var Ie=I.image,$e;if(Ie.content){var ut=Ie.content,Tt=Ie.pixelRatio||1;$e=[ut[0]/Tt,ut[1]/Tt,Ie.displaySize[0]-ut[2]/Tt,Ie.displaySize[1]-ut[3]/Tt]}var Mt=k.left*Se,Gt=k.right*Se,ir,Qt,br,Nr;j==="width"||j==="both"?(Nr=pe[0]+Mt-ie[3],Qt=pe[0]+Gt+ie[1]):(Nr=pe[0]+(Mt+Gt-Ie.displaySize[0])/2,Qt=Nr+Ie.displaySize[0]);var un=k.top*Se,en=k.bottom*Se;return j==="height"||j==="both"?(ir=pe[1]+un-ie[0],br=pe[1]+en+ie[2]):(ir=pe[1]+(un+en-Ie.displaySize[1])/2,br=ir+Ie.displaySize[1]),{image:Ie,top:ir,right:Qt,bottom:br,left:Nr,collisionPadding:$e}}var bd=function(I){function k(j,ie,pe,Se){I.call(this,j,ie),this.angle=pe,Se!==void 0&&(this.segment=Se)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.clone=function(){return new k(this.x,this.y,this.angle,this.segment)},k}(t);fe("Anchor",bd);var uf=128;function ex(I,k){var j=k.expression;if(j.kind==="constant"){var ie=j.evaluate(new Gn(I+1));return{kind:"constant",layoutSize:ie}}else{if(j.kind==="source")return{kind:"source"};for(var pe=j.zoomStops,Se=j.interpolationType,Ie=0;Ie<pe.length&&pe[Ie]<=I;)Ie++;Ie=Math.max(0,Ie-1);for(var $e=Ie;$e<pe.length&&pe[$e]<I+1;)$e++;$e=Math.min(pe.length-1,$e);var ut=pe[Ie],Tt=pe[$e];if(j.kind==="composite")return{kind:"composite",minZoom:ut,maxZoom:Tt,interpolationType:Se};var Mt=j.evaluate(new Gn(ut)),Gt=j.evaluate(new Gn(Tt));return{kind:"camera",minZoom:ut,maxZoom:Tt,minSize:Mt,maxSize:Gt,interpolationType:Se}}}function Zw(I,k,j){var ie=k.uSize,pe=k.uSizeT,Se=j.lowerSize,Ie=j.upperSize;return I.kind==="source"?Se/uf:I.kind==="composite"?$i(Se/uf,Ie/uf,pe):ie}function Xw(I,k){var j=0,ie=0;if(I.kind==="constant")ie=I.layoutSize;else if(I.kind!=="source"){var pe=I.interpolationType,Se=I.minZoom,Ie=I.maxZoom,$e=pe?f(Qi.interpolationFactor(pe,k,Se,Ie),0,1):0;I.kind==="camera"?ie=$i(I.minSize,I.maxSize,$e):j=$e}return{uSizeT:j,uSize:ie}}var rL=Object.freeze({__proto__:null,getSizeData:ex,evaluateSizeForFeature:Zw,evaluateSizeForZoom:Xw,SIZE_PACK_FACTOR:uf});function $w(I,k,j,ie,pe){if(k.segment===void 0)return!0;for(var Se=k,Ie=k.segment+1,$e=0;$e>-j/2;){if(Ie--,Ie<0)return!1;$e-=I[Ie].dist(Se),Se=I[Ie]}$e+=I[Ie].dist(I[Ie+1]),Ie++;for(var ut=[],Tt=0;$e<j/2;){var Mt=I[Ie-1],Gt=I[Ie],ir=I[Ie+1];if(!ir)return!1;var Qt=Mt.angleTo(Gt)-Gt.angleTo(ir);for(Qt=Math.abs((Qt+3*Math.PI)%(Math.PI*2)-Math.PI),ut.push({distance:$e,angleDelta:Qt}),Tt+=Qt;$e-ut[0].distance>ie;)Tt-=ut.shift().angleDelta;if(Tt>pe)return!1;Ie++,$e+=Gt.dist(ir)}return!0}function Kw(I){for(var k=0,j=0;j<I.length-1;j++)k+=I[j].dist(I[j+1]);return k}function Jw(I,k,j){return I?.6*k*j:0}function Qw(I,k){return Math.max(I?I.right-I.left:0,k?k.right-k.left:0)}function nL(I,k,j,ie,pe,Se){for(var Ie=Jw(j,pe,Se),$e=Qw(j,ie)*Se,ut=0,Tt=Kw(I)/2,Mt=0;Mt<I.length-1;Mt++){var Gt=I[Mt],ir=I[Mt+1],Qt=Gt.dist(ir);if(ut+Qt>Tt){var br=(Tt-ut)/Qt,Nr=$i(Gt.x,ir.x,br),un=$i(Gt.y,ir.y,br),en=new bd(Nr,un,ir.angleTo(Gt),Mt);return en._round(),!Ie||$w(I,en,$e,Ie,k)?en:void 0}ut+=Qt}}function aL(I,k,j,ie,pe,Se,Ie,$e,ut){var Tt=Jw(ie,Se,Ie),Mt=Qw(ie,pe),Gt=Mt*Ie,ir=I[0].x===0||I[0].x===ut||I[0].y===0||I[0].y===ut;k-Gt<k/4&&(k=Gt+k/4);var Qt=Se*2,br=ir?k/2*$e%k:(Mt/2+Qt)*Ie*$e%k;return qw(I,br,k,Tt,j,Gt,ir,!1,ut)}function qw(I,k,j,ie,pe,Se,Ie,$e,ut){for(var Tt=Se/2,Mt=Kw(I),Gt=0,ir=k-j,Qt=[],br=0;br<I.length-1;br++){for(var Nr=I[br],un=I[br+1],en=Nr.dist(un),Pn=un.angleTo(Nr);ir+j<Gt+en;){ir+=j;var Tn=(ir-Gt)/en,Ln=$i(Nr.x,un.x,Tn),Fn=$i(Nr.y,un.y,Tn);if(Ln>=0&&Ln<ut&&Fn>=0&&Fn<ut&&ir-Tt>=0&&ir+Tt<=Mt){var Wn=new bd(Ln,Fn,Pn,br);Wn._round(),(!ie||$w(I,Wn,Se,ie,pe))&&Qt.push(Wn)}}Gt+=en}return!$e&&!Qt.length&&!Ie&&(Qt=qw(I,Gt/2,j,ie,pe,Se,Ie,!0,ut)),Qt}function eT(I,k,j,ie,pe){for(var Se=[],Ie=0;Ie<I.length;Ie++)for(var $e=I[Ie],ut=void 0,Tt=0;Tt<$e.length-1;Tt++){var Mt=$e[Tt],Gt=$e[Tt+1];Mt.x<k&&Gt.x<k||(Mt.x<k?Mt=new t(k,Mt.y+(Gt.y-Mt.y)*((k-Mt.x)/(Gt.x-Mt.x)))._round():Gt.x<k&&(Gt=new t(k,Mt.y+(Gt.y-Mt.y)*((k-Mt.x)/(Gt.x-Mt.x)))._round()),!(Mt.y<j&&Gt.y<j)&&(Mt.y<j?Mt=new t(Mt.x+(Gt.x-Mt.x)*((j-Mt.y)/(Gt.y-Mt.y)),j)._round():Gt.y<j&&(Gt=new t(Mt.x+(Gt.x-Mt.x)*((j-Mt.y)/(Gt.y-Mt.y)),j)._round()),!(Mt.x>=ie&&Gt.x>=ie)&&(Mt.x>=ie?Mt=new t(ie,Mt.y+(Gt.y-Mt.y)*((ie-Mt.x)/(Gt.x-Mt.x)))._round():Gt.x>=ie&&(Gt=new t(ie,Mt.y+(Gt.y-Mt.y)*((ie-Mt.x)/(Gt.x-Mt.x)))._round()),!(Mt.y>=pe&&Gt.y>=pe)&&(Mt.y>=pe?Mt=new t(Mt.x+(Gt.x-Mt.x)*((pe-Mt.y)/(Gt.y-Mt.y)),pe)._round():Gt.y>=pe&&(Gt=new t(Mt.x+(Gt.x-Mt.x)*((pe-Mt.y)/(Gt.y-Mt.y)),pe)._round()),(!ut||!Mt.equals(ut[ut.length-1]))&&(ut=[Mt],Se.push(ut)),ut.push(Gt)))))}return Se}var wd=fl;function tT(I,k,j,ie){var pe=[],Se=I.image,Ie=Se.pixelRatio,$e=Se.paddedRect.w-2*wd,ut=Se.paddedRect.h-2*wd,Tt=I.right-I.left,Mt=I.bottom-I.top,Gt=Se.stretchX||[[0,$e]],ir=Se.stretchY||[[0,ut]],Qt=function(fi,ii){return fi+ii[1]-ii[0]},br=Gt.reduce(Qt,0),Nr=ir.reduce(Qt,0),un=$e-br,en=ut-Nr,Pn=0,Tn=br,Ln=0,Fn=Nr,Wn=0,aa=un,na=0,Pa=en;if(Se.content&&ie){var da=Se.content;Pn=Ng(Gt,0,da[0]),Ln=Ng(ir,0,da[1]),Tn=Ng(Gt,da[0],da[2]),Fn=Ng(ir,da[1],da[3]),Wn=da[0]-Pn,na=da[1]-Ln,aa=da[2]-da[0]-Tn,Pa=da[3]-da[1]-Fn}var ba=function(fi,ii,Oi,Hi){var no=Ug(fi.stretch-Pn,Tn,Tt,I.left),so=Hg(fi.fixed-Wn,aa,fi.stretch,br),Ho=Ug(ii.stretch-Ln,Fn,Mt,I.top),Eo=Hg(ii.fixed-na,Pa,ii.stretch,Nr),ps=Ug(Oi.stretch-Pn,Tn,Tt,I.left),gs=Hg(Oi.fixed-Wn,aa,Oi.stretch,br),Vo=Ug(Hi.stretch-Ln,Fn,Mt,I.top),Es=Hg(Hi.fixed-na,Pa,Hi.stretch,Nr),Cs=new t(no,Ho),ko=new t(ps,Ho),Ls=new t(ps,Vo),Rl=new t(no,Vo),Rc=new t(so/Ie,Eo/Ie),bh=new t(gs/Ie,Es/Ie),wh=k*Math.PI/180;if(wh){var Th=Math.sin(wh),Pd=Math.cos(wh),Cu=[Pd,-Th,Th,Pd];Cs._matMult(Cu),ko._matMult(Cu),Rl._matMult(Cu),Ls._matMult(Cu)}var Zg=fi.stretch+fi.fixed,lx=Oi.stretch+Oi.fixed,Xg=ii.stretch+ii.fixed,ux=Hi.stretch+Hi.fixed,Ql={x:Se.paddedRect.x+wd+Zg,y:Se.paddedRect.y+wd+Xg,w:lx-Zg,h:ux-Xg},Rd=aa/Ie/Tt,$g=Pa/Ie/Mt;return{tl:Cs,tr:ko,bl:Rl,br:Ls,tex:Ql,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Rc,pixelOffsetBR:bh,minFontScaleX:Rd,minFontScaleY:$g,isSDF:j}};if(!ie||!Se.stretchX&&!Se.stretchY)pe.push(ba({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:$e+1},{fixed:0,stretch:ut+1}));else for(var Wa=rT(Gt,un,br),Ea=rT(ir,en,Nr),Ca=0;Ca<Wa.length-1;Ca++)for(var Ja=Wa[Ca],Ha=Wa[Ca+1],li=0;li<Ea.length-1;li++){var Pi=Ea[li],ui=Ea[li+1];pe.push(ba(Ja,Pi,Ha,ui))}return pe}function Ng(I,k,j){for(var ie=0,pe=0,Se=I;pe<Se.length;pe+=1){var Ie=Se[pe];ie+=Math.max(k,Math.min(j,Ie[1]))-Math.max(k,Math.min(j,Ie[0]))}return ie}function rT(I,k,j){for(var ie=[{fixed:-wd,stretch:0}],pe=0,Se=I;pe<Se.length;pe+=1){var Ie=Se[pe],$e=Ie[0],ut=Ie[1],Tt=ie[ie.length-1];ie.push({fixed:$e-Tt.stretch,stretch:Tt.stretch}),ie.push({fixed:$e-Tt.stretch,stretch:Tt.stretch+(ut-$e)})}return ie.push({fixed:k+wd,stretch:j}),ie}function Ug(I,k,j,ie){return I/k*j+ie}function Hg(I,k,j,ie){return I-k*j/ie}function iL(I,k,j,ie,pe,Se,Ie,$e){for(var ut=ie.layout.get("text-rotate").evaluate(Se,{})*Math.PI/180,Tt=[],Mt=0,Gt=k.positionedLines;Mt<Gt.length;Mt+=1)for(var ir=Gt[Mt],Qt=0,br=ir.positionedGlyphs;Qt<br.length;Qt+=1){var Nr=br[Qt];if(Nr.rect){var un=Nr.rect||{},en=1,Pn=Bw+en,Tn=!0,Ln=1,Fn=0,Wn=(pe||$e)&&Nr.vertical,aa=Nr.metrics.advance*Nr.scale/2;if($e&&k.verticalizable){var na=(Nr.scale-1)*Jo,Pa=(Jo-Nr.metrics.width*Nr.scale)/2;Fn=ir.lineOffset/2-(Nr.imageName?-Pa:na)}if(Nr.imageName){var da=Ie[Nr.imageName];Tn=da.sdf,Ln=da.pixelRatio,Pn=fl/Ln}var ba=pe?[Nr.x+aa,Nr.y]:[0,0],Wa=pe?[0,0]:[Nr.x+aa+j[0],Nr.y+j[1]-Fn],Ea=[0,0];Wn&&(Ea=Wa,Wa=[0,0]);var Ca=(Nr.metrics.left-Pn)*Nr.scale-aa+Wa[0],Ja=(-Nr.metrics.top-Pn)*Nr.scale+Wa[1],Ha=Ca+un.w*Nr.scale/Ln,li=Ja+un.h*Nr.scale/Ln,Pi=new t(Ca,Ja),ui=new t(Ha,Ja),fi=new t(Ca,li),ii=new t(Ha,li);if(Wn){var Oi=new t(-aa,aa-Kp),Hi=-Math.PI/2,no=Jo/2-aa,so=Nr.imageName?no:0,Ho=new t(5-Kp-no,-so),Eo=new(Function.prototype.bind.apply(t,[null].concat(Ea)));Pi._rotateAround(Hi,Oi)._add(Ho)._add(Eo),ui._rotateAround(Hi,Oi)._add(Ho)._add(Eo),fi._rotateAround(Hi,Oi)._add(Ho)._add(Eo),ii._rotateAround(Hi,Oi)._add(Ho)._add(Eo)}if(ut){var ps=Math.sin(ut),gs=Math.cos(ut),Vo=[gs,-ps,ps,gs];Pi._matMult(Vo),ui._matMult(Vo),fi._matMult(Vo),ii._matMult(Vo)}var Es=new t(0,0),Cs=new t(0,0),ko=0,Ls=0;Tt.push({tl:Pi,tr:ui,bl:fi,br:ii,tex:un,writingMode:k.writingMode,glyphOffset:ba,sectionIndex:Nr.sectionIndex,isSDF:Tn,pixelOffsetTL:Es,pixelOffsetBR:Cs,minFontScaleX:ko,minFontScaleY:Ls})}}return Tt}var Vg=function(k,j,ie,pe,Se,Ie,$e,ut,Tt,Mt){if(this.boxStartIndex=k.length,Tt){var Gt=Ie.top,ir=Ie.bottom,Qt=Ie.collisionPadding;Qt&&(Gt-=Qt[1],ir+=Qt[3]);var br=ir-Gt;br>0&&(br=Math.max(10,br),this.circleDiameter=br)}else{var Nr=Ie.top*$e-ut,un=Ie.bottom*$e+ut,en=Ie.left*$e-ut,Pn=Ie.right*$e+ut,Tn=Ie.collisionPadding;if(Tn&&(en-=Tn[0]*$e,Nr-=Tn[1]*$e,Pn+=Tn[2]*$e,un+=Tn[3]*$e),Mt){var Ln=new t(en,Nr),Fn=new t(Pn,Nr),Wn=new t(en,un),aa=new t(Pn,un),na=Mt*Math.PI/180;Ln._rotate(na),Fn._rotate(na),Wn._rotate(na),aa._rotate(na),en=Math.min(Ln.x,Fn.x,Wn.x,aa.x),Pn=Math.max(Ln.x,Fn.x,Wn.x,aa.x),Nr=Math.min(Ln.y,Fn.y,Wn.y,aa.y),un=Math.max(Ln.y,Fn.y,Wn.y,aa.y)}k.emplaceBack(j.x,j.y,en,Nr,Pn,un,ie,pe,Se)}this.boxEndIndex=k.length},Td=function(k,j){if(k===void 0&&(k=[]),j===void 0&&(j=oL),this.data=k,this.length=this.data.length,this.compare=j,this.length>0)for(var ie=(this.length>>1)-1;ie>=0;ie--)this._down(ie)};Td.prototype.push=function(k){this.data.push(k),this.length++,this._up(this.length-1)},Td.prototype.pop=function(){if(this.length!==0){var k=this.data[0],j=this.data.pop();return this.length--,this.length>0&&(this.data[0]=j,this._down(0)),k}},Td.prototype.peek=function(){return this.data[0]},Td.prototype._up=function(k){for(var j=this,ie=j.data,pe=j.compare,Se=ie[k];k>0;){var Ie=k-1>>1,$e=ie[Ie];if(pe(Se,$e)>=0)break;ie[k]=$e,k=Ie}ie[k]=Se},Td.prototype._down=function(k){for(var j=this,ie=j.data,pe=j.compare,Se=this.length>>1,Ie=ie[k];k<Se;){var $e=(k<<1)+1,ut=ie[$e],Tt=$e+1;if(Tt<this.length&&pe(ie[Tt],ut)<0&&($e=Tt,ut=ie[Tt]),pe(ut,Ie)>=0)break;ie[k]=ut,k=$e}ie[k]=Ie};function oL(I,k){return I<k?-1:I>k?1:0}function sL(I,k,j){k===void 0&&(k=1),j===void 0&&(j=!1);for(var ie=1/0,pe=1/0,Se=-1/0,Ie=-1/0,$e=I[0],ut=0;ut<$e.length;ut++){var Tt=$e[ut];(!ut||Tt.x<ie)&&(ie=Tt.x),(!ut||Tt.y<pe)&&(pe=Tt.y),(!ut||Tt.x>Se)&&(Se=Tt.x),(!ut||Tt.y>Ie)&&(Ie=Tt.y)}var Mt=Se-ie,Gt=Ie-pe,ir=Math.min(Mt,Gt),Qt=ir/2,br=new Td([],lL);if(ir===0)return new t(ie,pe);for(var Nr=ie;Nr<Se;Nr+=ir)for(var un=pe;un<Ie;un+=ir)br.push(new Ad(Nr+Qt,un+Qt,Qt,I));for(var en=fL(I),Pn=br.length;br.length;){var Tn=br.pop();(Tn.d>en.d||!en.d)&&(en=Tn,j&&console.log("found best %d after %d probes",Math.round(1e4*Tn.d)/1e4,Pn)),!(Tn.max-en.d<=k)&&(Qt=Tn.h/2,br.push(new Ad(Tn.p.x-Qt,Tn.p.y-Qt,Qt,I)),br.push(new Ad(Tn.p.x+Qt,Tn.p.y-Qt,Qt,I)),br.push(new Ad(Tn.p.x-Qt,Tn.p.y+Qt,Qt,I)),br.push(new Ad(Tn.p.x+Qt,Tn.p.y+Qt,Qt,I)),Pn+=4)}return j&&(console.log("num probes: "+Pn),console.log("best distance: "+en.d)),en.p}function lL(I,k){return k.max-I.max}function Ad(I,k,j,ie){this.p=new t(I,k),this.h=j,this.d=uL(this.p,ie),this.max=this.d+this.h*Math.SQRT2}function uL(I,k){for(var j=!1,ie=1/0,pe=0;pe<k.length;pe++)for(var Se=k[pe],Ie=0,$e=Se.length,ut=$e-1;Ie<$e;ut=Ie++){var Tt=Se[Ie],Mt=Se[ut];Tt.y>I.y!=Mt.y>I.y&&I.x<(Mt.x-Tt.x)*(I.y-Tt.y)/(Mt.y-Tt.y)+Tt.x&&(j=!j),ie=Math.min(ie,of(I,Tt,Mt))}return(j?1:-1)*Math.sqrt(ie)}function fL(I){for(var k=0,j=0,ie=0,pe=I[0],Se=0,Ie=pe.length,$e=Ie-1;Se<Ie;$e=Se++){var ut=pe[Se],Tt=pe[$e],Mt=ut.x*Tt.y-Tt.x*ut.y;j+=(ut.x+Tt.x)*Mt,ie+=(ut.y+Tt.y)*Mt,k+=Mt*3}return new Ad(j/k,ie/k,0,I)}var Sd=7,tx=Number.POSITIVE_INFINITY;function nT(I,k){function j(pe,Se){var Ie=0,$e=0;Se<0&&(Se=0);var ut=Se/Math.sqrt(2);switch(pe){case"top-right":case"top-left":$e=ut-Sd;break;case"bottom-right":case"bottom-left":$e=-ut+Sd;break;case"bottom":$e=-Se+Sd;break;case"top":$e=Se-Sd;break}switch(pe){case"top-right":case"bottom-right":Ie=-ut;break;case"top-left":case"bottom-left":Ie=ut;break;case"left":Ie=Se;break;case"right":Ie=-Se;break}return[Ie,$e]}function ie(pe,Se,Ie){var $e=0,ut=0;switch(Se=Math.abs(Se),Ie=Math.abs(Ie),pe){case"top-right":case"top-left":case"top":ut=Ie-Sd;break;case"bottom-right":case"bottom-left":case"bottom":ut=-Ie+Sd;break}switch(pe){case"top-right":case"bottom-right":case"right":$e=-Se;break;case"top-left":case"bottom-left":case"left":$e=Se;break}return[$e,ut]}return k[1]!==tx?ie(I,k[0],k[1]):j(I,k[0])}function cL(I,k,j,ie,pe,Se,Ie){I.createArrays();var $e=512*I.overscaling;I.tilePixelRatio=Ia/$e,I.compareText={},I.iconsNeedLinear=!1;var ut=I.layers[0].layout,Tt=I.layers[0]._unevaluatedLayout._values,Mt={};if(I.textSizeData.kind==="composite"){var Gt=I.textSizeData,ir=Gt.minZoom,Qt=Gt.maxZoom;Mt.compositeTextSizes=[Tt["text-size"].possiblyEvaluate(new Gn(ir),Ie),Tt["text-size"].possiblyEvaluate(new Gn(Qt),Ie)]}if(I.iconSizeData.kind==="composite"){var br=I.iconSizeData,Nr=br.minZoom,un=br.maxZoom;Mt.compositeIconSizes=[Tt["icon-size"].possiblyEvaluate(new Gn(Nr),Ie),Tt["icon-size"].possiblyEvaluate(new Gn(un),Ie)]}Mt.layoutTextSize=Tt["text-size"].possiblyEvaluate(new Gn(I.zoom+1),Ie),Mt.layoutIconSize=Tt["icon-size"].possiblyEvaluate(new Gn(I.zoom+1),Ie),Mt.textMaxSize=Tt["text-size"].possiblyEvaluate(new Gn(18));for(var en=ut.get("text-line-height")*Jo,Pn=ut.get("text-rotation-alignment")==="map"&&ut.get("symbol-placement")!=="point",Tn=ut.get("text-keep-upright"),Ln=ut.get("text-size"),Fn=function(){var na=aa[Wn],Pa=ut.get("text-font").evaluate(na,{},Ie).join(","),da=Ln.evaluate(na,{},Ie),ba=Mt.layoutTextSize.evaluate(na,{},Ie),Wa=Mt.layoutIconSize.evaluate(na,{},Ie),Ea={horizontal:{},vertical:void 0},Ca=na.text,Ja=[0,0];if(Ca){var Ha=Ca.toString(),li=ut.get("text-letter-spacing").evaluate(na,{},Ie)*Jo,Pi=er(Ha)?li:0,ui=ut.get("text-anchor").evaluate(na,{},Ie),fi=ut.get("text-variable-anchor");if(!fi){var ii=ut.get("text-radial-offset").evaluate(na,{},Ie);ii?Ja=nT(ui,[ii*Jo,tx]):Ja=ut.get("text-offset").evaluate(na,{},Ie).map(function(Rc){return Rc*Jo})}var Oi=Pn?"center":ut.get("text-justify").evaluate(na,{},Ie),Hi=ut.get("symbol-placement"),no=Hi==="point"?ut.get("text-max-width").evaluate(na,{},Ie)*Jo:0,so=function(){I.allowVerticalPlacement&&Ht(Ha)&&(Ea.vertical=Bg(Ca,k,j,pe,Pa,no,en,ui,"left",Pi,Ja,Pl.vertical,!0,Hi,ba,da))};if(!Pn&&fi){for(var Ho=Oi==="auto"?fi.map(function(Rc){return rx(Rc)}):[Oi],Eo=!1,ps=0;ps<Ho.length;ps++){var gs=Ho[ps];if(!Ea.horizontal[gs])if(Eo)Ea.horizontal[gs]=Ea.horizontal[0];else{var Vo=Bg(Ca,k,j,pe,Pa,no,en,"center",gs,Pi,Ja,Pl.horizontal,!1,Hi,ba,da);Vo&&(Ea.horizontal[gs]=Vo,Eo=Vo.positionedLines.length===1)}}so()}else{Oi==="auto"&&(Oi=rx(ui));var Es=Bg(Ca,k,j,pe,Pa,no,en,ui,Oi,Pi,Ja,Pl.horizontal,!1,Hi,ba,da);Es&&(Ea.horizontal[Oi]=Es),so(),Ht(Ha)&&Pn&&Tn&&(Ea.vertical=Bg(Ca,k,j,pe,Pa,no,en,ui,Oi,Pi,Ja,Pl.vertical,!1,Hi,ba,da))}}var Cs=void 0,ko=!1;if(na.icon&&na.icon.name){var Ls=ie[na.icon.name];Ls&&(Cs=tL(pe[na.icon.name],ut.get("icon-offset").evaluate(na,{},Ie),ut.get("icon-anchor").evaluate(na,{},Ie)),ko=Ls.sdf,I.sdfIcons===void 0?I.sdfIcons=Ls.sdf:I.sdfIcons!==Ls.sdf&&V("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ls.pixelRatio!==I.pixelRatio||ut.get("icon-rotate").constantOr(1)!==0)&&(I.iconsNeedLinear=!0))}var Rl=iT(Ea.horizontal)||Ea.vertical;I.iconsInText=Rl?Rl.iconsInText:!1,(Rl||Cs)&&hL(I,na,Ea,Cs,ie,Mt,ba,Wa,Ja,ko,Ie)},Wn=0,aa=I.features;Wn<aa.length;Wn+=1)Fn();Se&&I.generateCollisionDebugBuffers()}function rx(I){switch(I){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function hL(I,k,j,ie,pe,Se,Ie,$e,ut,Tt,Mt){var Gt=Se.textMaxSize.evaluate(k,{});Gt===void 0&&(Gt=Ie);var ir=I.layers[0].layout,Qt=ir.get("icon-offset").evaluate(k,{},Mt),br=iT(j.horizontal),Nr=24,un=Ie/Nr,en=I.tilePixelRatio*un,Pn=I.tilePixelRatio*Gt/Nr,Tn=I.tilePixelRatio*$e,Ln=I.tilePixelRatio*ir.get("symbol-spacing"),Fn=ir.get("text-padding")*I.tilePixelRatio,Wn=ir.get("icon-padding")*I.tilePixelRatio,aa=ir.get("text-max-angle")/180*Math.PI,na=ir.get("text-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",Pa=ir.get("icon-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",da=ir.get("symbol-placement"),ba=Ln/2,Wa=ir.get("icon-text-fit"),Ea;ie&&Wa!=="none"&&(I.allowVerticalPlacement&&j.vertical&&(Ea=Yw(ie,j.vertical,Wa,ir.get("icon-text-fit-padding"),Qt,un)),br&&(ie=Yw(ie,br,Wa,ir.get("icon-text-fit-padding"),Qt,un)));var Ca=function(Pd,Cu){Cu.x<0||Cu.x>=Ia||Cu.y<0||Cu.y>=Ia||vL(I,Cu,Pd,j,ie,pe,Ea,I.layers[0],I.collisionBoxArray,k.index,k.sourceLayerIndex,I.index,en,Fn,na,ut,Tn,Wn,Pa,Qt,k,Se,Tt,Mt,Ie)};if(da==="line")for(var Ja=0,Ha=eT(k.geometry,0,0,Ia,Ia);Ja<Ha.length;Ja+=1)for(var li=Ha[Ja],Pi=aL(li,Ln,aa,j.vertical||br,ie,Nr,Pn,I.overscaling,Ia),ui=0,fi=Pi;ui<fi.length;ui+=1){var ii=fi[ui],Oi=br;(!Oi||!dL(I,Oi.text,ba,ii))&&Ca(li,ii)}else if(da==="line-center")for(var Hi=0,no=k.geometry;Hi<no.length;Hi+=1){var so=no[Hi];if(so.length>1){var Ho=nL(so,aa,j.vertical||br,ie,Nr,Pn);Ho&&Ca(so,Ho)}}else if(k.type==="Polygon")for(var Eo=0,ps=j1(k.geometry,0);Eo<ps.length;Eo+=1){var gs=ps[Eo],Vo=sL(gs,16);Ca(gs[0],new bd(Vo.x,Vo.y,0))}else if(k.type==="LineString")for(var Es=0,Cs=k.geometry;Es<Cs.length;Es+=1){var ko=Cs[Es];Ca(ko,new bd(ko[0].x,ko[0].y,0))}else if(k.type==="Point")for(var Ls=0,Rl=k.geometry;Ls<Rl.length;Ls+=1)for(var Rc=Rl[Ls],bh=0,wh=Rc;bh<wh.length;bh+=1){var Th=wh[bh];Ca([Th],new bd(Th.x,Th.y,0))}}var Jp=255,mh=Jp*uf;function aT(I,k,j,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br){var Nr=iL(k,j,$e,pe,Se,Ie,ie,I.allowVerticalPlacement),un=I.textSizeData,en=null;un.kind==="source"?(en=[uf*pe.layout.get("text-size").evaluate(Ie,{})],en[0]>mh&&V(I.layerIds[0]+': Value for "text-size" is >= '+Jp+'. Reduce your "text-size".')):un.kind==="composite"&&(en=[uf*Qt.compositeTextSizes[0].evaluate(Ie,{},br),uf*Qt.compositeTextSizes[1].evaluate(Ie,{},br)],(en[0]>mh||en[1]>mh)&&V(I.layerIds[0]+': Value for "text-size" is >= '+Jp+'. Reduce your "text-size".')),I.addSymbols(I.text,Nr,en,$e,Se,Ie,Tt,k,ut.lineStartIndex,ut.lineLength,ir,br);for(var Pn=0,Tn=Mt;Pn<Tn.length;Pn+=1){var Ln=Tn[Pn];Gt[Ln]=I.text.placedSymbolArray.length-1}return Nr.length*4}function iT(I){for(var k in I)return I[k];return null}function vL(I,k,j,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir,Qt,br,Nr,un,en,Pn,Tn,Ln,Fn,Wn,aa,na){var Pa,da=I.addToLineVertexArray(k,j),ba,Wa,Ea,Ca,Ja=0,Ha=0,li=0,Pi=0,ui=-1,fi=-1,ii={},Oi=Ze(""),Hi=0,no=0;if($e._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Pa=$e.layout.get("text-offset").evaluate(Ln,{},aa).map(function(e0){return e0*Jo}),Hi=Pa[0],no=Pa[1]):(Hi=$e.layout.get("text-radial-offset").evaluate(Ln,{},aa)*Jo,no=tx),I.allowVerticalPlacement&&ie.vertical){var so=$e.layout.get("text-rotate").evaluate(Ln,{},aa),Ho=so+90,Eo=ie.vertical;Ea=new Vg(ut,k,Tt,Mt,Gt,Eo,ir,Qt,br,Ho),Ie&&(Ca=new Vg(ut,k,Tt,Mt,Gt,Ie,un,en,br,Ho))}if(pe){var ps=$e.layout.get("icon-rotate").evaluate(Ln,{}),gs=$e.layout.get("icon-text-fit")!=="none",Vo=tT(pe,ps,Wn,gs),Es=Ie?tT(Ie,ps,Wn,gs):void 0;Wa=new Vg(ut,k,Tt,Mt,Gt,pe,un,en,!1,ps),Ja=Vo.length*4;var Cs=I.iconSizeData,ko=null;Cs.kind==="source"?(ko=[uf*$e.layout.get("icon-size").evaluate(Ln,{})],ko[0]>mh&&V(I.layerIds[0]+': Value for "icon-size" is >= '+Jp+'. Reduce your "icon-size".')):Cs.kind==="composite"&&(ko=[uf*Fn.compositeIconSizes[0].evaluate(Ln,{},aa),uf*Fn.compositeIconSizes[1].evaluate(Ln,{},aa)],(ko[0]>mh||ko[1]>mh)&&V(I.layerIds[0]+': Value for "icon-size" is >= '+Jp+'. Reduce your "icon-size".')),I.addSymbols(I.icon,Vo,ko,Tn,Pn,Ln,!1,k,da.lineStartIndex,da.lineLength,-1,aa),ui=I.icon.placedSymbolArray.length-1,Es&&(Ha=Es.length*4,I.addSymbols(I.icon,Es,ko,Tn,Pn,Ln,Pl.vertical,k,da.lineStartIndex,da.lineLength,-1,aa),fi=I.icon.placedSymbolArray.length-1)}for(var Ls in ie.horizontal){var Rl=ie.horizontal[Ls];if(!ba){Oi=Ze(Rl.text);var Rc=$e.layout.get("text-rotate").evaluate(Ln,{},aa);ba=new Vg(ut,k,Tt,Mt,Gt,Rl,ir,Qt,br,Rc)}var bh=Rl.positionedLines.length===1;if(li+=aT(I,k,Rl,Se,$e,br,Ln,Nr,da,ie.vertical?Pl.horizontal:Pl.horizontalOnly,bh?Object.keys(ie.horizontal):[Ls],ii,ui,Fn,aa),bh)break}ie.vertical&&(Pi+=aT(I,k,ie.vertical,Se,$e,br,Ln,Nr,da,Pl.vertical,["vertical"],ii,fi,Fn,aa));var wh=ba?ba.boxStartIndex:I.collisionBoxArray.length,Th=ba?ba.boxEndIndex:I.collisionBoxArray.length,Pd=Ea?Ea.boxStartIndex:I.collisionBoxArray.length,Cu=Ea?Ea.boxEndIndex:I.collisionBoxArray.length,Zg=Wa?Wa.boxStartIndex:I.collisionBoxArray.length,lx=Wa?Wa.boxEndIndex:I.collisionBoxArray.length,Xg=Ca?Ca.boxStartIndex:I.collisionBoxArray.length,ux=Ca?Ca.boxEndIndex:I.collisionBoxArray.length,Ql=-1,Rd=function(e0,wT){return e0&&e0.circleDiameter?Math.max(e0.circleDiameter,wT):wT};Ql=Rd(ba,Ql),Ql=Rd(Ea,Ql),Ql=Rd(Wa,Ql),Ql=Rd(Ca,Ql);var $g=Ql>-1?1:0;$g&&(Ql*=na/Jo),I.glyphOffsetArray.length>=Li.MAX_GLYPHS&&V("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ln.sortKey!==void 0&&I.addToSortKeyRanges(I.symbolInstances.length,Ln.sortKey),I.symbolInstances.emplaceBack(k.x,k.y,ii.right>=0?ii.right:-1,ii.center>=0?ii.center:-1,ii.left>=0?ii.left:-1,ii.vertical||-1,ui,fi,Oi,wh,Th,Pd,Cu,Zg,lx,Xg,ux,Tt,li,Pi,Ja,Ha,$g,0,ir,Hi,no,Ql)}function dL(I,k,j,ie){var pe=I.compareText;if(!(k in pe))pe[k]=[];else for(var Se=pe[k],Ie=Se.length-1;Ie>=0;Ie--)if(ie.dist(Se[Ie])<j)return!0;return pe[k].push(ie),!1}var pL=gd.VectorTileFeature.types,gL=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Gg(I,k,j,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir){var Qt=$e?Math.min(mh,Math.round($e[0])):0,br=$e?Math.min(mh,Math.round($e[1])):0;I.emplaceBack(k,j,Math.round(ie*32),Math.round(pe*32),Se,Ie,(Qt<<1)+(ut?1:0),br,Tt*16,Mt*16,Gt*256,ir*256)}function nx(I,k,j){I.emplaceBack(k.x,k.y,j),I.emplaceBack(k.x,k.y,j),I.emplaceBack(k.x,k.y,j),I.emplaceBack(k.x,k.y,j)}function yL(I){for(var k=0,j=I.sections;k<j.length;k+=1){var ie=j[k];if(sn(ie.text))return!0}return!1}var Md=function(k){this.layoutVertexArray=new _f,this.indexArray=new af,this.programConfigurations=k,this.segments=new X,this.dynamicLayoutVertexArray=new kp,this.opacityVertexArray=new Fp,this.placedSymbolArray=new dh};Md.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Md.prototype.upload=function(k,j,ie,pe){this.isEmpty()||(ie&&(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,$1.members),this.indexBuffer=k.createIndexBuffer(this.indexArray,j),this.dynamicLayoutVertexBuffer=k.createVertexBuffer(this.dynamicLayoutVertexArray,m8.members,!0),this.opacityVertexBuffer=k.createVertexBuffer(this.opacityVertexArray,gL,!0),this.opacityVertexBuffer.itemSize=1),(ie||pe)&&this.programConfigurations.upload(k))},Md.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},fe("SymbolBuffers",Md);var Qp=function(k,j,ie){this.layoutVertexArray=new k,this.layoutAttributes=j,this.indexArray=new ie,this.segments=new X,this.collisionVertexArray=new Vs};Qp.prototype.upload=function(k){this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=k.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=k.createVertexBuffer(this.collisionVertexArray,x8.members,!0)},Qp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},fe("CollisionBuffers",Qp);var Li=function(k){this.collisionBoxArray=k.collisionBoxArray,this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(ut){return ut.id}),this.index=k.index,this.pixelRatio=k.pixelRatio,this.sourceLayerIndex=k.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=cd([]),this.placementViewportMatrix=cd([]);var j=this.layers[0],ie=j._unevaluatedLayout._values;this.textSizeData=ex(this.zoom,ie["text-size"]),this.iconSizeData=ex(this.zoom,ie["icon-size"]);var pe=this.layers[0].layout,Se=pe.get("symbol-sort-key"),Ie=pe.get("symbol-z-order");this.sortFeaturesByKey=Ie!=="viewport-y"&&Se.constantOr(1)!==void 0;var $e=Ie==="viewport-y"||Ie==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=$e&&(pe.get("text-allow-overlap")||pe.get("icon-allow-overlap")||pe.get("text-ignore-placement")||pe.get("icon-ignore-placement")),pe.get("symbol-placement")==="point"&&(this.writingModes=pe.get("text-writing-mode").map(function(ut){return Pl[ut]})),this.stateDependentLayerIds=this.layers.filter(function(ut){return ut.isStateDependent()}).map(function(ut){return ut.id}),this.sourceID=k.sourceID};Li.prototype.createArrays=function(){this.text=new Md(new Ya($1.members,this.layers,this.zoom,function(k){return/^text/.test(k)})),this.icon=new Md(new Ya($1.members,this.layers,this.zoom,function(k){return/^icon/.test(k)})),this.glyphOffsetArray=new Kl,this.lineVertexArray=new Mg,this.symbolInstances=new Sg},Li.prototype.calculateGlyphDependencies=function(k,j,ie,pe,Se){for(var Ie=0;Ie<k.length;Ie++)if(j[k.charCodeAt(Ie)]=!0,(ie||pe)&&Se){var $e=Zp[k.charAt(Ie)];$e&&(j[$e.charCodeAt(0)]=!0)}},Li.prototype.populate=function(k,j,ie){var pe=this.layers[0],Se=pe.layout,Ie=Se.get("text-font"),$e=Se.get("text-field"),ut=Se.get("icon-image"),Tt=($e.value.kind!=="constant"||$e.value.value instanceof co&&!$e.value.value.isEmpty()||$e.value.value.toString().length>0)&&(Ie.value.kind!=="constant"||Ie.value.value.length>0),Mt=ut.value.kind!=="constant"||!!ut.value.value||Object.keys(ut.parameters).length>0,Gt=Se.get("symbol-sort-key");if(this.features=[],!(!Tt&&!Mt)){for(var ir=j.iconDependencies,Qt=j.glyphDependencies,br=j.availableImages,Nr=new Gn(this.zoom),un=0,en=k;un<en.length;un+=1){var Pn=en[un],Tn=Pn.feature,Ln=Pn.id,Fn=Pn.index,Wn=Pn.sourceLayerIndex,aa=pe._featureFilter.needGeometry,na={type:Tn.type,id:Ln,properties:Tn.properties,geometry:aa?Ti(Tn):[]};if(pe._featureFilter.filter(Nr,na,ie)){aa||(na.geometry=Ti(Tn));var Pa=void 0;if(Tt){var da=pe.getValueAndResolveTokens("text-field",na,ie,br),ba=co.factory(da);yL(ba)&&(this.hasRTLText=!0),(!this.hasRTLText||ja()==="unavailable"||this.hasRTLText&&si.isParsed())&&(Pa=T8(ba,pe,na))}var Wa=void 0;if(Mt){var Ea=pe.getValueAndResolveTokens("icon-image",na,ie,br);Ea instanceof Yo?Wa=Ea:Wa=Yo.fromString(Ea)}if(!(!Pa&&!Wa)){var Ca=this.sortFeaturesByKey?Gt.evaluate(na,{},ie):void 0,Ja={id:Ln,text:Pa,icon:Wa,index:Fn,sourceLayerIndex:Wn,geometry:Ti(Tn),properties:Tn.properties,type:pL[Tn.type],sortKey:Ca};if(this.features.push(Ja),Wa&&(ir[Wa.name]=!0),Pa){var Ha=Ie.evaluate(na,{},ie).join(","),li=Se.get("text-rotation-alignment")==="map"&&Se.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Pl.vertical)>=0;for(var Pi=0,ui=Pa.sections;Pi<ui.length;Pi+=1){var fi=ui[Pi];if(fi.image)ir[fi.image.name]=!0;else{var ii=Ht(Pa.toString()),Oi=fi.fontStack||Ha,Hi=Qt[Oi]=Qt[Oi]||{};this.calculateGlyphDependencies(fi.text,Hi,li,this.allowVerticalPlacement,ii)}}}}}}Se.get("symbol-placement")==="line"&&(this.features=A8(this.features)),this.sortFeaturesByKey&&this.features.sort(function(no,so){return no.sortKey-so.sortKey})}},Li.prototype.update=function(k,j,ie){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(k,j,this.layers,ie),this.icon.programConfigurations.updatePaintArrays(k,j,this.layers,ie))},Li.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Li.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Li.prototype.upload=function(k){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(k),this.iconCollisionBox.upload(k)),this.text.upload(k,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(k,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Li.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Li.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Li.prototype.addToLineVertexArray=function(k,j){var ie=this.lineVertexArray.length;if(k.segment!==void 0){for(var pe=k.dist(j[k.segment+1]),Se=k.dist(j[k.segment]),Ie={},$e=k.segment+1;$e<j.length;$e++)Ie[$e]={x:j[$e].x,y:j[$e].y,tileUnitDistanceFromAnchor:pe},$e<j.length-1&&(pe+=j[$e+1].dist(j[$e]));for(var ut=k.segment||0;ut>=0;ut--)Ie[ut]={x:j[ut].x,y:j[ut].y,tileUnitDistanceFromAnchor:Se},ut>0&&(Se+=j[ut-1].dist(j[ut]));for(var Tt=0;Tt<j.length;Tt++){var Mt=Ie[Tt];this.lineVertexArray.emplaceBack(Mt.x,Mt.y,Mt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ie,lineLength:this.lineVertexArray.length-ie}},Li.prototype.addSymbols=function(k,j,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt,ir){for(var Qt=k.indexArray,br=k.layoutVertexArray,Nr=k.segments.prepareSegment(4*j.length,br,Qt,Ie.sortKey),un=this.glyphOffsetArray.length,en=Nr.vertexLength,Pn=this.allowVerticalPlacement&&$e===Pl.vertical?Math.PI/2:0,Tn=Ie.text&&Ie.text.sections,Ln=0;Ln<j.length;Ln++){var Fn=j[Ln],Wn=Fn.tl,aa=Fn.tr,na=Fn.bl,Pa=Fn.br,da=Fn.tex,ba=Fn.pixelOffsetTL,Wa=Fn.pixelOffsetBR,Ea=Fn.minFontScaleX,Ca=Fn.minFontScaleY,Ja=Fn.glyphOffset,Ha=Fn.isSDF,li=Fn.sectionIndex,Pi=Nr.vertexLength,ui=Ja[1];Gg(br,ut.x,ut.y,Wn.x,ui+Wn.y,da.x,da.y,ie,Ha,ba.x,ba.y,Ea,Ca),Gg(br,ut.x,ut.y,aa.x,ui+aa.y,da.x+da.w,da.y,ie,Ha,Wa.x,ba.y,Ea,Ca),Gg(br,ut.x,ut.y,na.x,ui+na.y,da.x,da.y+da.h,ie,Ha,ba.x,Wa.y,Ea,Ca),Gg(br,ut.x,ut.y,Pa.x,ui+Pa.y,da.x+da.w,da.y+da.h,ie,Ha,Wa.x,Wa.y,Ea,Ca),nx(k.dynamicLayoutVertexArray,ut,Pn),Qt.emplaceBack(Pi,Pi+1,Pi+2),Qt.emplaceBack(Pi+1,Pi+2,Pi+3),Nr.vertexLength+=4,Nr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ja[0]),(Ln===j.length-1||li!==j[Ln+1].sectionIndex)&&k.programConfigurations.populatePaintArrays(br.length,Ie,Ie.index,{},ir,Tn&&Tn[li])}k.placedSymbolArray.emplaceBack(ut.x,ut.y,un,this.glyphOffsetArray.length-un,en,Tt,Mt,ut.segment,ie?ie[0]:0,ie?ie[1]:0,pe[0],pe[1],$e,0,!1,0,Gt)},Li.prototype._addCollisionDebugVertex=function(k,j,ie,pe,Se,Ie){return j.emplaceBack(0,0),k.emplaceBack(ie.x,ie.y,pe,Se,Math.round(Ie.x),Math.round(Ie.y))},Li.prototype.addCollisionDebugVertices=function(k,j,ie,pe,Se,Ie,$e){var ut=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),Tt=ut.vertexLength,Mt=Se.layoutVertexArray,Gt=Se.collisionVertexArray,ir=$e.anchorX,Qt=$e.anchorY;this._addCollisionDebugVertex(Mt,Gt,Ie,ir,Qt,new t(k,j)),this._addCollisionDebugVertex(Mt,Gt,Ie,ir,Qt,new t(ie,j)),this._addCollisionDebugVertex(Mt,Gt,Ie,ir,Qt,new t(ie,pe)),this._addCollisionDebugVertex(Mt,Gt,Ie,ir,Qt,new t(k,pe)),ut.vertexLength+=4;var br=Se.indexArray;br.emplaceBack(Tt,Tt+1),br.emplaceBack(Tt+1,Tt+2),br.emplaceBack(Tt+2,Tt+3),br.emplaceBack(Tt+3,Tt),ut.primitiveLength+=4},Li.prototype.addDebugCollisionBoxes=function(k,j,ie,pe){for(var Se=k;Se<j;Se++){var Ie=this.collisionBoxArray.get(Se),$e=Ie.x1,ut=Ie.y1,Tt=Ie.x2,Mt=Ie.y2;this.addCollisionDebugVertices($e,ut,Tt,Mt,pe?this.textCollisionBox:this.iconCollisionBox,Ie.anchorPoint,ie)}},Li.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Qp(od,kw.members,Sv),this.iconCollisionBox=new Qp(od,kw.members,Sv);for(var k=0;k<this.symbolInstances.length;k++){var j=this.symbolInstances.get(k);this.addDebugCollisionBoxes(j.textBoxStartIndex,j.textBoxEndIndex,j,!0),this.addDebugCollisionBoxes(j.verticalTextBoxStartIndex,j.verticalTextBoxEndIndex,j,!0),this.addDebugCollisionBoxes(j.iconBoxStartIndex,j.iconBoxEndIndex,j,!1),this.addDebugCollisionBoxes(j.verticalIconBoxStartIndex,j.verticalIconBoxEndIndex,j,!1)}},Li.prototype._deserializeCollisionBoxesForSymbol=function(k,j,ie,pe,Se,Ie,$e,ut,Tt){for(var Mt={},Gt=j;Gt<ie;Gt++){var ir=k.get(Gt);Mt.textBox={x1:ir.x1,y1:ir.y1,x2:ir.x2,y2:ir.y2,anchorPointX:ir.anchorPointX,anchorPointY:ir.anchorPointY},Mt.textFeatureIndex=ir.featureIndex;break}for(var Qt=pe;Qt<Se;Qt++){var br=k.get(Qt);Mt.verticalTextBox={x1:br.x1,y1:br.y1,x2:br.x2,y2:br.y2,anchorPointX:br.anchorPointX,anchorPointY:br.anchorPointY},Mt.verticalTextFeatureIndex=br.featureIndex;break}for(var Nr=Ie;Nr<$e;Nr++){var un=k.get(Nr);Mt.iconBox={x1:un.x1,y1:un.y1,x2:un.x2,y2:un.y2,anchorPointX:un.anchorPointX,anchorPointY:un.anchorPointY},Mt.iconFeatureIndex=un.featureIndex;break}for(var en=ut;en<Tt;en++){var Pn=k.get(en);Mt.verticalIconBox={x1:Pn.x1,y1:Pn.y1,x2:Pn.x2,y2:Pn.y2,anchorPointX:Pn.anchorPointX,anchorPointY:Pn.anchorPointY},Mt.verticalIconFeatureIndex=Pn.featureIndex;break}return Mt},Li.prototype.deserializeCollisionBoxes=function(k){this.collisionArrays=[];for(var j=0;j<this.symbolInstances.length;j++){var ie=this.symbolInstances.get(j);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(k,ie.textBoxStartIndex,ie.textBoxEndIndex,ie.verticalTextBoxStartIndex,ie.verticalTextBoxEndIndex,ie.iconBoxStartIndex,ie.iconBoxEndIndex,ie.verticalIconBoxStartIndex,ie.verticalIconBoxEndIndex))}},Li.prototype.hasTextData=function(){return this.text.segments.get().length>0},Li.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Li.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Li.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Li.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Li.prototype.addIndicesForPlacedSymbol=function(k,j){for(var ie=k.placedSymbolArray.get(j),pe=ie.vertexStartIndex+ie.numGlyphs*4,Se=ie.vertexStartIndex;Se<pe;Se+=4)k.indexArray.emplaceBack(Se,Se+1,Se+2),k.indexArray.emplaceBack(Se+1,Se+2,Se+3)},Li.prototype.getSortedSymbolIndexes=function(k){if(this.sortedAngle===k&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var j=Math.sin(k),ie=Math.cos(k),pe=[],Se=[],Ie=[],$e=0;$e<this.symbolInstances.length;++$e){Ie.push($e);var ut=this.symbolInstances.get($e);pe.push(Math.round(j*ut.anchorX+ie*ut.anchorY)|0),Se.push(ut.featureIndex)}return Ie.sort(function(Tt,Mt){return pe[Tt]-pe[Mt]||Se[Mt]-Se[Tt]}),Ie},Li.prototype.addToSortKeyRanges=function(k,j){var ie=this.sortKeyRanges[this.sortKeyRanges.length-1];ie&&ie.sortKey===j?ie.symbolInstanceEnd=k+1:this.sortKeyRanges.push({sortKey:j,symbolInstanceStart:k,symbolInstanceEnd:k+1})},Li.prototype.sortFeatures=function(k){var j=this;if(this.sortFeaturesByY&&this.sortedAngle!==k&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(k),this.sortedAngle=k,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ie=0,pe=this.symbolInstanceIndexes;ie<pe.length;ie+=1){var Se=pe[ie],Ie=this.symbolInstances.get(Se);this.featureSortOrder.push(Ie.featureIndex),[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(function($e,ut,Tt){$e>=0&&Tt.indexOf($e)===ut&&j.addIndicesForPlacedSymbol(j.text,$e)}),Ie.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ie.verticalPlacedTextSymbolIndex),Ie.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.placedIconSymbolIndex),Ie.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},fe("SymbolBucket",Li,{omit:["layers","collisionBoxArray","features","compareText"]}),Li.MAX_GLYPHS=65535,Li.addDynamicAttributes=nx;function mL(I,k){return k.replace(/{([^{}]+)}/g,function(j,ie){return ie in I?String(I[ie]):""})}var xL=new vo({"symbol-placement":new xa(Yt.layout_symbol["symbol-placement"]),"symbol-spacing":new xa(Yt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new xa(Yt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new La(Yt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new xa(Yt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new xa(Yt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new xa(Yt.layout_symbol["icon-ignore-placement"]),"icon-optional":new xa(Yt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new xa(Yt.layout_symbol["icon-rotation-alignment"]),"icon-size":new La(Yt.layout_symbol["icon-size"]),"icon-text-fit":new xa(Yt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new xa(Yt.layout_symbol["icon-text-fit-padding"]),"icon-image":new La(Yt.layout_symbol["icon-image"]),"icon-rotate":new La(Yt.layout_symbol["icon-rotate"]),"icon-padding":new xa(Yt.layout_symbol["icon-padding"]),"icon-keep-upright":new xa(Yt.layout_symbol["icon-keep-upright"]),"icon-offset":new La(Yt.layout_symbol["icon-offset"]),"icon-anchor":new La(Yt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new xa(Yt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new xa(Yt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new xa(Yt.layout_symbol["text-rotation-alignment"]),"text-field":new La(Yt.layout_symbol["text-field"]),"text-font":new La(Yt.layout_symbol["text-font"]),"text-size":new La(Yt.layout_symbol["text-size"]),"text-max-width":new La(Yt.layout_symbol["text-max-width"]),"text-line-height":new xa(Yt.layout_symbol["text-line-height"]),"text-letter-spacing":new La(Yt.layout_symbol["text-letter-spacing"]),"text-justify":new La(Yt.layout_symbol["text-justify"]),"text-radial-offset":new La(Yt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new xa(Yt.layout_symbol["text-variable-anchor"]),"text-anchor":new La(Yt.layout_symbol["text-anchor"]),"text-max-angle":new xa(Yt.layout_symbol["text-max-angle"]),"text-writing-mode":new xa(Yt.layout_symbol["text-writing-mode"]),"text-rotate":new La(Yt.layout_symbol["text-rotate"]),"text-padding":new xa(Yt.layout_symbol["text-padding"]),"text-keep-upright":new xa(Yt.layout_symbol["text-keep-upright"]),"text-transform":new La(Yt.layout_symbol["text-transform"]),"text-offset":new La(Yt.layout_symbol["text-offset"]),"text-allow-overlap":new xa(Yt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new xa(Yt.layout_symbol["text-ignore-placement"]),"text-optional":new xa(Yt.layout_symbol["text-optional"])}),bL=new vo({"icon-opacity":new La(Yt.paint_symbol["icon-opacity"]),"icon-color":new La(Yt.paint_symbol["icon-color"]),"icon-halo-color":new La(Yt.paint_symbol["icon-halo-color"]),"icon-halo-width":new La(Yt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new La(Yt.paint_symbol["icon-halo-blur"]),"icon-translate":new xa(Yt.paint_symbol["icon-translate"]),"icon-translate-anchor":new xa(Yt.paint_symbol["icon-translate-anchor"]),"text-opacity":new La(Yt.paint_symbol["text-opacity"]),"text-color":new La(Yt.paint_symbol["text-color"],{runtimeType:zn,getOverride:function(I){return I.textColor},hasOverride:function(I){return!!I.textColor}}),"text-halo-color":new La(Yt.paint_symbol["text-halo-color"]),"text-halo-width":new La(Yt.paint_symbol["text-halo-width"]),"text-halo-blur":new La(Yt.paint_symbol["text-halo-blur"]),"text-translate":new xa(Yt.paint_symbol["text-translate"]),"text-translate-anchor":new xa(Yt.paint_symbol["text-translate-anchor"])}),ax={paint:bL,layout:xL},Ed=function(k){this.type=k.property.overrides?k.property.overrides.runtimeType:Ir,this.defaultValue=k};Ed.prototype.evaluate=function(k){if(k.formattedSection){var j=this.defaultValue.property.overrides;if(j&&j.hasOverride(k.formattedSection))return j.getOverride(k.formattedSection)}return k.feature&&k.featureState?this.defaultValue.evaluate(k.feature,k.featureState):this.defaultValue.property.specification.default},Ed.prototype.eachChild=function(k){if(!this.defaultValue.isConstant()){var j=this.defaultValue.value;k(j._styleExpression.expression)}},Ed.prototype.outputDefined=function(){return!1},Ed.prototype.serialize=function(){return null},fe("FormatSectionOverride",Ed,{omit:["defaultValue"]});var wL=function(I){function k(j){I.call(this,j,ax)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.recalculate=function(ie,pe){if(I.prototype.recalculate.call(this,ie,pe),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Se=this.layout.get("text-writing-mode");if(Se){for(var Ie=[],$e=0,ut=Se;$e<ut.length;$e+=1){var Tt=ut[$e];Ie.indexOf(Tt)<0&&Ie.push(Tt)}this.layout._values["text-writing-mode"]=Ie}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},k.prototype.getValueAndResolveTokens=function(ie,pe,Se,Ie){var $e=this.layout.get(ie).evaluate(pe,{},Se,Ie),ut=this._unevaluatedLayout._values[ie];return!ut.isDataDriven()&&!Sl(ut.value)&&$e?mL(pe.properties,$e):$e},k.prototype.createBucket=function(ie){return new Li(ie)},k.prototype.queryRadius=function(){return 0},k.prototype.queryIntersectsFeature=function(){return!1},k.prototype._setPaintOverrides=function(){for(var ie=0,pe=ax.paint.overridableProperties;ie<pe.length;ie+=1){var Se=pe[ie];if(k.hasPaintOverride(this.layout,Se)){var Ie=this.paint.get(Se),$e=new Ed(Ie),ut=new sl($e,Ie.property.specification),Tt=null;Ie.value.kind==="constant"||Ie.value.kind==="source"?Tt=new Zl("source",ut):Tt=new $o("composite",ut,Ie.value.zoomStops,Ie.value._interpolationType),this.paint._values[Se]=new Di(Ie.property,Tt,Ie.parameters)}}},k.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Se){return!this.layout||pe.isDataDriven()||Se.isDataDriven()?!1:k.hasPaintOverride(this.layout,ie)},k.hasPaintOverride=function(ie,pe){var Se=ie.get("text-field"),Ie=ax.paint.properties[pe],$e=!1,ut=function(Gt){for(var ir=0,Qt=Gt;ir<Qt.length;ir+=1){var br=Qt[ir];if(Ie.overrides&&Ie.overrides.hasOverride(br)){$e=!0;return}}};if(Se.value.kind==="constant"&&Se.value.value instanceof co)ut(Se.value.value.sections);else if(Se.value.kind==="source"){var Tt=function(Gt){if(!$e)if(Gt instanceof rs&&Wi(Gt.value)===ca){var ir=Gt.value;ut(ir.sections)}else Gt instanceof us?ut(Gt.sections):Gt.eachChild(Tt)},Mt=Se.value;Mt._styleExpression&&Tt(Mt._styleExpression.expression)}return $e},k}(Ni),TL=new vo({"background-color":new xa(Yt.paint_background["background-color"]),"background-pattern":new eo(Yt.paint_background["background-pattern"]),"background-opacity":new xa(Yt.paint_background["background-opacity"])}),AL={paint:TL},SL=function(I){function k(j){I.call(this,j,AL)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(Ni),ML=new vo({"raster-opacity":new xa(Yt.paint_raster["raster-opacity"]),"raster-hue-rotate":new xa(Yt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new xa(Yt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new xa(Yt.paint_raster["raster-brightness-max"]),"raster-saturation":new xa(Yt.paint_raster["raster-saturation"]),"raster-contrast":new xa(Yt.paint_raster["raster-contrast"]),"raster-resampling":new xa(Yt.paint_raster["raster-resampling"]),"raster-fade-duration":new xa(Yt.paint_raster["raster-fade-duration"])}),EL={paint:ML},CL=function(I){function k(j){I.call(this,j,EL)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(Ni);function LL(I){var k=[],j=I.id;return j===void 0&&k.push({message:"layers."+j+': missing required property "id"'}),I.render===void 0&&k.push({message:"layers."+j+': missing required method "render"'}),I.renderingMode&&I.renderingMode!=="2d"&&I.renderingMode!=="3d"&&k.push({message:"layers."+j+': property "renderingMode" must be either "2d" or "3d"'}),k}var PL=function(I){function k(j){I.call(this,j,{}),this.implementation=j}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},k.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},k.prototype.recalculate=function(){},k.prototype.updateTransitions=function(){},k.prototype.hasTransition=function(){},k.prototype.serialize=function(){},k.prototype.onAdd=function(ie){this.implementation.onAdd&&this.implementation.onAdd(ie,ie.painter.context.gl)},k.prototype.onRemove=function(ie){this.implementation.onRemove&&this.implementation.onRemove(ie,ie.painter.context.gl)},k}(Ni),RL={circle:iC,heatmap:uC,hillshade:hC,fill:OC,"fill-extrusion":n8,line:g8,symbol:wL,background:SL,raster:CL};function DL(I){return I.type==="custom"?new PL(I):new RL[I.type](I)}var oT=self.HTMLImageElement,sT=self.HTMLCanvasElement,lT=self.HTMLVideoElement,uT=self.ImageData,Wg=self.ImageBitmap,Pv=function(k,j,ie,pe){this.context=k,this.format=ie,this.texture=k.gl.createTexture(),this.update(j,pe)};Pv.prototype.update=function(k,j,ie){var pe=k.width,Se=k.height,Ie=(!this.size||this.size[0]!==pe||this.size[1]!==Se)&&!ie,$e=this,ut=$e.context,Tt=ut.gl;if(this.useMipmap=!!(j&&j.useMipmap),Tt.bindTexture(Tt.TEXTURE_2D,this.texture),ut.pixelStoreUnpackFlipY.set(!1),ut.pixelStoreUnpack.set(1),ut.pixelStoreUnpackPremultiplyAlpha.set(this.format===Tt.RGBA&&(!j||j.premultiply!==!1)),Ie)this.size=[pe,Se],k instanceof oT||k instanceof sT||k instanceof lT||k instanceof uT||Wg&&k instanceof Wg?Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,this.format,Tt.UNSIGNED_BYTE,k):Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,pe,Se,0,this.format,Tt.UNSIGNED_BYTE,k.data);else{var Mt=ie||{x:0,y:0},Gt=Mt.x,ir=Mt.y;k instanceof oT||k instanceof sT||k instanceof lT||k instanceof uT||Wg&&k instanceof Wg?Tt.texSubImage2D(Tt.TEXTURE_2D,0,Gt,ir,Tt.RGBA,Tt.UNSIGNED_BYTE,k):Tt.texSubImage2D(Tt.TEXTURE_2D,0,Gt,ir,pe,Se,Tt.RGBA,Tt.UNSIGNED_BYTE,k.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Tt.generateMipmap(Tt.TEXTURE_2D)},Pv.prototype.bind=function(k,j,ie){var pe=this,Se=pe.context,Ie=Se.gl;Ie.bindTexture(Ie.TEXTURE_2D,this.texture),ie===Ie.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ie=Ie.LINEAR),k!==this.filter&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MAG_FILTER,k),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MIN_FILTER,ie||k),this.filter=k),j!==this.wrap&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_S,j),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_T,j),this.wrap=j)},Pv.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Pv.prototype.destroy=function(){var k=this.context,j=k.gl;j.deleteTexture(this.texture),this.texture=null};var ix=function(k){var j=this;this._callback=k,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){j._triggered=!1,j._callback()})};ix.prototype.trigger=function(){var k=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){k._triggered=!1,k._callback()},0))},ix.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Cd=function(k,j,ie){this.target=k,this.parent=j,this.mapId=ie,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new ix(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=z()?k:self};Cd.prototype.send=function(k,j,ie,pe,Se){var Ie=this;Se===void 0&&(Se=!1);var $e=Math.round(Math.random()*1e18).toString(36).substring(0,10);ie&&(this.callbacks[$e]=ie);var ut=J(this.globalScope)?void 0:[];return this.target.postMessage({id:$e,type:k,hasCallback:!!ie,targetMapId:pe,mustQueue:Se,sourceMapId:this.mapId,data:nt(j,ut)},ut),{cancel:function(){ie&&delete Ie.callbacks[$e],Ie.target.postMessage({id:$e,type:"<cancel>",targetMapId:pe,sourceMapId:Ie.mapId})}}},Cd.prototype.receive=function(k){var j=k.data,ie=j.id;if(ie&&!(j.targetMapId&&this.mapId!==j.targetMapId))if(j.type==="<cancel>"){delete this.tasks[ie];var pe=this.cancelCallbacks[ie];delete this.cancelCallbacks[ie],pe&&pe()}else z()||j.mustQueue?(this.tasks[ie]=j,this.taskQueue.push(ie),this.invoker.trigger()):this.processTask(ie,j)},Cd.prototype.process=function(){if(this.taskQueue.length){var k=this.taskQueue.shift(),j=this.tasks[k];delete this.tasks[k],this.taskQueue.length&&this.invoker.trigger(),j&&this.processTask(k,j)}},Cd.prototype.processTask=function(k,j){var ie=this;if(j.type==="<response>"){var pe=this.callbacks[k];delete this.callbacks[k],pe&&(j.error?pe(ot(j.error)):pe(null,ot(j.data)))}else{var Se=!1,Ie=J(this.globalScope)?void 0:[],$e=j.hasCallback?function(ir,Qt){Se=!0,delete ie.cancelCallbacks[k],ie.target.postMessage({id:k,type:"<response>",sourceMapId:ie.mapId,error:ir?nt(ir):null,data:nt(Qt,Ie)},Ie)}:function(ir){Se=!0},ut=null,Tt=ot(j.data);if(this.parent[j.type])ut=this.parent[j.type](j.sourceMapId,Tt,$e);else if(this.parent.getWorkerSource){var Mt=j.type.split("."),Gt=this.parent.getWorkerSource(j.sourceMapId,Mt[0],Tt.source);ut=Gt[Mt[1]](Tt,$e)}else $e(new Error("Could not find function "+j.type));!Se&&ut&&ut.cancel&&(this.cancelCallbacks[k]=ut.cancel)}},Cd.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function IL(I,k,j){k=Math.pow(2,j)-k-1;var ie=fT(I*256,k*256,j),pe=fT((I+1)*256,(k+1)*256,j);return ie[0]+","+ie[1]+","+pe[0]+","+pe[1]}function fT(I,k,j){var ie=2*Math.PI*6378137/256/Math.pow(2,j),pe=I*ie-2*Math.PI*6378137/2,Se=k*ie-2*Math.PI*6378137/2;return[pe,Se]}var So=function(k,j){k&&(j?this.setSouthWest(k).setNorthEast(j):k.length===4?this.setSouthWest([k[0],k[1]]).setNorthEast([k[2],k[3]]):this.setSouthWest(k[0]).setNorthEast(k[1]))};So.prototype.setNorthEast=function(k){return this._ne=k instanceof Yi?new Yi(k.lng,k.lat):Yi.convert(k),this},So.prototype.setSouthWest=function(k){return this._sw=k instanceof Yi?new Yi(k.lng,k.lat):Yi.convert(k),this},So.prototype.extend=function(k){var j=this._sw,ie=this._ne,pe,Se;if(k instanceof Yi)pe=k,Se=k;else if(k instanceof So){if(pe=k._sw,Se=k._ne,!pe||!Se)return this}else{if(Array.isArray(k))if(k.length===4||k.every(Array.isArray)){var Ie=k;return this.extend(So.convert(Ie))}else{var $e=k;return this.extend(Yi.convert($e))}return this}return!j&&!ie?(this._sw=new Yi(pe.lng,pe.lat),this._ne=new Yi(Se.lng,Se.lat)):(j.lng=Math.min(pe.lng,j.lng),j.lat=Math.min(pe.lat,j.lat),ie.lng=Math.max(Se.lng,ie.lng),ie.lat=Math.max(Se.lat,ie.lat)),this},So.prototype.getCenter=function(){return new Yi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},So.prototype.getSouthWest=function(){return this._sw},So.prototype.getNorthEast=function(){return this._ne},So.prototype.getNorthWest=function(){return new Yi(this.getWest(),this.getNorth())},So.prototype.getSouthEast=function(){return new Yi(this.getEast(),this.getSouth())},So.prototype.getWest=function(){return this._sw.lng},So.prototype.getSouth=function(){return this._sw.lat},So.prototype.getEast=function(){return this._ne.lng},So.prototype.getNorth=function(){return this._ne.lat},So.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},So.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},So.prototype.isEmpty=function(){return!(this._sw&&this._ne)},So.prototype.contains=function(k){var j=Yi.convert(k),ie=j.lng,pe=j.lat,Se=this._sw.lat<=pe&&pe<=this._ne.lat,Ie=this._sw.lng<=ie&&ie<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ie=this._sw.lng>=ie&&ie>=this._ne.lng),Se&&Ie},So.convert=function(k){return!k||k instanceof So?k:new So(k)};var cT=63710088e-1,Yi=function(k,j){if(isNaN(k)||isNaN(j))throw new Error("Invalid LngLat object: ("+k+", "+j+")");if(this.lng=+k,this.lat=+j,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Yi.prototype.wrap=function(){return new Yi(m(this.lng,-180,180),this.lat)},Yi.prototype.toArray=function(){return[this.lng,this.lat]},Yi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Yi.prototype.distanceTo=function(k){var j=Math.PI/180,ie=this.lat*j,pe=k.lat*j,Se=Math.sin(ie)*Math.sin(pe)+Math.cos(ie)*Math.cos(pe)*Math.cos((k.lng-this.lng)*j),Ie=cT*Math.acos(Math.min(Se,1));return Ie},Yi.prototype.toBounds=function(k){k===void 0&&(k=0);var j=40075017,ie=360*k/j,pe=ie/Math.cos(Math.PI/180*this.lat);return new So(new Yi(this.lng-pe,this.lat-ie),new Yi(this.lng+pe,this.lat+ie))},Yi.convert=function(k){if(k instanceof Yi)return k;if(Array.isArray(k)&&(k.length===2||k.length===3))return new Yi(Number(k[0]),Number(k[1]));if(!Array.isArray(k)&&typeof k=="object"&&k!==null)return new Yi(Number("lng"in k?k.lng:k.lon),Number(k.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var hT=2*Math.PI*cT;function vT(I){return hT*Math.cos(I*Math.PI/180)}function dT(I){return(180+I)/360}function pT(I){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+I*Math.PI/360)))/360}function gT(I,k){return I/vT(k)}function kL(I){return I*360-180}function ox(I){var k=180-I*360;return 360/Math.PI*Math.atan(Math.exp(k*Math.PI/180))-90}function FL(I,k){return I*vT(ox(k))}function _L(I){return 1/Math.cos(I*Math.PI/180)}var Rv=function(k,j,ie){ie===void 0&&(ie=0),this.x=+k,this.y=+j,this.z=+ie};Rv.fromLngLat=function(k,j){j===void 0&&(j=0);var ie=Yi.convert(k);return new Rv(dT(ie.lng),pT(ie.lat),gT(j,ie.lat))},Rv.prototype.toLngLat=function(){return new Yi(kL(this.x),ox(this.y))},Rv.prototype.toAltitude=function(){return FL(this.z,this.y)},Rv.prototype.meterInMercatorCoordinateUnits=function(){return 1/hT*_L(ox(this.y))};var Dv=function(k,j,ie){this.z=k,this.x=j,this.y=ie,this.key=qp(0,k,k,j,ie)};Dv.prototype.equals=function(k){return this.z===k.z&&this.x===k.x&&this.y===k.y},Dv.prototype.url=function(k,j){var ie=IL(this.x,this.y,this.z),pe=zL(this.z,this.x,this.y);return k[(this.x+this.y)%k.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(j==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pe).replace("{bbox-epsg-3857}",ie)},Dv.prototype.getTilePoint=function(k){var j=Math.pow(2,this.z);return new t((k.x*j-this.x)*Ia,(k.y*j-this.y)*Ia)},Dv.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var yT=function(k,j){this.wrap=k,this.canonical=j,this.key=qp(k,j.z,j.z,j.x,j.y)},Mo=function(k,j,ie,pe,Se){this.overscaledZ=k,this.wrap=j,this.canonical=new Dv(ie,+pe,+Se),this.key=qp(j,k,ie,pe,Se)};Mo.prototype.equals=function(k){return this.overscaledZ===k.overscaledZ&&this.wrap===k.wrap&&this.canonical.equals(k.canonical)},Mo.prototype.scaledTo=function(k){var j=this.canonical.z-k;return k>this.canonical.z?new Mo(k,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Mo(k,this.wrap,k,this.canonical.x>>j,this.canonical.y>>j)},Mo.prototype.calculateScaledKey=function(k,j){var ie=this.canonical.z-k;return k>this.canonical.z?qp(this.wrap*+j,k,this.canonical.z,this.canonical.x,this.canonical.y):qp(this.wrap*+j,k,k,this.canonical.x>>ie,this.canonical.y>>ie)},Mo.prototype.isChildOf=function(k){if(k.wrap!==this.wrap)return!1;var j=this.canonical.z-k.canonical.z;return k.overscaledZ===0||k.overscaledZ<this.overscaledZ&&k.canonical.x===this.canonical.x>>j&&k.canonical.y===this.canonical.y>>j},Mo.prototype.children=function(k){if(this.overscaledZ>=k)return[new Mo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var j=this.canonical.z+1,ie=this.canonical.x*2,pe=this.canonical.y*2;return[new Mo(j,this.wrap,j,ie,pe),new Mo(j,this.wrap,j,ie+1,pe),new Mo(j,this.wrap,j,ie,pe+1),new Mo(j,this.wrap,j,ie+1,pe+1)]},Mo.prototype.isLessThan=function(k){return this.wrap<k.wrap?!0:this.wrap>k.wrap?!1:this.overscaledZ<k.overscaledZ?!0:this.overscaledZ>k.overscaledZ?!1:this.canonical.x<k.canonical.x?!0:this.canonical.x>k.canonical.x?!1:this.canonical.y<k.canonical.y},Mo.prototype.wrapped=function(){return new Mo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Mo.prototype.unwrapTo=function(k){return new Mo(this.overscaledZ,k,this.canonical.z,this.canonical.x,this.canonical.y)},Mo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Mo.prototype.toUnwrapped=function(){return new yT(this.wrap,this.canonical)},Mo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Mo.prototype.getTilePoint=function(k){return this.canonical.getTilePoint(new Rv(k.x-this.wrap,k.y))};function qp(I,k,j,ie,pe){I*=2,I<0&&(I=I*-1-1);var Se=1<<j;return(Se*Se*I+Se*pe+ie).toString(36)+j.toString(36)+k.toString(36)}function zL(I,k,j){for(var ie="",pe,Se=I;Se>0;Se--)pe=1<<Se-1,ie+=(k&pe?1:0)+(j&pe?2:0);return ie}fe("CanonicalTileID",Dv),fe("OverscaledTileID",Mo,{omit:["posMatrix"]});var Lc=function(k,j,ie){if(this.uid=k,j.height!==j.width)throw new RangeError("DEM tiles must be square");if(ie&&ie!=="mapbox"&&ie!=="terrarium")return V('"'+ie+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=j.height;var pe=this.dim=j.height-2;this.data=new Uint32Array(j.data.buffer),this.encoding=ie||"mapbox";for(var Se=0;Se<pe;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(pe,Se)]=this.data[this._idx(pe-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,pe)]=this.data[this._idx(Se,pe-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(pe,-1)]=this.data[this._idx(pe-1,0)],this.data[this._idx(-1,pe)]=this.data[this._idx(0,pe-1)],this.data[this._idx(pe,pe)]=this.data[this._idx(pe-1,pe-1)]};Lc.prototype.get=function(k,j){var ie=new Uint8Array(this.data.buffer),pe=this._idx(k,j)*4,Se=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Se(ie[pe],ie[pe+1],ie[pe+2])},Lc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Lc.prototype._idx=function(k,j){if(k<-1||k>=this.dim+1||j<-1||j>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(j+1)*this.stride+(k+1)},Lc.prototype._unpackMapbox=function(k,j,ie){return(k*256*256+j*256+ie)/10-1e4},Lc.prototype._unpackTerrarium=function(k,j,ie){return k*256+j+ie/256-32768},Lc.prototype.getPixels=function(){return new js({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Lc.prototype.backfillBorder=function(k,j,ie){if(this.dim!==k.dim)throw new Error("dem dimension mismatch");var pe=j*this.dim,Se=j*this.dim+this.dim,Ie=ie*this.dim,$e=ie*this.dim+this.dim;switch(j){case-1:pe=Se-1;break;case 1:Se=pe+1;break}switch(ie){case-1:Ie=$e-1;break;case 1:$e=Ie+1;break}for(var ut=-j*this.dim,Tt=-ie*this.dim,Mt=Ie;Mt<$e;Mt++)for(var Gt=pe;Gt<Se;Gt++)this.data[this._idx(Gt,Mt)]=k.data[this._idx(Gt+ut,Mt+Tt)]},fe("DEMData",Lc);function OL(I,k){var j={};if(!k)return j;for(var ie=function(){var Ie=Se[pe],$e=Ie.layerIds.map(function(Gt){return k.getLayer(Gt)}).filter(Boolean);if($e.length!==0){Ie.layers=$e,Ie.stateDependentLayerIds&&(Ie.stateDependentLayers=Ie.stateDependentLayerIds.map(function(Gt){return $e.filter(function(ir){return ir.id===Gt})[0]}));for(var ut=0,Tt=$e;ut<Tt.length;ut+=1){var Mt=Tt[ut];j[Mt.id]=Ie}}},pe=0,Se=I;pe<Se.length;pe+=1)ie();return j}var jg=function(k){this._stringToNumber={},this._numberToString=[];for(var j=0;j<k.length;j++){var ie=k[j];this._stringToNumber[ie]=j,this._numberToString[j]=ie}};jg.prototype.encode=function(k){return this._stringToNumber[k]},jg.prototype.decode=function(k){return this._numberToString[k]};var Yg=function(k,j,ie,pe,Se){this.type="Feature",this._vectorTileFeature=k,k._z=j,k._x=ie,k._y=pe,this.properties=k.properties,this.id=Se},sx={geometry:{configurable:!0}};sx.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},sx.geometry.set=function(I){this._geometry=I},Yg.prototype.toJSON=function(){var k={geometry:this.geometry};for(var j in this)j==="_geometry"||j==="_vectorTileFeature"||(k[j]=this[j]);return k},Object.defineProperties(Yg.prototype,sx);var Ld=function(){this.state={},this.stateChanges={},this.deletedStates={}};Ld.prototype.updateState=function(k,j,ie){var pe=String(j);if(this.stateChanges[k]=this.stateChanges[k]||{},this.stateChanges[k][pe]=this.stateChanges[k][pe]||{},u(this.stateChanges[k][pe],ie),this.deletedStates[k]===null){this.deletedStates[k]={};for(var Se in this.state[k])Se!==pe&&(this.deletedStates[k][Se]=null)}else{var Ie=this.deletedStates[k]&&this.deletedStates[k][pe]===null;if(Ie){this.deletedStates[k][pe]={};for(var $e in this.state[k][pe])ie[$e]||(this.deletedStates[k][pe][$e]=null)}else for(var ut in ie){var Tt=this.deletedStates[k]&&this.deletedStates[k][pe]&&this.deletedStates[k][pe][ut]===null;Tt&&delete this.deletedStates[k][pe][ut]}}},Ld.prototype.removeFeatureState=function(k,j,ie){var pe=this.deletedStates[k]===null;if(!pe){var Se=String(j);if(this.deletedStates[k]=this.deletedStates[k]||{},ie&&j!==void 0)this.deletedStates[k][Se]!==null&&(this.deletedStates[k][Se]=this.deletedStates[k][Se]||{},this.deletedStates[k][Se][ie]=null);else if(j!==void 0){var Ie=this.stateChanges[k]&&this.stateChanges[k][Se];if(Ie){this.deletedStates[k][Se]={};for(ie in this.stateChanges[k][Se])this.deletedStates[k][Se][ie]=null}else this.deletedStates[k][Se]=null}else this.deletedStates[k]=null}},Ld.prototype.getState=function(k,j){var ie=String(j),pe=this.state[k]||{},Se=this.stateChanges[k]||{},Ie=u({},pe[ie],Se[ie]);if(this.deletedStates[k]===null)return{};if(this.deletedStates[k]){var $e=this.deletedStates[k][j];if($e===null)return{};for(var ut in $e)delete Ie[ut]}return Ie},Ld.prototype.initializeTileState=function(k,j){k.setFeatureState(this.state,j)},Ld.prototype.coalesceChanges=function(k,j){var ie={};for(var pe in this.stateChanges){this.state[pe]=this.state[pe]||{};var Se={};for(var Ie in this.stateChanges[pe])this.state[pe][Ie]||(this.state[pe][Ie]={}),u(this.state[pe][Ie],this.stateChanges[pe][Ie]),Se[Ie]=this.state[pe][Ie];ie[pe]=Se}for(var $e in this.deletedStates){this.state[$e]=this.state[$e]||{};var ut={};if(this.deletedStates[$e]===null)for(var Tt in this.state[$e])ut[Tt]={},this.state[$e][Tt]={};else for(var Mt in this.deletedStates[$e]){var Gt=this.deletedStates[$e][Mt]===null;if(Gt)this.state[$e][Mt]={};else for(var ir=0,Qt=Object.keys(this.deletedStates[$e][Mt]);ir<Qt.length;ir+=1){var br=Qt[ir];delete this.state[$e][Mt][br]}ut[Mt]=this.state[$e][Mt]}ie[$e]=ie[$e]||{},u(ie[$e],ut)}if(this.stateChanges={},this.deletedStates={},Object.keys(ie).length!==0)for(var Nr in k){var un=k[Nr];un.setFeatureState(ie,j)}};var Pc=function(k,j){this.tileID=k,this.x=k.canonical.x,this.y=k.canonical.y,this.z=k.canonical.z,this.grid=new ka(Ia,16,0),this.grid3D=new ka(Ia,16,0),this.featureIndexArray=new Bp,this.promoteId=j};Pc.prototype.insert=function(k,j,ie,pe,Se,Ie){var $e=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ie,pe,Se);for(var ut=Ie?this.grid3D:this.grid,Tt=0;Tt<j.length;Tt++){for(var Mt=j[Tt],Gt=[1/0,1/0,-1/0,-1/0],ir=0;ir<Mt.length;ir++){var Qt=Mt[ir];Gt[0]=Math.min(Gt[0],Qt.x),Gt[1]=Math.min(Gt[1],Qt.y),Gt[2]=Math.max(Gt[2],Qt.x),Gt[3]=Math.max(Gt[3],Qt.y)}Gt[0]<Ia&&Gt[1]<Ia&&Gt[2]>=0&&Gt[3]>=0&&ut.insert($e,Gt[0],Gt[1],Gt[2],Gt[3])}},Pc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new gd.VectorTile(new _g(this.rawTileData)).layers,this.sourceLayerCoder=new jg(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Pc.prototype.query=function(k,j,ie,pe){var Se=this;this.loadVTLayers();for(var Ie=k.params||{},$e=Ia/k.tileSize/k.scale,ut=qu(Ie.filter),Tt=k.queryGeometry,Mt=k.queryPadding*$e,Gt=xT(Tt),ir=this.grid.query(Gt.minX-Mt,Gt.minY-Mt,Gt.maxX+Mt,Gt.maxY+Mt),Qt=xT(k.cameraQueryGeometry),br=this.grid3D.query(Qt.minX-Mt,Qt.minY-Mt,Qt.maxX+Mt,Qt.maxY+Mt,function(Wn,aa,na,Pa){return Nf(k.cameraQueryGeometry,Wn-Mt,aa-Mt,na+Mt,Pa+Mt)}),Nr=0,un=br;Nr<un.length;Nr+=1){var en=un[Nr];ir.push(en)}ir.sort(BL);for(var Pn={},Tn,Ln=function(Wn){var aa=ir[Wn];if(aa!==Tn){Tn=aa;var na=Se.featureIndexArray.get(aa),Pa=null;Se.loadMatchingFeature(Pn,na.bucketIndex,na.sourceLayerIndex,na.featureIndex,ut,Ie.layers,Ie.availableImages,j,ie,pe,function(da,ba,Wa){return Pa||(Pa=Ti(da)),ba.queryIntersectsFeature(Tt,da,Wa,Pa,Se.z,k.transform,$e,k.pixelPosMatrix)})}},Fn=0;Fn<ir.length;Fn++)Ln(Fn);return Pn},Pc.prototype.loadMatchingFeature=function(k,j,ie,pe,Se,Ie,$e,ut,Tt,Mt,Gt){var ir=this.bucketLayerIDs[j];if(!(Ie&&!O(Ie,ir))){var Qt=this.sourceLayerCoder.decode(ie),br=this.vtLayers[Qt],Nr=br.feature(pe);if(Se.filter(new Gn(this.tileID.overscaledZ),Nr))for(var un=this.getId(Nr,Qt),en=0;en<ir.length;en++){var Pn=ir[en];if(!(Ie&&Ie.indexOf(Pn)<0)){var Tn=ut[Pn];if(Tn){var Ln={};un!==void 0&&Mt&&(Ln=Mt.getState(Tn.sourceLayer||"_geojsonTileLayer",un));var Fn=Tt[Pn];Fn.paint=mT(Fn.paint,Tn.paint,Nr,Ln,$e),Fn.layout=mT(Fn.layout,Tn.layout,Nr,Ln,$e);var Wn=!Gt||Gt(Nr,Tn,Ln);if(Wn){var aa=new Yg(Nr,this.z,this.x,this.y,un);aa.layer=Fn;var na=k[Pn];na===void 0&&(na=k[Pn]=[]),na.push({featureIndex:pe,feature:aa,intersectionZ:Wn})}}}}}},Pc.prototype.lookupSymbolFeatures=function(k,j,ie,pe,Se,Ie,$e,ut){var Tt={};this.loadVTLayers();for(var Mt=qu(Se),Gt=0,ir=k;Gt<ir.length;Gt+=1){var Qt=ir[Gt];this.loadMatchingFeature(Tt,ie,pe,Qt,Mt,Ie,$e,ut,j)}return Tt},Pc.prototype.hasLayer=function(k){for(var j=0,ie=this.bucketLayerIDs;j<ie.length;j+=1)for(var pe=ie[j],Se=0,Ie=pe;Se<Ie.length;Se+=1){var $e=Ie[Se];if(k===$e)return!0}return!1},Pc.prototype.getId=function(k,j){var ie=k.id;if(this.promoteId){var pe=typeof this.promoteId=="string"?this.promoteId:this.promoteId[j];ie=k.properties[pe],typeof ie=="boolean"&&(ie=Number(ie))}return ie},fe("FeatureIndex",Pc,{omit:["rawTileData","sourceLayerCoder"]});function mT(I,k,j,ie,pe){return i(I,function(Se,Ie){var $e=k instanceof bi?k.get(Ie):null;return $e&&$e.evaluate?$e.evaluate(j,ie,pe):$e})}function xT(I){for(var k=1/0,j=1/0,ie=-1/0,pe=-1/0,Se=0,Ie=I;Se<Ie.length;Se+=1){var $e=Ie[Se];k=Math.min(k,$e.x),j=Math.min(j,$e.y),ie=Math.max(ie,$e.x),pe=Math.max(pe,$e.y)}return{minX:k,minY:j,maxX:ie,maxY:pe}}function BL(I,k){return k-I}var NL=3e4,Uo=function(k,j){this.tileID=k,this.uid=S(),this.uses=0,this.tileSize=j,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Uo.prototype.registerFadeDuration=function(k){var j=k+this.timeAdded;j<le.now()||this.fadeEndTime&&j<this.fadeEndTime||(this.fadeEndTime=j)},Uo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Uo.prototype.loadVectorData=function(k,j,ie){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!k){this.collisionBoxArray=new Bf;return}k.featureIndex&&(this.latestFeatureIndex=k.featureIndex,k.rawTileData?(this.latestRawTileData=k.rawTileData,this.latestFeatureIndex.rawTileData=k.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=k.collisionBoxArray,this.buckets=OL(k.buckets,j.style),this.hasSymbolBuckets=!1;for(var pe in this.buckets){var Se=this.buckets[pe];if(Se instanceof Li)if(this.hasSymbolBuckets=!0,ie)Se.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ie in this.buckets){var $e=this.buckets[Ie];if($e instanceof Li&&$e.hasRTLText){this.hasRTLText=!0,gi();break}}this.queryPadding=0;for(var ut in this.buckets){var Tt=this.buckets[ut];this.queryPadding=Math.max(this.queryPadding,j.style.getLayer(ut).queryRadius(Tt))}k.imageAtlas&&(this.imageAtlas=k.imageAtlas),k.glyphAtlasImage&&(this.glyphAtlasImage=k.glyphAtlasImage)},Uo.prototype.unloadVectorData=function(){for(var k in this.buckets)this.buckets[k].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Uo.prototype.getBucket=function(k){return this.buckets[k.id]},Uo.prototype.upload=function(k){for(var j in this.buckets){var ie=this.buckets[j];ie.uploadPending()&&ie.upload(k)}var pe=k.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Pv(k,this.imageAtlas.image,pe.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Pv(k,this.glyphAtlasImage,pe.ALPHA),this.glyphAtlasImage=null)},Uo.prototype.prepare=function(k){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(k,this.imageAtlasTexture)},Uo.prototype.queryRenderedFeatures=function(k,j,ie,pe,Se,Ie,$e,ut,Tt,Mt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:pe,cameraQueryGeometry:Se,scale:Ie,tileSize:this.tileSize,pixelPosMatrix:Mt,transform:ut,params:$e,queryPadding:this.queryPadding*Tt},k,j,ie)},Uo.prototype.querySourceFeatures=function(k,j){var ie=this.latestFeatureIndex;if(!(!ie||!ie.rawTileData)){var pe=ie.loadVTLayers(),Se=j?j.sourceLayer:"",Ie=pe._geojsonTileLayer||pe[Se];if(Ie)for(var $e=qu(j&&j.filter),ut=this.tileID.canonical,Tt=ut.z,Mt=ut.x,Gt=ut.y,ir={z:Tt,x:Mt,y:Gt},Qt=0;Qt<Ie.length;Qt++){var br=Ie.feature(Qt);if($e.filter(new Gn(this.tileID.overscaledZ),br)){var Nr=ie.getId(br,Se),un=new Yg(br,Tt,Mt,Gt,Nr);un.tile=ir,k.push(un)}}}},Uo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Uo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Uo.prototype.setExpiryData=function(k){var j=this.expirationTime;if(k.cacheControl){var ie=G(k.cacheControl);ie["max-age"]&&(this.expirationTime=Date.now()+ie["max-age"]*1e3)}else k.expires&&(this.expirationTime=new Date(k.expires).getTime());if(this.expirationTime){var pe=Date.now(),Se=!1;if(this.expirationTime>pe)Se=!1;else if(!j)Se=!0;else if(this.expirationTime<j)Se=!0;else{var Ie=this.expirationTime-j;Ie?this.expirationTime=pe+Math.max(Ie,NL):Se=!0}Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Uo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Uo.prototype.setFeatureState=function(k,j){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(k).length===0)){var ie=this.latestFeatureIndex.loadVTLayers();for(var pe in this.buckets)if(j.style.hasLayer(pe)){var Se=this.buckets[pe],Ie=Se.layers[0].sourceLayer||"_geojsonTileLayer",$e=ie[Ie],ut=k[Ie];if(!(!$e||!ut||Object.keys(ut).length===0)){Se.update(ut,$e,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Tt=j&&j.style&&j.style.getLayer(pe);Tt&&(this.queryPadding=Math.max(this.queryPadding,Tt.queryRadius(Se)))}}}},Uo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Uo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<le.now()},Uo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Uo.prototype.setHoldDuration=function(k){this.symbolFadeHoldUntil=le.now()+k},Uo.prototype.setDependencies=function(k,j){for(var ie={},pe=0,Se=j;pe<Se.length;pe+=1){var Ie=Se[pe];ie[Ie]=!0}this.dependencies[k]=ie},Uo.prototype.hasDependency=function(k,j){for(var ie=0,pe=k;ie<pe.length;ie+=1){var Se=pe[ie],Ie=this.dependencies[Se];if(Ie)for(var $e=0,ut=j;$e<ut.length;$e+=1){var Tt=ut[$e];if(Ie[Tt])return!0}}return!1};var UL=["type","source","source-layer","minzoom","maxzoom","filter","layout"],xh=self.performance,bT=function(k){this._marks={start:[k.url,"start"].join("#"),end:[k.url,"end"].join("#"),measure:k.url.toString()},xh.mark(this._marks.start)};bT.prototype.finish=function(){xh.mark(this._marks.end);var k=xh.getEntriesByName(this._marks.measure);return k.length===0&&(xh.measure(this._marks.measure,this._marks.start,this._marks.end),k=xh.getEntriesByName(this._marks.measure),xh.clearMarks(this._marks.start),xh.clearMarks(this._marks.end),xh.clearMeasures(this._marks.measure)),k},a.Actor=Cd,a.AlphaImage=Lv,a.CanonicalTileID=Dv,a.CollisionBoxArray=Bf,a.Color=oi,a.DEMData=Lc,a.DataConstantProperty=xa,a.DictionaryCoder=jg,a.EXTENT=Ia,a.ErrorEvent=tr,a.EvaluationParameters=Gn,a.Event=jt,a.Evented=or,a.FeatureIndex=Pc,a.FillBucket=sf,a.FillExtrusionBucket=lf,a.ImageAtlas=$p,a.ImagePosition=Og,a.LineBucket=Ys,a.LngLat=Yi,a.LngLatBounds=So,a.MercatorCoordinate=Rv,a.ONE_EM=Jo,a.OverscaledTileID=Mo,a.Point=t,a.Point$1=t,a.Properties=vo,a.Protobuf=_g,a.RGBAImage=js,a.RequestManager=Le,a.RequestPerformance=bT,a.ResourceType=yt,a.SegmentVector=X,a.SourceFeatureState=Ld,a.StructArrayLayout1ui2=vh,a.StructArrayLayout2f1f2i16=nf,a.StructArrayLayout2i4=wv,a.StructArrayLayout3ui6=af,a.StructArrayLayout4i8=Ff,a.SymbolBucket=Li,a.Texture=Pv,a.Tile=Uo,a.Transitionable=Qa,a.Uniform1f=Vr,a.Uniform1i=Yr,a.Uniform2f=qr,a.Uniform3f=cn,a.Uniform4f=Dn,a.UniformColor=On,a.UniformMatrix4f=Jn,a.UnwrappedTileID=yT,a.ValidationError=wr,a.WritingMode=Pl,a.ZoomHistory=Pt,a.add=vd,a.addDynamicAttributes=nx,a.asyncAll=v,a.bezier=l,a.bindAll=E,a.browser=le,a.cacheEntryPossiblyAdded=Wt,a.clamp=f,a.clearTileCache=At,a.clipLine=eT,a.clone=Lg,a.clone$1=b,a.clone$2=z1,a.collisionCircleLayout=b8,a.config=te,a.create=fd,a.create$1=Ev,a.create$2=Mv,a.createCommonjsModule=C,a.createExpression=Yl,a.createLayout=ki,a.createStyleLayer=DL,a.cross=KE,a.deepEqual=s,a.dot=$E,a.dot$1=tC,a.ease=c,a.emitValidationErrors=Da,a.endsWith=T,a.enforceCacheSizeLimit=qt,a.evaluateSizeForFeature=Zw,a.evaluateSizeForZoom=Xw,a.evaluateVariableOffset=nT,a.evented=Ta,a.extend=u,a.featureFilter=qu,a.filterObject=D,a.fromRotation=ud,a.getAnchorAlignment=q1,a.getAnchorJustification=rx,a.getArrayBuffer=St,a.getImage=Ye,a.getJSON=xt,a.getRTLTextPluginStatus=ja,a.getReferrer=$t,a.getVideo=je,a.identity=cd,a.invert=ph,a.isChar=ft,a.isMapboxURL=we,a.keysDifference=d,a.makeRequest=st,a.mapObject=i,a.mercatorXfromLng=dT,a.mercatorYfromLat=pT,a.mercatorZfromAltitude=gT,a.mul=_1,a.multiply=gh,a.mvt=gd,a.normalize=Up,a.number=$i,a.offscreenCanvasSupported=Sr,a.ortho=F1,a.parseGlyphPBF=Z8,a.pbf=_g,a.performSymbolLayout=cL,a.perspective=Np,a.pick=y,a.plugin=si,a.polygonIntersectsPolygon=Za,a.postMapLoadEvent=Je,a.postTurnstileEvent=Ct,a.potpack=Nw,a.refProperties=UL,a.register=fe,a.registerForPluginStateChange=Ra,a.rotate=vs,a.rotateX=Ws,a.rotateZ=hd,a.scale=Gs,a.scale$1=eC,a.scale$2=B1,a.setCacheLimits=zt,a.setRTLTextPlugin=Va,a.sphericalToCartesian=H,a.sqrLen=aC,a.styleSpec=Yt,a.sub=QE,a.symbolSize=rL,a.transformMat3=JE,a.transformMat4=Pg,a.translate=oo,a.triggerPluginCompletionEvent=la,a.uniqueId=S,a.validateCustomStyleLayer=LL,a.validateLight=Sn,a.validateStyle=wn,a.values=A,a.vectorTile=gd,a.version=w,a.warnOnce=V,a.webpSupported=ee,a.window=self,a.wrap=m}),L(["./shared"],function(a){function C(pt){var st=typeof pt;if(st==="number"||st==="boolean"||st==="string"||pt===void 0||pt===null)return JSON.stringify(pt);if(Array.isArray(pt)){for(var xt="[",St=0,Dt=pt;St<Dt.length;St+=1){var Rt=Dt[St];xt+=C(Rt)+","}return xt+"]"}for(var Bt=Object.keys(pt).sort(),Nt="{",Xt=0;Xt<Bt.length;Xt++)Nt+=JSON.stringify(Bt[Xt])+":"+C(pt[Bt[Xt]])+",";return Nt+"}"}function w(pt){for(var st="",xt=0,St=a.refProperties;xt<St.length;xt+=1){var Dt=St[xt];st+="/"+C(pt[Dt])}return st}function h(pt,st){for(var xt={},St=0;St<pt.length;St++){var Dt=st&&st[pt[St].id]||w(pt[St]);st&&(st[pt[St].id]=Dt);var Rt=xt[Dt];Rt||(Rt=xt[Dt]=[]),Rt.push(pt[St])}var Bt=[];for(var Nt in xt)Bt.push(xt[Nt]);return Bt}var g=function(st){this.keyCache={},st&&this.replace(st)};g.prototype.replace=function(st){this._layerConfigs={},this._layers={},this.update(st,[])},g.prototype.update=function(st,xt){for(var St=this,Dt=0,Rt=st;Dt<Rt.length;Dt+=1){var Bt=Rt[Dt];this._layerConfigs[Bt.id]=Bt;var Nt=this._layers[Bt.id]=a.createStyleLayer(Bt);Nt._featureFilter=a.featureFilter(Nt.filter),this.keyCache[Bt.id]&&delete this.keyCache[Bt.id]}for(var Xt=0,lr=xt;Xt<lr.length;Xt+=1){var sr=lr[Xt];delete this.keyCache[sr],delete this._layerConfigs[sr],delete this._layers[sr]}this.familiesBySource={};for(var dr=h(a.values(this._layerConfigs),this.keyCache),Ye=0,je=dr;Ye<je.length;Ye+=1){var It=je[Ye],kt=It.map(function(hr){return St._layers[hr.id]}),jt=kt[0];if(jt.visibility!=="none"){var tr=jt.source||"",or=this.familiesBySource[tr];or||(or=this.familiesBySource[tr]={});var rr=jt.sourceLayer||"_geojsonTileLayer",_t=or[rr];_t||(_t=or[rr]=[]),_t.push(kt)}}};var t=1,r=function(st){var xt={},St=[];for(var Dt in st){var Rt=st[Dt],Bt=xt[Dt]={};for(var Nt in Rt){var Xt=Rt[+Nt];if(!(!Xt||Xt.bitmap.width===0||Xt.bitmap.height===0)){var lr={x:0,y:0,w:Xt.bitmap.width+2*t,h:Xt.bitmap.height+2*t};St.push(lr),Bt[Nt]={rect:lr,metrics:Xt.metrics}}}}var sr=a.potpack(St),dr=sr.w,Ye=sr.h,je=new a.AlphaImage({width:dr||1,height:Ye||1});for(var It in st){var kt=st[It];for(var jt in kt){var tr=kt[+jt];if(!(!tr||tr.bitmap.width===0||tr.bitmap.height===0)){var or=xt[It][jt].rect;a.AlphaImage.copy(tr.bitmap,je,{x:0,y:0},{x:or.x+t,y:or.y+t},tr.bitmap)}}}this.image=je,this.positions=xt};a.register("GlyphAtlas",r);var s=function(st){this.tileID=new a.OverscaledTileID(st.tileID.overscaledZ,st.tileID.wrap,st.tileID.canonical.z,st.tileID.canonical.x,st.tileID.canonical.y),this.uid=st.uid,this.zoom=st.zoom,this.pixelRatio=st.pixelRatio,this.tileSize=st.tileSize,this.source=st.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=st.showCollisionBoxes,this.collectResourceTiming=!!st.collectResourceTiming,this.returnDependencies=!!st.returnDependencies,this.promoteId=st.promoteId};s.prototype.parse=function(st,xt,St,Dt,Rt){var Bt=this;this.status="parsing",this.data=st,this.collisionBoxArray=new a.CollisionBoxArray;var Nt=new a.DictionaryCoder(Object.keys(st.layers).sort()),Xt=new a.FeatureIndex(this.tileID,this.promoteId);Xt.bucketLayerIDs=[];var lr={},sr={featureIndex:Xt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:St},dr=xt.familiesBySource[this.source];for(var Ye in dr){var je=st.layers[Ye];if(je){je.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Ye+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var It=Nt.encode(Ye),kt=[],jt=0;jt<je.length;jt++){var tr=je.feature(jt),or=Xt.getId(tr,Ye);kt.push({feature:tr,id:or,index:jt,sourceLayerIndex:It})}for(var rr=0,_t=dr[Ye];rr<_t.length;rr+=1){var hr=_t[rr],gr=hr[0];if(!(gr.minzoom&&this.zoom<Math.floor(gr.minzoom))&&!(gr.maxzoom&&this.zoom>=gr.maxzoom)&&gr.visibility!=="none"){n(hr,this.zoom,St);var pr=lr[gr.id]=gr.createBucket({index:Xt.bucketLayerIDs.length,layers:hr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:It,sourceID:this.source});pr.populate(kt,sr,this.tileID.canonical),Xt.bucketLayerIDs.push(hr.map(function(Mr){return Mr.id}))}}}}var vr,Gr,Fr,_r,gn=a.mapObject(sr.glyphDependencies,function(Mr){return Object.keys(Mr).map(Number)});Object.keys(gn).length?Dt.send("getGlyphs",{uid:this.uid,stacks:gn},function(Mr,Cr){vr||(vr=Mr,Gr=Cr,An.call(Bt))}):Gr={};var tn=Object.keys(sr.iconDependencies);tn.length?Dt.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"icons"},function(Mr,Cr){vr||(vr=Mr,Fr=Cr,An.call(Bt))}):Fr={};var Bn=Object.keys(sr.patternDependencies);Bn.length?Dt.send("getImages",{icons:Bn,source:this.source,tileID:this.tileID,type:"patterns"},function(Mr,Cr){vr||(vr=Mr,_r=Cr,An.call(Bt))}):_r={},An.call(this);function An(){if(vr)return Rt(vr);if(Gr&&Fr&&_r){var Mr=new r(Gr),Cr=new a.ImageAtlas(Fr,_r);for(var jr in lr){var Hr=lr[jr];Hr instanceof a.SymbolBucket?(n(Hr.layers,this.zoom,St),a.performSymbolLayout(Hr,Gr,Mr.positions,Fr,Cr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Hr.hasPattern&&(Hr instanceof a.LineBucket||Hr instanceof a.FillBucket||Hr instanceof a.FillExtrusionBucket)&&(n(Hr.layers,this.zoom,St),Hr.addFeatures(sr,this.tileID.canonical,Cr.patternPositions))}this.status="done",Rt(null,{buckets:a.values(lr).filter(function(on){return!on.isEmpty()}),featureIndex:Xt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Mr.image,imageAtlas:Cr,glyphMap:this.returnDependencies?Gr:null,iconMap:this.returnDependencies?Fr:null,glyphPositions:this.returnDependencies?Mr.positions:null})}}};function n(pt,st,xt){for(var St=new a.EvaluationParameters(st),Dt=0,Rt=pt;Dt<Rt.length;Dt+=1){var Bt=Rt[Dt];Bt.recalculate(St,xt)}}function l(pt,st){var xt=a.getArrayBuffer(pt.request,function(St,Dt,Rt,Bt){St?st(St):Dt&&st(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Dt)),rawData:Dt,cacheControl:Rt,expires:Bt})});return function(){xt.cancel(),st()}}var c=function(st,xt,St,Dt){this.actor=st,this.layerIndex=xt,this.availableImages=St,this.loadVectorData=Dt||l,this.loading={},this.loaded={}};c.prototype.loadTile=function(st,xt){var St=this,Dt=st.uid;this.loading||(this.loading={});var Rt=st&&st.request&&st.request.collectResourceTiming?new a.RequestPerformance(st.request):!1,Bt=this.loading[Dt]=new s(st);Bt.abort=this.loadVectorData(st,function(Nt,Xt){if(delete St.loading[Dt],Nt||!Xt)return Bt.status="done",St.loaded[Dt]=Bt,xt(Nt);var lr=Xt.rawData,sr={};Xt.expires&&(sr.expires=Xt.expires),Xt.cacheControl&&(sr.cacheControl=Xt.cacheControl);var dr={};if(Rt){var Ye=Rt.finish();Ye&&(dr.resourceTiming=JSON.parse(JSON.stringify(Ye)))}Bt.vectorTile=Xt.vectorTile,Bt.parse(Xt.vectorTile,St.layerIndex,St.availableImages,St.actor,function(je,It){if(je||!It)return xt(je);xt(null,a.extend({rawTileData:lr.slice(0)},It,sr,dr))}),St.loaded=St.loaded||{},St.loaded[Dt]=Bt})},c.prototype.reloadTile=function(st,xt){var St=this,Dt=this.loaded,Rt=st.uid,Bt=this;if(Dt&&Dt[Rt]){var Nt=Dt[Rt];Nt.showCollisionBoxes=st.showCollisionBoxes;var Xt=function(lr,sr){var dr=Nt.reloadCallback;dr&&(delete Nt.reloadCallback,Nt.parse(Nt.vectorTile,Bt.layerIndex,St.availableImages,Bt.actor,dr)),xt(lr,sr)};Nt.status==="parsing"?Nt.reloadCallback=Xt:Nt.status==="done"&&(Nt.vectorTile?Nt.parse(Nt.vectorTile,this.layerIndex,this.availableImages,this.actor,Xt):Xt())}},c.prototype.abortTile=function(st,xt){var St=this.loading,Dt=st.uid;St&&St[Dt]&&St[Dt].abort&&(St[Dt].abort(),delete St[Dt]),xt()},c.prototype.removeTile=function(st,xt){var St=this.loaded,Dt=st.uid;St&&St[Dt]&&delete St[Dt],xt()};var f=a.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(st,xt){var St=st.uid,Dt=st.encoding,Rt=st.rawImageData,Bt=f&&Rt instanceof f?this.getImageData(Rt):Rt,Nt=new a.DEMData(St,Bt,Dt);this.loaded=this.loaded||{},this.loaded[St]=Nt,xt(null,Nt)},m.prototype.getImageData=function(st){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(st.width,st.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=st.width,this.offscreenCanvas.height=st.height,this.offscreenCanvasContext.drawImage(st,0,0,st.width,st.height);var xt=this.offscreenCanvasContext.getImageData(-1,-1,st.width+2,st.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:xt.width,height:xt.height},xt.data)},m.prototype.removeTile=function(st){var xt=this.loaded,St=st.uid;xt&&xt[St]&&delete xt[St]};var v=A;function A(pt,st){var xt=pt&&pt.type,St;if(xt==="FeatureCollection")for(St=0;St<pt.features.length;St++)A(pt.features[St],st);else if(xt==="GeometryCollection")for(St=0;St<pt.geometries.length;St++)A(pt.geometries[St],st);else if(xt==="Feature")A(pt.geometry,st);else if(xt==="Polygon")d(pt.coordinates,st);else if(xt==="MultiPolygon")for(St=0;St<pt.coordinates.length;St++)d(pt.coordinates[St],st);return pt}function d(pt,st){if(pt.length!==0){u(pt[0],st);for(var xt=1;xt<pt.length;xt++)u(pt[xt],!st)}}function u(pt,st){for(var xt=0,St=0,Dt=pt.length,Rt=Dt-1;St<Dt;Rt=St++)xt+=(pt[St][0]-pt[Rt][0])*(pt[Rt][1]+pt[St][1]);xt>=0!=!!st&&pt.reverse()}var y=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,M=function(st){this._feature=st,this.extent=a.EXTENT,this.type=st.type,this.properties=st.tags,"id"in st&&!isNaN(st.id)&&(this.id=parseInt(st.id,10))};M.prototype.loadGeometry=function(){if(this._feature.type===1){for(var st=[],xt=0,St=this._feature.geometry;xt<St.length;xt+=1){var Dt=St[xt];st.push([new a.Point$1(Dt[0],Dt[1])])}return st}else{for(var Rt=[],Bt=0,Nt=this._feature.geometry;Bt<Nt.length;Bt+=1){for(var Xt=Nt[Bt],lr=[],sr=0,dr=Xt;sr<dr.length;sr+=1){var Ye=dr[sr];lr.push(new a.Point$1(Ye[0],Ye[1]))}Rt.push(lr)}return Rt}},M.prototype.toGeoJSON=function(st,xt,St){return y.call(this,st,xt,St)};var S=function(st){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=st.length,this._features=st};S.prototype.feature=function(st){return new M(this._features[st])};var R=a.vectorTile.VectorTileFeature,x=E;function E(pt,st){this.options=st||{},this.features=pt,this.length=pt.length}E.prototype.feature=function(pt){return new T(this.features[pt],this.options.extent)};function T(pt,st){this.id=typeof pt.id=="number"?pt.id:void 0,this.type=pt.type,this.rawGeometry=pt.type===1?[pt.geometry]:pt.geometry,this.properties=pt.tags,this.extent=st||4096}T.prototype.loadGeometry=function(){var pt=this.rawGeometry;this.geometry=[];for(var st=0;st<pt.length;st++){for(var xt=pt[st],St=[],Dt=0;Dt<xt.length;Dt++)St.push(new a.Point$1(xt[Dt][0],xt[Dt][1]));this.geometry.push(St)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var pt=this.geometry,st=1/0,xt=-1/0,St=1/0,Dt=-1/0,Rt=0;Rt<pt.length;Rt++)for(var Bt=pt[Rt],Nt=0;Nt<Bt.length;Nt++){var Xt=Bt[Nt];st=Math.min(st,Xt.x),xt=Math.max(xt,Xt.x),St=Math.min(St,Xt.y),Dt=Math.max(Dt,Xt.y)}return[st,St,xt,Dt]},T.prototype.toGeoJSON=R.prototype.toGeoJSON;var i=F,D=F,b=V,O=x;function F(pt){var st=new a.pbf;return _(pt,st),st.finish()}function V(pt,st){st=st||{};var xt={};for(var St in pt)xt[St]=new x(pt[St].features,st),xt[St].name=St,xt[St].version=st.version,xt[St].extent=st.extent;return F({layers:xt})}function _(pt,st){for(var xt in pt.layers)st.writeMessage(3,U,pt.layers[xt])}function U(pt,st){st.writeVarintField(15,pt.version||1),st.writeStringField(1,pt.name||""),st.writeVarintField(5,pt.extent||4096);var xt,St={keys:[],values:[],keycache:{},valuecache:{}};for(xt=0;xt<pt.length;xt++)St.feature=pt.feature(xt),st.writeMessage(2,H,St);var Dt=St.keys;for(xt=0;xt<Dt.length;xt++)st.writeStringField(3,Dt[xt]);var Rt=St.values;for(xt=0;xt<Rt.length;xt++)st.writeMessage(4,ae,Rt[xt])}function H(pt,st){var xt=pt.feature;xt.id!==void 0&&st.writeVarintField(1,xt.id),st.writeMessage(2,z,pt),st.writeVarintField(3,xt.type),st.writeMessage(4,J,xt)}function z(pt,st){var xt=pt.feature,St=pt.keys,Dt=pt.values,Rt=pt.keycache,Bt=pt.valuecache;for(var Nt in xt.properties){var Xt=Rt[Nt];typeof Xt>"u"&&(St.push(Nt),Xt=St.length-1,Rt[Nt]=Xt),st.writeVarint(Xt);var lr=xt.properties[Nt],sr=typeof lr;sr!=="string"&&sr!=="boolean"&&sr!=="number"&&(lr=JSON.stringify(lr));var dr=sr+":"+lr,Ye=Bt[dr];typeof Ye>"u"&&(Dt.push(lr),Ye=Dt.length-1,Bt[dr]=Ye),st.writeVarint(Ye)}}function G(pt,st){return(st<<3)+(pt&7)}function Y(pt){return pt<<1^pt>>31}function J(pt,st){for(var xt=pt.loadGeometry(),St=pt.type,Dt=0,Rt=0,Bt=xt.length,Nt=0;Nt<Bt;Nt++){var Xt=xt[Nt],lr=1;St===1&&(lr=Xt.length),st.writeVarint(G(1,lr));for(var sr=St===3?Xt.length-1:Xt.length,dr=0;dr<sr;dr++){dr===1&&St!==1&&st.writeVarint(G(2,sr-1));var Ye=Xt[dr].x-Dt,je=Xt[dr].y-Rt;st.writeVarint(Y(Ye)),st.writeVarint(Y(je)),Dt+=Ye,Rt+=je}St===3&&st.writeVarint(G(7,1))}}function ae(pt,st){var xt=typeof pt;xt==="string"?st.writeStringField(1,pt):xt==="boolean"?st.writeBooleanField(7,pt):xt==="number"&&(pt%1!==0?st.writeDoubleField(3,pt):pt<0?st.writeSVarintField(6,pt):st.writeVarintField(5,pt))}i.fromVectorTileJs=D,i.fromGeojsonVt=b,i.GeoJSONWrapper=O;function oe(pt,st,xt,St,Dt,Rt){if(!(Dt-St<=xt)){var Bt=St+Dt>>1;he(pt,st,Bt,St,Dt,Rt%2),oe(pt,st,xt,St,Bt-1,Rt+1),oe(pt,st,xt,Bt+1,Dt,Rt+1)}}function he(pt,st,xt,St,Dt,Rt){for(;Dt>St;){if(Dt-St>600){var Bt=Dt-St+1,Nt=xt-St+1,Xt=Math.log(Bt),lr=.5*Math.exp(2*Xt/3),sr=.5*Math.sqrt(Xt*lr*(Bt-lr)/Bt)*(Nt-Bt/2<0?-1:1),dr=Math.max(St,Math.floor(xt-Nt*lr/Bt+sr)),Ye=Math.min(Dt,Math.floor(xt+(Bt-Nt)*lr/Bt+sr));he(pt,st,xt,dr,Ye,Rt)}var je=st[2*xt+Rt],It=St,kt=Dt;for(q(pt,st,St,xt),st[2*Dt+Rt]>je&&q(pt,st,St,Dt);It<kt;){for(q(pt,st,It,kt),It++,kt--;st[2*It+Rt]<je;)It++;for(;st[2*kt+Rt]>je;)kt--}st[2*St+Rt]===je?q(pt,st,St,kt):(kt++,q(pt,st,kt,Dt)),kt<=xt&&(St=kt+1),xt<=kt&&(Dt=kt-1)}}function q(pt,st,xt,St){Z(pt,xt,St),Z(st,2*xt,2*St),Z(st,2*xt+1,2*St+1)}function Z(pt,st,xt){var St=pt[st];pt[st]=pt[xt],pt[xt]=St}function $(pt,st,xt,St,Dt,Rt,Bt){for(var Nt=[0,pt.length-1,0],Xt=[],lr,sr;Nt.length;){var dr=Nt.pop(),Ye=Nt.pop(),je=Nt.pop();if(Ye-je<=Bt){for(var It=je;It<=Ye;It++)lr=st[2*It],sr=st[2*It+1],lr>=xt&&lr<=Dt&&sr>=St&&sr<=Rt&&Xt.push(pt[It]);continue}var kt=Math.floor((je+Ye)/2);lr=st[2*kt],sr=st[2*kt+1],lr>=xt&&lr<=Dt&&sr>=St&&sr<=Rt&&Xt.push(pt[kt]);var jt=(dr+1)%2;(dr===0?xt<=lr:St<=sr)&&(Nt.push(je),Nt.push(kt-1),Nt.push(jt)),(dr===0?Dt>=lr:Rt>=sr)&&(Nt.push(kt+1),Nt.push(Ye),Nt.push(jt))}return Xt}function K(pt,st,xt,St,Dt,Rt){for(var Bt=[0,pt.length-1,0],Nt=[],Xt=Dt*Dt;Bt.length;){var lr=Bt.pop(),sr=Bt.pop(),dr=Bt.pop();if(sr-dr<=Rt){for(var Ye=dr;Ye<=sr;Ye++)re(st[2*Ye],st[2*Ye+1],xt,St)<=Xt&&Nt.push(pt[Ye]);continue}var je=Math.floor((dr+sr)/2),It=st[2*je],kt=st[2*je+1];re(It,kt,xt,St)<=Xt&&Nt.push(pt[je]);var jt=(lr+1)%2;(lr===0?xt-Dt<=It:St-Dt<=kt)&&(Bt.push(dr),Bt.push(je-1),Bt.push(jt)),(lr===0?xt+Dt>=It:St+Dt>=kt)&&(Bt.push(je+1),Bt.push(sr),Bt.push(jt))}return Nt}function re(pt,st,xt,St){var Dt=pt-xt,Rt=st-St;return Dt*Dt+Rt*Rt}var le=function(pt){return pt[0]},te=function(pt){return pt[1]},ee=function(st,xt,St,Dt,Rt){xt===void 0&&(xt=le),St===void 0&&(St=te),Dt===void 0&&(Dt=64),Rt===void 0&&(Rt=Float64Array),this.nodeSize=Dt,this.points=st;for(var Bt=st.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new Bt(st.length),Xt=this.coords=new Rt(st.length*2),lr=0;lr<st.length;lr++)Nt[lr]=lr,Xt[2*lr]=xt(st[lr]),Xt[2*lr+1]=St(st[lr]);oe(Nt,Xt,Dt,0,Nt.length-1,0)};ee.prototype.range=function(st,xt,St,Dt){return $(this.ids,this.coords,st,xt,St,Dt,this.nodeSize)},ee.prototype.within=function(st,xt,St){return K(this.ids,this.coords,st,xt,St,this.nodeSize)};var ue={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(pt){return pt}},se=function(st){this.options=Ce(Object.create(ue),st),this.trees=new Array(this.options.maxZoom+1)};se.prototype.load=function(st){var xt=this.options,St=xt.log,Dt=xt.minZoom,Rt=xt.maxZoom,Bt=xt.nodeSize;St&&console.time("total time");var Nt="prepare "+st.length+" points";St&&console.time(Nt),this.points=st;for(var Xt=[],lr=0;lr<st.length;lr++)st[lr].geometry&&Xt.push(be(st[lr],lr));this.trees[Rt+1]=new ee(Xt,Ve,Ne,Bt,Float32Array),St&&console.timeEnd(Nt);for(var sr=Rt;sr>=Dt;sr--){var dr=+Date.now();Xt=this._cluster(Xt,sr),this.trees[sr]=new ee(Xt,Ve,Ne,Bt,Float32Array),St&&console.log("z%d: %d clusters in %dms",sr,Xt.length,+Date.now()-dr)}return St&&console.timeEnd("total time"),this},se.prototype.getClusters=function(st,xt){var St=((st[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,st[1])),Rt=st[2]===180?180:((st[2]+180)%360+360)%360-180,Bt=Math.max(-90,Math.min(90,st[3]));if(st[2]-st[0]>=360)St=-180,Rt=180;else if(St>Rt){var Nt=this.getClusters([St,Dt,180,Bt],xt),Xt=this.getClusters([-180,Dt,Rt,Bt],xt);return Nt.concat(Xt)}for(var lr=this.trees[this._limitZoom(xt)],sr=lr.range(Oe(St),Ue(Bt),Oe(Rt),Ue(Dt)),dr=[],Ye=0,je=sr;Ye<je.length;Ye+=1){var It=je[Ye],kt=lr.points[It];dr.push(kt.numPoints?Ee(kt):this.points[kt.index])}return dr},se.prototype.getChildren=function(st){var xt=this._getOriginId(st),St=this._getOriginZoom(st),Dt="No cluster with the specified id.",Rt=this.trees[St];if(!Rt)throw new Error(Dt);var Bt=Rt.points[xt];if(!Bt)throw new Error(Dt);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,St-1)),Xt=Rt.within(Bt.x,Bt.y,Nt),lr=[],sr=0,dr=Xt;sr<dr.length;sr+=1){var Ye=dr[sr],je=Rt.points[Ye];je.parentId===st&&lr.push(je.numPoints?Ee(je):this.points[je.index])}if(lr.length===0)throw new Error(Dt);return lr},se.prototype.getLeaves=function(st,xt,St){xt=xt||10,St=St||0;var Dt=[];return this._appendLeaves(Dt,st,xt,St,0),Dt},se.prototype.getTile=function(st,xt,St){var Dt=this.trees[this._limitZoom(st)],Rt=Math.pow(2,st),Bt=this.options,Nt=Bt.extent,Xt=Bt.radius,lr=Xt/Nt,sr=(St-lr)/Rt,dr=(St+1+lr)/Rt,Ye={features:[]};return this._addTileFeatures(Dt.range((xt-lr)/Rt,sr,(xt+1+lr)/Rt,dr),Dt.points,xt,St,Rt,Ye),xt===0&&this._addTileFeatures(Dt.range(1-lr/Rt,sr,1,dr),Dt.points,Rt,St,Rt,Ye),xt===Rt-1&&this._addTileFeatures(Dt.range(0,sr,lr/Rt,dr),Dt.points,-1,St,Rt,Ye),Ye.features.length?Ye:null},se.prototype.getClusterExpansionZoom=function(st){for(var xt=this._getOriginZoom(st)-1;xt<=this.options.maxZoom;){var St=this.getChildren(st);if(xt++,St.length!==1)break;st=St[0].properties.cluster_id}return xt},se.prototype._appendLeaves=function(st,xt,St,Dt,Rt){for(var Bt=this.getChildren(xt),Nt=0,Xt=Bt;Nt<Xt.length;Nt+=1){var lr=Xt[Nt],sr=lr.properties;if(sr&&sr.cluster?Rt+sr.point_count<=Dt?Rt+=sr.point_count:Rt=this._appendLeaves(st,sr.cluster_id,St,Dt,Rt):Rt<Dt?Rt++:st.push(lr),st.length===St)break}return Rt},se.prototype._addTileFeatures=function(st,xt,St,Dt,Rt,Bt){for(var Nt=0,Xt=st;Nt<Xt.length;Nt+=1){var lr=Xt[Nt],sr=xt[lr],dr=sr.numPoints,Ye={type:1,geometry:[[Math.round(this.options.extent*(sr.x*Rt-St)),Math.round(this.options.extent*(sr.y*Rt-Dt))]],tags:dr?Ae(sr):this.points[sr.index].properties},je=void 0;dr?je=sr.id:this.options.generateId?je=sr.index:this.points[sr.index].id&&(je=this.points[sr.index].id),je!==void 0&&(Ye.id=je),Bt.features.push(Ye)}},se.prototype._limitZoom=function(st){return Math.max(this.options.minZoom,Math.min(st,this.options.maxZoom+1))},se.prototype._cluster=function(st,xt){for(var St=[],Dt=this.options,Rt=Dt.radius,Bt=Dt.extent,Nt=Dt.reduce,Xt=Rt/(Bt*Math.pow(2,xt)),lr=0;lr<st.length;lr++){var sr=st[lr];if(!(sr.zoom<=xt)){sr.zoom=xt;for(var dr=this.trees[xt+1],Ye=dr.within(sr.x,sr.y,Xt),je=sr.numPoints||1,It=sr.x*je,kt=sr.y*je,jt=Nt&&je>1?this._map(sr,!0):null,tr=(lr<<5)+(xt+1)+this.points.length,or=0,rr=Ye;or<rr.length;or+=1){var _t=rr[or],hr=dr.points[_t];if(!(hr.zoom<=xt)){hr.zoom=xt;var gr=hr.numPoints||1;It+=hr.x*gr,kt+=hr.y*gr,je+=gr,hr.parentId=tr,Nt&&(jt||(jt=this._map(sr,!0)),Nt(jt,this._map(hr)))}}je===1?St.push(sr):(sr.parentId=tr,St.push(ve(It/je,kt/je,tr,je,jt)))}}return St},se.prototype._getOriginId=function(st){return st-this.points.length>>5},se.prototype._getOriginZoom=function(st){return(st-this.points.length)%32},se.prototype._map=function(st,xt){if(st.numPoints)return xt?Ce({},st.properties):st.properties;var St=this.points[st.index].properties,Dt=this.options.map(St);return xt&&Dt===St?Ce({},Dt):Dt};function ve(pt,st,xt,St,Dt){return{x:pt,y:st,zoom:1/0,id:xt,parentId:-1,numPoints:St,properties:Dt}}function be(pt,st){var xt=pt.geometry.coordinates,St=xt[0],Dt=xt[1];return{x:Oe(St),y:Ue(Dt),zoom:1/0,index:st,parentId:-1}}function Ee(pt){return{type:"Feature",id:pt.id,properties:Ae(pt),geometry:{type:"Point",coordinates:[Le(pt.x),we(pt.y)]}}}function Ae(pt){var st=pt.numPoints,xt=st>=1e4?Math.round(st/1e3)+"k":st>=1e3?Math.round(st/100)/10+"k":st;return Ce(Ce({},pt.properties),{cluster:!0,cluster_id:pt.id,point_count:st,point_count_abbreviated:xt})}function Oe(pt){return pt/360+.5}function Ue(pt){var st=Math.sin(pt*Math.PI/180),xt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return xt<0?0:xt>1?1:xt}function Le(pt){return(pt-.5)*360}function we(pt){var st=(180-pt*360)*Math.PI/180;return 360*Math.atan(Math.exp(st))/Math.PI-90}function Ce(pt,st){for(var xt in st)pt[xt]=st[xt];return pt}function Ve(pt){return pt.x}function Ne(pt){return pt.y}function ke(pt,st,xt,St){for(var Dt=St,Rt=xt-st>>1,Bt=xt-st,Nt,Xt=pt[st],lr=pt[st+1],sr=pt[xt],dr=pt[xt+1],Ye=st+3;Ye<xt;Ye+=3){var je=We(pt[Ye],pt[Ye+1],Xt,lr,sr,dr);if(je>Dt)Nt=Ye,Dt=je;else if(je===Dt){var It=Math.abs(Ye-Rt);It<Bt&&(Nt=Ye,Bt=It)}}Dt>St&&(Nt-st>3&&ke(pt,st,Nt,St),pt[Nt+2]=Dt,xt-Nt>3&&ke(pt,Nt,xt,St))}function We(pt,st,xt,St,Dt,Rt){var Bt=Dt-xt,Nt=Rt-St;if(Bt!==0||Nt!==0){var Xt=((pt-xt)*Bt+(st-St)*Nt)/(Bt*Bt+Nt*Nt);Xt>1?(xt=Dt,St=Rt):Xt>0&&(xt+=Bt*Xt,St+=Nt*Xt)}return Bt=pt-xt,Nt=st-St,Bt*Bt+Nt*Nt}function rt(pt,st,xt,St){var Dt={id:typeof pt>"u"?null:pt,type:st,geometry:xt,tags:St,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return et(Dt),Dt}function et(pt){var st=pt.geometry,xt=pt.type;if(xt==="Point"||xt==="MultiPoint"||xt==="LineString")tt(pt,st);else if(xt==="Polygon"||xt==="MultiLineString")for(var St=0;St<st.length;St++)tt(pt,st[St]);else if(xt==="MultiPolygon")for(St=0;St<st.length;St++)for(var Dt=0;Dt<st[St].length;Dt++)tt(pt,st[St][Dt])}function tt(pt,st){for(var xt=0;xt<st.length;xt+=3)pt.minX=Math.min(pt.minX,st[xt]),pt.minY=Math.min(pt.minY,st[xt+1]),pt.maxX=Math.max(pt.maxX,st[xt]),pt.maxY=Math.max(pt.maxY,st[xt+1])}function at(pt,st){var xt=[];if(pt.type==="FeatureCollection")for(var St=0;St<pt.features.length;St++)ct(xt,pt.features[St],st,St);else pt.type==="Feature"?ct(xt,pt,st):ct(xt,{geometry:pt},st);return xt}function ct(pt,st,xt,St){if(st.geometry){var Dt=st.geometry.coordinates,Rt=st.geometry.type,Bt=Math.pow(xt.tolerance/((1<<xt.maxZoom)*xt.extent),2),Nt=[],Xt=st.id;if(xt.promoteId?Xt=st.properties[xt.promoteId]:xt.generateId&&(Xt=St||0),Rt==="Point")dt(Dt,Nt);else if(Rt==="MultiPoint")for(var lr=0;lr<Dt.length;lr++)dt(Dt[lr],Nt);else if(Rt==="LineString")gt(Dt,Nt,Bt,!1);else if(Rt==="MultiLineString")if(xt.lineMetrics){for(lr=0;lr<Dt.length;lr++)Nt=[],gt(Dt[lr],Nt,Bt,!1),pt.push(rt(Xt,"LineString",Nt,st.properties));return}else Et(Dt,Nt,Bt,!1);else if(Rt==="Polygon")Et(Dt,Nt,Bt,!0);else if(Rt==="MultiPolygon")for(lr=0;lr<Dt.length;lr++){var sr=[];Et(Dt[lr],sr,Bt,!0),Nt.push(sr)}else if(Rt==="GeometryCollection"){for(lr=0;lr<st.geometry.geometries.length;lr++)ct(pt,{id:Xt,geometry:st.geometry.geometries[lr],properties:st.properties},xt,St);return}else throw new Error("Input data is not a valid GeoJSON object.");pt.push(rt(Xt,Rt,Nt,st.properties))}}function dt(pt,st){st.push(Ct(pt[0])),st.push(Vt(pt[1])),st.push(0)}function gt(pt,st,xt,St){for(var Dt,Rt,Bt=0,Nt=0;Nt<pt.length;Nt++){var Xt=Ct(pt[Nt][0]),lr=Vt(pt[Nt][1]);st.push(Xt),st.push(lr),st.push(0),Nt>0&&(St?Bt+=(Dt*lr-Xt*Rt)/2:Bt+=Math.sqrt(Math.pow(Xt-Dt,2)+Math.pow(lr-Rt,2))),Dt=Xt,Rt=lr}var sr=st.length-3;st[2]=1,ke(st,0,sr,xt),st[sr+2]=1,st.size=Math.abs(Bt),st.start=0,st.end=st.size}function Et(pt,st,xt,St){for(var Dt=0;Dt<pt.length;Dt++){var Rt=[];gt(pt[Dt],Rt,xt,St),st.push(Rt)}}function Ct(pt){return pt/360+.5}function Vt(pt){var st=Math.sin(pt*Math.PI/180),xt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return xt<0?0:xt>1?1:xt}function Je(pt,st,xt,St,Dt,Rt,Bt,Nt){if(xt/=st,St/=st,Rt>=xt&&Bt<St)return pt;if(Bt<xt||Rt>=St)return null;for(var Xt=[],lr=0;lr<pt.length;lr++){var sr=pt[lr],dr=sr.geometry,Ye=sr.type,je=Dt===0?sr.minX:sr.minY,It=Dt===0?sr.maxX:sr.maxY;if(je>=xt&&It<St){Xt.push(sr);continue}else if(It<xt||je>=St)continue;var kt=[];if(Ye==="Point"||Ye==="MultiPoint")_e(dr,kt,xt,St,Dt);else if(Ye==="LineString")Fe(dr,kt,xt,St,Dt,!1,Nt.lineMetrics);else if(Ye==="MultiLineString")De(dr,kt,xt,St,Dt,!1);else if(Ye==="Polygon")De(dr,kt,xt,St,Dt,!0);else if(Ye==="MultiPolygon")for(var jt=0;jt<dr.length;jt++){var tr=[];De(dr[jt],tr,xt,St,Dt,!0),tr.length&&kt.push(tr)}if(kt.length){if(Nt.lineMetrics&&Ye==="LineString"){for(jt=0;jt<kt.length;jt++)Xt.push(rt(sr.id,Ye,kt[jt],sr.tags));continue}(Ye==="LineString"||Ye==="MultiLineString")&&(kt.length===1?(Ye="LineString",kt=kt[0]):Ye="MultiLineString"),(Ye==="Point"||Ye==="MultiPoint")&&(Ye=kt.length===3?"Point":"MultiPoint"),Xt.push(rt(sr.id,Ye,kt,sr.tags))}}return Xt.length?Xt:null}function _e(pt,st,xt,St,Dt){for(var Rt=0;Rt<pt.length;Rt+=3){var Bt=pt[Rt+Dt];Bt>=xt&&Bt<=St&&(st.push(pt[Rt]),st.push(pt[Rt+1]),st.push(pt[Rt+2]))}}function Fe(pt,st,xt,St,Dt,Rt,Bt){for(var Nt=Be(pt),Xt=Dt===0?xe:Me,lr=pt.start,sr,dr,Ye=0;Ye<pt.length-3;Ye+=3){var je=pt[Ye],It=pt[Ye+1],kt=pt[Ye+2],jt=pt[Ye+3],tr=pt[Ye+4],or=Dt===0?je:It,rr=Dt===0?jt:tr,_t=!1;Bt&&(sr=Math.sqrt(Math.pow(je-jt,2)+Math.pow(It-tr,2))),or<xt?rr>xt&&(dr=Xt(Nt,je,It,jt,tr,xt),Bt&&(Nt.start=lr+sr*dr)):or>St?rr<St&&(dr=Xt(Nt,je,It,jt,tr,St),Bt&&(Nt.start=lr+sr*dr)):Te(Nt,je,It,kt),rr<xt&&or>=xt&&(dr=Xt(Nt,je,It,jt,tr,xt),_t=!0),rr>St&&or<=St&&(dr=Xt(Nt,je,It,jt,tr,St),_t=!0),!Rt&&_t&&(Bt&&(Nt.end=lr+sr*dr),st.push(Nt),Nt=Be(pt)),Bt&&(lr+=sr)}var hr=pt.length-3;je=pt[hr],It=pt[hr+1],kt=pt[hr+2],or=Dt===0?je:It,or>=xt&&or<=St&&Te(Nt,je,It,kt),hr=Nt.length-3,Rt&&hr>=3&&(Nt[hr]!==Nt[0]||Nt[hr+1]!==Nt[1])&&Te(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&st.push(Nt)}function Be(pt){var st=[];return st.size=pt.size,st.start=pt.start,st.end=pt.end,st}function De(pt,st,xt,St,Dt,Rt){for(var Bt=0;Bt<pt.length;Bt++)Fe(pt[Bt],st,xt,St,Dt,Rt,!1)}function Te(pt,st,xt,St){pt.push(st),pt.push(xt),pt.push(St)}function xe(pt,st,xt,St,Dt,Rt){var Bt=(Rt-st)/(St-st);return pt.push(Rt),pt.push(xt+(Dt-xt)*Bt),pt.push(1),Bt}function Me(pt,st,xt,St,Dt,Rt){var Bt=(Rt-xt)/(Dt-xt);return pt.push(st+(St-st)*Bt),pt.push(Rt),pt.push(1),Bt}function Pe(pt,st){var xt=st.buffer/st.extent,St=pt,Dt=Je(pt,1,-1-xt,xt,0,-1,2,st),Rt=Je(pt,1,1-xt,2+xt,0,-1,2,st);return(Dt||Rt)&&(St=Je(pt,1,-xt,1+xt,0,-1,2,st)||[],Dt&&(St=He(Dt,1).concat(St)),Rt&&(St=St.concat(He(Rt,-1)))),St}function He(pt,st){for(var xt=[],St=0;St<pt.length;St++){var Dt=pt[St],Rt=Dt.type,Bt;if(Rt==="Point"||Rt==="MultiPoint"||Rt==="LineString")Bt=Ke(Dt.geometry,st);else if(Rt==="MultiLineString"||Rt==="Polygon"){Bt=[];for(var Nt=0;Nt<Dt.geometry.length;Nt++)Bt.push(Ke(Dt.geometry[Nt],st))}else if(Rt==="MultiPolygon")for(Bt=[],Nt=0;Nt<Dt.geometry.length;Nt++){for(var Xt=[],lr=0;lr<Dt.geometry[Nt].length;lr++)Xt.push(Ke(Dt.geometry[Nt][lr],st));Bt.push(Xt)}xt.push(rt(Dt.id,Rt,Bt,Dt.tags))}return xt}function Ke(pt,st){var xt=[];xt.size=pt.size,pt.start!==void 0&&(xt.start=pt.start,xt.end=pt.end);for(var St=0;St<pt.length;St+=3)xt.push(pt[St]+st,pt[St+1],pt[St+2]);return xt}function qe(pt,st){if(pt.transformed)return pt;var xt=1<<pt.z,St=pt.x,Dt=pt.y,Rt,Bt,Nt;for(Rt=0;Rt<pt.features.length;Rt++){var Xt=pt.features[Rt],lr=Xt.geometry,sr=Xt.type;if(Xt.geometry=[],sr===1)for(Bt=0;Bt<lr.length;Bt+=2)Xt.geometry.push(vt(lr[Bt],lr[Bt+1],st,xt,St,Dt));else for(Bt=0;Bt<lr.length;Bt++){var dr=[];for(Nt=0;Nt<lr[Bt].length;Nt+=2)dr.push(vt(lr[Bt][Nt],lr[Bt][Nt+1],st,xt,St,Dt));Xt.geometry.push(dr)}}return pt.transformed=!0,pt}function vt(pt,st,xt,St,Dt,Rt){return[Math.round(xt*(pt*St-Dt)),Math.round(xt*(st*St-Rt))]}function bt(pt,st,xt,St,Dt){for(var Rt=st===Dt.maxZoom?0:Dt.tolerance/((1<<st)*Dt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:xt,y:St,z:st,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Nt=0;Nt<pt.length;Nt++){Bt.numFeatures++,Wt(Bt,pt[Nt],Rt,Dt);var Xt=pt[Nt].minX,lr=pt[Nt].minY,sr=pt[Nt].maxX,dr=pt[Nt].maxY;Xt<Bt.minX&&(Bt.minX=Xt),lr<Bt.minY&&(Bt.minY=lr),sr>Bt.maxX&&(Bt.maxX=sr),dr>Bt.maxY&&(Bt.maxY=dr)}return Bt}function Wt(pt,st,xt,St){var Dt=st.geometry,Rt=st.type,Bt=[];if(Rt==="Point"||Rt==="MultiPoint")for(var Nt=0;Nt<Dt.length;Nt+=3)Bt.push(Dt[Nt]),Bt.push(Dt[Nt+1]),pt.numPoints++,pt.numSimplified++;else if(Rt==="LineString")qt(Bt,Dt,pt,xt,!1,!1);else if(Rt==="MultiLineString"||Rt==="Polygon")for(Nt=0;Nt<Dt.length;Nt++)qt(Bt,Dt[Nt],pt,xt,Rt==="Polygon",Nt===0);else if(Rt==="MultiPolygon")for(var Xt=0;Xt<Dt.length;Xt++){var lr=Dt[Xt];for(Nt=0;Nt<lr.length;Nt++)qt(Bt,lr[Nt],pt,xt,!0,Nt===0)}if(Bt.length){var sr=st.tags||null;if(Rt==="LineString"&&St.lineMetrics){sr={};for(var dr in st.tags)sr[dr]=st.tags[dr];sr.mapbox_clip_start=Dt.start/Dt.size,sr.mapbox_clip_end=Dt.end/Dt.size}var Ye={geometry:Bt,type:Rt==="Polygon"||Rt==="MultiPolygon"?3:Rt==="LineString"||Rt==="MultiLineString"?2:1,tags:sr};st.id!==null&&(Ye.id=st.id),pt.features.push(Ye)}}function qt(pt,st,xt,St,Dt,Rt){var Bt=St*St;if(St>0&&st.size<(Dt?Bt:St)){xt.numPoints+=st.length/3;return}for(var Nt=[],Xt=0;Xt<st.length;Xt+=3)(St===0||st[Xt+2]>Bt)&&(xt.numSimplified++,Nt.push(st[Xt]),Nt.push(st[Xt+1])),xt.numPoints++;Dt&&At(Nt,Rt),pt.push(Nt)}function At(pt,st){for(var xt=0,St=0,Dt=pt.length,Rt=Dt-2;St<Dt;Rt=St,St+=2)xt+=(pt[St]-pt[Rt])*(pt[St+1]+pt[Rt+1]);if(xt>0===st)for(St=0,Dt=pt.length;St<Dt/2;St+=2){var Bt=pt[St],Nt=pt[St+1];pt[St]=pt[Dt-2-St],pt[St+1]=pt[Dt-1-St],pt[Dt-2-St]=Bt,pt[Dt-1-St]=Nt}}function zt(pt,st){return new Kt(pt,st)}function Kt(pt,st){st=this.options=yt(Object.create(this.options),st);var xt=st.debug;if(xt&&console.time("preprocess data"),st.maxZoom<0||st.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(st.promoteId&&st.generateId)throw new Error("promoteId and generateId cannot be used together.");var St=at(pt,st);this.tiles={},this.tileCoords=[],xt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",st.indexMaxZoom,st.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),St=Pe(St,st),St.length&&this.splitTile(St,0,0,0),xt&&(St.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Kt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Kt.prototype.splitTile=function(pt,st,xt,St,Dt,Rt,Bt){for(var Nt=[pt,st,xt,St],Xt=this.options,lr=Xt.debug;Nt.length;){St=Nt.pop(),xt=Nt.pop(),st=Nt.pop(),pt=Nt.pop();var sr=1<<st,dr=Sr(st,xt,St),Ye=this.tiles[dr];if(!Ye&&(lr>1&&console.time("creation"),Ye=this.tiles[dr]=bt(pt,st,xt,St,Xt),this.tileCoords.push({z:st,x:xt,y:St}),lr)){lr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",st,xt,St,Ye.numFeatures,Ye.numPoints,Ye.numSimplified),console.timeEnd("creation"));var je="z"+st;this.stats[je]=(this.stats[je]||0)+1,this.total++}if(Ye.source=pt,Dt){if(st===Xt.maxZoom||st===Dt)continue;var It=1<<Dt-st;if(xt!==Math.floor(Rt/It)||St!==Math.floor(Bt/It))continue}else if(st===Xt.indexMaxZoom||Ye.numPoints<=Xt.indexMaxPoints)continue;if(Ye.source=null,pt.length!==0){lr>1&&console.time("clipping");var kt=.5*Xt.buffer/Xt.extent,jt=.5-kt,tr=.5+kt,or=1+kt,rr,_t,hr,gr,pr,vr;rr=_t=hr=gr=null,pr=Je(pt,sr,xt-kt,xt+tr,0,Ye.minX,Ye.maxX,Xt),vr=Je(pt,sr,xt+jt,xt+or,0,Ye.minX,Ye.maxX,Xt),pt=null,pr&&(rr=Je(pr,sr,St-kt,St+tr,1,Ye.minY,Ye.maxY,Xt),_t=Je(pr,sr,St+jt,St+or,1,Ye.minY,Ye.maxY,Xt),pr=null),vr&&(hr=Je(vr,sr,St-kt,St+tr,1,Ye.minY,Ye.maxY,Xt),gr=Je(vr,sr,St+jt,St+or,1,Ye.minY,Ye.maxY,Xt),vr=null),lr>1&&console.timeEnd("clipping"),Nt.push(rr||[],st+1,xt*2,St*2),Nt.push(_t||[],st+1,xt*2,St*2+1),Nt.push(hr||[],st+1,xt*2+1,St*2),Nt.push(gr||[],st+1,xt*2+1,St*2+1)}}},Kt.prototype.getTile=function(pt,st,xt){var St=this.options,Dt=St.extent,Rt=St.debug;if(pt<0||pt>24)return null;var Bt=1<<pt;st=(st%Bt+Bt)%Bt;var Nt=Sr(pt,st,xt);if(this.tiles[Nt])return qe(this.tiles[Nt],Dt);Rt>1&&console.log("drilling down to z%d-%d-%d",pt,st,xt);for(var Xt=pt,lr=st,sr=xt,dr;!dr&&Xt>0;)Xt--,lr=Math.floor(lr/2),sr=Math.floor(sr/2),dr=this.tiles[Sr(Xt,lr,sr)];return!dr||!dr.source?null:(Rt>1&&console.log("found parent tile z%d-%d-%d",Xt,lr,sr),Rt>1&&console.time("drilling down"),this.splitTile(dr.source,Xt,lr,sr,pt,st,xt),Rt>1&&console.timeEnd("drilling down"),this.tiles[Nt]?qe(this.tiles[Nt],Dt):null)};function Sr(pt,st,xt){return((1<<pt)*xt+st)*32+pt}function yt(pt,st){for(var xt in st)pt[xt]=st[xt];return pt}function Zt(pt,st){var xt=pt.tileID.canonical;if(!this._geoJSONIndex)return st(null,null);var St=this._geoJSONIndex.getTile(xt.z,xt.x,xt.y);if(!St)return st(null,null);var Dt=new S(St.features),Rt=i(Dt);(Rt.byteOffset!==0||Rt.byteLength!==Rt.buffer.byteLength)&&(Rt=new Uint8Array(Rt)),st(null,{vectorTile:Dt,rawData:Rt.buffer})}var $t=function(pt){function st(xt,St,Dt,Rt){pt.call(this,xt,St,Dt,Zt),Rt&&(this.loadGeoJSON=Rt)}return pt&&(st.__proto__=pt),st.prototype=Object.create(pt&&pt.prototype),st.prototype.constructor=st,st.prototype.loadData=function(St,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=St,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},st.prototype._loadData=function(){var St=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,Rt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Bt=Rt&&Rt.request&&Rt.request.collectResourceTiming?new a.RequestPerformance(Rt.request):!1;this.loadGeoJSON(Rt,function(Nt,Xt){if(Nt||!Xt)return Dt(Nt);if(typeof Xt!="object")return Dt(new Error("Input data given to '"+Rt.source+"' is not a valid GeoJSON object."));v(Xt,!0);try{St._geoJSONIndex=Rt.cluster?new se(mr(Rt)).load(Xt.features):zt(Xt,Rt.geojsonVtOptions)}catch(dr){return Dt(dr)}St.loaded={};var lr={};if(Bt){var sr=Bt.finish();sr&&(lr.resourceTiming={},lr.resourceTiming[Rt.source]=JSON.parse(JSON.stringify(sr)))}Dt(null,lr)})}},st.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},st.prototype.reloadTile=function(St,Dt){var Rt=this.loaded,Bt=St.uid;return Rt&&Rt[Bt]?pt.prototype.reloadTile.call(this,St,Dt):this.loadTile(St,Dt)},st.prototype.loadGeoJSON=function(St,Dt){if(St.request)a.getJSON(St.request,Dt);else if(typeof St.data=="string")try{return Dt(null,JSON.parse(St.data))}catch{return Dt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))},st.prototype.removeSource=function(St,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},st.prototype.getClusterExpansionZoom=function(St,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(St.clusterId))}catch(Rt){Dt(Rt)}},st.prototype.getClusterChildren=function(St,Dt){try{Dt(null,this._geoJSONIndex.getChildren(St.clusterId))}catch(Rt){Dt(Rt)}},st.prototype.getClusterLeaves=function(St,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(St.clusterId,St.limit,St.offset))}catch(Rt){Dt(Rt)}},st}(c);function mr(pt){var st=pt.superclusterOptions,xt=pt.clusterProperties;if(!xt||!st)return st;for(var St={},Dt={},Rt={accumulated:null,zoom:0},Bt={properties:null},Nt=Object.keys(xt),Xt=0,lr=Nt;Xt<lr.length;Xt+=1){var sr=lr[Xt],dr=xt[sr],Ye=dr[0],je=dr[1],It=a.createExpression(je),kt=a.createExpression(typeof Ye=="string"?[Ye,["accumulated"],["get",sr]]:Ye);St[sr]=It.value,Dt[sr]=kt.value}return st.map=function(jt){Bt.properties=jt;for(var tr={},or=0,rr=Nt;or<rr.length;or+=1){var _t=rr[or];tr[_t]=St[_t].evaluate(Rt,Bt)}return tr},st.reduce=function(jt,tr){Bt.properties=tr;for(var or=0,rr=Nt;or<rr.length;or+=1){var _t=rr[or];Rt.accumulated=jt[_t],jt[_t]=Dt[_t].evaluate(Rt,Bt)}},st}var ur=function(st){var xt=this;this.self=st,this.actor=new a.Actor(st,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:c,geojson:$t},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(St,Dt){if(xt.workerSourceTypes[St])throw new Error('Worker source with name "'+St+'" already registered.');xt.workerSourceTypes[St]=Dt},this.self.registerRTLTextPlugin=function(St){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=St.applyArabicShaping,a.plugin.processBidirectionalText=St.processBidirectionalText,a.plugin.processStyledBidirectionalText=St.processStyledBidirectionalText}};return ur.prototype.setReferrer=function(st,xt){this.referrer=xt},ur.prototype.setImages=function(st,xt,St){this.availableImages[st]=xt;for(var Dt in this.workerSources[st]){var Rt=this.workerSources[st][Dt];for(var Bt in Rt)Rt[Bt].availableImages=xt}St()},ur.prototype.setLayers=function(st,xt,St){this.getLayerIndex(st).replace(xt),St()},ur.prototype.updateLayers=function(st,xt,St){this.getLayerIndex(st).update(xt.layers,xt.removedIds),St()},ur.prototype.loadTile=function(st,xt,St){this.getWorkerSource(st,xt.type,xt.source).loadTile(xt,St)},ur.prototype.loadDEMTile=function(st,xt,St){this.getDEMWorkerSource(st,xt.source).loadTile(xt,St)},ur.prototype.reloadTile=function(st,xt,St){this.getWorkerSource(st,xt.type,xt.source).reloadTile(xt,St)},ur.prototype.abortTile=function(st,xt,St){this.getWorkerSource(st,xt.type,xt.source).abortTile(xt,St)},ur.prototype.removeTile=function(st,xt,St){this.getWorkerSource(st,xt.type,xt.source).removeTile(xt,St)},ur.prototype.removeDEMTile=function(st,xt){this.getDEMWorkerSource(st,xt.source).removeTile(xt)},ur.prototype.removeSource=function(st,xt,St){if(!(!this.workerSources[st]||!this.workerSources[st][xt.type]||!this.workerSources[st][xt.type][xt.source])){var Dt=this.workerSources[st][xt.type][xt.source];delete this.workerSources[st][xt.type][xt.source],Dt.removeSource!==void 0?Dt.removeSource(xt,St):St()}},ur.prototype.loadWorkerSource=function(st,xt,St){try{this.self.importScripts(xt.url),St()}catch(Dt){St(Dt.toString())}},ur.prototype.syncRTLPluginState=function(st,xt,St){try{a.plugin.setState(xt);var Dt=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var Rt=a.plugin.isParsed(),Bt=Rt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);St(Bt,Rt)}}catch(Nt){St(Nt.toString())}},ur.prototype.getAvailableImages=function(st){var xt=this.availableImages[st];return xt||(xt=[]),xt},ur.prototype.getLayerIndex=function(st){var xt=this.layerIndexes[st];return xt||(xt=this.layerIndexes[st]=new g),xt},ur.prototype.getWorkerSource=function(st,xt,St){var Dt=this;if(this.workerSources[st]||(this.workerSources[st]={}),this.workerSources[st][xt]||(this.workerSources[st][xt]={}),!this.workerSources[st][xt][St]){var Rt={send:function(Bt,Nt,Xt){Dt.actor.send(Bt,Nt,Xt,st)}};this.workerSources[st][xt][St]=new this.workerSourceTypes[xt](Rt,this.getLayerIndex(st),this.getAvailableImages(st))}return this.workerSources[st][xt][St]},ur.prototype.getDEMWorkerSource=function(st,xt){return this.demWorkerSources[st]||(this.demWorkerSources[st]={}),this.demWorkerSources[st][xt]||(this.demWorkerSources[st][xt]=new m),this.demWorkerSources[st][xt]},ur.prototype.enforceCacheSizeLimit=function(st,xt){a.enforceCacheSizeLimit(xt)},typeof WorkerGlobalScope<"u"&&typeof a.window<"u"&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new ur(a.window)),ur}),L(["./shared"],function(a){var C=a.createCommonjsModule(function(de){de.exports?de.exports=X:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=X,window.mapboxgl.notSupportedReason=ge);function X(Vr){return!ge(Vr)}function ge(Vr){if(!ne())return"not a browser";if(!ye())return"insufficent Array support";if(!ze())return"insufficient Function support";if(!Ze())return"insufficient Object support";if(!lt())return"insufficient JSON support";if(!wt())return"insufficient worker support";if(!Ut())return"insufficient Uint8ClampedArray support";if(!Jt())return"insufficient ArrayBuffer support";if(!fr())return"insufficient Canvas/getImageData support";if(!zr(Vr&&Vr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ne(){return typeof window<"u"&&typeof document<"u"}function ye(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function ze(){return Function.prototype&&Function.prototype.bind}function Ze(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function lt(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function wt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Vr=new Blob([""],{type:"text/javascript"}),qr=URL.createObjectURL(Vr),cn,Dn;try{Dn=new Worker(qr),cn=!0}catch{cn=!1}return Dn&&Dn.terminate(),URL.revokeObjectURL(qr),cn}function Ut(){return"Uint8ClampedArray"in window}function Jt(){return ArrayBuffer.isView}function fr(){var Vr=document.createElement("canvas");Vr.width=Vr.height=1;var qr=Vr.getContext("2d");if(!qr)return!1;var cn=qr.getImageData(0,0,1,1);return cn&&cn.width===Vr.width}var xr={};function zr(Vr){return xr[Vr]===void 0&&(xr[Vr]=Yr(Vr)),xr[Vr]}X.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Wr(Vr){var qr=document.createElement("canvas"),cn=Object.create(X.webGLContextAttributes);return cn.failIfMajorPerformanceCaveat=Vr,qr.probablySupportsContext?qr.probablySupportsContext("webgl",cn)||qr.probablySupportsContext("experimental-webgl",cn):qr.supportsContext?qr.supportsContext("webgl",cn)||qr.supportsContext("experimental-webgl",cn):qr.getContext("webgl",cn)||qr.getContext("experimental-webgl",cn)}function Yr(Vr){var qr=Wr(Vr);if(!qr)return!1;var cn=qr.createShader(qr.VERTEX_SHADER);return!cn||qr.isContextLost()?!1:(qr.shaderSource(cn,"void main() {}"),qr.compileShader(cn),qr.getShaderParameter(cn,qr.COMPILE_STATUS)===!0)}}),w={};w.create=function(de,X,ge){var ne=a.window.document.createElement(de);return X!==void 0&&(ne.className=X),ge&&ge.appendChild(ne),ne},w.createNS=function(de,X){var ge=a.window.document.createElementNS(de,X);return ge};var h=a.window.document.documentElement.style;function g(de){if(!h)return de[0];for(var X=0;X<de.length;X++)if(de[X]in h)return de[X];return de[0]}var t=g(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;w.disableDrag=function(){h&&t&&(r=h[t],h[t]="none")},w.enableDrag=function(){h&&t&&(h[t]=r)};var s=g(["transform","WebkitTransform"]);w.setTransform=function(de,X){de.style[s]=X};var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",l,l),a.window.removeEventListener("test",l,l)}catch{n=!1}w.addEventListener=function(de,X,ge,ne){ne===void 0&&(ne={}),"passive"in ne&&n?de.addEventListener(X,ge,ne):de.addEventListener(X,ge,ne.capture)},w.removeEventListener=function(de,X,ge,ne){ne===void 0&&(ne={}),"passive"in ne&&n?de.removeEventListener(X,ge,ne):de.removeEventListener(X,ge,ne.capture)};var c=function(de){de.preventDefault(),de.stopPropagation(),a.window.removeEventListener("click",c,!0)};w.suppressClick=function(){a.window.addEventListener("click",c,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",c,!0)},0)},w.mousePos=function(de,X){var ge=de.getBoundingClientRect();return new a.Point(X.clientX-ge.left-de.clientLeft,X.clientY-ge.top-de.clientTop)},w.touchPos=function(de,X){for(var ge=de.getBoundingClientRect(),ne=[],ye=0;ye<X.length;ye++)ne.push(new a.Point(X[ye].clientX-ge.left-de.clientLeft,X[ye].clientY-ge.top-de.clientTop));return ne},w.mouseButton=function(de){return typeof a.window.InstallTrigger<"u"&&de.button===2&&de.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:de.button},w.remove=function(de){de.parentNode&&de.parentNode.removeChild(de)};function f(de,X,ge){var ne,ye,ze,Ze=a.browser.devicePixelRatio>1?"@2x":"",lt=a.getJSON(X.transformRequest(X.normalizeSpriteURL(de,Ze,".json"),a.ResourceType.SpriteJSON),function(Jt,fr){lt=null,ze||(ze=Jt,ne=fr,Ut())}),wt=a.getImage(X.transformRequest(X.normalizeSpriteURL(de,Ze,".png"),a.ResourceType.SpriteImage),function(Jt,fr){wt=null,ze||(ze=Jt,ye=fr,Ut())});function Ut(){if(ze)ge(ze);else if(ne&&ye){var Jt=a.browser.getImageData(ye),fr={};for(var xr in ne){var zr=ne[xr],Wr=zr.width,Yr=zr.height,Vr=zr.x,qr=zr.y,cn=zr.sdf,Dn=zr.pixelRatio,On=zr.stretchX,$n=zr.stretchY,Jn=zr.content,Kn=new a.RGBAImage({width:Wr,height:Yr});a.RGBAImage.copy(Jt,Kn,{x:Vr,y:qr},{x:0,y:0},{width:Wr,height:Yr}),fr[xr]={data:Kn,pixelRatio:Dn,sdf:cn,stretchX:On,stretchY:$n,content:Jn}}ge(null,fr)}}return{cancel:function(){lt&&(lt.cancel(),lt=null),wt&&(wt.cancel(),wt=null)}}}function m(de){var X=de.userImage;if(X&&X.render){var ge=X.render();if(ge)return de.data.replace(new Uint8Array(X.data.buffer)),!0}return!1}var v=1,A=function(de){function X(){de.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.isLoaded=function(){return this.loaded},X.prototype.setLoaded=function(ne){if(this.loaded!==ne&&(this.loaded=ne,ne)){for(var ye=0,ze=this.requestors;ye<ze.length;ye+=1){var Ze=ze[ye],lt=Ze.ids,wt=Ze.callback;this._notify(lt,wt)}this.requestors=[]}},X.prototype.getImage=function(ne){return this.images[ne]},X.prototype.addImage=function(ne,ye){this._validate(ne,ye)&&(this.images[ne]=ye)},X.prototype._validate=function(ne,ye){var ze=!0;return this._validateStretch(ye.stretchX,ye.data&&ye.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+ne+'" has invalid "stretchX" value'))),ze=!1),this._validateStretch(ye.stretchY,ye.data&&ye.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+ne+'" has invalid "stretchY" value'))),ze=!1),this._validateContent(ye.content,ye)||(this.fire(new a.ErrorEvent(new Error('Image "'+ne+'" has invalid "content" value'))),ze=!1),ze},X.prototype._validateStretch=function(ne,ye){if(!ne)return!0;for(var ze=0,Ze=0,lt=ne;Ze<lt.length;Ze+=1){var wt=lt[Ze];if(wt[0]<ze||wt[1]<wt[0]||ye<wt[1])return!1;ze=wt[1]}return!0},X.prototype._validateContent=function(ne,ye){return ne?!(ne.length!==4||ne[0]<0||ye.data.width<ne[0]||ne[1]<0||ye.data.height<ne[1]||ne[2]<0||ye.data.width<ne[2]||ne[3]<0||ye.data.height<ne[3]||ne[2]<ne[0]||ne[3]<ne[1]):!0},X.prototype.updateImage=function(ne,ye){var ze=this.images[ne];ye.version=ze.version+1,this.images[ne]=ye,this.updatedImages[ne]=!0},X.prototype.removeImage=function(ne){var ye=this.images[ne];delete this.images[ne],delete this.patterns[ne],ye.userImage&&ye.userImage.onRemove&&ye.userImage.onRemove()},X.prototype.listImages=function(){return Object.keys(this.images)},X.prototype.getImages=function(ne,ye){var ze=!0;if(!this.isLoaded())for(var Ze=0,lt=ne;Ze<lt.length;Ze+=1){var wt=lt[Ze];this.images[wt]||(ze=!1)}this.isLoaded()||ze?this._notify(ne,ye):this.requestors.push({ids:ne,callback:ye})},X.prototype._notify=function(ne,ye){for(var ze={},Ze=0,lt=ne;Ze<lt.length;Ze+=1){var wt=lt[Ze];this.images[wt]||this.fire(new a.Event("styleimagemissing",{id:wt}));var Ut=this.images[wt];Ut?ze[wt]={data:Ut.data.clone(),pixelRatio:Ut.pixelRatio,sdf:Ut.sdf,version:Ut.version,stretchX:Ut.stretchX,stretchY:Ut.stretchY,content:Ut.content,hasRenderCallback:!!(Ut.userImage&&Ut.userImage.render)}:a.warnOnce('Image "'+wt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ye(null,ze)},X.prototype.getPixelSize=function(){var ne=this.atlasImage,ye=ne.width,ze=ne.height;return{width:ye,height:ze}},X.prototype.getPattern=function(ne){var ye=this.patterns[ne],ze=this.getImage(ne);if(!ze)return null;if(ye&&ye.position.version===ze.version)return ye.position;if(ye)ye.position.version=ze.version;else{var Ze=ze.data.width+v*2,lt=ze.data.height+v*2,wt={w:Ze,h:lt,x:0,y:0},Ut=new a.ImagePosition(wt,ze);this.patterns[ne]={bin:wt,position:Ut}}return this._updatePatternAtlas(),this.patterns[ne].position},X.prototype.bind=function(ne){var ye=ne.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(ne,this.atlasImage,ye.RGBA),this.atlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)},X.prototype._updatePatternAtlas=function(){var ne=[];for(var ye in this.patterns)ne.push(this.patterns[ye].bin);var ze=a.potpack(ne),Ze=ze.w,lt=ze.h,wt=this.atlasImage;wt.resize({width:Ze||1,height:lt||1});for(var Ut in this.patterns){var Jt=this.patterns[Ut],fr=Jt.bin,xr=fr.x+v,zr=fr.y+v,Wr=this.images[Ut].data,Yr=Wr.width,Vr=Wr.height;a.RGBAImage.copy(Wr,wt,{x:0,y:0},{x:xr,y:zr},{width:Yr,height:Vr}),a.RGBAImage.copy(Wr,wt,{x:0,y:Vr-1},{x:xr,y:zr-1},{width:Yr,height:1}),a.RGBAImage.copy(Wr,wt,{x:0,y:0},{x:xr,y:zr+Vr},{width:Yr,height:1}),a.RGBAImage.copy(Wr,wt,{x:Yr-1,y:0},{x:xr-1,y:zr},{width:1,height:Vr}),a.RGBAImage.copy(Wr,wt,{x:0,y:0},{x:xr+Yr,y:zr},{width:1,height:Vr})}this.dirty=!0},X.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},X.prototype.dispatchRenderCallbacks=function(ne){for(var ye=0,ze=ne;ye<ze.length;ye+=1){var Ze=ze[ye];if(!this.callbackDispatchedThisFrame[Ze]){this.callbackDispatchedThisFrame[Ze]=!0;var lt=this.images[Ze],wt=m(lt);wt&&this.updateImage(Ze,lt)}}},X}(a.Evented);function d(de,X,ge,ne,ye){var ze=X*256,Ze=ze+255,lt=ne.transformRequest(ne.normalizeGlyphsURL(ge).replace("{fontstack}",de).replace("{range}",ze+"-"+Ze),a.ResourceType.Glyphs);a.getArrayBuffer(lt,function(wt,Ut){if(wt)ye(wt);else if(Ut){for(var Jt={},fr=0,xr=a.parseGlyphPBF(Ut);fr<xr.length;fr+=1){var zr=xr[fr];Jt[zr.id]=zr}ye(null,Jt)}})}var u=S,y=S,M=1e20;function S(de,X,ge,ne,ye,ze){this.fontSize=de||24,this.buffer=X===void 0?3:X,this.cutoff=ne||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=ze||"normal",this.radius=ge||8;var Ze=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ze,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ze*Ze),this.gridInner=new Float64Array(Ze*Ze),this.f=new Float64Array(Ze),this.d=new Float64Array(Ze),this.z=new Float64Array(Ze+1),this.v=new Int16Array(Ze),this.middle=Math.round(Ze/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}S.prototype.draw=function(de){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(de,this.buffer,this.middle);for(var X=this.ctx.getImageData(0,0,this.size,this.size),ge=new Uint8ClampedArray(this.size*this.size),ne=0;ne<this.size*this.size;ne++){var ye=X.data[ne*4+3]/255;this.gridOuter[ne]=ye===1?0:ye===0?M:Math.pow(Math.max(0,.5-ye),2),this.gridInner[ne]=ye===1?M:ye===0?0:Math.pow(Math.max(0,ye-.5),2)}for(R(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),R(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ne=0;ne<this.size*this.size;ne++){var ze=this.gridOuter[ne]-this.gridInner[ne];ge[ne]=Math.max(0,Math.min(255,Math.round(255-255*(ze/this.radius+this.cutoff))))}return ge};function R(de,X,ge,ne,ye,ze,Ze){for(var lt=0;lt<X;lt++){for(var wt=0;wt<ge;wt++)ne[wt]=de[wt*X+lt];for(x(ne,ye,ze,Ze,ge),wt=0;wt<ge;wt++)de[wt*X+lt]=ye[wt]}for(wt=0;wt<ge;wt++){for(lt=0;lt<X;lt++)ne[lt]=de[wt*X+lt];for(x(ne,ye,ze,Ze,X),lt=0;lt<X;lt++)de[wt*X+lt]=Math.sqrt(ye[lt])}}function x(de,X,ge,ne,ye){ge[0]=0,ne[0]=-M,ne[1]=+M;for(var ze=1,Ze=0;ze<ye;ze++){for(var lt=(de[ze]+ze*ze-(de[ge[Ze]]+ge[Ze]*ge[Ze]))/(2*ze-2*ge[Ze]);lt<=ne[Ze];)Ze--,lt=(de[ze]+ze*ze-(de[ge[Ze]]+ge[Ze]*ge[Ze]))/(2*ze-2*ge[Ze]);Ze++,ge[Ze]=ze,ne[Ze]=lt,ne[Ze+1]=+M}for(ze=0,Ze=0;ze<ye;ze++){for(;ne[Ze+1]<ze;)Ze++;X[ze]=(ze-ge[Ze])*(ze-ge[Ze])+de[ge[Ze]]}}u.default=y;var E=function(X,ge){this.requestManager=X,this.localIdeographFontFamily=ge,this.entries={}};E.prototype.setURL=function(X){this.url=X},E.prototype.getGlyphs=function(X,ge){var ne=this,ye=[];for(var ze in X)for(var Ze=0,lt=X[ze];Ze<lt.length;Ze+=1){var wt=lt[Ze];ye.push({stack:ze,id:wt})}a.asyncAll(ye,function(Ut,Jt){var fr=Ut.stack,xr=Ut.id,zr=ne.entries[fr];zr||(zr=ne.entries[fr]={glyphs:{},requests:{},ranges:{}});var Wr=zr.glyphs[xr];if(Wr!==void 0){Jt(null,{stack:fr,id:xr,glyph:Wr});return}if(Wr=ne._tinySDF(zr,fr,xr),Wr){zr.glyphs[xr]=Wr,Jt(null,{stack:fr,id:xr,glyph:Wr});return}var Yr=Math.floor(xr/256);if(Yr*256>65535){Jt(new Error("glyphs > 65535 not supported"));return}if(zr.ranges[Yr]){Jt(null,{stack:fr,id:xr,glyph:Wr});return}var Vr=zr.requests[Yr];Vr||(Vr=zr.requests[Yr]=[],E.loadGlyphRange(fr,Yr,ne.url,ne.requestManager,function(qr,cn){if(cn){for(var Dn in cn)ne._doesCharSupportLocalGlyph(+Dn)||(zr.glyphs[+Dn]=cn[+Dn]);zr.ranges[Yr]=!0}for(var On=0,$n=Vr;On<$n.length;On+=1){var Jn=$n[On];Jn(qr,cn)}delete zr.requests[Yr]})),Vr.push(function(qr,cn){qr?Jt(qr):cn&&Jt(null,{stack:fr,id:xr,glyph:cn[xr]||null})})},function(Ut,Jt){if(Ut)ge(Ut);else if(Jt){for(var fr={},xr=0,zr=Jt;xr<zr.length;xr+=1){var Wr=zr[xr],Yr=Wr.stack,Vr=Wr.id,qr=Wr.glyph;(fr[Yr]||(fr[Yr]={}))[Vr]=qr&&{id:qr.id,bitmap:qr.bitmap.clone(),metrics:qr.metrics}}ge(null,fr)}})},E.prototype._doesCharSupportLocalGlyph=function(X){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](X)||a.isChar["Hangul Syllables"](X)||a.isChar.Hiragana(X)||a.isChar.Katakana(X))},E.prototype._tinySDF=function(X,ge,ne){var ye=this.localIdeographFontFamily;if(ye&&this._doesCharSupportLocalGlyph(ne)){var ze=X.tinySDF;if(!ze){var Ze="400";/bold/i.test(ge)?Ze="900":/medium/i.test(ge)?Ze="500":/light/i.test(ge)&&(Ze="200"),ze=X.tinySDF=new E.TinySDF(24,3,8,.25,ye,Ze)}return{id:ne,bitmap:new a.AlphaImage({width:30,height:30},ze.draw(String.fromCharCode(ne))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=d,E.TinySDF=u;var T=function(){this.specification=a.styleSpec.light.position};T.prototype.possiblyEvaluate=function(X,ge){return a.sphericalToCartesian(X.expression.evaluate(ge))},T.prototype.interpolate=function(X,ge,ne){return{x:a.number(X.x,ge.x,ne),y:a.number(X.y,ge.y,ne),z:a.number(X.z,ge.z,ne)}};var i=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new T,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),D="-transition",b=function(de){function X(ge){de.call(this),this._transitionable=new a.Transitionable(i),this.setLight(ge),this._transitioning=this._transitionable.untransitioned()}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getLight=function(){return this._transitionable.serialize()},X.prototype.setLight=function(ne,ye){if(ye===void 0&&(ye={}),!this._validate(a.validateLight,ne,ye))for(var ze in ne){var Ze=ne[ze];a.endsWith(ze,D)?this._transitionable.setTransition(ze.slice(0,-D.length),Ze):this._transitionable.setValue(ze,Ze)}},X.prototype.updateTransitions=function(ne){this._transitioning=this._transitionable.transitioned(ne,this._transitioning)},X.prototype.hasTransition=function(){return this._transitioning.hasTransition()},X.prototype.recalculate=function(ne){this.properties=this._transitioning.possiblyEvaluate(ne)},X.prototype._validate=function(ne,ye,ze){return ze&&ze.validate===!1?!1:a.emitValidationErrors(this,ne.call(a.validateStyle,a.extend({value:ye,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},X}(a.Evented),O=function(X,ge){this.width=X,this.height=ge,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};O.prototype.getDash=function(X,ge){var ne=X.join(",")+String(ge);return this.dashEntry[ne]||(this.dashEntry[ne]=this.addDash(X,ge)),this.dashEntry[ne]},O.prototype.getDashRanges=function(X,ge,ne){var ye=X.length%2===1,ze=[],Ze=ye?-X[X.length-1]*ne:0,lt=X[0]*ne,wt=!0;ze.push({left:Ze,right:lt,isDash:wt,zeroLength:X[0]===0});for(var Ut=X[0],Jt=1;Jt<X.length;Jt++){wt=!wt;var fr=X[Jt];Ze=Ut*ne,Ut+=fr,lt=Ut*ne,ze.push({left:Ze,right:lt,isDash:wt,zeroLength:fr===0})}return ze},O.prototype.addRoundDash=function(X,ge,ne){for(var ye=ge/2,ze=-ne;ze<=ne;ze++)for(var Ze=this.nextRow+ne+ze,lt=this.width*Ze,wt=0,Ut=X[wt],Jt=0;Jt<this.width;Jt++){Jt/Ut.right>1&&(Ut=X[++wt]);var fr=Math.abs(Jt-Ut.left),xr=Math.abs(Jt-Ut.right),zr=Math.min(fr,xr),Wr=void 0,Yr=ze/ne*(ye+1);if(Ut.isDash){var Vr=ye-Math.abs(Yr);Wr=Math.sqrt(zr*zr+Vr*Vr)}else Wr=ye-Math.sqrt(zr*zr+Yr*Yr);this.data[lt+Jt]=Math.max(0,Math.min(255,Wr+128))}},O.prototype.addRegularDash=function(X){for(var ge=X.length-1;ge>=0;--ge){var ne=X[ge],ye=X[ge+1];ne.zeroLength?X.splice(ge,1):ye&&ye.isDash===ne.isDash&&(ye.left=ne.left,X.splice(ge,1))}var ze=X[0],Ze=X[X.length-1];ze.isDash===Ze.isDash&&(ze.left=Ze.left-this.width,Ze.right=ze.right+this.width);for(var lt=this.width*this.nextRow,wt=0,Ut=X[wt],Jt=0;Jt<this.width;Jt++){Jt/Ut.right>1&&(Ut=X[++wt]);var fr=Math.abs(Jt-Ut.left),xr=Math.abs(Jt-Ut.right),zr=Math.min(fr,xr),Wr=Ut.isDash?zr:-zr;this.data[lt+Jt]=Math.max(0,Math.min(255,Wr+128))}},O.prototype.addDash=function(X,ge){var ne=ge?7:0,ye=2*ne+1;if(this.nextRow+ye>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var ze=0,Ze=0;Ze<X.length;Ze++)ze+=X[Ze];if(ze!==0){var lt=this.width/ze,wt=this.getDashRanges(X,this.width,lt);ge?this.addRoundDash(wt,lt,ne):this.addRegularDash(wt)}var Ut={y:(this.nextRow+ne+.5)/this.height,height:2*ne/this.height,width:ze};return this.nextRow+=ye,this.dirty=!0,Ut},O.prototype.bind=function(X){var ge=X.gl;this.texture?(ge.bindTexture(ge.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,this.width,this.height,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))):(this.texture=ge.createTexture(),ge.bindTexture(ge.TEXTURE_2D,this.texture),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,ge.LINEAR),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,ge.LINEAR),ge.texImage2D(ge.TEXTURE_2D,0,ge.ALPHA,this.width,this.height,0,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))};var F=function de(X,ge){this.workerPool=X,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var ne=this.workerPool.acquire(this.id),ye=0;ye<ne.length;ye++){var ze=ne[ye],Ze=new de.Actor(ze,ge,this.id);Ze.name="Worker "+ye,this.actors.push(Ze)}};F.prototype.broadcast=function(X,ge,ne){ne=ne||function(){},a.asyncAll(this.actors,function(ye,ze){ye.send(X,ge,ze)},ne)},F.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},F.prototype.remove=function(){this.actors.forEach(function(X){X.remove()}),this.actors=[],this.workerPool.release(this.id)},F.Actor=a.Actor;function V(de,X,ge){var ne=function(ye,ze){if(ye)return ge(ye);if(ze){var Ze=a.pick(a.extend(ze,de),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ze.vector_layers&&(Ze.vectorLayers=ze.vector_layers,Ze.vectorLayerIds=Ze.vectorLayers.map(function(lt){return lt.id})),Ze.tiles=X.canonicalizeTileset(Ze,de.url),ge(null,Ze)}};return de.url?a.getJSON(X.transformRequest(X.normalizeSourceURL(de.url),a.ResourceType.Source),ne):a.browser.frame(function(){return ne(null,de)})}var _=function(X,ge,ne){this.bounds=a.LngLatBounds.convert(this.validateBounds(X)),this.minzoom=ge||0,this.maxzoom=ne||24};_.prototype.validateBounds=function(X){return!Array.isArray(X)||X.length!==4?[-180,-90,180,90]:[Math.max(-180,X[0]),Math.max(-90,X[1]),Math.min(180,X[2]),Math.min(90,X[3])]},_.prototype.contains=function(X){var ge=Math.pow(2,X.z),ne={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*ge),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*ge),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*ge),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*ge)},ye=X.x>=ne.minX&&X.x<ne.maxX&&X.y>=ne.minY&&X.y<ne.maxY;return ye};var U=function(de){function X(ge,ne,ye,ze){if(de.call(this),this.id=ge,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(ne,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},ne),this._collectResourceTiming=ne.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ze)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ne=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=V(this._options,this.map._requestManager,function(ye,ze){ne._tileJSONRequest=null,ne._loaded=!0,ye?ne.fire(new a.ErrorEvent(ye)):ze&&(a.extend(ne,ze),ze.bounds&&(ne.tileBounds=new _(ze.bounds,ne.minzoom,ne.maxzoom)),a.postTurnstileEvent(ze.tiles,ne.map._requestManager._customAccessToken),a.postMapLoadEvent(ze.tiles,ne.map._getMapId(),ne.map._requestManager._skuToken,ne.map._requestManager._customAccessToken),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.hasTile=function(ne){return!this.tileBounds||this.tileBounds.contains(ne.canonical)},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.loadTile=function(ne,ye){var ze=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme)),Ze={request:this.map._requestManager.transformRequest(ze,a.ResourceType.Tile),uid:ne.uid,tileID:ne.tileID,zoom:ne.tileID.overscaledZ,tileSize:this.tileSize*ne.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ze.request.collectResourceTiming=this._collectResourceTiming,!ne.actor||ne.state==="expired"?(ne.actor=this.dispatcher.getActor(),ne.request=ne.actor.send("loadTile",Ze,lt.bind(this))):ne.state==="loading"?ne.reloadCallback=ye:ne.request=ne.actor.send("reloadTile",Ze,lt.bind(this));function lt(wt,Ut){if(delete ne.request,ne.aborted)return ye(null);if(wt&&wt.status!==404)return ye(wt);Ut&&Ut.resourceTiming&&(ne.resourceTiming=Ut.resourceTiming),this.map._refreshExpiredTiles&&Ut&&ne.setExpiryData(Ut),ne.loadVectorData(Ut,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),ye(null),ne.reloadCallback&&(this.loadTile(ne,ne.reloadCallback),ne.reloadCallback=null)}},X.prototype.abortTile=function(ne){ne.request&&(ne.request.cancel(),delete ne.request),ne.actor&&ne.actor.send("abortTile",{uid:ne.uid,type:this.type,source:this.id},void 0)},X.prototype.unloadTile=function(ne){ne.unloadVectorData(),ne.actor&&ne.actor.send("removeTile",{uid:ne.uid,type:this.type,source:this.id},void 0)},X.prototype.hasTransition=function(){return!1},X}(a.Evented),H=function(de){function X(ge,ne,ye,ze){de.call(this),this.id=ge,this.dispatcher=ye,this.setEventedParent(ze),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},ne),a.extend(this,a.pick(ne,["url","scheme","tileSize"]))}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ne=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=V(this._options,this.map._requestManager,function(ye,ze){ne._tileJSONRequest=null,ne._loaded=!0,ye?ne.fire(new a.ErrorEvent(ye)):ze&&(a.extend(ne,ze),ze.bounds&&(ne.tileBounds=new _(ze.bounds,ne.minzoom,ne.maxzoom)),a.postTurnstileEvent(ze.tiles),a.postMapLoadEvent(ze.tiles,ne.map._getMapId(),ne.map._requestManager._skuToken),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.hasTile=function(ne){return!this.tileBounds||this.tileBounds.contains(ne.canonical)},X.prototype.loadTile=function(ne,ye){var ze=this,Ze=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ne.request=a.getImage(this.map._requestManager.transformRequest(Ze,a.ResourceType.Tile),function(lt,wt){if(delete ne.request,ne.aborted)ne.state="unloaded",ye(null);else if(lt)ne.state="errored",ye(lt);else if(wt){ze.map._refreshExpiredTiles&&ne.setExpiryData(wt),delete wt.cacheControl,delete wt.expires;var Ut=ze.map.painter.context,Jt=Ut.gl;ne.texture=ze.map.painter.getTileTexture(wt.width),ne.texture?ne.texture.update(wt,{useMipmap:!0}):(ne.texture=new a.Texture(Ut,wt,Jt.RGBA,{useMipmap:!0}),ne.texture.bind(Jt.LINEAR,Jt.CLAMP_TO_EDGE,Jt.LINEAR_MIPMAP_NEAREST),Ut.extTextureFilterAnisotropic&&Jt.texParameterf(Jt.TEXTURE_2D,Ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ut.extTextureFilterAnisotropicMax)),ne.state="loaded",a.cacheEntryPossiblyAdded(ze.dispatcher),ye(null)}})},X.prototype.abortTile=function(ne,ye){ne.request&&(ne.request.cancel(),delete ne.request),ye()},X.prototype.unloadTile=function(ne,ye){ne.texture&&this.map.painter.saveTileTexture(ne.texture),ye()},X.prototype.hasTransition=function(){return!1},X}(a.Evented),z=function(de){function X(ge,ne,ye,ze){de.call(this,ge,ne,ye,ze),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},ne),this.encoding=ne.encoding||"mapbox"}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},X.prototype.loadTile=function(ne,ye){var ze=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ne.request=a.getImage(this.map._requestManager.transformRequest(ze,a.ResourceType.Tile),Ze.bind(this)),ne.neighboringTiles=this._getNeighboringTiles(ne.tileID);function Ze(wt,Ut){if(delete ne.request,ne.aborted)ne.state="unloaded",ye(null);else if(wt)ne.state="errored",ye(wt);else if(Ut){this.map._refreshExpiredTiles&&ne.setExpiryData(Ut),delete Ut.cacheControl,delete Ut.expires;var Jt=a.window.ImageBitmap&&Ut instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),fr=Jt?Ut:a.browser.getImageData(Ut,1),xr={uid:ne.uid,coord:ne.tileID,source:this.id,rawImageData:fr,encoding:this.encoding};(!ne.actor||ne.state==="expired")&&(ne.actor=this.dispatcher.getActor(),ne.actor.send("loadDEMTile",xr,lt.bind(this)))}}function lt(wt,Ut){wt&&(ne.state="errored",ye(wt)),Ut&&(ne.dem=Ut,ne.needsHillshadePrepare=!0,ne.state="loaded",ye(null))}},X.prototype._getNeighboringTiles=function(ne){var ye=ne.canonical,ze=Math.pow(2,ye.z),Ze=(ye.x-1+ze)%ze,lt=ye.x===0?ne.wrap-1:ne.wrap,wt=(ye.x+1+ze)%ze,Ut=ye.x+1===ze?ne.wrap+1:ne.wrap,Jt={};return Jt[new a.OverscaledTileID(ne.overscaledZ,lt,ye.z,Ze,ye.y).key]={backfilled:!1},Jt[new a.OverscaledTileID(ne.overscaledZ,Ut,ye.z,wt,ye.y).key]={backfilled:!1},ye.y>0&&(Jt[new a.OverscaledTileID(ne.overscaledZ,lt,ye.z,Ze,ye.y-1).key]={backfilled:!1},Jt[new a.OverscaledTileID(ne.overscaledZ,ne.wrap,ye.z,ye.x,ye.y-1).key]={backfilled:!1},Jt[new a.OverscaledTileID(ne.overscaledZ,Ut,ye.z,wt,ye.y-1).key]={backfilled:!1}),ye.y+1<ze&&(Jt[new a.OverscaledTileID(ne.overscaledZ,lt,ye.z,Ze,ye.y+1).key]={backfilled:!1},Jt[new a.OverscaledTileID(ne.overscaledZ,ne.wrap,ye.z,ye.x,ye.y+1).key]={backfilled:!1},Jt[new a.OverscaledTileID(ne.overscaledZ,Ut,ye.z,wt,ye.y+1).key]={backfilled:!1}),Jt},X.prototype.unloadTile=function(ne){ne.demTexture&&this.map.painter.saveTileTexture(ne.demTexture),ne.fbo&&(ne.fbo.destroy(),delete ne.fbo),ne.dem&&delete ne.dem,delete ne.neighboringTiles,ne.state="unloaded",ne.actor&&ne.actor.send("removeDEMTile",{uid:ne.uid,source:this.id})},X}(H),G=function(de){function X(ge,ne,ye,ze){de.call(this),this.id=ge,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(ze),this._data=ne.data,this._options=a.extend({},ne),this._collectResourceTiming=ne.collectResourceTiming,this._resourceTiming=[],ne.maxzoom!==void 0&&(this.maxzoom=ne.maxzoom),ne.type&&(this.type=ne.type),ne.attribution&&(this.attribution=ne.attribution),this.promoteId=ne.promoteId;var Ze=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:ne.cluster||!1,geojsonVtOptions:{buffer:(ne.buffer!==void 0?ne.buffer:128)*Ze,tolerance:(ne.tolerance!==void 0?ne.tolerance:.375)*Ze,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:ne.lineMetrics||!1,generateId:ne.generateId||!1},superclusterOptions:{maxZoom:ne.clusterMaxZoom!==void 0?Math.min(ne.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(ne.clusterRadius||50)*Ze,log:!1,generateId:ne.generateId||!1},clusterProperties:ne.clusterProperties},ne.workerOptions)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ne=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye){ne.fire(new a.ErrorEvent(ye));return}var ze={dataType:"source",sourceDataType:"metadata"};ne._collectResourceTiming&&ne._resourceTiming&&ne._resourceTiming.length>0&&(ze.resourceTiming=ne._resourceTiming,ne._resourceTiming=[]),ne.fire(new a.Event("data",ze))})},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.setData=function(ne){var ye=this;return this._data=ne,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ze){if(ze){ye.fire(new a.ErrorEvent(ze));return}var Ze={dataType:"source",sourceDataType:"content"};ye._collectResourceTiming&&ye._resourceTiming&&ye._resourceTiming.length>0&&(Ze.resourceTiming=ye._resourceTiming,ye._resourceTiming=[]),ye.fire(new a.Event("data",Ze))}),this},X.prototype.getClusterExpansionZoom=function(ne,ye){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ne,source:this.id},ye),this},X.prototype.getClusterChildren=function(ne,ye){return this.actor.send("geojson.getClusterChildren",{clusterId:ne,source:this.id},ye),this},X.prototype.getClusterLeaves=function(ne,ye,ze,Ze){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ne,limit:ye,offset:ze},Ze),this},X.prototype._updateWorkerData=function(ne){var ye=this;this._loaded=!1;var ze=a.extend({},this.workerOptions),Ze=this._data;typeof Ze=="string"?(ze.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Ze),a.ResourceType.Source),ze.request.collectResourceTiming=this._collectResourceTiming):ze.data=JSON.stringify(Ze),this.actor.send(this.type+".loadData",ze,function(lt,wt){ye._removed||wt&&wt.abandoned||(ye._loaded=!0,wt&&wt.resourceTiming&&wt.resourceTiming[ye.id]&&(ye._resourceTiming=wt.resourceTiming[ye.id].slice(0)),ye.actor.send(ye.type+".coalesce",{source:ze.source},null),ne(lt))})},X.prototype.loaded=function(){return this._loaded},X.prototype.loadTile=function(ne,ye){var ze=this,Ze=ne.actor?"reloadTile":"loadTile";ne.actor=this.actor;var lt={type:this.type,uid:ne.uid,tileID:ne.tileID,zoom:ne.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ne.request=this.actor.send(Ze,lt,function(wt,Ut){return delete ne.request,ne.unloadVectorData(),ne.aborted?ye(null):wt?ye(wt):(ne.loadVectorData(Ut,ze.map.painter,Ze==="reloadTile"),ye(null))})},X.prototype.abortTile=function(ne){ne.request&&(ne.request.cancel(),delete ne.request),ne.aborted=!0},X.prototype.unloadTile=function(ne){ne.unloadVectorData(),this.actor.send("removeTile",{uid:ne.uid,type:this.type,source:this.id})},X.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},X.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},X.prototype.hasTransition=function(){return!1},X}(a.Evented),Y=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),J=function(de){function X(ge,ne,ye,ze){de.call(this),this.id=ge,this.dispatcher=ye,this.coordinates=ne.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ze),this.options=ne}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.load=function(ne,ye){var ze=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Ze,lt){ze._loaded=!0,Ze?ze.fire(new a.ErrorEvent(Ze)):lt&&(ze.image=lt,ne&&(ze.coordinates=ne),ye&&ye(),ze._finishLoading())})},X.prototype.loaded=function(){return this._loaded},X.prototype.updateImage=function(ne){var ye=this;return!this.image||!ne.url?this:(this.options.url=ne.url,this.load(ne.coordinates,function(){ye.texture=null}),this)},X.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.setCoordinates=function(ne){var ye=this;this.coordinates=ne;var ze=ne.map(a.MercatorCoordinate.fromLngLat);this.tileID=ae(ze),this.minzoom=this.maxzoom=this.tileID.z;var Ze=ze.map(function(lt){return ye.tileID.getTilePoint(lt)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ze[0].x,Ze[0].y,0,0),this._boundsArray.emplaceBack(Ze[1].x,Ze[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Ze[3].x,Ze[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Ze[2].x,Ze[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ne=this.map.painter.context,ye=ne.gl;this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(ne,this.image,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ze=this.tiles[ze];Ze.state!=="loaded"&&(Ze.state="loaded",Ze.texture=this.texture)}}},X.prototype.loadTile=function(ne,ye){this.tileID&&this.tileID.equals(ne.tileID.canonical)?(this.tiles[String(ne.tileID.wrap)]=ne,ne.buckets={},ye(null)):(ne.state="errored",ye(null))},X.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return!1},X}(a.Evented);function ae(de){for(var X=1/0,ge=1/0,ne=-1/0,ye=-1/0,ze=0,Ze=de;ze<Ze.length;ze+=1){var lt=Ze[ze];X=Math.min(X,lt.x),ge=Math.min(ge,lt.y),ne=Math.max(ne,lt.x),ye=Math.max(ye,lt.y)}var wt=ne-X,Ut=ye-ge,Jt=Math.max(wt,Ut),fr=Math.max(0,Math.floor(-Math.log(Jt)/Math.LN2)),xr=Math.pow(2,fr);return new a.CanonicalTileID(fr,Math.floor((X+ne)/2*xr),Math.floor((ge+ye)/2*xr))}var oe=function(de){function X(ge,ne,ye,ze){de.call(this,ge,ne,ye,ze),this.roundZoom=!0,this.type="video",this.options=ne}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ne=this;this._loaded=!1;var ye=this.options;this.urls=[];for(var ze=0,Ze=ye.urls;ze<Ze.length;ze+=1){var lt=Ze[ze];this.urls.push(this.map._requestManager.transformRequest(lt,a.ResourceType.Source).url)}a.getVideo(this.urls,function(wt,Ut){ne._loaded=!0,wt?ne.fire(new a.ErrorEvent(wt)):Ut&&(ne.video=Ut,ne.video.loop=!0,ne.video.addEventListener("playing",function(){ne.map.triggerRepaint()}),ne.map&&ne.video.play(),ne._finishLoading())})},X.prototype.pause=function(){this.video&&this.video.pause()},X.prototype.play=function(){this.video&&this.video.play()},X.prototype.seek=function(ne){if(this.video){var ye=this.video.seekable;ne<ye.start(0)||ne>ye.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ye.start(0)+" and "+ye.end(0)+"-second mark."))):this.video.currentTime=ne}},X.prototype.getVideo=function(){return this.video},X.prototype.onAdd=function(ne){this.map||(this.map=ne,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ne=this.map.painter.context,ye=ne.gl;this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),ye.texSubImage2D(ye.TEXTURE_2D,0,0,0,ye.RGBA,ye.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(ne,this.video,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ze=this.tiles[ze];Ze.state!=="loaded"&&(Ze.state="loaded",Ze.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this.video&&!this.video.paused},X}(J),he=function(de){function X(ge,ne,ye,ze){de.call(this,ge,ne,ye,ze),ne.coordinates?(!Array.isArray(ne.coordinates)||ne.coordinates.length!==4||ne.coordinates.some(function(Ze){return!Array.isArray(Ze)||Ze.length!==2||Ze.some(function(lt){return typeof lt!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'missing required property "coordinates"'))),ne.animate&&typeof ne.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'optional "animate" property must be a boolean value'))),ne.canvas?typeof ne.canvas!="string"&&!(ne.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'missing required property "canvas"'))),this.options=ne,this.animate=ne.animate!==void 0?ne.animate:!0}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},X.prototype.getCanvas=function(){return this.canvas},X.prototype.onAdd=function(ne){this.map=ne,this.load(),this.canvas&&this.animate&&this.play()},X.prototype.onRemove=function(){this.pause()},X.prototype.prepare=function(){var ne=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ne=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ne=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ye=this.map.painter.context,ze=ye.gl;this.boundsBuffer||(this.boundsBuffer=ye.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ne||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(ye,this.canvas,ze.RGBA,{premultiply:!0});for(var Ze in this.tiles){var lt=this.tiles[Ze];lt.state!=="loaded"&&(lt.state="loaded",lt.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this._playing},X.prototype._hasInvalidDimensions=function(){for(var ne=0,ye=[this.canvas.width,this.canvas.height];ne<ye.length;ne+=1){var ze=ye[ne];if(isNaN(ze)||ze<=0)return!0}return!1},X}(J),q={vector:U,raster:H,"raster-dem":z,geojson:G,video:oe,image:J,canvas:he},Z=function(de,X,ge,ne){var ye=new q[X.type](de,X,ge,ne);if(ye.id!==de)throw new Error("Expected Source id to be "+de+" instead of "+ye.id);return a.bindAll(["load","abort","unload","serialize","prepare"],ye),ye},$=function(de){return q[de]},K=function(de,X){q[de]=X};function re(de,X){var ge=a.identity([]);return a.translate(ge,ge,[1,1,0]),a.scale(ge,ge,[de.width*.5,de.height*.5,1]),a.multiply(ge,ge,de.calculatePosMatrix(X.toUnwrapped()))}function le(de,X,ge){if(de)for(var ne=0,ye=de;ne<ye.length;ne+=1){var ze=ye[ne],Ze=X[ze];if(Ze&&Ze.source===ge&&Ze.type==="fill-extrusion")return!0}else for(var lt in X){var wt=X[lt];if(wt.source===ge&&wt.type==="fill-extrusion")return!0}return!1}function te(de,X,ge,ne,ye,ze){var Ze=le(ye&&ye.layers,X,de.id),lt=ze.maxPitchScaleFactor(),wt=de.tilesIn(ne,lt,Ze);wt.sort(se);for(var Ut=[],Jt=0,fr=wt;Jt<fr.length;Jt+=1){var xr=fr[Jt];Ut.push({wrappedTileID:xr.tileID.wrapped().key,queryResults:xr.tile.queryRenderedFeatures(X,ge,de._state,xr.queryGeometry,xr.cameraQueryGeometry,xr.scale,ye,ze,lt,re(de.transform,xr.tileID))})}var zr=ve(Ut);for(var Wr in zr)zr[Wr].forEach(function(Yr){var Vr=Yr.feature,qr=de.getFeatureState(Vr.layer["source-layer"],Vr.id);Vr.source=Vr.layer.source,Vr.layer["source-layer"]&&(Vr.sourceLayer=Vr.layer["source-layer"]),Vr.state=qr});return zr}function ee(de,X,ge,ne,ye,ze,Ze){for(var lt={},wt=ze.queryRenderedSymbols(ne),Ut=[],Jt=0,fr=Object.keys(wt).map(Number);Jt<fr.length;Jt+=1){var xr=fr[Jt];Ut.push(Ze[xr])}Ut.sort(se);for(var zr=function(){var cn=Yr[Wr],Dn=cn.featureIndex.lookupSymbolFeatures(wt[cn.bucketInstanceId],X,cn.bucketIndex,cn.sourceLayerIndex,ye.filter,ye.layers,ye.availableImages,de);for(var On in Dn){var $n=lt[On]=lt[On]||[],Jn=Dn[On];Jn.sort(function(ha,ma){var Ma=cn.featureSortOrder;if(Ma){var _a=Ma.indexOf(ha.featureIndex),Ya=Ma.indexOf(ma.featureIndex);return Ya-_a}else return ma.featureIndex-ha.featureIndex});for(var Kn=0,oa=Jn;Kn<oa.length;Kn+=1){var va=oa[Kn];$n.push(va)}}},Wr=0,Yr=Ut;Wr<Yr.length;Wr+=1)zr();var Vr=function(cn){lt[cn].forEach(function(Dn){var On=Dn.feature,$n=de[cn],Jn=ge[$n.source],Kn=Jn.getFeatureState(On.layer["source-layer"],On.id);On.source=On.layer.source,On.layer["source-layer"]&&(On.sourceLayer=On.layer["source-layer"]),On.state=Kn})};for(var qr in lt)Vr(qr);return lt}function ue(de,X){for(var ge=de.getRenderableIds().map(function(wt){return de.getTileByID(wt)}),ne=[],ye={},ze=0;ze<ge.length;ze++){var Ze=ge[ze],lt=Ze.tileID.canonical.key;ye[lt]||(ye[lt]=!0,Ze.querySourceFeatures(ne,X))}return ne}function se(de,X){var ge=de.tileID,ne=X.tileID;return ge.overscaledZ-ne.overscaledZ||ge.canonical.y-ne.canonical.y||ge.wrap-ne.wrap||ge.canonical.x-ne.canonical.x}function ve(de){for(var X={},ge={},ne=0,ye=de;ne<ye.length;ne+=1){var ze=ye[ne],Ze=ze.queryResults,lt=ze.wrappedTileID,wt=ge[lt]=ge[lt]||{};for(var Ut in Ze)for(var Jt=Ze[Ut],fr=wt[Ut]=wt[Ut]||{},xr=X[Ut]=X[Ut]||[],zr=0,Wr=Jt;zr<Wr.length;zr+=1){var Yr=Wr[zr];fr[Yr.featureIndex]||(fr[Yr.featureIndex]=!0,xr.push(Yr))}}return X}var be=function(X,ge){this.max=X,this.onRemove=ge,this.reset()};be.prototype.reset=function(){for(var X in this.data)for(var ge=0,ne=this.data[X];ge<ne.length;ge+=1){var ye=ne[ge];ye.timeout&&clearTimeout(ye.timeout),this.onRemove(ye.value)}return this.data={},this.order=[],this},be.prototype.add=function(X,ge,ne){var ye=this,ze=X.wrapped().key;this.data[ze]===void 0&&(this.data[ze]=[]);var Ze={value:ge,timeout:void 0};if(ne!==void 0&&(Ze.timeout=setTimeout(function(){ye.remove(X,Ze)},ne)),this.data[ze].push(Ze),this.order.push(ze),this.order.length>this.max){var lt=this._getAndRemoveByKey(this.order[0]);lt&&this.onRemove(lt)}return this},be.prototype.has=function(X){return X.wrapped().key in this.data},be.prototype.getAndRemove=function(X){return this.has(X)?this._getAndRemoveByKey(X.wrapped().key):null},be.prototype._getAndRemoveByKey=function(X){var ge=this.data[X].shift();return ge.timeout&&clearTimeout(ge.timeout),this.data[X].length===0&&delete this.data[X],this.order.splice(this.order.indexOf(X),1),ge.value},be.prototype.getByKey=function(X){var ge=this.data[X];return ge?ge[0].value:null},be.prototype.get=function(X){if(!this.has(X))return null;var ge=this.data[X.wrapped().key][0];return ge.value},be.prototype.remove=function(X,ge){if(!this.has(X))return this;var ne=X.wrapped().key,ye=ge===void 0?0:this.data[ne].indexOf(ge),ze=this.data[ne][ye];return this.data[ne].splice(ye,1),ze.timeout&&clearTimeout(ze.timeout),this.data[ne].length===0&&delete this.data[ne],this.onRemove(ze.value),this.order.splice(this.order.indexOf(ne),1),this},be.prototype.setMaxSize=function(X){for(this.max=X;this.order.length>this.max;){var ge=this._getAndRemoveByKey(this.order[0]);ge&&this.onRemove(ge)}return this},be.prototype.filter=function(X){var ge=[];for(var ne in this.data)for(var ye=0,ze=this.data[ne];ye<ze.length;ye+=1){var Ze=ze[ye];X(Ze.value)||ge.push(Ze)}for(var lt=0,wt=ge;lt<wt.length;lt+=1){var Ut=wt[lt];this.remove(Ut.value.tileID,Ut)}};var Ee=function(X,ge,ne){this.context=X;var ye=X.gl;this.buffer=ye.createBuffer(),this.dynamicDraw=!!ne,this.context.unbindVAO(),X.bindElementBuffer.set(this.buffer),ye.bufferData(ye.ELEMENT_ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Ee.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ee.prototype.updateData=function(X){var ge=this.context.gl;this.context.unbindVAO(),this.bind(),ge.bufferSubData(ge.ELEMENT_ARRAY_BUFFER,0,X.arrayBuffer)},Ee.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var Ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Oe=function(X,ge,ne,ye){this.length=ge.length,this.attributes=ne,this.itemSize=ge.bytesPerElement,this.dynamicDraw=ye,this.context=X;var ze=X.gl;this.buffer=ze.createBuffer(),X.bindVertexBuffer.set(this.buffer),ze.bufferData(ze.ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?ze.DYNAMIC_DRAW:ze.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Oe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Oe.prototype.updateData=function(X){var ge=this.context.gl;this.bind(),ge.bufferSubData(ge.ARRAY_BUFFER,0,X.arrayBuffer)},Oe.prototype.enableAttributes=function(X,ge){for(var ne=0;ne<this.attributes.length;ne++){var ye=this.attributes[ne],ze=ge.attributes[ye.name];ze!==void 0&&X.enableVertexAttribArray(ze)}},Oe.prototype.setVertexAttribPointers=function(X,ge,ne){for(var ye=0;ye<this.attributes.length;ye++){var ze=this.attributes[ye],Ze=ge.attributes[ze.name];Ze!==void 0&&X.vertexAttribPointer(Ze,ze.components,X[Ae[ze.type]],!1,this.itemSize,ze.offset+this.itemSize*(ne||0))}},Oe.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var Ue=function(X){this.gl=X.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ue.prototype.get=function(){return this.current},Ue.prototype.set=function(X){},Ue.prototype.getDefault=function(){return this.default},Ue.prototype.setDefault=function(){this.set(this.default)};var Le=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(ne){var ye=this.current;ne.r===ye.r&&ne.g===ye.g&&ne.b===ye.b&&ne.a===ye.a&&!this.dirty||(this.gl.clearColor(ne.r,ne.g,ne.b,ne.a),this.current=ne,this.dirty=!1)},X}(Ue),we=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 1},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.clearDepth(ne),this.current=ne,this.dirty=!1)},X}(Ue),Ce=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 0},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.clearStencil(ne),this.current=ne,this.dirty=!1)},X}(Ue),Ve=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[!0,!0,!0,!0]},X.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&ne[2]===ye[2]&&ne[3]===ye[3]&&!this.dirty||(this.gl.colorMask(ne[0],ne[1],ne[2],ne[3]),this.current=ne,this.dirty=!1)},X}(Ue),Ne=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!0},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.depthMask(ne),this.current=ne,this.dirty=!1)},X}(Ue),ke=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 255},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.stencilMask(ne),this.current=ne,this.dirty=!1)},X}(Ue),We=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},X.prototype.set=function(ne){var ye=this.current;ne.func===ye.func&&ne.ref===ye.ref&&ne.mask===ye.mask&&!this.dirty||(this.gl.stencilFunc(ne.func,ne.ref,ne.mask),this.current=ne,this.dirty=!1)},X}(Ue),rt=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ne=this.gl;return[ne.KEEP,ne.KEEP,ne.KEEP]},X.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&ne[2]===ye[2]&&!this.dirty||(this.gl.stencilOp(ne[0],ne[1],ne[2]),this.current=ne,this.dirty=!1)},X}(Ue),et=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.STENCIL_TEST):ye.disable(ye.STENCIL_TEST),this.current=ne,this.dirty=!1}},X}(Ue),tt=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[0,1]},X.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&!this.dirty||(this.gl.depthRange(ne[0],ne[1]),this.current=ne,this.dirty=!1)},X}(Ue),at=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.DEPTH_TEST):ye.disable(ye.DEPTH_TEST),this.current=ne,this.dirty=!1}},X}(Ue),ct=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.LESS},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.depthFunc(ne),this.current=ne,this.dirty=!1)},X}(Ue),dt=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.BLEND):ye.disable(ye.BLEND),this.current=ne,this.dirty=!1}},X}(Ue),gt=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ne=this.gl;return[ne.ONE,ne.ZERO]},X.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&!this.dirty||(this.gl.blendFunc(ne[0],ne[1]),this.current=ne,this.dirty=!1)},X}(Ue),Et=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(ne){var ye=this.current;ne.r===ye.r&&ne.g===ye.g&&ne.b===ye.b&&ne.a===ye.a&&!this.dirty||(this.gl.blendColor(ne.r,ne.g,ne.b,ne.a),this.current=ne,this.dirty=!1)},X}(Ue),Ct=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.FUNC_ADD},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.blendEquation(ne),this.current=ne,this.dirty=!1)},X}(Ue),Vt=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.CULL_FACE):ye.disable(ye.CULL_FACE),this.current=ne,this.dirty=!1}},X}(Ue),Je=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.BACK},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.cullFace(ne),this.current=ne,this.dirty=!1)},X}(Ue),_e=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.CCW},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.frontFace(ne),this.current=ne,this.dirty=!1)},X}(Ue),Fe=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.useProgram(ne),this.current=ne,this.dirty=!1)},X}(Ue),Be=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.TEXTURE0},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.activeTexture(ne),this.current=ne,this.dirty=!1)},X}(Ue),De=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ne=this.gl;return[0,0,ne.drawingBufferWidth,ne.drawingBufferHeight]},X.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&ne[2]===ye[2]&&ne[3]===ye[3]&&!this.dirty||(this.gl.viewport(ne[0],ne[1],ne[2],ne[3]),this.current=ne,this.dirty=!1)},X}(Ue),Te=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindFramebuffer(ye.FRAMEBUFFER,ne),this.current=ne,this.dirty=!1}},X}(Ue),xe=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindRenderbuffer(ye.RENDERBUFFER,ne),this.current=ne,this.dirty=!1}},X}(Ue),Me=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindTexture(ye.TEXTURE_2D,ne),this.current=ne,this.dirty=!1}},X}(Ue),Pe=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindBuffer(ye.ARRAY_BUFFER,ne),this.current=ne,this.dirty=!1}},X}(Ue),He=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){var ye=this.gl;ye.bindBuffer(ye.ELEMENT_ARRAY_BUFFER,ne),this.current=ne,this.dirty=!1},X}(Ue),Ke=function(de){function X(ge){de.call(this,ge),this.vao=ge.extVertexArrayObject}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){!this.vao||ne===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ne),this.current=ne,this.dirty=!1)},X}(Ue),qe=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 4},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_ALIGNMENT,ne),this.current=ne,this.dirty=!1}},X}(Ue),vt=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne),this.current=ne,this.dirty=!1}},X}(Ue),bt=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,ne),this.current=ne,this.dirty=!1}},X}(Ue),Wt=function(de){function X(ge,ne){de.call(this,ge),this.context=ge,this.parent=ne}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X}(Ue),qt=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.setDirty=function(){this.dirty=!0},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,ne,0),this.current=ne,this.dirty=!1}},X}(Wt),At=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferRenderbuffer(ye.FRAMEBUFFER,ye.DEPTH_ATTACHMENT,ye.RENDERBUFFER,ne),this.current=ne,this.dirty=!1}},X}(Wt),zt=function(X,ge,ne,ye){this.context=X,this.width=ge,this.height=ne;var ze=X.gl,Ze=this.framebuffer=ze.createFramebuffer();this.colorAttachment=new qt(X,Ze),ye&&(this.depthAttachment=new At(X,Ze))};zt.prototype.destroy=function(){var X=this.context.gl,ge=this.colorAttachment.get();if(ge&&X.deleteTexture(ge),this.depthAttachment){var ne=this.depthAttachment.get();ne&&X.deleteRenderbuffer(ne)}X.deleteFramebuffer(this.framebuffer)};var Kt=519,Sr=function(X,ge,ne){this.func=X,this.mask=ge,this.range=ne};Sr.ReadOnly=!1,Sr.ReadWrite=!0,Sr.disabled=new Sr(Kt,Sr.ReadOnly,[0,1]);var yt=519,Zt=7680,$t=function(X,ge,ne,ye,ze,Ze){this.test=X,this.ref=ge,this.mask=ne,this.fail=ye,this.depthFail=ze,this.pass=Ze};$t.disabled=new $t({func:yt,mask:0},0,0,Zt,Zt,Zt);var mr=0,ur=1,pt=771,st=function(X,ge,ne){this.blendFunction=X,this.blendColor=ge,this.mask=ne};st.Replace=[ur,mr],st.disabled=new st(st.Replace,a.Color.transparent,[!1,!1,!1,!1]),st.unblended=new st(st.Replace,a.Color.transparent,[!0,!0,!0,!0]),st.alphaBlended=new st([ur,pt],a.Color.transparent,[!0,!0,!0,!0]);var xt=1029,St=2305,Dt=function(X,ge,ne){this.enable=X,this.mode=ge,this.frontFace=ne};Dt.disabled=new Dt(!1,xt,St),Dt.backCCW=new Dt(!0,xt,St);var Rt=function(X){this.gl=X,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Le(this),this.clearDepth=new we(this),this.clearStencil=new Ce(this),this.colorMask=new Ve(this),this.depthMask=new Ne(this),this.stencilMask=new ke(this),this.stencilFunc=new We(this),this.stencilOp=new rt(this),this.stencilTest=new et(this),this.depthRange=new tt(this),this.depthTest=new at(this),this.depthFunc=new ct(this),this.blend=new dt(this),this.blendFunc=new gt(this),this.blendColor=new Et(this),this.blendEquation=new Ct(this),this.cullFace=new Vt(this),this.cullFaceSide=new Je(this),this.frontFace=new _e(this),this.program=new Fe(this),this.activeTexture=new Be(this),this.viewport=new De(this),this.bindFramebuffer=new Te(this),this.bindRenderbuffer=new xe(this),this.bindTexture=new Me(this),this.bindVertexBuffer=new Pe(this),this.bindElementBuffer=new He(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ke(this),this.pixelStoreUnpack=new qe(this),this.pixelStoreUnpackPremultiplyAlpha=new vt(this),this.pixelStoreUnpackFlipY=new bt(this),this.extTextureFilterAnisotropic=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=X.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=X.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(X.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=X.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=X.getExtension("EXT_disjoint_timer_query")};Rt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Rt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Rt.prototype.createIndexBuffer=function(X,ge){return new Ee(this,X,ge)},Rt.prototype.createVertexBuffer=function(X,ge,ne){return new Oe(this,X,ge,ne)},Rt.prototype.createRenderbuffer=function(X,ge,ne){var ye=this.gl,ze=ye.createRenderbuffer();return this.bindRenderbuffer.set(ze),ye.renderbufferStorage(ye.RENDERBUFFER,X,ge,ne),this.bindRenderbuffer.set(null),ze},Rt.prototype.createFramebuffer=function(X,ge,ne){return new zt(this,X,ge,ne)},Rt.prototype.clear=function(X){var ge=X.color,ne=X.depth,ye=this.gl,ze=0;ge&&(ze|=ye.COLOR_BUFFER_BIT,this.clearColor.set(ge),this.colorMask.set([!0,!0,!0,!0])),typeof ne<"u"&&(ze|=ye.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ne),this.depthMask.set(!0)),ye.clear(ze)},Rt.prototype.setCullFace=function(X){X.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(X.mode),this.frontFace.set(X.frontFace))},Rt.prototype.setDepthMode=function(X){X.func===this.gl.ALWAYS&&!X.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(X.func),this.depthMask.set(X.mask),this.depthRange.set(X.range))},Rt.prototype.setStencilMode=function(X){X.test.func===this.gl.ALWAYS&&!X.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(X.mask),this.stencilOp.set([X.fail,X.depthFail,X.pass]),this.stencilFunc.set({func:X.test.func,ref:X.ref,mask:X.test.mask}))},Rt.prototype.setColorMode=function(X){a.deepEqual(X.blendFunction,st.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(X.blendFunction),this.blendColor.set(X.blendColor)),this.colorMask.set(X.mask)},Rt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Bt=function(de){function X(ge,ne,ye){var ze=this;de.call(this),this.id=ge,this.dispatcher=ye,this.on("data",function(Ze){Ze.dataType==="source"&&Ze.sourceDataType==="metadata"&&(ze._sourceLoaded=!0),ze._sourceLoaded&&!ze._paused&&Ze.dataType==="source"&&Ze.sourceDataType==="content"&&(ze.reload(),ze.transform&&ze.update(ze.transform))}),this.on("error",function(){ze._sourceErrored=!0}),this._source=Z(ge,ne,ye,this),this._tiles={},this._cache=new be(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(ne){this.map=ne,this._maxTileCacheSize=ne?ne._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ne)},X.prototype.onRemove=function(ne){this._source&&this._source.onRemove&&this._source.onRemove(ne)},X.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ne in this._tiles){var ye=this._tiles[ne];if(ye.state!=="loaded"&&ye.state!=="errored")return!1}return!0},X.prototype.getSource=function(){return this._source},X.prototype.pause=function(){this._paused=!0},X.prototype.resume=function(){if(this._paused){var ne=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ne&&this.reload(),this.transform&&this.update(this.transform)}},X.prototype._loadTile=function(ne,ye){return this._source.loadTile(ne,ye)},X.prototype._unloadTile=function(ne){if(this._source.unloadTile)return this._source.unloadTile(ne,function(){})},X.prototype._abortTile=function(ne){if(this._source.abortTile)return this._source.abortTile(ne,function(){})},X.prototype.serialize=function(){return this._source.serialize()},X.prototype.prepare=function(ne){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ye in this._tiles){var ze=this._tiles[ye];ze.upload(ne),ze.prepare(this.map.style.imageManager)}},X.prototype.getIds=function(){return a.values(this._tiles).map(function(ne){return ne.tileID}).sort(Nt).map(function(ne){return ne.key})},X.prototype.getRenderableIds=function(ne){var ye=this,ze=[];for(var Ze in this._tiles)this._isIdRenderable(Ze,ne)&&ze.push(this._tiles[Ze]);return ne?ze.sort(function(lt,wt){var Ut=lt.tileID,Jt=wt.tileID,fr=new a.Point(Ut.canonical.x,Ut.canonical.y)._rotate(ye.transform.angle),xr=new a.Point(Jt.canonical.x,Jt.canonical.y)._rotate(ye.transform.angle);return Ut.overscaledZ-Jt.overscaledZ||xr.y-fr.y||xr.x-fr.x}).map(function(lt){return lt.tileID.key}):ze.map(function(lt){return lt.tileID}).sort(Nt).map(function(lt){return lt.key})},X.prototype.hasRenderableParent=function(ne){var ye=this.findLoadedParent(ne,0);return ye?this._isIdRenderable(ye.tileID.key):!1},X.prototype._isIdRenderable=function(ne,ye){return this._tiles[ne]&&this._tiles[ne].hasData()&&!this._coveredTiles[ne]&&(ye||!this._tiles[ne].holdingForFade())},X.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ne in this._tiles)this._tiles[ne].state!=="errored"&&this._reloadTile(ne,"reloading")},X.prototype._reloadTile=function(ne,ye){var ze=this._tiles[ne];ze&&(ze.state!=="loading"&&(ze.state=ye),this._loadTile(ze,this._tileLoaded.bind(this,ze,ne,ye)))},X.prototype._tileLoaded=function(ne,ye,ze,Ze){if(Ze){ne.state="errored",Ze.status!==404?this._source.fire(new a.ErrorEvent(Ze,{tile:ne})):this.update(this.transform);return}ne.timeAdded=a.browser.now(),ze==="expired"&&(ne.refreshedUponExpiration=!0),this._setTileReloadTimer(ye,ne),this.getSource().type==="raster-dem"&&ne.dem&&this._backfillDEM(ne),this._state.initializeTileState(ne,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:ne,coord:ne.tileID}))},X.prototype._backfillDEM=function(ne){for(var ye=this.getRenderableIds(),ze=0;ze<ye.length;ze++){var Ze=ye[ze];if(ne.neighboringTiles&&ne.neighboringTiles[Ze]){var lt=this.getTileByID(Ze);wt(ne,lt),wt(lt,ne)}}function wt(Ut,Jt){Ut.needsHillshadePrepare=!0;var fr=Jt.tileID.canonical.x-Ut.tileID.canonical.x,xr=Jt.tileID.canonical.y-Ut.tileID.canonical.y,zr=Math.pow(2,Ut.tileID.canonical.z),Wr=Jt.tileID.key;fr===0&&xr===0||Math.abs(xr)>1||(Math.abs(fr)>1&&(Math.abs(fr+zr)===1?fr+=zr:Math.abs(fr-zr)===1&&(fr-=zr)),!(!Jt.dem||!Ut.dem)&&(Ut.dem.backfillBorder(Jt.dem,fr,xr),Ut.neighboringTiles&&Ut.neighboringTiles[Wr]&&(Ut.neighboringTiles[Wr].backfilled=!0)))}},X.prototype.getTile=function(ne){return this.getTileByID(ne.key)},X.prototype.getTileByID=function(ne){return this._tiles[ne]},X.prototype._retainLoadedChildren=function(ne,ye,ze,Ze){for(var lt in this._tiles){var wt=this._tiles[lt];if(!(Ze[lt]||!wt.hasData()||wt.tileID.overscaledZ<=ye||wt.tileID.overscaledZ>ze)){for(var Ut=wt.tileID;wt&&wt.tileID.overscaledZ>ye+1;){var Jt=wt.tileID.scaledTo(wt.tileID.overscaledZ-1);wt=this._tiles[Jt.key],wt&&wt.hasData()&&(Ut=Jt)}for(var fr=Ut;fr.overscaledZ>ye;)if(fr=fr.scaledTo(fr.overscaledZ-1),ne[fr.key]){Ze[Ut.key]=Ut;break}}}},X.prototype.findLoadedParent=function(ne,ye){if(ne.key in this._loadedParentTiles){var ze=this._loadedParentTiles[ne.key];return ze&&ze.tileID.overscaledZ>=ye?ze:null}for(var Ze=ne.overscaledZ-1;Ze>=ye;Ze--){var lt=ne.scaledTo(Ze),wt=this._getLoadedTile(lt);if(wt)return wt}},X.prototype._getLoadedTile=function(ne){var ye=this._tiles[ne.key];if(ye&&ye.hasData())return ye;var ze=this._cache.getByKey(ne.wrapped().key);return ze},X.prototype.updateCacheSize=function(ne){var ye=Math.ceil(ne.width/this._source.tileSize)+1,ze=Math.ceil(ne.height/this._source.tileSize)+1,Ze=ye*ze,lt=5,wt=Math.floor(Ze*lt),Ut=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,wt):wt;this._cache.setMaxSize(Ut)},X.prototype.handleWrapJump=function(ne){var ye=this._prevLng===void 0?ne:this._prevLng,ze=ne-ye,Ze=ze/360,lt=Math.round(Ze);if(this._prevLng=ne,lt){var wt={};for(var Ut in this._tiles){var Jt=this._tiles[Ut];Jt.tileID=Jt.tileID.unwrapTo(Jt.tileID.wrap+lt),wt[Jt.tileID.key]=Jt}this._tiles=wt;for(var fr in this._timers)clearTimeout(this._timers[fr]),delete this._timers[fr];for(var xr in this._tiles){var zr=this._tiles[xr];this._setTileReloadTimer(xr,zr)}}},X.prototype.update=function(ne){var ye=this;if(this.transform=ne,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ne),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var ze;this.used?this._source.tileID?ze=ne.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ha){return new a.OverscaledTileID(ha.canonical.z,ha.wrap,ha.canonical.z,ha.canonical.x,ha.canonical.y)}):(ze=ne.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ze=ze.filter(function(ha){return ye._source.hasTile(ha)}))):ze=[];var Ze=ne.coveringZoomLevel(this._source),lt=Math.max(Ze-X.maxOverzooming,this._source.minzoom),wt=Math.max(Ze+X.maxUnderzooming,this._source.minzoom),Ut=this._updateRetainedTiles(ze,Ze);if(Xt(this._source.type)){for(var Jt={},fr={},xr=Object.keys(Ut),zr=0,Wr=xr;zr<Wr.length;zr+=1){var Yr=Wr[zr],Vr=Ut[Yr],qr=this._tiles[Yr];if(!(!qr||qr.fadeEndTime&&qr.fadeEndTime<=a.browser.now())){var cn=this.findLoadedParent(Vr,lt);cn&&(this._addTile(cn.tileID),Jt[cn.tileID.key]=cn.tileID),fr[Yr]=Vr}}this._retainLoadedChildren(fr,Ze,wt,Ut);for(var Dn in Jt)Ut[Dn]||(this._coveredTiles[Dn]=!0,Ut[Dn]=Jt[Dn])}for(var On in Ut)this._tiles[On].clearFadeHold();for(var $n=a.keysDifference(this._tiles,Ut),Jn=0,Kn=$n;Jn<Kn.length;Jn+=1){var oa=Kn[Jn],va=this._tiles[oa];va.hasSymbolBuckets&&!va.holdingForFade()?va.setHoldDuration(this.map._fadeDuration):(!va.hasSymbolBuckets||va.symbolFadeFinished())&&this._removeTile(oa)}this._updateLoadedParentTileCache()}},X.prototype.releaseSymbolFadeTiles=function(){for(var ne in this._tiles)this._tiles[ne].holdingForFade()&&this._removeTile(ne)},X.prototype._updateRetainedTiles=function(ne,ye){for(var ze={},Ze={},lt=Math.max(ye-X.maxOverzooming,this._source.minzoom),wt=Math.max(ye+X.maxUnderzooming,this._source.minzoom),Ut={},Jt=0,fr=ne;Jt<fr.length;Jt+=1){var xr=fr[Jt],zr=this._addTile(xr);ze[xr.key]=xr,!zr.hasData()&&ye<this._source.maxzoom&&(Ut[xr.key]=xr)}this._retainLoadedChildren(Ut,ye,wt,ze);for(var Wr=0,Yr=ne;Wr<Yr.length;Wr+=1){var Vr=Yr[Wr],qr=this._tiles[Vr.key];if(!qr.hasData()){if(ye+1>this._source.maxzoom){var cn=Vr.children(this._source.maxzoom)[0],Dn=this.getTile(cn);if(Dn&&Dn.hasData()){ze[cn.key]=cn;continue}}else{var On=Vr.children(this._source.maxzoom);if(ze[On[0].key]&&ze[On[1].key]&&ze[On[2].key]&&ze[On[3].key])continue}for(var $n=qr.wasRequested(),Jn=Vr.overscaledZ-1;Jn>=lt;--Jn){var Kn=Vr.scaledTo(Jn);if(Ze[Kn.key]||(Ze[Kn.key]=!0,qr=this.getTile(Kn),!qr&&$n&&(qr=this._addTile(Kn)),qr&&(ze[Kn.key]=Kn,$n=qr.wasRequested(),qr.hasData())))break}}}return ze},X.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ne in this._tiles){for(var ye=[],ze=void 0,Ze=this._tiles[ne].tileID;Ze.overscaledZ>0;){if(Ze.key in this._loadedParentTiles){ze=this._loadedParentTiles[Ze.key];break}ye.push(Ze.key);var lt=Ze.scaledTo(Ze.overscaledZ-1);if(ze=this._getLoadedTile(lt),ze)break;Ze=lt}for(var wt=0,Ut=ye;wt<Ut.length;wt+=1){var Jt=Ut[wt];this._loadedParentTiles[Jt]=ze}}},X.prototype._addTile=function(ne){var ye=this._tiles[ne.key];if(ye)return ye;ye=this._cache.getAndRemove(ne),ye&&(this._setTileReloadTimer(ne.key,ye),ye.tileID=ne,this._state.initializeTileState(ye,this.map?this.map.painter:null),this._cacheTimers[ne.key]&&(clearTimeout(this._cacheTimers[ne.key]),delete this._cacheTimers[ne.key],this._setTileReloadTimer(ne.key,ye)));var ze=!!ye;return ze||(ye=new a.Tile(ne,this._source.tileSize*ne.overscaleFactor()),this._loadTile(ye,this._tileLoaded.bind(this,ye,ne.key,ye.state))),ye?(ye.uses++,this._tiles[ne.key]=ye,ze||this._source.fire(new a.Event("dataloading",{tile:ye,coord:ye.tileID,dataType:"source"})),ye):null},X.prototype._setTileReloadTimer=function(ne,ye){var ze=this;ne in this._timers&&(clearTimeout(this._timers[ne]),delete this._timers[ne]);var Ze=ye.getExpiryTimeout();Ze&&(this._timers[ne]=setTimeout(function(){ze._reloadTile(ne,"expired"),delete ze._timers[ne]},Ze))},X.prototype._removeTile=function(ne){var ye=this._tiles[ne];ye&&(ye.uses--,delete this._tiles[ne],this._timers[ne]&&(clearTimeout(this._timers[ne]),delete this._timers[ne]),!(ye.uses>0)&&(ye.hasData()&&ye.state!=="reloading"?this._cache.add(ye.tileID,ye,ye.getExpiryTimeout()):(ye.aborted=!0,this._abortTile(ye),this._unloadTile(ye))))},X.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ne in this._tiles)this._removeTile(ne);this._cache.reset()},X.prototype.tilesIn=function(ne,ye,ze){var Ze=this,lt=[],wt=this.transform;if(!wt)return lt;for(var Ut=ze?wt.getCameraQueryGeometry(ne):ne,Jt=ne.map(function(Jn){return wt.pointCoordinate(Jn)}),fr=Ut.map(function(Jn){return wt.pointCoordinate(Jn)}),xr=this.getIds(),zr=1/0,Wr=1/0,Yr=-1/0,Vr=-1/0,qr=0,cn=fr;qr<cn.length;qr+=1){var Dn=cn[qr];zr=Math.min(zr,Dn.x),Wr=Math.min(Wr,Dn.y),Yr=Math.max(Yr,Dn.x),Vr=Math.max(Vr,Dn.y)}for(var On=function(Jn){var Kn=Ze._tiles[xr[Jn]];if(!Kn.holdingForFade()){var oa=Kn.tileID,va=Math.pow(2,wt.zoom-Kn.tileID.overscaledZ),ha=ye*Kn.queryPadding*a.EXTENT/Kn.tileSize/va,ma=[oa.getTilePoint(new a.MercatorCoordinate(zr,Wr)),oa.getTilePoint(new a.MercatorCoordinate(Yr,Vr))];if(ma[0].x-ha<a.EXTENT&&ma[0].y-ha<a.EXTENT&&ma[1].x+ha>=0&&ma[1].y+ha>=0){var Ma=Jt.map(function(Ya){return oa.getTilePoint(Ya)}),_a=fr.map(function(Ya){return oa.getTilePoint(Ya)});lt.push({tile:Kn,tileID:oa,queryGeometry:Ma,cameraQueryGeometry:_a,scale:va})}}},$n=0;$n<xr.length;$n++)On($n);return lt},X.prototype.getVisibleCoordinates=function(ne){for(var ye=this,ze=this.getRenderableIds(ne).map(function(Ut){return ye._tiles[Ut].tileID}),Ze=0,lt=ze;Ze<lt.length;Ze+=1){var wt=lt[Ze];wt.posMatrix=this.transform.calculatePosMatrix(wt.toUnwrapped())}return ze},X.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Xt(this._source.type))for(var ne in this._tiles){var ye=this._tiles[ne];if(ye.fadeEndTime!==void 0&&ye.fadeEndTime>=a.browser.now())return!0}return!1},X.prototype.setFeatureState=function(ne,ye,ze){ne=ne||"_geojsonTileLayer",this._state.updateState(ne,ye,ze)},X.prototype.removeFeatureState=function(ne,ye,ze){ne=ne||"_geojsonTileLayer",this._state.removeFeatureState(ne,ye,ze)},X.prototype.getFeatureState=function(ne,ye){return ne=ne||"_geojsonTileLayer",this._state.getState(ne,ye)},X.prototype.setDependencies=function(ne,ye,ze){var Ze=this._tiles[ne];Ze&&Ze.setDependencies(ye,ze)},X.prototype.reloadTilesForDependencies=function(ne,ye){for(var ze in this._tiles){var Ze=this._tiles[ze];Ze.hasDependency(ne,ye)&&this._reloadTile(ze,"reloading")}this._cache.filter(function(lt){return!lt.hasDependency(ne,ye)})},X}(a.Evented);Bt.maxOverzooming=10,Bt.maxUnderzooming=3;function Nt(de,X){var ge=Math.abs(de.wrap*2)-+(de.wrap<0),ne=Math.abs(X.wrap*2)-+(X.wrap<0);return de.overscaledZ-X.overscaledZ||ne-ge||X.canonical.y-de.canonical.y||X.canonical.x-de.canonical.x}function Xt(de){return de==="raster"||de==="image"||de==="video"}function lr(){return new a.window.Worker(Cg.workerUrl)}var sr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(X){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new lr);return this.active[X]=!0,this.workers.slice()},dr.prototype.release=function(X){delete this.active[X],this.numActive()===0&&(this.workers.forEach(function(ge){ge.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[sr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var Ye=Math.floor(a.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(Ye,6),1);var je;function It(){return je||(je=new dr),je}function kt(){var de=It();de.acquire(sr)}function jt(){var de=je;de&&(de.isPreloaded()&&de.numActive()===1?(de.release(sr),je=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function tr(de,X){var ge={};for(var ne in de)ne!=="ref"&&(ge[ne]=de[ne]);return a.refProperties.forEach(function(ye){ye in X&&(ge[ye]=X[ye])}),ge}function or(de){de=de.slice();for(var X=Object.create(null),ge=0;ge<de.length;ge++)X[de[ge].id]=de[ge];for(var ne=0;ne<de.length;ne++)"ref"in de[ne]&&(de[ne]=tr(de[ne],X[de[ne].ref]));return de}function rr(){var de={},X=a.styleSpec.$version;for(var ge in a.styleSpec.$root){var ne=a.styleSpec.$root[ge];if(ne.required){var ye=null;ge==="version"?ye=X:ne.type==="array"?ye=[]:ye={},ye!=null&&(de[ge]=ye)}}return de}var _t={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hr(de,X,ge){ge.push({command:_t.addSource,args:[de,X[de]]})}function gr(de,X,ge){X.push({command:_t.removeSource,args:[de]}),ge[de]=!0}function pr(de,X,ge,ne){gr(de,ge,ne),hr(de,X,ge)}function vr(de,X,ge){var ne;for(ne in de[ge])if(de[ge].hasOwnProperty(ne)&&ne!=="data"&&!a.deepEqual(de[ge][ne],X[ge][ne]))return!1;for(ne in X[ge])if(X[ge].hasOwnProperty(ne)&&ne!=="data"&&!a.deepEqual(de[ge][ne],X[ge][ne]))return!1;return!0}function Gr(de,X,ge,ne){de=de||{},X=X||{};var ye;for(ye in de)de.hasOwnProperty(ye)&&(X.hasOwnProperty(ye)||gr(ye,ge,ne));for(ye in X)X.hasOwnProperty(ye)&&(de.hasOwnProperty(ye)?a.deepEqual(de[ye],X[ye])||(de[ye].type==="geojson"&&X[ye].type==="geojson"&&vr(de,X,ye)?ge.push({command:_t.setGeoJSONSourceData,args:[ye,X[ye].data]}):pr(ye,X,ge,ne)):hr(ye,X,ge))}function Fr(de,X,ge,ne,ye,ze){de=de||{},X=X||{};var Ze;for(Ze in de)de.hasOwnProperty(Ze)&&(a.deepEqual(de[Ze],X[Ze])||ge.push({command:ze,args:[ne,Ze,X[Ze],ye]}));for(Ze in X)!X.hasOwnProperty(Ze)||de.hasOwnProperty(Ze)||a.deepEqual(de[Ze],X[Ze])||ge.push({command:ze,args:[ne,Ze,X[Ze],ye]})}function _r(de){return de.id}function gn(de,X){return de[X.id]=X,de}function tn(de,X,ge){de=de||[],X=X||[];var ne=de.map(_r),ye=X.map(_r),ze=de.reduce(gn,{}),Ze=X.reduce(gn,{}),lt=ne.slice(),wt=Object.create(null),Ut,Jt,fr,xr,zr,Wr,Yr;for(Ut=0,Jt=0;Ut<ne.length;Ut++)fr=ne[Ut],Ze.hasOwnProperty(fr)?Jt++:(ge.push({command:_t.removeLayer,args:[fr]}),lt.splice(lt.indexOf(fr,Jt),1));for(Ut=0,Jt=0;Ut<ye.length;Ut++)fr=ye[ye.length-1-Ut],lt[lt.length-1-Ut]!==fr&&(ze.hasOwnProperty(fr)?(ge.push({command:_t.removeLayer,args:[fr]}),lt.splice(lt.lastIndexOf(fr,lt.length-Jt),1)):Jt++,Wr=lt[lt.length-Ut],ge.push({command:_t.addLayer,args:[Ze[fr],Wr]}),lt.splice(lt.length-Ut,0,fr),wt[fr]=!0);for(Ut=0;Ut<ye.length;Ut++)if(fr=ye[Ut],xr=ze[fr],zr=Ze[fr],!(wt[fr]||a.deepEqual(xr,zr))){if(!a.deepEqual(xr.source,zr.source)||!a.deepEqual(xr["source-layer"],zr["source-layer"])||!a.deepEqual(xr.type,zr.type)){ge.push({command:_t.removeLayer,args:[fr]}),Wr=lt[lt.lastIndexOf(fr)+1],ge.push({command:_t.addLayer,args:[zr,Wr]});continue}Fr(xr.layout,zr.layout,ge,fr,null,_t.setLayoutProperty),Fr(xr.paint,zr.paint,ge,fr,null,_t.setPaintProperty),a.deepEqual(xr.filter,zr.filter)||ge.push({command:_t.setFilter,args:[fr,zr.filter]}),(!a.deepEqual(xr.minzoom,zr.minzoom)||!a.deepEqual(xr.maxzoom,zr.maxzoom))&&ge.push({command:_t.setLayerZoomRange,args:[fr,zr.minzoom,zr.maxzoom]});for(Yr in xr)xr.hasOwnProperty(Yr)&&(Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Fr(xr[Yr],zr[Yr],ge,fr,Yr.slice(6),_t.setPaintProperty):a.deepEqual(xr[Yr],zr[Yr])||ge.push({command:_t.setLayerProperty,args:[fr,Yr,zr[Yr]]})));for(Yr in zr)!zr.hasOwnProperty(Yr)||xr.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Fr(xr[Yr],zr[Yr],ge,fr,Yr.slice(6),_t.setPaintProperty):a.deepEqual(xr[Yr],zr[Yr])||ge.push({command:_t.setLayerProperty,args:[fr,Yr,zr[Yr]]}))}}function Bn(de,X){if(!de)return[{command:_t.setStyle,args:[X]}];var ge=[];try{if(!a.deepEqual(de.version,X.version))return[{command:_t.setStyle,args:[X]}];a.deepEqual(de.center,X.center)||ge.push({command:_t.setCenter,args:[X.center]}),a.deepEqual(de.zoom,X.zoom)||ge.push({command:_t.setZoom,args:[X.zoom]}),a.deepEqual(de.bearing,X.bearing)||ge.push({command:_t.setBearing,args:[X.bearing]}),a.deepEqual(de.pitch,X.pitch)||ge.push({command:_t.setPitch,args:[X.pitch]}),a.deepEqual(de.sprite,X.sprite)||ge.push({command:_t.setSprite,args:[X.sprite]}),a.deepEqual(de.glyphs,X.glyphs)||ge.push({command:_t.setGlyphs,args:[X.glyphs]}),a.deepEqual(de.transition,X.transition)||ge.push({command:_t.setTransition,args:[X.transition]}),a.deepEqual(de.light,X.light)||ge.push({command:_t.setLight,args:[X.light]});var ne={},ye=[];Gr(de.sources,X.sources,ye,ne);var ze=[];de.layers&&de.layers.forEach(function(Ze){ne[Ze.source]?ge.push({command:_t.removeLayer,args:[Ze.id]}):ze.push(Ze)}),ge=ge.concat(ye),tn(ze,X.layers,ge)}catch(Ze){console.warn("Unable to compute style diff:",Ze),ge=[{command:_t.setStyle,args:[X]}]}return ge}var An=function(X,ge){this.reset(X,ge)};An.prototype.reset=function(X,ge){this.points=X||[],this._distances=[0];for(var ne=1;ne<this.points.length;ne++)this._distances[ne]=this._distances[ne-1]+this.points[ne].dist(this.points[ne-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ge||0,this.length*.5),this.paddedLength=this.length-this.padding*2},An.prototype.lerp=function(X){if(this.points.length===1)return this.points[0];X=a.clamp(X,0,1);for(var ge=1,ne=this._distances[ge],ye=X*this.paddedLength+this.padding;ne<ye&&ge<this._distances.length;)ne=this._distances[++ge];var ze=ge-1,Ze=this._distances[ze],lt=ne-Ze,wt=lt>0?(ye-Ze)/lt:0;return this.points[ze].mult(1-wt).add(this.points[ge].mult(wt))};var Mr=function(X,ge,ne){var ye=this.boxCells=[],ze=this.circleCells=[];this.xCellCount=Math.ceil(X/ne),this.yCellCount=Math.ceil(ge/ne);for(var Ze=0;Ze<this.xCellCount*this.yCellCount;Ze++)ye.push([]),ze.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=X,this.height=ge,this.xScale=this.xCellCount/X,this.yScale=this.yCellCount/ge,this.boxUid=0,this.circleUid=0};Mr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Mr.prototype.insert=function(X,ge,ne,ye,ze){this._forEachCell(ge,ne,ye,ze,this._insertBoxCell,this.boxUid++),this.boxKeys.push(X),this.bboxes.push(ge),this.bboxes.push(ne),this.bboxes.push(ye),this.bboxes.push(ze)},Mr.prototype.insertCircle=function(X,ge,ne,ye){this._forEachCell(ge-ye,ne-ye,ge+ye,ne+ye,this._insertCircleCell,this.circleUid++),this.circleKeys.push(X),this.circles.push(ge),this.circles.push(ne),this.circles.push(ye)},Mr.prototype._insertBoxCell=function(X,ge,ne,ye,ze,Ze){this.boxCells[ze].push(Ze)},Mr.prototype._insertCircleCell=function(X,ge,ne,ye,ze,Ze){this.circleCells[ze].push(Ze)},Mr.prototype._query=function(X,ge,ne,ye,ze,Ze){if(ne<0||X>this.width||ye<0||ge>this.height)return ze?!1:[];var lt=[];if(X<=0&&ge<=0&&this.width<=ne&&this.height<=ye){if(ze)return!0;for(var wt=0;wt<this.boxKeys.length;wt++)lt.push({key:this.boxKeys[wt],x1:this.bboxes[wt*4],y1:this.bboxes[wt*4+1],x2:this.bboxes[wt*4+2],y2:this.bboxes[wt*4+3]});for(var Ut=0;Ut<this.circleKeys.length;Ut++){var Jt=this.circles[Ut*3],fr=this.circles[Ut*3+1],xr=this.circles[Ut*3+2];lt.push({key:this.circleKeys[Ut],x1:Jt-xr,y1:fr-xr,x2:Jt+xr,y2:fr+xr})}return Ze?lt.filter(Ze):lt}else{var zr={hitTest:ze,seenUids:{box:{},circle:{}}};return this._forEachCell(X,ge,ne,ye,this._queryCell,lt,zr,Ze),ze?lt.length>0:lt}},Mr.prototype._queryCircle=function(X,ge,ne,ye,ze){var Ze=X-ne,lt=X+ne,wt=ge-ne,Ut=ge+ne;if(lt<0||Ze>this.width||Ut<0||wt>this.height)return ye?!1:[];var Jt=[],fr={hitTest:ye,circle:{x:X,y:ge,radius:ne},seenUids:{box:{},circle:{}}};return this._forEachCell(Ze,wt,lt,Ut,this._queryCellCircle,Jt,fr,ze),ye?Jt.length>0:Jt},Mr.prototype.query=function(X,ge,ne,ye,ze){return this._query(X,ge,ne,ye,!1,ze)},Mr.prototype.hitTest=function(X,ge,ne,ye,ze){return this._query(X,ge,ne,ye,!0,ze)},Mr.prototype.hitTestCircle=function(X,ge,ne,ye){return this._queryCircle(X,ge,ne,!0,ye)},Mr.prototype._queryCell=function(X,ge,ne,ye,ze,Ze,lt,wt){var Ut=lt.seenUids,Jt=this.boxCells[ze];if(Jt!==null)for(var fr=this.bboxes,xr=0,zr=Jt;xr<zr.length;xr+=1){var Wr=zr[xr];if(!Ut.box[Wr]){Ut.box[Wr]=!0;var Yr=Wr*4;if(X<=fr[Yr+2]&&ge<=fr[Yr+3]&&ne>=fr[Yr+0]&&ye>=fr[Yr+1]&&(!wt||wt(this.boxKeys[Wr]))){if(lt.hitTest)return Ze.push(!0),!0;Ze.push({key:this.boxKeys[Wr],x1:fr[Yr],y1:fr[Yr+1],x2:fr[Yr+2],y2:fr[Yr+3]})}}}var Vr=this.circleCells[ze];if(Vr!==null)for(var qr=this.circles,cn=0,Dn=Vr;cn<Dn.length;cn+=1){var On=Dn[cn];if(!Ut.circle[On]){Ut.circle[On]=!0;var $n=On*3;if(this._circleAndRectCollide(qr[$n],qr[$n+1],qr[$n+2],X,ge,ne,ye)&&(!wt||wt(this.circleKeys[On]))){if(lt.hitTest)return Ze.push(!0),!0;var Jn=qr[$n],Kn=qr[$n+1],oa=qr[$n+2];Ze.push({key:this.circleKeys[On],x1:Jn-oa,y1:Kn-oa,x2:Jn+oa,y2:Kn+oa})}}}},Mr.prototype._queryCellCircle=function(X,ge,ne,ye,ze,Ze,lt,wt){var Ut=lt.circle,Jt=lt.seenUids,fr=this.boxCells[ze];if(fr!==null)for(var xr=this.bboxes,zr=0,Wr=fr;zr<Wr.length;zr+=1){var Yr=Wr[zr];if(!Jt.box[Yr]){Jt.box[Yr]=!0;var Vr=Yr*4;if(this._circleAndRectCollide(Ut.x,Ut.y,Ut.radius,xr[Vr+0],xr[Vr+1],xr[Vr+2],xr[Vr+3])&&(!wt||wt(this.boxKeys[Yr])))return Ze.push(!0),!0}}var qr=this.circleCells[ze];if(qr!==null)for(var cn=this.circles,Dn=0,On=qr;Dn<On.length;Dn+=1){var $n=On[Dn];if(!Jt.circle[$n]){Jt.circle[$n]=!0;var Jn=$n*3;if(this._circlesCollide(cn[Jn],cn[Jn+1],cn[Jn+2],Ut.x,Ut.y,Ut.radius)&&(!wt||wt(this.circleKeys[$n])))return Ze.push(!0),!0}}},Mr.prototype._forEachCell=function(X,ge,ne,ye,ze,Ze,lt,wt){for(var Ut=this._convertToXCellCoord(X),Jt=this._convertToYCellCoord(ge),fr=this._convertToXCellCoord(ne),xr=this._convertToYCellCoord(ye),zr=Ut;zr<=fr;zr++)for(var Wr=Jt;Wr<=xr;Wr++){var Yr=this.xCellCount*Wr+zr;if(ze.call(this,X,ge,ne,ye,Yr,Ze,lt,wt))return}},Mr.prototype._convertToXCellCoord=function(X){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(X*this.xScale)))},Mr.prototype._convertToYCellCoord=function(X){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(X*this.yScale)))},Mr.prototype._circlesCollide=function(X,ge,ne,ye,ze,Ze){var lt=ye-X,wt=ze-ge,Ut=ne+Ze;return Ut*Ut>lt*lt+wt*wt},Mr.prototype._circleAndRectCollide=function(X,ge,ne,ye,ze,Ze,lt){var wt=(Ze-ye)/2,Ut=Math.abs(X-(ye+wt));if(Ut>wt+ne)return!1;var Jt=(lt-ze)/2,fr=Math.abs(ge-(ze+Jt));if(fr>Jt+ne)return!1;if(Ut<=wt||fr<=Jt)return!0;var xr=Ut-wt,zr=fr-Jt;return xr*xr+zr*zr<=ne*ne};function Cr(de,X,ge,ne,ye){var ze=a.create();return X?(a.scale(ze,ze,[1/ye,1/ye,1]),ge||a.rotateZ(ze,ze,ne.angle)):a.multiply(ze,ne.labelPlaneMatrix,de),ze}function jr(de,X,ge,ne,ye){if(X){var ze=a.clone(de);return a.scale(ze,ze,[ye,ye,1]),ge||a.rotateZ(ze,ze,-ne.angle),ze}else return ne.glCoordMatrix}function Hr(de,X){var ge=[de.x,de.y,0,1];Tr(ge,ge,X);var ne=ge[3];return{point:new a.Point(ge[0]/ne,ge[1]/ne),signedDistanceFromCamera:ne}}function on(de,X){return .5+.5*(de/X)}function yn(de,X){var ge=de[0]/de[3],ne=de[1]/de[3],ye=ge>=-X[0]&&ge<=X[0]&&ne>=-X[1]&&ne<=X[1];return ye}function xn(de,X,ge,ne,ye,ze,Ze,lt){var wt=ne?de.textSizeData:de.iconSizeData,Ut=a.evaluateSizeForZoom(wt,ge.transform.zoom),Jt=[256/ge.width*2+1,256/ge.height*2+1],fr=ne?de.text.dynamicLayoutVertexArray:de.icon.dynamicLayoutVertexArray;fr.clear();for(var xr=de.lineVertexArray,zr=ne?de.text.placedSymbolArray:de.icon.placedSymbolArray,Wr=ge.transform.width/ge.transform.height,Yr=!1,Vr=0;Vr<zr.length;Vr++){var qr=zr.get(Vr);if(qr.hidden||qr.writingMode===a.WritingMode.vertical&&!Yr){Qn(qr.numGlyphs,fr);continue}Yr=!1;var cn=[qr.anchorX,qr.anchorY,0,1];if(a.transformMat4(cn,cn,X),!yn(cn,Jt)){Qn(qr.numGlyphs,fr);continue}var Dn=cn[3],On=on(ge.transform.cameraToCenterDistance,Dn),$n=a.evaluateSizeForFeature(wt,Ut,qr),Jn=Ze?$n/On:$n*On,Kn=new a.Point(qr.anchorX,qr.anchorY),oa=Hr(Kn,ye).point,va={},ha=sa(qr,Jn,!1,lt,X,ye,ze,de.glyphOffsetArray,xr,fr,oa,Kn,va,Wr);Yr=ha.useVertical,(ha.notEnoughRoom||Yr||ha.needsFlipping&&sa(qr,Jn,!0,lt,X,ye,ze,de.glyphOffsetArray,xr,fr,oa,Kn,va,Wr).notEnoughRoom)&&Qn(qr.numGlyphs,fr)}ne?de.text.dynamicLayoutVertexBuffer.updateData(fr):de.icon.dynamicLayoutVertexBuffer.updateData(fr)}function Rn(de,X,ge,ne,ye,ze,Ze,lt,wt,Ut,Jt){var fr=lt.glyphStartIndex+lt.numGlyphs,xr=lt.lineStartIndex,zr=lt.lineStartIndex+lt.lineLength,Wr=X.getoffsetX(lt.glyphStartIndex),Yr=X.getoffsetX(fr-1),Vr=qn(de*Wr,ge,ne,ye,ze,Ze,lt.segment,xr,zr,wt,Ut,Jt);if(!Vr)return null;var qr=qn(de*Yr,ge,ne,ye,ze,Ze,lt.segment,xr,zr,wt,Ut,Jt);return qr?{first:Vr,last:qr}:null}function _n(de,X,ge,ne){if(de===a.WritingMode.horizontal){var ye=Math.abs(ge.y-X.y),ze=Math.abs(ge.x-X.x)*ne;if(ye>ze)return{useVertical:!0}}return(de===a.WritingMode.vertical?X.y<ge.y:X.x>ge.x)?{needsFlipping:!0}:null}function sa(de,X,ge,ne,ye,ze,Ze,lt,wt,Ut,Jt,fr,xr,zr){var Wr=X/24,Yr=de.lineOffsetX*Wr,Vr=de.lineOffsetY*Wr,qr;if(de.numGlyphs>1){var cn=de.glyphStartIndex+de.numGlyphs,Dn=de.lineStartIndex,On=de.lineStartIndex+de.lineLength,$n=Rn(Wr,lt,Yr,Vr,ge,Jt,fr,de,wt,ze,xr);if(!$n)return{notEnoughRoom:!0};var Jn=Hr($n.first.point,Ze).point,Kn=Hr($n.last.point,Ze).point;if(ne&&!ge){var oa=_n(de.writingMode,Jn,Kn,zr);if(oa)return oa}qr=[$n.first];for(var va=de.glyphStartIndex+1;va<cn-1;va++)qr.push(qn(Wr*lt.getoffsetX(va),Yr,Vr,ge,Jt,fr,de.segment,Dn,On,wt,ze,xr));qr.push($n.last)}else{if(ne&&!ge){var ha=Hr(fr,ye).point,ma=de.lineStartIndex+de.segment+1,Ma=new a.Point(wt.getx(ma),wt.gety(ma)),_a=Hr(Ma,ye),Ya=_a.signedDistanceFromCamera>0?_a.point:Zn(fr,Ma,ha,1,ye),hi=_n(de.writingMode,ha,Ya,zr);if(hi)return hi}var $a=qn(Wr*lt.getoffsetX(de.glyphStartIndex),Yr,Vr,ge,Jt,fr,de.segment,de.lineStartIndex,de.lineStartIndex+de.lineLength,wt,ze,xr);if(!$a)return{notEnoughRoom:!0};qr=[$a]}for(var ti=0,Ia=qr;ti<Ia.length;ti+=1){var vi=Ia[ti];a.addDynamicAttributes(Ut,vi.point,vi.angle)}return{}}function Zn(de,X,ge,ne,ye){var ze=Hr(de.add(de.sub(X)._unit()),ye).point,Ze=ge.sub(ze);return ge.add(Ze._mult(ne/Ze.mag()))}function qn(de,X,ge,ne,ye,ze,Ze,lt,wt,Ut,Jt,fr){var xr=ne?de-X:de+X,zr=xr>0?1:-1,Wr=0;ne&&(zr*=-1,Wr=Math.PI),zr<0&&(Wr+=Math.PI);for(var Yr=zr>0?lt+Ze:lt+Ze+1,Vr=ye,qr=ye,cn=0,Dn=0,On=Math.abs(xr),$n=[];cn+Dn<=On;){if(Yr+=zr,Yr<lt||Yr>=wt)return null;if(qr=Vr,$n.push(Vr),Vr=fr[Yr],Vr===void 0){var Jn=new a.Point(Ut.getx(Yr),Ut.gety(Yr)),Kn=Hr(Jn,Jt);if(Kn.signedDistanceFromCamera>0)Vr=fr[Yr]=Kn.point;else{var oa=Yr-zr,va=cn===0?ze:new a.Point(Ut.getx(oa),Ut.gety(oa));Vr=Zn(va,Jn,qr,On-cn+1,Jt)}}cn+=Dn,Dn=qr.dist(Vr)}var ha=(On-cn)/Dn,ma=Vr.sub(qr),Ma=ma.mult(ha)._add(qr);Ma._add(ma._unit()._perp()._mult(ge*zr));var _a=Wr+Math.atan2(Vr.y-qr.y,Vr.x-qr.x);return $n.push(Ma),{point:Ma,angle:_a,path:$n}}var jn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Qn(de,X){for(var ge=0;ge<de;ge++){var ne=X.length;X.resize(ne+4),X.float32.set(jn,ne*3)}}function Tr(de,X,ge){var ne=X[0],ye=X[1];return de[0]=ge[0]*ne+ge[4]*ye+ge[12],de[1]=ge[1]*ne+ge[5]*ye+ge[13],de[3]=ge[3]*ne+ge[7]*ye+ge[15],de}var ln=100,nn=function(X,ge,ne){ge===void 0&&(ge=new Mr(X.width+2*ln,X.height+2*ln,25)),ne===void 0&&(ne=new Mr(X.width+2*ln,X.height+2*ln,25)),this.transform=X,this.grid=ge,this.ignoredGrid=ne,this.pitchfactor=Math.cos(X._pitch)*X.cameraToCenterDistance,this.screenRightBoundary=X.width+ln,this.screenBottomBoundary=X.height+ln,this.gridRightBoundary=X.width+2*ln,this.gridBottomBoundary=X.height+2*ln};nn.prototype.placeCollisionBox=function(X,ge,ne,ye,ze){var Ze=this.projectAndGetPerspectiveRatio(ye,X.anchorPointX,X.anchorPointY),lt=ne*Ze.perspectiveRatio,wt=X.x1*lt+Ze.point.x,Ut=X.y1*lt+Ze.point.y,Jt=X.x2*lt+Ze.point.x,fr=X.y2*lt+Ze.point.y;return!this.isInsideGrid(wt,Ut,Jt,fr)||!ge&&this.grid.hitTest(wt,Ut,Jt,fr,ze)?{box:[],offscreen:!1}:{box:[wt,Ut,Jt,fr],offscreen:this.isOffscreen(wt,Ut,Jt,fr)}},nn.prototype.placeCollisionCircles=function(X,ge,ne,ye,ze,Ze,lt,wt,Ut,Jt,fr,xr,zr){var Wr=[],Yr=new a.Point(ge.anchorX,ge.anchorY),Vr=Hr(Yr,Ze),qr=on(this.transform.cameraToCenterDistance,Vr.signedDistanceFromCamera),cn=Jt?ze/qr:ze*qr,Dn=cn/a.ONE_EM,On=Hr(Yr,lt).point,$n={},Jn=ge.lineOffsetX*Dn,Kn=ge.lineOffsetY*Dn,oa=Rn(Dn,ye,Jn,Kn,!1,On,Yr,ge,ne,lt,$n),va=!1,ha=!1,ma=!0;if(oa){for(var Ma=xr*.5*qr+zr,_a=new a.Point(-ln,-ln),Ya=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),hi=new An,$a=oa.first,ti=oa.last,Ia=[],vi=$a.path.length-1;vi>=1;vi--)Ia.push($a.path[vi]);for(var yi=1;yi<ti.path.length;yi++)Ia.push(ti.path[yi]);var Ti=Ma*2.5;if(wt){var ri=Ia.map(function(Eu){return Hr(Eu,wt)});ri.some(function(Eu){return Eu.signedDistanceFromCamera<=0})?Ia=[]:Ia=ri.map(function(Eu){return Eu.point})}var Fi=[];if(Ia.length>0){for(var Za=Ia[0].clone(),ai=Ia[0].clone(),ro=1;ro<Ia.length;ro++)Za.x=Math.min(Za.x,Ia[ro].x),Za.y=Math.min(Za.y,Ia[ro].y),ai.x=Math.max(ai.x,Ia[ro].x),ai.y=Math.max(ai.y,Ia[ro].y);Za.x>=_a.x&&ai.x<=Ya.x&&Za.y>=_a.y&&ai.y<=Ya.y?Fi=[Ia]:ai.x<_a.x||Za.x>Ya.x||ai.y<_a.y||Za.y>Ya.y?Fi=[]:Fi=a.clipLine([Ia],_a.x,_a.y,Ya.x,Ya.y)}for(var To=0,Cl=Fi;To<Cl.length;To+=1){var Ll=Cl[To];hi.reset(Ll,Ma*.25);var Tu=0;hi.length<=.5*Ma?Tu=1:Tu=Math.ceil(hi.paddedLength/Ti)+1;for(var Au=0;Au<Tu;Au++){var of=Au/Math.max(Tu-1,1),Su=hi.lerp(of),Ms=Su.x+ln,Nf=Su.y+ln;Wr.push(Ms,Nf,Ma,0);var os=Ms-Ma,ul=Nf-Ma,Mu=Ms+Ma,Jl=Nf+Ma;if(ma=ma&&this.isOffscreen(os,ul,Mu,Jl),ha=ha||this.isInsideGrid(os,ul,Mu,Jl),!X&&this.grid.hitTestCircle(Ms,Nf,Ma,fr)&&(va=!0,!Ut))return{circles:[],offscreen:!1,collisionDetected:va}}}}return{circles:!Ut&&va||!ha?[]:Wr,offscreen:ma,collisionDetected:va}},nn.prototype.queryRenderedSymbols=function(X){if(X.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ge=[],ne=1/0,ye=1/0,ze=-1/0,Ze=-1/0,lt=0,wt=X;lt<wt.length;lt+=1){var Ut=wt[lt],Jt=new a.Point(Ut.x+ln,Ut.y+ln);ne=Math.min(ne,Jt.x),ye=Math.min(ye,Jt.y),ze=Math.max(ze,Jt.x),Ze=Math.max(Ze,Jt.y),ge.push(Jt)}for(var fr=this.grid.query(ne,ye,ze,Ze).concat(this.ignoredGrid.query(ne,ye,ze,Ze)),xr={},zr={},Wr=0,Yr=fr;Wr<Yr.length;Wr+=1){var Vr=Yr[Wr],qr=Vr.key;if(xr[qr.bucketInstanceId]===void 0&&(xr[qr.bucketInstanceId]={}),!xr[qr.bucketInstanceId][qr.featureIndex]){var cn=[new a.Point(Vr.x1,Vr.y1),new a.Point(Vr.x2,Vr.y1),new a.Point(Vr.x2,Vr.y2),new a.Point(Vr.x1,Vr.y2)];a.polygonIntersectsPolygon(ge,cn)&&(xr[qr.bucketInstanceId][qr.featureIndex]=!0,zr[qr.bucketInstanceId]===void 0&&(zr[qr.bucketInstanceId]=[]),zr[qr.bucketInstanceId].push(qr.featureIndex))}}return zr},nn.prototype.insertCollisionBox=function(X,ge,ne,ye,ze){var Ze=ge?this.ignoredGrid:this.grid,lt={bucketInstanceId:ne,featureIndex:ye,collisionGroupID:ze};Ze.insert(lt,X[0],X[1],X[2],X[3])},nn.prototype.insertCollisionCircles=function(X,ge,ne,ye,ze){for(var Ze=ge?this.ignoredGrid:this.grid,lt={bucketInstanceId:ne,featureIndex:ye,collisionGroupID:ze},wt=0;wt<X.length;wt+=4)Ze.insertCircle(lt,X[wt],X[wt+1],X[wt+2])},nn.prototype.projectAndGetPerspectiveRatio=function(X,ge,ne){var ye=[ge,ne,0,1];Tr(ye,ye,X);var ze=new a.Point((ye[0]/ye[3]+1)/2*this.transform.width+ln,(-ye[1]/ye[3]+1)/2*this.transform.height+ln);return{point:ze,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ye[3])}},nn.prototype.isOffscreen=function(X,ge,ne,ye){return ne<ln||X>=this.screenRightBoundary||ye<ln||ge>this.screenBottomBoundary},nn.prototype.isInsideGrid=function(X,ge,ne,ye){return ne>=0&&X<this.gridRightBoundary&&ye>=0&&ge<this.gridBottomBoundary},nn.prototype.getViewportMatrix=function(){var X=a.identity([]);return a.translate(X,X,[-ln,-ln,0]),X};function mn(de,X,ge){return X*(a.EXTENT/(de.tileSize*Math.pow(2,ge-de.tileID.overscaledZ)))}var Vn=function(X,ge,ne,ye){X?this.opacity=Math.max(0,Math.min(1,X.opacity+(X.placed?ge:-ge))):this.opacity=ye&&ne?1:0,this.placed=ne};Vn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var En=function(X,ge,ne,ye,ze){this.text=new Vn(X?X.text:null,ge,ne,ze),this.icon=new Vn(X?X.icon:null,ge,ye,ze)};En.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Cn=function(X,ge,ne){this.text=X,this.icon=ge,this.skipFade=ne},Nn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},ta=function(X,ge,ne,ye,ze){this.bucketInstanceId=X,this.featureIndex=ge,this.sourceLayerIndex=ne,this.bucketIndex=ye,this.tileID=ze},wa=function(X){this.crossSourceCollisions=X,this.maxGroupID=0,this.collisionGroups={}};wa.prototype.get=function(X){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[X]){var ge=++this.maxGroupID;this.collisionGroups[X]={ID:ge,predicate:function(ne){return ne.collisionGroupID===ge}}}return this.collisionGroups[X]};function Ka(de,X,ge,ne,ye){var ze=a.getAnchorAlignment(de),Ze=ze.horizontalAlign,lt=ze.verticalAlign,wt=-(Ze-.5)*X,Ut=-(lt-.5)*ge,Jt=a.evaluateVariableOffset(de,ne);return new a.Point(wt+Jt[0]*ye,Ut+Jt[1]*ye)}function Yt(de,X,ge,ne,ye,ze){var Ze=de.x1,lt=de.x2,wt=de.y1,Ut=de.y2,Jt=de.anchorPointX,fr=de.anchorPointY,xr=new a.Point(X,ge);return ne&&xr._rotate(ye?ze:-ze),{x1:Ze+xr.x,y1:wt+xr.y,x2:lt+xr.x,y2:Ut+xr.y,anchorPointX:Jt,anchorPointY:fr}}var wr=function(X,ge,ne,ye){this.transform=X.clone(),this.collisionIndex=new nn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ge,this.retainedQueryData={},this.collisionGroups=new wa(ne),this.collisionCircleArrays={},this.prevPlacement=ye,ye&&(ye.prevPlacement=void 0),this.placedOrientations={}};wr.prototype.getBucketParts=function(X,ge,ne,ye){var ze=ne.getBucket(ge),Ze=ne.latestFeatureIndex;if(!(!ze||!Ze||ge.id!==ze.layerIds[0])){var lt=ne.collisionBoxArray,wt=ze.layers[0].layout,Ut=Math.pow(2,this.transform.zoom-ne.tileID.overscaledZ),Jt=ne.tileSize/a.EXTENT,fr=this.transform.calculatePosMatrix(ne.tileID.toUnwrapped()),xr=wt.get("text-pitch-alignment")==="map",zr=wt.get("text-rotation-alignment")==="map",Wr=mn(ne,1,this.transform.zoom),Yr=Cr(fr,xr,zr,this.transform,Wr),Vr=null;if(xr){var qr=jr(fr,xr,zr,this.transform,Wr);Vr=a.multiply([],this.transform.labelPlaneMatrix,qr)}this.retainedQueryData[ze.bucketInstanceId]=new ta(ze.bucketInstanceId,Ze,ze.sourceLayerIndex,ze.index,ne.tileID);var cn={bucket:ze,layout:wt,posMatrix:fr,textLabelPlaneMatrix:Yr,labelToScreenMatrix:Vr,scale:Ut,textPixelRatio:Jt,holdingForFade:ne.holdingForFade(),collisionBoxArray:lt,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(ze.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ze.sourceID)};if(ye)for(var Dn=0,On=ze.sortKeyRanges;Dn<On.length;Dn+=1){var $n=On[Dn],Jn=$n.sortKey,Kn=$n.symbolInstanceStart,oa=$n.symbolInstanceEnd;X.push({sortKey:Jn,symbolInstanceStart:Kn,symbolInstanceEnd:oa,parameters:cn})}else X.push({symbolInstanceStart:0,symbolInstanceEnd:ze.symbolInstances.length,parameters:cn})}},wr.prototype.attemptAnchorPlacement=function(X,ge,ne,ye,ze,Ze,lt,wt,Ut,Jt,fr,xr,zr,Wr,Yr){var Vr=[xr.textOffset0,xr.textOffset1],qr=Ka(X,ne,ye,Vr,ze),cn=this.collisionIndex.placeCollisionBox(Yt(ge,qr.x,qr.y,Ze,lt,this.transform.angle),fr,wt,Ut,Jt.predicate);if(Yr){var Dn=this.collisionIndex.placeCollisionBox(Yt(Yr,qr.x,qr.y,Ze,lt,this.transform.angle),fr,wt,Ut,Jt.predicate);if(Dn.box.length===0)return}if(cn.box.length>0){var On;return this.prevPlacement&&this.prevPlacement.variableOffsets[xr.crossTileID]&&this.prevPlacement.placements[xr.crossTileID]&&this.prevPlacement.placements[xr.crossTileID].text&&(On=this.prevPlacement.variableOffsets[xr.crossTileID].anchor),this.variableOffsets[xr.crossTileID]={textOffset:Vr,width:ne,height:ye,anchor:X,textBoxScale:ze,prevAnchor:On},this.markUsedJustification(zr,X,xr,Wr),zr.allowVerticalPlacement&&(this.markUsedOrientation(zr,Wr,xr),this.placedOrientations[xr.crossTileID]=Wr),{shift:qr,placedGlyphBoxes:cn}}},wr.prototype.placeLayerBucketPart=function(X,ge,ne){var ye=this,ze=X.parameters,Ze=ze.bucket,lt=ze.layout,wt=ze.posMatrix,Ut=ze.textLabelPlaneMatrix,Jt=ze.labelToScreenMatrix,fr=ze.textPixelRatio,xr=ze.holdingForFade,zr=ze.collisionBoxArray,Wr=ze.partiallyEvaluatedTextSize,Yr=ze.collisionGroup,Vr=lt.get("text-optional"),qr=lt.get("icon-optional"),cn=lt.get("text-allow-overlap"),Dn=lt.get("icon-allow-overlap"),On=lt.get("text-rotation-alignment")==="map",$n=lt.get("text-pitch-alignment")==="map",Jn=lt.get("icon-text-fit")!=="none",Kn=lt.get("symbol-z-order")==="viewport-y",oa=cn&&(Dn||!Ze.hasIconData()||qr),va=Dn&&(cn||!Ze.hasTextData()||Vr);!Ze.collisionArrays&&zr&&Ze.deserializeCollisionBoxes(zr);var ha=function($a,ti){if(!ge[$a.crossTileID]){if(xr){ye.placements[$a.crossTileID]=new Cn(!1,!1,!1);return}var Ia=!1,vi=!1,yi=!0,Ti=null,ri={box:null,offscreen:null},Fi={box:null,offscreen:null},Za=null,ai=null,ro=null,To=0,Cl=0,Ll=0;ti.textFeatureIndex?To=ti.textFeatureIndex:$a.useRuntimeCollisionCircles&&(To=$a.featureIndex),ti.verticalTextFeatureIndex&&(Cl=ti.verticalTextFeatureIndex);var Tu=ti.textBox;if(Tu){var Au=function(oo){var Gs=a.WritingMode.horizontal;if(Ze.allowVerticalPlacement&&!oo&&ye.prevPlacement){var Ws=ye.prevPlacement.placedOrientations[$a.crossTileID];Ws&&(ye.placedOrientations[$a.crossTileID]=Ws,Gs=Ws,ye.markUsedOrientation(Ze,Gs,$a))}return Gs},of=function(oo,Gs){if(Ze.allowVerticalPlacement&&$a.numVerticalGlyphVertices>0&&ti.verticalTextBox)for(var Ws=0,hd=Ze.writingModes;Ws<hd.length;Ws+=1){var Np=hd[Ws];if(Np===a.WritingMode.vertical?(ri=Gs(),Fi=ri):ri=oo(),ri&&ri.box&&ri.box.length)break}else ri=oo()};if(lt.get("text-variable-anchor")){var os=lt.get("text-variable-anchor");if(ye.prevPlacement&&ye.prevPlacement.variableOffsets[$a.crossTileID]){var ul=ye.prevPlacement.variableOffsets[$a.crossTileID];os.indexOf(ul.anchor)>0&&(os=os.filter(function(oo){return oo!==ul.anchor}),os.unshift(ul.anchor))}var Mu=function(oo,Gs,Ws){for(var hd=oo.x2-oo.x1,Np=oo.y2-oo.y1,F1=$a.textBoxScale,_1=Jn&&!Dn?Gs:null,Cv={box:[],offscreen:!1},z1=cn?os.length*2:os.length,vd=0;vd<z1;++vd){var O1=os[vd%os.length],B1=vd>=os.length,Up=ye.attemptAnchorPlacement(O1,oo,hd,Np,F1,On,$n,fr,wt,Yr,B1,$a,Ze,Ws,_1);if(Up&&(Cv=Up.placedGlyphBoxes,Cv&&Cv.box&&Cv.box.length)){Ia=!0,Ti=Up.shift;break}}return Cv},Jl=function(){return Mu(Tu,ti.iconBox,a.WritingMode.horizontal)},Eu=function(){var oo=ti.verticalTextBox,Gs=ri&&ri.box&&ri.box.length;return Ze.allowVerticalPlacement&&!Gs&&$a.numVerticalGlyphVertices>0&&oo?Mu(oo,ti.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};of(Jl,Eu),ri&&(Ia=ri.box,yi=ri.offscreen);var ld=Au(ri&&ri.box);if(!Ia&&ye.prevPlacement){var Ec=ye.prevPlacement.variableOffsets[$a.crossTileID];Ec&&(ye.variableOffsets[$a.crossTileID]=Ec,ye.markUsedJustification(Ze,Ec.anchor,$a,ld))}}else{var Su=function(oo,Gs){var Ws=ye.collisionIndex.placeCollisionBox(oo,cn,fr,wt,Yr.predicate);return Ws&&Ws.box&&Ws.box.length&&(ye.markUsedOrientation(Ze,Gs,$a),ye.placedOrientations[$a.crossTileID]=Gs),Ws},Ms=function(){return Su(Tu,a.WritingMode.horizontal)},Nf=function(){var oo=ti.verticalTextBox;return Ze.allowVerticalPlacement&&$a.numVerticalGlyphVertices>0&&oo?Su(oo,a.WritingMode.vertical):{box:null,offscreen:null}};of(Ms,Nf),Au(ri&&ri.box&&ri.box.length)}}if(Za=ri,Ia=Za&&Za.box&&Za.box.length>0,yi=Za&&Za.offscreen,$a.useRuntimeCollisionCircles){var Ko=Ze.text.placedSymbolArray.get($a.centerJustifiedTextSymbolIndex),Mv=a.evaluateSizeForFeature(Ze.textSizeData,Wr,Ko),vs=lt.get("text-padding"),Ev=$a.collisionCircleDiameter;ai=ye.collisionIndex.placeCollisionCircles(cn,Ko,Ze.lineVertexArray,Ze.glyphOffsetArray,Mv,wt,Ut,Jt,ne,$n,Yr.predicate,Ev,vs),Ia=cn||ai.circles.length>0&&!ai.collisionDetected,yi=yi&&ai.offscreen}if(ti.iconFeatureIndex&&(Ll=ti.iconFeatureIndex),ti.iconBox){var ud=function(oo){var Gs=Jn&&Ti?Yt(oo,Ti.x,Ti.y,On,$n,ye.transform.angle):oo;return ye.collisionIndex.placeCollisionBox(Gs,Dn,fr,wt,Yr.predicate)};Fi&&Fi.box&&Fi.box.length&&ti.verticalIconBox?(ro=ud(ti.verticalIconBox),vi=ro.box.length>0):(ro=ud(ti.iconBox),vi=ro.box.length>0),yi=yi&&ro.offscreen}var fd=Vr||$a.numHorizontalGlyphVertices===0&&$a.numVerticalGlyphVertices===0,Lg=qr||$a.numIconVertices===0;if(!fd&&!Lg?vi=Ia=vi&&Ia:Lg?fd||(vi=vi&&Ia):Ia=vi&&Ia,Ia&&Za&&Za.box&&(Fi&&Fi.box&&Cl?ye.collisionIndex.insertCollisionBox(Za.box,lt.get("text-ignore-placement"),Ze.bucketInstanceId,Cl,Yr.ID):ye.collisionIndex.insertCollisionBox(Za.box,lt.get("text-ignore-placement"),Ze.bucketInstanceId,To,Yr.ID)),vi&&ro&&ye.collisionIndex.insertCollisionBox(ro.box,lt.get("icon-ignore-placement"),Ze.bucketInstanceId,Ll,Yr.ID),ai&&(Ia&&ye.collisionIndex.insertCollisionCircles(ai.circles,lt.get("text-ignore-placement"),Ze.bucketInstanceId,To,Yr.ID),ne)){var cd=Ze.bucketInstanceId,ph=ye.collisionCircleArrays[cd];ph===void 0&&(ph=ye.collisionCircleArrays[cd]=new Nn);for(var gh=0;gh<ai.circles.length;gh+=4)ph.circles.push(ai.circles[gh+0]),ph.circles.push(ai.circles[gh+1]),ph.circles.push(ai.circles[gh+2]),ph.circles.push(ai.collisionDetected?1:0)}ye.placements[$a.crossTileID]=new Cn(Ia||oa,vi||va,yi||Ze.justReloaded),ge[$a.crossTileID]=!0}};if(Kn)for(var ma=Ze.getSortedSymbolIndexes(this.transform.angle),Ma=ma.length-1;Ma>=0;--Ma){var _a=ma[Ma];ha(Ze.symbolInstances.get(_a),Ze.collisionArrays[_a])}else for(var Ya=X.symbolInstanceStart;Ya<X.symbolInstanceEnd;Ya++)ha(Ze.symbolInstances.get(Ya),Ze.collisionArrays[Ya]);if(ne&&Ze.bucketInstanceId in this.collisionCircleArrays){var hi=this.collisionCircleArrays[Ze.bucketInstanceId];a.invert(hi.invProjMatrix,wt),hi.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ze.justReloaded=!1},wr.prototype.markUsedJustification=function(X,ge,ne,ye){var ze={left:ne.leftJustifiedTextSymbolIndex,center:ne.centerJustifiedTextSymbolIndex,right:ne.rightJustifiedTextSymbolIndex},Ze;ye===a.WritingMode.vertical?Ze=ne.verticalPlacedTextSymbolIndex:Ze=ze[a.getAnchorJustification(ge)];for(var lt=[ne.leftJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.rightJustifiedTextSymbolIndex,ne.verticalPlacedTextSymbolIndex],wt=0,Ut=lt;wt<Ut.length;wt+=1){var Jt=Ut[wt];Jt>=0&&(Ze>=0&&Jt!==Ze?X.text.placedSymbolArray.get(Jt).crossTileID=0:X.text.placedSymbolArray.get(Jt).crossTileID=ne.crossTileID)}},wr.prototype.markUsedOrientation=function(X,ge,ne){for(var ye=ge===a.WritingMode.horizontal||ge===a.WritingMode.horizontalOnly?ge:0,ze=ge===a.WritingMode.vertical?ge:0,Ze=[ne.leftJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.rightJustifiedTextSymbolIndex],lt=0,wt=Ze;lt<wt.length;lt+=1){var Ut=wt[lt];X.text.placedSymbolArray.get(Ut).placedOrientation=ye}ne.verticalPlacedTextSymbolIndex&&(X.text.placedSymbolArray.get(ne.verticalPlacedTextSymbolIndex).placedOrientation=ze)},wr.prototype.commit=function(X){this.commitTime=X,this.zoomAtLastRecencyCheck=this.transform.zoom;var ge=this.prevPlacement,ne=!1;this.prevZoomAdjustment=ge?ge.zoomAdjustment(this.transform.zoom):0;var ye=ge?ge.symbolFadeChange(X):1,ze=ge?ge.opacities:{},Ze=ge?ge.variableOffsets:{},lt=ge?ge.placedOrientations:{};for(var wt in this.placements){var Ut=this.placements[wt],Jt=ze[wt];Jt?(this.opacities[wt]=new En(Jt,ye,Ut.text,Ut.icon),ne=ne||Ut.text!==Jt.text.placed||Ut.icon!==Jt.icon.placed):(this.opacities[wt]=new En(null,ye,Ut.text,Ut.icon,Ut.skipFade),ne=ne||Ut.text||Ut.icon)}for(var fr in ze){var xr=ze[fr];if(!this.opacities[fr]){var zr=new En(xr,ye,!1,!1);zr.isHidden()||(this.opacities[fr]=zr,ne=ne||xr.text.placed||xr.icon.placed)}}for(var Wr in Ze)!this.variableOffsets[Wr]&&this.opacities[Wr]&&!this.opacities[Wr].isHidden()&&(this.variableOffsets[Wr]=Ze[Wr]);for(var Yr in lt)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=lt[Yr]);ne?this.lastPlacementChangeTime=X:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ge?ge.lastPlacementChangeTime:X)},wr.prototype.updateLayerOpacities=function(X,ge){for(var ne={},ye=0,ze=ge;ye<ze.length;ye+=1){var Ze=ze[ye],lt=Ze.getBucket(X);lt&&Ze.latestFeatureIndex&&X.id===lt.layerIds[0]&&this.updateBucketOpacities(lt,ne,Ze.collisionBoxArray)}},wr.prototype.updateBucketOpacities=function(X,ge,ne){var ye=this;X.hasTextData()&&X.text.opacityVertexArray.clear(),X.hasIconData()&&X.icon.opacityVertexArray.clear(),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexArray.clear(),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexArray.clear();var ze=X.layers[0].layout,Ze=new En(null,0,!1,!1,!0),lt=ze.get("text-allow-overlap"),wt=ze.get("icon-allow-overlap"),Ut=ze.get("text-variable-anchor"),Jt=ze.get("text-rotation-alignment")==="map",fr=ze.get("text-pitch-alignment")==="map",xr=ze.get("icon-text-fit")!=="none",zr=new En(null,0,lt&&(wt||!X.hasIconData()||ze.get("icon-optional")),wt&&(lt||!X.hasTextData()||ze.get("text-optional")),!0);!X.collisionArrays&&ne&&(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData())&&X.deserializeCollisionBoxes(ne);for(var Wr=function(cn,Dn,On){for(var $n=0;$n<Dn/4;$n++)cn.opacityVertexArray.emplaceBack(On)},Yr=function(cn){var Dn=X.symbolInstances.get(cn),On=Dn.numHorizontalGlyphVertices,$n=Dn.numVerticalGlyphVertices,Jn=Dn.crossTileID,Kn=ge[Jn],oa=ye.opacities[Jn];Kn?oa=Ze:oa||(oa=zr,ye.opacities[Jn]=oa),ge[Jn]=!0;var va=On>0||$n>0,ha=Dn.numIconVertices>0,ma=ye.placedOrientations[Dn.crossTileID],Ma=ma===a.WritingMode.vertical,_a=ma===a.WritingMode.horizontal||ma===a.WritingMode.horizontalOnly;if(va){var Ya=Br(oa.text),hi=Ma?pn:Ya;Wr(X.text,On,hi);var $a=_a?pn:Ya;Wr(X.text,$n,$a);var ti=oa.text.isHidden();[Dn.rightJustifiedTextSymbolIndex,Dn.centerJustifiedTextSymbolIndex,Dn.leftJustifiedTextSymbolIndex].forEach(function(Ll){Ll>=0&&(X.text.placedSymbolArray.get(Ll).hidden=ti||Ma?1:0)}),Dn.verticalPlacedTextSymbolIndex>=0&&(X.text.placedSymbolArray.get(Dn.verticalPlacedTextSymbolIndex).hidden=ti||_a?1:0);var Ia=ye.variableOffsets[Dn.crossTileID];Ia&&ye.markUsedJustification(X,Ia.anchor,Dn,ma);var vi=ye.placedOrientations[Dn.crossTileID];vi&&(ye.markUsedJustification(X,"left",Dn,vi),ye.markUsedOrientation(X,vi,Dn))}if(ha){var yi=Br(oa.icon),Ti=!(xr&&Dn.verticalPlacedIconSymbolIndex&&Ma);if(Dn.placedIconSymbolIndex>=0){var ri=Ti?yi:pn;Wr(X.icon,Dn.numIconVertices,ri),X.icon.placedSymbolArray.get(Dn.placedIconSymbolIndex).hidden=oa.icon.isHidden()}if(Dn.verticalPlacedIconSymbolIndex>=0){var Fi=Ti?pn:yi;Wr(X.icon,Dn.numVerticalIconVertices,Fi),X.icon.placedSymbolArray.get(Dn.verticalPlacedIconSymbolIndex).hidden=oa.icon.isHidden()}}if(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData()){var Za=X.collisionArrays[cn];if(Za){var ai=new a.Point(0,0);if(Za.textBox||Za.verticalTextBox){var ro=!0;if(Ut){var To=ye.variableOffsets[Jn];To?(ai=Ka(To.anchor,To.width,To.height,To.textOffset,To.textBoxScale),Jt&&ai._rotate(fr?ye.transform.angle:-ye.transform.angle)):ro=!1}Za.textBox&&rn(X.textCollisionBox.collisionVertexArray,oa.text.placed,!ro||Ma,ai.x,ai.y),Za.verticalTextBox&&rn(X.textCollisionBox.collisionVertexArray,oa.text.placed,!ro||_a,ai.x,ai.y)}var Cl=!!(!_a&&Za.verticalIconBox);Za.iconBox&&rn(X.iconCollisionBox.collisionVertexArray,oa.icon.placed,Cl,xr?ai.x:0,xr?ai.y:0),Za.verticalIconBox&&rn(X.iconCollisionBox.collisionVertexArray,oa.icon.placed,!Cl,xr?ai.x:0,xr?ai.y:0)}}},Vr=0;Vr<X.symbolInstances.length;Vr++)Yr(Vr);if(X.sortFeatures(this.transform.angle),this.retainedQueryData[X.bucketInstanceId]&&(this.retainedQueryData[X.bucketInstanceId].featureSortOrder=X.featureSortOrder),X.hasTextData()&&X.text.opacityVertexBuffer&&X.text.opacityVertexBuffer.updateData(X.text.opacityVertexArray),X.hasIconData()&&X.icon.opacityVertexBuffer&&X.icon.opacityVertexBuffer.updateData(X.icon.opacityVertexArray),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexBuffer&&X.iconCollisionBox.collisionVertexBuffer.updateData(X.iconCollisionBox.collisionVertexArray),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexBuffer&&X.textCollisionBox.collisionVertexBuffer.updateData(X.textCollisionBox.collisionVertexArray),X.bucketInstanceId in this.collisionCircleArrays){var qr=this.collisionCircleArrays[X.bucketInstanceId];X.placementInvProjMatrix=qr.invProjMatrix,X.placementViewportMatrix=qr.viewportMatrix,X.collisionCircleArray=qr.circles,delete this.collisionCircleArrays[X.bucketInstanceId]}},wr.prototype.symbolFadeChange=function(X){return this.fadeDuration===0?1:(X-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},wr.prototype.zoomAdjustment=function(X){return Math.max(0,(this.transform.zoom-X)/1.5)},wr.prototype.hasTransitions=function(X){return this.stale||X-this.lastPlacementChangeTime<this.fadeDuration},wr.prototype.stillRecent=function(X,ge){var ne=this.zoomAtLastRecencyCheck===ge?1-this.zoomAdjustment(ge):1;return this.zoomAtLastRecencyCheck=ge,this.commitTime+this.fadeDuration*ne>X},wr.prototype.setStale=function(){this.stale=!0};function rn(de,X,ge,ne,ye){de.emplaceBack(X?1:0,ge?1:0,ne||0,ye||0),de.emplaceBack(X?1:0,ge?1:0,ne||0,ye||0),de.emplaceBack(X?1:0,ge?1:0,ne||0,ye||0),de.emplaceBack(X?1:0,ge?1:0,ne||0,ye||0)}var fn=Math.pow(2,25),hn=Math.pow(2,24),In=Math.pow(2,17),Mn=Math.pow(2,16),dn=Math.pow(2,9),Ir=Math.pow(2,8),Pr=Math.pow(2,1);function Br(de){if(de.opacity===0&&!de.placed)return 0;if(de.opacity===1&&de.placed)return 4294967295;var X=de.placed?1:0,ge=Math.floor(de.opacity*127);return ge*fn+X*hn+ge*In+X*Mn+ge*dn+X*Ir+ge*Pr+X}var pn=0,zn=function(X){this._sortAcrossTiles=X.layout.get("symbol-z-order")!=="viewport-y"&&X.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};zn.prototype.continuePlacement=function(X,ge,ne,ye,ze){for(var Ze=this._bucketParts;this._currentTileIndex<X.length;){var lt=X[this._currentTileIndex];if(ge.getBucketParts(Ze,ye,lt,this._sortAcrossTiles),this._currentTileIndex++,ze())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ze.sort(function(Ut,Jt){return Ut.sortKey-Jt.sortKey}));this._currentPartIndex<Ze.length;){var wt=Ze[this._currentPartIndex];if(ge.placeLayerBucketPart(wt,this._seenCrossTileIDs,ne),this._currentPartIndex++,ze())return!0}return!1};var Xn=function(X,ge,ne,ye,ze,Ze,lt){this.placement=new wr(X,ze,Ze,lt),this._currentPlacementIndex=ge.length-1,this._forceFullPlacement=ne,this._showCollisionBoxes=ye,this._done=!1};Xn.prototype.isDone=function(){return this._done},Xn.prototype.continuePlacement=function(X,ge,ne){for(var ye=this,ze=a.browser.now(),Ze=function(){var fr=a.browser.now()-ze;return ye._forceFullPlacement?!1:fr>2};this._currentPlacementIndex>=0;){var lt=X[this._currentPlacementIndex],wt=ge[lt],Ut=this.placement.collisionIndex.transform.zoom;if(wt.type==="symbol"&&(!wt.minzoom||wt.minzoom<=Ut)&&(!wt.maxzoom||wt.maxzoom>Ut)){this._inProgressLayer||(this._inProgressLayer=new zn(wt));var Jt=this._inProgressLayer.continuePlacement(ne[wt.source],this.placement,this._showCollisionBoxes,wt,Ze);if(Jt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Xn.prototype.commit=function(X){return this.placement.commit(X),this.placement};var bn=512/a.EXTENT/2,Un=function(X,ge,ne){this.tileID=X,this.indexedSymbolInstances={},this.bucketInstanceId=ne;for(var ye=0;ye<ge.length;ye++){var ze=ge.get(ye),Ze=ze.key;this.indexedSymbolInstances[Ze]||(this.indexedSymbolInstances[Ze]=[]),this.indexedSymbolInstances[Ze].push({crossTileID:ze.crossTileID,coord:this.getScaledCoordinates(ze,X)})}};Un.prototype.getScaledCoordinates=function(X,ge){var ne=ge.canonical.z-this.tileID.canonical.z,ye=bn/Math.pow(2,ne);return{x:Math.floor((ge.canonical.x*a.EXTENT+X.anchorX)*ye),y:Math.floor((ge.canonical.y*a.EXTENT+X.anchorY)*ye)}},Un.prototype.findMatches=function(X,ge,ne){for(var ye=this.tileID.canonical.z<ge.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ge.canonical.z),ze=0;ze<X.length;ze++){var Ze=X.get(ze);if(!Ze.crossTileID){var lt=this.indexedSymbolInstances[Ze.key];if(lt)for(var wt=this.getScaledCoordinates(Ze,ge),Ut=0,Jt=lt;Ut<Jt.length;Ut+=1){var fr=Jt[Ut];if(Math.abs(fr.coord.x-wt.x)<=ye&&Math.abs(fr.coord.y-wt.y)<=ye&&!ne[fr.crossTileID]){ne[fr.crossTileID]=!0,Ze.crossTileID=fr.crossTileID;break}}}}};var ia=function(){this.maxCrossTileID=0};ia.prototype.generate=function(){return++this.maxCrossTileID};var ca=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ca.prototype.handleWrapJump=function(X){var ge=Math.round((X-this.lng)/360);if(ge!==0)for(var ne in this.indexes){var ye=this.indexes[ne],ze={};for(var Ze in ye){var lt=ye[Ze];lt.tileID=lt.tileID.unwrapTo(lt.tileID.wrap+ge),ze[lt.tileID.key]=lt}this.indexes[ne]=ze}this.lng=X},ca.prototype.addBucket=function(X,ge,ne){if(this.indexes[X.overscaledZ]&&this.indexes[X.overscaledZ][X.key]){if(this.indexes[X.overscaledZ][X.key].bucketInstanceId===ge.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(X.overscaledZ,this.indexes[X.overscaledZ][X.key])}for(var ye=0;ye<ge.symbolInstances.length;ye++){var ze=ge.symbolInstances.get(ye);ze.crossTileID=0}this.usedCrossTileIDs[X.overscaledZ]||(this.usedCrossTileIDs[X.overscaledZ]={});var Ze=this.usedCrossTileIDs[X.overscaledZ];for(var lt in this.indexes){var wt=this.indexes[lt];if(Number(lt)>X.overscaledZ)for(var Ut in wt){var Jt=wt[Ut];Jt.tileID.isChildOf(X)&&Jt.findMatches(ge.symbolInstances,X,Ze)}else{var fr=X.scaledTo(Number(lt)),xr=wt[fr.key];xr&&xr.findMatches(ge.symbolInstances,X,Ze)}}for(var zr=0;zr<ge.symbolInstances.length;zr++){var Wr=ge.symbolInstances.get(zr);Wr.crossTileID||(Wr.crossTileID=ne.generate(),Ze[Wr.crossTileID]=!0)}return this.indexes[X.overscaledZ]===void 0&&(this.indexes[X.overscaledZ]={}),this.indexes[X.overscaledZ][X.key]=new Un(X,ge.symbolInstances,ge.bucketInstanceId),!0},ca.prototype.removeBucketCrossTileIDs=function(X,ge){for(var ne in ge.indexedSymbolInstances)for(var ye=0,ze=ge.indexedSymbolInstances[ne];ye<ze.length;ye+=1){var Ze=ze[ye];delete this.usedCrossTileIDs[X][Ze.crossTileID]}},ca.prototype.removeStaleBuckets=function(X){var ge=!1;for(var ne in this.indexes){var ye=this.indexes[ne];for(var ze in ye)X[ye[ze].bucketInstanceId]||(this.removeBucketCrossTileIDs(ne,ye[ze]),delete ye[ze],ge=!0)}return ge};var ua=function(){this.layerIndexes={},this.crossTileIDs=new ia,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ua.prototype.addLayer=function(X,ge,ne){var ye=this.layerIndexes[X.id];ye===void 0&&(ye=this.layerIndexes[X.id]=new ca);var ze=!1,Ze={};ye.handleWrapJump(ne);for(var lt=0,wt=ge;lt<wt.length;lt+=1){var Ut=wt[lt],Jt=Ut.getBucket(X);!Jt||X.id!==Jt.layerIds[0]||(Jt.bucketInstanceId||(Jt.bucketInstanceId=++this.maxBucketInstanceId),ye.addBucket(Ut.tileID,Jt,this.crossTileIDs)&&(ze=!0),Ze[Jt.bucketInstanceId]=!0)}return ye.removeStaleBuckets(Ze)&&(ze=!0),ze},ua.prototype.pruneUnusedLayers=function(X){var ge={};X.forEach(function(ye){ge[ye]=!0});for(var ne in this.layerIndexes)ge[ne]||delete this.layerIndexes[ne]};var fa=function(de,X){return a.emitValidationErrors(de,X&&X.filter(function(ge){return ge.identifier!=="source.canvas"}))},ya=a.pick(_t,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),fo=a.pick(_t,["setCenter","setZoom","setBearing","setPitch"]),Ro=rr(),Oo=function(de){function X(ge,ne){var ye=this;ne===void 0&&(ne={}),de.call(this),this.map=ge,this.dispatcher=new F(It(),this),this.imageManager=new A,this.imageManager.setEventedParent(this),this.glyphManager=new E(ge._requestManager,ne.localIdeographFontFamily),this.lineAtlas=new O(256,512),this.crossTileSymbolIndex=new ua,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var ze=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(function(Ze){var lt={pluginStatus:Ze.pluginStatus,pluginURL:Ze.pluginURL};ze.dispatcher.broadcast("syncRTLPluginState",lt,function(wt,Ut){if(a.triggerPluginCompletionEvent(wt),Ut){var Jt=Ut.every(function(xr){return xr});if(Jt)for(var fr in ze.sourceCaches)ze.sourceCaches[fr].reload()}})}),this.on("data",function(Ze){if(!(Ze.dataType!=="source"||Ze.sourceDataType!=="metadata")){var lt=ye.sourceCaches[Ze.sourceId];if(lt){var wt=lt.getSource();if(!(!wt||!wt.vectorLayerIds))for(var Ut in ye._layers){var Jt=ye._layers[Ut];Jt.source===wt.id&&ye._validateLayer(Jt)}}}})}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.loadURL=function(ne,ye){var ze=this;ye===void 0&&(ye={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Ze=typeof ye.validate=="boolean"?ye.validate:!a.isMapboxURL(ne);ne=this.map._requestManager.normalizeStyleURL(ne,ye.accessToken);var lt=this.map._requestManager.transformRequest(ne,a.ResourceType.Style);this._request=a.getJSON(lt,function(wt,Ut){ze._request=null,wt?ze.fire(new a.ErrorEvent(wt)):Ut&&ze._load(Ut,Ze)})},X.prototype.loadJSON=function(ne,ye){var ze=this;ye===void 0&&(ye={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){ze._request=null,ze._load(ne,ye.validate!==!1)})},X.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Ro,!1)},X.prototype._load=function(ne,ye){if(!(ye&&fa(this,a.validateStyle(ne)))){this._loaded=!0,this.stylesheet=ne;for(var ze in ne.sources)this.addSource(ze,ne.sources[ze],{validate:!1});ne.sprite?this._loadSprite(ne.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ne.glyphs);var Ze=or(this.stylesheet.layers);this._order=Ze.map(function(Jt){return Jt.id}),this._layers={},this._serializedLayers={};for(var lt=0,wt=Ze;lt<wt.length;lt+=1){var Ut=wt[lt];Ut=a.createStyleLayer(Ut),Ut.setEventedParent(this,{layer:{id:Ut.id}}),this._layers[Ut.id]=Ut,this._serializedLayers[Ut.id]=Ut.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},X.prototype._loadSprite=function(ne){var ye=this;this._spriteRequest=f(ne,this.map._requestManager,function(ze,Ze){if(ye._spriteRequest=null,ze)ye.fire(new a.ErrorEvent(ze));else if(Ze)for(var lt in Ze)ye.imageManager.addImage(lt,Ze[lt]);ye.imageManager.setLoaded(!0),ye._availableImages=ye.imageManager.listImages(),ye.dispatcher.broadcast("setImages",ye._availableImages),ye.fire(new a.Event("data",{dataType:"style"}))})},X.prototype._validateLayer=function(ne){var ye=this.sourceCaches[ne.source];if(ye){var ze=ne.sourceLayer;if(ze){var Ze=ye.getSource();(Ze.type==="geojson"||Ze.vectorLayerIds&&Ze.vectorLayerIds.indexOf(ze)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+ze+'" does not exist on source "'+Ze.id+'" as specified by style layer "'+ne.id+'"')))}}},X.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ne in this.sourceCaches)if(!this.sourceCaches[ne].loaded())return!1;return!!this.imageManager.isLoaded()},X.prototype._serializeLayers=function(ne){for(var ye=[],ze=0,Ze=ne;ze<Ze.length;ze+=1){var lt=Ze[ze],wt=this._layers[lt];wt.type!=="custom"&&ye.push(wt.serialize())}return ye},X.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ne in this.sourceCaches)if(this.sourceCaches[ne].hasTransition())return!0;for(var ye in this._layers)if(this._layers[ye].hasTransition())return!0;return!1},X.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},X.prototype.update=function(ne){if(this._loaded){var ye=this._changed;if(this._changed){var ze=Object.keys(this._updatedLayers),Ze=Object.keys(this._removedLayers);(ze.length||Ze.length)&&this._updateWorkerLayers(ze,Ze);for(var lt in this._updatedSources){var wt=this._updatedSources[lt];wt==="reload"?this._reloadSource(lt):wt==="clear"&&this._clearSource(lt)}this._updateTilesForChangedImages();for(var Ut in this._updatedPaintProps)this._layers[Ut].updateTransitions(ne);this.light.updateTransitions(ne),this._resetUpdates()}for(var Jt in this.sourceCaches)this.sourceCaches[Jt].used=!1;for(var fr=0,xr=this._order;fr<xr.length;fr+=1){var zr=xr[fr],Wr=this._layers[zr];Wr.recalculate(ne,this._availableImages),!Wr.isHidden(ne.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}this.light.recalculate(ne),this.z=ne.zoom,ye&&this.fire(new a.Event("data",{dataType:"style"}))}},X.prototype._updateTilesForChangedImages=function(){var ne=Object.keys(this._changedImages);if(ne.length){for(var ye in this.sourceCaches)this.sourceCaches[ye].reloadTilesForDependencies(["icons","patterns"],ne);this._changedImages={}}},X.prototype._updateWorkerLayers=function(ne,ye){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ne),removedIds:ye})},X.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},X.prototype.setState=function(ne){var ye=this;if(this._checkLoaded(),fa(this,a.validateStyle(ne)))return!1;ne=a.clone$1(ne),ne.layers=or(ne.layers);var ze=Bn(this.serialize(),ne).filter(function(lt){return!(lt.command in fo)});if(ze.length===0)return!1;var Ze=ze.filter(function(lt){return!(lt.command in ya)});if(Ze.length>0)throw new Error("Unimplemented: "+Ze.map(function(lt){return lt.command}).join(", ")+".");return ze.forEach(function(lt){lt.command!=="setTransition"&&ye[lt.command].apply(ye,lt.args)}),this.stylesheet=ne,!0},X.prototype.addImage=function(ne,ye){if(this.getImage(ne))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ne,ye),this._availableImages=this.imageManager.listImages(),this._changedImages[ne]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.updateImage=function(ne,ye){this.imageManager.updateImage(ne,ye)},X.prototype.getImage=function(ne){return this.imageManager.getImage(ne)},X.prototype.removeImage=function(ne){if(!this.getImage(ne))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ne),this._availableImages=this.imageManager.listImages(),this._changedImages[ne]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},X.prototype.addSource=function(ne,ye,ze){var Ze=this;if(ze===void 0&&(ze={}),this._checkLoaded(),this.sourceCaches[ne]!==void 0)throw new Error("There is already a source with this ID");if(!ye.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ye).join(", ")+".");var lt=["vector","raster","geojson","video","image"],wt=lt.indexOf(ye.type)>=0;if(!(wt&&this._validate(a.validateStyle.source,"sources."+ne,ye,null,ze))){this.map&&this.map._collectResourceTiming&&(ye.collectResourceTiming=!0);var Ut=this.sourceCaches[ne]=new Bt(ne,ye,this.dispatcher);Ut.style=this,Ut.setEventedParent(this,function(){return{isSourceLoaded:Ze.loaded(),source:Ut.serialize(),sourceId:ne}}),Ut.onAdd(this.map),this._changed=!0}},X.prototype.removeSource=function(ne){if(this._checkLoaded(),this.sourceCaches[ne]===void 0)throw new Error("There is no source with this ID");for(var ye in this._layers)if(this._layers[ye].source===ne)return this.fire(new a.ErrorEvent(new Error('Source "'+ne+'" cannot be removed while layer "'+ye+'" is using it.')));var ze=this.sourceCaches[ne];delete this.sourceCaches[ne],delete this._updatedSources[ne],ze.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ne})),ze.setEventedParent(null),ze.clearTiles(),ze.onRemove&&ze.onRemove(this.map),this._changed=!0},X.prototype.setGeoJSONSourceData=function(ne,ye){this._checkLoaded();var ze=this.sourceCaches[ne].getSource();ze.setData(ye),this._changed=!0},X.prototype.getSource=function(ne){return this.sourceCaches[ne]&&this.sourceCaches[ne].getSource()},X.prototype.addLayer=function(ne,ye,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ze=ne.id;if(this.getLayer(Ze)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+Ze+'" already exists on this map')));return}var lt;if(ne.type==="custom"){if(fa(this,a.validateCustomStyleLayer(ne)))return;lt=a.createStyleLayer(ne)}else{if(typeof ne.source=="object"&&(this.addSource(Ze,ne.source),ne=a.clone$1(ne),ne=a.extend(ne,{source:Ze})),this._validate(a.validateStyle.layer,"layers."+Ze,ne,{arrayIndex:-1},ze))return;lt=a.createStyleLayer(ne),this._validateLayer(lt),lt.setEventedParent(this,{layer:{id:Ze}}),this._serializedLayers[lt.id]=lt.serialize()}var wt=ye?this._order.indexOf(ye):this._order.length;if(ye&&wt===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}if(this._order.splice(wt,0,Ze),this._layerOrderChanged=!0,this._layers[Ze]=lt,this._removedLayers[Ze]&&lt.source&&lt.type!=="custom"){var Ut=this._removedLayers[Ze];delete this._removedLayers[Ze],Ut.type!==lt.type?this._updatedSources[lt.source]="clear":(this._updatedSources[lt.source]="reload",this.sourceCaches[lt.source].pause())}this._updateLayer(lt),lt.onAdd&&lt.onAdd(this.map)},X.prototype.moveLayer=function(ne,ye){this._checkLoaded(),this._changed=!0;var ze=this._layers[ne];if(!ze){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be moved.")));return}if(ne!==ye){var Ze=this._order.indexOf(ne);this._order.splice(Ze,1);var lt=ye?this._order.indexOf(ye):this._order.length;if(ye&&lt===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}this._order.splice(lt,0,ne),this._layerOrderChanged=!0}},X.prototype.removeLayer=function(ne){this._checkLoaded();var ye=this._layers[ne];if(!ye){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be removed.")));return}ye.setEventedParent(null);var ze=this._order.indexOf(ne);this._order.splice(ze,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ne]=ye,delete this._layers[ne],delete this._serializedLayers[ne],delete this._updatedLayers[ne],delete this._updatedPaintProps[ne],ye.onRemove&&ye.onRemove(this.map)},X.prototype.getLayer=function(ne){return this._layers[ne]},X.prototype.hasLayer=function(ne){return ne in this._layers},X.prototype.setLayerZoomRange=function(ne,ye,ze){this._checkLoaded();var Ze=this.getLayer(ne);if(!Ze){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot have zoom extent.")));return}Ze.minzoom===ye&&Ze.maxzoom===ze||(ye!=null&&(Ze.minzoom=ye),ze!=null&&(Ze.maxzoom=ze),this._updateLayer(Ze))},X.prototype.setFilter=function(ne,ye,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ze=this.getLayer(ne);if(!Ze){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(Ze.filter,ye)){if(ye==null){Ze.filter=void 0,this._updateLayer(Ze);return}this._validate(a.validateStyle.filter,"layers."+Ze.id+".filter",ye,null,ze)||(Ze.filter=a.clone$1(ye),this._updateLayer(Ze))}},X.prototype.getFilter=function(ne){return a.clone$1(this.getLayer(ne).filter)},X.prototype.setLayoutProperty=function(ne,ye,ze,Ze){Ze===void 0&&(Ze={}),this._checkLoaded();var lt=this.getLayer(ne);if(!lt){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(lt.getLayoutProperty(ye),ze)||(lt.setLayoutProperty(ye,ze,Ze),this._updateLayer(lt))},X.prototype.getLayoutProperty=function(ne,ye){var ze=this.getLayer(ne);if(!ze){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style.")));return}return ze.getLayoutProperty(ye)},X.prototype.setPaintProperty=function(ne,ye,ze,Ze){Ze===void 0&&(Ze={}),this._checkLoaded();var lt=this.getLayer(ne);if(!lt){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(lt.getPaintProperty(ye),ze)){var wt=lt.setPaintProperty(ye,ze,Ze);wt&&this._updateLayer(lt),this._changed=!0,this._updatedPaintProps[ne]=!0}},X.prototype.getPaintProperty=function(ne,ye){return this.getLayer(ne).getPaintProperty(ye)},X.prototype.setFeatureState=function(ne,ye){this._checkLoaded();var ze=ne.source,Ze=ne.sourceLayer,lt=this.sourceCaches[ze];if(lt===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var wt=lt.getSource().type;if(wt==="geojson"&&Ze){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(wt==="vector"&&!Ze){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ne.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),lt.setFeatureState(Ze,ne.id,ye)},X.prototype.removeFeatureState=function(ne,ye){this._checkLoaded();var ze=ne.source,Ze=this.sourceCaches[ze];if(Ze===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var lt=Ze.getSource().type,wt=lt==="vector"?ne.sourceLayer:void 0;if(lt==="vector"&&!wt){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ye&&typeof ne.id!="string"&&typeof ne.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}Ze.removeFeatureState(wt,ne.id,ye)},X.prototype.getFeatureState=function(ne){this._checkLoaded();var ye=ne.source,ze=ne.sourceLayer,Ze=this.sourceCaches[ye];if(Ze===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")));return}var lt=Ze.getSource().type;if(lt==="vector"&&!ze){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ne.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Ze.getFeatureState(ze,ne.id)},X.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},X.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(ne){return ne.serialize()}),layers:this._serializeLayers(this._order)},function(ne){return ne!==void 0})},X.prototype._updateLayer=function(ne){this._updatedLayers[ne.id]=!0,ne.source&&!this._updatedSources[ne.source]&&this.sourceCaches[ne.source].getSource().type!=="raster"&&(this._updatedSources[ne.source]="reload",this.sourceCaches[ne.source].pause()),this._changed=!0},X.prototype._flattenAndSortRenderedFeatures=function(ne){for(var ye=this,ze=function(_a){return ye._layers[_a].type==="fill-extrusion"},Ze={},lt=[],wt=this._order.length-1;wt>=0;wt--){var Ut=this._order[wt];if(ze(Ut)){Ze[Ut]=wt;for(var Jt=0,fr=ne;Jt<fr.length;Jt+=1){var xr=fr[Jt],zr=xr[Ut];if(zr)for(var Wr=0,Yr=zr;Wr<Yr.length;Wr+=1){var Vr=Yr[Wr];lt.push(Vr)}}}}lt.sort(function(_a,Ya){return Ya.intersectionZ-_a.intersectionZ});for(var qr=[],cn=this._order.length-1;cn>=0;cn--){var Dn=this._order[cn];if(ze(Dn))for(var On=lt.length-1;On>=0;On--){var $n=lt[On].feature;if(Ze[$n.layer.id]<cn)break;qr.push($n),lt.pop()}else for(var Jn=0,Kn=ne;Jn<Kn.length;Jn+=1){var oa=Kn[Jn],va=oa[Dn];if(va)for(var ha=0,ma=va;ha<ma.length;ha+=1){var Ma=ma[ha];qr.push(Ma.feature)}}}return qr},X.prototype.queryRenderedFeatures=function(ne,ye,ze){ye&&ye.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",ye.filter,null,ye);var Ze={};if(ye&&ye.layers){if(!Array.isArray(ye.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var lt=0,wt=ye.layers;lt<wt.length;lt+=1){var Ut=wt[lt],Jt=this._layers[Ut];if(!Jt)return this.fire(new a.ErrorEvent(new Error("The layer '"+Ut+"' does not exist in the map's style and cannot be queried for features."))),[];Ze[Jt.source]=!0}}var fr=[];ye.availableImages=this._availableImages;for(var xr in this.sourceCaches)ye.layers&&!Ze[xr]||fr.push(te(this.sourceCaches[xr],this._layers,this._serializedLayers,ne,ye,ze));return this.placement&&fr.push(ee(this._layers,this._serializedLayers,this.sourceCaches,ne,ye,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(fr)},X.prototype.querySourceFeatures=function(ne,ye){ye&&ye.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",ye.filter,null,ye);var ze=this.sourceCaches[ne];return ze?ue(ze,ye):[]},X.prototype.addSourceType=function(ne,ye,ze){if(X.getSourceType(ne))return ze(new Error('A source type called "'+ne+'" already exists.'));if(X.setSourceType(ne,ye),!ye.workerSourceURL)return ze(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ne,url:ye.workerSourceURL},ze)},X.prototype.getLight=function(){return this.light.getLight()},X.prototype.setLight=function(ne,ye){ye===void 0&&(ye={}),this._checkLoaded();var ze=this.light.getLight(),Ze=!1;for(var lt in ne)if(!a.deepEqual(ne[lt],ze[lt])){Ze=!0;break}if(Ze){var wt={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ne,ye),this.light.updateTransitions(wt)}},X.prototype._validate=function(ne,ye,ze,Ze,lt){return lt===void 0&&(lt={}),lt&&lt.validate===!1?!1:fa(this,ne.call(a.validateStyle,a.extend({key:ye,style:this.serialize(),value:ze,styleSpec:a.styleSpec},Ze)))},X.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ne in this._layers){var ye=this._layers[ne];ye.setEventedParent(null)}for(var ze in this.sourceCaches)this.sourceCaches[ze].clearTiles(),this.sourceCaches[ze].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},X.prototype._clearSource=function(ne){this.sourceCaches[ne].clearTiles()},X.prototype._reloadSource=function(ne){this.sourceCaches[ne].resume(),this.sourceCaches[ne].reload()},X.prototype._updateSources=function(ne){for(var ye in this.sourceCaches)this.sourceCaches[ye].update(ne)},X.prototype._generateCollisionBoxes=function(){for(var ne in this.sourceCaches)this._reloadSource(ne)},X.prototype._updatePlacement=function(ne,ye,ze,Ze,lt){lt===void 0&&(lt=!1);for(var wt=!1,Ut=!1,Jt={},fr=0,xr=this._order;fr<xr.length;fr+=1){var zr=xr[fr],Wr=this._layers[zr];if(Wr.type==="symbol"){if(!Jt[Wr.source]){var Yr=this.sourceCaches[Wr.source];Jt[Wr.source]=Yr.getRenderableIds(!0).map(function(Jn){return Yr.getTileByID(Jn)}).sort(function(Jn,Kn){return Kn.tileID.overscaledZ-Jn.tileID.overscaledZ||(Jn.tileID.isLessThan(Kn.tileID)?-1:1)})}var Vr=this.crossTileSymbolIndex.addLayer(Wr,Jt[Wr.source],ne.center.lng);wt=wt||Vr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),lt=lt||this._layerOrderChanged||ze===0,(lt||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),ne.zoom))&&(this.pauseablePlacement=new Xn(ne,this._order,lt,ye,ze,Ze,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Jt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Ut=!0),wt&&this.pauseablePlacement.placement.setStale()),Ut||wt)for(var qr=0,cn=this._order;qr<cn.length;qr+=1){var Dn=cn[qr],On=this._layers[Dn];On.type==="symbol"&&this.placement.updateLayerOpacities(On,Jt[On.source])}var $n=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return $n},X.prototype._releaseSymbolFadeTiles=function(){for(var ne in this.sourceCaches)this.sourceCaches[ne].releaseSymbolFadeTiles()},X.prototype.getImages=function(ne,ye,ze){this.imageManager.getImages(ye.icons,ze),this._updateTilesForChangedImages();var Ze=this.sourceCaches[ye.source];Ze&&Ze.setDependencies(ye.tileID.key,ye.type,ye.icons)},X.prototype.getGlyphs=function(ne,ye,ze){this.glyphManager.getGlyphs(ye.stacks,ze)},X.prototype.getResource=function(ne,ye,ze){return a.makeRequest(ye,ze)},X}(a.Evented);Oo.getSourceType=$,Oo.setSourceType=K,Oo.registerForPluginStateChange=a.registerForPluginStateChange;var jo=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Bo=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,tc=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,oi=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Uu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",fu=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,co="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Yo=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yc=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Hu="void main() {gl_FragColor=vec4(1.0);}",Wi="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Vu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rs=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,io=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,ns="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Do="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",us="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Fs="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",qs="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",xo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Zc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",_s=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bo=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,rc=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,el=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,zs=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nc=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,ac=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rv=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Gu=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nv=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,av=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,iv=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,ic=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ov="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",sv=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xc="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",lv=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uv=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,oc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Nl=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Ul=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,mf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fv=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,tl=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$c="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",sc=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cv=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,fs=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Wu=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Os=Si(Bo,tc),rl=Si(oi,Uu),lc=Si(fu,co),vu=Si(Yo,Yc),ml=Si(Hu,Wi),$i=Si(Vu,rs),uc=Si(io,ns),xf=Si(Do,us),du=Si(Fs,qs),Kc=Si(xo,Zc),Jc=Si(_s,bo),pu=Si(rc,el),gu=Si(zs,nc),ho=Si(ac,rv),bf=Si(Gu,nv),hv=Si(av,iv),fc=Si(ic,ov),vv=Si(sv,Xc),wf=Si(lv,uv),ju=Si(oc,Nl),cc=Si(Ul,cu),hc=Si(mf,fv),Yu=Si(tl,$c),vc=Si(sc,cv),Tf=Si(fs,Hl),dc=Si(Wu,hu);function Si(de,X){var ge=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ne={};return de=de.replace(ge,function(ye,ze,Ze,lt,wt){return ne[wt]=!0,ze==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
varying `+Ze+" "+lt+" "+wt+`;
#else
uniform `+Ze+" "+lt+" u_"+wt+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+wt+`
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`}),X=X.replace(ge,function(ye,ze,Ze,lt,wt){var Ut=lt==="float"?"vec2":"vec4",Jt=wt.match(/color/)?"color":Ut;return ne[wt]?ze==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
uniform lowp float u_`+wt+`_t;
attribute `+Ze+" "+Ut+" a_"+wt+`;
varying `+Ze+" "+lt+" "+wt+`;
#else
uniform `+Ze+" "+lt+" u_"+wt+`;
#endif
`:Jt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+wt+" = a_"+wt+`;
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+wt+" = unpack_mix_"+Jt+"(a_"+wt+", u_"+wt+`_t);
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`:ze==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
uniform lowp float u_`+wt+`_t;
attribute `+Ze+" "+Ut+" a_"+wt+`;
#else
uniform `+Ze+" "+lt+" u_"+wt+`;
#endif
`:Jt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+Ze+" "+lt+" "+wt+" = a_"+wt+`;
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+Ze+" "+lt+" "+wt+" = unpack_mix_"+Jt+"(a_"+wt+", u_"+wt+`_t);
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`}),{fragmentSource:de,vertexSource:X}}var Qc=Object.freeze({__proto__:null,prelude:Os,background:rl,backgroundPattern:lc,circle:vu,clippingMask:ml,heatmap:$i,heatmapTexture:uc,collisionBox:xf,collisionCircle:du,debug:Kc,fill:Jc,fillOutline:pu,fillOutlinePattern:gu,fillPattern:ho,fillExtrusion:bf,fillExtrusionPattern:hv,hillshadePrepare:fc,hillshade:vv,line:wf,lineGradient:ju,linePattern:cc,lineSDF:hc,raster:Yu,symbolIcon:vc,symbolSDF:Tf,symbolTextAndIcon:dc}),bs=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};bs.prototype.bind=function(X,ge,ne,ye,ze,Ze,lt,wt){this.context=X;for(var Ut=this.boundPaintVertexBuffers.length!==ye.length,Jt=0;!Ut&&Jt<ye.length;Jt++)this.boundPaintVertexBuffers[Jt]!==ye[Jt]&&(Ut=!0);var fr=!this.vao||this.boundProgram!==ge||this.boundLayoutVertexBuffer!==ne||Ut||this.boundIndexBuffer!==ze||this.boundVertexOffset!==Ze||this.boundDynamicVertexBuffer!==lt||this.boundDynamicVertexBuffer2!==wt;!X.extVertexArrayObject||fr?this.freshBind(ge,ne,ye,ze,Ze,lt,wt):(X.bindVertexArrayOES.set(this.vao),lt&&lt.bind(),ze&&ze.dynamicDraw&&ze.bind(),wt&&wt.bind())},bs.prototype.freshBind=function(X,ge,ne,ye,ze,Ze,lt){var wt,Ut=X.numAttributes,Jt=this.context,fr=Jt.gl;if(Jt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Jt.extVertexArrayObject.createVertexArrayOES(),Jt.bindVertexArrayOES.set(this.vao),wt=0,this.boundProgram=X,this.boundLayoutVertexBuffer=ge,this.boundPaintVertexBuffers=ne,this.boundIndexBuffer=ye,this.boundVertexOffset=ze,this.boundDynamicVertexBuffer=Ze,this.boundDynamicVertexBuffer2=lt;else{wt=Jt.currentNumAttributes||0;for(var xr=Ut;xr<wt;xr++)fr.disableVertexAttribArray(xr)}ge.enableAttributes(fr,X);for(var zr=0,Wr=ne;zr<Wr.length;zr+=1){var Yr=Wr[zr];Yr.enableAttributes(fr,X)}Ze&&Ze.enableAttributes(fr,X),lt&&lt.enableAttributes(fr,X),ge.bind(),ge.setVertexAttribPointers(fr,X,ze);for(var Vr=0,qr=ne;Vr<qr.length;Vr+=1){var cn=qr[Vr];cn.bind(),cn.setVertexAttribPointers(fr,X,ze)}Ze&&(Ze.bind(),Ze.setVertexAttribPointers(fr,X,ze)),ye&&ye.bind(),lt&&(lt.bind(),lt.setVertexAttribPointers(fr,X,ze)),Jt.currentNumAttributes=Ut},bs.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var yu=function(X,ge,ne,ye,ze){var Ze=X.gl;this.program=Ze.createProgram();var lt=ne?ne.defines():[];ze&&lt.push("#define OVERDRAW_INSPECTOR;");var wt=lt.concat(Os.fragmentSource,ge.fragmentSource).join(`
`),Ut=lt.concat(Os.vertexSource,ge.vertexSource).join(`
`),Jt=Ze.createShader(Ze.FRAGMENT_SHADER);if(Ze.isContextLost()){this.failedToCreate=!0;return}Ze.shaderSource(Jt,wt),Ze.compileShader(Jt),Ze.attachShader(this.program,Jt);var fr=Ze.createShader(Ze.VERTEX_SHADER);if(Ze.isContextLost()){this.failedToCreate=!0;return}Ze.shaderSource(fr,Ut),Ze.compileShader(fr),Ze.attachShader(this.program,fr);for(var xr=ne?ne.layoutAttributes:[],zr=0;zr<xr.length;zr++)Ze.bindAttribLocation(this.program,zr,xr[zr].name);Ze.linkProgram(this.program),Ze.deleteShader(fr),Ze.deleteShader(Jt),this.numAttributes=Ze.getProgramParameter(this.program,Ze.ACTIVE_ATTRIBUTES),this.attributes={};for(var Wr={},Yr=0;Yr<this.numAttributes;Yr++){var Vr=Ze.getActiveAttrib(this.program,Yr);Vr&&(this.attributes[Vr.name]=Ze.getAttribLocation(this.program,Vr.name))}for(var qr=Ze.getProgramParameter(this.program,Ze.ACTIVE_UNIFORMS),cn=0;cn<qr;cn++){var Dn=Ze.getActiveUniform(this.program,cn);Dn&&(Wr[Dn.name]=Ze.getUniformLocation(this.program,Dn.name))}this.fixedUniforms=ye(X,Wr),this.binderUniforms=ne?ne.getUniforms(X,Wr):[]};yu.prototype.draw=function(X,ge,ne,ye,ze,Ze,lt,wt,Ut,Jt,fr,xr,zr,Wr,Yr,Vr){var qr,cn=X.gl;if(!this.failedToCreate){X.program.set(this.program),X.setDepthMode(ne),X.setStencilMode(ye),X.setColorMode(ze),X.setCullFace(Ze);for(var Dn in this.fixedUniforms)this.fixedUniforms[Dn].set(lt[Dn]);Wr&&Wr.setUniforms(X,this.binderUniforms,xr,{zoom:zr});for(var On=(qr={},qr[cn.LINES]=2,qr[cn.TRIANGLES]=3,qr[cn.LINE_STRIP]=1,qr)[ge],$n=0,Jn=fr.get();$n<Jn.length;$n+=1){var Kn=Jn[$n],oa=Kn.vaos||(Kn.vaos={}),va=oa[wt]||(oa[wt]=new bs);va.bind(X,this,Ut,Wr?Wr.getPaintVertexBuffers():[],Jt,Kn.vertexOffset,Yr,Vr),cn.drawElements(ge,Kn.primitiveLength*On,cn.UNSIGNED_SHORT,Kn.primitiveOffset*On*2)}}};function Vl(de,X,ge){var ne=1/mn(ge,1,X.transform.tileZoom),ye=Math.pow(2,ge.tileID.overscaledZ),ze=ge.tileSize*Math.pow(2,X.transform.tileZoom)/ye,Ze=ze*(ge.tileID.canonical.x+ge.tileID.wrap*ye),lt=ze*ge.tileID.canonical.y;return{u_image:0,u_texsize:ge.imageAtlasTexture.size,u_scale:[ne,de.fromScale,de.toScale],u_fade:de.t,u_pixel_coord_upper:[Ze>>16,lt>>16],u_pixel_coord_lower:[Ze&65535,lt&65535]}}function pc(de,X,ge,ne){var ye=ge.imageManager.getPattern(de.from.toString()),ze=ge.imageManager.getPattern(de.to.toString()),Ze=ge.imageManager.getPixelSize(),lt=Ze.width,wt=Ze.height,Ut=Math.pow(2,ne.tileID.overscaledZ),Jt=ne.tileSize*Math.pow(2,ge.transform.tileZoom)/Ut,fr=Jt*(ne.tileID.canonical.x+ne.tileID.wrap*Ut),xr=Jt*ne.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ye.tl,u_pattern_br_a:ye.br,u_pattern_tl_b:ze.tl,u_pattern_br_b:ze.br,u_texsize:[lt,wt],u_mix:X.t,u_pattern_size_a:ye.displaySize,u_pattern_size_b:ze.displaySize,u_scale_a:X.fromScale,u_scale_b:X.toScale,u_tile_units_to_pixels:1/mn(ne,1,ge.transform.tileZoom),u_pixel_coord_upper:[fr>>16,xr>>16],u_pixel_coord_lower:[fr&65535,xr&65535]}}var Qi=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_lightpos:new a.Uniform3f(de,X.u_lightpos),u_lightintensity:new a.Uniform1f(de,X.u_lightintensity),u_lightcolor:new a.Uniform3f(de,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(de,X.u_vertical_gradient),u_opacity:new a.Uniform1f(de,X.u_opacity)}},Zu=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_lightpos:new a.Uniform3f(de,X.u_lightpos),u_lightintensity:new a.Uniform1f(de,X.u_lightintensity),u_lightcolor:new a.Uniform3f(de,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(de,X.u_vertical_gradient),u_height_factor:new a.Uniform1f(de,X.u_height_factor),u_image:new a.Uniform1i(de,X.u_image),u_texsize:new a.Uniform2f(de,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(de,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(de,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(de,X.u_scale),u_fade:new a.Uniform1f(de,X.u_fade),u_opacity:new a.Uniform1f(de,X.u_opacity)}},Zo=function(de,X,ge,ne){var ye=X.style.light,ze=ye.properties.get("position"),Ze=[ze.x,ze.y,ze.z],lt=a.create$1();ye.properties.get("anchor")==="viewport"&&a.fromRotation(lt,-X.transform.angle),a.transformMat3(Ze,Ze,lt);var wt=ye.properties.get("color");return{u_matrix:de,u_lightpos:Ze,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[wt.r,wt.g,wt.b],u_vertical_gradient:+ge,u_opacity:ne}},nl=function(de,X,ge,ne,ye,ze,Ze){return a.extend(Zo(de,X,ge,ne),Vl(ze,X,Ze),{u_height_factor:-Math.pow(2,ye.overscaledZ)/Ze.tileSize/8})},al=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix)}},xl=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_image:new a.Uniform1i(de,X.u_image),u_texsize:new a.Uniform2f(de,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(de,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(de,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(de,X.u_scale),u_fade:new a.Uniform1f(de,X.u_fade)}},bl=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_world:new a.Uniform2f(de,X.u_world)}},wl=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_world:new a.Uniform2f(de,X.u_world),u_image:new a.Uniform1i(de,X.u_image),u_texsize:new a.Uniform2f(de,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(de,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(de,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(de,X.u_scale),u_fade:new a.Uniform1f(de,X.u_fade)}},ws=function(de){return{u_matrix:de}},Bs=function(de,X,ge,ne){return a.extend(ws(de),Vl(ge,X,ne))},Xu=function(de,X){return{u_matrix:de,u_world:X}},$u=function(de,X,ge,ne,ye){return a.extend(Bs(de,X,ge,ne),{u_world:ye})},Af=function(de,X){return{u_camera_to_center_distance:new a.Uniform1f(de,X.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(de,X.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(de,X.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(de,X.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(de,X.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(de,X.u_matrix)}},dv=function(de,X,ge,ne){var ye=de.transform,ze,Ze;if(ne.paint.get("circle-pitch-alignment")==="map"){var lt=mn(ge,1,ye.zoom);ze=!0,Ze=[lt,lt]}else ze=!1,Ze=ye.pixelsToGLUnits;return{u_camera_to_center_distance:ye.cameraToCenterDistance,u_scale_with_map:+(ne.paint.get("circle-pitch-scale")==="map"),u_matrix:de.translatePosMatrix(X.posMatrix,ge,ne.paint.get("circle-translate"),ne.paint.get("circle-translate-anchor")),u_pitch_with_map:+ze,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Ze}},pv=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_camera_to_center_distance:new a.Uniform1f(de,X.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(de,X.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(de,X.u_extrude_scale),u_overscale_factor:new a.Uniform1f(de,X.u_overscale_factor)}},gv=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_inv_matrix:new a.UniformMatrix4f(de,X.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(de,X.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(de,X.u_viewport_size)}},yv=function(de,X,ge){var ne=mn(ge,1,X.zoom),ye=Math.pow(2,X.zoom-ge.tileID.overscaledZ),ze=ge.tileID.overscaleFactor();return{u_matrix:de,u_camera_to_center_distance:X.cameraToCenterDistance,u_pixels_to_tile_units:ne,u_extrude_scale:[X.pixelsToGLUnits[0]/(ne*ye),X.pixelsToGLUnits[1]/(ne*ye)],u_overscale_factor:ze}},Sf=function(de,X,ge){return{u_matrix:de,u_inv_matrix:X,u_camera_to_center_distance:ge.cameraToCenterDistance,u_viewport_size:[ge.width,ge.height]}},qc=function(de,X){return{u_color:new a.UniformColor(de,X.u_color),u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_overlay:new a.Uniform1i(de,X.u_overlay),u_overlay_scale:new a.Uniform1f(de,X.u_overlay_scale)}},mu=function(de,X,ge){return ge===void 0&&(ge=1),{u_matrix:de,u_color:X,u_overlay:0,u_overlay_scale:ge}},wo=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix)}},Xo=function(de){return{u_matrix:de}},Ku=function(de,X){return{u_extrude_scale:new a.Uniform1f(de,X.u_extrude_scale),u_intensity:new a.Uniform1f(de,X.u_intensity),u_matrix:new a.UniformMatrix4f(de,X.u_matrix)}},Gl=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_world:new a.Uniform2f(de,X.u_world),u_image:new a.Uniform1i(de,X.u_image),u_color_ramp:new a.Uniform1i(de,X.u_color_ramp),u_opacity:new a.Uniform1f(de,X.u_opacity)}},Ju=function(de,X,ge,ne){return{u_matrix:de,u_extrude_scale:mn(X,1,ge),u_intensity:ne}},Mf=function(de,X,ge,ne){var ye=a.create();a.ortho(ye,0,de.width,de.height,0,0,1);var ze=de.context.gl;return{u_matrix:ye,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:ge,u_color_ramp:ne,u_opacity:X.paint.get("heatmap-opacity")}},mv=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_image:new a.Uniform1i(de,X.u_image),u_latrange:new a.Uniform2f(de,X.u_latrange),u_light:new a.Uniform2f(de,X.u_light),u_shadow:new a.UniformColor(de,X.u_shadow),u_highlight:new a.UniformColor(de,X.u_highlight),u_accent:new a.UniformColor(de,X.u_accent)}},eh=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_image:new a.Uniform1i(de,X.u_image),u_dimension:new a.Uniform2f(de,X.u_dimension),u_zoom:new a.Uniform1f(de,X.u_zoom),u_maxzoom:new a.Uniform1f(de,X.u_maxzoom),u_unpack:new a.Uniform4f(de,X.u_unpack)}},th=function(de,X,ge){var ne=ge.paint.get("hillshade-shadow-color"),ye=ge.paint.get("hillshade-highlight-color"),ze=ge.paint.get("hillshade-accent-color"),Ze=ge.paint.get("hillshade-illumination-direction")*(Math.PI/180);ge.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ze-=de.transform.angle);var lt=!de.options.moving;return{u_matrix:de.transform.calculatePosMatrix(X.tileID.toUnwrapped(),lt),u_image:0,u_latrange:Tl(de,X.tileID),u_light:[ge.paint.get("hillshade-exaggeration"),Ze],u_shadow:ne,u_highlight:ye,u_accent:ze}},gc=function(de,X,ge){var ne=X.stride,ye=a.create();return a.ortho(ye,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(ye,ye,[0,-a.EXTENT,0]),{u_matrix:ye,u_image:1,u_dimension:[ne,ne],u_zoom:de.overscaledZ,u_maxzoom:ge,u_unpack:X.getUnpackVector()}};function Tl(de,X){var ge=Math.pow(2,X.canonical.z),ne=X.canonical.y;return[new a.MercatorCoordinate(0,ne/ge).toLngLat().lat,new a.MercatorCoordinate(0,(ne+1)/ge).toLngLat().lat]}var qi=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_ratio:new a.Uniform1f(de,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(de,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(de,X.u_units_to_pixels)}},Ns=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_ratio:new a.Uniform1f(de,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(de,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(de,X.u_units_to_pixels),u_image:new a.Uniform1i(de,X.u_image)}},yc=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_texsize:new a.Uniform2f(de,X.u_texsize),u_ratio:new a.Uniform1f(de,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(de,X.u_device_pixel_ratio),u_image:new a.Uniform1i(de,X.u_image),u_units_to_pixels:new a.Uniform2f(de,X.u_units_to_pixels),u_scale:new a.Uniform3f(de,X.u_scale),u_fade:new a.Uniform1f(de,X.u_fade)}},rh=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_ratio:new a.Uniform1f(de,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(de,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(de,X.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(de,X.u_patternscale_a),u_patternscale_b:new a.Uniform2f(de,X.u_patternscale_b),u_sdfgamma:new a.Uniform1f(de,X.u_sdfgamma),u_image:new a.Uniform1i(de,X.u_image),u_tex_y_a:new a.Uniform1f(de,X.u_tex_y_a),u_tex_y_b:new a.Uniform1f(de,X.u_tex_y_b),u_mix:new a.Uniform1f(de,X.u_mix)}},Wl=function(de,X,ge){var ne=de.transform;return{u_matrix:ol(de,X,ge),u_ratio:1/mn(X,1,ne.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/ne.pixelsToGLUnits[0],1/ne.pixelsToGLUnits[1]]}},Ef=function(de,X,ge){return a.extend(Wl(de,X,ge),{u_image:0})},Ts=function(de,X,ge,ne){var ye=de.transform,ze=il(X,ye);return{u_matrix:ol(de,X,ge),u_texsize:X.imageAtlasTexture.size,u_ratio:1/mn(X,1,ye.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[ze,ne.fromScale,ne.toScale],u_fade:ne.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},Cf=function(de,X,ge,ne,ye){var ze=de.transform,Ze=de.lineAtlas,lt=il(X,ze),wt=ge.layout.get("line-cap")==="round",Ut=Ze.getDash(ne.from,wt),Jt=Ze.getDash(ne.to,wt),fr=Ut.width*ye.fromScale,xr=Jt.width*ye.toScale;return a.extend(Wl(de,X,ge),{u_patternscale_a:[lt/fr,-Ut.height/2],u_patternscale_b:[lt/xr,-Jt.height/2],u_sdfgamma:Ze.width/(Math.min(fr,xr)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ut.y,u_tex_y_b:Jt.y,u_mix:ye.t})};function il(de,X){return 1/mn(de,1,X.tileZoom)}function ol(de,X,ge){return de.translatePosMatrix(X.tileID.posMatrix,X,ge.paint.get("line-translate"),ge.paint.get("line-translate-anchor"))}var mc=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_tl_parent:new a.Uniform2f(de,X.u_tl_parent),u_scale_parent:new a.Uniform1f(de,X.u_scale_parent),u_buffer_scale:new a.Uniform1f(de,X.u_buffer_scale),u_fade_t:new a.Uniform1f(de,X.u_fade_t),u_opacity:new a.Uniform1f(de,X.u_opacity),u_image0:new a.Uniform1i(de,X.u_image0),u_image1:new a.Uniform1i(de,X.u_image1),u_brightness_low:new a.Uniform1f(de,X.u_brightness_low),u_brightness_high:new a.Uniform1f(de,X.u_brightness_high),u_saturation_factor:new a.Uniform1f(de,X.u_saturation_factor),u_contrast_factor:new a.Uniform1f(de,X.u_contrast_factor),u_spin_weights:new a.Uniform3f(de,X.u_spin_weights)}},xu=function(de,X,ge,ne,ye){return{u_matrix:de,u_tl_parent:X,u_scale_parent:ge,u_buffer_scale:1,u_fade_t:ne.mix,u_opacity:ne.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:Lf(ye.paint.get("raster-saturation")),u_contrast_factor:jl(ye.paint.get("raster-contrast")),u_spin_weights:pi(ye.paint.get("raster-hue-rotate"))}};function pi(de){de*=Math.PI/180;var X=Math.sin(de),ge=Math.cos(de);return[(2*ge+1)/3,(-Math.sqrt(3)*X-ge+1)/3,(Math.sqrt(3)*X-ge+1)/3]}function jl(de){return de>0?1/(1-de):1+de}function Lf(de){return de>0?1-1/(1.001-de):-de}var Pf=function(de,X){return{u_is_size_zoom_constant:new a.Uniform1i(de,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(de,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(de,X.u_size_t),u_size:new a.Uniform1f(de,X.u_size),u_camera_to_center_distance:new a.Uniform1f(de,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(de,X.u_pitch),u_rotate_symbol:new a.Uniform1i(de,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(de,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(de,X.u_fade_change),u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(de,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(de,X.u_coord_matrix),u_is_text:new a.Uniform1i(de,X.u_is_text),u_pitch_with_map:new a.Uniform1i(de,X.u_pitch_with_map),u_texsize:new a.Uniform2f(de,X.u_texsize),u_texture:new a.Uniform1i(de,X.u_texture)}},Al=function(de,X){return{u_is_size_zoom_constant:new a.Uniform1i(de,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(de,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(de,X.u_size_t),u_size:new a.Uniform1f(de,X.u_size),u_camera_to_center_distance:new a.Uniform1f(de,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(de,X.u_pitch),u_rotate_symbol:new a.Uniform1i(de,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(de,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(de,X.u_fade_change),u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(de,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(de,X.u_coord_matrix),u_is_text:new a.Uniform1i(de,X.u_is_text),u_pitch_with_map:new a.Uniform1i(de,X.u_pitch_with_map),u_texsize:new a.Uniform2f(de,X.u_texsize),u_texture:new a.Uniform1i(de,X.u_texture),u_gamma_scale:new a.Uniform1f(de,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(de,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(de,X.u_is_halo)}},xv=function(de,X){return{u_is_size_zoom_constant:new a.Uniform1i(de,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(de,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(de,X.u_size_t),u_size:new a.Uniform1f(de,X.u_size),u_camera_to_center_distance:new a.Uniform1f(de,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(de,X.u_pitch),u_rotate_symbol:new a.Uniform1i(de,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(de,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(de,X.u_fade_change),u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(de,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(de,X.u_coord_matrix),u_is_text:new a.Uniform1i(de,X.u_is_text),u_pitch_with_map:new a.Uniform1i(de,X.u_pitch_with_map),u_texsize:new a.Uniform2f(de,X.u_texsize),u_texsize_icon:new a.Uniform2f(de,X.u_texsize_icon),u_texture:new a.Uniform1i(de,X.u_texture),u_texture_icon:new a.Uniform1i(de,X.u_texture_icon),u_gamma_scale:new a.Uniform1f(de,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(de,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(de,X.u_is_halo)}},xc=function(de,X,ge,ne,ye,ze,Ze,lt,wt,Ut){var Jt=ye.transform;return{u_is_size_zoom_constant:+(de==="constant"||de==="source"),u_is_size_feature_constant:+(de==="constant"||de==="camera"),u_size_t:X?X.uSizeT:0,u_size:X?X.uSize:0,u_camera_to_center_distance:Jt.cameraToCenterDistance,u_pitch:Jt.pitch/360*2*Math.PI,u_rotate_symbol:+ge,u_aspect_ratio:Jt.width/Jt.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:ze,u_label_plane_matrix:Ze,u_coord_matrix:lt,u_is_text:+wt,u_pitch_with_map:+ne,u_texsize:Ut,u_texture:0}},bu=function(de,X,ge,ne,ye,ze,Ze,lt,wt,Ut,Jt){var fr=ye.transform;return a.extend(xc(de,X,ge,ne,ye,ze,Ze,lt,wt,Ut),{u_gamma_scale:ne?Math.cos(fr._pitch)*fr.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+Jt})},bc=function(de,X,ge,ne,ye,ze,Ze,lt,wt,Ut){return a.extend(bu(de,X,ge,ne,ye,ze,Ze,lt,!0,wt,!0),{u_texsize_icon:Ut,u_texture_icon:1})},nh=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_opacity:new a.Uniform1f(de,X.u_opacity),u_color:new a.UniformColor(de,X.u_color)}},sl=function(de,X){return{u_matrix:new a.UniformMatrix4f(de,X.u_matrix),u_opacity:new a.Uniform1f(de,X.u_opacity),u_image:new a.Uniform1i(de,X.u_image),u_pattern_tl_a:new a.Uniform2f(de,X.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(de,X.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(de,X.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(de,X.u_pattern_br_b),u_texsize:new a.Uniform2f(de,X.u_texsize),u_mix:new a.Uniform1f(de,X.u_mix),u_pattern_size_a:new a.Uniform2f(de,X.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(de,X.u_pattern_size_b),u_scale_a:new a.Uniform1f(de,X.u_scale_a),u_scale_b:new a.Uniform1f(de,X.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(de,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(de,X.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(de,X.u_tile_units_to_pixels)}},Sl=function(de,X,ge){return{u_matrix:de,u_opacity:X,u_color:ge}},Yl=function(de,X,ge,ne,ye,ze){return a.extend(pc(ne,ze,ge,ye),{u_matrix:de,u_opacity:X})},Zl={fillExtrusion:Qi,fillExtrusionPattern:Zu,fill:al,fillPattern:xl,fillOutline:bl,fillOutlinePattern:wl,circle:Af,collisionBox:pv,collisionCircle:gv,debug:qc,clippingMask:wo,heatmap:Ku,heatmapTexture:Gl,hillshade:mv,hillshadePrepare:eh,line:qi,lineGradient:Ns,linePattern:yc,lineSDF:rh,raster:mc,symbolIcon:Pf,symbolSDF:Al,symbolTextAndIcon:xv,background:nh,backgroundPattern:sl},$o;function as(de,X,ge,ne,ye,ze,Ze){for(var lt=de.context,wt=lt.gl,Ut=de.useProgram("collisionBox"),Jt=[],fr=0,xr=0,zr=0;zr<ne.length;zr++){var Wr=ne[zr],Yr=X.getTile(Wr),Vr=Yr.getBucket(ge);if(Vr){var qr=Wr.posMatrix;(ye[0]!==0||ye[1]!==0)&&(qr=de.translatePosMatrix(Wr.posMatrix,Yr,ye,ze));var cn=Ze?Vr.textCollisionBox:Vr.iconCollisionBox,Dn=Vr.collisionCircleArray;if(Dn.length>0){var On=a.create(),$n=qr;a.mul(On,Vr.placementInvProjMatrix,de.transform.glCoordMatrix),a.mul(On,On,Vr.placementViewportMatrix),Jt.push({circleArray:Dn,circleOffset:xr,transform:$n,invTransform:On}),fr+=Dn.length/4,xr=fr}cn&&Ut.draw(lt,wt.LINES,Sr.disabled,$t.disabled,de.colorModeForRenderPass(),Dt.disabled,yv(qr,de.transform,Yr),ge.id,cn.layoutVertexBuffer,cn.indexBuffer,cn.segments,null,de.transform.zoom,null,null,cn.collisionVertexBuffer)}}if(!(!Ze||!Jt.length)){var Jn=de.useProgram("collisionCircle"),Kn=new a.StructArrayLayout2f1f2i16;Kn.resize(fr*4),Kn._trim();for(var oa=0,va=0,ha=Jt;va<ha.length;va+=1)for(var ma=ha[va],Ma=0;Ma<ma.circleArray.length/4;Ma++){var _a=Ma*4,Ya=ma.circleArray[_a+0],hi=ma.circleArray[_a+1],$a=ma.circleArray[_a+2],ti=ma.circleArray[_a+3];Kn.emplace(oa++,Ya,hi,$a,ti,0),Kn.emplace(oa++,Ya,hi,$a,ti,1),Kn.emplace(oa++,Ya,hi,$a,ti,2),Kn.emplace(oa++,Ya,hi,$a,ti,3)}(!$o||$o.length<fr*2)&&($o=Xl(fr));for(var Ia=lt.createIndexBuffer($o,!0),vi=lt.createVertexBuffer(Kn,a.collisionCircleLayout.members,!0),yi=0,Ti=Jt;yi<Ti.length;yi+=1){var ri=Ti[yi],Fi=Sf(ri.transform,ri.invTransform,de.transform);Jn.draw(lt,wt.TRIANGLES,Sr.disabled,$t.disabled,de.colorModeForRenderPass(),Dt.disabled,Fi,ge.id,vi,Ia,a.SegmentVector.simpleSegment(0,ri.circleOffset*2,ri.circleArray.length,ri.circleArray.length/2),null,de.transform.zoom,null,null,null)}vi.destroy(),Ia.destroy()}}function Xl(de){var X=de*2,ge=new a.StructArrayLayout3ui6;ge.resize(X),ge._trim();for(var ne=0;ne<X;ne++){var ye=ne*6;ge.uint16[ye+0]=ne*4+0,ge.uint16[ye+1]=ne*4+1,ge.uint16[ye+2]=ne*4+2,ge.uint16[ye+3]=ne*4+2,ge.uint16[ye+4]=ne*4+3,ge.uint16[ye+5]=ne*4+0}return ge}var ah=a.identity(new Float32Array(16));function wu(de,X,ge,ne,ye){if(de.renderPass==="translucent"){var ze=$t.disabled,Ze=de.colorModeForRenderPass(),lt=ge.layout.get("text-variable-anchor");lt&&ih(ne,de,ge,X,ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ye),ge.paint.get("icon-opacity").constantOr(1)!==0&&Ml(de,X,ge,ne,!1,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),ge.layout.get("icon-rotation-alignment"),ge.layout.get("icon-pitch-alignment"),ge.layout.get("icon-keep-upright"),ze,Ze),ge.paint.get("text-opacity").constantOr(1)!==0&&Ml(de,X,ge,ne,!0,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ge.layout.get("text-keep-upright"),ze,Ze),X.map.showCollisionBoxes&&(as(de,X,ge,ne,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),!0),as(de,X,ge,ne,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),!1))}}function Rf(de,X,ge,ne,ye,ze){var Ze=a.getAnchorAlignment(de),lt=Ze.horizontalAlign,wt=Ze.verticalAlign,Ut=-(lt-.5)*X,Jt=-(wt-.5)*ge,fr=a.evaluateVariableOffset(de,ne);return new a.Point((Ut/ye+fr[0])*ze,(Jt/ye+fr[1])*ze)}function ih(de,X,ge,ne,ye,ze,Ze){for(var lt=X.transform,wt=ye==="map",Ut=ze==="map",Jt=0,fr=de;Jt<fr.length;Jt+=1){var xr=fr[Jt],zr=ne.getTile(xr),Wr=zr.getBucket(ge);if(!(!Wr||!Wr.text||!Wr.text.segments.get().length)){var Yr=Wr.textSizeData,Vr=a.evaluateSizeForZoom(Yr,lt.zoom),qr=mn(zr,1,X.transform.zoom),cn=Cr(xr.posMatrix,Ut,wt,X.transform,qr),Dn=ge.layout.get("icon-text-fit")!=="none"&&Wr.hasIconData();if(Vr){var On=Math.pow(2,lt.zoom-zr.tileID.overscaledZ);As(Wr,wt,Ut,Ze,a.symbolSize,lt,cn,xr.posMatrix,On,Vr,Dn)}}}}function As(de,X,ge,ne,ye,ze,Ze,lt,wt,Ut,Jt){var fr=de.text.placedSymbolArray,xr=de.text.dynamicLayoutVertexArray,zr=de.icon.dynamicLayoutVertexArray,Wr={};xr.clear();for(var Yr=0;Yr<fr.length;Yr++){var Vr=fr.get(Yr),qr=de.allowVerticalPlacement&&!Vr.placedOrientation,cn=!Vr.hidden&&Vr.crossTileID&&!qr?ne[Vr.crossTileID]:null;if(!cn)Qn(Vr.numGlyphs,xr);else{var Dn=new a.Point(Vr.anchorX,Vr.anchorY),On=Hr(Dn,ge?lt:Ze),$n=on(ze.cameraToCenterDistance,On.signedDistanceFromCamera),Jn=ye.evaluateSizeForFeature(de.textSizeData,Ut,Vr)*$n/a.ONE_EM;ge&&(Jn*=de.tilePixelRatio/wt);for(var Kn=cn.width,oa=cn.height,va=cn.anchor,ha=cn.textOffset,ma=cn.textBoxScale,Ma=Rf(va,Kn,oa,ha,ma,Jn),_a=ge?Hr(Dn.add(Ma),Ze).point:On.point.add(X?Ma.rotate(-ze.angle):Ma),Ya=de.allowVerticalPlacement&&Vr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,hi=0;hi<Vr.numGlyphs;hi++)a.addDynamicAttributes(xr,_a,Ya);Jt&&Vr.associatedIconIndex>=0&&(Wr[Vr.associatedIconIndex]={shiftedAnchor:_a,angle:Ya})}}if(Jt){zr.clear();for(var $a=de.icon.placedSymbolArray,ti=0;ti<$a.length;ti++){var Ia=$a.get(ti);if(Ia.hidden)Qn(Ia.numGlyphs,zr);else{var vi=Wr[ti];if(!vi)Qn(Ia.numGlyphs,zr);else for(var yi=0;yi<Ia.numGlyphs;yi++)a.addDynamicAttributes(zr,vi.shiftedAnchor,vi.angle)}}de.icon.dynamicLayoutVertexBuffer.updateData(zr)}de.text.dynamicLayoutVertexBuffer.updateData(xr)}function wc(de,X,ge){return ge.iconsInText&&X?"symbolTextAndIcon":de?"symbolSDF":"symbolIcon"}function Ml(de,X,ge,ne,ye,ze,Ze,lt,wt,Ut,Jt,fr){for(var xr=de.context,zr=xr.gl,Wr=de.transform,Yr=lt==="map",Vr=wt==="map",qr=Yr&&ge.layout.get("symbol-placement")!=="point",cn=Yr&&!Vr&&!qr,Dn=ge.layout.get("symbol-sort-key").constantOr(1)!==void 0,On=de.depthModeForSublayer(0,Sr.ReadOnly),$n=ge.layout.get("text-variable-anchor"),Jn=[],Kn=0,oa=ne;Kn<oa.length;Kn+=1){var va=oa[Kn],ha=X.getTile(va),ma=ha.getBucket(ge);if(ma){var Ma=ye?ma.text:ma.icon;if(!(!Ma||!Ma.segments.get().length)){var _a=Ma.programConfigurations.get(ge.id),Ya=ye||ma.sdfIcons,hi=ye?ma.textSizeData:ma.iconSizeData,$a=Vr||Wr.pitch!==0,ti=de.useProgram(wc(Ya,ye,ma),_a),Ia=a.evaluateSizeForZoom(hi,Wr.zoom),vi=void 0,yi=[0,0],Ti=void 0,ri=void 0,Fi=null,Za=void 0;if(ye){if(Ti=ha.glyphAtlasTexture,ri=zr.LINEAR,vi=ha.glyphAtlasTexture.size,ma.iconsInText){yi=ha.imageAtlasTexture.size,Fi=ha.imageAtlasTexture;var ai=hi.kind==="composite"||hi.kind==="camera";Za=$a||de.options.rotating||de.options.zooming||ai?zr.LINEAR:zr.NEAREST}}else{var ro=ge.layout.get("icon-size").constantOr(0)!==1||ma.iconsNeedLinear;Ti=ha.imageAtlasTexture,ri=Ya||de.options.rotating||de.options.zooming||ro||$a?zr.LINEAR:zr.NEAREST,vi=ha.imageAtlasTexture.size}var To=mn(ha,1,de.transform.zoom),Cl=Cr(va.posMatrix,Vr,Yr,de.transform,To),Ll=jr(va.posMatrix,Vr,Yr,de.transform,To),Tu=$n&&ma.hasTextData(),Au=ge.layout.get("icon-text-fit")!=="none"&&Tu&&ma.hasIconData();qr&&xn(ma,va.posMatrix,de,ye,Cl,Ll,Vr,Ut);var of=de.translatePosMatrix(va.posMatrix,ha,ze,Ze),Su=qr||ye&&$n||Au?ah:Cl,Ms=de.translatePosMatrix(Ll,ha,ze,Ze,!0),Nf=Ya&&ge.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1)!==0,os=void 0;Ya?ma.iconsInText?os=bc(hi.kind,Ia,cn,Vr,de,of,Su,Ms,vi,yi):os=bu(hi.kind,Ia,cn,Vr,de,of,Su,Ms,ye,vi,!0):os=xc(hi.kind,Ia,cn,Vr,de,of,Su,Ms,ye,vi);var ul={program:ti,buffers:Ma,uniformValues:os,atlasTexture:Ti,atlasTextureIcon:Fi,atlasInterpolation:ri,atlasInterpolationIcon:Za,isSDF:Ya,hasHalo:Nf};if(Dn)for(var Mu=Ma.segments.get(),Jl=0,Eu=Mu;Jl<Eu.length;Jl+=1){var ld=Eu[Jl];Jn.push({segments:new a.SegmentVector([ld]),sortKey:ld.sortKey,state:ul})}else Jn.push({segments:Ma.segments,sortKey:0,state:ul})}}}Dn&&Jn.sort(function(ud,fd){return ud.sortKey-fd.sortKey});for(var Ec=0,Ko=Jn;Ec<Ko.length;Ec+=1){var Mv=Ko[Ec],vs=Mv.state;if(xr.activeTexture.set(zr.TEXTURE0),vs.atlasTexture.bind(vs.atlasInterpolation,zr.CLAMP_TO_EDGE),vs.atlasTextureIcon&&(xr.activeTexture.set(zr.TEXTURE1),vs.atlasTextureIcon&&vs.atlasTextureIcon.bind(vs.atlasInterpolationIcon,zr.CLAMP_TO_EDGE)),vs.isSDF){var Ev=vs.uniformValues;vs.hasHalo&&(Ev.u_is_halo=1,Qu(vs.buffers,Mv.segments,ge,de,vs.program,On,Jt,fr,Ev)),Ev.u_is_halo=0}Qu(vs.buffers,Mv.segments,ge,de,vs.program,On,Jt,fr,vs.uniformValues)}}function Qu(de,X,ge,ne,ye,ze,Ze,lt,wt){var Ut=ne.context,Jt=Ut.gl;ye.draw(Ut,Jt.TRIANGLES,ze,Ze,lt,Dt.disabled,wt,ge.id,de.layoutVertexBuffer,de.indexBuffer,X,ge.paint,ne.transform.zoom,de.programConfigurations.get(ge.id),de.dynamicLayoutVertexBuffer,de.opacityVertexBuffer)}function ll(de,X,ge,ne){if(de.renderPass==="translucent"){var ye=ge.paint.get("circle-opacity"),ze=ge.paint.get("circle-stroke-width"),Ze=ge.paint.get("circle-stroke-opacity"),lt=ge.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ye.constantOr(1)===0&&(ze.constantOr(1)===0||Ze.constantOr(1)===0))){for(var wt=de.context,Ut=wt.gl,Jt=de.depthModeForSublayer(0,Sr.ReadOnly),fr=$t.disabled,xr=de.colorModeForRenderPass(),zr=[],Wr=0;Wr<ne.length;Wr++){var Yr=ne[Wr],Vr=X.getTile(Yr),qr=Vr.getBucket(ge);if(qr){var cn=qr.programConfigurations.get(ge.id),Dn=de.useProgram("circle",cn),On=qr.layoutVertexBuffer,$n=qr.indexBuffer,Jn=dv(de,Yr,Vr,ge),Kn={programConfiguration:cn,program:Dn,layoutVertexBuffer:On,indexBuffer:$n,uniformValues:Jn};if(lt)for(var oa=qr.segments.get(),va=0,ha=oa;va<ha.length;va+=1){var ma=ha[va];zr.push({segments:new a.SegmentVector([ma]),sortKey:ma.sortKey,state:Kn})}else zr.push({segments:qr.segments,sortKey:0,state:Kn})}}lt&&zr.sort(function(ri,Fi){return ri.sortKey-Fi.sortKey});for(var Ma=0,_a=zr;Ma<_a.length;Ma+=1){var Ya=_a[Ma],hi=Ya.state,$a=hi.programConfiguration,ti=hi.program,Ia=hi.layoutVertexBuffer,vi=hi.indexBuffer,yi=hi.uniformValues,Ti=Ya.segments;ti.draw(wt,Ut.TRIANGLES,Jt,fr,xr,Dt.disabled,yi,ge.id,Ia,vi,Ti,ge.paint,de.transform.zoom,$a)}}}}function bv(de,X,ge,ne){if(ge.paint.get("heatmap-opacity")!==0)if(de.renderPass==="offscreen"){var ye=de.context,ze=ye.gl,Ze=$t.disabled,lt=new st([ze.ONE,ze.ONE],a.Color.transparent,[!0,!0,!0,!0]);Tc(ye,de,ge),ye.clear({color:a.Color.transparent});for(var wt=0;wt<ne.length;wt++){var Ut=ne[wt];if(!X.hasRenderableParent(Ut)){var Jt=X.getTile(Ut),fr=Jt.getBucket(ge);if(fr){var xr=fr.programConfigurations.get(ge.id),zr=de.useProgram("heatmap",xr),Wr=de.transform,Yr=Wr.zoom;zr.draw(ye,ze.TRIANGLES,Sr.disabled,Ze,lt,Dt.disabled,Ju(Ut.posMatrix,Jt,Yr,ge.paint.get("heatmap-intensity")),ge.id,fr.layoutVertexBuffer,fr.indexBuffer,fr.segments,ge.paint,de.transform.zoom,xr)}}}ye.viewport.set([0,0,de.width,de.height])}else de.renderPass==="translucent"&&(de.context.setColorMode(de.colorModeForRenderPass()),Io(de,ge))}function Tc(de,X,ge){var ne=de.gl;de.activeTexture.set(ne.TEXTURE1),de.viewport.set([0,0,X.width/4,X.height/4]);var ye=ge.heatmapFbo;if(ye)ne.bindTexture(ne.TEXTURE_2D,ye.colorAttachment.get()),de.bindFramebuffer.set(ye.framebuffer);else{var ze=ne.createTexture();ne.bindTexture(ne.TEXTURE_2D,ze),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_S,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_T,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MIN_FILTER,ne.LINEAR),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MAG_FILTER,ne.LINEAR),ye=ge.heatmapFbo=de.createFramebuffer(X.width/4,X.height/4,!1),Df(de,X,ze,ye)}}function Df(de,X,ge,ne){var ye=de.gl,ze=de.extRenderToTextureHalfFloat?de.extTextureHalfFloat.HALF_FLOAT_OES:ye.UNSIGNED_BYTE;ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,X.width/4,X.height/4,0,ye.RGBA,ze,null),ne.colorAttachment.set(ge)}function Io(de,X){var ge=de.context,ne=ge.gl,ye=X.heatmapFbo;if(ye){ge.activeTexture.set(ne.TEXTURE0),ne.bindTexture(ne.TEXTURE_2D,ye.colorAttachment.get()),ge.activeTexture.set(ne.TEXTURE1);var ze=X.colorRampTexture;ze||(ze=X.colorRampTexture=new a.Texture(ge,X.colorRamp,ne.RGBA)),ze.bind(ne.LINEAR,ne.CLAMP_TO_EDGE),de.useProgram("heatmapTexture").draw(ge,ne.TRIANGLES,Sr.disabled,$t.disabled,de.colorModeForRenderPass(),Dt.disabled,Mf(de,X,0,1),X.id,de.viewportBuffer,de.quadTriangleIndexBuffer,de.viewportSegments,X.paint,de.transform.zoom)}}function oh(de,X,ge,ne){if(de.renderPass==="translucent"){var ye=ge.paint.get("line-opacity"),ze=ge.paint.get("line-width");if(!(ye.constantOr(1)===0||ze.constantOr(1)===0)){var Ze=de.depthModeForSublayer(0,Sr.ReadOnly),lt=de.colorModeForRenderPass(),wt=ge.paint.get("line-dasharray"),Ut=ge.paint.get("line-pattern"),Jt=Ut.constantOr(1),fr=ge.paint.get("line-gradient"),xr=ge.getCrossfadeParameters(),zr=Jt?"linePattern":wt?"lineSDF":fr?"lineGradient":"line",Wr=de.context,Yr=Wr.gl,Vr=!0;if(fr){Wr.activeTexture.set(Yr.TEXTURE0);var qr=ge.gradientTexture;if(!ge.gradient)return;qr||(qr=ge.gradientTexture=new a.Texture(Wr,ge.gradient,Yr.RGBA)),qr.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE)}for(var cn=0,Dn=ne;cn<Dn.length;cn+=1){var On=Dn[cn],$n=X.getTile(On);if(!(Jt&&!$n.patternsLoaded())){var Jn=$n.getBucket(ge);if(Jn){var Kn=Jn.programConfigurations.get(ge.id),oa=de.context.program.get(),va=de.useProgram(zr,Kn),ha=Vr||va.program!==oa,ma=Ut.constantOr(null);if(ma&&$n.imageAtlas){var Ma=$n.imageAtlas,_a=Ma.patternPositions[ma.to.toString()],Ya=Ma.patternPositions[ma.from.toString()];_a&&Ya&&Kn.setConstantPatternPositions(_a,Ya)}var hi=Jt?Ts(de,$n,ge,xr):wt?Cf(de,$n,ge,wt,xr):fr?Ef(de,$n,ge):Wl(de,$n,ge);Jt?(Wr.activeTexture.set(Yr.TEXTURE0),$n.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),Kn.updatePaintBuffers(xr)):wt&&(ha||de.lineAtlas.dirty)&&(Wr.activeTexture.set(Yr.TEXTURE0),de.lineAtlas.bind(Wr)),va.draw(Wr,Yr.TRIANGLES,Ze,de.stencilModeForClipping(On),lt,Dt.disabled,hi,ge.id,Jn.layoutVertexBuffer,Jn.indexBuffer,Jn.segments,ge.paint,de.transform.zoom,Kn),Vr=!1}}}}}}function qu(de,X,ge,ne){var ye=ge.paint.get("fill-color"),ze=ge.paint.get("fill-opacity");if(ze.constantOr(1)!==0){var Ze=de.colorModeForRenderPass(),lt=ge.paint.get("fill-pattern"),wt=de.opaquePassEnabledForLayer()&&!lt.constantOr(1)&&ye.constantOr(a.Color.transparent).a===1&&ze.constantOr(0)===1?"opaque":"translucent";if(de.renderPass===wt){var Ut=de.depthModeForSublayer(1,de.renderPass==="opaque"?Sr.ReadWrite:Sr.ReadOnly);Us(de,X,ge,ne,Ut,Ze,!1)}if(de.renderPass==="translucent"&&ge.paint.get("fill-antialias")){var Jt=de.depthModeForSublayer(ge.getPaintProperty("fill-outline-color")?2:0,Sr.ReadOnly);Us(de,X,ge,ne,Jt,Ze,!0)}}}function Us(de,X,ge,ne,ye,ze,Ze){var lt=de.context.gl,wt=ge.paint.get("fill-pattern"),Ut=wt&&wt.constantOr(1),Jt=ge.getCrossfadeParameters(),fr,xr,zr,Wr,Yr;Ze?(xr=Ut&&!ge.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fr=lt.LINES):(xr=Ut?"fillPattern":"fill",fr=lt.TRIANGLES);for(var Vr=0,qr=ne;Vr<qr.length;Vr+=1){var cn=qr[Vr],Dn=X.getTile(cn);if(!(Ut&&!Dn.patternsLoaded())){var On=Dn.getBucket(ge);if(On){var $n=On.programConfigurations.get(ge.id),Jn=de.useProgram(xr,$n);Ut&&(de.context.activeTexture.set(lt.TEXTURE0),Dn.imageAtlasTexture.bind(lt.LINEAR,lt.CLAMP_TO_EDGE),$n.updatePaintBuffers(Jt));var Kn=wt.constantOr(null);if(Kn&&Dn.imageAtlas){var oa=Dn.imageAtlas,va=oa.patternPositions[Kn.to.toString()],ha=oa.patternPositions[Kn.from.toString()];va&&ha&&$n.setConstantPatternPositions(va,ha)}var ma=de.translatePosMatrix(cn.posMatrix,Dn,ge.paint.get("fill-translate"),ge.paint.get("fill-translate-anchor"));if(!Ze)Wr=On.indexBuffer,Yr=On.segments,zr=Ut?Bs(ma,de,Jt,Dn):ws(ma);else{Wr=On.indexBuffer2,Yr=On.segments2;var Ma=[lt.drawingBufferWidth,lt.drawingBufferHeight];zr=xr==="fillOutlinePattern"&&Ut?$u(ma,de,Jt,Dn,Ma):Xu(ma,Ma)}Jn.draw(de.context,fr,ye,de.stencilModeForClipping(cn),ze,Dt.disabled,zr,ge.id,On.layoutVertexBuffer,Wr,Yr,ge.paint,de.transform.zoom,$n)}}}}function ef(de,X,ge,ne){var ye=ge.paint.get("fill-extrusion-opacity");if(ye!==0&&de.renderPass==="translucent"){var ze=new Sr(de.context.gl.LEQUAL,Sr.ReadWrite,de.depthRangeFor3D);if(ye===1&&!ge.paint.get("fill-extrusion-pattern").constantOr(1)){var Ze=de.colorModeForRenderPass();El(de,X,ge,ne,ze,$t.disabled,Ze)}else El(de,X,ge,ne,ze,$t.disabled,st.disabled),El(de,X,ge,ne,ze,de.stencilModeFor3D(),de.colorModeForRenderPass())}}function El(de,X,ge,ne,ye,ze,Ze){for(var lt=de.context,wt=lt.gl,Ut=ge.paint.get("fill-extrusion-pattern"),Jt=Ut.constantOr(1),fr=ge.getCrossfadeParameters(),xr=ge.paint.get("fill-extrusion-opacity"),zr=0,Wr=ne;zr<Wr.length;zr+=1){var Yr=Wr[zr],Vr=X.getTile(Yr),qr=Vr.getBucket(ge);if(qr){var cn=qr.programConfigurations.get(ge.id),Dn=de.useProgram(Jt?"fillExtrusionPattern":"fillExtrusion",cn);Jt&&(de.context.activeTexture.set(wt.TEXTURE0),Vr.imageAtlasTexture.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),cn.updatePaintBuffers(fr));var On=Ut.constantOr(null);if(On&&Vr.imageAtlas){var $n=Vr.imageAtlas,Jn=$n.patternPositions[On.to.toString()],Kn=$n.patternPositions[On.from.toString()];Jn&&Kn&&cn.setConstantPatternPositions(Jn,Kn)}var oa=de.translatePosMatrix(Yr.posMatrix,Vr,ge.paint.get("fill-extrusion-translate"),ge.paint.get("fill-extrusion-translate-anchor")),va=ge.paint.get("fill-extrusion-vertical-gradient"),ha=Jt?nl(oa,de,va,xr,Yr,fr,Vr):Zo(oa,de,va,xr);Dn.draw(lt,lt.gl.TRIANGLES,ye,ze,Ze,Dt.backCCW,ha,ge.id,qr.layoutVertexBuffer,qr.indexBuffer,qr.segments,ge.paint,de.transform.zoom,cn)}}}function If(de,X,ge,ne){if(!(de.renderPass!=="offscreen"&&de.renderPass!=="translucent")){for(var ye=de.context,ze=X.getSource().maxzoom,Ze=de.depthModeForSublayer(0,Sr.ReadOnly),lt=de.colorModeForRenderPass(),wt=de.renderPass==="translucent"?de.stencilConfigForOverlap(ne):[{},ne],Ut=wt[0],Jt=wt[1],fr=0,xr=Jt;fr<xr.length;fr+=1){var zr=xr[fr],Wr=X.getTile(zr);Wr.needsHillshadePrepare&&de.renderPass==="offscreen"?Ac(de,Wr,ge,ze,Ze,$t.disabled,lt):de.renderPass==="translucent"&&sh(de,Wr,ge,Ze,Ut[zr.overscaledZ],lt)}ye.viewport.set([0,0,de.width,de.height])}}function sh(de,X,ge,ne,ye,ze){var Ze=de.context,lt=Ze.gl,wt=X.fbo;if(wt){var Ut=de.useProgram("hillshade");Ze.activeTexture.set(lt.TEXTURE0),lt.bindTexture(lt.TEXTURE_2D,wt.colorAttachment.get());var Jt=th(de,X,ge);Ut.draw(Ze,lt.TRIANGLES,ne,ye,ze,Dt.disabled,Jt,ge.id,de.rasterBoundsBuffer,de.quadTriangleIndexBuffer,de.rasterBoundsSegments)}}function Ac(de,X,ge,ne,ye,ze,Ze){var lt=de.context,wt=lt.gl,Ut=X.dem;if(Ut&&Ut.data){var Jt=Ut.dim,fr=Ut.stride,xr=Ut.getPixels();if(lt.activeTexture.set(wt.TEXTURE1),lt.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||de.getTileTexture(fr),X.demTexture){var zr=X.demTexture;zr.update(xr,{premultiply:!1}),zr.bind(wt.NEAREST,wt.CLAMP_TO_EDGE)}else X.demTexture=new a.Texture(lt,xr,wt.RGBA,{premultiply:!1}),X.demTexture.bind(wt.NEAREST,wt.CLAMP_TO_EDGE);lt.activeTexture.set(wt.TEXTURE0);var Wr=X.fbo;if(!Wr){var Yr=new a.Texture(lt,{width:Jt,height:Jt,data:null},wt.RGBA);Yr.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),Wr=X.fbo=lt.createFramebuffer(Jt,Jt,!0),Wr.colorAttachment.set(Yr.texture)}lt.bindFramebuffer.set(Wr.framebuffer),lt.viewport.set([0,0,Jt,Jt]),de.useProgram("hillshadePrepare").draw(lt,wt.TRIANGLES,ye,ze,Ze,Dt.disabled,gc(X.tileID,Ut,ne),ge.id,de.rasterBoundsBuffer,de.quadTriangleIndexBuffer,de.rasterBoundsSegments),X.needsHillshadePrepare=!1}}function Sc(de,X,ge,ne){if(de.renderPass==="translucent"&&ge.paint.get("raster-opacity")!==0&&ne.length)for(var ye=de.context,ze=ye.gl,Ze=X.getSource(),lt=de.useProgram("raster"),wt=de.colorModeForRenderPass(),Ut=Ze instanceof J?[{},ne]:de.stencilConfigForOverlap(ne),Jt=Ut[0],fr=Ut[1],xr=fr[fr.length-1].overscaledZ,zr=!de.options.moving,Wr=0,Yr=fr;Wr<Yr.length;Wr+=1){var Vr=Yr[Wr],qr=de.depthModeForSublayer(Vr.overscaledZ-xr,ge.paint.get("raster-opacity")===1?Sr.ReadWrite:Sr.ReadOnly,ze.LESS),cn=X.getTile(Vr),Dn=de.transform.calculatePosMatrix(Vr.toUnwrapped(),zr);cn.registerFadeDuration(ge.paint.get("raster-fade-duration"));var On=X.findLoadedParent(Vr,0),$n=$l(cn,On,X,ge,de.transform),Jn=void 0,Kn=void 0,oa=ge.paint.get("raster-resampling")==="nearest"?ze.NEAREST:ze.LINEAR;ye.activeTexture.set(ze.TEXTURE0),cn.texture.bind(oa,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(ze.TEXTURE1),On?(On.texture.bind(oa,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),Jn=Math.pow(2,On.tileID.overscaledZ-cn.tileID.overscaledZ),Kn=[cn.tileID.canonical.x*Jn%1,cn.tileID.canonical.y*Jn%1]):cn.texture.bind(oa,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);var va=xu(Dn,Kn||[0,0],Jn||1,$n,ge);Ze instanceof J?lt.draw(ye,ze.TRIANGLES,qr,$t.disabled,wt,Dt.disabled,va,ge.id,Ze.boundsBuffer,de.quadTriangleIndexBuffer,Ze.boundsSegments):lt.draw(ye,ze.TRIANGLES,qr,Jt[Vr.overscaledZ],wt,Dt.disabled,va,ge.id,de.rasterBoundsBuffer,de.quadTriangleIndexBuffer,de.rasterBoundsSegments)}}function $l(de,X,ge,ne,ye){var ze=ne.paint.get("raster-fade-duration");if(ze>0){var Ze=a.browser.now(),lt=(Ze-de.timeAdded)/ze,wt=X?(Ze-X.timeAdded)/ze:-1,Ut=ge.getSource(),Jt=ye.coveringZoomLevel({tileSize:Ut.tileSize,roundZoom:Ut.roundZoom}),fr=!X||Math.abs(X.tileID.overscaledZ-Jt)>Math.abs(de.tileID.overscaledZ-Jt),xr=fr&&de.refreshedUponExpiration?1:a.clamp(fr?lt:1-wt,0,1);return de.refreshedUponExpiration&&lt>=1&&(de.refreshedUponExpiration=!1),X?{opacity:1,mix:1-xr}:{opacity:xr,mix:0}}else return{opacity:1,mix:0}}function kf(de,X,ge){var ne=ge.paint.get("background-color"),ye=ge.paint.get("background-opacity");if(ye!==0){var ze=de.context,Ze=ze.gl,lt=de.transform,wt=lt.tileSize,Ut=ge.paint.get("background-pattern");if(!de.isPatternMissing(Ut)){var Jt=!Ut&&ne.a===1&&ye===1&&de.opaquePassEnabledForLayer()?"opaque":"translucent";if(de.renderPass===Jt){var fr=$t.disabled,xr=de.depthModeForSublayer(0,Jt==="opaque"?Sr.ReadWrite:Sr.ReadOnly),zr=de.colorModeForRenderPass(),Wr=de.useProgram(Ut?"backgroundPattern":"background"),Yr=lt.coveringTiles({tileSize:wt});Ut&&(ze.activeTexture.set(Ze.TEXTURE0),de.imageManager.bind(de.context));for(var Vr=ge.getCrossfadeParameters(),qr=0,cn=Yr;qr<cn.length;qr+=1){var Dn=cn[qr],On=de.transform.calculatePosMatrix(Dn.toUnwrapped()),$n=Ut?Yl(On,ye,de,Ut,{tileID:Dn,tileSize:wt},Vr):Sl(On,ye,ne);Wr.draw(ze,Ze.TRIANGLES,xr,fr,zr,Dt.disabled,$n,ge.id,de.tileExtentBuffer,de.quadTriangleIndexBuffer,de.tileExtentSegments)}}}}}var tf=new a.Color(1,0,0,1),lh=new a.Color(0,1,0,1),rf=new a.Color(0,0,1,1),uh=new a.Color(1,0,1,1),Xe=new a.Color(0,1,1,1);function it(de){var X=de.transform.padding,ge=3;mt(de,de.transform.height-(X.top||0),ge,tf),mt(de,X.bottom||0,ge,lh),Ft(de,X.left||0,ge,rf),Ft(de,de.transform.width-(X.right||0),ge,uh);var ne=de.transform.centerPoint;ht(de,ne.x,de.transform.height-ne.y,Xe)}function ht(de,X,ge,ne){var ye=20,ze=2;Lt(de,X-ze/2,ge-ye/2,ze,ye,ne),Lt(de,X-ye/2,ge-ze/2,ye,ze,ne)}function mt(de,X,ge,ne){Lt(de,0,X+ge/2,de.transform.width,ge,ne)}function Ft(de,X,ge,ne){Lt(de,X-ge/2,0,ge,de.transform.height,ne)}function Lt(de,X,ge,ne,ye,ze){var Ze=de.context,lt=Ze.gl;lt.enable(lt.SCISSOR_TEST),lt.scissor(X*a.browser.devicePixelRatio,ge*a.browser.devicePixelRatio,ne*a.browser.devicePixelRatio,ye*a.browser.devicePixelRatio),Ze.clear({color:ze}),lt.disable(lt.SCISSOR_TEST)}function Ot(de,X,ge){for(var ne=0;ne<ge.length;ne++)cr(de,X,ge[ne])}function cr(de,X,ge){var ne=de.context,ye=ne.gl,ze=ge.posMatrix,Ze=de.useProgram("debug"),lt=Sr.disabled,wt=$t.disabled,Ut=de.colorModeForRenderPass(),Jt="$debug";ne.activeTexture.set(ye.TEXTURE0),de.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Ze.draw(ne,ye.LINE_STRIP,lt,wt,Ut,Dt.disabled,mu(ze,a.Color.red),Jt,de.debugBuffer,de.tileBorderIndexBuffer,de.debugSegments);var fr=X.getTileByID(ge.key).latestRawTileData,xr=fr&&fr.byteLength||0,zr=Math.floor(xr/1024),Wr=X.getTile(ge).tileSize,Yr=512/Math.min(Wr,512)*(ge.overscaledZ/de.transform.zoom)*.5,Vr=ge.canonical.toString();ge.overscaledZ!==ge.canonical.z&&(Vr+=" => "+ge.overscaledZ);var qr=Vr+" "+zr+"kb";yr(de,qr),Ze.draw(ne,ye.TRIANGLES,lt,wt,st.alphaBlended,Dt.disabled,mu(ze,a.Color.transparent,Yr),Jt,de.debugBuffer,de.quadTriangleIndexBuffer,de.debugSegments)}function yr(de,X){de.initDebugOverlayCanvas();var ge=de.debugOverlayCanvas,ne=de.context.gl,ye=de.debugOverlayCanvas.getContext("2d");ye.clearRect(0,0,ge.width,ge.height),ye.shadowColor="white",ye.shadowBlur=2,ye.lineWidth=1.5,ye.strokeStyle="white",ye.textBaseline="top",ye.font="bold 36px Open Sans, sans-serif",ye.fillText(X,5,5),ye.strokeText(X,5,5),de.debugOverlayTexture.update(ge),de.debugOverlayTexture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE)}function ar(de,X,ge){var ne=de.context,ye=ge.implementation;if(de.renderPass==="offscreen"){var ze=ye.prerender;ze&&(de.setCustomLayerDefaults(),ne.setColorMode(de.colorModeForRenderPass()),ze.call(ye,ne.gl,de.transform.customLayerMatrix()),ne.setDirty(),de.setBaseState())}else if(de.renderPass==="translucent"){de.setCustomLayerDefaults(),ne.setColorMode(de.colorModeForRenderPass()),ne.setStencilMode($t.disabled);var Ze=ye.renderingMode==="3d"?new Sr(de.context.gl.LEQUAL,Sr.ReadWrite,de.depthRangeFor3D):de.depthModeForSublayer(0,Sr.ReadOnly);ne.setDepthMode(Ze),ye.render(ne.gl,de.transform.customLayerMatrix()),ne.setDirty(),de.setBaseState(),ne.bindFramebuffer.set(null)}}var Ar={symbol:wu,circle:ll,heatmap:bv,line:oh,fill:qu,"fill-extrusion":ef,hillshade:If,raster:Sc,background:kf,debug:Ot,custom:ar},Dr=function(X,ge){this.context=new Rt(X),this.transform=ge,this._tileTextures={},this.setup(),this.numSublayers=Bt.maxUnderzooming+Bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ua,this.gpuTimers={}};Dr.prototype.resize=function(X,ge){if(this.width=X*a.browser.devicePixelRatio,this.height=ge*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ne=0,ye=this.style._order;ne<ye.length;ne+=1){var ze=ye[ne];this.style._layers[ze].resize()}},Dr.prototype.setup=function(){var X=this.context,ge=new a.StructArrayLayout2i4;ge.emplaceBack(0,0),ge.emplaceBack(a.EXTENT,0),ge.emplaceBack(0,a.EXTENT),ge.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=X.createVertexBuffer(ge,jo.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ne=new a.StructArrayLayout2i4;ne.emplaceBack(0,0),ne.emplaceBack(a.EXTENT,0),ne.emplaceBack(0,a.EXTENT),ne.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=X.createVertexBuffer(ne,jo.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var ye=new a.StructArrayLayout4i8;ye.emplaceBack(0,0,0,0),ye.emplaceBack(a.EXTENT,0,a.EXTENT,0),ye.emplaceBack(0,a.EXTENT,0,a.EXTENT),ye.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=X.createVertexBuffer(ye,Y.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ze=new a.StructArrayLayout2i4;ze.emplaceBack(0,0),ze.emplaceBack(1,0),ze.emplaceBack(0,1),ze.emplaceBack(1,1),this.viewportBuffer=X.createVertexBuffer(ze,jo.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Ze=new a.StructArrayLayout1ui2;Ze.emplaceBack(0),Ze.emplaceBack(1),Ze.emplaceBack(3),Ze.emplaceBack(2),Ze.emplaceBack(0),this.tileBorderIndexBuffer=X.createIndexBuffer(Ze);var lt=new a.StructArrayLayout3ui6;lt.emplaceBack(0,1,2),lt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=X.createIndexBuffer(lt),this.emptyTexture=new a.Texture(X,{width:1,height:1,data:new Uint8Array([0,0,0,0])},X.gl.RGBA);var wt=this.context.gl;this.stencilClearMode=new $t({func:wt.ALWAYS,mask:0},0,255,wt.ZERO,wt.ZERO,wt.ZERO)},Dr.prototype.clearStencil=function(){var X=this.context,ge=X.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ne=a.create();a.ortho(ne,0,this.width,this.height,0,0,1),a.scale(ne,ne,[ge.drawingBufferWidth,ge.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(X,ge.TRIANGLES,Sr.disabled,this.stencilClearMode,st.disabled,Dt.disabled,Xo(ne),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Dr.prototype._renderTileClippingMasks=function(X,ge){if(!(this.currentStencilSource===X.source||!X.isTileClipped()||!ge||!ge.length)){this.currentStencilSource=X.source;var ne=this.context,ye=ne.gl;this.nextStencilID+ge.length>256&&this.clearStencil(),ne.setColorMode(st.disabled),ne.setDepthMode(Sr.disabled);var ze=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ze=0,lt=ge;Ze<lt.length;Ze+=1){var wt=lt[Ze],Ut=this._tileClippingMaskIDs[wt.key]=this.nextStencilID++;ze.draw(ne,ye.TRIANGLES,Sr.disabled,new $t({func:ye.ALWAYS,mask:0},Ut,255,ye.KEEP,ye.KEEP,ye.REPLACE),st.disabled,Dt.disabled,Xo(wt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Dr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var X=this.nextStencilID++,ge=this.context.gl;return new $t({func:ge.NOTEQUAL,mask:255},X,255,ge.KEEP,ge.KEEP,ge.REPLACE)},Dr.prototype.stencilModeForClipping=function(X){var ge=this.context.gl;return new $t({func:ge.EQUAL,mask:255},this._tileClippingMaskIDs[X.key],0,ge.KEEP,ge.KEEP,ge.REPLACE)},Dr.prototype.stencilConfigForOverlap=function(X){var ge,ne=this.context.gl,ye=X.sort(function(Ut,Jt){return Jt.overscaledZ-Ut.overscaledZ}),ze=ye[ye.length-1].overscaledZ,Ze=ye[0].overscaledZ-ze+1;if(Ze>1){this.currentStencilSource=void 0,this.nextStencilID+Ze>256&&this.clearStencil();for(var lt={},wt=0;wt<Ze;wt++)lt[wt+ze]=new $t({func:ne.GEQUAL,mask:255},wt+this.nextStencilID,255,ne.KEEP,ne.KEEP,ne.REPLACE);return this.nextStencilID+=Ze,[lt,ye]}return[(ge={},ge[ze]=$t.disabled,ge),ye]},Dr.prototype.colorModeForRenderPass=function(){var X=this.context.gl;if(this._showOverdrawInspector){var ge=8,ne=1/ge;return new st([X.CONSTANT_COLOR,X.ONE],new a.Color(ne,ne,ne,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?st.unblended:st.alphaBlended},Dr.prototype.depthModeForSublayer=function(X,ge,ne){if(!this.opaquePassEnabledForLayer())return Sr.disabled;var ye=1-((1+this.currentLayer)*this.numSublayers+X)*this.depthEpsilon;return new Sr(ne||this.context.gl.LEQUAL,ge,[ye,ye])},Dr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Dr.prototype.render=function(X,ge){var ne=this;this.style=X,this.options=ge,this.lineAtlas=X.lineAtlas,this.imageManager=X.imageManager,this.glyphManager=X.glyphManager,this.symbolFadeChange=X.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var ye=this.style._order,ze=this.style.sourceCaches;for(var Ze in ze){var lt=ze[Ze];lt.used&&lt.prepare(this.context)}var wt={},Ut={},Jt={};for(var fr in ze){var xr=ze[fr];wt[fr]=xr.getVisibleCoordinates(),Ut[fr]=wt[fr].slice().reverse(),Jt[fr]=xr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var zr=0;zr<ye.length;zr++){var Wr=ye[zr];if(this.style._layers[Wr].is3D()){this.opaquePassCutoff=zr;break}}this.renderPass="offscreen";for(var Yr=0,Vr=ye;Yr<Vr.length;Yr+=1){var qr=Vr[Yr],cn=this.style._layers[qr];if(!(!cn.hasOffscreenPass()||cn.isHidden(this.transform.zoom))){var Dn=Ut[cn.source];cn.type!=="custom"&&!Dn.length||this.renderLayer(this,ze[cn.source],cn,Dn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ge.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ge.showOverdrawInspector,this.depthRangeFor3D=[0,1-(X._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ye.length-1;this.currentLayer>=0;this.currentLayer--){var On=this.style._layers[ye[this.currentLayer]],$n=ze[On.source],Jn=wt[On.source];this._renderTileClippingMasks(On,Jn),this.renderLayer(this,$n,On,Jn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ye.length;this.currentLayer++){var Kn=this.style._layers[ye[this.currentLayer]],oa=ze[Kn.source],va=(Kn.type==="symbol"?Jt:Ut)[Kn.source];this._renderTileClippingMasks(Kn,wt[Kn.source]),this.renderLayer(this,oa,Kn,va)}if(this.options.showTileBoundaries){var ha,ma,Ma=a.values(this.style._layers);Ma.forEach(function(_a){_a.source&&!_a.isHidden(ne.transform.zoom)&&(_a.source!==(ma&&ma.id)&&(ma=ne.style.sourceCaches[_a.source]),(!ha||ha.getSource().maxzoom<ma.getSource().maxzoom)&&(ha=ma))}),ha&&Ar.debug(this,ha,ha.getVisibleCoordinates())}this.options.showPadding&&it(this),this.context.setDefault()},Dr.prototype.renderLayer=function(X,ge,ne,ye){ne.isHidden(this.transform.zoom)||ne.type!=="background"&&ne.type!=="custom"&&!ye.length||(this.id=ne.id,this.gpuTimingStart(ne),Ar[ne.type](X,ge,ne,ye,this.style.placement.variableOffsets),this.gpuTimingEnd())},Dr.prototype.gpuTimingStart=function(X){if(this.options.gpuTiming){var ge=this.context.extTimerQuery,ne=this.gpuTimers[X.id];ne||(ne=this.gpuTimers[X.id]={calls:0,cpuTime:0,query:ge.createQueryEXT()}),ne.calls++,ge.beginQueryEXT(ge.TIME_ELAPSED_EXT,ne.query)}},Dr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var X=this.context.extTimerQuery;X.endQueryEXT(X.TIME_ELAPSED_EXT)}},Dr.prototype.collectGpuTimers=function(){var X=this.gpuTimers;return this.gpuTimers={},X},Dr.prototype.queryGpuTimers=function(X){var ge={};for(var ne in X){var ye=X[ne],ze=this.context.extTimerQuery,Ze=ze.getQueryObjectEXT(ye.query,ze.QUERY_RESULT_EXT)/(1e3*1e3);ze.deleteQueryEXT(ye.query),ge[ne]=Ze}return ge},Dr.prototype.translatePosMatrix=function(X,ge,ne,ye,ze){if(!ne[0]&&!ne[1])return X;var Ze=ze?ye==="map"?this.transform.angle:0:ye==="viewport"?-this.transform.angle:0;if(Ze){var lt=Math.sin(Ze),wt=Math.cos(Ze);ne=[ne[0]*wt-ne[1]*lt,ne[0]*lt+ne[1]*wt]}var Ut=[ze?ne[0]:mn(ge,ne[0],this.transform.zoom),ze?ne[1]:mn(ge,ne[1],this.transform.zoom),0],Jt=new Float32Array(16);return a.translate(Jt,X,Ut),Jt},Dr.prototype.saveTileTexture=function(X){var ge=this._tileTextures[X.size[0]];ge?ge.push(X):this._tileTextures[X.size[0]]=[X]},Dr.prototype.getTileTexture=function(X){var ge=this._tileTextures[X];return ge&&ge.length>0?ge.pop():null},Dr.prototype.isPatternMissing=function(X){if(!X)return!1;if(!X.from||!X.to)return!0;var ge=this.imageManager.getPattern(X.from.toString()),ne=this.imageManager.getPattern(X.to.toString());return!ge||!ne},Dr.prototype.useProgram=function(X,ge){this.cache=this.cache||{};var ne=""+X+(ge?ge.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ne]||(this.cache[ne]=new yu(this.context,Qc[X],ge,Zl[X],this._showOverdrawInspector)),this.cache[ne]},Dr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Dr.prototype.setBaseState=function(){var X=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(X.FUNC_ADD)},Dr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var X=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,X.RGBA)}},Dr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Zr=function(X,ge){this.points=X,this.planes=ge};Zr.fromInvProjectionMatrix=function(X,ge,ne){var ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],ze=Math.pow(2,ne),Ze=ye.map(function(Ut){return a.transformMat4([],Ut,X)}).map(function(Ut){return a.scale$1([],Ut,1/Ut[3]/ge*ze)}),lt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],wt=lt.map(function(Ut){var Jt=a.sub([],Ze[Ut[0]],Ze[Ut[1]]),fr=a.sub([],Ze[Ut[2]],Ze[Ut[1]]),xr=a.normalize([],a.cross([],Jt,fr)),zr=-a.dot(xr,Ze[Ut[1]]);return xr.concat(zr)});return new Zr(Ze,wt)};var Qr=function(X,ge){this.min=X,this.max=ge,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};Qr.prototype.quadrant=function(X){for(var ge=[X%2===0,X<2],ne=a.clone$2(this.min),ye=a.clone$2(this.max),ze=0;ze<ge.length;ze++)ne[ze]=ge[ze]?this.min[ze]:this.center[ze],ye[ze]=ge[ze]?this.center[ze]:this.max[ze];return ye[2]=this.max[2],new Qr(ne,ye)},Qr.prototype.distanceX=function(X){var ge=Math.max(Math.min(this.max[0],X[0]),this.min[0]);return ge-X[0]},Qr.prototype.distanceY=function(X){var ge=Math.max(Math.min(this.max[1],X[1]),this.min[1]);return ge-X[1]},Qr.prototype.intersects=function(X){for(var ge=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ne=!0,ye=0;ye<X.planes.length;ye++){for(var ze=X.planes[ye],Ze=0,lt=0;lt<ge.length;lt++)Ze+=a.dot$1(ze,ge[lt])>=0;if(Ze===0)return 0;Ze!==ge.length&&(ne=!1)}if(ne)return 2;for(var wt=0;wt<3;wt++){for(var Ut=Number.MAX_VALUE,Jt=-Number.MAX_VALUE,fr=0;fr<X.points.length;fr++){var xr=X.points[fr][wt]-this.min[wt];Ut=Math.min(Ut,xr),Jt=Math.max(Jt,xr)}if(Jt<0||Ut>this.max[wt]-this.min[wt])return 0}return 1};var wn=function(X,ge,ne,ye){if(X===void 0&&(X=0),ge===void 0&&(ge=0),ne===void 0&&(ne=0),ye===void 0&&(ye=0),isNaN(X)||X<0||isNaN(ge)||ge<0||isNaN(ne)||ne<0||isNaN(ye)||ye<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=X,this.bottom=ge,this.left=ne,this.right=ye};wn.prototype.interpolate=function(X,ge,ne){return ge.top!=null&&X.top!=null&&(this.top=a.number(X.top,ge.top,ne)),ge.bottom!=null&&X.bottom!=null&&(this.bottom=a.number(X.bottom,ge.bottom,ne)),ge.left!=null&&X.left!=null&&(this.left=a.number(X.left,ge.left,ne)),ge.right!=null&&X.right!=null&&(this.right=a.number(X.right,ge.right,ne)),this},wn.prototype.getCenter=function(X,ge){var ne=a.clamp((this.left+X-this.right)/2,0,X),ye=a.clamp((this.top+ge-this.bottom)/2,0,ge);return new a.Point(ne,ye)},wn.prototype.equals=function(X){return this.top===X.top&&this.bottom===X.bottom&&this.left===X.left&&this.right===X.right},wn.prototype.clone=function(){return new wn(this.top,this.bottom,this.left,this.right)},wn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Sn=function(X,ge,ne,ye,ze){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=ze===void 0?!0:ze,this._minZoom=X||0,this._maxZoom=ge||22,this._minPitch=ne??0,this._maxPitch=ye??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wn,this._posMatrixCache={},this._alignedPosMatrixCache={}},kn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Sn.prototype.clone=function(){var X=new Sn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return X.tileSize=this.tileSize,X.latRange=this.latRange,X.width=this.width,X.height=this.height,X._center=this._center,X.zoom=this.zoom,X.angle=this.angle,X._fov=this._fov,X._pitch=this._pitch,X._unmodified=this._unmodified,X._edgeInsets=this._edgeInsets.clone(),X._calcMatrices(),X},kn.minZoom.get=function(){return this._minZoom},kn.minZoom.set=function(de){this._minZoom!==de&&(this._minZoom=de,this.zoom=Math.max(this.zoom,de))},kn.maxZoom.get=function(){return this._maxZoom},kn.maxZoom.set=function(de){this._maxZoom!==de&&(this._maxZoom=de,this.zoom=Math.min(this.zoom,de))},kn.minPitch.get=function(){return this._minPitch},kn.minPitch.set=function(de){this._minPitch!==de&&(this._minPitch=de,this.pitch=Math.max(this.pitch,de))},kn.maxPitch.get=function(){return this._maxPitch},kn.maxPitch.set=function(de){this._maxPitch!==de&&(this._maxPitch=de,this.pitch=Math.min(this.pitch,de))},kn.renderWorldCopies.get=function(){return this._renderWorldCopies},kn.renderWorldCopies.set=function(de){de===void 0?de=!0:de===null&&(de=!1),this._renderWorldCopies=de},kn.worldSize.get=function(){return this.tileSize*this.scale},kn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},kn.size.get=function(){return new a.Point(this.width,this.height)},kn.bearing.get=function(){return-this.angle/Math.PI*180},kn.bearing.set=function(de){var X=-a.wrap(de,-180,180)*Math.PI/180;this.angle!==X&&(this._unmodified=!1,this.angle=X,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},kn.pitch.get=function(){return this._pitch/Math.PI*180},kn.pitch.set=function(de){var X=a.clamp(de,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==X&&(this._unmodified=!1,this._pitch=X,this._calcMatrices())},kn.fov.get=function(){return this._fov/Math.PI*180},kn.fov.set=function(de){de=Math.max(.01,Math.min(60,de)),this._fov!==de&&(this._unmodified=!1,this._fov=de/180*Math.PI,this._calcMatrices())},kn.zoom.get=function(){return this._zoom},kn.zoom.set=function(de){var X=Math.min(Math.max(de,this.minZoom),this.maxZoom);this._zoom!==X&&(this._unmodified=!1,this._zoom=X,this.scale=this.zoomScale(X),this.tileZoom=Math.floor(X),this.zoomFraction=X-this.tileZoom,this._constrain(),this._calcMatrices())},kn.center.get=function(){return this._center},kn.center.set=function(de){de.lat===this._center.lat&&de.lng===this._center.lng||(this._unmodified=!1,this._center=de,this._constrain(),this._calcMatrices())},kn.padding.get=function(){return this._edgeInsets.toJSON()},kn.padding.set=function(de){this._edgeInsets.equals(de)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,de,1),this._calcMatrices())},kn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Sn.prototype.isPaddingEqual=function(X){return this._edgeInsets.equals(X)},Sn.prototype.interpolatePadding=function(X,ge,ne){this._unmodified=!1,this._edgeInsets.interpolate(X,ge,ne),this._constrain(),this._calcMatrices()},Sn.prototype.coveringZoomLevel=function(X){var ge=(X.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/X.tileSize));return Math.max(0,ge)},Sn.prototype.getVisibleUnwrappedCoordinates=function(X){var ge=[new a.UnwrappedTileID(0,X)];if(this._renderWorldCopies)for(var ne=this.pointCoordinate(new a.Point(0,0)),ye=this.pointCoordinate(new a.Point(this.width,0)),ze=this.pointCoordinate(new a.Point(this.width,this.height)),Ze=this.pointCoordinate(new a.Point(0,this.height)),lt=Math.floor(Math.min(ne.x,ye.x,ze.x,Ze.x)),wt=Math.floor(Math.max(ne.x,ye.x,ze.x,Ze.x)),Ut=1,Jt=lt-Ut;Jt<=wt+Ut;Jt++)Jt!==0&&ge.push(new a.UnwrappedTileID(Jt,X));return ge},Sn.prototype.coveringTiles=function(X){var ge=this.coveringZoomLevel(X),ne=ge;if(X.minzoom!==void 0&&ge<X.minzoom)return[];X.maxzoom!==void 0&&ge>X.maxzoom&&(ge=X.maxzoom);var ye=a.MercatorCoordinate.fromLngLat(this.center),ze=Math.pow(2,ge),Ze=[ze*ye.x,ze*ye.y,0],lt=Zr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ge),wt=X.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(wt=ge);var Ut=3,Jt=function(Ma){return{aabb:new Qr([Ma*ze,0,0],[(Ma+1)*ze,ze,0]),zoom:0,x:0,y:0,wrap:Ma,fullyVisible:!1}},fr=[],xr=[],zr=ge,Wr=X.reparseOverscaled?ne:ge;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)fr.push(Jt(-Yr)),fr.push(Jt(Yr));for(fr.push(Jt(0));fr.length>0;){var Vr=fr.pop(),qr=Vr.x,cn=Vr.y,Dn=Vr.fullyVisible;if(!Dn){var On=Vr.aabb.intersects(lt);if(On===0)continue;Dn=On===2}var $n=Vr.aabb.distanceX(Ze),Jn=Vr.aabb.distanceY(Ze),Kn=Math.max(Math.abs($n),Math.abs(Jn)),oa=Ut+(1<<zr-Vr.zoom)-2;if(Vr.zoom===zr||Kn>oa&&Vr.zoom>=wt){xr.push({tileID:new a.OverscaledTileID(Vr.zoom===zr?Wr:Vr.zoom,Vr.wrap,Vr.zoom,qr,cn),distanceSq:a.sqrLen([Ze[0]-.5-qr,Ze[1]-.5-cn])});continue}for(var va=0;va<4;va++){var ha=(qr<<1)+va%2,ma=(cn<<1)+(va>>1);fr.push({aabb:Vr.aabb.quadrant(va),zoom:Vr.zoom+1,x:ha,y:ma,wrap:Vr.wrap,fullyVisible:Dn})}}return xr.sort(function(Ma,_a){return Ma.distanceSq-_a.distanceSq}).map(function(Ma){return Ma.tileID})},Sn.prototype.resize=function(X,ge){this.width=X,this.height=ge,this.pixelsToGLUnits=[2/X,-2/ge],this._constrain(),this._calcMatrices()},kn.unmodified.get=function(){return this._unmodified},Sn.prototype.zoomScale=function(X){return Math.pow(2,X)},Sn.prototype.scaleZoom=function(X){return Math.log(X)/Math.LN2},Sn.prototype.project=function(X){var ge=a.clamp(X.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(X.lng)*this.worldSize,a.mercatorYfromLat(ge)*this.worldSize)},Sn.prototype.unproject=function(X){return new a.MercatorCoordinate(X.x/this.worldSize,X.y/this.worldSize).toLngLat()},kn.point.get=function(){return this.project(this.center)},Sn.prototype.setLocationAtPoint=function(X,ge){var ne=this.pointCoordinate(ge),ye=this.pointCoordinate(this.centerPoint),ze=this.locationCoordinate(X),Ze=new a.MercatorCoordinate(ze.x-(ne.x-ye.x),ze.y-(ne.y-ye.y));this.center=this.coordinateLocation(Ze),this._renderWorldCopies&&(this.center=this.center.wrap())},Sn.prototype.locationPoint=function(X){return this.coordinatePoint(this.locationCoordinate(X))},Sn.prototype.pointLocation=function(X){return this.coordinateLocation(this.pointCoordinate(X))},Sn.prototype.locationCoordinate=function(X){return a.MercatorCoordinate.fromLngLat(X)},Sn.prototype.coordinateLocation=function(X){return X.toLngLat()},Sn.prototype.pointCoordinate=function(X){var ge=0,ne=[X.x,X.y,0,1],ye=[X.x,X.y,1,1];a.transformMat4(ne,ne,this.pixelMatrixInverse),a.transformMat4(ye,ye,this.pixelMatrixInverse);var ze=ne[3],Ze=ye[3],lt=ne[0]/ze,wt=ye[0]/Ze,Ut=ne[1]/ze,Jt=ye[1]/Ze,fr=ne[2]/ze,xr=ye[2]/Ze,zr=fr===xr?0:(ge-fr)/(xr-fr);return new a.MercatorCoordinate(a.number(lt,wt,zr)/this.worldSize,a.number(Ut,Jt,zr)/this.worldSize)},Sn.prototype.coordinatePoint=function(X){var ge=[X.x*this.worldSize,X.y*this.worldSize,0,1];return a.transformMat4(ge,ge,this.pixelMatrix),new a.Point(ge[0]/ge[3],ge[1]/ge[3])},Sn.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Sn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Sn.prototype.setMaxBounds=function(X){X?(this.lngRange=[X.getWest(),X.getEast()],this.latRange=[X.getSouth(),X.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Sn.prototype.calculatePosMatrix=function(X,ge){ge===void 0&&(ge=!1);var ne=X.key,ye=ge?this._alignedPosMatrixCache:this._posMatrixCache;if(ye[ne])return ye[ne];var ze=X.canonical,Ze=this.worldSize/this.zoomScale(ze.z),lt=ze.x+Math.pow(2,ze.z)*X.wrap,wt=a.identity(new Float64Array(16));return a.translate(wt,wt,[lt*Ze,ze.y*Ze,0]),a.scale(wt,wt,[Ze/a.EXTENT,Ze/a.EXTENT,1]),a.multiply(wt,ge?this.alignedProjMatrix:this.projMatrix,wt),ye[ne]=new Float32Array(wt),ye[ne]},Sn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Sn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var X=-90,ge=90,ne=-180,ye=180,ze,Ze,lt,wt,Ut=this.size,Jt=this._unmodified;if(this.latRange){var fr=this.latRange;X=a.mercatorYfromLat(fr[1])*this.worldSize,ge=a.mercatorYfromLat(fr[0])*this.worldSize,ze=ge-X<Ut.y?Ut.y/(ge-X):0}if(this.lngRange){var xr=this.lngRange;ne=a.mercatorXfromLng(xr[0])*this.worldSize,ye=a.mercatorXfromLng(xr[1])*this.worldSize,Ze=ye-ne<Ut.x?Ut.x/(ye-ne):0}var zr=this.point,Wr=Math.max(Ze||0,ze||0);if(Wr){this.center=this.unproject(new a.Point(Ze?(ye+ne)/2:zr.x,ze?(ge+X)/2:zr.y)),this.zoom+=this.scaleZoom(Wr),this._unmodified=Jt,this._constraining=!1;return}if(this.latRange){var Yr=zr.y,Vr=Ut.y/2;Yr-Vr<X&&(wt=X+Vr),Yr+Vr>ge&&(wt=ge-Vr)}if(this.lngRange){var qr=zr.x,cn=Ut.x/2;qr-cn<ne&&(lt=ne+cn),qr+cn>ye&&(lt=ye-cn)}(lt!==void 0||wt!==void 0)&&(this.center=this.unproject(new a.Point(lt!==void 0?lt:zr.x,wt!==void 0?wt:zr.y))),this._unmodified=Jt,this._constraining=!1}},Sn.prototype._calcMatrices=function(){if(this.height){var X=this._fov/2,ge=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(X)*this.height;var ne=Math.PI/2+this._pitch,ye=this._fov*(.5+ge.y/this.height),ze=Math.sin(ye)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-ne-ye,.01,Math.PI-.01)),Ze=this.point,lt=Ze.x,wt=Ze.y,Ut=Math.cos(Math.PI/2-this._pitch)*ze+this.cameraToCenterDistance,Jt=Ut*1.01,fr=this.height/50,xr=new Float64Array(16);a.perspective(xr,this._fov,this.width/this.height,fr,Jt),xr[8]=-ge.x*2/this.width,xr[9]=ge.y*2/this.height,a.scale(xr,xr,[1,-1,1]),a.translate(xr,xr,[0,0,-this.cameraToCenterDistance]),a.rotateX(xr,xr,this._pitch),a.rotateZ(xr,xr,this.angle),a.translate(xr,xr,[-lt,-wt,0]),this.mercatorMatrix=a.scale([],xr,[this.worldSize,this.worldSize,this.worldSize]),a.scale(xr,xr,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=xr,this.invProjMatrix=a.invert([],this.projMatrix);var zr=this.width%2/2,Wr=this.height%2/2,Yr=Math.cos(this.angle),Vr=Math.sin(this.angle),qr=lt-Math.round(lt)+Yr*zr+Vr*Wr,cn=wt-Math.round(wt)+Yr*Wr+Vr*zr,Dn=new Float64Array(xr);if(a.translate(Dn,Dn,[qr>.5?qr-1:qr,cn>.5?cn-1:cn,0]),this.alignedProjMatrix=Dn,xr=a.create(),a.scale(xr,xr,[this.width/2,-this.height/2,1]),a.translate(xr,xr,[1,-1,0]),this.labelPlaneMatrix=xr,xr=a.create(),a.scale(xr,xr,[1,-1,1]),a.translate(xr,xr,[-1,-1,0]),a.scale(xr,xr,[2/this.width,2/this.height,1]),this.glCoordMatrix=xr,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),xr=a.invert(new Float64Array(16),this.pixelMatrix),!xr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=xr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Sn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var X=this.pointCoordinate(new a.Point(0,0)),ge=[X.x*this.worldSize,X.y*this.worldSize,0,1],ne=a.transformMat4(ge,ge,this.pixelMatrix);return ne[3]/this.cameraToCenterDistance},Sn.prototype.getCameraPoint=function(){var X=this._pitch,ge=Math.tan(X)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,ge))},Sn.prototype.getCameraQueryGeometry=function(X){var ge=this.getCameraPoint();if(X.length===1)return[X[0],ge];for(var ne=ge.x,ye=ge.y,ze=ge.x,Ze=ge.y,lt=0,wt=X;lt<wt.length;lt+=1){var Ut=wt[lt];ne=Math.min(ne,Ut.x),ye=Math.min(ye,Ut.y),ze=Math.max(ze,Ut.x),Ze=Math.max(Ze,Ut.y)}return[new a.Point(ne,ye),new a.Point(ze,ye),new a.Point(ze,Ze),new a.Point(ne,Ze),new a.Point(ne,ye)]},Object.defineProperties(Sn.prototype,kn);function pa(de,X){var ge=!1,ne=null,ye=function(){ne=null,ge&&(de(),ne=setTimeout(ye,X),ge=!1)};return function(){return ge=!0,ne||ye(),ne}}var Da=function(X){this._hashName=X&&encodeURIComponent(X),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=pa(this._updateHashUnthrottled.bind(this),30*1e3/100)};Da.prototype.addTo=function(X){return this._map=X,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Da.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Da.prototype.getHashString=function(X){var ge=this._map.getCenter(),ne=Math.round(this._map.getZoom()*100)/100,ye=Math.ceil((ne*Math.LN2+Math.log(512/360/.5))/Math.LN10),ze=Math.pow(10,ye),Ze=Math.round(ge.lng*ze)/ze,lt=Math.round(ge.lat*ze)/ze,wt=this._map.getBearing(),Ut=this._map.getPitch(),Jt="";if(X?Jt+="/"+Ze+"/"+lt+"/"+ne:Jt+=ne+"/"+lt+"/"+Ze,(wt||Ut)&&(Jt+="/"+Math.round(wt*10)/10),Ut&&(Jt+="/"+Math.round(Ut)),this._hashName){var fr=this._hashName,xr=!1,zr=a.window.location.hash.slice(1).split("&").map(function(Wr){var Yr=Wr.split("=")[0];return Yr===fr?(xr=!0,Yr+"="+Jt):Wr}).filter(function(Wr){return Wr});return xr||zr.push(fr+"="+Jt),"#"+zr.join("&")}return"#"+Jt},Da.prototype._getCurrentHash=function(){var X=this,ge=a.window.location.hash.replace("#","");if(this._hashName){var ne;return ge.split("&").map(function(ye){return ye.split("=")}).forEach(function(ye){ye[0]===X._hashName&&(ne=ye)}),(ne&&ne[1]||"").split("/")}return ge.split("/")},Da.prototype._onHashChange=function(){var X=this._getCurrentHash();if(X.length>=3&&!X.some(function(ne){return isNaN(ne)})){var ge=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(X[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+X[2],+X[1]],zoom:+X[0],bearing:ge,pitch:+(X[4]||0)}),!0}return!1},Da.prototype._updateHashUnthrottled=function(){var X=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",X)}catch{}};var ka={linearity:.3,easing:a.bezier(0,0,.3,1)},Fa=a.extend({deceleration:2500,maxSpeed:1400},ka),za=a.extend({deceleration:20,maxSpeed:1400},ka),ci=a.extend({deceleration:1e3,maxSpeed:360},ka),ji=a.extend({deceleration:1e3,maxSpeed:90},ka),Mi=function(X){this._map=X,this.clear()};Mi.prototype.clear=function(){this._inertiaBuffer=[]},Mi.prototype.record=function(X){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:X})},Mi.prototype._drainInertiaBuffer=function(){for(var X=this._inertiaBuffer,ge=a.browser.now(),ne=160;X.length>0&&ge-X[0].time>ne;)X.shift()},Mi.prototype._onMoveEnd=function(X){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ge={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},ne=0,ye=this._inertiaBuffer;ne<ye.length;ne+=1){var ze=ye[ne],Ze=ze.settings;ge.zoom+=Ze.zoomDelta||0,ge.bearing+=Ze.bearingDelta||0,ge.pitch+=Ze.pitchDelta||0,Ze.panDelta&&ge.pan._add(Ze.panDelta),Ze.around&&(ge.around=Ze.around),Ze.pinchAround&&(ge.pinchAround=Ze.pinchAround)}var lt=this._inertiaBuffer[this._inertiaBuffer.length-1],wt=lt.time-this._inertiaBuffer[0].time,Ut={};if(ge.pan.mag()){var Jt=Re(ge.pan.mag(),wt,a.extend({},Fa,X||{}));Ut.offset=ge.pan.mult(Jt.amount/ge.pan.mag()),Ut.center=this._map.transform.center,fe(Ut,Jt)}if(ge.zoom){var fr=Re(ge.zoom,wt,za);Ut.zoom=this._map.transform.zoom+fr.amount,fe(Ut,fr)}if(ge.bearing){var xr=Re(ge.bearing,wt,ci);Ut.bearing=this._map.transform.bearing+a.clamp(xr.amount,-179,179),fe(Ut,xr)}if(ge.pitch){var zr=Re(ge.pitch,wt,ji);Ut.pitch=this._map.transform.pitch+zr.amount,fe(Ut,zr)}if(Ut.zoom||Ut.bearing){var Wr=ge.pinchAround===void 0?ge.around:ge.pinchAround;Ut.around=Wr?this._map.unproject(Wr):this._map.getCenter()}return this.clear(),a.extend(Ut,{noMoveStart:!0})}};function fe(de,X){(!de.duration||de.duration<X.duration)&&(de.duration=X.duration,de.easing=X.easing)}function Re(de,X,ge){var ne=ge.maxSpeed,ye=ge.linearity,ze=ge.deceleration,Ze=a.clamp(de*ye/(X/1e3),-ne,ne),lt=Math.abs(Ze)/(ze*ye);return{easing:ge.easing,duration:lt*1e3,amount:Ze*(lt/2)}}var Ge=function(de){function X(ne,ye,ze,Ze){Ze===void 0&&(Ze={});var lt=w.mousePos(ye.getCanvasContainer(),ze),wt=ye.unproject(lt);de.call(this,ne,a.extend({point:lt,lngLat:wt,originalEvent:ze},Ze)),this._defaultPrevented=!1,this.target=ye}de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X;var ge={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,ge),X}(a.Event),Qe=function(de){function X(ne,ye,ze){var Ze=ne==="touchend"?ze.changedTouches:ze.touches,lt=w.touchPos(ye.getCanvasContainer(),Ze),wt=lt.map(function(fr){return ye.unproject(fr)}),Ut=lt.reduce(function(fr,xr,zr,Wr){return fr.add(xr.div(Wr.length))},new a.Point(0,0)),Jt=ye.unproject(Ut);de.call(this,ne,{points:lt,point:Ut,lngLats:wt,lngLat:Jt,originalEvent:ze}),this._defaultPrevented=!1}de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X;var ge={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,ge),X}(a.Event),nt=function(de){function X(ne,ye,ze){de.call(this,ne,{originalEvent:ze}),this._defaultPrevented=!1}de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X;var ge={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,ge),X}(a.Event),ot=function(X,ge){this._map=X,this._clickTolerance=ge.clickTolerance};ot.prototype.reset=function(){delete this._mousedownPos},ot.prototype.wheel=function(X){return this._firePreventable(new nt(X.type,this._map,X))},ot.prototype.mousedown=function(X,ge){return this._mousedownPos=ge,this._firePreventable(new Ge(X.type,this._map,X))},ot.prototype.mouseup=function(X){this._map.fire(new Ge(X.type,this._map,X))},ot.prototype.click=function(X,ge){this._mousedownPos&&this._mousedownPos.dist(ge)>=this._clickTolerance||this._map.fire(new Ge(X.type,this._map,X))},ot.prototype.dblclick=function(X){return this._firePreventable(new Ge(X.type,this._map,X))},ot.prototype.mouseover=function(X){this._map.fire(new Ge(X.type,this._map,X))},ot.prototype.mouseout=function(X){this._map.fire(new Ge(X.type,this._map,X))},ot.prototype.touchstart=function(X){return this._firePreventable(new Qe(X.type,this._map,X))},ot.prototype.touchmove=function(X){this._map.fire(new Qe(X.type,this._map,X))},ot.prototype.touchend=function(X){this._map.fire(new Qe(X.type,this._map,X))},ot.prototype.touchcancel=function(X){this._map.fire(new Qe(X.type,this._map,X))},ot.prototype._firePreventable=function(X){if(this._map.fire(X),X.defaultPrevented)return{}},ot.prototype.isEnabled=function(){return!0},ot.prototype.isActive=function(){return!1},ot.prototype.enable=function(){},ot.prototype.disable=function(){};var Pt=function(X){this._map=X};Pt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Pt.prototype.mousemove=function(X){this._map.fire(new Ge(X.type,this._map,X))},Pt.prototype.mousedown=function(){this._delayContextMenu=!0},Pt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ge("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Pt.prototype.contextmenu=function(X){this._delayContextMenu?this._contextMenuEvent=X:this._map.fire(new Ge(X.type,this._map,X)),this._map.listens("contextmenu")&&X.preventDefault()},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var ft=function(X,ge){this._map=X,this._el=X.getCanvasContainer(),this._container=X.getContainer(),this._clickTolerance=ge.clickTolerance||1};ft.prototype.isEnabled=function(){return!!this._enabled},ft.prototype.isActive=function(){return!!this._active},ft.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ft.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ft.prototype.mousedown=function(X,ge){this.isEnabled()&&X.shiftKey&&X.button===0&&(w.disableDrag(),this._startPos=this._lastPos=ge,this._active=!0)},ft.prototype.mousemoveWindow=function(X,ge){if(this._active){var ne=ge;if(!(this._lastPos.equals(ne)||!this._box&&ne.dist(this._startPos)<this._clickTolerance)){var ye=this._startPos;this._lastPos=ne,this._box||(this._box=w.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",X));var ze=Math.min(ye.x,ne.x),Ze=Math.max(ye.x,ne.x),lt=Math.min(ye.y,ne.y),wt=Math.max(ye.y,ne.y);w.setTransform(this._box,"translate("+ze+"px,"+lt+"px)"),this._box.style.width=Ze-ze+"px",this._box.style.height=wt-lt+"px"}}},ft.prototype.mouseupWindow=function(X,ge){var ne=this;if(this._active&&X.button===0){var ye=this._startPos,ze=ge;if(this.reset(),w.suppressClick(),ye.x===ze.x&&ye.y===ze.y)this._fireEvent("boxzoomcancel",X);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:X})),{cameraAnimation:function(Ze){return Ze.fitScreenCoordinates(ye,ze,ne._map.getBearing(),{linear:!0})}}}},ft.prototype.keydown=function(X){this._active&&X.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",X))},ft.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(w.remove(this._box),this._box=null),w.enableDrag(),delete this._startPos,delete this._lastPos},ft.prototype._fireEvent=function(X,ge){return this._map.fire(new a.Event(X,{originalEvent:ge}))};function Ht(de,X){for(var ge={},ne=0;ne<de.length;ne++)ge[de[ne].identifier]=X[ne];return ge}function er(de){for(var X=new a.Point(0,0),ge=0,ne=de;ge<ne.length;ge+=1){var ye=ne[ge];X._add(ye)}return X.div(de.length)}var nr=500,Rr=500,Lr=30,Jr=function(X){this.reset(),this.numTouches=X.numTouches};Jr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Jr.prototype.touchstart=function(X,ge,ne){(this.centroid||ne.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=X.timeStamp),ne.length===this.numTouches&&(this.centroid=er(ge),this.touches=Ht(ne,ge)))},Jr.prototype.touchmove=function(X,ge,ne){if(!(this.aborted||!this.centroid)){var ye=Ht(ne,ge);for(var ze in this.touches){var Ze=this.touches[ze],lt=ye[ze];(!lt||lt.dist(Ze)>Lr)&&(this.aborted=!0)}}},Jr.prototype.touchend=function(X,ge,ne){if((!this.centroid||X.timeStamp-this.startTime>Rr)&&(this.aborted=!0),ne.length===0){var ye=!this.aborted&&this.centroid;if(this.reset(),ye)return ye}};var an=function(X){this.singleTap=new Jr(X),this.numTaps=X.numTaps,this.reset()};an.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},an.prototype.touchstart=function(X,ge,ne){this.singleTap.touchstart(X,ge,ne)},an.prototype.touchmove=function(X,ge,ne){this.singleTap.touchmove(X,ge,ne)},an.prototype.touchend=function(X,ge,ne){var ye=this.singleTap.touchend(X,ge,ne);if(ye){var ze=X.timeStamp-this.lastTime<nr,Ze=!this.lastTap||this.lastTap.dist(ye)<Lr;if((!ze||!Ze)&&this.reset(),this.count++,this.lastTime=X.timeStamp,this.lastTap=ye,this.count===this.numTaps)return this.reset(),ye}};var kr=function(){this._zoomIn=new an({numTouches:1,numTaps:2}),this._zoomOut=new an({numTouches:2,numTaps:1}),this.reset()};kr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},kr.prototype.touchstart=function(X,ge,ne){this._zoomIn.touchstart(X,ge,ne),this._zoomOut.touchstart(X,ge,ne)},kr.prototype.touchmove=function(X,ge,ne){this._zoomIn.touchmove(X,ge,ne),this._zoomOut.touchmove(X,ge,ne)},kr.prototype.touchend=function(X,ge,ne){var ye=this,ze=this._zoomIn.touchend(X,ge,ne),Ze=this._zoomOut.touchend(X,ge,ne);if(ze)return this._active=!0,X.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(lt){return lt.easeTo({duration:300,zoom:lt.getZoom()+1,around:lt.unproject(ze)},{originalEvent:X})}};if(Ze)return this._active=!0,X.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(lt){return lt.easeTo({duration:300,zoom:lt.getZoom()-1,around:lt.unproject(Ze)},{originalEvent:X})}}},kr.prototype.touchcancel=function(){this.reset()},kr.prototype.enable=function(){this._enabled=!0},kr.prototype.disable=function(){this._enabled=!1,this.reset()},kr.prototype.isEnabled=function(){return this._enabled},kr.prototype.isActive=function(){return this._active};var Ur=0,$r=2,sn=function(X){this.reset(),this._clickTolerance=X.clickTolerance||1};sn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},sn.prototype._correctButton=function(X,ge){return!1},sn.prototype._move=function(X,ge){return{}},sn.prototype.mousedown=function(X,ge){if(!this._lastPoint){var ne=w.mouseButton(X);this._correctButton(X,ne)&&(this._lastPoint=ge,this._eventButton=ne)}},sn.prototype.mousemoveWindow=function(X,ge){var ne=this._lastPoint;if(ne&&(X.preventDefault(),!(!this._moved&&ge.dist(ne)<this._clickTolerance)))return this._moved=!0,this._lastPoint=ge,this._move(ne,ge)},sn.prototype.mouseupWindow=function(X){var ge=w.mouseButton(X);ge===this._eventButton&&(this._moved&&w.suppressClick(),this.reset())},sn.prototype.enable=function(){this._enabled=!0},sn.prototype.disable=function(){this._enabled=!1,this.reset()},sn.prototype.isEnabled=function(){return this._enabled},sn.prototype.isActive=function(){return this._active};var vn=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.mousedown=function(ne,ye){de.prototype.mousedown.call(this,ne,ye),this._lastPoint&&(this._active=!0)},X.prototype._correctButton=function(ne,ye){return ye===Ur&&!ne.ctrlKey},X.prototype._move=function(ne,ye){return{around:ye,panDelta:ye.sub(ne)}},X}(sn),Kr=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(ne,ye){return ye===Ur&&ne.ctrlKey||ye===$r},X.prototype._move=function(ne,ye){var ze=.8,Ze=(ye.x-ne.x)*ze;if(Ze)return this._active=!0,{bearingDelta:Ze}},X.prototype.contextmenu=function(ne){ne.preventDefault()},X}(sn),Hn=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(ne,ye){return ye===Ur&&ne.ctrlKey||ye===$r},X.prototype._move=function(ne,ye){var ze=-.5,Ze=(ye.y-ne.y)*ze;if(Ze)return this._active=!0,{pitchDelta:Ze}},X.prototype.contextmenu=function(ne){ne.preventDefault()},X}(sn),Yn=function(X){this._minTouches=1,this._clickTolerance=X.clickTolerance||1,this.reset()};Yn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Yn.prototype.touchstart=function(X,ge,ne){return this._calculateTransform(X,ge,ne)},Yn.prototype.touchmove=function(X,ge,ne){if(this._active)return X.preventDefault(),this._calculateTransform(X,ge,ne)},Yn.prototype.touchend=function(X,ge,ne){this._calculateTransform(X,ge,ne),this._active&&ne.length<this._minTouches&&this.reset()},Yn.prototype.touchcancel=function(){this.reset()},Yn.prototype._calculateTransform=function(X,ge,ne){ne.length>0&&(this._active=!0);var ye=Ht(ne,ge),ze=new a.Point(0,0),Ze=new a.Point(0,0),lt=0;for(var wt in ye){var Ut=ye[wt],Jt=this._touches[wt];Jt&&(ze._add(Ut),Ze._add(Ut.sub(Jt)),lt++,ye[wt]=Ut)}if(this._touches=ye,!(lt<this._minTouches||!Ze.mag())){var fr=Ze.div(lt);if(this._sum._add(fr),!(this._sum.mag()<this._clickTolerance)){var xr=ze.div(lt);return{around:xr,panDelta:fr}}}},Yn.prototype.enable=function(){this._enabled=!0},Yn.prototype.disable=function(){this._enabled=!1,this.reset()},Yn.prototype.isEnabled=function(){return this._enabled},Yn.prototype.isActive=function(){return this._active};var ea=function(){this.reset()};ea.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ea.prototype._start=function(X){},ea.prototype._move=function(X,ge,ne){return{}},ea.prototype.touchstart=function(X,ge,ne){this._firstTwoTouches||ne.length<2||(this._firstTwoTouches=[ne[0].identifier,ne[1].identifier],this._start([ge[0],ge[1]]))},ea.prototype.touchmove=function(X,ge,ne){if(this._firstTwoTouches){X.preventDefault();var ye=this._firstTwoTouches,ze=ye[0],Ze=ye[1],lt=la(ne,ge,ze),wt=la(ne,ge,Ze);if(!(!lt||!wt)){var Ut=this._aroundCenter?null:lt.add(wt).div(2);return this._move([lt,wt],Ut,X)}}},ea.prototype.touchend=function(X,ge,ne){if(this._firstTwoTouches){var ye=this._firstTwoTouches,ze=ye[0],Ze=ye[1],lt=la(ne,ge,ze),wt=la(ne,ge,Ze);lt&&wt||(this._active&&w.suppressClick(),this.reset())}},ea.prototype.touchcancel=function(){this.reset()},ea.prototype.enable=function(X){this._enabled=!0,this._aroundCenter=!!X&&X.around==="center"},ea.prototype.disable=function(){this._enabled=!1,this.reset()},ea.prototype.isEnabled=function(){return this._enabled},ea.prototype.isActive=function(){return this._active};function la(de,X,ge){for(var ne=0;ne<de.length;ne++)if(de[ne].identifier===ge)return X[ne]}var Aa=.1;function Ta(de,X){return Math.log(de/X)/Math.LN2}var ja=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.reset=function(){de.prototype.reset.call(this),delete this._distance,delete this._startDistance},X.prototype._start=function(ne){this._startDistance=this._distance=ne[0].dist(ne[1])},X.prototype._move=function(ne,ye){var ze=this._distance;if(this._distance=ne[0].dist(ne[1]),!(!this._active&&Math.abs(Ta(this._distance,this._startDistance))<Aa))return this._active=!0,{zoomDelta:Ta(this._distance,ze),pinchAround:ye}},X}(ea),Ra=25;function Va(de,X){return de.angleWith(X)*180/Math.PI}var ni=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.reset=function(){de.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},X.prototype._start=function(ne){this._startVector=this._vector=ne[0].sub(ne[1]),this._minDiameter=ne[0].dist(ne[1])},X.prototype._move=function(ne,ye){var ze=this._vector;if(this._vector=ne[0].sub(ne[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Va(this._vector,ze),pinchAround:ye}},X.prototype._isBelowThreshold=function(ne){this._minDiameter=Math.min(this._minDiameter,ne.mag());var ye=Math.PI*this._minDiameter,ze=Ra/ye*360,Ze=Va(ne,this._startVector);return Math.abs(Ze)<ze},X}(ea);function si(de){return Math.abs(de.y)>Math.abs(de.x)}var gi=100,Gn=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.reset=function(){de.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},X.prototype._start=function(ne){this._lastPoints=ne,si(ne[0].sub(ne[1]))&&(this._valid=!1)},X.prototype._move=function(ne,ye,ze){var Ze=ne[0].sub(this._lastPoints[0]),lt=ne[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ze,lt,ze.timeStamp),!!this._valid){this._lastPoints=ne,this._active=!0;var wt=(Ze.y+lt.y)/2,Ut=-.5;return{pitchDelta:wt*Ut}}},X.prototype.gestureBeginsVertically=function(ne,ye,ze){if(this._valid!==void 0)return this._valid;var Ze=2,lt=ne.mag()>=Ze,wt=ye.mag()>=Ze;if(!(!lt&&!wt)){if(!lt||!wt)return this._firstMove===void 0&&(this._firstMove=ze),ze-this._firstMove<gi?void 0:!1;var Ut=ne.y>0==ye.y>0;return si(ne)&&si(ye)&&Ut}},X}(ea),Ga={panStep:100,bearingStep:15,pitchStep:10},Ua=function(){var X=Ga;this._panStep=X.panStep,this._bearingStep=X.bearingStep,this._pitchStep=X.pitchStep};Ua.prototype.reset=function(){this._active=!1},Ua.prototype.keydown=function(X){var ge=this;if(!(X.altKey||X.ctrlKey||X.metaKey)){var ne=0,ye=0,ze=0,Ze=0,lt=0;switch(X.keyCode){case 61:case 107:case 171:case 187:ne=1;break;case 189:case 109:case 173:ne=-1;break;case 37:X.shiftKey?ye=-1:(X.preventDefault(),Ze=-1);break;case 39:X.shiftKey?ye=1:(X.preventDefault(),Ze=1);break;case 38:X.shiftKey?ze=1:(X.preventDefault(),lt=-1);break;case 40:X.shiftKey?ze=-1:(X.preventDefault(),lt=1);break;default:return}return{cameraAnimation:function(wt){var Ut=wt.getZoom();wt.easeTo({duration:300,easeId:"keyboardHandler",easing:Qa,zoom:ne?Math.round(Ut)+ne*(X.shiftKey?2:1):Ut,bearing:wt.getBearing()+ye*ge._bearingStep,pitch:wt.getPitch()+ze*ge._pitchStep,offset:[-Ze*ge._panStep,-lt*ge._panStep],center:wt.getCenter()},{originalEvent:X})}}}},Ua.prototype.enable=function(){this._enabled=!0},Ua.prototype.disable=function(){this._enabled=!1,this.reset()},Ua.prototype.isEnabled=function(){return this._enabled},Ua.prototype.isActive=function(){return this._active};function Qa(de){return de*(2-de)}var zi=4.000244140625,Ki=1/100,to=1/450,Di=2,bi=function(X,ge){this._map=X,this._el=X.getCanvasContainer(),this._handler=ge,this._delta=0,this._defaultZoomRate=Ki,this._wheelZoomRate=to,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};bi.prototype.setZoomRate=function(X){this._defaultZoomRate=X},bi.prototype.setWheelZoomRate=function(X){this._wheelZoomRate=X},bi.prototype.isEnabled=function(){return!!this._enabled},bi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},bi.prototype.isZooming=function(){return!!this._zooming},bi.prototype.enable=function(X){this.isEnabled()||(this._enabled=!0,this._aroundCenter=X&&X.around==="center")},bi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},bi.prototype.wheel=function(X){if(this.isEnabled()){var ge=X.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?X.deltaY*40:X.deltaY,ne=a.browser.now(),ye=ne-(this._lastWheelEventTime||0);this._lastWheelEventTime=ne,ge!==0&&ge%zi===0?this._type="wheel":ge!==0&&Math.abs(ge)<4?this._type="trackpad":ye>400?(this._type=null,this._lastValue=ge,this._timeout=setTimeout(this._onTimeout,40,X)):this._type||(this._type=Math.abs(ye*ge)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ge+=this._lastValue)),X.shiftKey&&ge&&(ge=ge/4),this._type&&(this._lastWheelEvent=X,this._delta-=ge,this._active||this._start(X)),X.preventDefault()}},bi.prototype._onTimeout=function(X){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(X)},bi.prototype._start=function(X){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ge=w.mousePos(this._el,X);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ge)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},bi.prototype.renderFrame=function(){return this._onScrollFrame()},bi.prototype._onScrollFrame=function(){var X=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ge=this._map.transform;if(this._delta!==0){var ne=this._type==="wheel"&&Math.abs(this._delta)>zi?this._wheelZoomRate:this._defaultZoomRate,ye=Di/(1+Math.exp(-Math.abs(this._delta*ne)));this._delta<0&&ye!==0&&(ye=1/ye);var ze=typeof this._targetZoom=="number"?ge.zoomScale(this._targetZoom):ge.scale;this._targetZoom=Math.min(ge.maxZoom,Math.max(ge.minZoom,ge.scaleZoom(ze*ye))),this._type==="wheel"&&(this._startZoom=ge.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ze=typeof this._targetZoom=="number"?this._targetZoom:ge.zoom,lt=this._startZoom,wt=this._easing,Ut=!1,Jt;if(this._type==="wheel"&&lt&&wt){var fr=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),xr=wt(fr);Jt=a.number(lt,Ze,xr),fr<1?this._frameId||(this._frameId=!0):Ut=!0}else Jt=Ze,Ut=!0;return this._active=!0,Ut&&(this._active=!1,this._finishTimeout=setTimeout(function(){X._zooming=!1,X._handler._triggerRenderFrame(),delete X._targetZoom,delete X._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ut,zoomDelta:Jt-ge.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},bi.prototype._smoothOutEasing=function(X){var ge=a.ease;if(this._prevEase){var ne=this._prevEase,ye=(a.browser.now()-ne.start)/ne.duration,ze=ne.easing(ye+.01)-ne.easing(ye),Ze=.27/Math.sqrt(ze*ze+1e-4)*.01,lt=Math.sqrt(.27*.27-Ze*Ze);ge=a.bezier(Ze,lt,.25,1)}return this._prevEase={start:a.browser.now(),duration:X,easing:ge},ge},bi.prototype.reset=function(){this._active=!1};var xa=function(X,ge){this._clickZoom=X,this._tapZoom=ge};xa.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},xa.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},xa.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},xa.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var La=function(){this.reset()};La.prototype.reset=function(){this._active=!1},La.prototype.dblclick=function(X,ge){return X.preventDefault(),{cameraAnimation:function(ne){ne.easeTo({duration:300,zoom:ne.getZoom()+(X.shiftKey?-1:1),around:ne.unproject(ge)},{originalEvent:X})}}},La.prototype.enable=function(){this._enabled=!0},La.prototype.disable=function(){this._enabled=!1,this.reset()},La.prototype.isEnabled=function(){return this._enabled},La.prototype.isActive=function(){return this._active};var Ii=function(){this._tap=new an({numTouches:1,numTaps:1}),this.reset()};Ii.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ii.prototype.touchstart=function(X,ge,ne){this._swipePoint||(this._tapTime&&X.timeStamp-this._tapTime>nr&&this.reset(),this._tapTime?ne.length>0&&(this._swipePoint=ge[0],this._swipeTouch=ne[0].identifier):this._tap.touchstart(X,ge,ne))},Ii.prototype.touchmove=function(X,ge,ne){if(!this._tapTime)this._tap.touchmove(X,ge,ne);else if(this._swipePoint){if(ne[0].identifier!==this._swipeTouch)return;var ye=ge[0],ze=ye.y-this._swipePoint.y;return this._swipePoint=ye,X.preventDefault(),this._active=!0,{zoomDelta:ze/128}}},Ii.prototype.touchend=function(X,ge,ne){if(this._tapTime)this._swipePoint&&ne.length===0&&this.reset();else{var ye=this._tap.touchend(X,ge,ne);ye&&(this._tapTime=X.timeStamp)}},Ii.prototype.touchcancel=function(){this.reset()},Ii.prototype.enable=function(){this._enabled=!0},Ii.prototype.disable=function(){this._enabled=!1,this.reset()},Ii.prototype.isEnabled=function(){return this._enabled},Ii.prototype.isActive=function(){return this._active};var eo=function(X,ge,ne){this._el=X,this._mousePan=ge,this._touchPan=ne};eo.prototype.enable=function(X){this._inertiaOptions=X||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},eo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},eo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},eo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var is=function(X,ge,ne){this._pitchWithRotate=X.pitchWithRotate,this._mouseRotate=ge,this._mousePitch=ne};is.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},is.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},is.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},is.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var vo=function(X,ge,ne,ye){this._el=X,this._touchZoom=ge,this._touchRotate=ne,this._tapDragZoom=ye,this._rotationDisabled=!1,this._enabled=!0};vo.prototype.enable=function(X){this._touchZoom.enable(X),this._rotationDisabled||this._touchRotate.enable(X),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},vo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},vo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},vo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},vo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},vo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var No=function(de){return de.zoom||de.drag||de.pitch||de.rotate},Ni=function(de){function X(){de.apply(this,arguments)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X}(a.Event);function cs(de){return de.panDelta&&de.panDelta.mag()||de.zoomDelta||de.bearingDelta||de.pitchDelta}var Ei=function(X,ge){this._map=X,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Mi(X),this._bearingSnap=ge.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ge),a.bindAll(["handleEvent","handleWindowEvent"],this);var ne=this._el;this._listeners=[[ne,"touchstart",{passive:!1}],[ne,"touchmove",{passive:!1}],[ne,"touchend",void 0],[ne,"touchcancel",void 0],[ne,"mousedown",void 0],[ne,"mousemove",void 0],[ne,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[ne,"mouseover",void 0],[ne,"mouseout",void 0],[ne,"dblclick",void 0],[ne,"click",void 0],[ne,"keydown",{capture:!1}],[ne,"keyup",void 0],[ne,"wheel",{passive:!1}],[ne,"contextmenu",void 0],[a.window,"blur",void 0]];for(var ye=0,ze=this._listeners;ye<ze.length;ye+=1){var Ze=ze[ye],lt=Ze[0],wt=Ze[1],Ut=Ze[2];w.addEventListener(lt,wt,lt===a.window.document?this.handleWindowEvent:this.handleEvent,Ut)}};Ei.prototype.destroy=function(){for(var X=0,ge=this._listeners;X<ge.length;X+=1){var ne=ge[X],ye=ne[0],ze=ne[1],Ze=ne[2];w.removeEventListener(ye,ze,ye===a.window.document?this.handleWindowEvent:this.handleEvent,Ze)}},Ei.prototype._addDefaultHandlers=function(X){var ge=this._map,ne=ge.getCanvasContainer();this._add("mapEvent",new ot(ge,X));var ye=ge.boxZoom=new ft(ge,X);this._add("boxZoom",ye);var ze=new kr,Ze=new La;ge.doubleClickZoom=new xa(Ze,ze),this._add("tapZoom",ze),this._add("clickZoom",Ze);var lt=new Ii;this._add("tapDragZoom",lt);var wt=ge.touchPitch=new Gn;this._add("touchPitch",wt);var Ut=new Kr(X),Jt=new Hn(X);ge.dragRotate=new is(X,Ut,Jt),this._add("mouseRotate",Ut,["mousePitch"]),this._add("mousePitch",Jt,["mouseRotate"]);var fr=new vn(X),xr=new Yn(X);ge.dragPan=new eo(ne,fr,xr),this._add("mousePan",fr),this._add("touchPan",xr,["touchZoom","touchRotate"]);var zr=new ni,Wr=new ja;ge.touchZoomRotate=new vo(ne,Wr,zr,lt),this._add("touchRotate",zr,["touchPan","touchZoom"]),this._add("touchZoom",Wr,["touchPan","touchRotate"]);var Yr=ge.scrollZoom=new bi(ge,this);this._add("scrollZoom",Yr,["mousePan"]);var Vr=ge.keyboard=new Ua;this._add("keyboard",Vr),this._add("blockableMapEvent",new Pt(ge));for(var qr=0,cn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];qr<cn.length;qr+=1){var Dn=cn[qr];X.interactive&&X[Dn]&&ge[Dn].enable(X[Dn])}},Ei.prototype._add=function(X,ge,ne){this._handlers.push({handlerName:X,handler:ge,allowed:ne}),this._handlersById[X]=ge},Ei.prototype.stop=function(){if(!this._updatingCamera){for(var X=0,ge=this._handlers;X<ge.length;X+=1){var ne=ge[X],ye=ne.handler;ye.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},Ei.prototype.isActive=function(){for(var X=0,ge=this._handlers;X<ge.length;X+=1){var ne=ge[X],ye=ne.handler;if(ye.isActive())return!0}return!1},Ei.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Ei.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Ei.prototype.isMoving=function(){return!!No(this._eventsInProgress)||this.isZooming()},Ei.prototype._blockedByActive=function(X,ge,ne){for(var ye in X)if(ye!==ne&&(!ge||ge.indexOf(ye)<0))return!0;return!1},Ei.prototype.handleWindowEvent=function(X){this.handleEvent(X,X.type+"Window")},Ei.prototype._getMapTouches=function(X){for(var ge=[],ne=0,ye=X;ne<ye.length;ne+=1){var ze=ye[ne],Ze=ze.target;this._el.contains(Ze)&&ge.push(ze)}return ge},Ei.prototype.handleEvent=function(X,ge){if(X.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var ne=X.type==="renderFrame"?void 0:X,ye={needsRenderFrame:!1},ze={},Ze={},lt=X.touches?this._getMapTouches(X.touches):void 0,wt=lt?w.touchPos(this._el,lt):w.mousePos(this._el,X),Ut=0,Jt=this._handlers;Ut<Jt.length;Ut+=1){var fr=Jt[Ut],xr=fr.handlerName,zr=fr.handler,Wr=fr.allowed;if(zr.isEnabled()){var Yr=void 0;this._blockedByActive(Ze,Wr,xr)?zr.reset():zr[ge||X.type]&&(Yr=zr[ge||X.type](X,wt,lt),this.mergeHandlerResult(ye,ze,Yr,xr,ne),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||zr.isActive())&&(Ze[xr]=zr)}}var Vr={};for(var qr in this._previousActiveHandlers)Ze[qr]||(Vr[qr]=ne);this._previousActiveHandlers=Ze,(Object.keys(Vr).length||cs(ye))&&(this._changes.push([ye,ze,Vr]),this._triggerRenderFrame()),(Object.keys(Ze).length||cs(ye))&&this._map._stop(!0),this._updatingCamera=!1;var cn=ye.cameraAnimation;cn&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],cn(this._map))},Ei.prototype.mergeHandlerResult=function(X,ge,ne,ye,ze){if(ne){a.extend(X,ne);var Ze={handlerName:ye,originalEvent:ne.originalEvent||ze};ne.zoomDelta!==void 0&&(ge.zoom=Ze),ne.panDelta!==void 0&&(ge.drag=Ze),ne.pitchDelta!==void 0&&(ge.pitch=Ze),ne.bearingDelta!==void 0&&(ge.rotate=Ze)}},Ei.prototype._applyChanges=function(){for(var X={},ge={},ne={},ye=0,ze=this._changes;ye<ze.length;ye+=1){var Ze=ze[ye],lt=Ze[0],wt=Ze[1],Ut=Ze[2];lt.panDelta&&(X.panDelta=(X.panDelta||new a.Point(0,0))._add(lt.panDelta)),lt.zoomDelta&&(X.zoomDelta=(X.zoomDelta||0)+lt.zoomDelta),lt.bearingDelta&&(X.bearingDelta=(X.bearingDelta||0)+lt.bearingDelta),lt.pitchDelta&&(X.pitchDelta=(X.pitchDelta||0)+lt.pitchDelta),lt.around!==void 0&&(X.around=lt.around),lt.pinchAround!==void 0&&(X.pinchAround=lt.pinchAround),lt.noInertia&&(X.noInertia=lt.noInertia),a.extend(ge,wt),a.extend(ne,Ut)}this._updateMapTransform(X,ge,ne),this._changes=[]},Ei.prototype._updateMapTransform=function(X,ge,ne){var ye=this._map,ze=ye.transform;if(!cs(X))return this._fireEvents(ge,ne);var Ze=X.panDelta,lt=X.zoomDelta,wt=X.bearingDelta,Ut=X.pitchDelta,Jt=X.around,fr=X.pinchAround;fr!==void 0&&(Jt=fr),ye._stop(!0),Jt=Jt||ye.transform.centerPoint;var xr=ze.pointLocation(Ze?Jt.sub(Ze):Jt);wt&&(ze.bearing+=wt),Ut&&(ze.pitch+=Ut),lt&&(ze.zoom+=lt),ze.setLocationAtPoint(xr,Jt),this._map._update(),X.noInertia||this._inertia.record(X),this._fireEvents(ge,ne)},Ei.prototype._fireEvents=function(X,ge){var ne=this,ye=No(this._eventsInProgress),ze=No(X),Ze={};for(var lt in X){var wt=X[lt],Ut=wt.originalEvent;this._eventsInProgress[lt]||(Ze[lt+"start"]=Ut),this._eventsInProgress[lt]=X[lt]}!ye&&ze&&this._fireEvent("movestart",ze.originalEvent);for(var Jt in Ze)this._fireEvent(Jt,Ze[Jt]);X.rotate&&(this._bearingChanged=!0),ze&&this._fireEvent("move",ze.originalEvent);for(var fr in X){var xr=X[fr],zr=xr.originalEvent;this._fireEvent(fr,zr)}var Wr={},Yr;for(var Vr in this._eventsInProgress){var qr=this._eventsInProgress[Vr],cn=qr.handlerName,Dn=qr.originalEvent;this._handlersById[cn].isActive()||(delete this._eventsInProgress[Vr],Yr=ge[cn]||Dn,Wr[Vr+"end"]=Yr)}for(var On in Wr)this._fireEvent(On,Wr[On]);var $n=No(this._eventsInProgress);if((ye||ze)&&!$n){this._updatingCamera=!0;var Jn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Kn=function(oa){return oa!==0&&-ne._bearingSnap<oa&&oa<ne._bearingSnap};Jn?(Kn(Jn.bearing||this._map.getBearing())&&(Jn.bearing=0),this._map.easeTo(Jn,{originalEvent:Yr})):(this._map.fire(new a.Event("moveend",{originalEvent:Yr})),Kn(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},Ei.prototype._fireEvent=function(X,ge){this._map.fire(new a.Event(X,ge?{originalEvent:ge}:{}))},Ei.prototype._triggerRenderFrame=function(){var X=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(ge){delete X._frameId,X.handleEvent(new Ni("renderFrame",{timeStamp:ge})),X._applyChanges()}))};var Hs=function(de){function X(ge,ne){de.call(this),this._moving=!1,this._zooming=!1,this.transform=ge,this._bearingSnap=ne.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},X.prototype.setCenter=function(ne,ye){return this.jumpTo({center:ne},ye)},X.prototype.panBy=function(ne,ye,ze){return ne=a.Point.convert(ne).mult(-1),this.panTo(this.transform.center,a.extend({offset:ne},ye),ze)},X.prototype.panTo=function(ne,ye,ze){return this.easeTo(a.extend({center:ne},ye),ze)},X.prototype.getZoom=function(){return this.transform.zoom},X.prototype.setZoom=function(ne,ye){return this.jumpTo({zoom:ne},ye),this},X.prototype.zoomTo=function(ne,ye,ze){return this.easeTo(a.extend({zoom:ne},ye),ze)},X.prototype.zoomIn=function(ne,ye){return this.zoomTo(this.getZoom()+1,ne,ye),this},X.prototype.zoomOut=function(ne,ye){return this.zoomTo(this.getZoom()-1,ne,ye),this},X.prototype.getBearing=function(){return this.transform.bearing},X.prototype.setBearing=function(ne,ye){return this.jumpTo({bearing:ne},ye),this},X.prototype.getPadding=function(){return this.transform.padding},X.prototype.setPadding=function(ne,ye){return this.jumpTo({padding:ne},ye),this},X.prototype.rotateTo=function(ne,ye,ze){return this.easeTo(a.extend({bearing:ne},ye),ze)},X.prototype.resetNorth=function(ne,ye){return this.rotateTo(0,a.extend({duration:1e3},ne),ye),this},X.prototype.resetNorthPitch=function(ne,ye){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},ne),ye),this},X.prototype.snapToNorth=function(ne,ye){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ne,ye):this},X.prototype.getPitch=function(){return this.transform.pitch},X.prototype.setPitch=function(ne,ye){return this.jumpTo({pitch:ne},ye),this},X.prototype.cameraForBounds=function(ne,ye){return ne=a.LngLatBounds.convert(ne),this._cameraForBoxAndBearing(ne.getNorthWest(),ne.getSouthEast(),0,ye)},X.prototype._cameraForBoxAndBearing=function(ne,ye,ze,Ze){var lt={top:0,bottom:0,right:0,left:0};if(Ze=a.extend({padding:lt,offset:[0,0],maxZoom:this.transform.maxZoom},Ze),typeof Ze.padding=="number"){var wt=Ze.padding;Ze.padding={top:wt,bottom:wt,right:wt,left:wt}}Ze.padding=a.extend(lt,Ze.padding);var Ut=this.transform,Jt=Ut.padding,fr=Ut.project(a.LngLat.convert(ne)),xr=Ut.project(a.LngLat.convert(ye)),zr=fr.rotate(-ze*Math.PI/180),Wr=xr.rotate(-ze*Math.PI/180),Yr=new a.Point(Math.max(zr.x,Wr.x),Math.max(zr.y,Wr.y)),Vr=new a.Point(Math.min(zr.x,Wr.x),Math.min(zr.y,Wr.y)),qr=Yr.sub(Vr),cn=(Ut.width-(Jt.left+Jt.right+Ze.padding.left+Ze.padding.right))/qr.x,Dn=(Ut.height-(Jt.top+Jt.bottom+Ze.padding.top+Ze.padding.bottom))/qr.y;if(Dn<0||cn<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var On=Math.min(Ut.scaleZoom(Ut.scale*Math.min(cn,Dn)),Ze.maxZoom),$n=a.Point.convert(Ze.offset),Jn=(Ze.padding.left-Ze.padding.right)/2,Kn=(Ze.padding.top-Ze.padding.bottom)/2,oa=new a.Point($n.x+Jn,$n.y+Kn),va=oa.mult(Ut.scale/Ut.zoomScale(On)),ha=Ut.unproject(fr.add(xr).div(2).sub(va));return{center:ha,zoom:On,bearing:ze}},X.prototype.fitBounds=function(ne,ye,ze){return this._fitInternal(this.cameraForBounds(ne,ye),ye,ze)},X.prototype.fitScreenCoordinates=function(ne,ye,ze,Ze,lt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(ne)),this.transform.pointLocation(a.Point.convert(ye)),ze,Ze),Ze,lt)},X.prototype._fitInternal=function(ne,ye,ze){return ne?(ye=a.extend(ne,ye),delete ye.padding,ye.linear?this.easeTo(ye,ze):this.flyTo(ye,ze)):this},X.prototype.jumpTo=function(ne,ye){this.stop();var ze=this.transform,Ze=!1,lt=!1,wt=!1;return"zoom"in ne&&ze.zoom!==+ne.zoom&&(Ze=!0,ze.zoom=+ne.zoom),ne.center!==void 0&&(ze.center=a.LngLat.convert(ne.center)),"bearing"in ne&&ze.bearing!==+ne.bearing&&(lt=!0,ze.bearing=+ne.bearing),"pitch"in ne&&ze.pitch!==+ne.pitch&&(wt=!0,ze.pitch=+ne.pitch),ne.padding!=null&&!ze.isPaddingEqual(ne.padding)&&(ze.padding=ne.padding),this.fire(new a.Event("movestart",ye)).fire(new a.Event("move",ye)),Ze&&this.fire(new a.Event("zoomstart",ye)).fire(new a.Event("zoom",ye)).fire(new a.Event("zoomend",ye)),lt&&this.fire(new a.Event("rotatestart",ye)).fire(new a.Event("rotate",ye)).fire(new a.Event("rotateend",ye)),wt&&this.fire(new a.Event("pitchstart",ye)).fire(new a.Event("pitch",ye)).fire(new a.Event("pitchend",ye)),this.fire(new a.Event("moveend",ye))},X.prototype.easeTo=function(ne,ye){var ze=this;this._stop(!1,ne.easeId),ne=a.extend({offset:[0,0],duration:500,easing:a.ease},ne),(ne.animate===!1||!ne.essential&&a.browser.prefersReducedMotion)&&(ne.duration=0);var Ze=this.transform,lt=this.getZoom(),wt=this.getBearing(),Ut=this.getPitch(),Jt=this.getPadding(),fr="zoom"in ne?+ne.zoom:lt,xr="bearing"in ne?this._normalizeBearing(ne.bearing,wt):wt,zr="pitch"in ne?+ne.pitch:Ut,Wr="padding"in ne?ne.padding:Ze.padding,Yr=a.Point.convert(ne.offset),Vr=Ze.centerPoint.add(Yr),qr=Ze.pointLocation(Vr),cn=a.LngLat.convert(ne.center||qr);this._normalizeCenter(cn);var Dn=Ze.project(qr),On=Ze.project(cn).sub(Dn),$n=Ze.zoomScale(fr-lt),Jn,Kn;ne.around&&(Jn=a.LngLat.convert(ne.around),Kn=Ze.locationPoint(Jn));var oa={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||fr!==lt,this._rotating=this._rotating||wt!==xr,this._pitching=this._pitching||zr!==Ut,this._padding=!Ze.isPaddingEqual(Wr),this._easeId=ne.easeId,this._prepareEase(ye,ne.noMoveStart,oa),clearTimeout(this._easeEndTimeoutID),this._ease(function(va){if(ze._zooming&&(Ze.zoom=a.number(lt,fr,va)),ze._rotating&&(Ze.bearing=a.number(wt,xr,va)),ze._pitching&&(Ze.pitch=a.number(Ut,zr,va)),ze._padding&&(Ze.interpolatePadding(Jt,Wr,va),Vr=Ze.centerPoint.add(Yr)),Jn)Ze.setLocationAtPoint(Jn,Kn);else{var ha=Ze.zoomScale(Ze.zoom-lt),ma=fr>lt?Math.min(2,$n):Math.max(.5,$n),Ma=Math.pow(ma,1-va),_a=Ze.unproject(Dn.add(On.mult(va*Ma)).mult(ha));Ze.setLocationAtPoint(Ze.renderWorldCopies?_a.wrap():_a,Vr)}ze._fireMoveEvents(ye)},function(va){ze._afterEase(ye,va)},ne),this},X.prototype._prepareEase=function(ne,ye,ze){ze===void 0&&(ze={}),this._moving=!0,!ye&&!ze.moving&&this.fire(new a.Event("movestart",ne)),this._zooming&&!ze.zooming&&this.fire(new a.Event("zoomstart",ne)),this._rotating&&!ze.rotating&&this.fire(new a.Event("rotatestart",ne)),this._pitching&&!ze.pitching&&this.fire(new a.Event("pitchstart",ne))},X.prototype._fireMoveEvents=function(ne){this.fire(new a.Event("move",ne)),this._zooming&&this.fire(new a.Event("zoom",ne)),this._rotating&&this.fire(new a.Event("rotate",ne)),this._pitching&&this.fire(new a.Event("pitch",ne))},X.prototype._afterEase=function(ne,ye){if(!(this._easeId&&ye&&this._easeId===ye)){delete this._easeId;var ze=this._zooming,Ze=this._rotating,lt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ze&&this.fire(new a.Event("zoomend",ne)),Ze&&this.fire(new a.Event("rotateend",ne)),lt&&this.fire(new a.Event("pitchend",ne)),this.fire(new a.Event("moveend",ne))}},X.prototype.flyTo=function(ne,ye){var ze=this;if(!ne.essential&&a.browser.prefersReducedMotion){var Ze=a.pick(ne,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ze,ye)}this.stop(),ne=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},ne);var lt=this.transform,wt=this.getZoom(),Ut=this.getBearing(),Jt=this.getPitch(),fr=this.getPadding(),xr="zoom"in ne?a.clamp(+ne.zoom,lt.minZoom,lt.maxZoom):wt,zr="bearing"in ne?this._normalizeBearing(ne.bearing,Ut):Ut,Wr="pitch"in ne?+ne.pitch:Jt,Yr="padding"in ne?ne.padding:lt.padding,Vr=lt.zoomScale(xr-wt),qr=a.Point.convert(ne.offset),cn=lt.centerPoint.add(qr),Dn=lt.pointLocation(cn),On=a.LngLat.convert(ne.center||Dn);this._normalizeCenter(On);var $n=lt.project(Dn),Jn=lt.project(On).sub($n),Kn=ne.curve,oa=Math.max(lt.width,lt.height),va=oa/Vr,ha=Jn.mag();if("minZoom"in ne){var ma=a.clamp(Math.min(ne.minZoom,wt,xr),lt.minZoom,lt.maxZoom),Ma=oa/lt.zoomScale(ma-wt);Kn=Math.sqrt(Ma/ha*2)}var _a=Kn*Kn;function Ya(Za){var ai=(va*va-oa*oa+(Za?-1:1)*_a*_a*ha*ha)/(2*(Za?va:oa)*_a*ha);return Math.log(Math.sqrt(ai*ai+1)-ai)}function hi(Za){return(Math.exp(Za)-Math.exp(-Za))/2}function $a(Za){return(Math.exp(Za)+Math.exp(-Za))/2}function ti(Za){return hi(Za)/$a(Za)}var Ia=Ya(0),vi=function(Za){return $a(Ia)/$a(Ia+Kn*Za)},yi=function(Za){return oa*(($a(Ia)*ti(Ia+Kn*Za)-hi(Ia))/_a)/ha},Ti=(Ya(1)-Ia)/Kn;if(Math.abs(ha)<1e-6||!isFinite(Ti)){if(Math.abs(oa-va)<1e-6)return this.easeTo(ne,ye);var ri=va<oa?-1:1;Ti=Math.abs(Math.log(va/oa))/Kn,yi=function(){return 0},vi=function(Za){return Math.exp(ri*Kn*Za)}}if("duration"in ne)ne.duration=+ne.duration;else{var Fi="screenSpeed"in ne?+ne.screenSpeed/Kn:+ne.speed;ne.duration=1e3*Ti/Fi}return ne.maxDuration&&ne.duration>ne.maxDuration&&(ne.duration=0),this._zooming=!0,this._rotating=Ut!==zr,this._pitching=Wr!==Jt,this._padding=!lt.isPaddingEqual(Yr),this._prepareEase(ye,!1),this._ease(function(Za){var ai=Za*Ti,ro=1/vi(ai);lt.zoom=Za===1?xr:wt+lt.scaleZoom(ro),ze._rotating&&(lt.bearing=a.number(Ut,zr,Za)),ze._pitching&&(lt.pitch=a.number(Jt,Wr,Za)),ze._padding&&(lt.interpolatePadding(fr,Yr,Za),cn=lt.centerPoint.add(qr));var To=Za===1?On:lt.unproject($n.add(Jn.mult(yi(ai))).mult(ro));lt.setLocationAtPoint(lt.renderWorldCopies?To.wrap():To,cn),ze._fireMoveEvents(ye)},function(){return ze._afterEase(ye)},ne),this},X.prototype.isEasing=function(){return!!this._easeFrameId},X.prototype.stop=function(){return this._stop()},X.prototype._stop=function(ne,ye){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ze=this._onEaseEnd;delete this._onEaseEnd,ze.call(this,ye)}if(!ne){var Ze=this.handlers;Ze&&Ze.stop()}return this},X.prototype._ease=function(ne,ye,ze){ze.animate===!1||ze.duration===0?(ne(1),ye()):(this._easeStart=a.browser.now(),this._easeOptions=ze,this._onEaseFrame=ne,this._onEaseEnd=ye,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},X.prototype._renderFrameCallback=function(){var ne=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ne)),ne<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},X.prototype._normalizeBearing=function(ne,ye){ne=a.wrap(ne,-180,180);var ze=Math.abs(ne-ye);return Math.abs(ne-360-ye)<ze&&(ne-=360),Math.abs(ne+360-ye)<ze&&(ne+=360),ne},X.prototype._normalizeCenter=function(ne){var ye=this.transform;if(!(!ye.renderWorldCopies||ye.lngRange)){var ze=ne.lng-ye.center.lng;ne.lng+=ze>180?-360:ze<-180?360:0}},X}(a.Evented),hs=function(X){X===void 0&&(X={}),this.options=X,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};hs.prototype.getDefaultPosition=function(){return"bottom-right"},hs.prototype.onAdd=function(X){var ge=this.options&&this.options.compact;return this._map=X,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=w.create("div","mapboxgl-ctrl-attrib-inner",this._container),ge&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ge===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},hs.prototype.onRemove=function(){w.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},hs.prototype._updateEditLink=function(){var X=this._editLink;X||(X=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ge=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(X){var ne=ge.reduce(function(ye,ze,Ze){return ze.value&&(ye+=ze.key+"="+ze.value+(Ze<ge.length-1?"&":"")),ye},"?");X.href=a.config.FEEDBACK_URL+"/"+ne+(this._map._hash?this._map._hash.getHashString(!0):""),X.rel="noopener nofollow"}},hs.prototype._updateData=function(X){X&&(X.sourceDataType==="metadata"||X.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},hs.prototype._updateAttributions=function(){if(this._map.style){var X=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?X=X.concat(this.options.customAttribution.map(function(wt){return typeof wt!="string"?"":wt})):typeof this.options.customAttribution=="string"&&X.push(this.options.customAttribution)),this._map.style.stylesheet){var ge=this._map.style.stylesheet;this.styleOwner=ge.owner,this.styleId=ge.id}var ne=this._map.style.sourceCaches;for(var ye in ne){var ze=ne[ye];if(ze.used){var Ze=ze.getSource();Ze.attribution&&X.indexOf(Ze.attribution)<0&&X.push(Ze.attribution)}}X.sort(function(wt,Ut){return wt.length-Ut.length}),X=X.filter(function(wt,Ut){for(var Jt=Ut+1;Jt<X.length;Jt++)if(X[Jt].indexOf(wt)>=0)return!1;return!0});var lt=X.join(" | ");lt!==this._attribHTML&&(this._attribHTML=lt,X.length?(this._innerContainer.innerHTML=lt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},hs.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var ei=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};ei.prototype.onAdd=function(X){this._map=X,this._container=w.create("div","mapboxgl-ctrl");var ge=w.create("a","mapboxgl-ctrl-logo");return ge.target="_blank",ge.rel="noopener nofollow",ge.href="https://www.mapbox.com/",ge.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ge.setAttribute("rel","noopener nofollow"),this._container.appendChild(ge),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ei.prototype.onRemove=function(){w.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ei.prototype.getDefaultPosition=function(){return"bottom-left"},ei.prototype._updateLogo=function(X){(!X||X.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},ei.prototype._logoRequired=function(){if(this._map.style){var X=this._map.style.sourceCaches;for(var ge in X){var ne=X[ge].getSource();if(ne.mapbox_logo)return!0}return!1}},ei.prototype._updateCompact=function(){var X=this._container.children;if(X.length){var ge=X[0];this._map.getCanvasContainer().offsetWidth<250?ge.classList.add("mapboxgl-compact"):ge.classList.remove("mapboxgl-compact")}};var ki=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};ki.prototype.add=function(X){var ge=++this._id,ne=this._queue;return ne.push({callback:X,id:ge,cancelled:!1}),ge},ki.prototype.remove=function(X){for(var ge=this._currentlyRunning,ne=ge?this._queue.concat(ge):this._queue,ye=0,ze=ne;ye<ze.length;ye+=1){var Ze=ze[ye];if(Ze.id===X){Ze.cancelled=!0;return}}},ki.prototype.run=function(X){X===void 0&&(X=0);var ge=this._currentlyRunning=this._queue;this._queue=[];for(var ne=0,ye=ge;ne<ye.length;ne+=1){var ze=ye[ne];if(!ze.cancelled&&(ze.callback(X),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},ki.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var fh={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Mc=a.window.HTMLImageElement,wv=a.window.HTMLElement,Ff=a.window.ImageBitmap,ch=-2,id=22,Ss=0,_f=60,kp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:ch,maxZoom:id,minPitch:Ss,maxPitch:_f,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Fp=function(de){function X(ne){var ye=this;if(ne=a.extend({},kp,ne),ne.minZoom!=null&&ne.maxZoom!=null&&ne.minZoom>ne.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ne.minPitch!=null&&ne.maxPitch!=null&&ne.minPitch>ne.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ne.minPitch!=null&&ne.minPitch<Ss)throw new Error("minPitch must be greater than or equal to "+Ss);if(ne.maxPitch!=null&&ne.maxPitch>_f)throw new Error("maxPitch must be less than or equal to "+_f);var ze=new Sn(ne.minZoom,ne.maxZoom,ne.minPitch,ne.maxPitch,ne.renderWorldCopies);if(de.call(this,ze,ne),this._interactive=ne.interactive,this._maxTileCacheSize=ne.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ne.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ne.preserveDrawingBuffer,this._antialias=ne.antialias,this._trackResize=ne.trackResize,this._bearingSnap=ne.bearingSnap,this._refreshExpiredTiles=ne.refreshExpiredTiles,this._fadeDuration=ne.fadeDuration,this._crossSourceCollisions=ne.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ne.collectResourceTiming,this._renderTaskQueue=new ki,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},fh,ne.locale),this._requestManager=new a.RequestManager(ne.transformRequest,ne.accessToken),typeof ne.container=="string"){if(this._container=a.window.document.getElementById(ne.container),!this._container)throw new Error("Container '"+ne.container+"' not found.")}else if(ne.container instanceof wv)this._container=ne.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ne.maxBounds&&this.setMaxBounds(ne.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new Ei(this,ne);var Ze=typeof ne.hash=="string"&&ne.hash||void 0;this._hash=ne.hash&&new Da(Ze).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ne.center,zoom:ne.zoom,bearing:ne.bearing,pitch:ne.pitch}),ne.bounds&&(this.resize(),this.fitBounds(ne.bounds,a.extend({},ne.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ne.localIdeographFontFamily,ne.style&&this.setStyle(ne.style,{localIdeographFontFamily:ne.localIdeographFontFamily}),ne.attributionControl&&this.addControl(new hs({customAttribution:ne.customAttribution})),this.addControl(new ei,ne.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(lt){ye._update(lt.dataType==="style"),ye.fire(new a.Event(lt.dataType+"data",lt))}),this.on("dataloading",function(lt){ye.fire(new a.Event(lt.dataType+"dataloading",lt))})}de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X;var ge={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return X.prototype._getMapId=function(){return this._mapId},X.prototype.addControl=function(ye,ze){if(ze===void 0&&ye.getDefaultPosition&&(ze=ye.getDefaultPosition()),ze===void 0&&(ze="top-right"),!ye||!ye.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ze=ye.onAdd(this);this._controls.push(ye);var lt=this._controlPositions[ze];return ze.indexOf("bottom")!==-1?lt.insertBefore(Ze,lt.firstChild):lt.appendChild(Ze),this},X.prototype.removeControl=function(ye){if(!ye||!ye.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ze=this._controls.indexOf(ye);return ze>-1&&this._controls.splice(ze,1),ye.onRemove(this),this},X.prototype.resize=function(ye){var ze=this._containerDimensions(),Ze=ze[0],lt=ze[1];this._resizeCanvas(Ze,lt),this.transform.resize(Ze,lt),this.painter.resize(Ze,lt);var wt=!this._moving;return wt&&(this.stop(),this.fire(new a.Event("movestart",ye)).fire(new a.Event("move",ye))),this.fire(new a.Event("resize",ye)),wt&&this.fire(new a.Event("moveend",ye)),this},X.prototype.getBounds=function(){return this.transform.getBounds()},X.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},X.prototype.setMaxBounds=function(ye){return this.transform.setMaxBounds(a.LngLatBounds.convert(ye)),this._update()},X.prototype.setMinZoom=function(ye){if(ye=ye??ch,ye>=ch&&ye<=this.transform.maxZoom)return this.transform.minZoom=ye,this._update(),this.getZoom()<ye&&this.setZoom(ye),this;throw new Error("minZoom must be between "+ch+" and the current maxZoom, inclusive")},X.prototype.getMinZoom=function(){return this.transform.minZoom},X.prototype.setMaxZoom=function(ye){if(ye=ye??id,ye>=this.transform.minZoom)return this.transform.maxZoom=ye,this._update(),this.getZoom()>ye&&this.setZoom(ye),this;throw new Error("maxZoom must be greater than the current minZoom")},X.prototype.getMaxZoom=function(){return this.transform.maxZoom},X.prototype.setMinPitch=function(ye){if(ye=ye??Ss,ye<Ss)throw new Error("minPitch must be greater than or equal to "+Ss);if(ye>=Ss&&ye<=this.transform.maxPitch)return this.transform.minPitch=ye,this._update(),this.getPitch()<ye&&this.setPitch(ye),this;throw new Error("minPitch must be between "+Ss+" and the current maxPitch, inclusive")},X.prototype.getMinPitch=function(){return this.transform.minPitch},X.prototype.setMaxPitch=function(ye){if(ye=ye??_f,ye>_f)throw new Error("maxPitch must be less than or equal to "+_f);if(ye>=this.transform.minPitch)return this.transform.maxPitch=ye,this._update(),this.getPitch()>ye&&this.setPitch(ye),this;throw new Error("maxPitch must be greater than the current minPitch")},X.prototype.getMaxPitch=function(){return this.transform.maxPitch},X.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},X.prototype.setRenderWorldCopies=function(ye){return this.transform.renderWorldCopies=ye,this._update()},X.prototype.project=function(ye){return this.transform.locationPoint(a.LngLat.convert(ye))},X.prototype.unproject=function(ye){return this.transform.pointLocation(a.Point.convert(ye))},X.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},X.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},X.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},X.prototype._createDelegatedListener=function(ye,ze,Ze){var lt=this,wt;if(ye==="mouseenter"||ye==="mouseover"){var Ut=!1,Jt=function(Vr){var qr=lt.getLayer(ze)?lt.queryRenderedFeatures(Vr.point,{layers:[ze]}):[];qr.length?Ut||(Ut=!0,Ze.call(lt,new Ge(ye,lt,Vr.originalEvent,{features:qr}))):Ut=!1},fr=function(){Ut=!1};return{layer:ze,listener:Ze,delegates:{mousemove:Jt,mouseout:fr}}}else if(ye==="mouseleave"||ye==="mouseout"){var xr=!1,zr=function(Vr){var qr=lt.getLayer(ze)?lt.queryRenderedFeatures(Vr.point,{layers:[ze]}):[];qr.length?xr=!0:xr&&(xr=!1,Ze.call(lt,new Ge(ye,lt,Vr.originalEvent)))},Wr=function(Vr){xr&&(xr=!1,Ze.call(lt,new Ge(ye,lt,Vr.originalEvent)))};return{layer:ze,listener:Ze,delegates:{mousemove:zr,mouseout:Wr}}}else{var Yr=function(Vr){var qr=lt.getLayer(ze)?lt.queryRenderedFeatures(Vr.point,{layers:[ze]}):[];qr.length&&(Vr.features=qr,Ze.call(lt,Vr),delete Vr.features)};return{layer:ze,listener:Ze,delegates:(wt={},wt[ye]=Yr,wt)}}},X.prototype.on=function(ye,ze,Ze){if(Ze===void 0)return de.prototype.on.call(this,ye,ze);var lt=this._createDelegatedListener(ye,ze,Ze);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ye]=this._delegatedListeners[ye]||[],this._delegatedListeners[ye].push(lt);for(var wt in lt.delegates)this.on(wt,lt.delegates[wt]);return this},X.prototype.once=function(ye,ze,Ze){if(Ze===void 0)return de.prototype.once.call(this,ye,ze);var lt=this._createDelegatedListener(ye,ze,Ze);for(var wt in lt.delegates)this.once(wt,lt.delegates[wt]);return this},X.prototype.off=function(ye,ze,Ze){var lt=this;if(Ze===void 0)return de.prototype.off.call(this,ye,ze);var wt=function(Ut){for(var Jt=Ut[ye],fr=0;fr<Jt.length;fr++){var xr=Jt[fr];if(xr.layer===ze&&xr.listener===Ze){for(var zr in xr.delegates)lt.off(zr,xr.delegates[zr]);return Jt.splice(fr,1),lt}}};return this._delegatedListeners&&this._delegatedListeners[ye]&&wt(this._delegatedListeners),this},X.prototype.queryRenderedFeatures=function(ye,ze){if(!this.style)return[];ze===void 0&&ye!==void 0&&!(ye instanceof a.Point)&&!Array.isArray(ye)&&(ze=ye,ye=void 0),ze=ze||{},ye=ye||[[0,0],[this.transform.width,this.transform.height]];var Ze;if(ye instanceof a.Point||typeof ye[0]=="number")Ze=[a.Point.convert(ye)];else{var lt=a.Point.convert(ye[0]),wt=a.Point.convert(ye[1]);Ze=[lt,new a.Point(wt.x,lt.y),wt,new a.Point(lt.x,wt.y),lt]}return this.style.queryRenderedFeatures(Ze,ze,this.transform)},X.prototype.querySourceFeatures=function(ye,ze){return this.style.querySourceFeatures(ye,ze)},X.prototype.setStyle=function(ye,ze){return ze=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ze),ze.diff!==!1&&ze.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ye?(this._diffStyle(ye,ze),this):(this._localIdeographFontFamily=ze.localIdeographFontFamily,this._updateStyle(ye,ze))},X.prototype._getUIString=function(ye){var ze=this._locale[ye];if(ze==null)throw new Error("Missing UI string '"+ye+"'");return ze},X.prototype._updateStyle=function(ye,ze){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ye)this.style=new Oo(this,ze||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ye=="string"?this.style.loadURL(ye):this.style.loadJSON(ye),this},X.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Oo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},X.prototype._diffStyle=function(ye,ze){var Ze=this;if(typeof ye=="string"){var lt=this._requestManager.normalizeStyleURL(ye),wt=this._requestManager.transformRequest(lt,a.ResourceType.Style);a.getJSON(wt,function(Ut,Jt){Ut?Ze.fire(new a.ErrorEvent(Ut)):Jt&&Ze._updateDiff(Jt,ze)})}else typeof ye=="object"&&this._updateDiff(ye,ze)},X.prototype._updateDiff=function(ye,ze){try{this.style.setState(ye)&&this._update(!0)}catch(Ze){a.warnOnce("Unable to perform style diff: "+(Ze.message||Ze.error||Ze)+".  Rebuilding the style from scratch."),this._updateStyle(ye,ze)}},X.prototype.getStyle=function(){if(this.style)return this.style.serialize()},X.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},X.prototype.addSource=function(ye,ze){return this._lazyInitEmptyStyle(),this.style.addSource(ye,ze),this._update(!0)},X.prototype.isSourceLoaded=function(ye){var ze=this.style&&this.style.sourceCaches[ye];if(ze===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+ye+"'")));return}return ze.loaded()},X.prototype.areTilesLoaded=function(){var ye=this.style&&this.style.sourceCaches;for(var ze in ye){var Ze=ye[ze],lt=Ze._tiles;for(var wt in lt){var Ut=lt[wt];if(!(Ut.state==="loaded"||Ut.state==="errored"))return!1}}return!0},X.prototype.addSourceType=function(ye,ze,Ze){return this._lazyInitEmptyStyle(),this.style.addSourceType(ye,ze,Ze)},X.prototype.removeSource=function(ye){return this.style.removeSource(ye),this._update(!0)},X.prototype.getSource=function(ye){return this.style.getSource(ye)},X.prototype.addImage=function(ye,ze,Ze){Ze===void 0&&(Ze={});var lt=Ze.pixelRatio;lt===void 0&&(lt=1);var wt=Ze.sdf;wt===void 0&&(wt=!1);var Ut=Ze.stretchX,Jt=Ze.stretchY,fr=Ze.content;this._lazyInitEmptyStyle();var xr=0;if(ze instanceof Mc||Ff&&ze instanceof Ff){var zr=a.browser.getImageData(ze),Wr=zr.width,Yr=zr.height,Vr=zr.data;this.style.addImage(ye,{data:new a.RGBAImage({width:Wr,height:Yr},Vr),pixelRatio:lt,stretchX:Ut,stretchY:Jt,content:fr,sdf:wt,version:xr})}else{if(ze.width===void 0||ze.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var qr=ze.width,cn=ze.height,Dn=ze.data,On=ze;this.style.addImage(ye,{data:new a.RGBAImage({width:qr,height:cn},new Uint8Array(Dn)),pixelRatio:lt,stretchX:Ut,stretchY:Jt,content:fr,sdf:wt,version:xr,userImage:On}),On.onAdd&&On.onAdd(this,ye)}},X.prototype.updateImage=function(ye,ze){var Ze=this.style.getImage(ye);if(!Ze)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var lt=ze instanceof Mc||Ff&&ze instanceof Ff?a.browser.getImageData(ze):ze,wt=lt.width,Ut=lt.height,Jt=lt.data;if(wt===void 0||Ut===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(wt!==Ze.data.width||Ut!==Ze.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var fr=!(ze instanceof Mc||Ff&&ze instanceof Ff);Ze.data.replace(Jt,fr),this.style.updateImage(ye,Ze)},X.prototype.hasImage=function(ye){return ye?!!this.style.getImage(ye):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},X.prototype.removeImage=function(ye){this.style.removeImage(ye)},X.prototype.loadImage=function(ye,ze){a.getImage(this._requestManager.transformRequest(ye,a.ResourceType.Image),ze)},X.prototype.listImages=function(){return this.style.listImages()},X.prototype.addLayer=function(ye,ze){return this._lazyInitEmptyStyle(),this.style.addLayer(ye,ze),this._update(!0)},X.prototype.moveLayer=function(ye,ze){return this.style.moveLayer(ye,ze),this._update(!0)},X.prototype.removeLayer=function(ye){return this.style.removeLayer(ye),this._update(!0)},X.prototype.getLayer=function(ye){return this.style.getLayer(ye)},X.prototype.setLayerZoomRange=function(ye,ze,Ze){return this.style.setLayerZoomRange(ye,ze,Ze),this._update(!0)},X.prototype.setFilter=function(ye,ze,Ze){return Ze===void 0&&(Ze={}),this.style.setFilter(ye,ze,Ze),this._update(!0)},X.prototype.getFilter=function(ye){return this.style.getFilter(ye)},X.prototype.setPaintProperty=function(ye,ze,Ze,lt){return lt===void 0&&(lt={}),this.style.setPaintProperty(ye,ze,Ze,lt),this._update(!0)},X.prototype.getPaintProperty=function(ye,ze){return this.style.getPaintProperty(ye,ze)},X.prototype.setLayoutProperty=function(ye,ze,Ze,lt){return lt===void 0&&(lt={}),this.style.setLayoutProperty(ye,ze,Ze,lt),this._update(!0)},X.prototype.getLayoutProperty=function(ye,ze){return this.style.getLayoutProperty(ye,ze)},X.prototype.setLight=function(ye,ze){return ze===void 0&&(ze={}),this._lazyInitEmptyStyle(),this.style.setLight(ye,ze),this._update(!0)},X.prototype.getLight=function(){return this.style.getLight()},X.prototype.setFeatureState=function(ye,ze){return this.style.setFeatureState(ye,ze),this._update()},X.prototype.removeFeatureState=function(ye,ze){return this.style.removeFeatureState(ye,ze),this._update()},X.prototype.getFeatureState=function(ye){return this.style.getFeatureState(ye)},X.prototype.getContainer=function(){return this._container},X.prototype.getCanvasContainer=function(){return this._canvasContainer},X.prototype.getCanvas=function(){return this._canvas},X.prototype._containerDimensions=function(){var ye=0,ze=0;return this._container&&(ye=this._container.clientWidth||400,ze=this._container.clientHeight||300),[ye,ze]},X.prototype._detectMissingCSS=function(){var ye=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ye!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},X.prototype._setupContainer=function(){var ye=this._container;ye.classList.add("mapboxgl-map");var ze=this._missingCSSCanary=w.create("div","mapboxgl-canary",ye);ze.style.visibility="hidden",this._detectMissingCSS();var Ze=this._canvasContainer=w.create("div","mapboxgl-canvas-container",ye);this._interactive&&Ze.classList.add("mapboxgl-interactive"),this._canvas=w.create("canvas","mapboxgl-canvas",Ze),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var lt=this._containerDimensions();this._resizeCanvas(lt[0],lt[1]);var wt=this._controlContainer=w.create("div","mapboxgl-control-container",ye),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Jt){Ut[Jt]=w.create("div","mapboxgl-ctrl-"+Jt,wt)})},X.prototype._resizeCanvas=function(ye,ze){var Ze=a.browser.devicePixelRatio||1;this._canvas.width=Ze*ye,this._canvas.height=Ze*ze,this._canvas.style.width=ye+"px",this._canvas.style.height=ze+"px"},X.prototype._setupPainter=function(){var ye=a.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ze=this._canvas.getContext("webgl",ye)||this._canvas.getContext("experimental-webgl",ye);if(!ze){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Dr(ze,this.transform),a.webpSupported.testSupport(ze)},X.prototype._contextLost=function(ye){ye.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:ye}))},X.prototype._contextRestored=function(ye){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:ye}))},X.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},X.prototype._update=function(ye){return this.style?(this._styleDirty=this._styleDirty||ye,this._sourcesDirty=!0,this.triggerRepaint(),this):this},X.prototype._requestRenderFrame=function(ye){return this._update(),this._renderTaskQueue.add(ye)},X.prototype._cancelRenderFrame=function(ye){this._renderTaskQueue.remove(ye)},X.prototype._render=function(ye){var ze=this,Ze,lt=0,wt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ze=wt.createQueryEXT(),wt.beginQueryEXT(wt.TIME_ELAPSED_EXT,Ze),lt=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ye),!this._removed){var Ut=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Jt=this.transform.zoom,fr=a.browser.now();this.style.zoomHistory.update(Jt,fr);var xr=new a.EvaluationParameters(Jt,{now:fr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),zr=xr.crossFadingFactor();(zr!==1||zr!==this._crossFadingFactor)&&(Ut=!0,this._crossFadingFactor=zr),this.style.update(xr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||Ut)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Wr=a.browser.now()-lt;wt.endQueryEXT(wt.TIME_ELAPSED_EXT,Ze),setTimeout(function(){var qr=wt.getQueryObjectEXT(Ze,wt.QUERY_RESULT_EXT)/1e6;wt.deleteQueryEXT(Ze),ze.fire(new a.Event("gpu-timing-frame",{cpuTime:Wr,gpuTime:qr}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var qr=ze.painter.queryGpuTimers(Yr);ze.fire(new a.Event("gpu-timing-layer",{layerTimes:qr}))},50)}var Vr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Vr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new a.Event("idle"))),this}},X.prototype.remove=function(){this._hash&&this._hash.remove();for(var ye=0,ze=this._controls;ye<ze.length;ye+=1){var Ze=ze[ye];Ze.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var lt=this.painter.context.gl.getExtension("WEBGL_lose_context");lt&&lt.loseContext(),Tv(this._canvasContainer),Tv(this._controlContainer),Tv(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},X.prototype.triggerRepaint=function(){var ye=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(ze){ye._frame=null,ye._render(ze)}))},X.prototype._onWindowOnline=function(){this._update()},X.prototype._onWindowResize=function(ye){this._trackResize&&this.resize({originalEvent:ye})._update()},ge.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ge.showTileBoundaries.set=function(ne){this._showTileBoundaries!==ne&&(this._showTileBoundaries=ne,this._update())},ge.showPadding.get=function(){return!!this._showPadding},ge.showPadding.set=function(ne){this._showPadding!==ne&&(this._showPadding=ne,this._update())},ge.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ge.showCollisionBoxes.set=function(ne){this._showCollisionBoxes!==ne&&(this._showCollisionBoxes=ne,ne?this.style._generateCollisionBoxes():this._update())},ge.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ge.showOverdrawInspector.set=function(ne){this._showOverdrawInspector!==ne&&(this._showOverdrawInspector=ne,this._update())},ge.repaint.get=function(){return!!this._repaint},ge.repaint.set=function(ne){this._repaint!==ne&&(this._repaint=ne,this.triggerRepaint())},ge.vertices.get=function(){return!!this._vertices},ge.vertices.set=function(ne){this._vertices=ne,this._update()},X.prototype._setCacheLimits=function(ye,ze){a.setCacheLimits(ye,ze)},ge.version.get=function(){return a.version},Object.defineProperties(X.prototype,ge),X}(Hs);function Tv(de){de.parentNode&&de.parentNode.removeChild(de)}var od={showCompass:!0,showZoom:!0,visualizePitch:!1},nf=function(X){var ge=this;this.options=a.extend({},od,X),this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ne){return ne.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ne){return ge._map.zoomIn({},{originalEvent:ne})}),w.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ne){return ge._map.zoomOut({},{originalEvent:ne})}),w.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ne){ge.options.visualizePitch?ge._map.resetNorthPitch({},{originalEvent:ne}):ge._map.resetNorth({},{originalEvent:ne})}),this._compassIcon=w.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};nf.prototype._updateZoomButtons=function(){var X=this._map.getZoom();this._zoomInButton.disabled=X===this._map.getMaxZoom(),this._zoomOutButton.disabled=X===this._map.getMinZoom()},nf.prototype._rotateCompassArrow=function(){var X=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=X},nf.prototype.onAdd=function(X){return this._map=X,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Vs(this._map,this._compass,this.options.visualizePitch)),this._container},nf.prototype.onRemove=function(){w.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},nf.prototype._createButton=function(X,ge){var ne=w.create("button",X,this._container);return ne.type="button",ne.addEventListener("click",ge),ne},nf.prototype._setButtonTitle=function(X,ge){var ne=this._map._getUIString("NavigationControl."+ge);X.title=ne,X.setAttribute("aria-label",ne)};var Vs=function(X,ge,ne){ne===void 0&&(ne=!1),this._clickTolerance=10,this.element=ge,this.mouseRotate=new Kr({clickTolerance:X.dragRotate._mouseRotate._clickTolerance}),this.map=X,ne&&(this.mousePitch=new Hn({clickTolerance:X.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),w.addEventListener(ge,"mousedown",this.mousedown),w.addEventListener(ge,"touchstart",this.touchstart,{passive:!1}),w.addEventListener(ge,"touchmove",this.touchmove),w.addEventListener(ge,"touchend",this.touchend),w.addEventListener(ge,"touchcancel",this.reset)};Vs.prototype.down=function(X,ge){this.mouseRotate.mousedown(X,ge),this.mousePitch&&this.mousePitch.mousedown(X,ge),w.disableDrag()},Vs.prototype.move=function(X,ge){var ne=this.map,ye=this.mouseRotate.mousemoveWindow(X,ge);if(ye&&ye.bearingDelta&&ne.setBearing(ne.getBearing()+ye.bearingDelta),this.mousePitch){var ze=this.mousePitch.mousemoveWindow(X,ge);ze&&ze.pitchDelta&&ne.setPitch(ne.getPitch()+ze.pitchDelta)}},Vs.prototype.off=function(){var X=this.element;w.removeEventListener(X,"mousedown",this.mousedown),w.removeEventListener(X,"touchstart",this.touchstart,{passive:!1}),w.removeEventListener(X,"touchmove",this.touchmove),w.removeEventListener(X,"touchend",this.touchend),w.removeEventListener(X,"touchcancel",this.reset),this.offTemp()},Vs.prototype.offTemp=function(){w.enableDrag(),w.removeEventListener(a.window,"mousemove",this.mousemove),w.removeEventListener(a.window,"mouseup",this.mouseup)},Vs.prototype.mousedown=function(X){this.down(a.extend({},X,{ctrlKey:!0,preventDefault:function(){return X.preventDefault()}}),w.mousePos(this.element,X)),w.addEventListener(a.window,"mousemove",this.mousemove),w.addEventListener(a.window,"mouseup",this.mouseup)},Vs.prototype.mousemove=function(X){this.move(X,w.mousePos(this.element,X))},Vs.prototype.mouseup=function(X){this.mouseRotate.mouseupWindow(X),this.mousePitch&&this.mousePitch.mouseupWindow(X),this.offTemp()},Vs.prototype.touchstart=function(X){X.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=w.touchPos(this.element,X.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return X.preventDefault()}},this._startPos))},Vs.prototype.touchmove=function(X){X.targetTouches.length!==1?this.reset():(this._lastPos=w.touchPos(this.element,X.targetTouches)[0],this.move({preventDefault:function(){return X.preventDefault()}},this._lastPos))},Vs.prototype.touchend=function(X){X.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Vs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function af(de,X,ge){if(de=new a.LngLat(de.lng,de.lat),X){var ne=new a.LngLat(de.lng-360,de.lat),ye=new a.LngLat(de.lng+360,de.lat),ze=ge.locationPoint(de).distSqr(X);ge.locationPoint(ne).distSqr(X)<ze?de=ne:ge.locationPoint(ye).distSqr(X)<ze&&(de=ye)}for(;Math.abs(de.lng-ge.center.lng)>180;){var Ze=ge.locationPoint(de);if(Ze.x>=0&&Ze.y>=0&&Ze.x<=ge.width&&Ze.y<=ge.height)break;de.lng>ge.center.lng?de.lng-=360:de.lng+=360}return de}var Av={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function sd(de,X,ge){var ne=de.classList;for(var ye in Av)ne.remove("mapboxgl-"+ge+"-anchor-"+ye);ne.add("mapboxgl-"+ge+"-anchor-"+X)}var hh=function(de){function X(ge,ne){var ye=this;if(de.call(this),(ge instanceof a.window.HTMLElement||ne)&&(ge=a.extend({element:ge},ne)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ge&&ge.anchor||"center",this._color=ge&&ge.color||"#3FB1CE",this._draggable=ge&&ge.draggable||!1,this._state="inactive",this._rotation=ge&&ge.rotation||0,this._rotationAlignment=ge&&ge.rotationAlignment||"auto",this._pitchAlignment=ge&&ge.pitchAlignment&&ge.pitchAlignment!=="auto"?ge.pitchAlignment:this._rotationAlignment,!ge||!ge.element){this._defaultMarker=!0,this._element=w.create("div"),this._element.setAttribute("aria-label","Map marker");var ze=w.createNS("http://www.w3.org/2000/svg","svg");ze.setAttributeNS(null,"display","block"),ze.setAttributeNS(null,"height","41px"),ze.setAttributeNS(null,"width","27px"),ze.setAttributeNS(null,"viewBox","0 0 27 41");var Ze=w.createNS("http://www.w3.org/2000/svg","g");Ze.setAttributeNS(null,"stroke","none"),Ze.setAttributeNS(null,"stroke-width","1"),Ze.setAttributeNS(null,"fill","none"),Ze.setAttributeNS(null,"fill-rule","evenodd");var lt=w.createNS("http://www.w3.org/2000/svg","g");lt.setAttributeNS(null,"fill-rule","nonzero");var wt=w.createNS("http://www.w3.org/2000/svg","g");wt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),wt.setAttributeNS(null,"fill","#000000");for(var Ut=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],Jt=0,fr=Ut;Jt<fr.length;Jt+=1){var xr=fr[Jt],zr=w.createNS("http://www.w3.org/2000/svg","ellipse");zr.setAttributeNS(null,"opacity","0.04"),zr.setAttributeNS(null,"cx","10.5"),zr.setAttributeNS(null,"cy","5.80029008"),zr.setAttributeNS(null,"rx",xr.rx),zr.setAttributeNS(null,"ry",xr.ry),wt.appendChild(zr)}var Wr=w.createNS("http://www.w3.org/2000/svg","g");Wr.setAttributeNS(null,"fill",this._color);var Yr=w.createNS("http://www.w3.org/2000/svg","path");Yr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Wr.appendChild(Yr);var Vr=w.createNS("http://www.w3.org/2000/svg","g");Vr.setAttributeNS(null,"opacity","0.25"),Vr.setAttributeNS(null,"fill","#000000");var qr=w.createNS("http://www.w3.org/2000/svg","path");qr.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Vr.appendChild(qr);var cn=w.createNS("http://www.w3.org/2000/svg","g");cn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),cn.setAttributeNS(null,"fill","#FFFFFF");var Dn=w.createNS("http://www.w3.org/2000/svg","g");Dn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var On=w.createNS("http://www.w3.org/2000/svg","circle");On.setAttributeNS(null,"fill","#000000"),On.setAttributeNS(null,"opacity","0.25"),On.setAttributeNS(null,"cx","5.5"),On.setAttributeNS(null,"cy","5.5"),On.setAttributeNS(null,"r","5.4999962");var $n=w.createNS("http://www.w3.org/2000/svg","circle");$n.setAttributeNS(null,"fill","#FFFFFF"),$n.setAttributeNS(null,"cx","5.5"),$n.setAttributeNS(null,"cy","5.5"),$n.setAttributeNS(null,"r","5.4999962"),Dn.appendChild(On),Dn.appendChild($n),lt.appendChild(wt),lt.appendChild(Wr),lt.appendChild(Vr),lt.appendChild(cn),lt.appendChild(Dn),ze.appendChild(lt),this._element.appendChild(ze),this._offset=a.Point.convert(ge&&ge.offset||[0,-14])}else this._element=ge.element,this._offset=a.Point.convert(ge&&ge.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Jn){Jn.preventDefault()}),this._element.addEventListener("mousedown",function(Jn){Jn.preventDefault()}),this._element.addEventListener("focus",function(){var Jn=ye._map.getContainer();Jn.scrollTop=0,Jn.scrollLeft=0}),sd(this._element,this._anchor,"marker"),this._popup=null}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.addTo=function(ne){return this.remove(),this._map=ne,ne.getCanvasContainer().appendChild(this._element),ne.on("move",this._update),ne.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},X.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),w.remove(this._element),this._popup&&this._popup.remove(),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(ne){return this._lngLat=a.LngLat.convert(ne),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},X.prototype.getElement=function(){return this._element},X.prototype.setPopup=function(ne){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ne){if(!("offset"in ne.options)){var ye=38.1,ze=13.5,Ze=Math.sqrt(Math.pow(ze,2)/2);ne.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ye],"bottom-left":[Ze,(ye-ze+Ze)*-1],"bottom-right":[-Ze,(ye-ze+Ze)*-1],left:[ze,(ye-ze)*-1],right:[-ze,(ye-ze)*-1]}:this._offset}this._popup=ne,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},X.prototype._onKeyPress=function(ne){var ye=ne.code,ze=ne.charCode||ne.keyCode;(ye==="Space"||ye==="Enter"||ze===32||ze===13)&&this.togglePopup()},X.prototype._onMapClick=function(ne){var ye=ne.originalEvent.target,ze=this._element;this._popup&&(ye===ze||ze.contains(ye))&&this.togglePopup()},X.prototype.getPopup=function(){return this._popup},X.prototype.togglePopup=function(){var ne=this._popup;if(ne)ne.isOpen()?ne.remove():ne.addTo(this._map);else return this;return this},X.prototype._update=function(ne){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=af(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ye="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ye="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ye="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ze="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?ze="rotateX(0deg)":this._pitchAlignment==="map"&&(ze="rotateX("+this._map.getPitch()+"deg)"),(!ne||ne.type==="moveend")&&(this._pos=this._pos.round()),w.setTransform(this._element,Av[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ze+" "+ye)}},X.prototype.getOffset=function(){return this._offset},X.prototype.setOffset=function(ne){return this._offset=a.Point.convert(ne),this._update(),this},X.prototype._onMove=function(ne){this._pos=ne.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},X.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},X.prototype._addDragHandler=function(ne){this._element.contains(ne.originalEvent.target)&&(ne.preventDefault(),this._positionDelta=ne.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},X.prototype.setDraggable=function(ne){return this._draggable=!!ne,this._map&&(ne?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},X.prototype.isDraggable=function(){return this._draggable},X.prototype.setRotation=function(ne){return this._rotation=ne||0,this._update(),this},X.prototype.getRotation=function(){return this._rotation},X.prototype.setRotationAlignment=function(ne){return this._rotationAlignment=ne||"auto",this._update(),this},X.prototype.getRotationAlignment=function(){return this._rotationAlignment},X.prototype.setPitchAlignment=function(ne){return this._pitchAlignment=ne&&ne!=="auto"?ne:this._rotationAlignment,this._update(),this},X.prototype.getPitchAlignment=function(){return this._pitchAlignment},X}(a.Evented),_p={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},zf;function Sv(de){zf!==void 0?de(zf):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(X){zf=X.state!=="denied",de(zf)}):(zf=!!a.window.navigator.geolocation,de(zf))}var vh=0,Of=!1,zp=function(de){function X(ge){de.call(this),this.options=a.extend({},_p,ge),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(ne){return this._map=ne,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Sv(this._setupUI),this._container},X.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),w.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,vh=0,Of=!1},X.prototype._isOutOfMapMaxBounds=function(ne){var ye=this._map.getMaxBounds(),ze=ne.coords;return ye&&(ze.longitude<ye.getWest()||ze.longitude>ye.getEast()||ze.latitude<ye.getSouth()||ze.latitude>ye.getNorth())},X.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},X.prototype._onSuccess=function(ne){if(this._map){if(this._isOutOfMapMaxBounds(ne)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",ne)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ne,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ne),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ne),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",ne)),this._finish()}},X.prototype._updateCamera=function(ne){var ye=new a.LngLat(ne.coords.longitude,ne.coords.latitude),ze=ne.coords.accuracy,Ze=this._map.getBearing(),lt=a.extend({bearing:Ze},this.options.fitBoundsOptions);this._map.fitBounds(ye.toBounds(ze),lt,{geolocateSource:!0})},X.prototype._updateMarker=function(ne){if(ne){var ye=new a.LngLat(ne.coords.longitude,ne.coords.latitude);this._accuracyCircleMarker.setLngLat(ye).addTo(this._map),this._userLocationDotMarker.setLngLat(ye).addTo(this._map),this._accuracy=ne.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},X.prototype._updateCircleRadius=function(){var ne=this._map._container.clientHeight/2,ye=this._map.unproject([0,ne]),ze=this._map.unproject([1,ne]),Ze=ye.distanceTo(ze),lt=Math.ceil(2*this._accuracy/Ze);this._circleElement.style.width=lt+"px",this._circleElement.style.height=lt+"px"},X.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},X.prototype._onError=function(ne){if(this._map){if(this.options.trackUserLocation)if(ne.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ne.code===3&&Of)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",ne)),this._finish()}},X.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},X.prototype._setupUI=function(ne){var ye=this;if(this._container.addEventListener("contextmenu",function(lt){return lt.preventDefault()}),this._geolocateButton=w.create("button","mapboxgl-ctrl-geolocate",this._container),w.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ne===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ze=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ze,this._geolocateButton.setAttribute("aria-label",ze)}else{var Ze=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ze,this._geolocateButton.setAttribute("aria-label",Ze)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=w.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new hh(this._dotElement),this._circleElement=w.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new hh({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(lt){var wt=lt.originalEvent&&lt.originalEvent.type==="resize";!lt.geolocateSource&&ye._watchState==="ACTIVE_LOCK"&&!wt&&(ye._watchState="BACKGROUND",ye._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ye._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ye.fire(new a.Event("trackuserlocationend")))})},X.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":vh--,Of=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),vh++;var ne;vh>1?(ne={maximumAge:6e5,timeout:0},Of=!0):(ne=this.options.positionOptions,Of=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ne)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},X.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},X}(a.Evented),Tg={maxWidth:100,unit:"metric"},Bf=function(X){this.options=a.extend({},Tg,X),a.bindAll(["_onMove","setUnit"],this)};Bf.prototype.getDefaultPosition=function(){return"bottom-left"},Bf.prototype._onMove=function(){Op(this._map,this._container,this.options)},Bf.prototype.onAdd=function(X){return this._map=X,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",X.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Bf.prototype.onRemove=function(){w.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Bf.prototype.setUnit=function(X){this.options.unit=X,Op(this._map,this._container,this.options)};function Op(de,X,ge){var ne=ge&&ge.maxWidth||100,ye=de._container.clientHeight/2,ze=de.unproject([0,ye]),Ze=de.unproject([ne,ye]),lt=ze.distanceTo(Ze);if(ge&&ge.unit==="imperial"){var wt=3.2808*lt;if(wt>5280){var Ut=wt/5280;dh(X,ne,Ut,de._getUIString("ScaleControl.Miles"))}else dh(X,ne,wt,de._getUIString("ScaleControl.Feet"))}else if(ge&&ge.unit==="nautical"){var Jt=lt/1852;dh(X,ne,Jt,de._getUIString("ScaleControl.NauticalMiles"))}else lt>=1e3?dh(X,ne,lt/1e3,de._getUIString("ScaleControl.Kilometers")):dh(X,ne,lt,de._getUIString("ScaleControl.Meters"))}function dh(de,X,ge,ne){var ye=Sg(ge),ze=ye/ge;de.style.width=X*ze+"px",de.innerHTML=ye+"&nbsp;"+ne}function Ag(de){var X=Math.pow(10,Math.ceil(-Math.log(de)/Math.LN10));return Math.round(de*X)/X}function Sg(de){var X=Math.pow(10,(""+Math.floor(de)).length-1),ge=de/X;return ge=ge>=10?10:ge>=5?5:ge>=3?3:ge>=2?2:ge>=1?1:Ag(ge),X*ge}var Kl=function(X){this._fullscreen=!1,X&&X.container&&(X.container instanceof a.window.HTMLElement?this._container=X.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Kl.prototype.onAdd=function(X){return this._map=X,this._container||(this._container=this._map.getContainer()),this._controlContainer=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Kl.prototype.onRemove=function(){w.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Kl.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Kl.prototype._setupUI=function(){var X=this._fullscreenButton=w.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);w.create("span","mapboxgl-ctrl-icon",X).setAttribute("aria-hidden",!0),X.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Kl.prototype._updateTitle=function(){var X=this._getTitle();this._fullscreenButton.setAttribute("aria-label",X),this._fullscreenButton.title=X},Kl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Kl.prototype._isFullscreen=function(){return this._fullscreen},Kl.prototype._changeIcon=function(){var X=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;X===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Kl.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Mg={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Eg=function(de){function X(ge){de.call(this),this.options=a.extend(Object.create(Mg),ge),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return de&&(X.__proto__=de),X.prototype=Object.create(de&&de.prototype),X.prototype.constructor=X,X.prototype.addTo=function(ne){return this._map&&this.remove(),this._map=ne,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},X.prototype.isOpen=function(){return!!this._map},X.prototype.remove=function(){return this._content&&w.remove(this._content),this._container&&(w.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(ne){return this._lngLat=a.LngLat.convert(ne),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},X.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},X.prototype.getElement=function(){return this._container},X.prototype.setText=function(ne){return this.setDOMContent(a.window.document.createTextNode(ne))},X.prototype.setHTML=function(ne){var ye=a.window.document.createDocumentFragment(),ze=a.window.document.createElement("body"),Ze;for(ze.innerHTML=ne;Ze=ze.firstChild,!!Ze;)ye.appendChild(Ze);return this.setDOMContent(ye)},X.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},X.prototype.setMaxWidth=function(ne){return this.options.maxWidth=ne,this._update(),this},X.prototype.setDOMContent=function(ne){return this._createContent(),this._content.appendChild(ne),this._update(),this},X.prototype.addClassName=function(ne){this._container&&this._container.classList.add(ne)},X.prototype.removeClassName=function(ne){this._container&&this._container.classList.remove(ne)},X.prototype.toggleClassName=function(ne){if(this._container)return this._container.classList.toggle(ne)},X.prototype._createContent=function(){this._content&&w.remove(this._content),this._content=w.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=w.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},X.prototype._onMouseUp=function(ne){this._update(ne.point)},X.prototype._onMouseMove=function(ne){this._update(ne.point)},X.prototype._onDrag=function(ne){this._update(ne.point)},X.prototype._update=function(ne){var ye=this,ze=this._lngLat||this._trackPointer;if(!(!this._map||!ze||!this._content)&&(this._container||(this._container=w.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=w.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(zr){return ye._container.classList.add(zr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=af(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ne))){var Ze=this._pos=this._trackPointer&&ne?ne:this._map.project(this._lngLat),lt=this.options.anchor,wt=Bp(this.options.offset);if(!lt){var Ut=this._container.offsetWidth,Jt=this._container.offsetHeight,fr;Ze.y+wt.bottom.y<Jt?fr=["top"]:Ze.y>this._map.transform.height-Jt?fr=["bottom"]:fr=[],Ze.x<Ut/2?fr.push("left"):Ze.x>this._map.transform.width-Ut/2&&fr.push("right"),fr.length===0?lt="bottom":lt=fr.join("-")}var xr=Ze.add(wt[lt]).round();w.setTransform(this._container,Av[lt]+" translate("+xr.x+"px,"+xr.y+"px)"),sd(this._container,lt,"popup")}},X.prototype._onClose=function(){this.remove()},X}(a.Evented);function Bp(de){if(de)if(typeof de=="number"){var X=Math.round(Math.sqrt(.5*Math.pow(de,2)));return{center:new a.Point(0,0),top:new a.Point(0,de),"top-left":new a.Point(X,X),"top-right":new a.Point(-X,X),bottom:new a.Point(0,-de),"bottom-left":new a.Point(X,-X),"bottom-right":new a.Point(-X,-X),left:new a.Point(de,0),right:new a.Point(-de,0)}}else if(de instanceof a.Point||Array.isArray(de)){var ge=a.Point.convert(de);return{center:ge,top:ge,"top-left":ge,"top-right":ge,bottom:ge,"bottom-left":ge,"bottom-right":ge,left:ge,right:ge}}else return{center:a.Point.convert(de.center||[0,0]),top:a.Point.convert(de.top||[0,0]),"top-left":a.Point.convert(de["top-left"]||[0,0]),"top-right":a.Point.convert(de["top-right"]||[0,0]),bottom:a.Point.convert(de.bottom||[0,0]),"bottom-left":a.Point.convert(de["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(de["bottom-right"]||[0,0]),left:a.Point.convert(de.left||[0,0]),right:a.Point.convert(de.right||[0,0])};else return Bp(new a.Point(0,0))}var Cg={version:a.version,supported:C,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:Fp,NavigationControl:nf,GeolocateControl:zp,AttributionControl:hs,ScaleControl:Bf,FullscreenControl:Kl,Popup:Eg,Marker:hh,Style:Oo,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:kt,clearPrewarmedResources:jt,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(de){a.config.ACCESS_TOKEN=de},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(de){a.config.API_URL=de},get workerCount(){return dr.workerCount},set workerCount(de){dr.workerCount=de},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(de){a.config.MAX_PARALLEL_IMAGE_REQUESTS=de},clearStorage:function(X){a.clearTileCache(X)},workerUrl:""};return Cg}),p})},27084:function(B){B.exports=Math.log2||function(N){return Math.log(N)*Math.LOG2E}},16825:function(B,N,e){B.exports=L;var p=e(74311);function L(a,C){C||(C=a,a=window);var w=0,h=0,g=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function s(M){var S=!1;return"altKey"in M&&(S=S||M.altKey!==t.alt,t.alt=!!M.altKey),"shiftKey"in M&&(S=S||M.shiftKey!==t.shift,t.shift=!!M.shiftKey),"ctrlKey"in M&&(S=S||M.ctrlKey!==t.control,t.control=!!M.ctrlKey),"metaKey"in M&&(S=S||M.metaKey!==t.meta,t.meta=!!M.metaKey),S}function n(M,S){var R=p.x(S),x=p.y(S);"buttons"in S&&(M=S.buttons|0),(M!==w||R!==h||x!==g||s(S))&&(w=M|0,h=R||0,g=x||0,C&&C(w,h,g,t))}function l(M){n(0,M)}function c(){(w||h||g||t.shift||t.alt||t.meta||t.control)&&(h=g=0,w=0,t.shift=t.alt=t.control=t.meta=!1,C&&C(0,0,0,t))}function f(M){s(M)&&C&&C(w,h,g,t)}function m(M){p.buttons(M)===0?n(0,M):n(w,M)}function v(M){n(w|p.buttons(M),M)}function A(M){n(w&~p.buttons(M),M)}function d(){r||(r=!0,a.addEventListener("mousemove",m),a.addEventListener("mousedown",v),a.addEventListener("mouseup",A),a.addEventListener("mouseleave",l),a.addEventListener("mouseenter",l),a.addEventListener("mouseout",l),a.addEventListener("mouseover",l),a.addEventListener("blur",c),a.addEventListener("keyup",f),a.addEventListener("keydown",f),a.addEventListener("keypress",f),a!==window&&(window.addEventListener("blur",c),window.addEventListener("keyup",f),window.addEventListener("keydown",f),window.addEventListener("keypress",f)))}function u(){r&&(r=!1,a.removeEventListener("mousemove",m),a.removeEventListener("mousedown",v),a.removeEventListener("mouseup",A),a.removeEventListener("mouseleave",l),a.removeEventListener("mouseenter",l),a.removeEventListener("mouseout",l),a.removeEventListener("mouseover",l),a.removeEventListener("blur",c),a.removeEventListener("keyup",f),a.removeEventListener("keydown",f),a.removeEventListener("keypress",f),a!==window&&(window.removeEventListener("blur",c),window.removeEventListener("keyup",f),window.removeEventListener("keydown",f),window.removeEventListener("keypress",f)))}d();var y={element:a};return Object.defineProperties(y,{enabled:{get:function(){return r},set:function(M){M?d():u()},enumerable:!0},buttons:{get:function(){return w},enumerable:!0},x:{get:function(){return h},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),y}},48956:function(B){var N={left:0,top:0};B.exports=e;function e(L,a,C){a=a||L.currentTarget||L.srcElement,Array.isArray(C)||(C=[0,0]);var w=L.clientX||0,h=L.clientY||0,g=p(a);return C[0]=w-g.left,C[1]=h-g.top,C}function p(L){return L===window||L===document||L===document.body?N:L.getBoundingClientRect()}},74311:function(B,N){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var w=C.which;if(w===2)return 4;if(w===3)return 2;if(w>0)return 1<<w-1}else if("button"in C){var w=C.button;if(w===1)return 4;if(w===2)return 2;if(w>=0)return 1<<w}}return 0}N.buttons=e;function p(C){return C.target||C.srcElement||window}N.element=p;function L(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var w=p(C),h=w.getBoundingClientRect();return C.clientX-h.left}return 0}N.x=L;function a(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var w=p(C),h=w.getBoundingClientRect();return C.clientY-h.top}return 0}N.y=a},1195:function(B,N,e){var p=e(75686);B.exports=L;function L(a,C,w){typeof a=="function"&&(w=!!C,C=a,a=window);var h=p("ex",a),g=function(t){w&&t.preventDefault();var r=t.deltaX||0,s=t.deltaY||0,n=t.deltaZ||0,l=t.deltaMode,c=1;switch(l){case 1:c=h;break;case 2:c=window.innerHeight;break}if(r*=c,s*=c,n*=c,r||s||n)return C(r,s,n,t)};return a.addEventListener("wheel",g),g}},7417:function(B,N,e){var p;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,C,w){C[a]=C[a]||w(),B.exports?B.exports=C[a]:(p=(function(){return C[a]}).call(N,e,N,B),p!==void 0&&(B.exports=p))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,C,w,h=Object.prototype.toString,g=typeof setImmediate<"u"?function(y){return setImmediate(y)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(y,M,S,R){return Object.defineProperty(y,M,{value:S,writable:!0,configurable:R!==!1})}}catch{a=function(M,S,R){return M[S]=R,M}}w=function(){var y,M,S;function R(x,E){this.fn=x,this.self=E,this.next=void 0}return{add:function(E,T){S=new R(E,T),M?M.next=S:y=S,M=S,S=void 0},drain:function(){var E=y;for(y=M=C=void 0;E;)E.fn.call(E.self),E=E.next}}}();function t(u,y){w.add(u,y),C||(C=g(w.drain))}function r(u){var y,M=typeof u;return u!=null&&(M=="object"||M=="function")&&(y=u.then),typeof y=="function"?y:!1}function s(){for(var u=0;u<this.chain.length;u++)n(this,this.state===1?this.chain[u].success:this.chain[u].failure,this.chain[u]);this.chain.length=0}function n(u,y,M){var S,R;try{y===!1?M.reject(u.msg):(y===!0?S=u.msg:S=y.call(void 0,u.msg),S===M.promise?M.reject(TypeError("Promise-chain cycle")):(R=r(S))?R.call(S,M.resolve,M.reject):M.resolve(S))}catch(x){M.reject(x)}}function l(u){var y,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(y=r(u))?t(function(){var S=new m(M);try{y.call(u,function(){l.apply(S,arguments)},function(){c.apply(S,arguments)})}catch(R){c.call(S,R)}}):(M.msg=u,M.state=1,M.chain.length>0&&t(s,M))}catch(S){c.call(new m(M),S)}}}function c(u){var y=this;y.triggered||(y.triggered=!0,y.def&&(y=y.def),y.msg=u,y.state=2,y.chain.length>0&&t(s,y))}function f(u,y,M,S){for(var R=0;R<y.length;R++)(function(E){u.resolve(y[E]).then(function(i){M(E,i)},S)})(R)}function m(u){this.def=u,this.triggered=!1}function v(u){this.promise=u,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function A(u){if(typeof u!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var y=new v(this);this.then=function(S,R){var x={success:typeof S=="function"?S:!0,failure:typeof R=="function"?R:!1};return x.promise=new this.constructor(function(T,i){if(typeof T!="function"||typeof i!="function")throw TypeError("Not a function");x.resolve=T,x.reject=i}),y.chain.push(x),y.state!==0&&t(s,y),x.promise},this.catch=function(S){return this.then(void 0,S)};try{u.call(void 0,function(S){l.call(y,S)},function(S){c.call(y,S)})}catch(M){c.call(y,M)}}var d=a({},"constructor",A,!1);return A.prototype=d,a(d,"__NPO__",0,!1),a(A,"resolve",function(y){var M=this;return y&&typeof y=="object"&&y.__NPO__===1?y:new M(function(R,x){if(typeof R!="function"||typeof x!="function")throw TypeError("Not a function");R(y)})}),a(A,"reject",function(y){return new this(function(S,R){if(typeof S!="function"||typeof R!="function")throw TypeError("Not a function");R(y)})}),a(A,"all",function(y){var M=this;return h.call(y)!="[object Array]"?M.reject(TypeError("Not an array")):y.length===0?M.resolve([]):new M(function(R,x){if(typeof R!="function"||typeof x!="function")throw TypeError("Not a function");var E=y.length,T=Array(E),i=0;f(M,y,function(b,O){T[b]=O,++i===E&&R(T)},x)})}),a(A,"race",function(y){var M=this;return h.call(y)!="[object Array]"?M.reject(TypeError("Not an array")):new M(function(R,x){if(typeof R!="function"||typeof x!="function")throw TypeError("Not a function");f(M,y,function(T,i){R(i)},x)})}),A})},18625:function(B){var N=Math.PI,e=h(120);B.exports=p;function p(g){for(var t,r=[],s=0,n=0,l=0,c=0,f=null,m=null,v=0,A=0,d=0,u=g.length;d<u;d++){var y=g[d],M=y[0];switch(M){case"M":l=y[1],c=y[2];break;case"A":y=C(v,A,y[1],y[2],h(y[3]),y[4],y[5],y[6],y[7]),y.unshift("C"),y.length>7&&(r.push(y.splice(0,7)),y.unshift("C"));break;case"S":var S=v,R=A;(t=="C"||t=="S")&&(S+=S-s,R+=R-n),y=["C",S,R,y[1],y[2],y[3],y[4]];break;case"T":t=="Q"||t=="T"?(f=v*2-f,m=A*2-m):(f=v,m=A),y=a(v,A,f,m,y[1],y[2]);break;case"Q":f=y[1],m=y[2],y=a(v,A,y[1],y[2],y[3],y[4]);break;case"L":y=L(v,A,y[1],y[2]);break;case"H":y=L(v,A,y[1],A);break;case"V":y=L(v,A,v,y[1]);break;case"Z":y=L(v,A,l,c);break}t=M,v=y[y.length-2],A=y[y.length-1],y.length>4?(s=y[y.length-4],n=y[y.length-3]):(s=v,n=A),r.push(y)}return r}function L(g,t,r,s){return["C",g,t,r,s,r,s]}function a(g,t,r,s,n,l){return["C",g/3+.6666666666666666*r,t/3+.6666666666666666*s,n/3+.6666666666666666*r,l/3+.6666666666666666*s,n,l]}function C(g,t,r,s,n,l,c,f,m,v){if(v)T=v[0],i=v[1],x=v[2],E=v[3];else{var A=w(g,t,-n);g=A.x,t=A.y,A=w(f,m,-n),f=A.x,m=A.y;var d=(g-f)/2,u=(t-m)/2,y=d*d/(r*r)+u*u/(s*s);y>1&&(y=Math.sqrt(y),r=y*r,s=y*s);var M=r*r,S=s*s,R=(l==c?-1:1)*Math.sqrt(Math.abs((M*S-M*u*u-S*d*d)/(M*u*u+S*d*d)));R==1/0&&(R=1);var x=R*r*u/s+(g+f)/2,E=R*-s*d/r+(t+m)/2,T=Math.asin(((t-E)/s).toFixed(9)),i=Math.asin(((m-E)/s).toFixed(9));T=g<x?N-T:T,i=f<x?N-i:i,T<0&&(T=N*2+T),i<0&&(i=N*2+i),c&&T>i&&(T=T-N*2),!c&&i>T&&(i=i-N*2)}if(Math.abs(i-T)>e){var D=i,b=f,O=m;i=T+e*(c&&i>T?1:-1),f=x+r*Math.cos(i),m=E+s*Math.sin(i);var F=C(f,m,r,s,n,0,c,b,O,[i,D,x,E])}var V=Math.tan((i-T)/4),_=4/3*r*V,U=4/3*s*V,H=[2*g-(g+_*Math.sin(T)),2*t-(t-U*Math.cos(T)),f+_*Math.sin(i),m-U*Math.cos(i),f,m];if(v)return H;F&&(H=H.concat(F));for(var z=0;z<H.length;){var G=w(H[z],H[z+1],n);H[z++]=G.x,H[z++]=G.y}return H}function w(g,t,r){return{x:g*Math.cos(r)-t*Math.sin(r),y:g*Math.sin(r)+t*Math.cos(r)}}function h(g){return g*(N/180)}},56131:function(B){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var N=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function L(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function a(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var w={},h=0;h<10;h++)w["_"+String.fromCharCode(h)]=h;var g=Object.getOwnPropertyNames(w).map(function(r){return w[r]});if(g.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}B.exports=a()?Object.assign:function(C,w){for(var h,g=L(C),t,r=1;r<arguments.length;r++){h=Object(arguments[r]);for(var s in h)e.call(h,s)&&(g[s]=h[s]);if(N){t=N(h);for(var n=0;n<t.length;n++)p.call(h,t[n])&&(g[t[n]]=h[t[n]])}}return g}},65848:function(B){var N=function(e){return e!==e};B.exports=function(p,L){return p===0&&L===0?1/p===1/L:!!(p===L||N(p)&&N(L))}},64003:function(B,N,e){var p=e(17045),L=e(68222),a=e(65848),C=e(27015),w=e(55572),h=L(C(),Object);p(h,{getPolyfill:C,implementation:a,shim:w}),B.exports=h},27015:function(B,N,e){var p=e(65848);B.exports=function(){return typeof Object.is=="function"?Object.is:p}},55572:function(B,N,e){var p=e(27015),L=e(17045);B.exports=function(){var C=p();return L(Object,{is:C},{is:function(){return Object.is!==C}}),C}},99019:function(B,N,e){var p;if(!Object.keys){var L=Object.prototype.hasOwnProperty,a=Object.prototype.toString,C=e(64178),w=Object.prototype.propertyIsEnumerable,h=!w.call({toString:null},"toString"),g=w.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(c){var f=c.constructor;return f&&f.prototype===c},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var c in window)try{if(!s["$"+c]&&L.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{r(window[c])}catch{return!0}}catch{return!0}return!1}(),l=function(c){if(typeof window>"u"||!n)return r(c);try{return r(c)}catch{return!1}};p=function(f){var m=f!==null&&typeof f=="object",v=a.call(f)==="[object Function]",A=C(f),d=m&&a.call(f)==="[object String]",u=[];if(!m&&!v&&!A)throw new TypeError("Object.keys called on a non-object");var y=g&&v;if(d&&f.length>0&&!L.call(f,0))for(var M=0;M<f.length;++M)u.push(String(M));if(A&&f.length>0)for(var S=0;S<f.length;++S)u.push(String(S));else for(var R in f)!(y&&R==="prototype")&&L.call(f,R)&&u.push(String(R));if(h)for(var x=l(f),E=0;E<t.length;++E)!(x&&t[E]==="constructor")&&L.call(f,t[E])&&u.push(t[E]);return u}}B.exports=p},8709:function(B,N,e){var p=Array.prototype.slice,L=e(64178),a=Object.keys,C=a?function(g){return a(g)}:e(99019),w=Object.keys;C.shim=function(){if(Object.keys){var g=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);g||(Object.keys=function(r){return L(r)?w(p.call(r)):w(r)})}else Object.keys=C;return Object.keys||C},B.exports=C},64178:function(B){var N=Object.prototype.toString;B.exports=function(p){var L=N.call(p),a=L==="[object Arguments]";return a||(a=L!=="[object Array]"&&p!==null&&typeof p=="object"&&typeof p.length=="number"&&p.length>=0&&N.call(p.callee)==="[object Function]"),a}},88641:function(B){function N(L,a){if(typeof L!="string")return[L];var C=[L];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var w=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],h=a.escape||"___",g=!!a.flat;w.forEach(function(s){var n=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),l=[];function c(f,m,v){var A=C.push(f.slice(s[0].length,-s[1].length))-1;return l.push(A),h+A+h}C.forEach(function(f,m){for(var v,A=0;f!=v;)if(v=f,f=f.replace(n,c),A++>1e4)throw Error("References have circular dependency. Please, check them.");C[m]=f}),l=l.reverse(),C=C.map(function(f){return l.forEach(function(m){f=f.replace(new RegExp("(\\"+h+m+"\\"+h+")","g"),s[0]+"$1"+s[1])}),f})});var t=new RegExp("\\"+h+"([0-9]+)\\"+h);function r(s,n,l){for(var c=[],f,m=0;f=t.exec(s);){if(m++>1e4)throw Error("Circular references in parenthesis");c.push(s.slice(0,f.index)),c.push(r(n[f[1]],n)),s=s.slice(f.index+f[0].length)}return c.push(s),c}return g?C:r(C[0],C)}function e(L,a){if(a&&a.flat){var C=a&&a.escape||"___",w=L[0],h;if(!w)return"";for(var g=new RegExp("\\"+C+"([0-9]+)\\"+C),t=0;w!=h;){if(t++>1e4)throw Error("Circular references in "+L);h=w,w=w.replace(g,r)}return w}return L.reduce(function s(n,l){return Array.isArray(l)&&(l=l.reduce(s,"")),n+l},"");function r(s,n){if(L[n]==null)throw Error("Reference "+n+"is undefined");return L[n]}}function p(L,a){return Array.isArray(L)?e(L,a):N(L,a)}p.parse=N,p.stringify=e,B.exports=p},18863:function(B,N,e){var p=e(71299);B.exports=L;function L(a){var C;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?C={width:a[0],height:a[0],x:0,y:0}:a.length===2?C={width:a[0],height:a[1],x:0,y:0}:C={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=p(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:a.left||0,y:a.top||0},a.width==null?a.right?C.width=a.right-C.x:C.width=0:C.width=a.width,a.height==null?a.bottom?C.height=a.bottom-C.y:C.height=0:C.height=a.height),C}},95616:function(B){B.exports=p;var N={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function p(C){var w=[];return C.replace(e,function(h,g,t){var r=g.toLowerCase();for(t=a(t),r=="m"&&t.length>2&&(w.push([g].concat(t.splice(0,2))),r="l",g=g=="m"?"l":"L");;){if(t.length==N[r])return t.unshift(g),w.push(t);if(t.length<N[r])throw new Error("malformed path data");w.push([g].concat(t.splice(0,N[r])))}}),w}var L=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(C){var w=C.match(L);return w?w.map(Number):[]}},25677:function(B){B.exports=function(e,p){p||(p=[0,""]),e=String(e);var L=parseFloat(e,10);return p[0]=L,p[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",p}},9748:function(B,N,e){var p=e(90386);(function(){var L,a,C,w,h,g;typeof performance<"u"&&performance!==null&&performance.now?B.exports=function(){return performance.now()}:typeof p<"u"&&p!==null&&p.hrtime?(B.exports=function(){return(L()-h)/1e6},a=p.hrtime,L=function(){var t;return t=a(),t[0]*1e9+t[1]},w=L(),g=p.uptime()*1e9,h=w-g):Date.now?(B.exports=function(){return Date.now()-C},C=Date.now()):(B.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},71299:function(B){B.exports=function(L,a,C){var w={},h,g;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var t={};for(g=0;g<a.length;g++)t[a[g]]=!0;a=t}for(h in a)a[h]=e(a[h]);var r={};for(h in a){var s=a[h];if(Array.isArray(s))for(g=0;g<s.length;g++){var n=s[g];if(C&&(r[n]=!0),n in L){if(w[h]=L[n],C)for(var l=g;l<s.length;l++)r[s[l]]=!0;break}}else h in L&&(a[h]&&(w[h]=L[h]),C&&(r[h]=!0))}if(C)for(h in L)r[h]||(w[h]=L[h]);return w};var N={};function e(p){return N[p]?N[p]:(typeof p=="string"&&(p=N[p]=p.split(/\s*,\s*|\s+/)),p)}},38258:function(B){B.exports=function(e,p,L,a){var C=e[0],w=e[1],h=!1;L===void 0&&(L=0),a===void 0&&(a=p.length);for(var g=a-L,t=0,r=g-1;t<g;r=t++){var s=p[t+L][0],n=p[t+L][1],l=p[r+L][0],c=p[r+L][1],f=n>w!=c>w&&C<(l-s)*(w-n)/(c-n)+s;f&&(h=!h)}return h}},52142:function(B,N,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var p=e(69444),L=e(29023),a=e(87263),C=e(11328),w=e(55968),h=e(10670),g=!1,t=L(),r;r={buildLog:function(n){return n===!0?g=p():n===!1&&(g=!1),g===!1?!1:g.list},epsilon:function(n){return t.epsilon(n)},segments:function(n){var l=a(!0,t,g);return n.regions.forEach(l.addRegion),{segments:l.calculate(n.inverted),inverted:n.inverted}},combine:function(n,l){var c=a(!1,t,g);return{combined:c.calculate(n.segments,n.inverted,l.segments,l.inverted),inverted1:n.inverted,inverted2:l.inverted}},selectUnion:function(n){return{segments:w.union(n.combined,g),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:w.intersect(n.combined,g),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:w.difference(n.combined,g),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:w.differenceRev(n.combined,g),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:w.xor(n.combined,g),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:C(n.segments,t,g),inverted:n.inverted}},polygonFromGeoJSON:function(n){return h.toPolygon(r,n)},polygonToGeoJSON:function(n){return h.fromPolygon(r,t,n)},union:function(n,l){return s(n,l,r.selectUnion)},intersect:function(n,l){return s(n,l,r.selectIntersect)},difference:function(n,l){return s(n,l,r.selectDifference)},differenceRev:function(n,l){return s(n,l,r.selectDifferenceRev)},xor:function(n,l){return s(n,l,r.selectXor)}};function s(n,l,c){var f=r.segments(n),m=r.segments(l),v=r.combine(f,m),A=c(v);return r.polygon(A)}typeof window=="object"&&(window.PolyBool=r),B.exports=r},69444:function(B){function N(){var e,p=0,L=!1;function a(C,w){return e.list.push({type:C,data:w?JSON.parse(JSON.stringify(w)):void 0}),e}return e={list:[],segmentId:function(){return p++},checkIntersection:function(C,w){return a("check",{seg1:C,seg2:w})},segmentChop:function(C,w){return a("div_seg",{seg:C,pt:w}),a("chop",{seg:C,pt:w})},statusRemove:function(C){return a("pop_seg",{seg:C})},segmentUpdate:function(C){return a("seg_update",{seg:C})},segmentNew:function(C,w){return a("new_seg",{seg:C,primary:w})},segmentRemove:function(C){return a("rem_seg",{seg:C})},tempStatus:function(C,w,h){return a("temp_status",{seg:C,above:w,below:h})},rewind:function(C){return a("rewind",{seg:C})},status:function(C,w,h){return a("status",{seg:C,above:w,below:h})},vert:function(C){return C===L?e:(L=C,a("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),a("log",{txt:C})},reset:function(){return a("reset")},selected:function(C){return a("selected",{segs:C})},chainStart:function(C){return a("chain_start",{seg:C})},chainRemoveHead:function(C,w){return a("chain_rem_head",{index:C,pt:w})},chainRemoveTail:function(C,w){return a("chain_rem_tail",{index:C,pt:w})},chainNew:function(C,w){return a("chain_new",{pt1:C,pt2:w})},chainMatch:function(C){return a("chain_match",{index:C})},chainClose:function(C){return a("chain_close",{index:C})},chainAddHead:function(C,w){return a("chain_add_head",{index:C,pt:w})},chainAddTail:function(C,w){return a("chain_add_tail",{index:C,pt:w})},chainConnect:function(C,w){return a("chain_con",{index1:C,index2:w})},chainReverse:function(C){return a("chain_rev",{index:C})},chainJoin:function(C,w){return a("chain_join",{index1:C,index2:w})},done:function(){return a("done")}},e}B.exports=N},29023:function(B){function N(e){typeof e!="number"&&(e=1e-10);var p={epsilon:function(L){return typeof L=="number"&&(e=L),e},pointAboveOrOnLine:function(L,a,C){var w=a[0],h=a[1],g=C[0],t=C[1],r=L[0],s=L[1];return(g-w)*(s-h)-(t-h)*(r-w)>=-e},pointBetween:function(L,a,C){var w=L[1]-a[1],h=C[0]-a[0],g=L[0]-a[0],t=C[1]-a[1],r=g*h+w*t;if(r<e)return!1;var s=h*h+t*t;return!(r-s>-e)},pointsSameX:function(L,a){return Math.abs(L[0]-a[0])<e},pointsSameY:function(L,a){return Math.abs(L[1]-a[1])<e},pointsSame:function(L,a){return p.pointsSameX(L,a)&&p.pointsSameY(L,a)},pointsCompare:function(L,a){return p.pointsSameX(L,a)?p.pointsSameY(L,a)?0:L[1]<a[1]?-1:1:L[0]<a[0]?-1:1},pointsCollinear:function(L,a,C){var w=L[0]-a[0],h=L[1]-a[1],g=a[0]-C[0],t=a[1]-C[1];return Math.abs(w*t-g*h)<e},linesIntersect:function(L,a,C,w){var h=a[0]-L[0],g=a[1]-L[1],t=w[0]-C[0],r=w[1]-C[1],s=h*r-g*t;if(Math.abs(s)<e)return!1;var n=L[0]-C[0],l=L[1]-C[1],c=(t*l-r*n)/s,f=(h*l-g*n)/s,m={alongA:0,alongB:0,pt:[L[0]+c*h,L[1]+c*g]};return c<=-e?m.alongA=-2:c<e?m.alongA=-1:c-1<=-e?m.alongA=0:c-1<e?m.alongA=1:m.alongA=2,f<=-e?m.alongB=-2:f<e?m.alongB=-1:f-1<=-e?m.alongB=0:f-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(L,a){for(var C=L[0],w=L[1],h=a[a.length-1][0],g=a[a.length-1][1],t=!1,r=0;r<a.length;r++){var s=a[r][0],n=a[r][1];n-w>e!=g-w>e&&(h-s)*(w-n)/(g-n)+s-C>e&&(t=!t),h=s,g=n}return t}};return p}B.exports=N},10670:function(B){var N={toPolygon:function(e,p){function L(w){if(w.length<=0)return e.segments({inverted:!1,regions:[]});function h(r){var s=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[s]})}for(var g=h(w[0]),t=1;t<w.length;t++)g=e.selectDifference(e.combine(g,h(w[t])));return g}if(p.type==="Polygon")return e.polygon(L(p.coordinates));if(p.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),C=0;C<p.coordinates.length;C++)a=e.selectUnion(e.combine(a,L(p.coordinates[C])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,p,L){L=e.polygon(e.segments(L));function a(c,f){return p.pointInsideRegion([(c[0][0]+c[1][0])*.5,(c[0][1]+c[1][1])*.5],f)}function C(c){return{region:c,children:[]}}var w=C(null);function h(c,f){for(var m=0;m<c.children.length;m++){var v=c.children[m];if(a(f,v.region)){h(v,f);return}}for(var A=C(f),m=0;m<c.children.length;m++){var v=c.children[m];a(v.region,f)&&(A.children.push(v),c.children.splice(m,1),m--)}c.children.push(A)}for(var g=0;g<L.regions.length;g++){var t=L.regions[g];t.length<3||h(w,t)}function r(c,f){for(var m=0,v=c[c.length-1][0],A=c[c.length-1][1],d=[],u=0;u<c.length;u++){var y=c[u][0],M=c[u][1];d.push([y,M]),m+=M*v-y*A,v=y,A=M}var S=m<0;return S!==f&&d.reverse(),d.push([d[0][0],d[0][1]]),d}var s=[];function n(c){var f=[r(c.region,!1)];s.push(f);for(var m=0;m<c.children.length;m++)f.push(l(c.children[m]))}function l(c){for(var f=0;f<c.children.length;f++)n(c.children[f]);return r(c.region,!0)}for(var g=0;g<w.children.length;g++)n(w.children[g]);return s.length<=0?{type:"Polygon",coordinates:[]}:s.length==1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};B.exports=N},87263:function(B,N,e){var p=e(26859);function L(a,C,w){function h(A,d){return{id:w?w.segmentId():-1,start:A,end:d,myFill:{above:null,below:null},otherFill:null}}function g(A,d,u){return{id:w?w.segmentId():-1,start:A,end:d,myFill:{above:u.myFill.above,below:u.myFill.below},otherFill:null}}var t=p.create();function r(A,d,u,y,M,S){var R=C.pointsCompare(d,M);return R!==0?R:C.pointsSame(u,S)?0:A!==y?A?1:-1:C.pointAboveOrOnLine(u,y?M:S,y?S:M)?1:-1}function s(A,d){t.insertBefore(A,function(u){var y=r(A.isStart,A.pt,d,u.isStart,u.pt,u.other.pt);return y<0})}function n(A,d){var u=p.node({isStart:!0,pt:A.start,seg:A,primary:d,other:null,status:null});return s(u,A.end),u}function l(A,d,u){var y=p.node({isStart:!1,pt:d.end,seg:d,primary:u,other:A,status:null});A.other=y,s(y,A.pt)}function c(A,d){var u=n(A,d);return l(u,A,d),u}function f(A,d){w&&w.segmentChop(A.seg,d),A.other.remove(),A.seg.end=d,A.other.pt=d,s(A.other,A.pt)}function m(A,d){var u=g(d,A.seg.end,A.seg);return f(A,d),c(u,A.primary)}function v(A,d){var u=p.create();function y(U,H){var z=U.seg.start,G=U.seg.end,Y=H.seg.start,J=H.seg.end;return C.pointsCollinear(z,Y,J)?C.pointsCollinear(G,Y,J)||C.pointAboveOrOnLine(G,Y,J)?1:-1:C.pointAboveOrOnLine(z,Y,J)?1:-1}function M(U){return u.findTransition(function(H){var z=y(U,H.ev);return z>0})}function S(U,H){var z=U.seg,G=H.seg,Y=z.start,J=z.end,ae=G.start,oe=G.end;w&&w.checkIntersection(z,G);var he=C.linesIntersect(Y,J,ae,oe);if(he===!1){if(!C.pointsCollinear(Y,J,ae)||C.pointsSame(Y,oe)||C.pointsSame(J,ae))return!1;var q=C.pointsSame(Y,ae),Z=C.pointsSame(J,oe);if(q&&Z)return H;var $=!q&&C.pointBetween(Y,ae,oe),K=!Z&&C.pointBetween(J,ae,oe);if(q)return K?m(H,J):m(U,oe),H;$&&(Z||(K?m(H,J):m(U,oe)),m(H,Y))}else he.alongA===0&&(he.alongB===-1?m(U,ae):he.alongB===0?m(U,he.pt):he.alongB===1&&m(U,oe)),he.alongB===0&&(he.alongA===-1?m(H,Y):he.alongA===0?m(H,he.pt):he.alongA===1&&m(H,J));return!1}for(var R=[];!t.isEmpty();){var x=t.getHead();if(w&&w.vert(x.pt[0]),x.isStart){let U=function(){if(T){var H=S(x,T);if(H)return H}return i?S(x,i):!1};var _=U;w&&w.segmentNew(x.seg,x.primary);var E=M(x),T=E.before?E.before.ev:null,i=E.after?E.after.ev:null;w&&w.tempStatus(x.seg,T?T.seg:!1,i?i.seg:!1);var D=U();if(D){if(a){var b;x.seg.myFill.below===null?b=!0:b=x.seg.myFill.above!==x.seg.myFill.below,b&&(D.seg.myFill.above=!D.seg.myFill.above)}else D.seg.otherFill=x.seg.myFill;w&&w.segmentUpdate(D.seg),x.other.remove(),x.remove()}if(t.getHead()!==x){w&&w.rewind(x.seg);continue}if(a){var b;x.seg.myFill.below===null?b=!0:b=x.seg.myFill.above!==x.seg.myFill.below,i?x.seg.myFill.below=i.seg.myFill.above:x.seg.myFill.below=A,b?x.seg.myFill.above=!x.seg.myFill.below:x.seg.myFill.above=x.seg.myFill.below}else if(x.seg.otherFill===null){var O;i?x.primary===i.primary?O=i.seg.otherFill.above:O=i.seg.myFill.above:O=x.primary?d:A,x.seg.otherFill={above:O,below:O}}w&&w.status(x.seg,T?T.seg:!1,i?i.seg:!1),x.other.status=E.insert(p.node({ev:x}))}else{var F=x.status;if(F===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(u.exists(F.prev)&&u.exists(F.next)&&S(F.prev.ev,F.next.ev),w&&w.statusRemove(F.ev.seg),F.remove(),!x.primary){var V=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=V}R.push(x.seg)}t.getHead().remove()}return w&&w.done(),R}return a?{addRegion:function(A){for(var d,u=A[A.length-1],y=0;y<A.length;y++){d=u,u=A[y];var M=C.pointsCompare(d,u);M!==0&&c(h(M<0?d:u,M<0?u:d),!0)}},calculate:function(A){return v(A,!1)}}:{calculate:function(A,d,u,y){return A.forEach(function(M){c(g(M.start,M.end,M),!0)}),u.forEach(function(M){c(g(M.start,M.end,M),!1)}),v(d,y)}}}B.exports=L},26859:function(B){var N={create:function(){var e={root:{root:!0,next:null},exists:function(p){return!(p===null||p===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(p,L){for(var a=e.root,C=e.root.next;C!==null;){if(L(C)){p.prev=C.prev,p.next=C,C.prev.next=p,C.prev=p;return}a=C,C=C.next}a.next=p,p.prev=a,p.next=null},findTransition:function(p){for(var L=e.root,a=e.root.next;a!==null&&!p(a);)L=a,a=a.next;return{before:L===e.root?null:L,after:a,insert:function(C){return C.prev=L,C.next=a,L.next=C,a!==null&&(a.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};B.exports=N},11328:function(B){function N(e,p,L){var a=[],C=[];return e.forEach(function(w){var h=w.start,g=w.end;if(p.pointsSame(h,g)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}L&&L.chainStart(w);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},s=t;function n(D,b,O){return s.index=D,s.matches_head=b,s.matches_pt1=O,s===t?(s=r,!1):(s=null,!0)}for(var l=0;l<a.length;l++){var c=a[l],f=c[0];c[1];var m=c[c.length-1];if(c[c.length-2],p.pointsSame(f,h)){if(n(l,!0,!0))break}else if(p.pointsSame(f,g)){if(n(l,!0,!1))break}else if(p.pointsSame(m,h)){if(n(l,!1,!0))break}else if(p.pointsSame(m,g)&&n(l,!1,!1))break}if(s===t){a.push([h,g]),L&&L.chainNew(h,g);return}if(s===r){L&&L.chainMatch(t.index);var v=t.index,A=t.matches_pt1?g:h,d=t.matches_head,c=a[v],u=d?c[0]:c[c.length-1],y=d?c[1]:c[c.length-2],M=d?c[c.length-1]:c[0],S=d?c[c.length-2]:c[1];if(p.pointsCollinear(y,u,A)&&(d?(L&&L.chainRemoveHead(t.index,A),c.shift()):(L&&L.chainRemoveTail(t.index,A),c.pop()),u=y),p.pointsSame(M,A)){a.splice(v,1),p.pointsCollinear(S,M,u)&&(d?(L&&L.chainRemoveTail(t.index,u),c.pop()):(L&&L.chainRemoveHead(t.index,u),c.shift())),L&&L.chainClose(t.index),C.push(c);return}d?(L&&L.chainAddHead(t.index,A),c.unshift(A)):(L&&L.chainAddTail(t.index,A),c.push(A));return}function R(D){L&&L.chainReverse(D),a[D].reverse()}function x(D,b){var O=a[D],F=a[b],V=O[O.length-1],_=O[O.length-2],U=F[0],H=F[1];p.pointsCollinear(_,V,U)&&(L&&L.chainRemoveTail(D,V),O.pop(),V=_),p.pointsCollinear(V,U,H)&&(L&&L.chainRemoveHead(b,U),F.shift()),L&&L.chainJoin(D,b),a[D]=O.concat(F),a.splice(b,1)}var E=t.index,T=r.index;L&&L.chainConnect(E,T);var i=a[E].length<a[T].length;t.matches_head?r.matches_head?i?(R(E),x(E,T)):(R(T),x(T,E)):x(T,E):r.matches_head?x(E,T):i?(R(E),x(T,E)):(R(T),x(E,T))}),C}B.exports=N},55968:function(B){function N(p,L,a){var C=[];return p.forEach(function(w){var h=(w.myFill.above?8:0)+(w.myFill.below?4:0)+(w.otherFill&&w.otherFill.above?2:0)+(w.otherFill&&w.otherFill.below?1:0);L[h]!==0&&C.push({id:a?a.segmentId():-1,start:w.start,end:w.end,myFill:{above:L[h]===1,below:L[h]===2},otherFill:null})}),a&&a.selected(C),C}var e={union:function(p,L){return N(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],L)},intersect:function(p,L){return N(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],L)},difference:function(p,L){return N(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],L)},differenceRev:function(p,L){return N(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],L)},xor:function(p,L){return N(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],L)}};B.exports=e},14847:function(B,N,e){var p=e(21630).Transform,L=e(90715);function a(){p.call(this,{readableObjectMode:!0})}a.prototype=Object.create(p.prototype),a.prototype.constructor=a,L(a.prototype),N.OF=function(w,h,g){for(var t=h,r=0;r<g.length;)if(w[t++]!==g[r++])return!1;return!0},N.eG=function(w,h){var g=[],t=0;if(h&&h==="hex")for(;t<w.length;)g.push(parseInt(w.slice(t,t+2),16)),t+=2;else for(;t<w.length;t++)g.push(w.charCodeAt(t)&255);return g},N.mP=function(w,h){return w[h]|w[h+1]<<8},N.n8=function(w,h){return w[h+1]|w[h]<<8},N.nm=function(w,h){return w[h]|w[h+1]<<8|w[h+2]<<16|w[h+3]*16777216},N.Ag=function(w,h){return w[h+3]|w[h+2]<<8|w[h+1]<<16|w[h]*16777216};function C(w,h,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=w,h&&(this.code=h),g&&(this.statusCode=g)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},71371:function(B){function N(L,a){var C=new Error(L);return C.code=a,C}function e(L){try{return decodeURIComponent(escape(L))}catch{return L}}function p(L,a,C){this.input=L.subarray(a,C),this.start=a;var w=String.fromCharCode.apply(null,this.input.subarray(0,4));if(w!=="II*\0"&&w!=="MM\0*")throw N("invalid TIFF signature","EBADDATA");this.big_endian=w[0]==="M"}p.prototype.each=function(L){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,L)}},p.prototype.read_uint16=function(L){var a=this.input;if(L+2>a.length)throw N("unexpected EOF","EBADDATA");return this.big_endian?a[L]*256+a[L+1]:a[L]+a[L+1]*256},p.prototype.read_uint32=function(L){var a=this.input;if(L+4>a.length)throw N("unexpected EOF","EBADDATA");return this.big_endian?a[L]*16777216+a[L+1]*65536+a[L+2]*256+a[L+3]:a[L]+a[L+1]*256+a[L+2]*65536+a[L+3]*16777216},p.prototype.is_subifd_link=function(L,a){return L===0&&a===34665||L===0&&a===34853||L===34665&&a===40965},p.prototype.exif_format_length=function(L){switch(L){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},p.prototype.exif_format_read=function(L,a){var C;switch(L){case 1:case 2:return C=this.input[a],C;case 6:return C=this.input[a],C|(C&128)*33554430;case 3:return C=this.read_uint16(a),C;case 8:return C=this.read_uint16(a),C|(C&32768)*131070;case 4:return C=this.read_uint32(a),C;case 9:return C=this.read_uint32(a),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},p.prototype.scan_ifd=function(L,a,C){var w=this.read_uint16(a);a+=2;for(var h=0;h<w;h++){var g=this.read_uint16(a),t=this.read_uint16(a+2),r=this.read_uint32(a+4),s=this.exif_format_length(t),n=r*s,l=n<=4?a+8:this.read_uint32(a+8),c=!1;if(l+n>this.input.length)throw N("unexpected EOF","EBADDATA");for(var f=[],m=l,v=0;v<r;v++,m+=s){var A=this.exif_format_read(t,m);if(A===null){f=null;break}f.push(A)}Array.isArray(f)&&t===2&&(f=e(String.fromCharCode.apply(null,f)),f&&f[f.length-1]==="\0"&&(f=f.slice(0,-1))),this.is_subifd_link(L,g)&&Array.isArray(f)&&Number.isInteger(f[0])&&f[0]>0&&(this.ifds_to_read.push({id:g,offset:f[0]}),c=!0);var d={is_big_endian:this.big_endian,ifd:L,tag:g,format:t,count:r,entry_offset:a+this.start,data_length:n,data_offset:l+this.start,value:f,is_subifd_link:c};if(C(d)===!1){this.aborted=!0;return}a+=12}L===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},B.exports.ExifParser=p,B.exports.get_orientation=function(L){var a=0;try{return new p(L,0,L.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return a=C.value[0],!1}),a}catch{return-1}}},76767:function(B,N,e){var p=e(14847).n8,L=e(14847).Ag;function a(n,l){if(n.length<4+l)return null;var c=L(n,l);return n.length<c+l||c<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(l+4,l+8)),data:n.slice(l+8,l+c),end:l+c}}B.exports.unbox=a;function C(n,l){for(var c=0;;){var f=a(n,c);if(!f)break;switch(f.boxtype){case"ispe":l.sizes.push({width:L(f.data,4),height:L(f.data,8)});break;case"irot":l.transforms.push({type:"irot",value:f.data[0]&3});break;case"imir":l.transforms.push({type:"imir",value:f.data[0]&1});break}c=f.end}}function w(n,l,c){for(var f=0,m=0;m<c;m++)f=f*256+(n[l+m]||0);return f}function h(n,l){for(var c=n[4]>>4&15,f=n[4]&15,m=n[5]>>4&15,v=p(n,6),A=8,d=0;d<v;d++){var u=p(n,A);A+=2;var y=p(n,A);A+=2;var M=w(n,A,m);A+=m;var S=p(n,A);if(A+=2,y===0&&S===1){var R=w(n,A,c),x=w(n,A+c,f);l.item_loc[u]={length:x,offset:R+M}}A+=S*(c+f)}}function g(n,l){for(var c=p(n,4),f=6,m=0;m<c;m++){var v=a(n,f);if(!v)break;if(v.boxtype==="infe"){for(var A=p(v.data,4),d="",u=8;u<v.data.length&&v.data[u];u++)d+=String.fromCharCode(v.data[u]);l.item_inf[d]=A}f=v.end}}function t(n,l){for(var c=0;;){var f=a(n,c);if(!f)break;f.boxtype==="ipco"&&C(f.data,l),c=f.end}}function r(n,l){for(var c=4;;){var f=a(n,c);if(!f)break;f.boxtype==="iprp"&&t(f.data,l),f.boxtype==="iloc"&&h(f.data,l),f.boxtype==="iinf"&&g(f.data,l),c=f.end}}function s(n){var l=n.reduce(function(m,v){return m.width>v.width||m.width===v.width&&m.height>v.height?m:v}),c=n.reduce(function(m,v){return m.height>v.height||m.height===v.height&&m.width>v.width?m:v}),f;return l.width>c.height||l.width===c.height&&l.height>c.width?f=l:f=c,f}B.exports.readSizeFromMeta=function(n){var l={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(n,l),!!l.sizes.length){var c=s(l.sizes),f=1;l.transforms.forEach(function(v){var A={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},d={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(v.type==="imir"&&(v.value===0?f=d[f]:(f=d[f],f=A[f],f=A[f])),v.type==="irot")for(var u=0;u<v.value;u++)f=A[f]});var m=null;return l.item_inf.Exif&&(m=l.item_loc[l.item_inf.Exif]),{width:c.width,height:c.height,orientation:l.transforms.length?f:null,variants:l.sizes,exif_location:m}}},B.exports.getMimeType=function(n){var l=String.fromCharCode.apply(null,n.slice(0,4)),c={};c[l]=!0;for(var f=8;f<n.length;f+=4)c[String.fromCharCode.apply(null,n.slice(f,f+4))]=!0;if(!(!c.mif1&&!c.msf1&&!c.miaf))return l==="avif"||l==="avis"||l==="avio"?{type:"avif",mime:"image/avif"}:l==="heic"||l==="heix"?{type:"heic",mime:"image/heic"}:l==="hevc"||l==="hevx"?{type:"heic",mime:"image/heic-sequence"}:c.avif||c.avis?{type:"avif",mime:"image/avif"}:c.heic||c.heix||c.hevc||c.hevx||c.heis?c.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(B,N,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).Ag,C=e(76767),w=e(71371),h=p("ftyp");B.exports=function(g){if(L(g,4,h)){var t=C.unbox(g,0);if(t){var r=C.getMimeType(t.data);if(r){for(var s,n=t.end;;){var l=C.unbox(g,n);if(!l)break;if(n=l.end,l.boxtype==="mdat")return;if(l.boxtype==="meta"){s=l.data;break}}if(s){var c=C.readSizeFromMeta(s);if(c){var f={width:c.width,height:c.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(c.variants.length>1&&(f.variants=c.variants),c.orientation&&(f.orientation=c.orientation),c.exif_location&&c.exif_location.offset+c.exif_location.length<=g.length){var m=a(g,c.exif_location.offset),v=g.slice(c.exif_location.offset+m+4,c.exif_location.offset+c.exif_location.length),A=w.get_orientation(v);A>0&&(f.orientation=A)}return f}}}}}}},2504:function(B,N,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).mP,C=p("BM");B.exports=function(w){if(!(w.length<26)&&L(w,0,C))return{width:a(w,18),height:a(w,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(B,N,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).mP,C=p("GIF87a"),w=p("GIF89a");B.exports=function(h){if(!(h.length<10)&&!(!L(h,0,C)&&!L(h,0,w)))return{width:a(h,6),height:a(h,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(B,N,e){var p=e(14847).mP,L=0,a=1,C=16;B.exports=function(w){var h=p(w,0),g=p(w,2),t=p(w,4);if(!(h!==L||g!==a||!t)){for(var r=[],s={width:0,height:0},n=0;n<t;n++){var l=w[6+C*n]||256,c=w[6+C*n+1]||256,f={width:l,height:c};r.push(f),(l>s.width||c>s.height)&&(s=f)}return{width:s.width,height:s.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(B,N,e){var p=e(14847).n8,L=e(14847).eG,a=e(14847).OF,C=e(71371),w=L("Exif\0\0");B.exports=function(h){if(!(h.length<2)&&!(h[0]!==255||h[1]!==216||h[2]!==255))for(var g=2;;){for(;;){if(h.length-g<2)return;if(h[g++]===255)break}for(var t=h[g++],r;t===255;)t=h[g++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(h.length-g<2)return;r=p(h,g)-2,g+=2}else return;if(t===217||t===218)return;var s;if(t===225&&r>=10&&a(h,g,w)&&(s=C.get_orientation(h.slice(g+6,g+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(h.length-g<r)return;var n={width:p(h,g+3),height:p(h,g+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(n.orientation=s),n}g+=r}}},6303:function(B,N,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).Ag,C=p(`PNG\r

`),w=p("IHDR");B.exports=function(h){if(!(h.length<24)&&L(h,0,C)&&L(h,12,w))return{width:a(h,16),height:a(h,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(B,N,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).Ag,C=p("8BPS\0");B.exports=function(w){if(!(w.length<22)&&L(w,0,C))return{width:a(w,18),height:a(w,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(B){function N(s){return s===32||s===9||s===13||s===10}function e(s){return typeof s=="number"&&isFinite(s)&&s>0}function p(s){var n=0,l=s.length;for(s[0]===239&&s[1]===187&&s[2]===191&&(n=3);n<l&&N(s[n]);)n++;return n===l?!1:s[n]===60}var L=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,w=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,h=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,g=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(s){var n=s.match(C),l=s.match(w),c=s.match(h);return{width:n&&(n[1]||n[2]),height:l&&(l[1]||l[2]),viewbox:c&&(c[1]||c[2])}}function r(s){return g.test(s)?s.match(g)[0]:"px"}B.exports=function(s){if(p(s)){for(var n="",l=0;l<s.length;l++)n+=String.fromCharCode(s[l]);var c=(n.match(L)||[""])[0];if(a.test(c)){var f=t(c),m=parseFloat(f.width),v=parseFloat(f.height);if(f.width&&f.height)return!e(m)||!e(v)?void 0:{width:m,height:v,type:"svg",mime:"image/svg+xml",wUnits:r(f.width),hUnits:r(f.height)};var A=(f.viewbox||"").split(" "),d={width:A[2],height:A[3]},u=parseFloat(d.width),y=parseFloat(d.height);if(!(!e(u)||!e(y))&&r(d.width)===r(d.height)){var M=u/y;return f.width?e(m)?{width:m,height:m/M,type:"svg",mime:"image/svg+xml",wUnits:r(f.width),hUnits:r(f.width)}:void 0:f.height?e(v)?{width:v*M,height:v,type:"svg",mime:"image/svg+xml",wUnits:r(f.height),hUnits:r(f.height)}:void 0:{width:u,height:y,type:"svg",mime:"image/svg+xml",wUnits:r(d.width),hUnits:r(d.height)}}}}}},66278:function(B,N,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).mP,C=e(14847).n8,w=e(14847).nm,h=e(14847).Ag,g=p("II*\0"),t=p("MM\0*");function r(l,c,f){return f?C(l,c):a(l,c)}function s(l,c,f){return f?h(l,c):w(l,c)}function n(l,c,f){var m=r(l,c+2,f),v=s(l,c+4,f);return v!==1||m!==3&&m!==4?null:m===3?r(l,c+8,f):s(l,c+8,f)}B.exports=function(l){if(!(l.length<8)&&!(!L(l,0,g)&&!L(l,0,t))){var c=l[0]===77,f=s(l,4,c)-8;if(!(f<0)){var m=f+8;if(!(l.length-m<2)){var v=r(l,m+0,c)*12;if(!(v<=0)&&(m+=2,!(l.length-m<v))){var A,d,u,y;for(A=0;A<v;A+=12)y=r(l,m+A,c),y===256?d=n(l,m+A,c):y===257&&(u=n(l,m+A,c));if(d&&u)return{width:d,height:u,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(B,N,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).mP,C=e(14847).nm,w=e(71371),h=p("RIFF"),g=p("WEBP");function t(n,l){if(!(n[l+3]!==157||n[l+4]!==1||n[l+5]!==42))return{width:a(n,l+6)&16383,height:a(n,l+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(n,l){if(n[l]===47){var c=C(n,l+1);return{width:(c&16383)+1,height:(c>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function s(n,l){return{width:(n[l+6]<<16|n[l+5]<<8|n[l+4])+1,height:(n[l+9]<<l|n[l+8]<<8|n[l+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}B.exports=function(n){if(!(n.length<16)&&!(!L(n,0,h)&&!L(n,8,g))){var l=12,c=null,f=0,m=C(n,4)+8;if(!(m>n.length)){for(;l+8<m;){if(n[l]===0){l++;continue}var v=String.fromCharCode.apply(null,n.slice(l,l+4)),A=C(n,l+4);v==="VP8 "&&A>=10?c=c||t(n,l+8):v==="VP8L"&&A>=9?c=c||r(n,l+8):v==="VP8X"&&A>=10?c=c||s(n,l+8):v==="EXIF"&&(f=w.get_orientation(n.slice(l+8,l+8+A)),l=1/0),l+=8+A}if(c)return f>0&&(c.orientation=f),c}}}},91497:function(B,N,e){B.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(B,N,e){var p=e(91497);function L(a){for(var C=Object.keys(p),w=0;w<C.length;w++){var h=p[C[w]](a);if(h)return h}return null}B.exports=function(C){return L(C)},B.exports.parsers=p},90386:function(B){var N=B.exports={},e,p;function L(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=L}catch{e=L}try{typeof clearTimeout=="function"?p=clearTimeout:p=a}catch{p=a}})();function C(f){if(e===setTimeout)return setTimeout(f,0);if((e===L||!e)&&setTimeout)return e=setTimeout,setTimeout(f,0);try{return e(f,0)}catch{try{return e.call(null,f,0)}catch{return e.call(this,f,0)}}}function w(f){if(p===clearTimeout)return clearTimeout(f);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(f);try{return p(f)}catch{try{return p.call(null,f)}catch{return p.call(this,f)}}}var h=[],g=!1,t,r=-1;function s(){!g||!t||(g=!1,t.length?h=t.concat(h):r=-1,h.length&&n())}function n(){if(!g){var f=C(s);g=!0;for(var m=h.length;m;){for(t=h,h=[];++r<m;)t&&t[r].run();r=-1,m=h.length}t=null,g=!1,w(f)}}N.nextTick=function(f){var m=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)m[v-1]=arguments[v];h.push(new l(f,m)),h.length===1&&!g&&C(n)};function l(f,m){this.fun=f,this.array=m}l.prototype.run=function(){this.fun.apply(null,this.array)},N.title="browser",N.browser=!0,N.env={},N.argv=[],N.version="",N.versions={};function c(){}N.on=c,N.addListener=c,N.once=c,N.off=c,N.removeListener=c,N.removeAllListeners=c,N.emit=c,N.prependListener=c,N.prependOnceListener=c,N.listeners=function(f){return[]},N.binding=function(f){throw new Error("process.binding is not supported")},N.cwd=function(){return"/"},N.chdir=function(f){throw new Error("process.chdir is not supported")},N.umask=function(){return 0}},5877:function(B,N,e){for(var p=e(9748),L=typeof window>"u"?e.g:window,a=["moz","webkit"],C="AnimationFrame",w=L["request"+C],h=L["cancel"+C]||L["cancelRequest"+C],g=0;!w&&g<a.length;g++)w=L[a[g]+"Request"+C],h=L[a[g]+"Cancel"+C]||L[a[g]+"CancelRequest"+C];if(!w||!h){var t=0,r=0,s=[],n=1e3/60;w=function(l){if(s.length===0){var c=p(),f=Math.max(0,n-(c-t));t=f+c,setTimeout(function(){var m=s.slice(0);s.length=0;for(var v=0;v<m.length;v++)if(!m[v].cancelled)try{m[v].callback(t)}catch(A){setTimeout(function(){throw A},0)}},Math.round(f))}return s.push({handle:++r,callback:l,cancelled:!1}),r},h=function(l){for(var c=0;c<s.length;c++)s[c].handle===l&&(s[c].cancelled=!0)}}B.exports=function(l){return w.call(L,l)},B.exports.cancel=function(){h.apply(L,arguments)},B.exports.polyfill=function(l){l||(l=L),l.requestAnimationFrame=w,l.cancelAnimationFrame=h}},3593:function(B,N,e){var p=e(21527),L=e(25075),a=e(93447),C=e(71299),w=e(56131),h=e(30120),g=e(57060),t=g.float32,r=g.fract32;B.exports=n;var s=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(l,c){if(typeof l=="function"?(c||(c={}),c.regl=l):c=l,c.length&&(c.positions=c),l=c.regl,!l.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var f=l._gl,m,v,A,d,u,y,M={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},S=[];return d=l.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),v=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),A=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),u=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),y=l.buffer({usage:"static",type:"float",data:s}),T(c),m=l({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:l.prop("range"),lineWidth:l.prop("lineWidth"),capSize:l.prop("capSize"),opacity:l.prop("opacity"),scale:l.prop("scale"),translate:l.prop("translate"),scaleFract:l.prop("scaleFract"),translateFract:l.prop("translateFract"),viewport:function(D,b){return[b.viewport.x,b.viewport.y,D.viewportWidth,D.viewportHeight]}},attributes:{color:{buffer:d,offset:function(D,b){return b.offset*4},divisor:1},position:{buffer:v,offset:function(D,b){return b.offset*8},divisor:1},positionFract:{buffer:A,offset:function(D,b){return b.offset*8},divisor:1},error:{buffer:u,offset:function(D,b){return b.offset*16},divisor:1},direction:{buffer:y,stride:24,offset:0},lineOffset:{buffer:y,stride:24,offset:8},capOffset:{buffer:y,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:l.prop("viewport")},viewport:l.prop("viewport"),stencil:!1,instances:l.prop("count"),count:s.length}),w(R,{update:T,draw:x,destroy:i,regl:l,gl:f,canvas:f.canvas,groups:S}),R;function R(D){D?T(D):D===null&&i(),x()}function x(D){if(typeof D=="number")return E(D);D&&!Array.isArray(D)&&(D=[D]),l._refresh(),S.forEach(function(b,O){if(b){if(D&&(D[O]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}E(O)}})}function E(D){typeof D=="number"&&(D=S[D]),D!=null&&D&&D.count&&D.color&&D.opacity&&D.positions&&D.positions.length>1&&(D.scaleRatio=[D.scale[0]*D.viewport.width,D.scale[1]*D.viewport.height],m(D),D.after&&D.after(D))}function T(D){if(D){D.length!=null?typeof D[0]=="number"&&(D=[{positions:D}]):Array.isArray(D)||(D=[D]);var b=0,O=0;if(R.groups=S=D.map(function(G,Y){var J=S[Y];if(G)typeof G=="function"?G={after:G}:typeof G[0]=="number"&&(G={positions:G});else return J;return G=C(G,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),J||(S[Y]=J={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},G=w({},M,G)),a(J,G,[{lineWidth:function(ae){return+ae*.5},capSize:function(ae){return+ae*.5},opacity:parseFloat,errors:function(ae){return ae=h(ae),O+=ae.length,ae},positions:function(ae,oe){return ae=h(ae,"float64"),oe.count=Math.floor(ae.length/2),oe.bounds=p(ae,2),oe.offset=b,b+=oe.count,ae}},{color:function(ae,oe){var he=oe.count;if(ae||(ae="transparent"),!Array.isArray(ae)||typeof ae[0]=="number"){var q=ae;ae=Array(he);for(var Z=0;Z<he;Z++)ae[Z]=q}if(ae.length<he)throw Error("Not enough colors");for(var $=new Uint8Array(he*4),K=0;K<he;K++){var re=L(ae[K],"uint8");$.set(re,K*4)}return $},range:function(ae,oe,he){var q=oe.bounds;return ae||(ae=q),oe.scale=[1/(ae[2]-ae[0]),1/(ae[3]-ae[1])],oe.translate=[-ae[0],-ae[1]],oe.scaleFract=r(oe.scale),oe.translateFract=r(oe.translate),ae},viewport:function(ae){var oe;return Array.isArray(ae)?oe={x:ae[0],y:ae[1],width:ae[2]-ae[0],height:ae[3]-ae[1]}:ae?(oe={x:ae.x||ae.left||0,y:ae.y||ae.top||0},ae.right?oe.width=ae.right-oe.x:oe.width=ae.w||ae.width||0,ae.bottom?oe.height=ae.bottom-oe.y:oe.height=ae.h||ae.height||0):oe={x:0,y:0,width:f.drawingBufferWidth,height:f.drawingBufferHeight},oe}}]),J}),b||O){var F=S.reduce(function(G,Y,J){return G+(Y?Y.count:0)},0),V=new Float64Array(F*2),_=new Uint8Array(F*4),U=new Float32Array(F*4);S.forEach(function(G,Y){if(G){var J=G.positions,ae=G.count,oe=G.offset,he=G.color,q=G.errors;ae&&(_.set(he,oe*4),U.set(q,oe*4),V.set(J,oe*2))}});var H=t(V);v(H);var z=r(V,H);A(z),d(_),u(U)}}}function i(){v.destroy(),A.destroy(),d.destroy(),u.destroy(),y.destroy()}}},46075:function(B,N,e){var p=e(25075),L=e(21527),a=e(56131),C=e(56068),w=e(71299),h=e(30120),g=e(11474),t=e(54),r=e(57060),s=r.float32,n=r.fract32,l=e(83522),c=e(18863),f=e(6851);B.exports=m;function m(v,A){if(!(this instanceof m))return new m(v,A);if(typeof v=="function"?(A||(A={}),A.regl=v):A=v,A.length&&(A.positions=A),v=A.regl,!v.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=v._gl,this.regl=v,this.passes=[],this.shaders=m.shaders.has(v)?m.shaders.get(v):m.shaders.set(v,m.createShaders(v)).get(v),this.update(A)}m.dashMult=2,m.maxPatternLength=256,m.precisionThreshold=3e6,m.maxPoints=1e4,m.maxLines=2048,m.shaders=new l,m.createShaders=function(v){var A=v.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),d={primitive:"triangle strip",instances:v.prop("count"),count:4,offset:0,uniforms:{miterMode:function(S,R){return R.join==="round"?2:1},miterLimit:v.prop("miterLimit"),scale:v.prop("scale"),scaleFract:v.prop("scaleFract"),translateFract:v.prop("translateFract"),translate:v.prop("translate"),thickness:v.prop("thickness"),dashTexture:v.prop("dashTexture"),opacity:v.prop("opacity"),pixelRatio:v.context("pixelRatio"),id:v.prop("id"),dashLength:v.prop("dashLength"),viewport:function(S,R){return[R.viewport.x,R.viewport.y,S.viewportWidth,S.viewportHeight]},depth:v.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(S,R){return!R.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:v.prop("viewport")},viewport:v.prop("viewport")},u=v(a({vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:v.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:v.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:v.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},d)),y;try{y=v(a({cull:{enable:!0,face:"back"},vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aColor:{buffer:v.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:v.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},d))}catch{y=u}var M=v({primitive:"triangle",elements:function(S,R){return R.triangles},offset:0,vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:v.prop("scale"),color:v.prop("fill"),scaleFract:v.prop("scaleFract"),translateFract:v.prop("translateFract"),translate:v.prop("translate"),opacity:v.prop("opacity"),pixelRatio:v.context("pixelRatio"),id:v.prop("id"),viewport:function(S,R){return[R.viewport.x,R.viewport.y,S.viewportWidth,S.viewportHeight]}},attributes:{position:{buffer:v.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:v.prop("positionFractBuffer"),stride:8,offset:8}},blend:d.blend,depth:{enable:!1},scissor:d.scissor,stencil:d.stencil,viewport:d.viewport});return{fill:M,rect:u,miter:y}},m.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},m.prototype.render=function(){for(var v,A=[],d=arguments.length;d--;)A[d]=arguments[d];A.length&&(v=this).update.apply(v,A),this.draw()},m.prototype.draw=function(){for(var v=this,A=[],d=arguments.length;d--;)A[d]=arguments[d];return(A.length?A:this.passes).forEach(function(u,y){var M;if(u&&Array.isArray(u))return(M=v).draw.apply(M,u);typeof u=="number"&&(u=v.passes[u]),u&&u.count>1&&u.opacity&&(v.regl._refresh(),u.fill&&u.triangles&&u.triangles.length>2&&v.shaders.fill(u),u.thickness&&(u.scale[0]*u.viewport.width>m.precisionThreshold||u.scale[1]*u.viewport.height>m.precisionThreshold||u.join==="rect"||!u.join&&(u.thickness<=2||u.count>=m.maxPoints)?v.shaders.rect(u):v.shaders.miter(u)))}),this},m.prototype.update=function(v){var A=this;if(v){v.length!=null?typeof v[0]=="number"&&(v=[{positions:v}]):Array.isArray(v)||(v=[v]);var d=this,u=d.regl,y=d.gl;if(v.forEach(function(E,T){var i=A.passes[T];if(E!==void 0){if(E===null){A.passes[T]=null;return}if(typeof E[0]=="number"&&(E={positions:E}),E=w(E,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),i||(A.passes[T]=i={id:T,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:u.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},E=a({},m.defaults,E)),E.thickness!=null&&(i.thickness=parseFloat(E.thickness)),E.opacity!=null&&(i.opacity=parseFloat(E.opacity)),E.miterLimit!=null&&(i.miterLimit=parseFloat(E.miterLimit)),E.overlay!=null&&(i.overlay=!!E.overlay,T<m.maxLines&&(i.depth=2*(m.maxLines-1-T%m.maxLines)/m.maxLines-1)),E.join!=null&&(i.join=E.join),E.hole!=null&&(i.hole=E.hole),E.fill!=null&&(i.fill=E.fill?p(E.fill,"uint8"):null),E.viewport!=null&&(i.viewport=c(E.viewport)),i.viewport||(i.viewport=c([y.drawingBufferWidth,y.drawingBufferHeight])),E.close!=null&&(i.close=E.close),E.positions===null&&(E.positions=[]),E.positions){var D,b;if(E.positions.x&&E.positions.y){var O=E.positions.x,F=E.positions.y;b=i.count=Math.max(O.length,F.length),D=new Float64Array(b*2);for(var V=0;V<b;V++)D[V*2]=O[V],D[V*2+1]=F[V]}else D=h(E.positions,"float64"),b=i.count=Math.floor(D.length/2);var _=i.bounds=L(D,2);if(i.fill){for(var U=[],H={},z=0,G=0,Y=0,J=i.count;G<J;G++){var ae=D[G*2],oe=D[G*2+1];isNaN(ae)||isNaN(oe)||ae==null||oe==null?(ae=D[z*2],oe=D[z*2+1],H[G]=z):z=G,U[Y++]=ae,U[Y++]=oe}if(E.splitNull){i.count-1 in H||(H[i.count]=i.count-1);var he=Object.keys(H).map(Number).sort(function(Be,De){return Be-De}),q=[],Z=0,$=i.hole!=null?i.hole[0]:null;if($!=null){var K=f(he,function(Be){return Be>=$});he=he.slice(0,K),he.push($)}for(var re=function(Be){var De=U.slice(Z*2,he[Be]*2).concat($?U.slice($*2):[]),Te=(i.hole||[]).map(function(Me){return Me-$+(he[Be]-Z)}),xe=g(De,Te);xe=xe.map(function(Me){return Me+Z+(Me+Z<he[Be]?0:$-he[Be])}),q.push.apply(q,xe),Z=he[Be]+1},le=0;le<he.length;le++)re(le);for(var te=0,ee=q.length;te<ee;te++)H[q[te]]!=null&&(q[te]=H[q[te]]);i.triangles=q}else{for(var ue=g(U,i.hole||[]),se=0,ve=ue.length;se<ve;se++)H[ue[se]]!=null&&(ue[se]=H[ue[se]]);i.triangles=ue}}var be=new Float64Array(D);t(be,2,_);var Ee=new Float64Array(b*2+6);i.close?D[0]===D[b*2-2]&&D[1]===D[b*2-1]?(Ee[0]=be[b*2-4],Ee[1]=be[b*2-3]):(Ee[0]=be[b*2-2],Ee[1]=be[b*2-1]):(Ee[0]=be[0],Ee[1]=be[1]),Ee.set(be,2),i.close?D[0]===D[b*2-2]&&D[1]===D[b*2-1]?(Ee[b*2+2]=be[2],Ee[b*2+3]=be[3],i.count-=1):(Ee[b*2+2]=be[0],Ee[b*2+3]=be[1],Ee[b*2+4]=be[2],Ee[b*2+5]=be[3]):(Ee[b*2+2]=be[b*2-2],Ee[b*2+3]=be[b*2-1],Ee[b*2+4]=be[b*2-2],Ee[b*2+5]=be[b*2-1]);var Ae=s(Ee);i.positionBuffer(Ae);var Oe=n(Ee,Ae);i.positionFractBuffer(Oe)}if(E.range?i.range=E.range:i.range||(i.range=i.bounds),(E.range||E.positions)&&i.count){var Ue=i.bounds,Le=Ue[2]-Ue[0],we=Ue[3]-Ue[1],Ce=i.range[2]-i.range[0],Ve=i.range[3]-i.range[1];i.scale=[Le/Ce,we/Ve],i.translate=[-i.range[0]/Ce+Ue[0]/Ce||0,-i.range[1]/Ve+Ue[1]/Ve||0],i.scaleFract=n(i.scale),i.translateFract=n(i.translate)}if(E.dashes){var Ne=0,ke;if(!E.dashes||E.dashes.length<2)Ne=1,ke=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ne=0;for(var We=0;We<E.dashes.length;++We)Ne+=E.dashes[We];ke=new Uint8Array(Ne*m.dashMult);for(var rt=0,et=255,tt=0;tt<2;tt++)for(var at=0;at<E.dashes.length;++at){for(var ct=0,dt=E.dashes[at]*m.dashMult*.5;ct<dt;++ct)ke[rt++]=et;et^=255}}i.dashLength=Ne,i.dashTexture({channels:1,data:ke,width:ke.length,height:1,mag:"linear",min:"linear"},0,0)}if(E.color){var gt=i.count,Et=E.color;Et||(Et="transparent");var Ct=new Uint8Array(gt*4+4);if(!Array.isArray(Et)||typeof Et[0]=="number")for(var Vt=p(Et,"uint8"),Je=0;Je<gt+1;Je++)Ct.set(Vt,Je*4);else{for(var _e=0;_e<gt;_e++){var Fe=p(Et[_e],"uint8");Ct.set(Fe,_e*4)}Ct.set(p(Et[0],"uint8"),gt*4)}i.colorBuffer({usage:"dynamic",type:"uint8",data:Ct})}}}),v.length<this.passes.length){for(var M=v.length;M<this.passes.length;M++){var S=this.passes[M];S&&(S.colorBuffer.destroy(),S.positionBuffer.destroy(),S.dashTexture.destroy())}this.passes.length=v.length}for(var R=[],x=0;x<this.passes.length;x++)this.passes[x]!==null&&R.push(this.passes[x]);return this.passes=R,this}},m.prototype.destroy=function(){return this.passes.forEach(function(v){v.colorBuffer.destroy(),v.positionBuffer.destroy(),v.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(B,N,e){function p(i,D){var b=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(b!=null){var O,F,V,_,U=[],H=!0,z=!1;try{if(V=(b=b.call(i)).next,D===0){if(Object(b)!==b)return;H=!1}else for(;!(H=(O=V.call(b)).done)&&(U.push(O.value),U.length!==D);H=!0);}catch(G){z=!0,F=G}finally{try{if(!H&&b.return!=null&&(_=b.return(),Object(_)!==_))return}finally{if(z)throw F}}return U}}function L(i,D){return w(i)||p(i,D)||g(i,D)||s()}function a(i){return C(i)||h(i)||g(i)||r()}function C(i){if(Array.isArray(i))return t(i)}function w(i){if(Array.isArray(i))return i}function h(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function g(i,D){if(i){if(typeof i=="string")return t(i,D);var b=Object.prototype.toString.call(i).slice(8,-1);if(b==="Object"&&i.constructor&&(b=i.constructor.name),b==="Map"||b==="Set")return Array.from(i);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return t(i,D)}}function t(i,D){(D==null||D>i.length)&&(D=i.length);for(var b=0,O=new Array(D);b<D;b++)O[b]=i[b];return O}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(25075),l=e(21527),c=e(6475),f=e(88294),m=e(56131),v=e(56068),A=e(71299),d=e(93447),u=e(30120),y=e(62683),M=e(57060),S=e(18863),R=x;function x(i,D){var b=this;if(!(this instanceof x))return new x(i,D);typeof i=="function"?(D||(D={}),D.regl=i):(D=i,i=null),D&&D.length&&(D.positions=D),i=D.regl;var O=i._gl,F,V=[],_={},U=[],H=[null],z=[null],G=255,Y=100;this.tooManyColors=y,F=i.texture({data:new Uint8Array(G*4),width:G,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:i,gl:O,groups:U,markerCache:z,markerTextures:H,palette:V,paletteIds:_,paletteTexture:F,maxColors:G,maxSize:Y,canvas:O.canvas}),this.update(D);var J={uniforms:{constPointSize:!!D.constPointSize,opacity:i.prop("opacity"),paletteSize:function(q,Z){return[b.tooManyColors?0:G,F.height]},pixelRatio:i.context("pixelRatio"),scale:i.prop("scale"),scaleFract:i.prop("scaleFract"),translate:i.prop("translate"),translateFract:i.prop("translateFract"),markerTexture:i.prop("markerTexture"),paletteTexture:F},attributes:{x:function(q,Z){return Z.xAttr||{buffer:Z.positionBuffer,stride:8,offset:0}},y:function(q,Z){return Z.yAttr||{buffer:Z.positionBuffer,stride:8,offset:4}},xFract:function(q,Z){return Z.xAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:0}},yFract:function(q,Z){return Z.yAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:4}},size:function(q,Z){return Z.size.length?{buffer:Z.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Z.size*255/b.maxSize)]}},borderSize:function(q,Z){return Z.borderSize.length?{buffer:Z.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Z.borderSize*255/b.maxSize)]}},colorId:function(q,Z){return Z.color.length?{buffer:Z.colorBuffer,stride:b.tooManyColors?8:4,offset:0}:{constant:b.tooManyColors?V.slice(Z.color*4,Z.color*4+4):[Z.color]}},borderColorId:function(q,Z){return Z.borderColor.length?{buffer:Z.colorBuffer,stride:b.tooManyColors?8:4,offset:b.tooManyColors?4:2}:{constant:b.tooManyColors?V.slice(Z.borderColor*4,Z.borderColor*4+4):[Z.borderColor]}},isActive:function(q,Z){return Z.activation===!0?{constant:[1]}:Z.activation?Z.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:i.prop("elements"),count:i.prop("count"),offset:i.prop("offset"),primitive:"points"},ae=m({},J);ae.frag=v([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ae.vert=v([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=i(ae);var oe=m({},J);oe.frag=v([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),oe.vert=v([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),y&&(oe.frag=oe.frag.replace("smoothstep","smoothStep"),ae.frag=ae.frag.replace("smoothstep","smoothStep")),this.drawCircle=i(oe)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var i=this,D=arguments.length,b=new Array(D),O=0;O<D;O++)b[O]=arguments[O];var F=this.groups;if(b.length===1&&Array.isArray(b[0])&&(b[0][0]===null||Array.isArray(b[0][0]))&&(b=b[0]),this.regl._refresh(),b.length)for(var V=0;V<b.length;V++)this.drawItem(V,b[V]);else F.forEach(function(_,U){i.drawItem(U)});return this},x.prototype.drawItem=function(i,D){var b=this.groups,O=b[i];if(typeof D=="number"&&(i=D,O=b[D],D=null),!!(O&&O.count&&O.opacity)){O.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,O,D));for(var F=[],V=1;V<O.activation.length;V++)!O.activation[V]||O.activation[V]!==!0&&!O.activation[V].data.length||F.push.apply(F,a(this.getMarkerDrawOptions(V,O,D)));F.length&&this.drawMarker(F)}},x.prototype.getMarkerDrawOptions=function(i,D,b){var O=D.range,F=D.tree,V=D.viewport,_=D.activation,U=D.selectionBuffer,H=D.count;if(this.regl,!F)return b?[m({},D,{markerTexture:this.markerTextures[i],activation:_[i],count:b.length,elements:b,offset:0})]:[m({},D,{markerTexture:this.markerTextures[i],activation:_[i],offset:0})];var z=[],G=F.range(O,{lod:!0,px:[(O[2]-O[0])/V.width,(O[3]-O[1])/V.height]});if(b){for(var Y=_[i],J=Y.data,ae=new Uint8Array(H),oe=0;oe<b.length;oe++){var he=b[oe];ae[he]=J?J[he]:1}U.subdata(ae)}for(var q=G.length;q--;){var Z=L(G[q],2),$=Z[0],K=Z[1];z.push(m({},D,{markerTexture:this.markerTextures[i],activation:b?U:_[i],offset:$,count:K-$}))}return z},x.prototype.update=function(){for(var i=this,D=arguments.length,b=new Array(D),O=0;O<D;O++)b[O]=arguments[O];if(b.length){b.length===1&&Array.isArray(b[0])&&(b=b[0]);var F=this.groups,V=this.gl,_=this.regl,U=this.maxSize,H=this.maxColors,z=this.palette;this.groups=F=b.map(function(G,Y){var J=F[Y];if(G===void 0)return J;G===null?G={positions:null}:typeof G=="function"?G={ondraw:G}:typeof G[0]=="number"&&(G={positions:G}),G=A(G,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),G.positions===null&&(G.positions=[]),G.tooManyColors!=null&&(i.tooManyColors=G.tooManyColors),J||(F[Y]=J={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:_.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},G=m({},x.defaults,G)),G.positions&&!("marker"in G)&&(G.marker=J.marker,delete J.marker),G.marker&&!("positions"in G)&&(G.positions=J.positions,delete J.positions);var ae=0,oe=0;if(d(J,G,[{snap:!0,size:function(we,Ce){return we==null&&(we=x.defaults.size),ae+=we&&we.length?1:0,we},borderSize:function(we,Ce){return we==null&&(we=x.defaults.borderSize),ae+=we&&we.length?1:0,we},opacity:parseFloat,color:function(we,Ce){return we==null&&(we=x.defaults.color),we=i.updateColor(we),oe++,we},borderColor:function(we,Ce){return we==null&&(we=x.defaults.borderColor),we=i.updateColor(we),oe++,we},bounds:function(we,Ce,Ve){return"range"in Ve||(Ve.range=null),we},positions:function(we,Ce,Ve){var Ne=Ce.snap,ke=Ce.positionBuffer,We=Ce.positionFractBuffer,rt=Ce.selectionBuffer;if(we.x||we.y)return we.x.length?Ce.xAttr={buffer:_.buffer(we.x),offset:0,stride:4,count:we.x.length}:Ce.xAttr={buffer:we.x.buffer,offset:we.x.offset*4||0,stride:(we.x.stride||1)*4,count:we.x.count},we.y.length?Ce.yAttr={buffer:_.buffer(we.y),offset:0,stride:4,count:we.y.length}:Ce.yAttr={buffer:we.y.buffer,offset:we.y.offset*4||0,stride:(we.y.stride||1)*4,count:we.y.count},Ce.count=Math.max(Ce.xAttr.count,Ce.yAttr.count),we;we=u(we,"float64");var et=Ce.count=Math.floor(we.length/2),tt=Ce.bounds=et?l(we,2):null;if(!Ve.range&&!Ce.range&&(delete Ce.range,Ve.range=tt),!Ve.marker&&!Ce.marker&&(delete Ce.marker,Ve.marker=null),Ne&&(Ne===!0||et>Ne)?Ce.tree=f(we,{bounds:tt}):Ne&&Ne.length&&(Ce.tree=Ne),Ce.tree){var at={primitive:"points",usage:"static",data:Ce.tree,type:"uint32"};Ce.elements?Ce.elements(at):Ce.elements=_.elements(at)}var ct=M.float32(we);ke({data:ct,usage:"dynamic"});var dt=M.fract32(we,ct);return We({data:dt,usage:"dynamic"}),rt({data:new Uint8Array(et),type:"uint8",usage:"stream"}),we}},{marker:function(we,Ce,Ve){var Ne=Ce.activation;if(Ne.forEach(function(dt){return dt&&dt.destroy&&dt.destroy()}),Ne.length=0,!we||typeof we[0]=="number"){var ke=i.addMarker(we);Ne[ke]=!0}else{for(var We=[],rt=0,et=Math.min(we.length,Ce.count);rt<et;rt++){var tt=i.addMarker(we[rt]);We[tt]||(We[tt]=new Uint8Array(Ce.count)),We[tt][rt]=1}for(var at=0;at<We.length;at++)if(We[at]){var ct={data:We[at],type:"uint8",usage:"static"};Ne[at]?Ne[at](ct):Ne[at]=_.buffer(ct),Ne[at].data=We[at]}}return we},range:function(we,Ce,Ve){var Ne=Ce.bounds;if(Ne)return we||(we=Ne),Ce.scale=[1/(we[2]-we[0]),1/(we[3]-we[1])],Ce.translate=[-we[0],-we[1]],Ce.scaleFract=M.fract(Ce.scale),Ce.translateFract=M.fract(Ce.translate),we},viewport:function(we){var Ce=S(we||[V.drawingBufferWidth,V.drawingBufferHeight]);return Ce}}]),ae){var he=J,q=he.count,Z=he.size,$=he.borderSize,K=he.sizeBuffer,re=new Uint8Array(q*2);if(Z.length||$.length)for(var le=0;le<q;le++)re[le*2]=Math.round((Z[le]==null?Z:Z[le])*255/U),re[le*2+1]=Math.round(($[le]==null?$:$[le])*255/U);K({data:re,usage:"dynamic"})}if(oe){var te=J,ee=te.count,ue=te.color,se=te.borderColor,ve=te.colorBuffer,be;if(i.tooManyColors){if(ue.length||se.length){be=new Uint8Array(ee*8);for(var Ee=0;Ee<ee;Ee++){var Ae=ue[Ee];be[Ee*8]=z[Ae*4],be[Ee*8+1]=z[Ae*4+1],be[Ee*8+2]=z[Ae*4+2],be[Ee*8+3]=z[Ae*4+3];var Oe=se[Ee];be[Ee*8+4]=z[Oe*4],be[Ee*8+5]=z[Oe*4+1],be[Ee*8+6]=z[Oe*4+2],be[Ee*8+7]=z[Oe*4+3]}}}else if(ue.length||se.length){be=new Uint8Array(ee*4+2);for(var Ue=0;Ue<ee;Ue++)ue[Ue]!=null&&(be[Ue*4]=ue[Ue]%H,be[Ue*4+1]=Math.floor(ue[Ue]/H)),se[Ue]!=null&&(be[Ue*4+2]=se[Ue]%H,be[Ue*4+3]=Math.floor(se[Ue]/H))}ve({data:be||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return J})}},x.prototype.addMarker=function(i){var D=this.markerTextures,b=this.regl,O=this.markerCache,F=i==null?0:O.indexOf(i);if(F>=0)return F;var V;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)V=i;else{V=new Uint8Array(i.length);for(var _=0,U=i.length;_<U;_++)V[_]=i[_]*255}var H=Math.floor(Math.sqrt(V.length));return F=D.length,O.push(i),D.push(b.texture({channels:1,data:V,radius:H,mag:"linear",min:"linear"})),F},x.prototype.updateColor=function(i){var D=this.paletteIds,b=this.palette,O=this.maxColors;Array.isArray(i)||(i=[i]);var F=[];if(typeof i[0]=="number"){var V=[];if(Array.isArray(i))for(var _=0;_<i.length;_+=4)V.push(i.slice(_,_+4));else for(var U=0;U<i.length;U+=4)V.push(i.subarray(U,U+4));i=V}for(var H=0;H<i.length;H++){var z=i[H];z=n(z,"uint8");var G=c(z,!1);if(D[G]==null){var Y=b.length;D[G]=Math.floor(Y/4),b[Y]=z[0],b[Y+1]=z[1],b[Y+2]=z[2],b[Y+3]=z[3]}F[H]=D[G]}return!this.tooManyColors&&b.length>O*4&&(this.tooManyColors=!0),this.updatePalette(b),F.length===1?F[0]:F},x.prototype.updatePalette=function(i){if(!this.tooManyColors){var D=this.maxColors,b=this.paletteTexture,O=Math.ceil(i.length*.25/D);if(O>1){i=i.slice();for(var F=i.length*.25%D;F<O*D;F++)i.push(0,0,0,0)}b.height<O&&b.resize(D,O),b.subimage({width:Math.min(i.length*.25,D),height:O,data:i},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(i){i.sizeBuffer.destroy(),i.positionBuffer.destroy(),i.positionFractBuffer.destroy(),i.colorBuffer.destroy(),i.activation.forEach(function(D){return D&&D.destroy&&D.destroy()}),i.selectionBuffer.destroy(),i.elements&&i.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(i){return i&&i.destroy&&i.destroy()}),this};var E=e(56131),T=function(D,b){var O=new R(D,b),F=O.render.bind(O);return E(F,{render:F,update:O.update.bind(O),draw:O.draw.bind(O),destroy:O.destroy.bind(O),regl:O.regl,gl:O.gl,canvas:O.gl.canvas,groups:O.groups,markers:O.markerCache,palette:O.palette}),F};B.exports=T},60487:function(B,N,e){var p=e(11870),L=e(71299),a=e(21527),C=e(5877),w=e(57471),h=e(18863),g=e(30120);B.exports=t;function t(l,c){if(!(this instanceof t))return new t(l);this.traces=[],this.passes={},this.regl=l,this.scatter=p(l),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var l=this,c,f=[],m=arguments.length;m--;)f[m]=arguments[m];return f.length&&(c=this).update.apply(c,f),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,C(function(){l.dirty=!1})),this)},t.prototype.update=function(){for(var l,c=[],f=arguments.length;f--;)c[f]=arguments[f];if(c.length){for(var m=0;m<c.length;m++)this.updateItem(m,c[m]);this.traces=this.traces.filter(Boolean);for(var v=[],A=0,d=0;d<this.traces.length;d++){for(var u=this.traces[d],y=this.traces[d].passes,M=0;M<y.length;M++)v.push(this.passes[y[M]]);u.passOffset=A,A+=u.passes.length}return(l=this.scatter).update.apply(l,v),this}},t.prototype.updateItem=function(l,c){var f=this,m=f.regl;if(c===null)return this.traces[l]=null,this;if(!c)return this;var v=L(c,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),A=this.traces[l]||(this.traces[l]={id:l,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:h([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(v.color!=null&&(A.color=v.color),v.size!=null&&(A.size=v.size),v.marker!=null&&(A.marker=v.marker),v.borderColor!=null&&(A.borderColor=v.borderColor),v.borderSize!=null&&(A.borderSize=v.borderSize),v.opacity!=null&&(A.opacity=v.opacity),v.viewport&&(A.viewport=h(v.viewport)),v.diagonal!=null&&(A.diagonal=v.diagonal),v.upper!=null&&(A.upper=v.upper),v.lower!=null&&(A.lower=v.lower),v.data){A.buffer(g(v.data)),A.columns=v.data.length,A.count=v.data[0].length,A.bounds=[];for(var d=0;d<A.columns;d++)A.bounds[d]=a(v.data[d],1)}var u;v.range&&(A.range=v.range,u=A.range&&typeof A.range[0]!="number"),v.domain&&(A.domain=v.domain);var y=!1;v.padding!=null&&(Array.isArray(v.padding)&&v.padding.length===A.columns&&typeof v.padding[v.padding.length-1]=="number"?(A.padding=v.padding.map(n),y=!0):A.padding=n(v.padding));var M=A.columns,S=A.count,R=A.viewport.width,x=A.viewport.height,E=A.viewport.x,T=A.viewport.y,i=R/M,D=x/M;A.passes=[];for(var b=0;b<M;b++)for(var O=0;O<M;O++)if(!(!A.diagonal&&O===b)&&!(!A.upper&&b>O)&&!(!A.lower&&b<O)){var F=r(A.id,b,O),V=this.passes[F]||(this.passes[F]={});if(v.data&&(v.transpose?V.positions={x:{buffer:A.buffer,offset:O,count:S,stride:M},y:{buffer:A.buffer,offset:b,count:S,stride:M}}:V.positions={x:{buffer:A.buffer,offset:O*S,count:S},y:{buffer:A.buffer,offset:b*S,count:S}},V.bounds=s(A.bounds,b,O)),v.domain||v.viewport||v.data){var _=y?s(A.padding,b,O):A.padding;if(A.domain){var U=s(A.domain,b,O),H=U[0],z=U[1],G=U[2],Y=U[3];V.viewport=[E+H*R+_[0],T+z*x+_[1],E+G*R-_[2],T+Y*x-_[3]]}else V.viewport=[E+O*i+i*_[0],T+b*D+D*_[1],E+(O+1)*i-i*_[2],T+(b+1)*D-D*_[3]]}v.color&&(V.color=A.color),v.size&&(V.size=A.size),v.marker&&(V.marker=A.marker),v.borderSize&&(V.borderSize=A.borderSize),v.borderColor&&(V.borderColor=A.borderColor),v.opacity&&(V.opacity=A.opacity),v.range&&(V.range=u?s(A.range,b,O):A.range||V.bounds),A.passes.push(F)}return this},t.prototype.draw=function(){for(var l,c=[],f=arguments.length;f--;)c[f]=arguments[f];if(!c.length)this.scatter.draw();else{for(var m=[],v=0;v<c.length;v++)if(typeof c[v]=="number"){var A=this.traces[c[v]],d=A.passes,u=A.passOffset;m.push.apply(m,w(u,u+d.length))}else if(c[v].length){var y=c[v],M=this.traces[v],S=M.passes,R=M.passOffset;S=S.map(function(x,E){m[R+E]=y})}(l=this.scatter).draw.apply(l,m)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(l,c,f){var m=l.id!=null?l.id:l,v=c,A=f,d=m<<16|(v&255)<<8|A&255;return d}function s(l,c,f){var m,v,A,d,u=l[c],y=l[f];return u.length>2?(u[0],u[2],m=u[1],v=u[3]):u.length?(m=u[0],v=u[1]):(u.x,m=u.y,u.x+u.width,v=u.y+u.height),y.length>2?(A=y[0],d=y[2],y[1],y[3]):y.length?(A=y[0],d=y[1]):(A=y.x,y.y,d=y.x+y.width,y.y+y.height),[A,m,d,v]}function n(l){if(typeof l=="number")return[l,l,l,l];if(l.length===2)return[l[0],l[1],l[0],l[1]];var c=h(l);return[c.x,c.y,c.x+c.width,c.y+c.height]}},98580:function(B){(function(N,e){B.exports=e()})(this,function(){function N(yt,Zt){this.id=ve++,this.type=yt,this.data=Zt}function e(yt){if(yt.length===0)return[];var Zt=yt.charAt(0),$t=yt.charAt(yt.length-1);if(1<yt.length&&Zt===$t&&(Zt==='"'||Zt==="'"))return['"'+yt.substr(1,yt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Zt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(yt))return e(yt.substr(0,Zt.index)).concat(e(Zt[1])).concat(e(yt.substr(Zt.index+Zt[0].length)));if(Zt=yt.split("."),Zt.length===1)return['"'+yt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(yt=[],$t=0;$t<Zt.length;++$t)yt=yt.concat(e(Zt[$t]));return yt}function p(yt){return"["+e(yt).join("][")+"]"}function L(yt,Zt){if(typeof yt=="function")return new N(0,yt);if(typeof yt=="number"||typeof yt=="boolean")return new N(5,yt);if(Array.isArray(yt))return new N(6,yt.map(function($t,mr){return L($t)}));if(yt instanceof N)return yt}function a(){var yt={"":0},Zt=[""];return{id:function($t){var mr=yt[$t];return mr||(mr=yt[$t]=Zt.length,Zt.push($t),mr)},str:function($t){return Zt[$t]}}}function C(yt,Zt,$t){function mr(){var st=window.innerWidth,xt=window.innerHeight;yt!==document.body&&(xt=ur.getBoundingClientRect(),st=xt.right-xt.left,xt=xt.bottom-xt.top),ur.width=$t*st,ur.height=$t*xt}var ur=document.createElement("canvas");se(ur.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),yt.appendChild(ur),yt===document.body&&(ur.style.position="absolute",se(yt.style,{margin:0,padding:0}));var pt;return yt!==document.body&&typeof ResizeObserver=="function"?(pt=new ResizeObserver(function(){setTimeout(mr)}),pt.observe(yt)):window.addEventListener("resize",mr,!1),mr(),{canvas:ur,onDestroy:function(){pt?pt.disconnect():window.removeEventListener("resize",mr),yt.removeChild(ur)}}}function w(yt,Zt){function $t(mr){try{return yt.getContext(mr,Zt)}catch{return null}}return $t("webgl")||$t("experimental-webgl")||$t("webgl-experimental")}function h(yt){return typeof yt=="string"?yt.split():yt}function g(yt){return typeof yt=="string"?document.querySelector(yt):yt}function t(yt){var Zt=yt||{},$t,mr,ur,pt;yt={};var st=[],xt=[],St=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,Rt={},Bt=function(Xt){},Nt=function(){};if(typeof Zt=="string"?$t=document.querySelector(Zt):typeof Zt=="object"&&(typeof Zt.nodeName=="string"&&typeof Zt.appendChild=="function"&&typeof Zt.getBoundingClientRect=="function"?$t=Zt:typeof Zt.drawArrays=="function"||typeof Zt.drawElements=="function"?(pt=Zt,ur=pt.canvas):("gl"in Zt?pt=Zt.gl:"canvas"in Zt?ur=g(Zt.canvas):"container"in Zt&&(mr=g(Zt.container)),"attributes"in Zt&&(yt=Zt.attributes),"extensions"in Zt&&(st=h(Zt.extensions)),"optionalExtensions"in Zt&&(xt=h(Zt.optionalExtensions)),"onDone"in Zt&&(Bt=Zt.onDone),"profile"in Zt&&(Dt=!!Zt.profile),"pixelRatio"in Zt&&(St=+Zt.pixelRatio),"cachedCode"in Zt&&(Rt=Zt.cachedCode))),$t&&($t.nodeName.toLowerCase()==="canvas"?ur=$t:mr=$t),!pt){if(!ur){if($t=C(mr||document.body,Bt,St),!$t)return null;ur=$t.canvas,Nt=$t.onDestroy}yt.premultipliedAlpha===void 0&&(yt.premultipliedAlpha=!0),pt=w(ur,yt)}return pt?{gl:pt,canvas:ur,container:mr,extensions:st,optionalExtensions:xt,pixelRatio:St,profile:Dt,cachedCode:Rt,onDone:Bt,onDestroy:Nt}:(Nt(),Bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(yt,Zt){function $t(st){st=st.toLowerCase();var xt;try{xt=mr[st]=yt.getExtension(st)}catch{}return!!xt}for(var mr={},ur=0;ur<Zt.extensions.length;++ur){var pt=Zt.extensions[ur];if(!$t(pt))return Zt.onDestroy(),Zt.onDone('"'+pt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Zt.optionalExtensions.forEach($t),{extensions:mr,restore:function(){Object.keys(mr).forEach(function(st){if(mr[st]&&!$t(st))throw Error("(regl): error restoring extension "+st)})}}}function s(yt,Zt){for(var $t=Array(yt),mr=0;mr<yt;++mr)$t[mr]=Zt(mr);return $t}function n(yt){var Zt,$t;return Zt=(65535<yt)<<4,yt>>>=Zt,$t=(255<yt)<<3,yt>>>=$t,Zt|=$t,$t=(15<yt)<<2,yt>>>=$t,Zt|=$t,$t=(3<yt)<<1,Zt|$t|yt>>>$t>>1}function l(){function yt(mr){e:{for(var ur=16;268435456>=ur;ur*=16)if(mr<=ur){mr=ur;break e}mr=0}return ur=$t[n(mr)>>2],0<ur.length?ur.pop():new ArrayBuffer(mr)}function Zt(mr){$t[n(mr.byteLength)>>2].push(mr)}var $t=s(8,function(){return[]});return{alloc:yt,free:Zt,allocType:function(mr,ur){var pt=null;switch(mr){case 5120:pt=new Int8Array(yt(ur),0,ur);break;case 5121:pt=new Uint8Array(yt(ur),0,ur);break;case 5122:pt=new Int16Array(yt(2*ur),0,ur);break;case 5123:pt=new Uint16Array(yt(2*ur),0,ur);break;case 5124:pt=new Int32Array(yt(4*ur),0,ur);break;case 5125:pt=new Uint32Array(yt(4*ur),0,ur);break;case 5126:pt=new Float32Array(yt(4*ur),0,ur);break;default:return null}return pt.length!==ur?pt.subarray(0,ur):pt},freeType:function(mr){Zt(mr.buffer)}}}function c(yt){return!!yt&&typeof yt=="object"&&Array.isArray(yt.shape)&&Array.isArray(yt.stride)&&typeof yt.offset=="number"&&yt.shape.length===yt.stride.length&&(Array.isArray(yt.data)||Le(yt.data))}function f(yt,Zt,$t,mr,ur,pt){for(var st=0;st<Zt;++st)for(var xt=yt[st],St=0;St<$t;++St)for(var Dt=xt[St],Rt=0;Rt<mr;++Rt)ur[pt++]=Dt[Rt]}function m(yt,Zt,$t,mr,ur){for(var pt=1,st=$t+1;st<Zt.length;++st)pt*=Zt[st];var xt=Zt[$t];if(Zt.length-$t===4){var St=Zt[$t+1],Dt=Zt[$t+2];for(Zt=Zt[$t+3],st=0;st<xt;++st)f(yt[st],St,Dt,Zt,mr,ur),ur+=pt}else for(st=0;st<xt;++st)m(yt[st],Zt,$t+1,mr,ur),ur+=pt}function v(yt){return Ve[Object.prototype.toString.call(yt)]|0}function A(yt,Zt){for(var $t=0;$t<Zt.length;++$t)yt[$t]=Zt[$t]}function d(yt,Zt,$t,mr,ur,pt,st){for(var xt=0,St=0;St<$t;++St)for(var Dt=0;Dt<mr;++Dt)yt[xt++]=Zt[ur*St+pt*Dt+st]}function u(yt,Zt,$t,mr){function ur(Bt){this.id=St++,this.buffer=yt.createBuffer(),this.type=Bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,$t.profile&&(this.stats={size:0})}function pt(Bt,Nt,Xt){Bt.byteLength=Nt.byteLength,yt.bufferData(Bt.type,Nt,Xt)}function st(Bt,Nt,Xt,lr,sr,dr){if(Bt.usage=Xt,Array.isArray(Nt)){if(Bt.dtype=lr||5126,0<Nt.length)if(Array.isArray(Nt[0])){sr=rt(Nt);for(var Ye=lr=1;Ye<sr.length;++Ye)lr*=sr[Ye];Bt.dimension=lr,Nt=We(Nt,sr,Bt.dtype),pt(Bt,Nt,Xt),dr?Bt.persistentData=Nt:Oe.freeType(Nt)}else typeof Nt[0]=="number"?(Bt.dimension=sr,sr=Oe.allocType(Bt.dtype,Nt.length),A(sr,Nt),pt(Bt,sr,Xt),dr?Bt.persistentData=sr:Oe.freeType(sr)):Le(Nt[0])&&(Bt.dimension=Nt[0].length,Bt.dtype=lr||v(Nt[0])||5126,Nt=We(Nt,[Nt.length,Nt[0].length],Bt.dtype),pt(Bt,Nt,Xt),dr?Bt.persistentData=Nt:Oe.freeType(Nt))}else if(Le(Nt))Bt.dtype=lr||v(Nt),Bt.dimension=sr,pt(Bt,Nt,Xt),dr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(c(Nt)){sr=Nt.shape;var je=Nt.stride,Ye=Nt.offset,It=0,kt=0,jt=0,tr=0;sr.length===1?(It=sr[0],kt=1,jt=je[0],tr=0):sr.length===2&&(It=sr[0],kt=sr[1],jt=je[0],tr=je[1]),Bt.dtype=lr||v(Nt.data)||5126,Bt.dimension=kt,sr=Oe.allocType(Bt.dtype,It*kt),d(sr,Nt.data,It,kt,jt,tr,Ye),pt(Bt,sr,Xt),dr?Bt.persistentData=sr:Oe.freeType(sr)}else Nt instanceof ArrayBuffer&&(Bt.dtype=5121,Bt.dimension=sr,pt(Bt,Nt,Xt),dr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt))))}function xt(Bt){Zt.bufferCount--,mr(Bt),yt.deleteBuffer(Bt.buffer),Bt.buffer=null,delete Dt[Bt.id]}var St=0,Dt={};ur.prototype.bind=function(){yt.bindBuffer(this.type,this.buffer)},ur.prototype.destroy=function(){xt(this)};var Rt=[];return $t.profile&&(Zt.getTotalBufferSize=function(){var Bt=0;return Object.keys(Dt).forEach(function(Nt){Bt+=Dt[Nt].stats.size}),Bt}),{create:function(Bt,Nt,Xt,lr){function sr(Ye){var je=35044,It=null,kt=0,jt=0,tr=1;return Array.isArray(Ye)||Le(Ye)||c(Ye)||Ye instanceof ArrayBuffer?It=Ye:typeof Ye=="number"?kt=Ye|0:Ye&&("data"in Ye&&(It=Ye.data),"usage"in Ye&&(je=ke[Ye.usage]),"type"in Ye&&(jt=Ne[Ye.type]),"dimension"in Ye&&(tr=Ye.dimension|0),"length"in Ye&&(kt=Ye.length|0)),dr.bind(),It?st(dr,It,je,jt,tr,lr):(kt&&yt.bufferData(dr.type,kt,je),dr.dtype=jt||5121,dr.usage=je,dr.dimension=tr,dr.byteLength=kt),$t.profile&&(dr.stats.size=dr.byteLength*et[dr.dtype]),sr}Zt.bufferCount++;var dr=new ur(Nt);return Dt[dr.id]=dr,Xt||sr(Bt),sr._reglType="buffer",sr._buffer=dr,sr.subdata=function(Ye,je){var It=(je||0)|0,kt;if(dr.bind(),Le(Ye)||Ye instanceof ArrayBuffer)yt.bufferSubData(dr.type,It,Ye);else if(Array.isArray(Ye)){if(0<Ye.length)if(typeof Ye[0]=="number"){var jt=Oe.allocType(dr.dtype,Ye.length);A(jt,Ye),yt.bufferSubData(dr.type,It,jt),Oe.freeType(jt)}else(Array.isArray(Ye[0])||Le(Ye[0]))&&(kt=rt(Ye),jt=We(Ye,kt,dr.dtype),yt.bufferSubData(dr.type,It,jt),Oe.freeType(jt))}else if(c(Ye)){kt=Ye.shape;var tr=Ye.stride,or=jt=0,rr=0,_t=0;kt.length===1?(jt=kt[0],or=1,rr=tr[0],_t=0):kt.length===2&&(jt=kt[0],or=kt[1],rr=tr[0],_t=tr[1]),kt=Array.isArray(Ye.data)?dr.dtype:v(Ye.data),kt=Oe.allocType(kt,jt*or),d(kt,Ye.data,jt,or,rr,_t,Ye.offset),yt.bufferSubData(dr.type,It,kt),Oe.freeType(kt)}return sr},$t.profile&&(sr.stats=dr.stats),sr.destroy=function(){xt(dr)},sr},createStream:function(Bt,Nt){var Xt=Rt.pop();return Xt||(Xt=new ur(Bt)),Xt.bind(),st(Xt,Nt,35040,0,1,!1),Xt},destroyStream:function(Bt){Rt.push(Bt)},clear:function(){we(Dt).forEach(xt),Rt.forEach(xt)},getBuffer:function(Bt){return Bt&&Bt._buffer instanceof ur?Bt._buffer:null},restore:function(){we(Dt).forEach(function(Bt){Bt.buffer=yt.createBuffer(),yt.bindBuffer(Bt.type,Bt.buffer),yt.bufferData(Bt.type,Bt.persistentData||Bt.byteLength,Bt.usage)})},_initBuffer:st}}function y(yt,Zt,$t,mr){function ur(Bt){this.id=St++,xt[this.id]=this,this.buffer=Bt,this.primType=4,this.type=this.vertCount=0}function pt(Bt,Nt,Xt,lr,sr,dr,Ye){Bt.buffer.bind();var je;if(Nt?((je=Ye)||Le(Nt)&&(!c(Nt)||Le(Nt.data))||(je=Zt.oes_element_index_uint?5125:5123),$t._initBuffer(Bt.buffer,Nt,Xt,je,3)):(yt.bufferData(34963,dr,Xt),Bt.buffer.dtype=je||5121,Bt.buffer.usage=Xt,Bt.buffer.dimension=3,Bt.buffer.byteLength=dr),je=Ye,!Ye){switch(Bt.buffer.dtype){case 5121:case 5120:je=5121;break;case 5123:case 5122:je=5123;break;case 5125:case 5124:je=5125}Bt.buffer.dtype=je}Bt.type=je,Nt=sr,0>Nt&&(Nt=Bt.buffer.byteLength,je===5123?Nt>>=1:je===5125&&(Nt>>=2)),Bt.vertCount=Nt,Nt=lr,0>lr&&(Nt=4,lr=Bt.buffer.dimension,lr===1&&(Nt=0),lr===2&&(Nt=1),lr===3&&(Nt=4)),Bt.primType=Nt}function st(Bt){mr.elementsCount--,delete xt[Bt.id],Bt.buffer.destroy(),Bt.buffer=null}var xt={},St=0,Dt={uint8:5121,uint16:5123};Zt.oes_element_index_uint&&(Dt.uint32=5125),ur.prototype.bind=function(){this.buffer.bind()};var Rt=[];return{create:function(Bt,Nt){function Xt(dr){if(dr)if(typeof dr=="number")lr(dr),sr.primType=4,sr.vertCount=dr|0,sr.type=5121;else{var Ye=null,je=35044,It=-1,kt=-1,jt=0,tr=0;Array.isArray(dr)||Le(dr)||c(dr)?Ye=dr:("data"in dr&&(Ye=dr.data),"usage"in dr&&(je=ke[dr.usage]),"primitive"in dr&&(It=tt[dr.primitive]),"count"in dr&&(kt=dr.count|0),"type"in dr&&(tr=Dt[dr.type]),"length"in dr?jt=dr.length|0:(jt=kt,tr===5123||tr===5122?jt*=2:(tr===5125||tr===5124)&&(jt*=4))),pt(sr,Ye,je,It,kt,jt,tr)}else lr(),sr.primType=4,sr.vertCount=0,sr.type=5121;return Xt}var lr=$t.create(null,34963,!0),sr=new ur(lr._buffer);return mr.elementsCount++,Xt(Bt),Xt._reglType="elements",Xt._elements=sr,Xt.subdata=function(dr,Ye){return lr.subdata(dr,Ye),Xt},Xt.destroy=function(){st(sr)},Xt},createStream:function(Bt){var Nt=Rt.pop();return Nt||(Nt=new ur($t.create(null,34963,!0,!1)._buffer)),pt(Nt,Bt,35040,-1,-1,0,0),Nt},destroyStream:function(Bt){Rt.push(Bt)},getElements:function(Bt){return typeof Bt=="function"&&Bt._elements instanceof ur?Bt._elements:null},clear:function(){we(xt).forEach(st)}}}function M(yt){for(var Zt=Oe.allocType(5123,yt.length),$t=0;$t<yt.length;++$t)if(isNaN(yt[$t]))Zt[$t]=65535;else if(yt[$t]===1/0)Zt[$t]=31744;else if(yt[$t]===-1/0)Zt[$t]=64512;else{at[0]=yt[$t];var pt=ct[0],mr=pt>>>31<<15,ur=(pt<<1>>>24)-127,pt=pt>>13&1023;Zt[$t]=-24>ur?mr:-14>ur?mr+(pt+1024>>-14-ur):15<ur?mr+31744:mr+(ur+15<<10)+pt}return Zt}function S(yt){return Array.isArray(yt)||Le(yt)}function R(yt){return"[object "+yt+"]"}function x(yt){return Array.isArray(yt)&&(yt.length===0||typeof yt[0]=="number")}function E(yt){return!!(Array.isArray(yt)&&yt.length!==0&&S(yt[0]))}function T(yt){return Object.prototype.toString.call(yt)}function i(yt){if(!yt)return!1;var Zt=T(yt);return 0<=De.indexOf(Zt)?!0:x(yt)||E(yt)||c(yt)}function D(yt,Zt){yt.type===36193?(yt.data=M(Zt),Oe.freeType(Zt)):yt.data=Zt}function b(yt,Zt,$t,mr,ur,pt){if(yt=typeof xe[yt]<"u"?xe[yt]:Et[yt]*Te[Zt],pt&&(yt*=6),ur){for(mr=0;1<=$t;)mr+=yt*$t*$t,$t/=2;return mr}return yt*$t*mr}function O(yt,Zt,$t,mr,ur,pt,st){function xt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function St(Tr,ln){Tr.internalformat=ln.internalformat,Tr.format=ln.format,Tr.type=ln.type,Tr.compressed=ln.compressed,Tr.premultiplyAlpha=ln.premultiplyAlpha,Tr.flipY=ln.flipY,Tr.unpackAlignment=ln.unpackAlignment,Tr.colorSpace=ln.colorSpace,Tr.width=ln.width,Tr.height=ln.height,Tr.channels=ln.channels}function Dt(Tr,ln){if(typeof ln=="object"&&ln){"premultiplyAlpha"in ln&&(Tr.premultiplyAlpha=ln.premultiplyAlpha),"flipY"in ln&&(Tr.flipY=ln.flipY),"alignment"in ln&&(Tr.unpackAlignment=ln.alignment),"colorSpace"in ln&&(Tr.colorSpace=gn[ln.colorSpace]),"type"in ln&&(Tr.type=tn[ln.type]);var nn=Tr.width,mn=Tr.height,Vn=Tr.channels,En=!1;"shape"in ln?(nn=ln.shape[0],mn=ln.shape[1],ln.shape.length===3&&(Vn=ln.shape[2],En=!0)):("radius"in ln&&(nn=mn=ln.radius),"width"in ln&&(nn=ln.width),"height"in ln&&(mn=ln.height),"channels"in ln&&(Vn=ln.channels,En=!0)),Tr.width=nn|0,Tr.height=mn|0,Tr.channels=Vn|0,nn=!1,"format"in ln&&(nn=ln.format,mn=Tr.internalformat=Bn[nn],Tr.format=Rn[mn],nn in tn&&!("type"in ln)&&(Tr.type=tn[nn]),nn in An&&(Tr.compressed=!0),nn=!0),!En&&nn?Tr.channels=Et[Tr.format]:En&&!nn&&Tr.channels!==gt[Tr.format]&&(Tr.format=Tr.internalformat=gt[Tr.channels])}}function Rt(Tr){yt.pixelStorei(37440,Tr.flipY),yt.pixelStorei(37441,Tr.premultiplyAlpha),yt.pixelStorei(37443,Tr.colorSpace),yt.pixelStorei(3317,Tr.unpackAlignment)}function Bt(){xt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(Tr,ln){var nn=null;if(i(ln)?nn=ln:ln&&(Dt(Tr,ln),"x"in ln&&(Tr.xOffset=ln.x|0),"y"in ln&&(Tr.yOffset=ln.y|0),i(ln.data)&&(nn=ln.data)),ln.copy){var mn=ur.viewportWidth,Vn=ur.viewportHeight;Tr.width=Tr.width||mn-Tr.xOffset,Tr.height=Tr.height||Vn-Tr.yOffset,Tr.needsCopy=!0}else if(!nn)Tr.width=Tr.width||1,Tr.height=Tr.height||1,Tr.channels=Tr.channels||4;else if(Le(nn))Tr.channels=Tr.channels||4,Tr.data=nn,"type"in ln||Tr.type!==5121||(Tr.type=Ve[Object.prototype.toString.call(nn)]|0);else if(x(nn)){switch(Tr.channels=Tr.channels||4,mn=nn,Vn=mn.length,Tr.type){case 5121:case 5123:case 5125:case 5126:Vn=Oe.allocType(Tr.type,Vn),Vn.set(mn),Tr.data=Vn;break;case 36193:Tr.data=M(mn)}Tr.alignment=1,Tr.needsFree=!0}else if(c(nn)){mn=nn.data,Array.isArray(mn)||Tr.type!==5121||(Tr.type=Ve[Object.prototype.toString.call(mn)]|0);var Vn=nn.shape,En=nn.stride,Cn,Nn,ta,wa;Vn.length===3?(ta=Vn[2],wa=En[2]):wa=ta=1,Cn=Vn[0],Nn=Vn[1],Vn=En[0],En=En[1],Tr.alignment=1,Tr.width=Cn,Tr.height=Nn,Tr.channels=ta,Tr.format=Tr.internalformat=gt[ta],Tr.needsFree=!0,Cn=wa,nn=nn.offset,ta=Tr.width,wa=Tr.height,Nn=Tr.channels;for(var Ka=Oe.allocType(Tr.type===36193?5126:Tr.type,ta*wa*Nn),Yt=0,wr=0;wr<wa;++wr)for(var rn=0;rn<ta;++rn)for(var fn=0;fn<Nn;++fn)Ka[Yt++]=mn[Vn*rn+En*wr+Cn*fn+nn];D(Tr,Ka)}else if(T(nn)===Ct||T(nn)===Vt||T(nn)===Je)T(nn)===Ct||T(nn)===Vt?Tr.element=nn:Tr.element=nn.canvas,Tr.width=Tr.element.width,Tr.height=Tr.element.height,Tr.channels=4;else if(T(nn)===_e)Tr.element=nn,Tr.width=nn.width,Tr.height=nn.height,Tr.channels=4;else if(T(nn)===Fe)Tr.element=nn,Tr.width=nn.naturalWidth,Tr.height=nn.naturalHeight,Tr.channels=4;else if(T(nn)===Be)Tr.element=nn,Tr.width=nn.videoWidth,Tr.height=nn.videoHeight,Tr.channels=4;else if(E(nn)){for(mn=Tr.width||nn[0].length,Vn=Tr.height||nn.length,En=Tr.channels,En=S(nn[0][0])?En||nn[0][0].length:En||1,Cn=Ce.shape(nn),ta=1,wa=0;wa<Cn.length;++wa)ta*=Cn[wa];ta=Oe.allocType(Tr.type===36193?5126:Tr.type,ta),Ce.flatten(nn,Cn,"",ta),D(Tr,ta),Tr.alignment=1,Tr.width=mn,Tr.height=Vn,Tr.channels=En,Tr.format=Tr.internalformat=gt[En],Tr.needsFree=!0}}function Xt(Tr,ln,nn,mn,Vn){var En=Tr.element,Cn=Tr.data,Nn=Tr.internalformat,ta=Tr.format,wa=Tr.type,Ka=Tr.width,Yt=Tr.height;Rt(Tr),En?yt.texSubImage2D(ln,Vn,nn,mn,ta,wa,En):Tr.compressed?yt.compressedTexSubImage2D(ln,Vn,nn,mn,Nn,Ka,Yt,Cn):Tr.needsCopy?(mr(),yt.copyTexSubImage2D(ln,Vn,nn,mn,Tr.xOffset,Tr.yOffset,Ka,Yt)):yt.texSubImage2D(ln,Vn,nn,mn,Ka,Yt,ta,wa,Cn)}function lr(){return _n.pop()||new Bt}function sr(Tr){Tr.needsFree&&Oe.freeType(Tr.data),Bt.call(Tr),_n.push(Tr)}function dr(){xt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ye(Tr,ln,nn){var mn=Tr.images[0]=lr();Tr.mipmask=1,mn.width=Tr.width=ln,mn.height=Tr.height=nn,mn.channels=Tr.channels=4}function je(Tr,ln){var nn=null;if(i(ln))nn=Tr.images[0]=lr(),St(nn,Tr),Nt(nn,ln),Tr.mipmask=1;else if(Dt(Tr,ln),Array.isArray(ln.mipmap))for(var mn=ln.mipmap,Vn=0;Vn<mn.length;++Vn)nn=Tr.images[Vn]=lr(),St(nn,Tr),nn.width>>=Vn,nn.height>>=Vn,Nt(nn,mn[Vn]),Tr.mipmask|=1<<Vn;else nn=Tr.images[0]=lr(),St(nn,Tr),Nt(nn,ln),Tr.mipmask=1;St(Tr,Tr.images[0])}function It(Tr,ln){for(var nn=Tr.images,mn=0;mn<nn.length&&nn[mn];++mn){var Vn=nn[mn],En=ln,Cn=mn,Nn=Vn.element,ta=Vn.data,wa=Vn.internalformat,Ka=Vn.format,Yt=Vn.type,wr=Vn.width,rn=Vn.height;Rt(Vn),Nn?yt.texImage2D(En,Cn,Ka,Ka,Yt,Nn):Vn.compressed?yt.compressedTexImage2D(En,Cn,wa,wr,rn,0,ta):Vn.needsCopy?(mr(),yt.copyTexImage2D(En,Cn,Ka,Vn.xOffset,Vn.yOffset,wr,rn,0)):yt.texImage2D(En,Cn,Ka,wr,rn,0,Ka,Yt,ta||null)}}function kt(){var Tr=sa.pop()||new dr;xt.call(Tr);for(var ln=Tr.mipmask=0;16>ln;++ln)Tr.images[ln]=null;return Tr}function jt(Tr){for(var ln=Tr.images,nn=0;nn<ln.length;++nn)ln[nn]&&sr(ln[nn]),ln[nn]=null;sa.push(Tr)}function tr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function or(Tr,ln){"min"in ln&&(Tr.minFilter=_r[ln.min],0<=dt.indexOf(Tr.minFilter)&&!("faces"in ln)&&(Tr.genMipmaps=!0)),"mag"in ln&&(Tr.magFilter=Fr[ln.mag]);var nn=Tr.wrapS,mn=Tr.wrapT;if("wrap"in ln){var Vn=ln.wrap;typeof Vn=="string"?nn=mn=Gr[Vn]:Array.isArray(Vn)&&(nn=Gr[Vn[0]],mn=Gr[Vn[1]])}else"wrapS"in ln&&(nn=Gr[ln.wrapS]),"wrapT"in ln&&(mn=Gr[ln.wrapT]);if(Tr.wrapS=nn,Tr.wrapT=mn,"anisotropic"in ln&&(Tr.anisotropic=ln.anisotropic),"mipmap"in ln){switch(nn=!1,typeof ln.mipmap){case"string":Tr.mipmapHint=vr[ln.mipmap],nn=Tr.genMipmaps=!0;break;case"boolean":nn=Tr.genMipmaps=ln.mipmap;break;case"object":Tr.genMipmaps=!1,nn=!0}!nn||"min"in ln||(Tr.minFilter=9984)}}function rr(Tr,ln){yt.texParameteri(ln,10241,Tr.minFilter),yt.texParameteri(ln,10240,Tr.magFilter),yt.texParameteri(ln,10242,Tr.wrapS),yt.texParameteri(ln,10243,Tr.wrapT),Zt.ext_texture_filter_anisotropic&&yt.texParameteri(ln,34046,Tr.anisotropic),Tr.genMipmaps&&(yt.hint(33170,Tr.mipmapHint),yt.generateMipmap(ln))}function _t(Tr){xt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Zn++,this.refCount=1,this.target=Tr,this.texture=yt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new tr,st.profile&&(this.stats={size:0})}function hr(Tr){yt.activeTexture(33984),yt.bindTexture(Tr.target,Tr.texture)}function gr(){var Tr=Qn[0];Tr?yt.bindTexture(Tr.target,Tr.texture):yt.bindTexture(3553,null)}function pr(Tr){var ln=Tr.texture,nn=Tr.unit,mn=Tr.target;0<=nn&&(yt.activeTexture(33984+nn),yt.bindTexture(mn,null),Qn[nn]=null),yt.deleteTexture(ln),Tr.texture=null,Tr.params=null,Tr.pixels=null,Tr.refCount=0,delete qn[Tr.id],pt.textureCount--}var vr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Gr={repeat:10497,clamp:33071,mirror:33648},Fr={nearest:9728,linear:9729},_r=se({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Fr),gn={none:0,browser:37444},tn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Bn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},An={};Zt.ext_srgb&&(Bn.srgb=35904,Bn.srgba=35906),Zt.oes_texture_float&&(tn.float32=tn.float=5126),Zt.oes_texture_half_float&&(tn.float16=tn["half float"]=36193),Zt.webgl_depth_texture&&(se(Bn,{depth:6402,"depth stencil":34041}),se(tn,{uint16:5123,uint32:5125,"depth stencil":34042})),Zt.webgl_compressed_texture_s3tc&&se(An,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Zt.webgl_compressed_texture_atc&&se(An,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Zt.webgl_compressed_texture_pvrtc&&se(An,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Zt.webgl_compressed_texture_etc1&&(An["rgb etc1"]=36196);var Mr=Array.prototype.slice.call(yt.getParameter(34467));Object.keys(An).forEach(function(Tr){var ln=An[Tr];0<=Mr.indexOf(ln)&&(Bn[Tr]=ln)});var Cr=Object.keys(Bn);$t.textureFormats=Cr;var jr=[];Object.keys(Bn).forEach(function(Tr){jr[Bn[Tr]]=Tr});var Hr=[];Object.keys(tn).forEach(function(Tr){Hr[tn[Tr]]=Tr});var on=[];Object.keys(Fr).forEach(function(Tr){on[Fr[Tr]]=Tr});var yn=[];Object.keys(_r).forEach(function(Tr){yn[_r[Tr]]=Tr});var xn=[];Object.keys(Gr).forEach(function(Tr){xn[Gr[Tr]]=Tr});var Rn=Cr.reduce(function(Tr,ln){var nn=Bn[ln];return nn===6409||nn===6406||nn===6409||nn===6410||nn===6402||nn===34041||Zt.ext_srgb&&(nn===35904||nn===35906)?Tr[nn]=nn:nn===32855||0<=ln.indexOf("rgba")?Tr[nn]=6408:Tr[nn]=6407,Tr},{}),_n=[],sa=[],Zn=0,qn={},jn=$t.maxTextureUnits,Qn=Array(jn).map(function(){return null});return se(_t.prototype,{bind:function(){this.bindCount+=1;var Tr=this.unit;if(0>Tr){for(var ln=0;ln<jn;++ln){var nn=Qn[ln];if(nn){if(0<nn.bindCount)continue;nn.unit=-1}Qn[ln]=this,Tr=ln;break}st.profile&&pt.maxTextureUnits<Tr+1&&(pt.maxTextureUnits=Tr+1),this.unit=Tr,yt.activeTexture(33984+Tr),yt.bindTexture(this.target,this.texture)}return Tr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&pr(this)}}),st.profile&&(pt.getTotalTextureSize=function(){var Tr=0;return Object.keys(qn).forEach(function(ln){Tr+=qn[ln].stats.size}),Tr}),{create2D:function(Tr,ln){function nn(Vn,En){var Cn=mn.texInfo;tr.call(Cn);var Nn=kt();return typeof Vn=="number"?typeof En=="number"?Ye(Nn,Vn|0,En|0):Ye(Nn,Vn|0,Vn|0):Vn?(or(Cn,Vn),je(Nn,Vn)):Ye(Nn,1,1),Cn.genMipmaps&&(Nn.mipmask=(Nn.width<<1)-1),mn.mipmask=Nn.mipmask,St(mn,Nn),mn.internalformat=Nn.internalformat,nn.width=Nn.width,nn.height=Nn.height,hr(mn),It(Nn,3553),rr(Cn,3553),gr(),jt(Nn),st.profile&&(mn.stats.size=b(mn.internalformat,mn.type,Nn.width,Nn.height,Cn.genMipmaps,!1)),nn.format=jr[mn.internalformat],nn.type=Hr[mn.type],nn.mag=on[Cn.magFilter],nn.min=yn[Cn.minFilter],nn.wrapS=xn[Cn.wrapS],nn.wrapT=xn[Cn.wrapT],nn}var mn=new _t(3553);return qn[mn.id]=mn,pt.textureCount++,nn(Tr,ln),nn.subimage=function(Vn,En,Cn,Nn){En|=0,Cn|=0,Nn|=0;var ta=lr();return St(ta,mn),ta.width=0,ta.height=0,Nt(ta,Vn),ta.width=ta.width||(mn.width>>Nn)-En,ta.height=ta.height||(mn.height>>Nn)-Cn,hr(mn),Xt(ta,3553,En,Cn,Nn),gr(),sr(ta),nn},nn.resize=function(Vn,En){var Cn=Vn|0,Nn=En|0||Cn;if(Cn===mn.width&&Nn===mn.height)return nn;nn.width=mn.width=Cn,nn.height=mn.height=Nn,hr(mn);for(var ta=0;mn.mipmask>>ta;++ta){var wa=Cn>>ta,Ka=Nn>>ta;if(!wa||!Ka)break;yt.texImage2D(3553,ta,mn.format,wa,Ka,0,mn.format,mn.type,null)}return gr(),st.profile&&(mn.stats.size=b(mn.internalformat,mn.type,Cn,Nn,!1,!1)),nn},nn._reglType="texture2d",nn._texture=mn,st.profile&&(nn.stats=mn.stats),nn.destroy=function(){mn.decRef()},nn},createCube:function(Tr,ln,nn,mn,Vn,En){function Cn(wa,Ka,Yt,wr,rn,fn){var hn,In=Nn.texInfo;for(tr.call(In),hn=0;6>hn;++hn)ta[hn]=kt();if(typeof wa=="number"||!wa)for(wa=wa|0||1,hn=0;6>hn;++hn)Ye(ta[hn],wa,wa);else if(typeof wa=="object")if(Ka)je(ta[0],wa),je(ta[1],Ka),je(ta[2],Yt),je(ta[3],wr),je(ta[4],rn),je(ta[5],fn);else if(or(In,wa),Dt(Nn,wa),"faces"in wa)for(wa=wa.faces,hn=0;6>hn;++hn)St(ta[hn],Nn),je(ta[hn],wa[hn]);else for(hn=0;6>hn;++hn)je(ta[hn],wa);for(St(Nn,ta[0]),Nn.mipmask=In.genMipmaps?(ta[0].width<<1)-1:ta[0].mipmask,Nn.internalformat=ta[0].internalformat,Cn.width=ta[0].width,Cn.height=ta[0].height,hr(Nn),hn=0;6>hn;++hn)It(ta[hn],34069+hn);for(rr(In,34067),gr(),st.profile&&(Nn.stats.size=b(Nn.internalformat,Nn.type,Cn.width,Cn.height,In.genMipmaps,!0)),Cn.format=jr[Nn.internalformat],Cn.type=Hr[Nn.type],Cn.mag=on[In.magFilter],Cn.min=yn[In.minFilter],Cn.wrapS=xn[In.wrapS],Cn.wrapT=xn[In.wrapT],hn=0;6>hn;++hn)jt(ta[hn]);return Cn}var Nn=new _t(34067);qn[Nn.id]=Nn,pt.cubeCount++;var ta=Array(6);return Cn(Tr,ln,nn,mn,Vn,En),Cn.subimage=function(wa,Ka,Yt,wr,rn){Yt|=0,wr|=0,rn|=0;var fn=lr();return St(fn,Nn),fn.width=0,fn.height=0,Nt(fn,Ka),fn.width=fn.width||(Nn.width>>rn)-Yt,fn.height=fn.height||(Nn.height>>rn)-wr,hr(Nn),Xt(fn,34069+wa,Yt,wr,rn),gr(),sr(fn),Cn},Cn.resize=function(wa){if(wa|=0,wa!==Nn.width){Cn.width=Nn.width=wa,Cn.height=Nn.height=wa,hr(Nn);for(var Ka=0;6>Ka;++Ka)for(var Yt=0;Nn.mipmask>>Yt;++Yt)yt.texImage2D(34069+Ka,Yt,Nn.format,wa>>Yt,wa>>Yt,0,Nn.format,Nn.type,null);return gr(),st.profile&&(Nn.stats.size=b(Nn.internalformat,Nn.type,Cn.width,Cn.height,!1,!0)),Cn}},Cn._reglType="textureCube",Cn._texture=Nn,st.profile&&(Cn.stats=Nn.stats),Cn.destroy=function(){Nn.decRef()},Cn},clear:function(){for(var Tr=0;Tr<jn;++Tr)yt.activeTexture(33984+Tr),yt.bindTexture(3553,null),Qn[Tr]=null;we(qn).forEach(pr),pt.cubeCount=0,pt.textureCount=0},getTexture:function(Tr){return null},restore:function(){for(var Tr=0;Tr<jn;++Tr){var ln=Qn[Tr];ln&&(ln.bindCount=0,ln.unit=-1,Qn[Tr]=null)}we(qn).forEach(function(nn){nn.texture=yt.createTexture(),yt.bindTexture(nn.target,nn.texture);for(var mn=0;32>mn;++mn)if(nn.mipmask&1<<mn)if(nn.target===3553)yt.texImage2D(3553,mn,nn.internalformat,nn.width>>mn,nn.height>>mn,0,nn.internalformat,nn.type,null);else for(var Vn=0;6>Vn;++Vn)yt.texImage2D(34069+Vn,mn,nn.internalformat,nn.width>>mn,nn.height>>mn,0,nn.internalformat,nn.type,null);rr(nn.texInfo,nn.target)})},refresh:function(){for(var Tr=0;Tr<jn;++Tr){var ln=Qn[Tr];ln&&(ln.bindCount=0,ln.unit=-1,Qn[Tr]=null),yt.activeTexture(33984+Tr),yt.bindTexture(3553,null),yt.bindTexture(34067,null)}}}}function F(yt,Zt,$t,mr,ur,pt){function st(_t,hr,gr){this.target=_t,this.texture=hr,this.renderbuffer=gr;var pr=_t=0;hr?(_t=hr.width,pr=hr.height):gr&&(_t=gr.width,pr=gr.height),this.width=_t,this.height=pr}function xt(_t){_t&&(_t.texture&&_t.texture._texture.decRef(),_t.renderbuffer&&_t.renderbuffer._renderbuffer.decRef())}function St(_t,hr,gr){_t&&(_t.texture?_t.texture._texture.refCount+=1:_t.renderbuffer._renderbuffer.refCount+=1)}function Dt(_t,hr){hr&&(hr.texture?yt.framebufferTexture2D(36160,_t,hr.target,hr.texture._texture.texture,0):yt.framebufferRenderbuffer(36160,_t,36161,hr.renderbuffer._renderbuffer.renderbuffer))}function Rt(_t){var hr=3553,gr=null,pr=null,vr=_t;return typeof _t=="object"&&(vr=_t.data,"target"in _t&&(hr=_t.target|0)),_t=vr._reglType,_t==="texture2d"||_t==="textureCube"?gr=vr:_t==="renderbuffer"&&(pr=vr,hr=36161),new st(hr,gr,pr)}function Bt(_t,hr,gr,pr,vr){return gr?(_t=mr.create2D({width:_t,height:hr,format:pr,type:vr}),_t._texture.refCount=0,new st(3553,_t,null)):(_t=ur.create({width:_t,height:hr,format:pr}),_t._renderbuffer.refCount=0,new st(36161,null,_t))}function Nt(_t){return _t&&(_t.texture||_t.renderbuffer)}function Xt(_t,hr,gr){_t&&(_t.texture?_t.texture.resize(hr,gr):_t.renderbuffer&&_t.renderbuffer.resize(hr,gr),_t.width=hr,_t.height=gr)}function lr(){this.id=or++,rr[this.id]=this,this.framebuffer=yt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function sr(_t){_t.colorAttachments.forEach(xt),xt(_t.depthAttachment),xt(_t.stencilAttachment),xt(_t.depthStencilAttachment)}function dr(_t){yt.deleteFramebuffer(_t.framebuffer),_t.framebuffer=null,pt.framebufferCount--,delete rr[_t.id]}function Ye(_t){var hr;yt.bindFramebuffer(36160,_t.framebuffer);var gr=_t.colorAttachments;for(hr=0;hr<gr.length;++hr)Dt(36064+hr,gr[hr]);for(hr=gr.length;hr<$t.maxColorAttachments;++hr)yt.framebufferTexture2D(36160,36064+hr,3553,null,0);yt.framebufferTexture2D(36160,33306,3553,null,0),yt.framebufferTexture2D(36160,36096,3553,null,0),yt.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,_t.depthAttachment),Dt(36128,_t.stencilAttachment),Dt(33306,_t.depthStencilAttachment),yt.checkFramebufferStatus(36160),yt.isContextLost(),yt.bindFramebuffer(36160,It.next?It.next.framebuffer:null),It.cur=It.next,yt.getError()}function je(_t,hr){function gr(vr,Gr){var Fr,_r=0,gn=0,tn=!0,Bn=!0;Fr=null;var An=!0,Mr="rgba",Cr="uint8",jr=1,Hr=null,on=null,yn=null,xn=!1;typeof vr=="number"?(_r=vr|0,gn=Gr|0||_r):vr?("shape"in vr?(gn=vr.shape,_r=gn[0],gn=gn[1]):("radius"in vr&&(_r=gn=vr.radius),"width"in vr&&(_r=vr.width),"height"in vr&&(gn=vr.height)),("color"in vr||"colors"in vr)&&(Fr=vr.color||vr.colors),Fr||("colorCount"in vr&&(jr=vr.colorCount|0),"colorTexture"in vr&&(An=!!vr.colorTexture,Mr="rgba4"),"colorType"in vr&&(Cr=vr.colorType,!An)&&(Cr==="half float"||Cr==="float16"?Mr="rgba16f":(Cr==="float"||Cr==="float32")&&(Mr="rgba32f")),"colorFormat"in vr&&(Mr=vr.colorFormat,0<=kt.indexOf(Mr)?An=!0:0<=jt.indexOf(Mr)&&(An=!1))),("depthTexture"in vr||"depthStencilTexture"in vr)&&(xn=!(!vr.depthTexture&&!vr.depthStencilTexture)),"depth"in vr&&(typeof vr.depth=="boolean"?tn=vr.depth:(Hr=vr.depth,Bn=!1)),"stencil"in vr&&(typeof vr.stencil=="boolean"?Bn=vr.stencil:(on=vr.stencil,tn=!1)),"depthStencil"in vr&&(typeof vr.depthStencil=="boolean"?tn=Bn=vr.depthStencil:(yn=vr.depthStencil,Bn=tn=!1))):_r=gn=1;var Rn=null,_n=null,sa=null,Zn=null;if(Array.isArray(Fr))Rn=Fr.map(Rt);else if(Fr)Rn=[Rt(Fr)];else for(Rn=Array(jr),Fr=0;Fr<jr;++Fr)Rn[Fr]=Bt(_r,gn,An,Mr,Cr);for(_r=_r||Rn[0].width,gn=gn||Rn[0].height,Hr?_n=Rt(Hr):tn&&!Bn&&(_n=Bt(_r,gn,xn,"depth","uint32")),on?sa=Rt(on):Bn&&!tn&&(sa=Bt(_r,gn,!1,"stencil","uint8")),yn?Zn=Rt(yn):!Hr&&!on&&Bn&&tn&&(Zn=Bt(_r,gn,xn,"depth stencil","depth stencil")),tn=null,Fr=0;Fr<Rn.length;++Fr)St(Rn[Fr]),Rn[Fr]&&Rn[Fr].texture&&(Bn=He[Rn[Fr].texture._texture.format]*Ke[Rn[Fr].texture._texture.type],tn===null&&(tn=Bn));return St(_n),St(sa),St(Zn),sr(pr),pr.width=_r,pr.height=gn,pr.colorAttachments=Rn,pr.depthAttachment=_n,pr.stencilAttachment=sa,pr.depthStencilAttachment=Zn,gr.color=Rn.map(Nt),gr.depth=Nt(_n),gr.stencil=Nt(sa),gr.depthStencil=Nt(Zn),gr.width=pr.width,gr.height=pr.height,Ye(pr),gr}var pr=new lr;return pt.framebufferCount++,gr(_t,hr),se(gr,{resize:function(vr,Gr){var Fr=Math.max(vr|0,1),_r=Math.max(Gr|0||Fr,1);if(Fr===pr.width&&_r===pr.height)return gr;for(var gn=pr.colorAttachments,tn=0;tn<gn.length;++tn)Xt(gn[tn],Fr,_r);return Xt(pr.depthAttachment,Fr,_r),Xt(pr.stencilAttachment,Fr,_r),Xt(pr.depthStencilAttachment,Fr,_r),pr.width=gr.width=Fr,pr.height=gr.height=_r,Ye(pr),gr},_reglType:"framebuffer",_framebuffer:pr,destroy:function(){dr(pr),sr(pr)},use:function(vr){It.setFBO({framebuffer:gr},vr)}})}var It={cur:null,next:null,dirty:!1,setFBO:null},kt=["rgba"],jt=["rgba4","rgb565","rgb5 a1"];Zt.ext_srgb&&jt.push("srgba"),Zt.ext_color_buffer_half_float&&jt.push("rgba16f","rgb16f"),Zt.webgl_color_buffer_float&&jt.push("rgba32f");var tr=["uint8"];Zt.oes_texture_half_float&&tr.push("half float","float16"),Zt.oes_texture_float&&tr.push("float","float32");var or=0,rr={};return se(It,{getFramebuffer:function(_t){return typeof _t=="function"&&_t._reglType==="framebuffer"&&(_t=_t._framebuffer,_t instanceof lr)?_t:null},create:je,createCube:function(_t){function hr(pr){var vr,Gr={color:null},Fr=0,_r=null;vr="rgba";var gn="uint8",tn=1;if(typeof pr=="number"?Fr=pr|0:pr?("shape"in pr?Fr=pr.shape[0]:("radius"in pr&&(Fr=pr.radius|0),"width"in pr?Fr=pr.width|0:"height"in pr&&(Fr=pr.height|0)),("color"in pr||"colors"in pr)&&(_r=pr.color||pr.colors),_r||("colorCount"in pr&&(tn=pr.colorCount|0),"colorType"in pr&&(gn=pr.colorType),"colorFormat"in pr&&(vr=pr.colorFormat)),"depth"in pr&&(Gr.depth=pr.depth),"stencil"in pr&&(Gr.stencil=pr.stencil),"depthStencil"in pr&&(Gr.depthStencil=pr.depthStencil)):Fr=1,_r)if(Array.isArray(_r))for(pr=[],vr=0;vr<_r.length;++vr)pr[vr]=_r[vr];else pr=[_r];else for(pr=Array(tn),_r={radius:Fr,format:vr,type:gn},vr=0;vr<tn;++vr)pr[vr]=mr.createCube(_r);for(Gr.color=Array(pr.length),vr=0;vr<pr.length;++vr)tn=pr[vr],Fr=Fr||tn.width,Gr.color[vr]={target:34069,data:pr[vr]};for(vr=0;6>vr;++vr){for(tn=0;tn<pr.length;++tn)Gr.color[tn].target=34069+vr;0<vr&&(Gr.depth=gr[0].depth,Gr.stencil=gr[0].stencil,Gr.depthStencil=gr[0].depthStencil),gr[vr]?gr[vr](Gr):gr[vr]=je(Gr)}return se(hr,{width:Fr,height:Fr,color:pr})}var gr=Array(6);return hr(_t),se(hr,{faces:gr,resize:function(pr){var vr=pr|0;if(vr===hr.width)return hr;var Gr=hr.color;for(pr=0;pr<Gr.length;++pr)Gr[pr].resize(vr);for(pr=0;6>pr;++pr)gr[pr].resize(vr);return hr.width=hr.height=vr,hr},_reglType:"framebufferCube",destroy:function(){gr.forEach(function(pr){pr.destroy()})}})},clear:function(){we(rr).forEach(dr)},restore:function(){It.cur=null,It.next=null,It.dirty=!0,we(rr).forEach(function(_t){_t.framebuffer=yt.createFramebuffer(),Ye(_t)})}})}function V(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function _(yt,Zt,$t,mr,ur,pt,st){function xt(Ye){if(Ye!==dr.currentVAO){var je=Zt.oes_vertex_array_object;Ye?je.bindVertexArrayOES(Ye.vao):je.bindVertexArrayOES(null),dr.currentVAO=Ye}}function St(Ye){if(Ye!==dr.currentVAO){if(Ye)Ye.bindAttrs();else{for(var je=Zt.angle_instanced_arrays,It=0;It<Xt.length;++It){var kt=Xt[It];kt.buffer?(yt.enableVertexAttribArray(It),kt.buffer.bind(),yt.vertexAttribPointer(It,kt.size,kt.type,kt.normalized,kt.stride,kt.offfset),je&&kt.divisor&&je.vertexAttribDivisorANGLE(It,kt.divisor)):(yt.disableVertexAttribArray(It),yt.vertexAttrib4f(It,kt.x,kt.y,kt.z,kt.w))}st.elements?yt.bindBuffer(34963,st.elements.buffer.buffer):yt.bindBuffer(34963,null)}dr.currentVAO=Ye}}function Dt(){we(sr).forEach(function(Ye){Ye.destroy()})}function Rt(){this.id=++lr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ye=Zt.oes_vertex_array_object;this.vao=Ye?Ye.createVertexArrayOES():null,sr[this.id]=this,this.buffers=[]}function Bt(){Zt.oes_vertex_array_object&&we(sr).forEach(function(Ye){Ye.refresh()})}var Nt=$t.maxAttributes,Xt=Array(Nt);for($t=0;$t<Nt;++$t)Xt[$t]=new V;var lr=0,sr={},dr={Record:V,scope:{},state:Xt,currentVAO:null,targetVAO:null,restore:Zt.oes_vertex_array_object?Bt:function(){},createVAO:function(Ye){function je(kt){var jt;Array.isArray(kt)?(jt=kt,It.elements&&It.ownsElements&&It.elements.destroy(),It.elements=null,It.ownsElements=!1,It.offset=0,It.count=0,It.instances=-1,It.primitive=4):(kt.elements?(jt=kt.elements,It.ownsElements?(typeof jt=="function"&&jt._reglType==="elements"?It.elements.destroy():It.elements(jt),It.ownsElements=!1):pt.getElements(kt.elements)?(It.elements=kt.elements,It.ownsElements=!1):(It.elements=pt.create(kt.elements),It.ownsElements=!0)):(It.elements=null,It.ownsElements=!1),jt=kt.attributes,It.offset=0,It.count=-1,It.instances=-1,It.primitive=4,It.elements&&(It.count=It.elements._elements.vertCount,It.primitive=It.elements._elements.primType),"offset"in kt&&(It.offset=kt.offset|0),"count"in kt&&(It.count=kt.count|0),"instances"in kt&&(It.instances=kt.instances|0),"primitive"in kt&&(It.primitive=tt[kt.primitive])),kt={};var tr=It.attributes;tr.length=jt.length;for(var or=0;or<jt.length;++or){var rr=jt[or],_t=tr[or]=new V,hr=rr.data||rr;if(Array.isArray(hr)||Le(hr)||c(hr)){var gr;It.buffers[or]&&(gr=It.buffers[or],Le(hr)&&gr._buffer.byteLength>=hr.byteLength?gr.subdata(hr):(gr.destroy(),It.buffers[or]=null)),It.buffers[or]||(gr=It.buffers[or]=ur.create(rr,34962,!1,!0)),_t.buffer=ur.getBuffer(gr),_t.size=_t.buffer.dimension|0,_t.normalized=!1,_t.type=_t.buffer.dtype,_t.offset=0,_t.stride=0,_t.divisor=0,_t.state=1,kt[or]=1}else ur.getBuffer(rr)?(_t.buffer=ur.getBuffer(rr),_t.size=_t.buffer.dimension|0,_t.normalized=!1,_t.type=_t.buffer.dtype,_t.offset=0,_t.stride=0,_t.divisor=0,_t.state=1):ur.getBuffer(rr.buffer)?(_t.buffer=ur.getBuffer(rr.buffer),_t.size=(+rr.size||_t.buffer.dimension)|0,_t.normalized=!!rr.normalized||!1,_t.type="type"in rr?Ne[rr.type]:_t.buffer.dtype,_t.offset=(rr.offset||0)|0,_t.stride=(rr.stride||0)|0,_t.divisor=(rr.divisor||0)|0,_t.state=1):"x"in rr&&(_t.x=+rr.x||0,_t.y=+rr.y||0,_t.z=+rr.z||0,_t.w=+rr.w||0,_t.state=2)}for(gr=0;gr<It.buffers.length;++gr)!kt[gr]&&It.buffers[gr]&&(It.buffers[gr].destroy(),It.buffers[gr]=null);return It.refresh(),je}var It=new Rt;return mr.vaoCount+=1,je.destroy=function(){for(var kt=0;kt<It.buffers.length;++kt)It.buffers[kt]&&It.buffers[kt].destroy();It.buffers.length=0,It.ownsElements&&(It.elements.destroy(),It.elements=null,It.ownsElements=!1),It.destroy()},je._vao=It,je._reglType="vao",je(Ye)},getVAO:function(Ye){return typeof Ye=="function"&&Ye._vao?Ye._vao:null},destroyBuffer:function(Ye){for(var je=0;je<Xt.length;++je){var It=Xt[je];It.buffer===Ye&&(yt.disableVertexAttribArray(je),It.buffer=null)}},setVAO:Zt.oes_vertex_array_object?xt:St,clear:Zt.oes_vertex_array_object?Dt:function(){}};return Rt.prototype.bindAttrs=function(){for(var Ye=Zt.angle_instanced_arrays,je=this.attributes,It=0;It<je.length;++It){var kt=je[It];kt.buffer?(yt.enableVertexAttribArray(It),yt.bindBuffer(34962,kt.buffer.buffer),yt.vertexAttribPointer(It,kt.size,kt.type,kt.normalized,kt.stride,kt.offset),Ye&&kt.divisor&&Ye.vertexAttribDivisorANGLE(It,kt.divisor)):(yt.disableVertexAttribArray(It),yt.vertexAttrib4f(It,kt.x,kt.y,kt.z,kt.w))}for(Ye=je.length;Ye<Nt;++Ye)yt.disableVertexAttribArray(Ye);(Ye=pt.getElements(this.elements))?yt.bindBuffer(34963,Ye.buffer.buffer):yt.bindBuffer(34963,null)},Rt.prototype.refresh=function(){var Ye=Zt.oes_vertex_array_object;Ye&&(Ye.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,Ye.bindVertexArrayOES(null))},Rt.prototype.destroy=function(){if(this.vao){var Ye=Zt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,Ye.bindVertexArrayOES(null)),Ye.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),sr[this.id]&&(delete sr[this.id],--mr.vaoCount)},dr}function U(yt,Zt,$t,mr){function ur(lr,sr,dr,Ye){this.name=lr,this.id=sr,this.location=dr,this.info=Ye}function pt(lr,sr){for(var dr=0;dr<lr.length;++dr)if(lr[dr].id===sr.id){lr[dr].location=sr.location;return}lr.push(sr)}function st(lr,sr,dr){dr=lr===35632?Dt:Rt;var Ye=dr[sr];if(!Ye){var je=Zt.str(sr),Ye=yt.createShader(lr);yt.shaderSource(Ye,je),yt.compileShader(Ye),dr[sr]=Ye}return Ye}function xt(lr,sr){this.id=Xt++,this.fragId=lr,this.vertId=sr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,mr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function St(lr,sr,dr){var Ye;Ye=st(35632,lr.fragId);var je=st(35633,lr.vertId);if(sr=lr.program=yt.createProgram(),yt.attachShader(sr,Ye),yt.attachShader(sr,je),dr)for(Ye=0;Ye<dr.length;++Ye)je=dr[Ye],yt.bindAttribLocation(sr,je[0],je[1]);yt.linkProgram(sr),je=yt.getProgramParameter(sr,35718),mr.profile&&(lr.stats.uniformsCount=je);var It=lr.uniforms;for(Ye=0;Ye<je;++Ye)if(dr=yt.getActiveUniform(sr,Ye))if(1<dr.size)for(var kt=0;kt<dr.size;++kt){var jt=dr.name.replace("[0]","["+kt+"]");pt(It,new ur(jt,Zt.id(jt),yt.getUniformLocation(sr,jt),dr))}else pt(It,new ur(dr.name,Zt.id(dr.name),yt.getUniformLocation(sr,dr.name),dr));for(je=yt.getProgramParameter(sr,35721),mr.profile&&(lr.stats.attributesCount=je),lr=lr.attributes,Ye=0;Ye<je;++Ye)(dr=yt.getActiveAttrib(sr,Ye))&&pt(lr,new ur(dr.name,Zt.id(dr.name),yt.getAttribLocation(sr,dr.name),dr))}var Dt={},Rt={},Bt={},Nt=[],Xt=0;return mr.profile&&($t.getMaxUniformsCount=function(){var lr=0;return Nt.forEach(function(sr){sr.stats.uniformsCount>lr&&(lr=sr.stats.uniformsCount)}),lr},$t.getMaxAttributesCount=function(){var lr=0;return Nt.forEach(function(sr){sr.stats.attributesCount>lr&&(lr=sr.stats.attributesCount)}),lr}),{clear:function(){var lr=yt.deleteShader.bind(yt);we(Dt).forEach(lr),Dt={},we(Rt).forEach(lr),Rt={},Nt.forEach(function(sr){yt.deleteProgram(sr.program)}),Nt.length=0,Bt={},$t.shaderCount=0},program:function(lr,sr,dr,Ye){var je=Bt[sr];je||(je=Bt[sr]={});var It=je[lr];if(It&&(It.refCount++,!Ye))return It;var kt=new xt(sr,lr);return $t.shaderCount++,St(kt,dr,Ye),It||(je[lr]=kt),Nt.push(kt),se(kt,{destroy:function(){if(kt.refCount--,0>=kt.refCount){yt.deleteProgram(kt.program);var jt=Nt.indexOf(kt);Nt.splice(jt,1),$t.shaderCount--}0>=je[kt.vertId].refCount&&(yt.deleteShader(Rt[kt.vertId]),delete Rt[kt.vertId],delete Bt[kt.fragId][kt.vertId]),Object.keys(Bt[kt.fragId]).length||(yt.deleteShader(Dt[kt.fragId]),delete Dt[kt.fragId],delete Bt[kt.fragId])}})},restore:function(){Dt={},Rt={};for(var lr=0;lr<Nt.length;++lr)St(Nt[lr],null,Nt[lr].attributes.map(function(sr){return[sr.location,sr.name]}))},shader:st,frag:-1,vert:-1}}function H(yt,Zt,$t,mr,ur,pt,st){function xt(Dt){var Rt;Rt=Zt.next===null?5121:Zt.next.colorAttachments[0].texture._texture.type;var Bt=0,Nt=0,Xt=mr.framebufferWidth,lr=mr.framebufferHeight,sr=null;return Le(Dt)?sr=Dt:Dt&&(Bt=Dt.x|0,Nt=Dt.y|0,Xt=(Dt.width||mr.framebufferWidth-Bt)|0,lr=(Dt.height||mr.framebufferHeight-Nt)|0,sr=Dt.data||null),$t(),Dt=Xt*lr*4,sr||(Rt===5121?sr=new Uint8Array(Dt):Rt===5126&&(sr=sr||new Float32Array(Dt))),yt.pixelStorei(3333,4),yt.readPixels(Bt,Nt,Xt,lr,6408,Rt,sr),sr}function St(Dt){var Rt;return Zt.setFBO({framebuffer:Dt.framebuffer},function(){Rt=xt(Dt)}),Rt}return function(Dt){return Dt&&"framebuffer"in Dt?St(Dt):xt(Dt)}}function z(yt){for(var Zt=Array(yt.length>>2),mr=0;mr<Zt.length;mr++)Zt[mr]=0;for(mr=0;mr<8*yt.length;mr+=8)Zt[mr>>5]|=(yt.charCodeAt(mr/8)&255)<<24-mr%32;var $t=8*yt.length;yt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var mr=Array(64),ur,pt,st,xt,St,Dt,Rt,Bt,Nt,Xt,lr;for(Zt[$t>>5]|=128<<24-$t%32,Zt[($t+64>>9<<4)+15]=$t,Bt=0;Bt<Zt.length;Bt+=16){for($t=yt[0],ur=yt[1],pt=yt[2],st=yt[3],xt=yt[4],St=yt[5],Dt=yt[6],Rt=yt[7],Nt=0;64>Nt;Nt++){if(16>Nt)mr[Nt]=Zt[Nt+Bt];else{Xt=Nt,lr=mr[Nt-2],lr=J(lr,17)^J(lr,19)^lr>>>10,lr=ae(lr,mr[Nt-7]);var sr;sr=mr[Nt-15],sr=J(sr,7)^J(sr,18)^sr>>>3,mr[Xt]=ae(ae(lr,sr),mr[Nt-16])}Xt=xt,Xt=J(Xt,6)^J(Xt,11)^J(Xt,25),Xt=ae(ae(ae(ae(Rt,Xt),xt&St^~xt&Dt),qe[Nt]),mr[Nt]),Rt=$t,Rt=J(Rt,2)^J(Rt,13)^J(Rt,22),lr=ae(Rt,$t&ur^$t&pt^ur&pt),Rt=Dt,Dt=St,St=xt,xt=ae(st,Xt),st=pt,pt=ur,ur=$t,$t=ae(Xt,lr)}yt[0]=ae($t,yt[0]),yt[1]=ae(ur,yt[1]),yt[2]=ae(pt,yt[2]),yt[3]=ae(st,yt[3]),yt[4]=ae(xt,yt[4]),yt[5]=ae(St,yt[5]),yt[6]=ae(Dt,yt[6]),yt[7]=ae(Rt,yt[7])}for(Zt="",mr=0;mr<32*yt.length;mr+=8)Zt+=String.fromCharCode(yt[mr>>5]>>>24-mr%32&255);return Zt}function G(yt){for(var Zt="",$t,mr=0;mr<yt.length;mr++)$t=yt.charCodeAt(mr),Zt+="0123456789abcdef".charAt($t>>>4&15)+"0123456789abcdef".charAt($t&15);return Zt}function Y(yt){for(var Zt="",$t=-1,mr,ur;++$t<yt.length;)mr=yt.charCodeAt($t),ur=$t+1<yt.length?yt.charCodeAt($t+1):0,55296<=mr&&56319>=mr&&56320<=ur&&57343>=ur&&(mr=65536+((mr&1023)<<10)+(ur&1023),$t++),127>=mr?Zt+=String.fromCharCode(mr):2047>=mr?Zt+=String.fromCharCode(192|mr>>>6&31,128|mr&63):65535>=mr?Zt+=String.fromCharCode(224|mr>>>12&15,128|mr>>>6&63,128|mr&63):2097151>=mr&&(Zt+=String.fromCharCode(240|mr>>>18&7,128|mr>>>12&63,128|mr>>>6&63,128|mr&63));return Zt}function J(yt,Zt){return yt>>>Zt|yt<<32-Zt}function ae(yt,Zt){var $t=(yt&65535)+(Zt&65535);return(yt>>16)+(Zt>>16)+($t>>16)<<16|$t&65535}function oe(yt){return Array.prototype.slice.call(yt)}function he(yt){return oe(yt).join("")}function q(yt){function Zt(){var Rt=[],Bt=[];return se(function(){Rt.push.apply(Rt,oe(arguments))},{def:function(){var Nt="v"+ur++;return Bt.push(Nt),0<arguments.length&&(Rt.push(Nt,"="),Rt.push.apply(Rt,oe(arguments)),Rt.push(";")),Nt},toString:function(){return he([0<Bt.length?"var "+Bt.join(",")+";":"",he(Rt)])}})}function $t(){function Rt(sr,dr){Nt(sr,dr,"=",Bt.def(sr,dr),";")}var Bt=Zt(),Nt=Zt(),Xt=Bt.toString,lr=Nt.toString;return se(function(){Bt.apply(Bt,oe(arguments))},{def:Bt.def,entry:Bt,exit:Nt,save:Rt,set:function(sr,dr,Ye){Rt(sr,dr),Bt(sr,dr,"=",Ye,";")},toString:function(){return Xt()+lr()}})}var mr=yt&&yt.cache,ur=0,pt=[],st=[],xt=[],St=Zt(),Dt={};return{global:St,link:function(Rt,Bt){var Nt=Bt&&Bt.stable;if(!Nt){for(var Xt=0;Xt<st.length;++Xt)if(st[Xt]===Rt&&!xt[Xt])return pt[Xt]}return Xt="g"+ur++,pt.push(Xt),st.push(Rt),xt.push(Nt),Xt},block:Zt,proc:function(Rt,Bt){function Nt(){var dr="a"+Xt.length;return Xt.push(dr),dr}var Xt=[];Bt=Bt||0;for(var lr=0;lr<Bt;++lr)Nt();var lr=$t(),sr=lr.toString;return Dt[Rt]=se(lr,{arg:Nt,toString:function(){return he(["function(",Xt.join(),"){",sr(),"}"])}})},scope:$t,cond:function(){var Rt=he(arguments),Bt=$t(),Nt=$t(),Xt=Bt.toString,lr=Nt.toString;return se(Bt,{then:function(){return Bt.apply(Bt,oe(arguments)),this},else:function(){return Nt.apply(Nt,oe(arguments)),this},toString:function(){var sr=lr();return sr&&(sr="else{"+sr+"}"),he(["if(",Rt,"){",Xt(),"}",sr])}})},compile:function(){var Rt=['"use strict";',St,"return {"];Object.keys(Dt).forEach(function(Xt){Rt.push('"',Xt,'":',Dt[Xt].toString(),",")}),Rt.push("}");var Bt=he(Rt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nt;return mr&&(Nt=G(z(Y(Bt))),mr[Nt])?mr[Nt].apply(null,st):(Bt=Function.apply(null,pt.concat(Bt)),mr&&(mr[Nt]=Bt),Bt.apply(null,st))}}}function Z(yt){return Array.isArray(yt)||Le(yt)||c(yt)}function $(yt){return yt.sort(function(Zt,$t){return Zt==="viewport"?-1:$t==="viewport"?1:Zt<$t?-1:1})}function K(yt,Zt,$t,mr){this.thisDep=yt,this.contextDep=Zt,this.propDep=$t,this.append=mr}function re(yt){return yt&&!(yt.thisDep||yt.contextDep||yt.propDep)}function le(yt){return new K(!1,!1,!1,yt)}function te(yt,Zt){var $t=yt.type;if($t===0)return $t=yt.data.length,new K(!0,1<=$t,2<=$t,Zt);if($t===4)return $t=yt.data,new K($t.thisDep,$t.contextDep,$t.propDep,Zt);if($t===5)return new K(!1,!1,!1,Zt);if($t===6){for(var mr=$t=!1,ur=!1,pt=0;pt<yt.data.length;++pt){var st=yt.data[pt];st.type===1?ur=!0:st.type===2?mr=!0:st.type===3?$t=!0:st.type===0?($t=!0,st=st.data,1<=st&&(mr=!0),2<=st&&(ur=!0)):st.type===4&&($t=$t||st.data.thisDep,mr=mr||st.data.contextDep,ur=ur||st.data.propDep)}return new K($t,mr,ur,Zt)}return new K($t===3,$t===2,$t===1,Zt)}function ee(yt,Zt,$t,mr,ur,pt,st,xt,St,Dt,Rt,Bt,Nt,Xt,lr,sr){function dr(Yt){return Yt.replace(".","_")}function Ye(Yt,wr,rn){var fn=dr(Yt);En.push(Yt),Vn[fn]=mn[fn]=!!rn,Cn[fn]=wr}function je(Yt,wr,rn){var fn=dr(Yt);En.push(Yt),Array.isArray(rn)?(mn[fn]=rn.slice(),Vn[fn]=rn.slice()):mn[fn]=Vn[fn]=rn,Nn[fn]=wr}function It(){var Yt=q({cache:lr}),wr=Yt.link,rn=Yt.global;Yt.id=Ka++,Yt.batchId="0";var fn=wr(ta),hn=Yt.shared={props:"a0"};Object.keys(ta).forEach(function(Pr){hn[Pr]=rn.def(fn,".",Pr)});var In=Yt.next={},Mn=Yt.current={};Object.keys(Nn).forEach(function(Pr){Array.isArray(mn[Pr])&&(In[Pr]=rn.def(hn.next,".",Pr),Mn[Pr]=rn.def(hn.current,".",Pr))});var dn=Yt.constants={};Object.keys(wa).forEach(function(Pr){dn[Pr]=rn.def(JSON.stringify(wa[Pr]))}),Yt.invoke=function(Pr,Br){switch(Br.type){case 0:var pn=["this",hn.context,hn.props,Yt.batchId];return Pr.def(wr(Br.data),".call(",pn.slice(0,Math.max(Br.data.length+1,4)),")");case 1:return Pr.def(hn.props,Br.data);case 2:return Pr.def(hn.context,Br.data);case 3:return Pr.def("this",Br.data);case 4:return Br.data.append(Yt,Pr),Br.data.ref;case 5:return Br.data.toString();case 6:return Br.data.map(function(zn){return Yt.invoke(Pr,zn)})}},Yt.attribCache={};var Ir={};return Yt.scopeAttrib=function(Pr){if(Pr=Zt.id(Pr),Pr in Ir)return Ir[Pr];var Br=Dt.scope[Pr];return Br||(Br=Dt.scope[Pr]=new jn),Ir[Pr]=wr(Br)},Yt}function kt(Yt){var wr=Yt.static;Yt=Yt.dynamic;var rn;if("profile"in wr){var fn=!!wr.profile;rn=le(function(In,Mn){return fn}),rn.enable=fn}else if("profile"in Yt){var hn=Yt.profile;rn=te(hn,function(In,Mn){return In.invoke(Mn,hn)})}return rn}function jt(Yt,wr){var rn=Yt.static,fn=Yt.dynamic;if("framebuffer"in rn){var hn=rn.framebuffer;return hn?(hn=xt.getFramebuffer(hn),le(function(Mn,dn){var Ir=Mn.link(hn),Pr=Mn.shared;return dn.set(Pr.framebuffer,".next",Ir),Pr=Pr.context,dn.set(Pr,".framebufferWidth",Ir+".width"),dn.set(Pr,".framebufferHeight",Ir+".height"),Ir})):le(function(Mn,dn){var Ir=Mn.shared;return dn.set(Ir.framebuffer,".next","null"),Ir=Ir.context,dn.set(Ir,".framebufferWidth",Ir+".drawingBufferWidth"),dn.set(Ir,".framebufferHeight",Ir+".drawingBufferHeight"),"null"})}if("framebuffer"in fn){var In=fn.framebuffer;return te(In,function(Mn,dn){var Br=Mn.invoke(dn,In),Ir=Mn.shared,Pr=Ir.framebuffer,Br=dn.def(Pr,".getFramebuffer(",Br,")");return dn.set(Pr,".next",Br),Ir=Ir.context,dn.set(Ir,".framebufferWidth",Br+"?"+Br+".width:"+Ir+".drawingBufferWidth"),dn.set(Ir,".framebufferHeight",Br+"?"+Br+".height:"+Ir+".drawingBufferHeight"),Br})}return null}function tr(Yt,wr,rn){function fn(dn){if(dn in hn){var Ir=hn[dn];dn=!0;var Pr=Ir.x|0,Br=Ir.y|0,pn,zn;return"width"in Ir?pn=Ir.width|0:dn=!1,"height"in Ir?zn=Ir.height|0:dn=!1,new K(!dn&&wr&&wr.thisDep,!dn&&wr&&wr.contextDep,!dn&&wr&&wr.propDep,function(bn,Un){var ia=bn.shared.context,ca=pn;"width"in Ir||(ca=Un.def(ia,".","framebufferWidth","-",Pr));var ua=zn;return"height"in Ir||(ua=Un.def(ia,".","framebufferHeight","-",Br)),[Pr,Br,ca,ua]})}if(dn in In){var Xn=In[dn];return dn=te(Xn,function(bn,Un){var ya=bn.invoke(Un,Xn),ia=bn.shared.context,ca=Un.def(ya,".x|0"),ua=Un.def(ya,".y|0"),fa=Un.def('"width" in ',ya,"?",ya,".width|0:","(",ia,".","framebufferWidth","-",ca,")"),ya=Un.def('"height" in ',ya,"?",ya,".height|0:","(",ia,".","framebufferHeight","-",ua,")");return[ca,ua,fa,ya]}),wr&&(dn.thisDep=dn.thisDep||wr.thisDep,dn.contextDep=dn.contextDep||wr.contextDep,dn.propDep=dn.propDep||wr.propDep),dn}return wr?new K(wr.thisDep,wr.contextDep,wr.propDep,function(bn,Un){var ia=bn.shared.context;return[0,0,Un.def(ia,".","framebufferWidth"),Un.def(ia,".","framebufferHeight")]}):null}var hn=Yt.static,In=Yt.dynamic;if(Yt=fn("viewport")){var Mn=Yt;Yt=new K(Yt.thisDep,Yt.contextDep,Yt.propDep,function(dn,Ir){var Pr=Mn.append(dn,Ir),Br=dn.shared.context;return Ir.set(Br,".viewportWidth",Pr[2]),Ir.set(Br,".viewportHeight",Pr[3]),Pr})}return{viewport:Yt,scissor_box:fn("scissor.box")}}function or(Yt,wr){var rn=Yt.static;if(typeof rn.frag=="string"&&typeof rn.vert=="string"){if(0<Object.keys(wr.dynamic).length)return null;var rn=wr.static,fn=Object.keys(rn);if(0<fn.length&&typeof rn[fn[0]]=="number"){for(var hn=[],In=0;In<fn.length;++In)hn.push([rn[fn[In]]|0,fn[In]]);return hn}}return null}function rr(Yt,wr,rn){function fn(Pr){if(Pr in hn){var Br=Zt.id(hn[Pr]);return Pr=le(function(){return Br}),Pr.id=Br,Pr}if(Pr in In){var pn=In[Pr];return te(pn,function(zn,Xn){var bn=zn.invoke(Xn,pn);return Xn.def(zn.shared.strings,".id(",bn,")")})}return null}var hn=Yt.static,In=Yt.dynamic,Mn=fn("frag"),dn=fn("vert"),Ir=null;return re(Mn)&&re(dn)?(Ir=Rt.program(dn.id,Mn.id,null,rn),Yt=le(function(Pr,Br){return Pr.link(Ir)})):Yt=new K(Mn&&Mn.thisDep||dn&&dn.thisDep,Mn&&Mn.contextDep||dn&&dn.contextDep,Mn&&Mn.propDep||dn&&dn.propDep,function(Pr,Br){var pn=Pr.shared.shader,zn;zn=Mn?Mn.append(Pr,Br):Br.def(pn,".","frag");var Xn;return Xn=dn?dn.append(Pr,Br):Br.def(pn,".","vert"),Br.def(pn+".program("+Xn+","+zn+")")}),{frag:Mn,vert:dn,progVar:Yt,program:Ir}}function _t(Yt,wr){function rn(bn,Un){if(bn in fn){var ia=fn[bn]|0;return Un?In.offset=ia:In.instances=ia,le(function(ua,fa){return Un&&(ua.OFFSET=ia),ia})}if(bn in hn){var ca=hn[bn];return te(ca,function(ua,fa){var ya=ua.invoke(fa,ca);return Un&&(ua.OFFSET=ya),ya})}if(Un){if(Ir)return le(function(ua,fa){return ua.OFFSET=0});if(Mn)return new K(dn.thisDep,dn.contextDep,dn.propDep,function(ua,fa){return fa.def(ua.shared.vao+".currentVAO?"+ua.shared.vao+".currentVAO.offset:0")})}else if(Mn)return new K(dn.thisDep,dn.contextDep,dn.propDep,function(ua,fa){return fa.def(ua.shared.vao+".currentVAO?"+ua.shared.vao+".currentVAO.instances:-1")});return null}var fn=Yt.static,hn=Yt.dynamic,In={},Mn=!1,dn=function(){if("vao"in fn){var bn=fn.vao;return bn!==null&&Dt.getVAO(bn)===null&&(bn=Dt.createVAO(bn)),Mn=!0,In.vao=bn,le(function(ia){var ca=Dt.getVAO(bn);return ca?ia.link(ca):"null"})}if("vao"in hn){Mn=!0;var Un=hn.vao;return te(Un,function(ia,ca){var ua=ia.invoke(ca,Un);return ca.def(ia.shared.vao+".getVAO("+ua+")")})}return null}(),Ir=!1,Pr=function(){if("elements"in fn){var bn=fn.elements;if(In.elements=bn,Z(bn)){var Un=In.elements=pt.create(bn,!0),bn=pt.getElements(Un);Ir=!0}else bn&&(bn=pt.getElements(bn),Ir=!0);return Un=le(function(ca,ua){if(bn){var fa=ca.link(bn);return ca.ELEMENTS=fa}return ca.ELEMENTS=null}),Un.value=bn,Un}if("elements"in hn){Ir=!0;var ia=hn.elements;return te(ia,function(ca,ua){var fa=ca.shared,fo=fa.isBufferArgs,fa=fa.elements,Ro=ca.invoke(ua,ia),ya=ua.def("null"),fo=ua.def(fo,"(",Ro,")"),Ro=ca.cond(fo).then(ya,"=",fa,".createStream(",Ro,");").else(ya,"=",fa,".getElements(",Ro,");");return ua.entry(Ro),ua.exit(ca.cond(fo).then(fa,".destroyStream(",ya,");")),ca.ELEMENTS=ya})}return Mn?new K(dn.thisDep,dn.contextDep,dn.propDep,function(ca,ua){return ua.def(ca.shared.vao+".currentVAO?"+ca.shared.elements+".getElements("+ca.shared.vao+".currentVAO.elements):null")}):null}(),Br=rn("offset",!0),pn=function(){if("primitive"in fn){var bn=fn.primitive;return In.primitive=bn,le(function(ia,ca){return tt[bn]})}if("primitive"in hn){var Un=hn.primitive;return te(Un,function(ia,ca){var ua=ia.constants.primTypes,fa=ia.invoke(ca,Un);return ca.def(ua,"[",fa,"]")})}return Ir?re(Pr)?Pr.value?le(function(ia,ca){return ca.def(ia.ELEMENTS,".primType")}):le(function(){return 4}):new K(Pr.thisDep,Pr.contextDep,Pr.propDep,function(ia,ca){var ua=ia.ELEMENTS;return ca.def(ua,"?",ua,".primType:",4)}):Mn?new K(dn.thisDep,dn.contextDep,dn.propDep,function(ia,ca){return ca.def(ia.shared.vao+".currentVAO?"+ia.shared.vao+".currentVAO.primitive:4")}):null}(),zn=function(){if("count"in fn){var bn=fn.count|0;return In.count=bn,le(function(){return bn})}if("count"in hn){var Un=hn.count;return te(Un,function(ia,ca){return ia.invoke(ca,Un)})}return Ir?re(Pr)?Pr?Br?new K(Br.thisDep,Br.contextDep,Br.propDep,function(ia,ca){return ca.def(ia.ELEMENTS,".vertCount-",ia.OFFSET)}):le(function(ia,ca){return ca.def(ia.ELEMENTS,".vertCount")}):le(function(){return-1}):new K(Pr.thisDep||Br.thisDep,Pr.contextDep||Br.contextDep,Pr.propDep||Br.propDep,function(ia,ca){var ua=ia.ELEMENTS;return ia.OFFSET?ca.def(ua,"?",ua,".vertCount-",ia.OFFSET,":-1"):ca.def(ua,"?",ua,".vertCount:-1")}):Mn?new K(dn.thisDep,dn.contextDep,dn.propDep,function(ia,ca){return ca.def(ia.shared.vao,".currentVAO?",ia.shared.vao,".currentVAO.count:-1")}):null}(),Xn=rn("instances",!1);return{elements:Pr,primitive:pn,count:zn,instances:Xn,offset:Br,vao:dn,vaoActive:Mn,elementsActive:Ir,static:In}}function hr(Yt,wr){var rn=Yt.static,fn=Yt.dynamic,hn={};return En.forEach(function(In){function Mn(Ir,Pr){if(In in rn){var Br=Ir(rn[In]);hn[dn]=le(function(){return Br})}else if(In in fn){var pn=fn[In];hn[dn]=te(pn,function(zn,Xn){return Pr(zn,Xn,zn.invoke(Xn,pn))})}}var dn=dr(In);switch(In){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return Mn(function(Ir){return Ir},function(Ir,Pr,Br){return Br});case"depth.func":return Mn(function(Ir){return qt[Ir]},function(Ir,Pr,Br){return Pr.def(Ir.constants.compareFuncs,"[",Br,"]")});case"depth.range":return Mn(function(Ir){return Ir},function(Ir,Pr,Br){return Ir=Pr.def("+",Br,"[0]"),Pr=Pr.def("+",Br,"[1]"),[Ir,Pr]});case"blend.func":return Mn(function(Ir){return[Wt["srcRGB"in Ir?Ir.srcRGB:Ir.src],Wt["dstRGB"in Ir?Ir.dstRGB:Ir.dst],Wt["srcAlpha"in Ir?Ir.srcAlpha:Ir.src],Wt["dstAlpha"in Ir?Ir.dstAlpha:Ir.dst]]},function(Ir,Pr,Br){function pn(Un,ia){return Pr.def('"',Un,ia,'" in ',Br,"?",Br,".",Un,ia,":",Br,".",Un)}Ir=Ir.constants.blendFuncs;var zn=pn("src","RGB"),bn=pn("dst","RGB"),zn=Pr.def(Ir,"[",zn,"]"),Xn=Pr.def(Ir,"[",pn("src","Alpha"),"]"),bn=Pr.def(Ir,"[",bn,"]");return Ir=Pr.def(Ir,"[",pn("dst","Alpha"),"]"),[zn,bn,Xn,Ir]});case"blend.equation":return Mn(function(Ir){if(typeof Ir=="string")return[Qn[Ir],Qn[Ir]];if(typeof Ir=="object")return[Qn[Ir.rgb],Qn[Ir.alpha]]},function(Ir,Pr,Br){var pn=Ir.constants.blendEquations,zn=Pr.def(),Xn=Pr.def();return Ir=Ir.cond("typeof ",Br,'==="string"'),Ir.then(zn,"=",Xn,"=",pn,"[",Br,"];"),Ir.else(zn,"=",pn,"[",Br,".rgb];",Xn,"=",pn,"[",Br,".alpha];"),Pr(Ir),[zn,Xn]});case"blend.color":return Mn(function(Ir){return s(4,function(Pr){return+Ir[Pr]})},function(Ir,Pr,Br){return s(4,function(pn){return Pr.def("+",Br,"[",pn,"]")})});case"stencil.mask":return Mn(function(Ir){return Ir|0},function(Ir,Pr,Br){return Pr.def(Br,"|0")});case"stencil.func":return Mn(function(Ir){return[qt[Ir.cmp||"keep"],Ir.ref||0,"mask"in Ir?Ir.mask:-1]},function(Ir,Pr,Br){Ir=Pr.def('"cmp" in ',Br,"?",Ir.constants.compareFuncs,"[",Br,".cmp]",":",7680);var pn=Pr.def(Br,".ref|0");return Pr=Pr.def('"mask" in ',Br,"?",Br,".mask|0:-1"),[Ir,pn,Pr]});case"stencil.opFront":case"stencil.opBack":return Mn(function(Ir){return[In==="stencil.opBack"?1029:1028,At[Ir.fail||"keep"],At[Ir.zfail||"keep"],At[Ir.zpass||"keep"]]},function(Ir,Pr,Br){function pn(Xn){return Pr.def('"',Xn,'" in ',Br,"?",zn,"[",Br,".",Xn,"]:",7680)}var zn=Ir.constants.stencilOps;return[In==="stencil.opBack"?1029:1028,pn("fail"),pn("zfail"),pn("zpass")]});case"polygonOffset.offset":return Mn(function(Ir){return[Ir.factor|0,Ir.units|0]},function(Ir,Pr,Br){return Ir=Pr.def(Br,".factor|0"),Pr=Pr.def(Br,".units|0"),[Ir,Pr]});case"cull.face":return Mn(function(Ir){var Pr=0;return Ir==="front"?Pr=1028:Ir==="back"&&(Pr=1029),Pr},function(Ir,Pr,Br){return Pr.def(Br,'==="front"?',1028,":",1029)});case"lineWidth":return Mn(function(Ir){return Ir},function(Ir,Pr,Br){return Br});case"frontFace":return Mn(function(Ir){return zt[Ir]},function(Ir,Pr,Br){return Pr.def(Br+'==="cw"?2304:2305')});case"colorMask":return Mn(function(Ir){return Ir.map(function(Pr){return!!Pr})},function(Ir,Pr,Br){return s(4,function(pn){return"!!"+Br+"["+pn+"]"})});case"sample.coverage":return Mn(function(Ir){return["value"in Ir?Ir.value:1,!!Ir.invert]},function(Ir,Pr,Br){return Ir=Pr.def('"value" in ',Br,"?+",Br,".value:1"),Pr=Pr.def("!!",Br,".invert"),[Ir,Pr]})}}),hn}function gr(Yt,wr){var rn=Yt.static,fn=Yt.dynamic,hn={};return Object.keys(rn).forEach(function(In){var Mn=rn[In],dn;if(typeof Mn=="number"||typeof Mn=="boolean")dn=le(function(){return Mn});else if(typeof Mn=="function"){var Ir=Mn._reglType;Ir==="texture2d"||Ir==="textureCube"?dn=le(function(Pr){return Pr.link(Mn)}):(Ir==="framebuffer"||Ir==="framebufferCube")&&(dn=le(function(Pr){return Pr.link(Mn.color[0])}))}else S(Mn)&&(dn=le(function(Pr){return Pr.global.def("[",s(Mn.length,function(Br){return Mn[Br]}),"]")}));dn.value=Mn,hn[In]=dn}),Object.keys(fn).forEach(function(In){var Mn=fn[In];hn[In]=te(Mn,function(dn,Ir){return dn.invoke(Ir,Mn)})}),hn}function pr(Yt,wr){var rn=Yt.static,fn=Yt.dynamic,hn={};return Object.keys(rn).forEach(function(In){var Mn=rn[In],dn=Zt.id(In),Ir=new jn;if(Z(Mn))Ir.state=1,Ir.buffer=ur.getBuffer(ur.create(Mn,34962,!1,!0)),Ir.type=0;else{var Pr=ur.getBuffer(Mn);if(Pr)Ir.state=1,Ir.buffer=Pr,Ir.type=0;else if("constant"in Mn){var Br=Mn.constant;Ir.buffer="null",Ir.state=2,typeof Br=="number"?Ir.x=Br:vt.forEach(function(ia,ca){ca<Br.length&&(Ir[ia]=Br[ca])})}else{var Pr=Z(Mn.buffer)?ur.getBuffer(ur.create(Mn.buffer,34962,!1,!0)):ur.getBuffer(Mn.buffer),pn=Mn.offset|0,zn=Mn.stride|0,Xn=Mn.size|0,bn=!!Mn.normalized,Un=0;"type"in Mn&&(Un=Ne[Mn.type]),Mn=Mn.divisor|0,Ir.buffer=Pr,Ir.state=1,Ir.size=Xn,Ir.normalized=bn,Ir.type=Un||Pr.dtype,Ir.offset=pn,Ir.stride=zn,Ir.divisor=Mn}}hn[In]=le(function(ia,ca){var ua=ia.attribCache;if(dn in ua)return ua[dn];var fa={isStream:!1};return Object.keys(Ir).forEach(function(ya){fa[ya]=Ir[ya]}),Ir.buffer&&(fa.buffer=ia.link(Ir.buffer),fa.type=fa.type||fa.buffer+".dtype"),ua[dn]=fa})}),Object.keys(fn).forEach(function(In){var Mn=fn[In];hn[In]=te(Mn,function(dn,Ir){function Pr(ua){Ir(bn[ua],"=",Br,".",ua,"|0;")}var Br=dn.invoke(Ir,Mn),Xn=dn.shared,pn=dn.constants,zn=Xn.isBufferArgs,Xn=Xn.buffer,bn={isStream:Ir.def(!1)},Un=new jn;Un.state=1,Object.keys(Un).forEach(function(ua){bn[ua]=Ir.def(""+Un[ua])});var ia=bn.buffer,ca=bn.type;return Ir("if(",zn,"(",Br,")){",bn.isStream,"=true;",ia,"=",Xn,".createStream(",34962,",",Br,");",ca,"=",ia,".dtype;","}else{",ia,"=",Xn,".getBuffer(",Br,");","if(",ia,"){",ca,"=",ia,".dtype;",'}else if("constant" in ',Br,"){",bn.state,"=",2,";","if(typeof "+Br+'.constant === "number"){',bn[vt[0]],"=",Br,".constant;",vt.slice(1).map(function(ua){return bn[ua]}).join("="),"=0;","}else{",vt.map(function(ua,fa){return bn[ua]+"="+Br+".constant.length>"+fa+"?"+Br+".constant["+fa+"]:0;"}).join(""),"}}else{","if(",zn,"(",Br,".buffer)){",ia,"=",Xn,".createStream(",34962,",",Br,".buffer);","}else{",ia,"=",Xn,".getBuffer(",Br,".buffer);","}",ca,'="type" in ',Br,"?",pn.glTypes,"[",Br,".type]:",ia,".dtype;",bn.normalized,"=!!",Br,".normalized;"),Pr("size"),Pr("offset"),Pr("stride"),Pr("divisor"),Ir("}}"),Ir.exit("if(",bn.isStream,"){",Xn,".destroyStream(",ia,");","}"),bn})}),hn}function vr(Yt){var wr=Yt.static,rn=Yt.dynamic,fn={};return Object.keys(wr).forEach(function(hn){var In=wr[hn];fn[hn]=le(function(Mn,dn){return typeof In=="number"||typeof In=="boolean"?""+In:Mn.link(In)})}),Object.keys(rn).forEach(function(hn){var In=rn[hn];fn[hn]=te(In,function(Mn,dn){return Mn.invoke(dn,In)})}),fn}function Gr(Yt,wr,rn,fn,hn){function In(Un){var ia=dn[Un];ia&&(Pr[Un]=ia)}var Mn=or(Yt,wr),zn=jt(Yt),dn=tr(Yt,zn),Ir=_t(Yt),Pr=hr(Yt),Br=rr(Yt,hn,Mn);In("viewport"),In(dr("scissor.box"));var pn=0<Object.keys(Pr).length,zn={framebuffer:zn,draw:Ir,shader:Br,state:Pr,dirty:pn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(zn.profile=kt(Yt),zn.uniforms=gr(rn),zn.drawVAO=zn.scopeVAO=Ir.vao,!zn.drawVAO&&Br.program&&!Mn&&$t.angle_instanced_arrays&&Ir.static.elements){var Xn=!0;if(Yt=Br.program.attributes.map(function(Un){return Un=wr.static[Un],Xn=Xn&&!!Un,Un}),Xn&&0<Yt.length){var bn=Dt.getVAO(Dt.createVAO({attributes:Yt,elements:Ir.static.elements}));zn.drawVAO=new K(null,null,null,function(Un,ia){return Un.link(bn)}),zn.useVAO=!0}}return Mn?zn.useVAO=!0:zn.attributes=pr(wr),zn.context=vr(fn),zn}function Fr(Yt,wr,rn){var fn=Yt.shared.context,hn=Yt.scope();Object.keys(rn).forEach(function(In){wr.save(fn,"."+In);var Mn=rn[In].append(Yt,wr);Array.isArray(Mn)?hn(fn,".",In,"=[",Mn.join(),"];"):hn(fn,".",In,"=",Mn,";")}),wr(hn)}function _r(Yt,wr,rn,fn){var dn=Yt.shared,hn=dn.gl,In=dn.framebuffer,Mn;ln&&(Mn=wr.def(dn.extensions,".webgl_draw_buffers"));var Ir=Yt.constants,dn=Ir.drawBuffer,Ir=Ir.backBuffer;Yt=rn?rn.append(Yt,wr):wr.def(In,".next"),fn||wr("if(",Yt,"!==",In,".cur){"),wr("if(",Yt,"){",hn,".bindFramebuffer(",36160,",",Yt,".framebuffer);"),ln&&wr(Mn,".drawBuffersWEBGL(",dn,"[",Yt,".colorAttachments.length]);"),wr("}else{",hn,".bindFramebuffer(",36160,",null);"),ln&&wr(Mn,".drawBuffersWEBGL(",Ir,");"),wr("}",In,".cur=",Yt,";"),fn||wr("}")}function gn(Yt,wr,rn){var fn=Yt.shared,hn=fn.gl,In=Yt.current,Mn=Yt.next,dn=fn.current,Ir=fn.next,Pr=Yt.cond(dn,".dirty");En.forEach(function(Br){if(Br=dr(Br),!(Br in rn.state)){var pn,zn;if(Br in Mn){pn=Mn[Br],zn=In[Br];var Xn=s(mn[Br].length,function(bn){return Pr.def(pn,"[",bn,"]")});Pr(Yt.cond(Xn.map(function(bn,Un){return bn+"!=="+zn+"["+Un+"]"}).join("||")).then(hn,".",Nn[Br],"(",Xn,");",Xn.map(function(bn,Un){return zn+"["+Un+"]="+bn}).join(";"),";"))}else pn=Pr.def(Ir,".",Br),Xn=Yt.cond(pn,"!==",dn,".",Br),Pr(Xn),Br in Cn?Xn(Yt.cond(pn).then(hn,".enable(",Cn[Br],");").else(hn,".disable(",Cn[Br],");"),dn,".",Br,"=",pn,";"):Xn(hn,".",Nn[Br],"(",pn,");",dn,".",Br,"=",pn,";")}}),Object.keys(rn.state).length===0&&Pr(dn,".dirty=false;"),wr(Pr)}function tn(Yt,wr,rn,fn){var hn=Yt.shared,In=Yt.current,Mn=hn.current,dn=hn.gl,Ir;$(Object.keys(rn)).forEach(function(Pr){var Br=rn[Pr];if(!fn||fn(Br)){var pn=Br.append(Yt,wr);if(Cn[Pr]){var zn=Cn[Pr];re(Br)?(Ir=Yt.link(pn,{stable:!0}),wr(Yt.cond(Ir).then(dn,".enable(",zn,");").else(dn,".disable(",zn,");")),wr(Mn,".",Pr,"=",Ir,";")):(wr(Yt.cond(pn).then(dn,".enable(",zn,");").else(dn,".disable(",zn,");")),wr(Mn,".",Pr,"=",pn,";"))}else if(S(pn)){var Xn=In[Pr];wr(dn,".",Nn[Pr],"(",pn,");",pn.map(function(bn,Un){return Xn+"["+Un+"]="+bn}).join(";"),";")}else re(Br)?(Ir=Yt.link(pn,{stable:!0}),wr(dn,".",Nn[Pr],"(",Ir,");",Mn,".",Pr,"=",Ir,";")):wr(dn,".",Nn[Pr],"(",pn,");",Mn,".",Pr,"=",pn,";")}})}function Bn(Yt,wr){Tr&&(Yt.instancing=wr.def(Yt.shared.extensions,".angle_instanced_arrays"))}function An(Yt,wr,rn,fn,hn){function In(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Mn(Un){Xn=wr.def(),Un(Xn,"=",In(),";"),typeof hn=="string"?Un(Br,".count+=",hn,";"):Un(Br,".count++;"),Xt&&(fn?(bn=wr.def(),Un(bn,"=",zn,".getNumPendingQueries();")):Un(zn,".beginQuery(",Br,");"))}function dn(Un){Un(Br,".cpuTime+=",In(),"-",Xn,";"),Xt&&(fn?Un(zn,".pushScopeStats(",bn,",",zn,".getNumPendingQueries(),",Br,");"):Un(zn,".endQuery();"))}function Ir(Un){var ia=wr.def(pn,".profile");wr(pn,".profile=",Un,";"),wr.exit(pn,".profile=",ia,";")}var Pr=Yt.shared,Br=Yt.stats,pn=Pr.current,zn=Pr.timer;rn=rn.profile;var Xn,bn;if(rn){if(re(rn)){rn.enable?(Mn(wr),dn(wr.exit),Ir("true")):Ir("false");return}rn=rn.append(Yt,wr),Ir(rn)}else rn=wr.def(pn,".profile");Pr=Yt.block(),Mn(Pr),wr("if(",rn,"){",Pr,"}"),Yt=Yt.block(),dn(Yt),wr.exit("if(",rn,"){",Yt,"}")}function Mr(Yt,wr,rn,fn,hn){function In(Ir){switch(Ir){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function Mn(Ir,Pr,Br){function pn(){wr("if(!",Un,".buffer){",Xn,".enableVertexAttribArray(",bn,");}");var fa=Br.type,ya;ya=Br.size?wr.def(Br.size,"||",Pr):Pr,wr("if(",Un,".type!==",fa,"||",Un,".size!==",ya,"||",ua.map(function(fo){return Un+"."+fo+"!=="+Br[fo]}).join("||"),"){",Xn,".bindBuffer(",34962,",",ia,".buffer);",Xn,".vertexAttribPointer(",[bn,ya,fa,Br.normalized,Br.stride,Br.offset],");",Un,".type=",fa,";",Un,".size=",ya,";",ua.map(function(fo){return Un+"."+fo+"="+Br[fo]+";"}).join(""),"}"),Tr&&(fa=Br.divisor,wr("if(",Un,".divisor!==",fa,"){",Yt.instancing,".vertexAttribDivisorANGLE(",[bn,fa],");",Un,".divisor=",fa,";}"))}function zn(){wr("if(",Un,".buffer){",Xn,".disableVertexAttribArray(",bn,");",Un,".buffer=null;","}if(",vt.map(function(fa,ya){return Un+"."+fa+"!=="+ca[ya]}).join("||"),"){",Xn,".vertexAttrib4f(",bn,",",ca,");",vt.map(function(fa,ya){return Un+"."+fa+"="+ca[ya]+";"}).join(""),"}")}var Xn=dn.gl,bn=wr.def(Ir,".location"),Un=wr.def(dn.attributes,"[",bn,"]");Ir=Br.state;var ia=Br.buffer,ca=[Br.x,Br.y,Br.z,Br.w],ua=["buffer","normalized","offset","stride"];Ir===1?pn():Ir===2?zn():(wr("if(",Ir,"===",1,"){"),pn(),wr("}else{"),zn(),wr("}"))}var dn=Yt.shared;fn.forEach(function(Ir){var Pr=Ir.name,Br=rn.attributes[Pr],pn;if(Br){if(!hn(Br))return;pn=Br.append(Yt,wr)}else{if(!hn(Kt))return;var zn=Yt.scopeAttrib(Pr);pn={},Object.keys(new jn).forEach(function(Xn){pn[Xn]=wr.def(zn,".",Xn)})}Mn(Yt.link(Ir),In(Ir.info.type),pn)})}function Cr(Yt,wr,rn,fn,hn,In){for(var Mn=Yt.shared,dn=Mn.gl,Ir,Pr=0;Pr<fn.length;++Pr){var Xn=fn[Pr],Br=Xn.name,pn=Xn.info.type,zn=rn.uniforms[Br],Xn=Yt.link(Xn)+".location",bn;if(zn){if(!hn(zn))continue;if(re(zn)){if(Br=zn.value,pn===35678||pn===35680)pn=Yt.link(Br._texture||Br.color[0]._texture),wr(dn,".uniform1i(",Xn,",",pn+".bind());"),wr.exit(pn,".unbind();");else if(pn===35674||pn===35675||pn===35676)Br=Yt.global.def("new Float32Array(["+Array.prototype.slice.call(Br)+"])"),zn=2,pn===35675?zn=3:pn===35676&&(zn=4),wr(dn,".uniformMatrix",zn,"fv(",Xn,",false,",Br,");");else{switch(pn){case 5126:Ir="1f";break;case 35664:Ir="2f";break;case 35665:Ir="3f";break;case 35666:Ir="4f";break;case 35670:Ir="1i";break;case 5124:Ir="1i";break;case 35671:Ir="2i";break;case 35667:Ir="2i";break;case 35672:Ir="3i";break;case 35668:Ir="3i";break;case 35673:Ir="4i";break;case 35669:Ir="4i"}wr(dn,".uniform",Ir,"(",Xn,",",S(Br)?Array.prototype.slice.call(Br):Br,");")}continue}else bn=zn.append(Yt,wr)}else{if(!hn(Kt))continue;bn=wr.def(Mn.uniforms,"[",Zt.id(Br),"]")}switch(pn===35678?wr("if(",bn,"&&",bn,'._reglType==="framebuffer"){',bn,"=",bn,".color[0];","}"):pn===35680&&wr("if(",bn,"&&",bn,'._reglType==="framebufferCube"){',bn,"=",bn,".color[0];","}"),Br=1,pn){case 35678:case 35680:pn=wr.def(bn,"._texture"),wr(dn,".uniform1i(",Xn,",",pn,".bind());"),wr.exit(pn,".unbind();");continue;case 5124:case 35670:Ir="1i";break;case 35667:case 35671:Ir="2i",Br=2;break;case 35668:case 35672:Ir="3i",Br=3;break;case 35669:case 35673:Ir="4i",Br=4;break;case 5126:Ir="1f";break;case 35664:Ir="2f",Br=2;break;case 35665:Ir="3f",Br=3;break;case 35666:Ir="4f",Br=4;break;case 35674:Ir="Matrix2fv";break;case 35675:Ir="Matrix3fv";break;case 35676:Ir="Matrix4fv"}if(Ir.charAt(0)==="M"){wr(dn,".uniform",Ir,"(",Xn,",");var Xn=Math.pow(pn-35674+2,2),Un=Yt.global.def("new Float32Array(",Xn,")");Array.isArray(bn)?wr("false,(",s(Xn,function(ua){return Un+"["+ua+"]="+bn[ua]}),",",Un,")"):wr("false,(Array.isArray(",bn,")||",bn," instanceof Float32Array)?",bn,":(",s(Xn,function(ua){return Un+"["+ua+"]="+bn+"["+ua+"]"}),",",Un,")"),wr(");")}else{if(1<Br){for(var pn=[],ia=[],zn=0;zn<Br;++zn)Array.isArray(bn)?ia.push(bn[zn]):ia.push(wr.def(bn+"["+zn+"]")),In&&pn.push(wr.def());In&&wr("if(!",Yt.batchId,"||",pn.map(function(ca,ua){return ca+"!=="+ia[ua]}).join("||"),"){",pn.map(function(ca,ua){return ca+"="+ia[ua]+";"}).join("")),wr(dn,".uniform",Ir,"(",Xn,",",ia.join(","),");")}else In&&(pn=wr.def(),wr("if(!",Yt.batchId,"||",pn,"!==",bn,"){",pn,"=",bn,";")),wr(dn,".uniform",Ir,"(",Xn,",",bn,");");In&&wr("}")}}}function jr(Yt,wr,rn,fn){function hn(fa){var ya=Br[fa];return ya?ya.contextDep&&fn.contextDynamic||ya.propDep?ya.append(Yt,rn):ya.append(Yt,wr):wr.def(Pr,".",fa)}function In(){function fa(){rn(ia,".drawElementsInstancedANGLE(",[zn,bn,ca,Xn+"<<(("+ca+"-5121)>>1)",Un],");")}function ya(){rn(ia,".drawArraysInstancedANGLE(",[zn,Xn,bn,Un],");")}pn&&pn!=="null"?ua?fa():(rn("if(",pn,"){"),fa(),rn("}else{"),ya(),rn("}")):ya()}function Mn(){function fa(){rn(Ir+".drawElements("+[zn,bn,ca,Xn+"<<(("+ca+"-5121)>>1)"]+");")}function ya(){rn(Ir+".drawArrays("+[zn,Xn,bn]+");")}pn&&pn!=="null"?ua?fa():(rn("if(",pn,"){"),fa(),rn("}else{"),ya(),rn("}")):ya()}var dn=Yt.shared,Ir=dn.gl,Pr=dn.draw,Br=fn.draw,pn=function(){var fa=Br.elements,ya=wr;return fa?((fa.contextDep&&fn.contextDynamic||fa.propDep)&&(ya=rn),fa=fa.append(Yt,ya),Br.elementsActive&&ya("if("+fa+")"+Ir+".bindBuffer(34963,"+fa+".buffer.buffer);")):(fa=ya.def(),ya(fa,"=",Pr,".","elements",";","if(",fa,"){",Ir,".bindBuffer(",34963,",",fa,".buffer.buffer);}","else if(",dn.vao,".currentVAO){",fa,"=",Yt.shared.elements+".getElements("+dn.vao,".currentVAO.elements);",nn?"":"if("+fa+")"+Ir+".bindBuffer(34963,"+fa+".buffer.buffer);","}")),fa}(),zn=hn("primitive"),Xn=hn("offset"),bn=function(){var fa=Br.count,ya=wr;return fa?((fa.contextDep&&fn.contextDynamic||fa.propDep)&&(ya=rn),fa=fa.append(Yt,ya)):fa=ya.def(Pr,".","count"),fa}();if(typeof bn=="number"){if(bn===0)return}else rn("if(",bn,"){"),rn.exit("}");var Un,ia;Tr&&(Un=hn("instances"),ia=Yt.instancing);var ca=pn+".type",ua=Br.elements&&re(Br.elements)&&!Br.vaoActive;Tr&&(typeof Un!="number"||0<=Un)?typeof Un=="string"?(rn("if(",Un,">0){"),In(),rn("}else if(",Un,"<0){"),Mn(),rn("}")):In():Mn()}function Hr(Yt,wr,rn,fn,hn){return wr=It(),hn=wr.proc("body",hn),Tr&&(wr.instancing=hn.def(wr.shared.extensions,".angle_instanced_arrays")),Yt(wr,hn,rn,fn),wr.compile().body}function on(Yt,wr,rn,fn){Bn(Yt,wr),rn.useVAO?rn.drawVAO?wr(Yt.shared.vao,".setVAO(",rn.drawVAO.append(Yt,wr),");"):wr(Yt.shared.vao,".setVAO(",Yt.shared.vao,".targetVAO);"):(wr(Yt.shared.vao,".setVAO(null);"),Mr(Yt,wr,rn,fn.attributes,function(){return!0})),Cr(Yt,wr,rn,fn.uniforms,function(){return!0},!1),jr(Yt,wr,wr,rn)}function yn(Yt,wr){var rn=Yt.proc("draw",1);Bn(Yt,rn),Fr(Yt,rn,wr.context),_r(Yt,rn,wr.framebuffer),gn(Yt,rn,wr),tn(Yt,rn,wr.state),An(Yt,rn,wr,!1,!0);var fn=wr.shader.progVar.append(Yt,rn);if(rn(Yt.shared.gl,".useProgram(",fn,".program);"),wr.shader.program)on(Yt,rn,wr,wr.shader.program);else{rn(Yt.shared.vao,".setVAO(null);");var hn=Yt.global.def("{}"),In=rn.def(fn,".id"),Mn=rn.def(hn,"[",In,"]");rn(Yt.cond(Mn).then(Mn,".call(this,a0);").else(Mn,"=",hn,"[",In,"]=",Yt.link(function(dn){return Hr(on,Yt,wr,dn,1)}),"(",fn,");",Mn,".call(this,a0);"))}0<Object.keys(wr.state).length&&rn(Yt.shared.current,".dirty=true;"),Yt.shared.vao&&rn(Yt.shared.vao,".setVAO(null);")}function xn(Yt,wr,rn,fn){function hn(){return!0}Yt.batchId="a1",Bn(Yt,wr),Mr(Yt,wr,rn,fn.attributes,hn),Cr(Yt,wr,rn,fn.uniforms,hn,!1),jr(Yt,wr,wr,rn)}function Rn(Yt,wr,rn,fn){function hn(pn){return pn.contextDep&&Mn||pn.propDep}function In(pn){return!hn(pn)}Bn(Yt,wr);var Mn=rn.contextDep,dn=wr.def(),Ir=wr.def();Yt.shared.props=Ir,Yt.batchId=dn;var Pr=Yt.scope(),Br=Yt.scope();wr(Pr.entry,"for(",dn,"=0;",dn,"<","a1",";++",dn,"){",Ir,"=","a0","[",dn,"];",Br,"}",Pr.exit),rn.needsContext&&Fr(Yt,Br,rn.context),rn.needsFramebuffer&&_r(Yt,Br,rn.framebuffer),tn(Yt,Br,rn.state,hn),rn.profile&&hn(rn.profile)&&An(Yt,Br,rn,!1,!0),fn?(rn.useVAO?rn.drawVAO?hn(rn.drawVAO)?Br(Yt.shared.vao,".setVAO(",rn.drawVAO.append(Yt,Br),");"):Pr(Yt.shared.vao,".setVAO(",rn.drawVAO.append(Yt,Pr),");"):Pr(Yt.shared.vao,".setVAO(",Yt.shared.vao,".targetVAO);"):(Pr(Yt.shared.vao,".setVAO(null);"),Mr(Yt,Pr,rn,fn.attributes,In),Mr(Yt,Br,rn,fn.attributes,hn)),Cr(Yt,Pr,rn,fn.uniforms,In,!1),Cr(Yt,Br,rn,fn.uniforms,hn,!0),jr(Yt,Pr,Br,rn)):(wr=Yt.global.def("{}"),fn=rn.shader.progVar.append(Yt,Br),Ir=Br.def(fn,".id"),Pr=Br.def(wr,"[",Ir,"]"),Br(Yt.shared.gl,".useProgram(",fn,".program);","if(!",Pr,"){",Pr,"=",wr,"[",Ir,"]=",Yt.link(function(pn){return Hr(xn,Yt,rn,pn,2)}),"(",fn,");}",Pr,".call(this,a0[",dn,"],",dn,");"))}function _n(Yt,wr){function rn(Pr){return Pr.contextDep&&hn||Pr.propDep}var fn=Yt.proc("batch",2);Yt.batchId="0",Bn(Yt,fn);var hn=!1,In=!0;Object.keys(wr.context).forEach(function(Pr){hn=hn||wr.context[Pr].propDep}),hn||(Fr(Yt,fn,wr.context),In=!1);var Mn=wr.framebuffer,dn=!1;if(Mn?(Mn.propDep?hn=dn=!0:Mn.contextDep&&hn&&(dn=!0),dn||_r(Yt,fn,Mn)):_r(Yt,fn,null),wr.state.viewport&&wr.state.viewport.propDep&&(hn=!0),gn(Yt,fn,wr),tn(Yt,fn,wr.state,function(Pr){return!rn(Pr)}),wr.profile&&rn(wr.profile)||An(Yt,fn,wr,!1,"a1"),wr.contextDep=hn,wr.needsContext=In,wr.needsFramebuffer=dn,In=wr.shader.progVar,In.contextDep&&hn||In.propDep)Rn(Yt,fn,wr,null);else if(In=In.append(Yt,fn),fn(Yt.shared.gl,".useProgram(",In,".program);"),wr.shader.program)Rn(Yt,fn,wr,wr.shader.program);else{fn(Yt.shared.vao,".setVAO(null);");var Mn=Yt.global.def("{}"),dn=fn.def(In,".id"),Ir=fn.def(Mn,"[",dn,"]");fn(Yt.cond(Ir).then(Ir,".call(this,a0,a1);").else(Ir,"=",Mn,"[",dn,"]=",Yt.link(function(pn){return Hr(Rn,Yt,wr,pn,2)}),"(",In,");",Ir,".call(this,a0,a1);"))}0<Object.keys(wr.state).length&&fn(Yt.shared.current,".dirty=true;"),Yt.shared.vao&&fn(Yt.shared.vao,".setVAO(null);")}function sa(Yt,wr){function rn(dn){var Ir=wr.shader[dn];Ir&&(Ir=Ir.append(Yt,fn),isNaN(Ir)?fn.set(hn.shader,"."+dn,Ir):fn.set(hn.shader,"."+dn,Yt.link(Ir,{stable:!0})))}var fn=Yt.proc("scope",3);Yt.batchId="a2";var hn=Yt.shared,In=hn.current;if(Fr(Yt,fn,wr.context),wr.framebuffer&&wr.framebuffer.append(Yt,fn),$(Object.keys(wr.state)).forEach(function(dn){var Ir=wr.state[dn],Pr=Ir.append(Yt,fn);S(Pr)?Pr.forEach(function(Br,pn){isNaN(Br)?fn.set(Yt.next[dn],"["+pn+"]",Br):fn.set(Yt.next[dn],"["+pn+"]",Yt.link(Br,{stable:!0}))}):re(Ir)?fn.set(hn.next,"."+dn,Yt.link(Pr,{stable:!0})):fn.set(hn.next,"."+dn,Pr)}),An(Yt,fn,wr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(dn){var Ir=wr.draw[dn];Ir&&(Ir=Ir.append(Yt,fn),isNaN(Ir)?fn.set(hn.draw,"."+dn,Ir):fn.set(hn.draw,"."+dn,Yt.link(Ir),{stable:!0}))}),Object.keys(wr.uniforms).forEach(function(dn){var Ir=wr.uniforms[dn].append(Yt,fn);Array.isArray(Ir)&&(Ir="["+Ir.map(function(Pr){return isNaN(Pr)?Pr:Yt.link(Pr,{stable:!0})})+"]"),fn.set(hn.uniforms,"["+Yt.link(Zt.id(dn),{stable:!0})+"]",Ir)}),Object.keys(wr.attributes).forEach(function(dn){var Ir=wr.attributes[dn].append(Yt,fn),Pr=Yt.scopeAttrib(dn);Object.keys(new jn).forEach(function(Br){fn.set(Pr,"."+Br,Ir[Br])})}),wr.scopeVAO){var Mn=wr.scopeVAO.append(Yt,fn);isNaN(Mn)?fn.set(hn.vao,".targetVAO",Mn):fn.set(hn.vao,".targetVAO",Yt.link(Mn,{stable:!0}))}rn("vert"),rn("frag"),0<Object.keys(wr.state).length&&(fn(In,".dirty=true;"),fn.exit(In,".dirty=true;")),fn("a1(",Yt.shared.context,",a0,",Yt.batchId,");")}function Zn(Yt){if(typeof Yt=="object"&&!S(Yt)){for(var wr=Object.keys(Yt),rn=0;rn<wr.length;++rn)if(be.isDynamic(Yt[wr[rn]]))return!0;return!1}}function qn(Yt,wr,rn){function fn(pn,zn){Mn.forEach(function(Xn){var bn=hn[Xn];be.isDynamic(bn)&&(bn=pn.invoke(zn,bn),zn(Br,".",Xn,"=",bn,";"))})}var hn=wr.static[rn];if(hn&&Zn(hn)){var In=Yt.global,Mn=Object.keys(hn),dn=!1,Ir=!1,Pr=!1,Br=Yt.global.def("{}");Mn.forEach(function(pn){var zn=hn[pn];if(be.isDynamic(zn))typeof zn=="function"&&(zn=hn[pn]=be.unbox(zn)),pn=te(zn,null),dn=dn||pn.thisDep,Pr=Pr||pn.propDep,Ir=Ir||pn.contextDep;else{switch(In(Br,".",pn,"="),typeof zn){case"number":In(zn);break;case"string":In('"',zn,'"');break;case"object":Array.isArray(zn)&&In("[",zn.join(),"]");break;default:In(Yt.link(zn))}In(";")}}),wr.dynamic[rn]=new be.DynamicVariable(4,{thisDep:dn,contextDep:Ir,propDep:Pr,ref:Br,append:fn}),delete wr.static[rn]}}var jn=Dt.Record,Qn={add:32774,subtract:32778,"reverse subtract":32779};$t.ext_blend_minmax&&(Qn.min=32775,Qn.max=32776);var Tr=$t.angle_instanced_arrays,ln=$t.webgl_draw_buffers,nn=$t.oes_vertex_array_object,mn={dirty:!0,profile:sr.profile},Vn={},En=[],Cn={},Nn={};Ye("dither",3024),Ye("blend.enable",3042),je("blend.color","blendColor",[0,0,0,0]),je("blend.equation","blendEquationSeparate",[32774,32774]),je("blend.func","blendFuncSeparate",[1,0,1,0]),Ye("depth.enable",2929,!0),je("depth.func","depthFunc",513),je("depth.range","depthRange",[0,1]),je("depth.mask","depthMask",!0),je("colorMask","colorMask",[!0,!0,!0,!0]),Ye("cull.enable",2884),je("cull.face","cullFace",1029),je("frontFace","frontFace",2305),je("lineWidth","lineWidth",1),Ye("polygonOffset.enable",32823),je("polygonOffset.offset","polygonOffset",[0,0]),Ye("sample.alpha",32926),Ye("sample.enable",32928),je("sample.coverage","sampleCoverage",[1,!1]),Ye("stencil.enable",2960),je("stencil.mask","stencilMask",-1),je("stencil.func","stencilFunc",[519,0,-1]),je("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),je("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ye("scissor.enable",3089),je("scissor.box","scissor",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]),je("viewport","viewport",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]);var ta={gl:yt,context:Nt,strings:Zt,next:Vn,current:mn,draw:Bt,elements:pt,buffer:ur,shader:Rt,attributes:Dt.state,vao:Dt,uniforms:St,framebuffer:xt,extensions:$t,timer:Xt,isBufferArgs:Z},wa={primTypes:tt,compareFuncs:qt,blendFuncs:Wt,blendEquations:Qn,stencilOps:At,glTypes:Ne,orientationType:zt};ln&&(wa.backBuffer=[1029],wa.drawBuffer=s(mr.maxDrawbuffers,function(Yt){return Yt===0?[0]:s(Yt,function(wr){return 36064+wr})}));var Ka=0;return{next:Vn,current:mn,procs:function(){var Yt=It(),wr=Yt.proc("poll"),rn=Yt.proc("refresh"),fn=Yt.block();wr(fn),rn(fn);var Ir=Yt.shared,hn=Ir.gl,In=Ir.next,Mn=Ir.current;fn(Mn,".dirty=false;"),_r(Yt,wr),_r(Yt,rn,null,!0);var dn;Tr&&(dn=Yt.link(Tr)),$t.oes_vertex_array_object&&rn(Yt.link($t.oes_vertex_array_object),".bindVertexArrayOES(null);");var Ir=rn.def(Ir.attributes),Pr=rn.def(0),Br=Yt.cond(Pr,".buffer");Br.then(hn,".enableVertexAttribArray(i);",hn,".bindBuffer(",34962,",",Pr,".buffer.buffer);",hn,".vertexAttribPointer(i,",Pr,".size,",Pr,".type,",Pr,".normalized,",Pr,".stride,",Pr,".offset);").else(hn,".disableVertexAttribArray(i);",hn,".vertexAttrib4f(i,",Pr,".x,",Pr,".y,",Pr,".z,",Pr,".w);",Pr,".buffer=null;");var pn=Yt.link(mr.maxAttributes,{stable:!0});return rn("for(var i=0;i<",pn,";++i){",Pr,"=",Ir,"[i];",Br,"}"),Tr&&rn("for(var i=0;i<",pn,";++i){",dn,".vertexAttribDivisorANGLE(i,",Ir,"[i].divisor);","}"),rn(Yt.shared.vao,".currentVAO=null;",Yt.shared.vao,".setVAO(",Yt.shared.vao,".targetVAO);"),Object.keys(Cn).forEach(function(zn){var Xn=Cn[zn],bn=fn.def(In,".",zn),Un=Yt.block();Un("if(",bn,"){",hn,".enable(",Xn,")}else{",hn,".disable(",Xn,")}",Mn,".",zn,"=",bn,";"),rn(Un),wr("if(",bn,"!==",Mn,".",zn,"){",Un,"}")}),Object.keys(Nn).forEach(function(zn){var Xn=Nn[zn],bn=mn[zn],Un,ia,ca=Yt.block();ca(hn,".",Xn,"("),S(bn)?(Xn=bn.length,Un=Yt.global.def(In,".",zn),ia=Yt.global.def(Mn,".",zn),ca(s(Xn,function(ua){return Un+"["+ua+"]"}),");",s(Xn,function(ua){return ia+"["+ua+"]="+Un+"["+ua+"];"}).join("")),wr("if(",s(Xn,function(ua){return Un+"["+ua+"]!=="+ia+"["+ua+"]"}).join("||"),"){",ca,"}")):(Un=fn.def(In,".",zn),ia=fn.def(Mn,".",zn),ca(Un,");",Mn,".",zn,"=",Un,";"),wr("if(",Un,"!==",ia,"){",ca,"}")),rn(ca)}),Yt.compile()}(),compile:function(Yt,wr,rn,fn,hn){var In=It();In.stats=In.link(hn),Object.keys(wr.static).forEach(function(dn){qn(In,wr,dn)}),bt.forEach(function(dn){qn(In,Yt,dn)});var Mn=Gr(Yt,wr,rn,fn,In);return Mn.shader.program&&(Mn.shader.program.attributes.sort(function(dn,Ir){return dn.name<Ir.name?-1:1}),Mn.shader.program.uniforms.sort(function(dn,Ir){return dn.name<Ir.name?-1:1})),yn(In,Mn),sa(In,Mn),_n(In,Mn),se(In.compile(),{destroy:function(){Mn.shader.program.destroy()}})}}}function ue(yt,Zt){for(var $t=0;$t<yt.length;++$t)if(yt[$t]===Zt)return $t;return-1}var se=function(yt,Zt){for(var $t=Object.keys(Zt),mr=0;mr<$t.length;++mr)yt[$t[mr]]=Zt[$t[mr]];return yt},ve=0,be={DynamicVariable:N,define:function(yt,Zt){return new N(yt,p(Zt+""))},isDynamic:function(yt){return typeof yt=="function"&&!yt._reglType||yt instanceof N},unbox:L,accessor:p},Ee={next:typeof requestAnimationFrame=="function"?function(yt){return requestAnimationFrame(yt)}:function(yt){return setTimeout(yt,16)},cancel:typeof cancelAnimationFrame=="function"?function(yt){return cancelAnimationFrame(yt)}:clearTimeout},Ae=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Oe=l();Oe.zero=l();var Ue=function(yt,Zt){var $t=1;Zt.ext_texture_filter_anisotropic&&($t=yt.getParameter(34047));var mr=1,ur=1;Zt.webgl_draw_buffers&&(mr=yt.getParameter(34852),ur=yt.getParameter(36063));var pt=!!Zt.oes_texture_float;if(pt){pt=yt.createTexture(),yt.bindTexture(3553,pt),yt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var st=yt.createFramebuffer();if(yt.bindFramebuffer(36160,st),yt.framebufferTexture2D(36160,36064,3553,pt,0),yt.bindTexture(3553,null),yt.checkFramebufferStatus(36160)!==36053)pt=!1;else{yt.viewport(0,0,1,1),yt.clearColor(1,0,0,1),yt.clear(16384);var xt=Oe.allocType(5126,4);yt.readPixels(0,0,1,1,6408,5126,xt),yt.getError()?pt=!1:(yt.deleteFramebuffer(st),yt.deleteTexture(pt),pt=xt[0]===1),Oe.freeType(xt)}}return xt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(xt=yt.createTexture(),st=Oe.allocType(5121,36),yt.activeTexture(33984),yt.bindTexture(34067,xt),yt.texImage2D(34069,0,6408,3,3,0,6408,5121,st),Oe.freeType(st),yt.bindTexture(34067,null),yt.deleteTexture(xt),xt=!yt.getError()),{colorBits:[yt.getParameter(3410),yt.getParameter(3411),yt.getParameter(3412),yt.getParameter(3413)],depthBits:yt.getParameter(3414),stencilBits:yt.getParameter(3415),subpixelBits:yt.getParameter(3408),extensions:Object.keys(Zt).filter(function(St){return!!Zt[St]}),maxAnisotropic:$t,maxDrawbuffers:mr,maxColorAttachments:ur,pointSizeDims:yt.getParameter(33901),lineWidthDims:yt.getParameter(33902),maxViewportDims:yt.getParameter(3386),maxCombinedTextureUnits:yt.getParameter(35661),maxCubeMapSize:yt.getParameter(34076),maxRenderbufferSize:yt.getParameter(34024),maxTextureUnits:yt.getParameter(34930),maxTextureSize:yt.getParameter(3379),maxAttributes:yt.getParameter(34921),maxVertexUniforms:yt.getParameter(36347),maxVertexTextureUnits:yt.getParameter(35660),maxVaryingVectors:yt.getParameter(36348),maxFragmentUniforms:yt.getParameter(36349),glsl:yt.getParameter(35724),renderer:yt.getParameter(7937),vendor:yt.getParameter(7936),version:yt.getParameter(7938),readFloat:pt,npotTextureCube:xt}},Le=function(yt){return yt instanceof Uint8Array||yt instanceof Uint16Array||yt instanceof Uint32Array||yt instanceof Int8Array||yt instanceof Int16Array||yt instanceof Int32Array||yt instanceof Float32Array||yt instanceof Float64Array||yt instanceof Uint8ClampedArray},we=function(yt){return Object.keys(yt).map(function(Zt){return yt[Zt]})},Ce={shape:function(yt){for(var Zt=[];yt.length;yt=yt[0])Zt.push(yt.length);return Zt},flatten:function(yt,Zt,$t,mr){var ur=1;if(Zt.length)for(var pt=0;pt<Zt.length;++pt)ur*=Zt[pt];else ur=0;switch($t=mr||Oe.allocType($t,ur),Zt.length){case 0:break;case 1:for(mr=Zt[0],Zt=0;Zt<mr;++Zt)$t[Zt]=yt[Zt];break;case 2:for(mr=Zt[0],Zt=Zt[1],pt=ur=0;pt<mr;++pt)for(var st=yt[pt],xt=0;xt<Zt;++xt)$t[ur++]=st[xt];break;case 3:f(yt,Zt[0],Zt[1],Zt[2],$t,0);break;default:m(yt,Zt,0,$t,0)}return $t}},Ve={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ne={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ke={dynamic:35048,stream:35040,static:35044},We=Ce.flatten,rt=Ce.shape,et=[];et[5120]=1,et[5122]=2,et[5124]=4,et[5121]=1,et[5123]=2,et[5125]=4,et[5126]=4;var tt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},at=new Float32Array(1),ct=new Uint32Array(at.buffer),dt=[9984,9986,9985,9987],gt=[0,6409,6410,6407,6408],Et={};Et[6409]=Et[6406]=Et[6402]=1,Et[34041]=Et[6410]=2,Et[6407]=Et[35904]=3,Et[6408]=Et[35906]=4;var Ct=R("HTMLCanvasElement"),Vt=R("OffscreenCanvas"),Je=R("CanvasRenderingContext2D"),_e=R("ImageBitmap"),Fe=R("HTMLImageElement"),Be=R("HTMLVideoElement"),De=Object.keys(Ve).concat([Ct,Vt,Je,_e,Fe,Be]),Te=[];Te[5121]=1,Te[5126]=4,Te[36193]=2,Te[5123]=2,Te[5125]=4;var xe=[];xe[32854]=2,xe[32855]=2,xe[36194]=2,xe[34041]=4,xe[33776]=.5,xe[33777]=.5,xe[33778]=1,xe[33779]=1,xe[35986]=.5,xe[35987]=1,xe[34798]=1,xe[35840]=.5,xe[35841]=.25,xe[35842]=.5,xe[35843]=.25,xe[36196]=.5;var Me=[];Me[32854]=2,Me[32855]=2,Me[36194]=2,Me[33189]=2,Me[36168]=1,Me[34041]=4,Me[35907]=4,Me[34836]=16,Me[34842]=8,Me[34843]=6;var Pe=function(yt,Zt,$t,mr,ur){function pt(Bt){this.id=Dt++,this.refCount=1,this.renderbuffer=Bt,this.format=32854,this.height=this.width=0,ur.profile&&(this.stats={size:0})}function st(Bt){var Nt=Bt.renderbuffer;yt.bindRenderbuffer(36161,null),yt.deleteRenderbuffer(Nt),Bt.renderbuffer=null,Bt.refCount=0,delete Rt[Bt.id],mr.renderbufferCount--}var xt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Zt.ext_srgb&&(xt.srgba=35907),Zt.ext_color_buffer_half_float&&(xt.rgba16f=34842,xt.rgb16f=34843),Zt.webgl_color_buffer_float&&(xt.rgba32f=34836);var St=[];Object.keys(xt).forEach(function(Bt){St[xt[Bt]]=Bt});var Dt=0,Rt={};return pt.prototype.decRef=function(){0>=--this.refCount&&st(this)},ur.profile&&(mr.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Rt).forEach(function(Nt){Bt+=Rt[Nt].stats.size}),Bt}),{create:function(Bt,Nt){function Xt(sr,dr){var Ye=0,je=0,It=32854;if(typeof sr=="object"&&sr?("shape"in sr?(je=sr.shape,Ye=je[0]|0,je=je[1]|0):("radius"in sr&&(Ye=je=sr.radius|0),"width"in sr&&(Ye=sr.width|0),"height"in sr&&(je=sr.height|0)),"format"in sr&&(It=xt[sr.format])):typeof sr=="number"?(Ye=sr|0,je=typeof dr=="number"?dr|0:Ye):sr||(Ye=je=1),Ye!==lr.width||je!==lr.height||It!==lr.format)return Xt.width=lr.width=Ye,Xt.height=lr.height=je,lr.format=It,yt.bindRenderbuffer(36161,lr.renderbuffer),yt.renderbufferStorage(36161,It,Ye,je),ur.profile&&(lr.stats.size=Me[lr.format]*lr.width*lr.height),Xt.format=St[lr.format],Xt}var lr=new pt(yt.createRenderbuffer());return Rt[lr.id]=lr,mr.renderbufferCount++,Xt(Bt,Nt),Xt.resize=function(sr,dr){var Ye=sr|0,je=dr|0||Ye;return Ye===lr.width&&je===lr.height||(Xt.width=lr.width=Ye,Xt.height=lr.height=je,yt.bindRenderbuffer(36161,lr.renderbuffer),yt.renderbufferStorage(36161,lr.format,Ye,je),ur.profile&&(lr.stats.size=Me[lr.format]*lr.width*lr.height)),Xt},Xt._reglType="renderbuffer",Xt._renderbuffer=lr,ur.profile&&(Xt.stats=lr.stats),Xt.destroy=function(){lr.decRef()},Xt},clear:function(){we(Rt).forEach(st)},restore:function(){we(Rt).forEach(function(Bt){Bt.renderbuffer=yt.createRenderbuffer(),yt.bindRenderbuffer(36161,Bt.renderbuffer),yt.renderbufferStorage(36161,Bt.format,Bt.width,Bt.height)}),yt.bindRenderbuffer(36161,null)}}},He=[];He[6408]=4,He[6407]=3;var Ke=[];Ke[5121]=1,Ke[5126]=4,Ke[36193]=2;var qe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],vt=["x","y","z","w"],bt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Wt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},qt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},At={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},zt={cw:2304,ccw:2305},Kt=new K(!1,!1,!1,function(){}),Sr=function(yt,Zt){function $t(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function mr(Rt,Bt,Nt){var Xt=st.pop()||new $t;Xt.startQueryIndex=Rt,Xt.endQueryIndex=Bt,Xt.sum=0,Xt.stats=Nt,xt.push(Xt)}if(!Zt.ext_disjoint_timer_query)return null;var ur=[],pt=[],st=[],xt=[],St=[],Dt=[];return{beginQuery:function(Rt){var Bt=ur.pop()||Zt.ext_disjoint_timer_query.createQueryEXT();Zt.ext_disjoint_timer_query.beginQueryEXT(35007,Bt),pt.push(Bt),mr(pt.length-1,pt.length,Rt)},endQuery:function(){Zt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:mr,update:function(){var Rt,Bt;if(Rt=pt.length,Rt!==0){Dt.length=Math.max(Dt.length,Rt+1),St.length=Math.max(St.length,Rt+1),St[0]=0;var Nt=Dt[0]=0;for(Bt=Rt=0;Bt<pt.length;++Bt){var Xt=pt[Bt];Zt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34919)?(Nt+=Zt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34918),ur.push(Xt)):pt[Rt++]=Xt,St[Bt+1]=Nt,Dt[Bt+1]=Rt}for(pt.length=Rt,Bt=Rt=0;Bt<xt.length;++Bt){var Nt=xt[Bt],lr=Nt.startQueryIndex,Xt=Nt.endQueryIndex;Nt.sum+=St[Xt]-St[lr],lr=Dt[lr],Xt=Dt[Xt],Xt===lr?(Nt.stats.gpuTime+=Nt.sum/1e6,st.push(Nt)):(Nt.startQueryIndex=lr,Nt.endQueryIndex=Xt,xt[Rt++]=Nt)}xt.length=Rt}},getNumPendingQueries:function(){return pt.length},clear:function(){ur.push.apply(ur,pt);for(var Rt=0;Rt<ur.length;Rt++)Zt.ext_disjoint_timer_query.deleteQueryEXT(ur[Rt]);pt.length=0,ur.length=0},restore:function(){pt.length=0,ur.length=0}}};return function(yt){function Zt(){if(An.length===0)It&&It.update(),Hr=null;else{Hr=Ee.next(Zt),Rt();for(var yn=An.length-1;0<=yn;--yn){var xn=An[yn];xn&&xn(tr,null,0)}Xt.flush(),It&&It.update()}}function $t(){!Hr&&0<An.length&&(Hr=Ee.next(Zt))}function mr(){Hr&&(Ee.cancel(Zt),Hr=null)}function ur(yn){yn.preventDefault(),mr(),Mr.forEach(function(xn){xn()})}function pt(yn){Xt.getError(),sr.restore(),pr.restore(),_t.restore(),vr.restore(),Gr.restore(),Fr.restore(),gr.restore(),It&&It.restore(),_r.procs.refresh(),$t(),Cr.forEach(function(xn){xn()})}function st(yn){function xn(mn,Vn){var En={},Cn={};return Object.keys(mn).forEach(function(Nn){var ta=mn[Nn];if(be.isDynamic(ta))Cn[Nn]=be.unbox(ta,Nn);else{if(Vn&&Array.isArray(ta)){for(var wa=0;wa<ta.length;++wa)if(be.isDynamic(ta[wa])){Cn[Nn]=be.unbox(ta,Nn);return}}En[Nn]=ta}}),{dynamic:Cn,static:En}}function Rn(mn){for(;nn.length<mn;)nn.push(null);return nn}var _n=xn(yn.context||{},!0),sa=xn(yn.uniforms||{},!0),Zn=xn(yn.attributes||{},!1);yn=xn(function(mn){function Vn(Cn){if(Cn in En){var Nn=En[Cn];delete En[Cn],Object.keys(Nn).forEach(function(ta){En[Cn+"."+ta]=Nn[ta]})}}var En=se({},mn);return delete En.uniforms,delete En.attributes,delete En.context,delete En.vao,"stencil"in En&&En.stencil.op&&(En.stencil.opBack=En.stencil.opFront=En.stencil.op,delete En.stencil.op),Vn("blend"),Vn("depth"),Vn("cull"),Vn("stencil"),Vn("polygonOffset"),Vn("scissor"),Vn("sample"),"vao"in mn&&(En.vao=mn.vao),En}(yn),!1);var qn={gpuTime:0,cpuTime:0,count:0},jn=_r.compile(yn,Zn,sa,_n,qn),Qn=jn.draw,Tr=jn.batch,ln=jn.scope,nn=[];return se(function(mn,Vn){var En;if(typeof mn=="function")return ln.call(this,null,mn,0);if(typeof Vn=="function")if(typeof mn=="number")for(En=0;En<mn;++En)ln.call(this,null,Vn,En);else if(Array.isArray(mn))for(En=0;En<mn.length;++En)ln.call(this,mn[En],Vn,En);else return ln.call(this,mn,Vn,0);else if(typeof mn=="number"){if(0<mn)return Tr.call(this,Rn(mn|0),mn|0)}else if(Array.isArray(mn)){if(mn.length)return Tr.call(this,mn,mn.length)}else return Qn.call(this,mn)},{stats:qn,destroy:function(){jn.destroy()}})}function xt(yn,xn){var Rn=0;_r.procs.poll();var _n=xn.color;_n&&(Xt.clearColor(+_n[0]||0,+_n[1]||0,+_n[2]||0,+_n[3]||0),Rn|=16384),"depth"in xn&&(Xt.clearDepth(+xn.depth),Rn|=256),"stencil"in xn&&(Xt.clearStencil(xn.stencil|0),Rn|=1024),Xt.clear(Rn)}function St(yn){return An.push(yn),$t(),{cancel:function(){function xn(){var _n=ue(An,xn);An[_n]=An[An.length-1],--An.length,0>=An.length&&mr()}var Rn=ue(An,yn);An[Rn]=xn}}}function Dt(){var yn=tn.viewport,xn=tn.scissor_box;yn[0]=yn[1]=xn[0]=xn[1]=0,tr.viewportWidth=tr.framebufferWidth=tr.drawingBufferWidth=yn[2]=xn[2]=Xt.drawingBufferWidth,tr.viewportHeight=tr.framebufferHeight=tr.drawingBufferHeight=yn[3]=xn[3]=Xt.drawingBufferHeight}function Rt(){tr.tick+=1,tr.time=Nt(),Dt(),_r.procs.poll()}function Bt(){vr.refresh(),Dt(),_r.procs.refresh(),It&&It.update()}function Nt(){return(Ae()-kt)/1e3}if(yt=t(yt),!yt)return null;var Xt=yt.gl,lr=Xt.getContextAttributes();Xt.isContextLost();var sr=r(Xt,yt);if(!sr)return null;var gn=a(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ye=yt.cachedCode||{},je=sr.extensions,It=Sr(Xt,je),kt=Ae(),or=Xt.drawingBufferWidth,jt=Xt.drawingBufferHeight,tr={tick:0,time:0,viewportWidth:or,viewportHeight:jt,framebufferWidth:or,framebufferHeight:jt,drawingBufferWidth:or,drawingBufferHeight:jt,pixelRatio:yt.pixelRatio},or={elements:null,primitive:4,count:-1,offset:0,instances:-1},rr=Ue(Xt,je),_t=u(Xt,dr,yt,function(yn){return gr.destroyBuffer(yn)}),hr=y(Xt,je,_t,dr),gr=_(Xt,je,rr,dr,_t,hr,or),pr=U(Xt,gn,dr,yt),vr=O(Xt,je,rr,function(){_r.procs.poll()},tr,dr,yt),Gr=Pe(Xt,je,rr,dr,yt),Fr=F(Xt,je,rr,vr,Gr,dr),_r=ee(Xt,gn,je,rr,_t,hr,vr,Fr,{},gr,pr,or,tr,It,Ye,yt),gn=H(Xt,Fr,_r.procs.poll,tr),tn=_r.next,Bn=Xt.canvas,An=[],Mr=[],Cr=[],jr=[yt.onDestroy],Hr=null;Bn&&(Bn.addEventListener("webglcontextlost",ur,!1),Bn.addEventListener("webglcontextrestored",pt,!1));var on=Fr.setFBO=st({framebuffer:be.define.call(null,1,"framebuffer")});return Bt(),lr=se(st,{clear:function(yn){if("framebuffer"in yn)if(yn.framebuffer&&yn.framebuffer_reglType==="framebufferCube")for(var xn=0;6>xn;++xn)on(se({framebuffer:yn.framebuffer.faces[xn]},yn),xt);else on(yn,xt);else xt(null,yn)},prop:be.define.bind(null,1),context:be.define.bind(null,2),this:be.define.bind(null,3),draw:st({}),buffer:function(yn){return _t.create(yn,34962,!1,!1)},elements:function(yn){return hr.create(yn,!1)},texture:vr.create2D,cube:vr.createCube,renderbuffer:Gr.create,framebuffer:Fr.create,framebufferCube:Fr.createCube,vao:gr.createVAO,attributes:lr,frame:St,on:function(yn,xn){var Rn;switch(yn){case"frame":return St(xn);case"lost":Rn=Mr;break;case"restore":Rn=Cr;break;case"destroy":Rn=jr}return Rn.push(xn),{cancel:function(){for(var _n=0;_n<Rn.length;++_n)if(Rn[_n]===xn){Rn[_n]=Rn[Rn.length-1],Rn.pop();break}}}},limits:rr,hasExtension:function(yn){return 0<=rr.extensions.indexOf(yn.toLowerCase())},read:gn,destroy:function(){An.length=0,mr(),Bn&&(Bn.removeEventListener("webglcontextlost",ur),Bn.removeEventListener("webglcontextrestored",pt)),pr.clear(),Fr.clear(),Gr.clear(),gr.clear(),vr.clear(),hr.clear(),_t.clear(),It&&It.clear(),jr.forEach(function(yn){yn()})},_gl:Xt,_refresh:Bt,poll:function(){Rt(),It&&It.update()},now:Nt,stats:dr,getCachedCode:function(){return Ye},preloadCachedCode:function(yn){Object.entries(yn).forEach(function(xn){Ye[xn[0]]=xn[1]})}}),yt.onDone(null,lr),lr}})},71665:function(B,N,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var p=e(12856),L=p.Buffer;function a(w,h){for(var g in w)h[g]=w[g]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?B.exports=p:(a(p,N),N.Buffer=C);function C(w,h,g){return L(w,h,g)}C.prototype=Object.create(L.prototype),a(L,C),C.from=function(w,h,g){if(typeof w=="number")throw new TypeError("Argument must not be a number");return L(w,h,g)},C.alloc=function(w,h,g){if(typeof w!="number")throw new TypeError("Argument must be a number");var t=L(w);return h!==void 0?typeof g=="string"?t.fill(h,g):t.fill(h):t.fill(0),t},C.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return L(w)},C.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(w)}},21630:function(B,N,e){B.exports=a;var p=e(15398).EventEmitter,L=e(42018);L(a,p),a.Readable=e(40410),a.Writable=e(37493),a.Duplex=e(37865),a.Transform=e(74308),a.PassThrough=e(66897),a.finished=e(12726),a.pipeline=e(10168),a.Stream=a;function a(){p.call(this)}a.prototype.pipe=function(C,w){var h=this;function g(f){C.writable&&C.write(f)===!1&&h.pause&&h.pause()}h.on("data",g);function t(){h.readable&&h.resume&&h.resume()}C.on("drain",t),!C._isStdio&&(!w||w.end!==!1)&&(h.on("end",s),h.on("close",n));var r=!1;function s(){r||(r=!0,C.end())}function n(){r||(r=!0,typeof C.destroy=="function"&&C.destroy())}function l(f){if(c(),p.listenerCount(this,"error")===0)throw f}h.on("error",l),C.on("error",l);function c(){h.removeListener("data",g),C.removeListener("drain",t),h.removeListener("end",s),h.removeListener("close",n),h.removeListener("error",l),C.removeListener("error",l),h.removeListener("end",c),h.removeListener("close",c),C.removeListener("close",c)}return h.on("end",c),h.on("close",c),C.on("close",c),C.emit("pipe",h),C}},74322:function(B){function N(h,g){h.prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g}var e={};function p(h,g,t){t||(t=Error);function r(n,l,c){return typeof g=="string"?g:g(n,l,c)}var s=function(n){N(l,n);function l(c,f,m){return n.call(this,r(c,f,m))||this}return l}(t);s.prototype.name=t.name,s.prototype.code=h,e[h]=s}function L(h,g){if(Array.isArray(h)){var t=h.length;return h=h.map(function(r){return String(r)}),t>2?"one of ".concat(g," ").concat(h.slice(0,t-1).join(", "),", or ")+h[t-1]:t===2?"one of ".concat(g," ").concat(h[0]," or ").concat(h[1]):"of ".concat(g," ").concat(h[0])}else return"of ".concat(g," ").concat(String(h))}function a(h,g,t){return h.substr(!t||t<0?0:+t,g.length)===g}function C(h,g,t){return(t===void 0||t>h.length)&&(t=h.length),h.substring(t-g.length,t)===g}function w(h,g,t){return typeof t!="number"&&(t=0),t+g.length>h.length?!1:h.indexOf(g,t)!==-1}p("ERR_INVALID_OPT_VALUE",function(h,g){return'The value "'+g+'" is invalid for option "'+h+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(h,g,t){var r;typeof g=="string"&&a(g,"not ")?(r="must not be",g=g.replace(/^not /,"")):r="must be";var s;if(C(h," argument"))s="The ".concat(h," ").concat(r," ").concat(L(g,"type"));else{var n=w(h,".")?"property":"argument";s='The "'.concat(h,'" ').concat(n," ").concat(r," ").concat(L(g,"type"))}return s+=". Received type ".concat(typeof t),s},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),B.exports.q=e},37865:function(B,N,e){var p=e(90386),L=Object.keys||function(n){var l=[];for(var c in n)l.push(c);return l};B.exports=t;var a=e(40410),C=e(37493);e(42018)(t,a);for(var w=L(C.prototype),h=0;h<w.length;h++){var g=w[h];t.prototype[g]||(t.prototype[g]=C.prototype[g])}function t(n){if(!(this instanceof t))return new t(n);a.call(this,n),C.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||p.nextTick(s,this)}function s(n){n.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})},66897:function(B,N,e){B.exports=L;var p=e(74308);e(42018)(L,p);function L(a){if(!(this instanceof L))return new L(a);p.call(this,a)}L.prototype._transform=function(a,C,w){w(null,a)}},40410:function(B,N,e){var p=e(90386);B.exports=i;var L;i.ReadableState=T,e(15398).EventEmitter;var a=function(ee,ue){return ee.listeners(ue).length},C=e(71405),w=e(12856).Buffer,h=e.g.Uint8Array||function(){};function g(te){return w.from(te)}function t(te){return w.isBuffer(te)||te instanceof h}var r=e(40964),s;r&&r.debuglog?s=r.debuglog("stream"):s=function(){};var n=e(31125),l=e(65756),c=e(56306),f=c.getHighWaterMark,m=e(74322).q,v=m.ERR_INVALID_ARG_TYPE,A=m.ERR_STREAM_PUSH_AFTER_EOF,d=m.ERR_METHOD_NOT_IMPLEMENTED,u=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,M,S;e(42018)(i,C);var R=l.errorOrDestroy,x=["error","close","destroy","pause","resume"];function E(te,ee,ue){if(typeof te.prependListener=="function")return te.prependListener(ee,ue);!te._events||!te._events[ee]?te.on(ee,ue):Array.isArray(te._events[ee])?te._events[ee].unshift(ue):te._events[ee]=[ue,te._events[ee]]}function T(te,ee,ue){L=L||e(37865),te=te||{},typeof ue!="boolean"&&(ue=ee instanceof L),this.objectMode=!!te.objectMode,ue&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=f(this,te,"readableHighWaterMark",ue),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(y||(y=e(68019).s),this.decoder=new y(te.encoding),this.encoding=te.encoding)}function i(te){if(L=L||e(37865),!(this instanceof i))return new i(te);var ee=this instanceof L;this._readableState=new T(te,this,ee),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),C.call(this)}Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){this._readableState&&(this._readableState.destroyed=ee)}}),i.prototype.destroy=l.destroy,i.prototype._undestroy=l.undestroy,i.prototype._destroy=function(te,ee){ee(te)},i.prototype.push=function(te,ee){var ue=this._readableState,se;return ue.objectMode?se=!0:typeof te=="string"&&(ee=ee||ue.defaultEncoding,ee!==ue.encoding&&(te=w.from(te,ee),ee=""),se=!0),D(this,te,ee,!1,se)},i.prototype.unshift=function(te){return D(this,te,null,!0,!1)};function D(te,ee,ue,se,ve){s("readableAddChunk",ee);var be=te._readableState;if(ee===null)be.reading=!1,U(te,be);else{var Ee;if(ve||(Ee=O(be,ee)),Ee)R(te,Ee);else if(be.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!be.objectMode&&Object.getPrototypeOf(ee)!==w.prototype&&(ee=g(ee)),se)be.endEmitted?R(te,new u):b(te,be,ee,!0);else if(be.ended)R(te,new A);else{if(be.destroyed)return!1;be.reading=!1,be.decoder&&!ue?(ee=be.decoder.write(ee),be.objectMode||ee.length!==0?b(te,be,ee,!1):G(te,be)):b(te,be,ee,!1)}else se||(be.reading=!1,G(te,be))}return!be.ended&&(be.length<be.highWaterMark||be.length===0)}function b(te,ee,ue,se){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,te.emit("data",ue)):(ee.length+=ee.objectMode?1:ue.length,se?ee.buffer.unshift(ue):ee.buffer.push(ue),ee.needReadable&&H(te)),G(te,ee)}function O(te,ee){var ue;return!t(ee)&&typeof ee!="string"&&ee!==void 0&&!te.objectMode&&(ue=new v("chunk",["string","Buffer","Uint8Array"],ee)),ue}i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(te){y||(y=e(68019).s);var ee=new y(te);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var ue=this._readableState.buffer.head,se="";ue!==null;)se+=ee.write(ue.data),ue=ue.next;return this._readableState.buffer.clear(),se!==""&&this._readableState.buffer.push(se),this._readableState.length=se.length,this};var F=1073741824;function V(te){return te>=F?te=F:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function _(te,ee){return te<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:te!==te?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(te>ee.highWaterMark&&(ee.highWaterMark=V(te)),te<=ee.length?te:ee.ended?ee.length:(ee.needReadable=!0,0))}i.prototype.read=function(te){s("read",te),te=parseInt(te,10);var ee=this._readableState,ue=te;if(te!==0&&(ee.emittedReadable=!1),te===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return s("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?K(this):H(this),null;if(te=_(te,ee),te===0&&ee.ended)return ee.length===0&&K(this),null;var se=ee.needReadable;s("need readable",se),(ee.length===0||ee.length-te<ee.highWaterMark)&&(se=!0,s("length less than watermark",se)),ee.ended||ee.reading?(se=!1,s("reading or ended",se)):se&&(s("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(te=_(ue,ee)));var ve;return te>0?ve=$(te,ee):ve=null,ve===null?(ee.needReadable=ee.length<=ee.highWaterMark,te=0):(ee.length-=te,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),ue!==te&&ee.ended&&K(this)),ve!==null&&this.emit("data",ve),ve};function U(te,ee){if(s("onEofChunk"),!ee.ended){if(ee.decoder){var ue=ee.decoder.end();ue&&ue.length&&(ee.buffer.push(ue),ee.length+=ee.objectMode?1:ue.length)}ee.ended=!0,ee.sync?H(te):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,z(te)))}}function H(te){var ee=te._readableState;s("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(s("emitReadable",ee.flowing),ee.emittedReadable=!0,p.nextTick(z,te))}function z(te){var ee=te._readableState;s("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(te.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,Z(te)}function G(te,ee){ee.readingMore||(ee.readingMore=!0,p.nextTick(Y,te,ee))}function Y(te,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var ue=ee.length;if(s("maybeReadMore read 0"),te.read(0),ue===ee.length)break}ee.readingMore=!1}i.prototype._read=function(te){R(this,new d("_read()"))},i.prototype.pipe=function(te,ee){var ue=this,se=this._readableState;switch(se.pipesCount){case 0:se.pipes=te;break;case 1:se.pipes=[se.pipes,te];break;default:se.pipes.push(te);break}se.pipesCount+=1,s("pipe count=%d opts=%j",se.pipesCount,ee);var ve=(!ee||ee.end!==!1)&&te!==p.stdout&&te!==p.stderr,be=ve?Ae:ke;se.endEmitted?p.nextTick(be):ue.once("end",be),te.on("unpipe",Ee);function Ee(We,rt){s("onunpipe"),We===ue&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,Le())}function Ae(){s("onend"),te.end()}var Oe=J(ue);te.on("drain",Oe);var Ue=!1;function Le(){s("cleanup"),te.removeListener("close",Ve),te.removeListener("finish",Ne),te.removeListener("drain",Oe),te.removeListener("error",Ce),te.removeListener("unpipe",Ee),ue.removeListener("end",Ae),ue.removeListener("end",ke),ue.removeListener("data",we),Ue=!0,se.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&Oe()}ue.on("data",we);function we(We){s("ondata");var rt=te.write(We);s("dest.write",rt),rt===!1&&((se.pipesCount===1&&se.pipes===te||se.pipesCount>1&&le(se.pipes,te)!==-1)&&!Ue&&(s("false write response, pause",se.awaitDrain),se.awaitDrain++),ue.pause())}function Ce(We){s("onerror",We),ke(),te.removeListener("error",Ce),a(te,"error")===0&&R(te,We)}E(te,"error",Ce);function Ve(){te.removeListener("finish",Ne),ke()}te.once("close",Ve);function Ne(){s("onfinish"),te.removeListener("close",Ve),ke()}te.once("finish",Ne);function ke(){s("unpipe"),ue.unpipe(te)}return te.emit("pipe",ue),se.flowing||(s("pipe resume"),ue.resume()),te};function J(te){return function(){var ue=te._readableState;s("pipeOnDrain",ue.awaitDrain),ue.awaitDrain&&ue.awaitDrain--,ue.awaitDrain===0&&a(te,"data")&&(ue.flowing=!0,Z(te))}}i.prototype.unpipe=function(te){var ee=this._readableState,ue={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return te&&te!==ee.pipes?this:(te||(te=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,te&&te.emit("unpipe",this,ue),this);if(!te){var se=ee.pipes,ve=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var be=0;be<ve;be++)se[be].emit("unpipe",this,{hasUnpiped:!1});return this}var Ee=le(ee.pipes,te);return Ee===-1?this:(ee.pipes.splice(Ee,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),te.emit("unpipe",this,ue),this)},i.prototype.on=function(te,ee){var ue=C.prototype.on.call(this,te,ee),se=this._readableState;return te==="data"?(se.readableListening=this.listenerCount("readable")>0,se.flowing!==!1&&this.resume()):te==="readable"&&!se.endEmitted&&!se.readableListening&&(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,s("on readable",se.length,se.reading),se.length?H(this):se.reading||p.nextTick(oe,this)),ue},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=function(te,ee){var ue=C.prototype.removeListener.call(this,te,ee);return te==="readable"&&p.nextTick(ae,this),ue},i.prototype.removeAllListeners=function(te){var ee=C.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&p.nextTick(ae,this),ee};function ae(te){var ee=te._readableState;ee.readableListening=te.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:te.listenerCount("data")>0&&te.resume()}function oe(te){s("readable nexttick read 0"),te.read(0)}i.prototype.resume=function(){var te=this._readableState;return te.flowing||(s("resume"),te.flowing=!te.readableListening,he(this,te)),te.paused=!1,this};function he(te,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,p.nextTick(q,te,ee))}function q(te,ee){s("resume",ee.reading),ee.reading||te.read(0),ee.resumeScheduled=!1,te.emit("resume"),Z(te),ee.flowing&&!ee.reading&&te.read(0)}i.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(te){var ee=te._readableState;for(s("flow",ee.flowing);ee.flowing&&te.read()!==null;);}i.prototype.wrap=function(te){var ee=this,ue=this._readableState,se=!1;te.on("end",function(){if(s("wrapped end"),ue.decoder&&!ue.ended){var Ee=ue.decoder.end();Ee&&Ee.length&&ee.push(Ee)}ee.push(null)}),te.on("data",function(Ee){if(s("wrapped data"),ue.decoder&&(Ee=ue.decoder.write(Ee)),!(ue.objectMode&&Ee==null)&&!(!ue.objectMode&&(!Ee||!Ee.length))){var Ae=ee.push(Ee);Ae||(se=!0,te.pause())}});for(var ve in te)this[ve]===void 0&&typeof te[ve]=="function"&&(this[ve]=function(Ae){return function(){return te[Ae].apply(te,arguments)}}(ve));for(var be=0;be<x.length;be++)te.on(x[be],this.emit.bind(this,x[be]));return this._read=function(Ee){s("wrapped _read",Ee),se&&(se=!1,te.resume())},this},typeof Symbol=="function"&&(i.prototype[Symbol.asyncIterator]=function(){return M===void 0&&(M=e(68221)),M(this)}),Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}}),i._fromList=$,Object.defineProperty(i.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(te,ee){if(ee.length===0)return null;var ue;return ee.objectMode?ue=ee.buffer.shift():!te||te>=ee.length?(ee.decoder?ue=ee.buffer.join(""):ee.buffer.length===1?ue=ee.buffer.first():ue=ee.buffer.concat(ee.length),ee.buffer.clear()):ue=ee.buffer.consume(te,ee.decoder),ue}function K(te){var ee=te._readableState;s("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,p.nextTick(re,ee,te))}function re(te,ee){if(s("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,ee.readable=!1,ee.emit("end"),te.autoDestroy)){var ue=ee._writableState;(!ue||ue.autoDestroy&&ue.finished)&&ee.destroy()}}typeof Symbol=="function"&&(i.from=function(te,ee){return S===void 0&&(S=e(31748)),S(i,te,ee)});function le(te,ee){for(var ue=0,se=te.length;ue<se;ue++)if(te[ue]===ee)return ue;return-1}},74308:function(B,N,e){B.exports=t;var p=e(74322).q,L=p.ERR_METHOD_NOT_IMPLEMENTED,a=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=p.ERR_TRANSFORM_WITH_LENGTH_0,h=e(37865);e(42018)(t,h);function g(n,l){var c=this._transformState;c.transforming=!1;var f=c.writecb;if(f===null)return this.emit("error",new a);c.writechunk=null,c.writecb=null,l!=null&&this.push(l),f(n);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);h.call(this,n),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",r)}function r(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(l,c){s(n,l,c)}):s(this,null,null)}t.prototype.push=function(n,l){return this._transformState.needTransform=!1,h.prototype.push.call(this,n,l)},t.prototype._transform=function(n,l,c){c(new L("_transform()"))},t.prototype._write=function(n,l,c){var f=this._transformState;if(f.writecb=c,f.writechunk=n,f.writeencoding=l,!f.transforming){var m=this._readableState;(f.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},t.prototype._read=function(n){var l=this._transformState;l.writechunk!==null&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},t.prototype._destroy=function(n,l){h.prototype._destroy.call(this,n,function(c){l(c)})};function s(n,l,c){if(l)return n.emit("error",l);if(c!=null&&n.push(c),n._writableState.length)throw new w;if(n._transformState.transforming)throw new C;return n.push(null)}},37493:function(B,N,e){var p=e(90386);B.exports=T;function L(Z){var $=this;this.next=null,this.entry=null,this.finish=function(){q($,Z)}}var a;T.WritableState=x;var C={deprecate:e(20588)},w=e(71405),h=e(12856).Buffer,g=e.g.Uint8Array||function(){};function t(Z){return h.from(Z)}function r(Z){return h.isBuffer(Z)||Z instanceof g}var s=e(65756),n=e(56306),l=n.getHighWaterMark,c=e(74322).q,f=c.ERR_INVALID_ARG_TYPE,m=c.ERR_METHOD_NOT_IMPLEMENTED,v=c.ERR_MULTIPLE_CALLBACK,A=c.ERR_STREAM_CANNOT_PIPE,d=c.ERR_STREAM_DESTROYED,u=c.ERR_STREAM_NULL_VALUES,y=c.ERR_STREAM_WRITE_AFTER_END,M=c.ERR_UNKNOWN_ENCODING,S=s.errorOrDestroy;e(42018)(T,w);function R(){}function x(Z,$,K){a=a||e(37865),Z=Z||{},typeof K!="boolean"&&(K=$ instanceof a),this.objectMode=!!Z.objectMode,K&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=l(this,Z,"writableHighWaterMark",K),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var re=Z.decodeStrings===!1;this.decodeStrings=!re,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){U($,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}x.prototype.getBuffer=function(){for(var $=this.bufferedRequest,K=[];$;)K.push($),$=$.next;return K},function(){try{Object.defineProperty(x.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function($){return E.call(this,$)?!0:this!==T?!1:$&&$._writableState instanceof x}})):E=function($){return $ instanceof this};function T(Z){a=a||e(37865);var $=this instanceof a;if(!$&&!E.call(T,this))return new T(Z);this._writableState=new x(Z,this,$),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),w.call(this)}T.prototype.pipe=function(){S(this,new A)};function i(Z,$){var K=new y;S(Z,K),p.nextTick($,K)}function D(Z,$,K,re){var le;return K===null?le=new u:typeof K!="string"&&!$.objectMode&&(le=new f("chunk",["string","Buffer"],K)),le?(S(Z,le),p.nextTick(re,le),!1):!0}T.prototype.write=function(Z,$,K){var re=this._writableState,le=!1,te=!re.objectMode&&r(Z);return te&&!h.isBuffer(Z)&&(Z=t(Z)),typeof $=="function"&&(K=$,$=null),te?$="buffer":$||($=re.defaultEncoding),typeof K!="function"&&(K=R),re.ending?i(this,K):(te||D(this,re,Z,K))&&(re.pendingcb++,le=O(this,re,te,Z,$,K)),le},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&G(this,Z))},T.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new M($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(Z,$,K){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof $=="string"&&($=h.from($,K)),$}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(Z,$,K,re,le,te){if(!K){var ee=b($,re,le);re!==ee&&(K=!0,le="buffer",re=ee)}var ue=$.objectMode?1:re.length;$.length+=ue;var se=$.length<$.highWaterMark;if(se||($.needDrain=!0),$.writing||$.corked){var ve=$.lastBufferedRequest;$.lastBufferedRequest={chunk:re,encoding:le,isBuf:K,callback:te,next:null},ve?ve.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else F(Z,$,!1,ue,re,le,te);return se}function F(Z,$,K,re,le,te,ee){$.writelen=re,$.writecb=ee,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new d("write")):K?Z._writev(le,$.onwrite):Z._write(le,te,$.onwrite),$.sync=!1}function V(Z,$,K,re,le){--$.pendingcb,K?(p.nextTick(le,re),p.nextTick(oe,Z,$),Z._writableState.errorEmitted=!0,S(Z,re)):(le(re),Z._writableState.errorEmitted=!0,S(Z,re),oe(Z,$))}function _(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function U(Z,$){var K=Z._writableState,re=K.sync,le=K.writecb;if(typeof le!="function")throw new v;if(_(K),$)V(Z,K,re,$,le);else{var te=Y(K)||Z.destroyed;!te&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&G(Z,K),re?p.nextTick(H,Z,K,te,le):H(Z,K,te,le)}}function H(Z,$,K,re){K||z(Z,$),$.pendingcb--,re(),oe(Z,$)}function z(Z,$){$.length===0&&$.needDrain&&($.needDrain=!1,Z.emit("drain"))}function G(Z,$){$.bufferProcessing=!0;var K=$.bufferedRequest;if(Z._writev&&K&&K.next){var re=$.bufferedRequestCount,le=new Array(re),te=$.corkedRequestsFree;te.entry=K;for(var ee=0,ue=!0;K;)le[ee]=K,K.isBuf||(ue=!1),K=K.next,ee+=1;le.allBuffers=ue,F(Z,$,!0,$.length,le,"",te.finish),$.pendingcb++,$.lastBufferedRequest=null,te.next?($.corkedRequestsFree=te.next,te.next=null):$.corkedRequestsFree=new L($),$.bufferedRequestCount=0}else{for(;K;){var se=K.chunk,ve=K.encoding,be=K.callback,Ee=$.objectMode?1:se.length;if(F(Z,$,!1,Ee,se,ve,be),K=K.next,$.bufferedRequestCount--,$.writing)break}K===null&&($.lastBufferedRequest=null)}$.bufferedRequest=K,$.bufferProcessing=!1}T.prototype._write=function(Z,$,K){K(new m("_write()"))},T.prototype._writev=null,T.prototype.end=function(Z,$,K){var re=this._writableState;return typeof Z=="function"?(K=Z,Z=null,$=null):typeof $=="function"&&(K=$,$=null),Z!=null&&this.write(Z,$),re.corked&&(re.corked=1,this.uncork()),re.ending||he(this,re,K),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Y(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function J(Z,$){Z._final(function(K){$.pendingcb--,K&&S(Z,K),$.prefinished=!0,Z.emit("prefinish"),oe(Z,$)})}function ae(Z,$){!$.prefinished&&!$.finalCalled&&(typeof Z._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,p.nextTick(J,Z,$)):($.prefinished=!0,Z.emit("prefinish")))}function oe(Z,$){var K=Y($);if(K&&(ae(Z,$),$.pendingcb===0&&($.finished=!0,Z.emit("finish"),$.autoDestroy))){var re=Z._readableState;(!re||re.autoDestroy&&re.endEmitted)&&Z.destroy()}return K}function he(Z,$,K){$.ending=!0,oe(Z,$),K&&($.finished?p.nextTick(K):Z.once("finish",K)),$.ended=!0,Z.writable=!1}function q(Z,$,K){var re=Z.entry;for(Z.entry=null;re;){var le=re.callback;$.pendingcb--,le(K),re=re.next}$.corkedRequestsFree.next=Z}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),T.prototype.destroy=s.destroy,T.prototype._undestroy=s.undestroy,T.prototype._destroy=function(Z,$){$(Z)}},68221:function(B,N,e){var p=e(90386),L;function a(u,y,M){return y in u?Object.defineProperty(u,y,{value:M,enumerable:!0,configurable:!0,writable:!0}):u[y]=M,u}var C=e(12726),w=Symbol("lastResolve"),h=Symbol("lastReject"),g=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),s=Symbol("handlePromise"),n=Symbol("stream");function l(u,y){return{value:u,done:y}}function c(u){var y=u[w];if(y!==null){var M=u[n].read();M!==null&&(u[r]=null,u[w]=null,u[h]=null,y(l(M,!1)))}}function f(u){p.nextTick(c,u)}function m(u,y){return function(M,S){u.then(function(){if(y[t]){M(l(void 0,!0));return}y[s](M,S)},S)}}var v=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((L={get stream(){return this[n]},next:function(){var y=this,M=this[g];if(M!==null)return Promise.reject(M);if(this[t])return Promise.resolve(l(void 0,!0));if(this[n].destroyed)return new Promise(function(E,T){p.nextTick(function(){y[g]?T(y[g]):E(l(void 0,!0))})});var S=this[r],R;if(S)R=new Promise(m(S,this));else{var x=this[n].read();if(x!==null)return Promise.resolve(l(x,!1));R=new Promise(this[s])}return this[r]=R,R}},a(L,Symbol.asyncIterator,function(){return this}),a(L,"return",function(){var y=this;return new Promise(function(M,S){y[n].destroy(null,function(R){if(R){S(R);return}M(l(void 0,!0))})})}),L),v),d=function(y){var M,S=Object.create(A,(M={},a(M,n,{value:y,writable:!0}),a(M,w,{value:null,writable:!0}),a(M,h,{value:null,writable:!0}),a(M,g,{value:null,writable:!0}),a(M,t,{value:y._readableState.endEmitted,writable:!0}),a(M,s,{value:function(x,E){var T=S[n].read();T?(S[r]=null,S[w]=null,S[h]=null,x(l(T,!1))):(S[w]=x,S[h]=E)},writable:!0}),M));return S[r]=null,C(y,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=S[h];x!==null&&(S[r]=null,S[w]=null,S[h]=null,x(R)),S[g]=R;return}var E=S[w];E!==null&&(S[r]=null,S[w]=null,S[h]=null,E(l(void 0,!0))),S[t]=!0}),y.on("readable",f.bind(null,S)),S};B.exports=d},31125:function(B,N,e){function p(c,f){var m=Object.keys(c);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(c);f&&(v=v.filter(function(A){return Object.getOwnPropertyDescriptor(c,A).enumerable})),m.push.apply(m,v)}return m}function L(c){for(var f=1;f<arguments.length;f++){var m=arguments[f]!=null?arguments[f]:{};f%2?p(Object(m),!0).forEach(function(v){a(c,v,m[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(m)):p(Object(m)).forEach(function(v){Object.defineProperty(c,v,Object.getOwnPropertyDescriptor(m,v))})}return c}function a(c,f,m){return f in c?Object.defineProperty(c,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):c[f]=m,c}function C(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function w(c,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}function h(c,f,m){return f&&w(c.prototype,f),m&&w(c,m),c}var g=e(12856),t=g.Buffer,r=e(69862),s=r.inspect,n=s&&s.custom||"inspect";function l(c,f,m){t.prototype.copy.call(c,f,m)}B.exports=function(){function c(){C(this,c),this.head=null,this.tail=null,this.length=0}return h(c,[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,A=""+v.data;v=v.next;)A+=m+v.data;return A}},{key:"concat",value:function(m){if(this.length===0)return t.alloc(0);for(var v=t.allocUnsafe(m>>>0),A=this.head,d=0;A;)l(A.data,v,d),d+=A.data.length,A=A.next;return v}},{key:"consume",value:function(m,v){var A;return m<this.head.data.length?(A=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?A=this.shift():A=v?this._getString(m):this._getBuffer(m),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,A=1,d=v.data;for(m-=d.length;v=v.next;){var u=v.data,y=m>u.length?u.length:m;if(y===u.length?d+=u:d+=u.slice(0,m),m-=y,m===0){y===u.length?(++A,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=u.slice(y));break}++A}return this.length-=A,d}},{key:"_getBuffer",value:function(m){var v=t.allocUnsafe(m),A=this.head,d=1;for(A.data.copy(v),m-=A.data.length;A=A.next;){var u=A.data,y=m>u.length?u.length:m;if(u.copy(v,v.length-m,0,y),m-=y,m===0){y===u.length?(++d,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=u.slice(y));break}++d}return this.length-=d,v}},{key:n,value:function(m,v){return s(this,L({},v,{depth:0,customInspect:!1}))}}]),c}()},65756:function(B,N,e){var p=e(90386);function L(t,r){var s=this,n=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return n||l?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(h,this,t)):p.nextTick(h,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(c){!r&&c?s._writableState?s._writableState.errorEmitted?p.nextTick(C,s):(s._writableState.errorEmitted=!0,p.nextTick(a,s,c)):p.nextTick(a,s,c):r?(p.nextTick(C,s),r(c)):p.nextTick(C,s)}),this)}function a(t,r){h(t,r),C(t)}function C(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(t,r){t.emit("error",r)}function g(t,r){var s=t._readableState,n=t._writableState;s&&s.autoDestroy||n&&n.autoDestroy?t.destroy(r):t.emit("error",r)}B.exports={destroy:L,undestroy:w,errorOrDestroy:g}},12726:function(B,N,e){var p=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function L(h){var g=!1;return function(){if(!g){g=!0;for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];h.apply(this,r)}}}function a(){}function C(h){return h.setHeader&&typeof h.abort=="function"}function w(h,g,t){if(typeof g=="function")return w(h,null,g);g||(g={}),t=L(t||a);var r=g.readable||g.readable!==!1&&h.readable,s=g.writable||g.writable!==!1&&h.writable,n=function(){h.writable||c()},l=h._writableState&&h._writableState.finished,c=function(){s=!1,l=!0,r||t.call(h)},f=h._readableState&&h._readableState.endEmitted,m=function(){r=!1,f=!0,s||t.call(h)},v=function(y){t.call(h,y)},A=function(){var y;if(r&&!f)return(!h._readableState||!h._readableState.ended)&&(y=new p),t.call(h,y);if(s&&!l)return(!h._writableState||!h._writableState.ended)&&(y=new p),t.call(h,y)},d=function(){h.req.on("finish",c)};return C(h)?(h.on("complete",c),h.on("abort",A),h.req?d():h.on("request",d)):s&&!h._writableState&&(h.on("end",n),h.on("close",n)),h.on("end",m),h.on("finish",c),g.error!==!1&&h.on("error",v),h.on("close",A),function(){h.removeListener("complete",c),h.removeListener("abort",A),h.removeListener("request",d),h.req&&h.req.removeListener("finish",c),h.removeListener("end",n),h.removeListener("close",n),h.removeListener("finish",c),h.removeListener("end",m),h.removeListener("error",v),h.removeListener("close",A)}}B.exports=w},31748:function(B){B.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(B,N,e){var p;function L(c){var f=!1;return function(){f||(f=!0,c.apply(void 0,arguments))}}var a=e(74322).q,C=a.ERR_MISSING_ARGS,w=a.ERR_STREAM_DESTROYED;function h(c){if(c)throw c}function g(c){return c.setHeader&&typeof c.abort=="function"}function t(c,f,m,v){v=L(v);var A=!1;c.on("close",function(){A=!0}),p===void 0&&(p=e(12726)),p(c,{readable:f,writable:m},function(u){if(u)return v(u);A=!0,v()});var d=!1;return function(u){if(!A&&!d){if(d=!0,g(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(u||new w("pipe"))}}}function r(c){c()}function s(c,f){return c.pipe(f)}function n(c){return!c.length||typeof c[c.length-1]!="function"?h:c.pop()}function l(){for(var c=arguments.length,f=new Array(c),m=0;m<c;m++)f[m]=arguments[m];var v=n(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new C("streams");var A,d=f.map(function(u,y){var M=y<f.length-1,S=y>0;return t(u,M,S,function(R){A||(A=R),R&&d.forEach(r),!M&&(d.forEach(r),v(A))})});return f.reduce(s)}B.exports=l},56306:function(B,N,e){var p=e(74322).q.ERR_INVALID_OPT_VALUE;function L(C,w,h){return C.highWaterMark!=null?C.highWaterMark:w?C[h]:null}function a(C,w,h,g){var t=L(w,g,h);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=g?h:"highWaterMark";throw new p(r,t)}return Math.floor(t)}return C.objectMode?16:16384}B.exports={getHighWaterMark:a}},71405:function(B,N,e){B.exports=e(15398).EventEmitter},68019:function(B,N,e){var p=e(71665).Buffer,L=p.isEncoding||function(d){switch(d=""+d,d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(d){if(!d)return"utf8";for(var u;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(u)return;d=(""+d).toLowerCase(),u=!0}}function C(d){var u=a(d);if(typeof u!="string"&&(p.isEncoding===L||!L(d)))throw new Error("Unknown encoding: "+d);return u||d}N.s=w;function w(d){this.encoding=C(d);var u;switch(this.encoding){case"utf16le":this.text=l,this.end=c,u=4;break;case"utf8":this.fillLast=r,u=4;break;case"base64":this.text=f,this.end=m,u=3;break;default:this.write=v,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(u)}w.prototype.write=function(d){if(d.length===0)return"";var u,y;if(this.lastNeed){if(u=this.fillLast(d),u===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<d.length?u?u+this.text(d,y):this.text(d,y):u||""},w.prototype.end=n,w.prototype.text=s,w.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length};function h(d){return d<=127?0:d>>5===6?2:d>>4===14?3:d>>3===30?4:d>>6===2?-1:-2}function g(d,u,y){var M=u.length-1;if(M<y)return 0;var S=h(u[M]);return S>=0?(S>0&&(d.lastNeed=S-1),S):--M<y||S===-2?0:(S=h(u[M]),S>=0?(S>0&&(d.lastNeed=S-2),S):--M<y||S===-2?0:(S=h(u[M]),S>=0?(S>0&&(S===2?S=0:d.lastNeed=S-3),S):0))}function t(d,u,y){if((u[0]&192)!==128)return d.lastNeed=0,"�";if(d.lastNeed>1&&u.length>1){if((u[1]&192)!==128)return d.lastNeed=1,"�";if(d.lastNeed>2&&u.length>2&&(u[2]&192)!==128)return d.lastNeed=2,"�"}}function r(d){var u=this.lastTotal-this.lastNeed,y=t(this,d);if(y!==void 0)return y;if(this.lastNeed<=d.length)return d.copy(this.lastChar,u,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,u,0,d.length),this.lastNeed-=d.length}function s(d,u){var y=g(this,d,u);if(!this.lastNeed)return d.toString("utf8",u);this.lastTotal=y;var M=d.length-(y-this.lastNeed);return d.copy(this.lastChar,0,M),d.toString("utf8",u,M)}function n(d){var u=d&&d.length?this.write(d):"";return this.lastNeed?u+"�":u}function l(d,u){if((d.length-u)%2===0){var y=d.toString("utf16le",u);if(y){var M=y.charCodeAt(y.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",u,d.length-1)}function c(d){var u=d&&d.length?this.write(d):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return u+this.lastChar.toString("utf16le",0,y)}return u}function f(d,u){var y=(d.length-u)%3;return y===0?d.toString("base64",u):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",u,d.length-y))}function m(d){var u=d&&d.length?this.write(d):"";return this.lastNeed?u+this.lastChar.toString("base64",0,3-this.lastNeed):u}function v(d){return d.toString(this.encoding)}function A(d){return d&&d.length?this.write(d):""}},90715:function(B,N,e){var p=e(32791),L=e(41633)("stream-parser");B.exports=g;var a=-1,C=0,w=1,h=2;function g(d){var u=d&&typeof d._transform=="function",y=d&&typeof d._write=="function";if(!u&&!y)throw new Error("must pass a Writable or Transform stream in");L("extending Parser into stream"),d._bytes=r,d._skipBytes=s,u&&(d._passthrough=n),u?d._transform=c:d._write=l}function t(d){L("initializing parser stream"),d._parserBytesLeft=0,d._parserBuffers=[],d._parserBuffered=0,d._parserState=a,d._parserCallback=null,typeof d.push=="function"&&(d._parserOutput=d.push.bind(d)),d._parserInit=!0}function r(d,u){p(!this._parserCallback,'there is already a "callback" set!'),p(isFinite(d)&&d>0,'can only buffer a finite number of bytes > 0, got "'+d+'"'),this._parserInit||t(this),L("buffering %o bytes",d),this._parserBytesLeft=d,this._parserCallback=u,this._parserState=C}function s(d,u){p(!this._parserCallback,'there is already a "callback" set!'),p(d>0,'can only skip > 0 bytes, got "'+d+'"'),this._parserInit||t(this),L("skipping %o bytes",d),this._parserBytesLeft=d,this._parserCallback=u,this._parserState=w}function n(d,u){p(!this._parserCallback,'There is already a "callback" set!'),p(d>0,'can only pass through > 0 bytes, got "'+d+'"'),this._parserInit||t(this),L("passing through %o bytes",d),this._parserBytesLeft=d,this._parserCallback=u,this._parserState=h}function l(d,u,y){this._parserInit||t(this),L("write(%o bytes)",d.length),typeof u=="function"&&(y=u),v(this,d,null,y)}function c(d,u,y){this._parserInit||t(this),L("transform(%o bytes)",d.length),typeof u!="function"&&(u=this._parserOutput),v(this,d,u,y)}function f(d,u,y,M){return d._parserBytesLeft<=0?M(new Error("got data but not currently parsing anything")):u.length<=d._parserBytesLeft?function(){return m(d,u,y,M)}:function(){var S=u.slice(0,d._parserBytesLeft);return m(d,S,y,function(R){if(R)return M(R);if(u.length>S.length)return function(){return f(d,u.slice(S.length),y,M)}})}}function m(d,u,y,M){if(d._parserBytesLeft-=u.length,L("%o bytes left for stream piece",d._parserBytesLeft),d._parserState===C?(d._parserBuffers.push(u),d._parserBuffered+=u.length):d._parserState===h&&y(u),d._parserBytesLeft===0){var S=d._parserCallback;if(S&&d._parserState===C&&d._parserBuffers.length>1&&(u=Buffer.concat(d._parserBuffers,d._parserBuffered)),d._parserState!==C&&(u=null),d._parserCallback=null,d._parserBuffered=0,d._parserState=a,d._parserBuffers.splice(0),S){var R=[];u&&R.push(u),y&&R.push(y);var x=S.length>R.length;x&&R.push(A(M));var E=S.apply(d,R);if(!x||M===E)return M}}else return M}var v=A(f);function A(d){return function(){for(var u=d.apply(this,arguments);typeof u=="function";)u=u();return u}}},41633:function(B,N,e){var p=e(90386);N=B.exports=e(74469),N.log=C,N.formatArgs=a,N.save=w,N.load=h,N.useColors=L,N.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),N.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function L(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}N.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function a(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+N.humanize(this.diff),!!r){var s="color: "+this.color;t.splice(1,0,s,"color: inherit");var n=0,l=0;t[0].replace(/%[a-zA-Z%]/g,function(c){c!=="%%"&&(n++,c==="%c"&&(l=n))}),t.splice(l,0,s)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function w(t){try{t==null?N.storage.removeItem("debug"):N.storage.debug=t}catch{}}function h(){var t;try{t=N.storage.debug}catch{}return!t&&typeof p<"u"&&"env"in p&&(t={}.DEBUG),t}N.enable(h());function g(){try{return window.localStorage}catch{}}},74469:function(B,N,e){N=B.exports=a.debug=a.default=a,N.coerce=g,N.disable=w,N.enable=C,N.enabled=h,N.humanize=e(11375),N.names=[],N.skips=[],N.formatters={};var p;function L(t){var r=0,s;for(s in t)r=(r<<5)-r+t.charCodeAt(s),r|=0;return N.colors[Math.abs(r)%N.colors.length]}function a(t){function r(){if(r.enabled){var s=r,n=+new Date,l=n-(p||n);s.diff=l,s.prev=p,s.curr=n,p=n;for(var c=new Array(arguments.length),f=0;f<c.length;f++)c[f]=arguments[f];c[0]=N.coerce(c[0]),typeof c[0]!="string"&&c.unshift("%O");var m=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(A,d){if(A==="%%")return A;m++;var u=N.formatters[d];if(typeof u=="function"){var y=c[m];A=u.call(s,y),c.splice(m,1),m--}return A}),N.formatArgs.call(s,c);var v=r.log||N.log||console.log.bind(console);v.apply(s,c)}}return r.namespace=t,r.enabled=N.enabled(t),r.useColors=N.useColors(),r.color=L(t),typeof N.init=="function"&&N.init(r),r}function C(t){N.save(t),N.names=[],N.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),s=r.length,n=0;n<s;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),t[0]==="-"?N.skips.push(new RegExp("^"+t.substr(1)+"$")):N.names.push(new RegExp("^"+t+"$")))}function w(){N.enable("")}function h(t){var r,s;for(r=0,s=N.skips.length;r<s;r++)if(N.skips[r].test(t))return!1;for(r=0,s=N.names.length;r<s;r++)if(N.names[r].test(t))return!0;return!1}function g(t){return t instanceof Error?t.stack||t.message:t}},11375:function(B){var N=1e3,e=N*60,p=e*60,L=p*24,a=L*365.25;B.exports=function(t,r){r=r||{};var s=typeof t;if(s==="string"&&t.length>0)return C(t);if(s==="number"&&isNaN(t)===!1)return r.long?h(t):w(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function C(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var s=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*L;case"hours":case"hour":case"hrs":case"hr":case"h":return s*p;case"minutes":case"minute":case"mins":case"min":case"m":return s*e;case"seconds":case"second":case"secs":case"sec":case"s":return s*N;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function w(t){return t>=L?Math.round(t/L)+"d":t>=p?Math.round(t/p)+"h":t>=e?Math.round(t/e)+"m":t>=N?Math.round(t/N)+"s":t+"ms"}function h(t){return g(t,L,"day")||g(t,p,"hour")||g(t,e,"minute")||g(t,N,"second")||t+" ms"}function g(t,r,s){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+s:Math.ceil(t/r)+" "+s+"s"}},99011:function(B,N,e){var p=e(88641);B.exports=function(a,C,w){if(a==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");w?(typeof w=="string"||Array.isArray(w))&&(w={ignore:w}):w={},w.escape==null&&(w.escape=!0),w.ignore==null?w.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof w.ignore=="string"&&(w.ignore=[w.ignore]),w.ignore=w.ignore.map(function(c){return c.length===1&&(c=c+c),c}));var h=p.parse(a,{flat:!0,brackets:w.ignore}),g=h[0],t=g.split(C);if(w.escape){for(var r=[],s=0;s<t.length;s++){var n=t[s],l=t[s+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(r.push(n+C+l),s++):r.push(n)}t=r}for(var s=0;s<t.length;s++)h[0]=t[s],t[s]=p.stringify(h,{flat:!0});return t}},68664:function(B){B.exports=N;function N(e){for(var p=e.length,L=new Array(p),a=new Array(p),C=new Array(p),w=new Array(p),h=new Array(p),g=new Array(p),t=0;t<p;++t)L[t]=-1,a[t]=0,C[t]=!1,w[t]=0,h[t]=-1,g[t]=[];var r=0,s=[],n=[];function l(v){var A=[v],d=[v];for(L[v]=a[v]=r,C[v]=!0,r+=1;d.length>0;){v=d[d.length-1];var u=e[v];if(w[v]<u.length){for(var y=w[v];y<u.length;++y){var M=u[y];if(L[M]<0){L[M]=a[M]=r,C[M]=!0,r+=1,A.push(M),d.push(M);break}else C[M]&&(a[v]=Math.min(a[v],a[M])|0);h[M]>=0&&g[v].push(h[M])}w[v]=y}else{if(a[v]===L[v]){for(var S=[],R=[],x=0,y=A.length-1;y>=0;--y){var E=A[y];if(C[E]=!1,S.push(E),R.push(g[E]),x+=g[E].length,h[E]=s.length,E===v){A.length=y;break}}s.push(S);for(var T=new Array(x),y=0;y<R.length;y++)for(var i=0;i<R[y].length;i++)T[--x]=R[y][i];n.push(T)}d.pop()}}}for(var t=0;t<p;++t)L[t]<0&&l(t);for(var c,t=0;t<n.length;t++){var f=n[t];if(f.length!==0){f.sort(function(A,d){return A-d}),c=[f[0]];for(var m=1;m<f.length;m++)f[m]!==f[m-1]&&c.push(f[m]);n[t]=c}}return{components:s,adjacencyList:n}}},7095:function(B,N,e){e.r(N);var p=function(){function t(r,s){var n=[],l=!0,c=!1,f=void 0;try{for(var m=r[Symbol.iterator](),v;!(l=(v=m.next()).done)&&(n.push(v.value),!(s&&n.length===s));l=!0);}catch(A){c=!0,f=A}finally{try{!l&&m.return&&m.return()}finally{if(c)throw f}}return n}return function(r,s){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=Math.PI*2,a=function(r,s,n,l,c,f,m){var v=r.x,A=r.y;v*=s,A*=n;var d=l*v-c*A,u=c*v+l*A;return{x:d+f,y:u+m}},C=function(r,s){var n=s===1.5707963267948966?.551915024494:s===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(s/4),l=Math.cos(r),c=Math.sin(r),f=Math.cos(r+s),m=Math.sin(r+s);return[{x:l-c*n,y:c+l*n},{x:f+m*n,y:m-f*n},{x:f,y:m}]},w=function(r,s,n,l){var c=r*l-s*n<0?-1:1,f=r*n+s*l;return f>1&&(f=1),f<-1&&(f=-1),c*Math.acos(f)},h=function(r,s,n,l,c,f,m,v,A,d,u,y){var M=Math.pow(c,2),S=Math.pow(f,2),R=Math.pow(u,2),x=Math.pow(y,2),E=M*S-M*x-S*R;E<0&&(E=0),E/=M*x+S*R,E=Math.sqrt(E)*(m===v?-1:1);var T=E*c/f*y,i=E*-f/c*u,D=d*T-A*i+(r+n)/2,b=A*T+d*i+(s+l)/2,O=(u-T)/c,F=(y-i)/f,V=(-u-T)/c,_=(-y-i)/f,U=w(1,0,O,F),H=w(O,F,V,_);return v===0&&H>0&&(H-=L),v===1&&H<0&&(H+=L),[D,b,U,H]},g=function(r){var s=r.px,n=r.py,l=r.cx,c=r.cy,f=r.rx,m=r.ry,v=r.xAxisRotation,A=v===void 0?0:v,d=r.largeArcFlag,u=d===void 0?0:d,y=r.sweepFlag,M=y===void 0?0:y,S=[];if(f===0||m===0)return[];var R=Math.sin(A*L/360),x=Math.cos(A*L/360),E=x*(s-l)/2+R*(n-c)/2,T=-R*(s-l)/2+x*(n-c)/2;if(E===0&&T===0)return[];f=Math.abs(f),m=Math.abs(m);var i=Math.pow(E,2)/Math.pow(f,2)+Math.pow(T,2)/Math.pow(m,2);i>1&&(f*=Math.sqrt(i),m*=Math.sqrt(i));var D=h(s,n,l,c,f,m,u,M,R,x,E,T),b=p(D,4),O=b[0],F=b[1],V=b[2],_=b[3],U=Math.abs(_)/(L/4);Math.abs(1-U)<1e-7&&(U=1);var H=Math.max(Math.ceil(U),1);_/=H;for(var z=0;z<H;z++)S.push(C(V,_)),V+=_;return S.map(function(G){var Y=a(G[0],f,m,x,R,O,F),J=Y.x,ae=Y.y,oe=a(G[1],f,m,x,R,O,F),he=oe.x,q=oe.y,Z=a(G[2],f,m,x,R,O,F),$=Z.x,K=Z.y;return{x1:J,y1:ae,x2:he,y2:q,x:$,y:K}})};N.default=g},1750:function(B,N,e){var p=e(95616),L=e(65185),a=e(29988),C=e(89546),w=e(32791);B.exports=h;function h(g){if(Array.isArray(g)&&g.length===1&&typeof g[0]=="string"&&(g=g[0]),typeof g=="string"&&(w(C(g),"String is not an SVG path."),g=p(g)),w(Array.isArray(g),"Argument should be a string or an array of path segments."),g=L(g),g=a(g),!g.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,s=g.length;r<s;r++)for(var n=g[r].slice(1),l=0;l<n.length;l+=2)n[l+0]<t[0]&&(t[0]=n[l+0]),n[l+1]<t[1]&&(t[1]=n[l+1]),n[l+0]>t[2]&&(t[2]=n[l+0]),n[l+1]>t[3]&&(t[3]=n[l+1]);return t}},29988:function(B,N,e){B.exports=L;var p=e(7095);function L(w){for(var h,g=[],t=0,r=0,s=0,n=0,l=null,c=null,f=0,m=0,v=0,A=w.length;v<A;v++){var d=w[v],u=d[0];switch(u){case"M":s=d[1],n=d[2];break;case"A":var y=p({px:f,py:m,cx:d[6],cy:d[7],rx:d[1],ry:d[2],xAxisRotation:d[3],largeArcFlag:d[4],sweepFlag:d[5]});if(!y.length)continue;for(var M=0,S;M<y.length;M++)S=y[M],d=["C",S.x1,S.y1,S.x2,S.y2,S.x,S.y],M<y.length-1&&g.push(d);break;case"S":var R=f,x=m;(h=="C"||h=="S")&&(R+=R-t,x+=x-r),d=["C",R,x,d[1],d[2],d[3],d[4]];break;case"T":h=="Q"||h=="T"?(l=f*2-l,c=m*2-c):(l=f,c=m),d=C(f,m,l,c,d[1],d[2]);break;case"Q":l=d[1],c=d[2],d=C(f,m,d[1],d[2],d[3],d[4]);break;case"L":d=a(f,m,d[1],d[2]);break;case"H":d=a(f,m,d[1],m);break;case"V":d=a(f,m,f,d[1]);break;case"Z":d=a(f,m,s,n);break}h=u,f=d[d.length-2],m=d[d.length-1],d.length>4?(t=d[d.length-4],r=d[d.length-3]):(t=f,r=m),g.push(d)}return g}function a(w,h,g,t){return["C",w,h,g,t,g,t]}function C(w,h,g,t,r,s){return["C",w/3+.6666666666666666*g,h/3+.6666666666666666*t,r/3+.6666666666666666*g,s/3+.6666666666666666*t,r,s]}},82019:function(B,N,e){var p=e(1750),L=e(95616),a=e(31457),C=e(89546),w=e(44781),h=document.createElement("canvas"),g=h.getContext("2d");B.exports=t;function t(n,l){if(!C(n))throw Error("Argument should be valid svg path string");l||(l={});var c,f;l.shape?(c=l.shape[0],f=l.shape[1]):(c=h.width=l.w||l.width||200,f=h.height=l.h||l.height||200);var m=Math.min(c,f),v=l.stroke||0,A=l.viewbox||l.viewBox||p(n),d=[c/(A[2]-A[0]),f/(A[3]-A[1])],u=Math.min(d[0]||0,d[1]||0)/2;if(g.fillStyle="black",g.fillRect(0,0,c,f),g.fillStyle="white",v&&(typeof v!="number"&&(v=1),v>0?g.strokeStyle="white":g.strokeStyle="black",g.lineWidth=Math.abs(v)),g.translate(c*.5,f*.5),g.scale(u,u),s()){var y=new Path2D(n);g.fill(y),v&&g.stroke(y)}else{var M=L(n);a(g,M),g.fill(),v&&g.stroke()}g.setTransform(1,0,0,1,0,0);var S=w(g,{cutoff:l.cutoff!=null?l.cutoff:.5,radius:l.radius!=null?l.radius:m*.5});return S}var r;function s(){if(r!=null)return r;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return r=!1;var l=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(l);var c=n.getImageData(0,0,1,1);return r=c&&c.data&&c.data[3]===255}},84267:function(B,N,e){var p;(function(L){var a=/^\s+/,C=/\s+$/,w=0,h=L.round,g=L.min,t=L.max,r=L.random;function s(ee,ue){if(ee=ee||"",ue=ue||{},ee instanceof s)return ee;if(!(this instanceof s))return new s(ee,ue);var se=n(ee);this._originalInput=ee,this._r=se.r,this._g=se.g,this._b=se.b,this._a=se.a,this._roundA=h(100*this._a)/100,this._format=ue.format||se.format,this._gradientType=ue.gradientType,this._r<1&&(this._r=h(this._r)),this._g<1&&(this._g=h(this._g)),this._b<1&&(this._b=h(this._b)),this._ok=se.ok,this._tc_id=w++}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ee=this.toRgb();return(ee.r*299+ee.g*587+ee.b*114)/1e3},getLuminance:function(){var ee=this.toRgb(),ue,se,ve,be,Ee,Ae;return ue=ee.r/255,se=ee.g/255,ve=ee.b/255,ue<=.03928?be=ue/12.92:be=L.pow((ue+.055)/1.055,2.4),se<=.03928?Ee=se/12.92:Ee=L.pow((se+.055)/1.055,2.4),ve<=.03928?Ae=ve/12.92:Ae=L.pow((ve+.055)/1.055,2.4),.2126*be+.7152*Ee+.0722*Ae},setAlpha:function(ee){return this._a=z(ee),this._roundA=h(100*this._a)/100,this},toHsv:function(){var ee=m(this._r,this._g,this._b);return{h:ee.h*360,s:ee.s,v:ee.v,a:this._a}},toHsvString:function(){var ee=m(this._r,this._g,this._b),ue=h(ee.h*360),se=h(ee.s*100),ve=h(ee.v*100);return this._a==1?"hsv("+ue+", "+se+"%, "+ve+"%)":"hsva("+ue+", "+se+"%, "+ve+"%, "+this._roundA+")"},toHsl:function(){var ee=c(this._r,this._g,this._b);return{h:ee.h*360,s:ee.s,l:ee.l,a:this._a}},toHslString:function(){var ee=c(this._r,this._g,this._b),ue=h(ee.h*360),se=h(ee.s*100),ve=h(ee.l*100);return this._a==1?"hsl("+ue+", "+se+"%, "+ve+"%)":"hsla("+ue+", "+se+"%, "+ve+"%, "+this._roundA+")"},toHex:function(ee){return A(this._r,this._g,this._b,ee)},toHexString:function(ee){return"#"+this.toHex(ee)},toHex8:function(ee){return d(this._r,this._g,this._b,this._a,ee)},toHex8String:function(ee){return"#"+this.toHex8(ee)},toRgb:function(){return{r:h(this._r),g:h(this._g),b:h(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+h(this._r)+", "+h(this._g)+", "+h(this._b)+")":"rgba("+h(this._r)+", "+h(this._g)+", "+h(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:h(G(this._r,255)*100)+"%",g:h(G(this._g,255)*100)+"%",b:h(G(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+h(G(this._r,255)*100)+"%, "+h(G(this._g,255)*100)+"%, "+h(G(this._b,255)*100)+"%)":"rgba("+h(G(this._r,255)*100)+"%, "+h(G(this._g,255)*100)+"%, "+h(G(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:U[A(this._r,this._g,this._b,!0)]||!1},toFilter:function(ee){var ue="#"+u(this._r,this._g,this._b,this._a),se=ue,ve=this._gradientType?"GradientType = 1, ":"";if(ee){var be=s(ee);se="#"+u(be._r,be._g,be._b,be._a)}return"progid:DXImageTransform.Microsoft.gradient("+ve+"startColorstr="+ue+",endColorstr="+se+")"},toString:function(ee){var ue=!!ee;ee=ee||this._format;var se=!1,ve=this._a<1&&this._a>=0,be=!ue&&ve&&(ee==="hex"||ee==="hex6"||ee==="hex3"||ee==="hex4"||ee==="hex8"||ee==="name");return be?ee==="name"&&this._a===0?this.toName():this.toRgbString():(ee==="rgb"&&(se=this.toRgbString()),ee==="prgb"&&(se=this.toPercentageRgbString()),(ee==="hex"||ee==="hex6")&&(se=this.toHexString()),ee==="hex3"&&(se=this.toHexString(!0)),ee==="hex4"&&(se=this.toHex8String(!0)),ee==="hex8"&&(se=this.toHex8String()),ee==="name"&&(se=this.toName()),ee==="hsl"&&(se=this.toHslString()),ee==="hsv"&&(se=this.toHsvString()),se||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(ee,ue){var se=ee.apply(null,[this].concat([].slice.call(ue)));return this._r=se._r,this._g=se._g,this._b=se._b,this.setAlpha(se._a),this},lighten:function(){return this._applyModification(R,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(M,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(ee,ue){return ee.apply(null,[this].concat([].slice.call(ue)))},analogous:function(){return this._applyCombination(F,arguments)},complement:function(){return this._applyCombination(i,arguments)},monochromatic:function(){return this._applyCombination(V,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(D,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},s.fromRatio=function(ee,ue){if(typeof ee=="object"){var se={};for(var ve in ee)ee.hasOwnProperty(ve)&&(ve==="a"?se[ve]=ee[ve]:se[ve]=q(ee[ve]));ee=se}return s(ee,ue)};function n(ee){var ue={r:0,g:0,b:0},se=1,ve=null,be=null,Ee=null,Ae=!1,Oe=!1;return typeof ee=="string"&&(ee=le(ee)),typeof ee=="object"&&(re(ee.r)&&re(ee.g)&&re(ee.b)?(ue=l(ee.r,ee.g,ee.b),Ae=!0,Oe=String(ee.r).substr(-1)==="%"?"prgb":"rgb"):re(ee.h)&&re(ee.s)&&re(ee.v)?(ve=q(ee.s),be=q(ee.v),ue=v(ee.h,ve,be),Ae=!0,Oe="hsv"):re(ee.h)&&re(ee.s)&&re(ee.l)&&(ve=q(ee.s),Ee=q(ee.l),ue=f(ee.h,ve,Ee),Ae=!0,Oe="hsl"),ee.hasOwnProperty("a")&&(se=ee.a)),se=z(se),{ok:Ae,format:ee.format||Oe,r:g(255,t(ue.r,0)),g:g(255,t(ue.g,0)),b:g(255,t(ue.b,0)),a:se}}function l(ee,ue,se){return{r:G(ee,255)*255,g:G(ue,255)*255,b:G(se,255)*255}}function c(ee,ue,se){ee=G(ee,255),ue=G(ue,255),se=G(se,255);var ve=t(ee,ue,se),be=g(ee,ue,se),Ee,Ae,Oe=(ve+be)/2;if(ve==be)Ee=Ae=0;else{var Ue=ve-be;switch(Ae=Oe>.5?Ue/(2-ve-be):Ue/(ve+be),ve){case ee:Ee=(ue-se)/Ue+(ue<se?6:0);break;case ue:Ee=(se-ee)/Ue+2;break;case se:Ee=(ee-ue)/Ue+4;break}Ee/=6}return{h:Ee,s:Ae,l:Oe}}function f(ee,ue,se){var ve,be,Ee;ee=G(ee,360),ue=G(ue,100),se=G(se,100);function Ae(Le,we,Ce){return Ce<0&&(Ce+=1),Ce>1&&(Ce-=1),Ce<.16666666666666666?Le+(we-Le)*6*Ce:Ce<.5?we:Ce<.6666666666666666?Le+(we-Le)*(.6666666666666666-Ce)*6:Le}if(ue===0)ve=be=Ee=se;else{var Oe=se<.5?se*(1+ue):se+ue-se*ue,Ue=2*se-Oe;ve=Ae(Ue,Oe,ee+.3333333333333333),be=Ae(Ue,Oe,ee),Ee=Ae(Ue,Oe,ee-.3333333333333333)}return{r:ve*255,g:be*255,b:Ee*255}}function m(ee,ue,se){ee=G(ee,255),ue=G(ue,255),se=G(se,255);var ve=t(ee,ue,se),be=g(ee,ue,se),Ee,Ae,Oe=ve,Ue=ve-be;if(Ae=ve===0?0:Ue/ve,ve==be)Ee=0;else{switch(ve){case ee:Ee=(ue-se)/Ue+(ue<se?6:0);break;case ue:Ee=(se-ee)/Ue+2;break;case se:Ee=(ee-ue)/Ue+4;break}Ee/=6}return{h:Ee,s:Ae,v:Oe}}function v(ee,ue,se){ee=G(ee,360)*6,ue=G(ue,100),se=G(se,100);var ve=L.floor(ee),be=ee-ve,Ee=se*(1-ue),Ae=se*(1-be*ue),Oe=se*(1-(1-be)*ue),Ue=ve%6,Le=[se,Ae,Ee,Ee,Oe,se][Ue],we=[Oe,se,se,Ae,Ee,Ee][Ue],Ce=[Ee,Ee,Oe,se,se,Ae][Ue];return{r:Le*255,g:we*255,b:Ce*255}}function A(ee,ue,se,ve){var be=[he(h(ee).toString(16)),he(h(ue).toString(16)),he(h(se).toString(16))];return ve&&be[0].charAt(0)==be[0].charAt(1)&&be[1].charAt(0)==be[1].charAt(1)&&be[2].charAt(0)==be[2].charAt(1)?be[0].charAt(0)+be[1].charAt(0)+be[2].charAt(0):be.join("")}function d(ee,ue,se,ve,be){var Ee=[he(h(ee).toString(16)),he(h(ue).toString(16)),he(h(se).toString(16)),he(Z(ve))];return be&&Ee[0].charAt(0)==Ee[0].charAt(1)&&Ee[1].charAt(0)==Ee[1].charAt(1)&&Ee[2].charAt(0)==Ee[2].charAt(1)&&Ee[3].charAt(0)==Ee[3].charAt(1)?Ee[0].charAt(0)+Ee[1].charAt(0)+Ee[2].charAt(0)+Ee[3].charAt(0):Ee.join("")}function u(ee,ue,se,ve){var be=[he(Z(ve)),he(h(ee).toString(16)),he(h(ue).toString(16)),he(h(se).toString(16))];return be.join("")}s.equals=function(ee,ue){return!ee||!ue?!1:s(ee).toRgbString()==s(ue).toRgbString()},s.random=function(){return s.fromRatio({r:r(),g:r(),b:r()})};function y(ee,ue){ue=ue===0?0:ue||10;var se=s(ee).toHsl();return se.s-=ue/100,se.s=Y(se.s),s(se)}function M(ee,ue){ue=ue===0?0:ue||10;var se=s(ee).toHsl();return se.s+=ue/100,se.s=Y(se.s),s(se)}function S(ee){return s(ee).desaturate(100)}function R(ee,ue){ue=ue===0?0:ue||10;var se=s(ee).toHsl();return se.l+=ue/100,se.l=Y(se.l),s(se)}function x(ee,ue){ue=ue===0?0:ue||10;var se=s(ee).toRgb();return se.r=t(0,g(255,se.r-h(255*-(ue/100)))),se.g=t(0,g(255,se.g-h(255*-(ue/100)))),se.b=t(0,g(255,se.b-h(255*-(ue/100)))),s(se)}function E(ee,ue){ue=ue===0?0:ue||10;var se=s(ee).toHsl();return se.l-=ue/100,se.l=Y(se.l),s(se)}function T(ee,ue){var se=s(ee).toHsl(),ve=(se.h+ue)%360;return se.h=ve<0?360+ve:ve,s(se)}function i(ee){var ue=s(ee).toHsl();return ue.h=(ue.h+180)%360,s(ue)}function D(ee){var ue=s(ee).toHsl(),se=ue.h;return[s(ee),s({h:(se+120)%360,s:ue.s,l:ue.l}),s({h:(se+240)%360,s:ue.s,l:ue.l})]}function b(ee){var ue=s(ee).toHsl(),se=ue.h;return[s(ee),s({h:(se+90)%360,s:ue.s,l:ue.l}),s({h:(se+180)%360,s:ue.s,l:ue.l}),s({h:(se+270)%360,s:ue.s,l:ue.l})]}function O(ee){var ue=s(ee).toHsl(),se=ue.h;return[s(ee),s({h:(se+72)%360,s:ue.s,l:ue.l}),s({h:(se+216)%360,s:ue.s,l:ue.l})]}function F(ee,ue,se){ue=ue||6,se=se||30;var ve=s(ee).toHsl(),be=360/se,Ee=[s(ee)];for(ve.h=(ve.h-(be*ue>>1)+720)%360;--ue;)ve.h=(ve.h+be)%360,Ee.push(s(ve));return Ee}function V(ee,ue){ue=ue||6;for(var se=s(ee).toHsv(),ve=se.h,be=se.s,Ee=se.v,Ae=[],Oe=1/ue;ue--;)Ae.push(s({h:ve,s:be,v:Ee})),Ee=(Ee+Oe)%1;return Ae}s.mix=function(ee,ue,se){se=se===0?0:se||50;var ve=s(ee).toRgb(),be=s(ue).toRgb(),Ee=se/100,Ae={r:(be.r-ve.r)*Ee+ve.r,g:(be.g-ve.g)*Ee+ve.g,b:(be.b-ve.b)*Ee+ve.b,a:(be.a-ve.a)*Ee+ve.a};return s(Ae)},s.readability=function(ee,ue){var se=s(ee),ve=s(ue);return(L.max(se.getLuminance(),ve.getLuminance())+.05)/(L.min(se.getLuminance(),ve.getLuminance())+.05)},s.isReadable=function(ee,ue,se){var ve=s.readability(ee,ue),be,Ee;switch(Ee=!1,be=te(se),be.level+be.size){case"AAsmall":case"AAAlarge":Ee=ve>=4.5;break;case"AAlarge":Ee=ve>=3;break;case"AAAsmall":Ee=ve>=7;break}return Ee},s.mostReadable=function(ee,ue,se){var ve=null,be=0,Ee,Ae,Oe,Ue;se=se||{},Ae=se.includeFallbackColors,Oe=se.level,Ue=se.size;for(var Le=0;Le<ue.length;Le++)Ee=s.readability(ee,ue[Le]),Ee>be&&(be=Ee,ve=s(ue[Le]));return s.isReadable(ee,ve,{level:Oe,size:Ue})||!Ae?ve:(se.includeFallbackColors=!1,s.mostReadable(ee,["#fff","#000"],se))};var _=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=s.hexNames=H(_);function H(ee){var ue={};for(var se in ee)ee.hasOwnProperty(se)&&(ue[ee[se]]=se);return ue}function z(ee){return ee=parseFloat(ee),(isNaN(ee)||ee<0||ee>1)&&(ee=1),ee}function G(ee,ue){ae(ee)&&(ee="100%");var se=oe(ee);return ee=g(ue,t(0,parseFloat(ee))),se&&(ee=parseInt(ee*ue,10)/100),L.abs(ee-ue)<1e-6?1:ee%ue/parseFloat(ue)}function Y(ee){return g(1,t(0,ee))}function J(ee){return parseInt(ee,16)}function ae(ee){return typeof ee=="string"&&ee.indexOf(".")!=-1&&parseFloat(ee)===1}function oe(ee){return typeof ee=="string"&&ee.indexOf("%")!=-1}function he(ee){return ee.length==1?"0"+ee:""+ee}function q(ee){return ee<=1&&(ee=ee*100+"%"),ee}function Z(ee){return L.round(parseFloat(ee)*255).toString(16)}function $(ee){return J(ee)/255}var K=function(){var ee="[-\\+]?\\d+%?",ue="[-\\+]?\\d*\\.\\d+%?",se="(?:"+ue+")|(?:"+ee+")",ve="[\\s|\\(]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")\\s*\\)?",be="[\\s|\\(]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")\\s*\\)?";return{CSS_UNIT:new RegExp(se),rgb:new RegExp("rgb"+ve),rgba:new RegExp("rgba"+be),hsl:new RegExp("hsl"+ve),hsla:new RegExp("hsla"+be),hsv:new RegExp("hsv"+ve),hsva:new RegExp("hsva"+be),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function re(ee){return!!K.CSS_UNIT.exec(ee)}function le(ee){ee=ee.replace(a,"").replace(C,"").toLowerCase();var ue=!1;if(_[ee])ee=_[ee],ue=!0;else if(ee=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var se;return(se=K.rgb.exec(ee))?{r:se[1],g:se[2],b:se[3]}:(se=K.rgba.exec(ee))?{r:se[1],g:se[2],b:se[3],a:se[4]}:(se=K.hsl.exec(ee))?{h:se[1],s:se[2],l:se[3]}:(se=K.hsla.exec(ee))?{h:se[1],s:se[2],l:se[3],a:se[4]}:(se=K.hsv.exec(ee))?{h:se[1],s:se[2],v:se[3]}:(se=K.hsva.exec(ee))?{h:se[1],s:se[2],v:se[3],a:se[4]}:(se=K.hex8.exec(ee))?{r:J(se[1]),g:J(se[2]),b:J(se[3]),a:$(se[4]),format:ue?"name":"hex8"}:(se=K.hex6.exec(ee))?{r:J(se[1]),g:J(se[2]),b:J(se[3]),format:ue?"name":"hex"}:(se=K.hex4.exec(ee))?{r:J(se[1]+""+se[1]),g:J(se[2]+""+se[2]),b:J(se[3]+""+se[3]),a:$(se[4]+""+se[4]),format:ue?"name":"hex8"}:(se=K.hex3.exec(ee))?{r:J(se[1]+""+se[1]),g:J(se[2]+""+se[2]),b:J(se[3]+""+se[3]),format:ue?"name":"hex"}:!1}function te(ee){var ue,se;return ee=ee||{level:"AA",size:"small"},ue=(ee.level||"AA").toUpperCase(),se=(ee.size||"small").toLowerCase(),ue!=="AA"&&ue!=="AAA"&&(ue="AA"),se!=="small"&&se!=="large"&&(se="small"),{level:ue,size:se}}B.exports?B.exports=s:(p=(function(){return s}).call(N,e,N,B),p!==void 0&&(B.exports=p))})(Math)},57060:function(B){B.exports=p,B.exports.float32=B.exports.float=p,B.exports.fract32=B.exports.fract=e;var N=new Float32Array(1);function e(L,a){if(L.length){if(L instanceof Float32Array)return new Float32Array(L.length);a instanceof Float32Array||(a=p(L));for(var C=0,w=a.length;C<w;C++)a[C]=L[C]-a[C];return a}return p(L-p(L))}function p(L){return L.length?L instanceof Float32Array?L:new Float32Array(L):(N[0]=L,N[0])}},75686:function(B,N,e){var p=e(25677);B.exports=w;var L=96;function a(h,g){var t=p(getComputedStyle(h).getPropertyValue(g));return t[0]*w(t[1],h)}function C(h,g){var t=document.createElement("div");t.style["font-size"]="128"+h,g.appendChild(t);var r=a(t,"font-size")/128;return g.removeChild(t),r}function w(h,g){switch(g=g||document.body,h=(h||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),h){case"%":return g.clientHeight/100;case"ch":case"ex":return C(h,g);case"em":return a(g,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return L;case"cm":return L/2.54;case"mm":return L/25.4;case"pt":return L/72;case"pc":return L/6}return 1}},96892:function(B,N,e){e.d(N,{zL:function(){return C}});function p(g,t){for(var r,s=g.length,n=s-t;n<--s;)r=g[n],g[n++]=g[s],g[s]=r}function L(g){return g}function a(g){if(g==null)return L;var t,r,s=g.scale[0],n=g.scale[1],l=g.translate[0],c=g.translate[1];return function(f,m){m||(t=r=0);var v=2,A=f.length,d=new Array(A);for(d[0]=(t+=f[0])*s+l,d[1]=(r+=f[1])*n+c;v<A;)d[v]=f[v],++v;return d}}function C(g,t){return typeof t=="string"&&(t=g.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return w(g,r)})}:w(g,t)}function w(g,t){var r=t.id,s=t.bbox,n=t.properties==null?{}:t.properties,l=h(g,t);return r==null&&s==null?{type:"Feature",properties:n,geometry:l}:s==null?{type:"Feature",id:r,properties:n,geometry:l}:{type:"Feature",id:r,bbox:s,properties:n,geometry:l}}function h(g,t){var r=a(g.transform),s=g.arcs;function n(A,d){d.length&&d.pop();for(var u=s[A<0?~A:A],y=0,M=u.length;y<M;++y)d.push(r(u[y],y));A<0&&p(d,M)}function l(A){return r(A)}function c(A){for(var d=[],u=0,y=A.length;u<y;++u)n(A[u],d);return d.length<2&&d.push(d[0]),d}function f(A){for(var d=c(A);d.length<4;)d.push(d[0]);return d}function m(A){return A.map(f)}function v(A){var d=A.type,u;switch(d){case"GeometryCollection":return{type:d,geometries:A.geometries.map(v)};case"Point":u=l(A.coordinates);break;case"MultiPoint":u=A.coordinates.map(l);break;case"LineString":u=c(A.arcs);break;case"MultiLineString":u=A.arcs.map(c);break;case"Polygon":u=m(A.arcs);break;case"MultiPolygon":u=A.arcs.map(m);break;default:return null}return{type:d,coordinates:u}}return v(t)}},73116:function(B,N,e){var p=e(24511);B.exports=function(L){if(typeof L!="function"||!hasOwnProperty.call(L,"length"))return!1;try{if(typeof L.length!="number"||typeof L.call!="function"||typeof L.apply!="function")return!1}catch{return!1}return!p(L)}},69190:function(B,N,e){var p=e(24582),L=e(47403),a=e(9234),C=e(6048),w=function(h,g){return h.replace("%v",C(g))};B.exports=function(h,g,t){if(!L(t))throw new TypeError(w(g,h));if(!p(h)){if("default"in t)return t.default;if(t.isOptional)return null}var r=a(t.errorMessage);throw p(r)||(r=g),new TypeError(w(r,h))}},18497:function(B){B.exports=function(N){try{return N.toString()}catch{try{return String(N)}catch{return null}}}},6048:function(B,N,e){var p=e(18497),L=/[\n\r\u2028\u2029]/g;B.exports=function(a){var C=p(a);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+"…"),C=C.replace(L,function(w){switch(w){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},47403:function(B,N,e){var p=e(24582),L={object:!0,function:!0,undefined:!0};B.exports=function(a){return p(a)?hasOwnProperty.call(L,typeof a):!1}},82527:function(B,N,e){var p=e(69190),L=e(84985);B.exports=function(a){return L(a)?a:p(a,"%v is not a plain function",arguments[1])}},84985:function(B,N,e){var p=e(73116),L=/^\s*class[\s{/}]/,a=Function.prototype.toString;B.exports=function(C){return!(!p(C)||L.test(a.call(C)))}},24511:function(B,N,e){var p=e(47403);B.exports=function(L){if(!p(L))return!1;try{return L.constructor?L.constructor.prototype===L:!1}catch{return!1}}},9234:function(B,N,e){var p=e(24582),L=e(47403),a=Object.prototype.toString;B.exports=function(C){if(!p(C))return null;if(L(C)){var w=C.toString;if(typeof w!="function"||w===a)return null}try{return""+C}catch{return null}}},10424:function(B,N,e){var p=e(69190),L=e(24582);B.exports=function(a){return L(a)?a:p(a,"Cannot use %v",arguments[1])}},24582:function(B){var N=void 0;B.exports=function(e){return e!==N&&e!==null}},58404:function(B,N,e){var p=e(13547),L=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:L([32,0]),UINT16:L([32,0]),UINT32:L([32,0]),BIGUINT64:L([32,0]),INT8:L([32,0]),INT16:L([32,0]),INT32:L([32,0]),BIGINT64:L([32,0]),FLOAT:L([32,0]),DOUBLE:L([32,0]),DATA:L([32,0]),UINT8C:L([32,0]),BUFFER:L([32,0])});var C=typeof Uint8ClampedArray<"u",w=typeof BigUint64Array<"u",h=typeof BigInt64Array<"u",g=e.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=L([32,0])),g.BIGUINT64||(g.BIGUINT64=L([32,0])),g.BIGINT64||(g.BIGINT64=L([32,0])),g.BUFFER||(g.BUFFER=L([32,0]));var t=g.DATA,r=g.BUFFER;N.free=function(i){if(a.isBuffer(i))r[p.log2(i.length)].push(i);else{if(Object.prototype.toString.call(i)!=="[object ArrayBuffer]"&&(i=i.buffer),!i)return;var D=i.length||i.byteLength,b=p.log2(D)|0;t[b].push(i)}};function s(T){if(T){var i=T.length||T.byteLength,D=p.log2(i);t[D].push(T)}}function n(T){s(T.buffer)}N.freeUint8=N.freeUint16=N.freeUint32=N.freeBigUint64=N.freeInt8=N.freeInt16=N.freeInt32=N.freeBigInt64=N.freeFloat32=N.freeFloat=N.freeFloat64=N.freeDouble=N.freeUint8Clamped=N.freeDataView=n,N.freeArrayBuffer=s,N.freeBuffer=function(i){r[p.log2(i.length)].push(i)},N.malloc=function(i,D){if(D===void 0||D==="arraybuffer")return l(i);switch(D){case"uint8":return c(i);case"uint16":return f(i);case"uint32":return m(i);case"int8":return v(i);case"int16":return A(i);case"int32":return d(i);case"float":case"float32":return u(i);case"double":case"float64":return y(i);case"uint8_clamped":return M(i);case"bigint64":return R(i);case"biguint64":return S(i);case"buffer":return E(i);case"data":case"dataview":return x(i);default:return null}return null};function l(i){var i=p.nextPow2(i),D=p.log2(i),b=t[D];return b.length>0?b.pop():new ArrayBuffer(i)}N.mallocArrayBuffer=l;function c(T){return new Uint8Array(l(T),0,T)}N.mallocUint8=c;function f(T){return new Uint16Array(l(2*T),0,T)}N.mallocUint16=f;function m(T){return new Uint32Array(l(4*T),0,T)}N.mallocUint32=m;function v(T){return new Int8Array(l(T),0,T)}N.mallocInt8=v;function A(T){return new Int16Array(l(2*T),0,T)}N.mallocInt16=A;function d(T){return new Int32Array(l(4*T),0,T)}N.mallocInt32=d;function u(T){return new Float32Array(l(4*T),0,T)}N.mallocFloat32=N.mallocFloat=u;function y(T){return new Float64Array(l(8*T),0,T)}N.mallocFloat64=N.mallocDouble=y;function M(T){return C?new Uint8ClampedArray(l(T),0,T):c(T)}N.mallocUint8Clamped=M;function S(T){return w?new BigUint64Array(l(8*T),0,T):null}N.mallocBigUint64=S;function R(T){return h?new BigInt64Array(l(8*T),0,T):null}N.mallocBigInt64=R;function x(T){return new DataView(l(T),0,T)}N.mallocDataView=x;function E(T){T=p.nextPow2(T);var i=p.log2(T),D=r[i];return D.length>0?D.pop():new a(T)}N.mallocBuffer=E,N.clearCache=function(){for(var i=0;i<32;++i)g.UINT8[i].length=0,g.UINT16[i].length=0,g.UINT32[i].length=0,g.INT8[i].length=0,g.INT16[i].length=0,g.INT32[i].length=0,g.FLOAT[i].length=0,g.DOUBLE[i].length=0,g.BIGUINT64[i].length=0,g.BIGINT64[i].length=0,g.UINT8C[i].length=0,t[i].length=0,r[i].length=0}},90448:function(B){var N=/[\'\"]/;B.exports=function(p){return p?(N.test(p.charAt(0))&&(p=p.substr(1)),N.test(p.charAt(p.length-1))&&(p=p.substr(0,p.length-1)),p):""}},93447:function(B){B.exports=function(e,p,L){Array.isArray(L)||(L=[].slice.call(arguments,2));for(var a=0,C=L.length;a<C;a++){var w=L[a];for(var h in w)if(!(p[h]!==void 0&&!Array.isArray(p[h])&&e[h]===p[h])&&h in p){var g;if(w[h]===!0)g=p[h];else{if(w[h]===!1)continue;if(typeof w[h]=="function"&&(g=w[h](p[h],e,p),g===void 0))continue}e[h]=g}}return e}},20588:function(B,N,e){B.exports=p;function p(a,C){if(L("noDeprecation"))return a;var w=!1;function h(){if(!w){if(L("throwDeprecation"))throw new Error(C);L("traceDeprecation")?console.trace(C):console.warn(C),w=!0}return a.apply(this,arguments)}return h}function L(a){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[a];return C==null?!1:String(C).toLowerCase()==="true"}},45920:function(B){B.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(B,N,e){var p=e(47216),L=e(65481),a=e(21099),C=e(9187);function w(Ee){return Ee.call.bind(Ee)}var h=typeof BigInt<"u",g=typeof Symbol<"u",t=w(Object.prototype.toString),r=w(Number.prototype.valueOf),s=w(String.prototype.valueOf),n=w(Boolean.prototype.valueOf);if(h)var l=w(BigInt.prototype.valueOf);if(g)var c=w(Symbol.prototype.valueOf);function f(Ee,Ae){if(typeof Ee!="object")return!1;try{return Ae(Ee),!0}catch{return!1}}N.isArgumentsObject=p,N.isGeneratorFunction=L,N.isTypedArray=C;function m(Ee){return typeof Promise<"u"&&Ee instanceof Promise||Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"&&typeof Ee.catch=="function"}N.isPromise=m;function v(Ee){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ee):C(Ee)||J(Ee)}N.isArrayBufferView=v;function A(Ee){return a(Ee)==="Uint8Array"}N.isUint8Array=A;function d(Ee){return a(Ee)==="Uint8ClampedArray"}N.isUint8ClampedArray=d;function u(Ee){return a(Ee)==="Uint16Array"}N.isUint16Array=u;function y(Ee){return a(Ee)==="Uint32Array"}N.isUint32Array=y;function M(Ee){return a(Ee)==="Int8Array"}N.isInt8Array=M;function S(Ee){return a(Ee)==="Int16Array"}N.isInt16Array=S;function R(Ee){return a(Ee)==="Int32Array"}N.isInt32Array=R;function x(Ee){return a(Ee)==="Float32Array"}N.isFloat32Array=x;function E(Ee){return a(Ee)==="Float64Array"}N.isFloat64Array=E;function T(Ee){return a(Ee)==="BigInt64Array"}N.isBigInt64Array=T;function i(Ee){return a(Ee)==="BigUint64Array"}N.isBigUint64Array=i;function D(Ee){return t(Ee)==="[object Map]"}D.working=typeof Map<"u"&&D(new Map);function b(Ee){return typeof Map>"u"?!1:D.working?D(Ee):Ee instanceof Map}N.isMap=b;function O(Ee){return t(Ee)==="[object Set]"}O.working=typeof Set<"u"&&O(new Set);function F(Ee){return typeof Set>"u"?!1:O.working?O(Ee):Ee instanceof Set}N.isSet=F;function V(Ee){return t(Ee)==="[object WeakMap]"}V.working=typeof WeakMap<"u"&&V(new WeakMap);function _(Ee){return typeof WeakMap>"u"?!1:V.working?V(Ee):Ee instanceof WeakMap}N.isWeakMap=_;function U(Ee){return t(Ee)==="[object WeakSet]"}U.working=typeof WeakSet<"u"&&U(new WeakSet);function H(Ee){return U(Ee)}N.isWeakSet=H;function z(Ee){return t(Ee)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer<"u"&&z(new ArrayBuffer);function G(Ee){return typeof ArrayBuffer>"u"?!1:z.working?z(Ee):Ee instanceof ArrayBuffer}N.isArrayBuffer=G;function Y(Ee){return t(Ee)==="[object DataView]"}Y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Y(new DataView(new ArrayBuffer(1),0,1));function J(Ee){return typeof DataView>"u"?!1:Y.working?Y(Ee):Ee instanceof DataView}N.isDataView=J;var ae=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function oe(Ee){return t(Ee)==="[object SharedArrayBuffer]"}function he(Ee){return typeof ae>"u"?!1:(typeof oe.working>"u"&&(oe.working=oe(new ae)),oe.working?oe(Ee):Ee instanceof ae)}N.isSharedArrayBuffer=he;function q(Ee){return t(Ee)==="[object AsyncFunction]"}N.isAsyncFunction=q;function Z(Ee){return t(Ee)==="[object Map Iterator]"}N.isMapIterator=Z;function $(Ee){return t(Ee)==="[object Set Iterator]"}N.isSetIterator=$;function K(Ee){return t(Ee)==="[object Generator]"}N.isGeneratorObject=K;function re(Ee){return t(Ee)==="[object WebAssembly.Module]"}N.isWebAssemblyCompiledModule=re;function le(Ee){return f(Ee,r)}N.isNumberObject=le;function te(Ee){return f(Ee,s)}N.isStringObject=te;function ee(Ee){return f(Ee,n)}N.isBooleanObject=ee;function ue(Ee){return h&&f(Ee,l)}N.isBigIntObject=ue;function se(Ee){return g&&f(Ee,c)}N.isSymbolObject=se;function ve(Ee){return le(Ee)||te(Ee)||ee(Ee)||ue(Ee)||se(Ee)}N.isBoxedPrimitive=ve;function be(Ee){return typeof Uint8Array<"u"&&(G(Ee)||he(Ee))}N.isAnyArrayBuffer=be,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ee){Object.defineProperty(N,Ee,{enumerable:!1,value:function(){throw new Error(Ee+" is not supported in userland")}})})},43827:function(B,N,e){var p=e(90386),L=Object.getOwnPropertyDescriptors||function(ae){for(var oe=Object.keys(ae),he={},q=0;q<oe.length;q++)he[oe[q]]=Object.getOwnPropertyDescriptor(ae,oe[q]);return he},a=/%[sdj%]/g;N.format=function(J){if(!S(J)){for(var ae=[],oe=0;oe<arguments.length;oe++)ae.push(g(arguments[oe]));return ae.join(" ")}for(var oe=1,he=arguments,q=he.length,Z=String(J).replace(a,function(K){if(K==="%%")return"%";if(oe>=q)return K;switch(K){case"%s":return String(he[oe++]);case"%d":return Number(he[oe++]);case"%j":try{return JSON.stringify(he[oe++])}catch{return"[Circular]"}default:return K}}),$=he[oe];oe<q;$=he[++oe])u($)||!T($)?Z+=" "+$:Z+=" "+g($);return Z},N.deprecate=function(J,ae){if(typeof p<"u"&&p.noDeprecation===!0)return J;if(typeof p>"u")return function(){return N.deprecate(J,ae).apply(this,arguments)};var oe=!1;function he(){if(!oe){if(p.throwDeprecation)throw new Error(ae);p.traceDeprecation?console.trace(ae):console.error(ae),oe=!0}return J.apply(this,arguments)}return he};var C={},w=/^$/;if({}.NODE_DEBUG){var h={}.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),w=new RegExp("^"+h+"$","i")}N.debuglog=function(J){if(J=J.toUpperCase(),!C[J])if(w.test(J)){var ae=p.pid;C[J]=function(){var oe=N.format.apply(N,arguments);console.error("%s %d: %s",J,ae,oe)}}else C[J]=function(){};return C[J]};function g(J,ae){var oe={seen:[],stylize:r};return arguments.length>=3&&(oe.depth=arguments[2]),arguments.length>=4&&(oe.colors=arguments[3]),d(ae)?oe.showHidden=ae:ae&&N._extend(oe,ae),x(oe.showHidden)&&(oe.showHidden=!1),x(oe.depth)&&(oe.depth=2),x(oe.colors)&&(oe.colors=!1),x(oe.customInspect)&&(oe.customInspect=!0),oe.colors&&(oe.stylize=t),n(oe,J,oe.depth)}N.inspect=g,g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t(J,ae){var oe=g.styles[ae];return oe?"\x1B["+g.colors[oe][0]+"m"+J+"\x1B["+g.colors[oe][1]+"m":J}function r(J,ae){return J}function s(J){var ae={};return J.forEach(function(oe,he){ae[oe]=!0}),ae}function n(J,ae,oe){if(J.customInspect&&ae&&b(ae.inspect)&&ae.inspect!==N.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var he=ae.inspect(oe,J);return S(he)||(he=n(J,he,oe)),he}var q=l(J,ae);if(q)return q;var Z=Object.keys(ae),$=s(Z);if(J.showHidden&&(Z=Object.getOwnPropertyNames(ae)),D(ae)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return c(ae);if(Z.length===0){if(b(ae)){var K=ae.name?": "+ae.name:"";return J.stylize("[Function"+K+"]","special")}if(E(ae))return J.stylize(RegExp.prototype.toString.call(ae),"regexp");if(i(ae))return J.stylize(Date.prototype.toString.call(ae),"date");if(D(ae))return c(ae)}var re="",le=!1,te=["{","}"];if(A(ae)&&(le=!0,te=["[","]"]),b(ae)){var ee=ae.name?": "+ae.name:"";re=" [Function"+ee+"]"}if(E(ae)&&(re=" "+RegExp.prototype.toString.call(ae)),i(ae)&&(re=" "+Date.prototype.toUTCString.call(ae)),D(ae)&&(re=" "+c(ae)),Z.length===0&&(!le||ae.length==0))return te[0]+re+te[1];if(oe<0)return E(ae)?J.stylize(RegExp.prototype.toString.call(ae),"regexp"):J.stylize("[Object]","special");J.seen.push(ae);var ue;return le?ue=f(J,ae,oe,$,Z):ue=Z.map(function(se){return m(J,ae,oe,$,se,le)}),J.seen.pop(),v(ue,re,te)}function l(J,ae){if(x(ae))return J.stylize("undefined","undefined");if(S(ae)){var oe="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(oe,"string")}if(M(ae))return J.stylize(""+ae,"number");if(d(ae))return J.stylize(""+ae,"boolean");if(u(ae))return J.stylize("null","null")}function c(J){return"["+Error.prototype.toString.call(J)+"]"}function f(J,ae,oe,he,q){for(var Z=[],$=0,K=ae.length;$<K;++$)H(ae,String($))?Z.push(m(J,ae,oe,he,String($),!0)):Z.push("");return q.forEach(function(re){re.match(/^\d+$/)||Z.push(m(J,ae,oe,he,re,!0))}),Z}function m(J,ae,oe,he,q,Z){var $,K,re;if(re=Object.getOwnPropertyDescriptor(ae,q)||{value:ae[q]},re.get?re.set?K=J.stylize("[Getter/Setter]","special"):K=J.stylize("[Getter]","special"):re.set&&(K=J.stylize("[Setter]","special")),H(he,q)||($="["+q+"]"),K||(J.seen.indexOf(re.value)<0?(u(oe)?K=n(J,re.value,null):K=n(J,re.value,oe-1),K.indexOf(`
`)>-1&&(Z?K=K.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):K=`
`+K.split(`
`).map(function(le){return"   "+le}).join(`
`))):K=J.stylize("[Circular]","special")),x($)){if(Z&&q.match(/^\d+$/))return K;$=JSON.stringify(""+q),$.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($=$.slice(1,-1),$=J.stylize($,"name")):($=$.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),$=J.stylize($,"string"))}return $+": "+K}function v(J,ae,oe){var he=J.reduce(function(q,Z){return Z.indexOf(`
`)>=0,q+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return he>60?oe[0]+(ae===""?"":ae+`
 `)+" "+J.join(`,
  `)+" "+oe[1]:oe[0]+ae+" "+J.join(", ")+" "+oe[1]}N.types=e(4936);function A(J){return Array.isArray(J)}N.isArray=A;function d(J){return typeof J=="boolean"}N.isBoolean=d;function u(J){return J===null}N.isNull=u;function y(J){return J==null}N.isNullOrUndefined=y;function M(J){return typeof J=="number"}N.isNumber=M;function S(J){return typeof J=="string"}N.isString=S;function R(J){return typeof J=="symbol"}N.isSymbol=R;function x(J){return J===void 0}N.isUndefined=x;function E(J){return T(J)&&F(J)==="[object RegExp]"}N.isRegExp=E,N.types.isRegExp=E;function T(J){return typeof J=="object"&&J!==null}N.isObject=T;function i(J){return T(J)&&F(J)==="[object Date]"}N.isDate=i,N.types.isDate=i;function D(J){return T(J)&&(F(J)==="[object Error]"||J instanceof Error)}N.isError=D,N.types.isNativeError=D;function b(J){return typeof J=="function"}N.isFunction=b;function O(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J>"u"}N.isPrimitive=O,N.isBuffer=e(45920);function F(J){return Object.prototype.toString.call(J)}function V(J){return J<10?"0"+J.toString(10):J.toString(10)}var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function U(){var J=new Date,ae=[V(J.getHours()),V(J.getMinutes()),V(J.getSeconds())].join(":");return[J.getDate(),_[J.getMonth()],ae].join(" ")}N.log=function(){console.log("%s - %s",U(),N.format.apply(N,arguments))},N.inherits=e(42018),N._extend=function(J,ae){if(!ae||!T(ae))return J;for(var oe=Object.keys(ae),he=oe.length;he--;)J[oe[he]]=ae[oe[he]];return J};function H(J,ae){return Object.prototype.hasOwnProperty.call(J,ae)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;N.promisify=function(ae){if(typeof ae!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&ae[z]){var oe=ae[z];if(typeof oe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(oe,z,{value:oe,enumerable:!1,writable:!1,configurable:!0}),oe}function oe(){for(var he,q,Z=new Promise(function(re,le){he=re,q=le}),$=[],K=0;K<arguments.length;K++)$.push(arguments[K]);$.push(function(re,le){re?q(re):he(le)});try{ae.apply(this,$)}catch(re){q(re)}return Z}return Object.setPrototypeOf(oe,Object.getPrototypeOf(ae)),z&&Object.defineProperty(oe,z,{value:oe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(oe,L(ae))},N.promisify.custom=z;function G(J,ae){if(!J){var oe=new Error("Promise was rejected with a falsy value");oe.reason=J,J=oe}return ae(J)}function Y(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');function ae(){for(var oe=[],he=0;he<arguments.length;he++)oe.push(arguments[he]);var q=oe.pop();if(typeof q!="function")throw new TypeError("The last argument must be of type Function");var Z=this,$=function(){return q.apply(Z,arguments)};J.apply(this,oe).then(function(K){p.nextTick($.bind(null,null,K))},function(K){p.nextTick(G.bind(null,K,$))})}return Object.setPrototypeOf(ae,Object.getPrototypeOf(J)),Object.defineProperties(ae,L(J)),ae}N.callbackify=Y},40372:function(B,N,e){var p=e(86249);B.exports=function(a){return p("webgl",a)}},21099:function(B,N,e){var p=e(31353),L=e(72077),a=e(6614),C=e(40383),w=a("Object.prototype.toString"),h=e(84543)(),g=typeof globalThis>"u"?e.g:globalThis,t=L(),r=a("String.prototype.slice"),s={},n=Object.getPrototypeOf;h&&C&&n&&p(t,function(f){if(typeof g[f]=="function"){var m=new g[f];if(Symbol.toStringTag in m){var v=n(m),A=C(v,Symbol.toStringTag);if(!A){var d=n(v);A=C(d,Symbol.toStringTag)}s[f]=A.get}}});var l=function(m){var v=!1;return p(s,function(A,d){if(!v)try{var u=A.call(m);u===d&&(v=u)}catch{}}),v},c=e(9187);B.exports=function(m){return c(m)?!h||!(Symbol.toStringTag in m)?r(w(m),8,-1):l(m):!1}},3961:function(B,N,e){var p=e(63489),L=e(56131),a=p.instance();function C(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(c,f){if(typeof c=="string"){var m=c.match(h);return m?m[0]:""}var v=this._validateYear(c),A=c.month(),d=""+this.toChineseMonth(v,A);return f&&d.length<2&&(d="0"+d),this.isIntercalaryMonth(v,A)&&(d+="i"),d},monthNames:function(c){if(typeof c=="string"){var f=c.match(g);return f?f[0]:""}var m=this._validateYear(c),v=c.month(),A=this.toChineseMonth(m,v),d=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][A-1];return this.isIntercalaryMonth(m,v)&&(d="闰"+d),d},monthNamesShort:function(c){if(typeof c=="string"){var f=c.match(t);return f?f[0]:""}var m=this._validateYear(c),v=c.month(),A=this.toChineseMonth(m,v),d=["一","二","三","四","五","六","七","八","九","十","十一","十二"][A-1];return this.isIntercalaryMonth(m,v)&&(d="闰"+d),d},parseMonth:function(c,f){c=this._validateYear(c);var m=parseInt(f),v;if(isNaN(m))f[0]==="闰"&&(v=!0,f=f.substring(1)),f[f.length-1]==="月"&&(f=f.substring(0,f.length-1)),m=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(f);else{var A=f[f.length-1];v=A==="i"||A==="I"}var d=this.toMonthIndex(c,m,v);return d},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(c,f){if(c.year&&(c=c.year()),typeof c!="number"||c<1888||c>2111)throw f.replace(/\{0\}/,this.local.name);return c},toMonthIndex:function(c,f,m){var v=this.intercalaryMonth(c),A=m&&f!==v;if(A||f<1||f>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var d;return v?!m&&f<=v?d=f-1:d=f:d=f-1,d},toChineseMonth:function(c,f){c.year&&(c=c.year(),f=c.month());var m=this.intercalaryMonth(c),v=m?12:11;if(f<0||f>v)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var A;return m?f<m?A=f+1:A=f:A=f+1,A},intercalaryMonth:function(c){c=this._validateYear(c);var f=r[c-r[0]],m=f>>13;return m},isIntercalaryMonth:function(c,f){c.year&&(c=c.year(),f=c.month());var m=this.intercalaryMonth(c);return!!m&&m===f},leapYear:function(c){return this.intercalaryMonth(c)!==0},weekOfYear:function(c,f,m){var v=this._validateYear(c,p.local.invalidyear),A=s[v-s[0]],d=A>>9&4095,u=A>>5&15,y=A&31,M;M=a.newDate(d,u,y),M.add(4-(M.dayOfWeek()||7),"d");var S=this.toJD(c,f,m)-M.toJD();return 1+Math.floor(S/7)},monthsInYear:function(c){return this.leapYear(c)?13:12},daysInMonth:function(c,f){c.year&&(f=c.month(),c=c.year()),c=this._validateYear(c);var m=r[c-r[0]],v=m>>13,A=v?12:11;if(f>A)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var d=m&1<<12-f?30:29;return d},weekDay:function(c,f,m){return(this.dayOfWeek(c,f,m)||7)<6},toJD:function(c,f,m){var v=this._validate(c,d,m,p.local.invalidDate);c=this._validateYear(v.year()),f=v.month(),m=v.day();var A=this.isIntercalaryMonth(c,f),d=this.toChineseMonth(c,f),u=l(c,d,m,A);return a.toJD(u.year,u.month,u.day)},fromJD:function(c){var f=a.fromJD(c),m=n(f.year(),f.month(),f.day()),v=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,v,m.day)},fromString:function(c){var f=c.match(w),m=this._validateYear(+f[1]),v=+f[2],A=!!f[3],d=this.toMonthIndex(m,v,A),u=+f[4];return this.newDate(m,d,u)},add:function(c,f,m){var v=c.year(),A=c.month(),d=this.isIntercalaryMonth(v,A),u=this.toChineseMonth(v,A),y=Object.getPrototypeOf(C.prototype).add.call(this,c,f,m);if(m==="y"){var M=y.year(),S=y.month(),R=this.isIntercalaryMonth(M,u),x=d&&R?this.toMonthIndex(M,u,!0):this.toMonthIndex(M,u,!1);x!==S&&y.month(x)}return y}});var w=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,h=/^\d?\d[iI]?/m,g=/^闰?十?[一二三四五六七八九]?月/m,t=/^闰?十?[一二三四五六七八九]?/m;p.calendars.chinese=C;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],s=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(c,f,m,v){var A,d;if(typeof c=="object")A=c,d=f||{};else{var u=typeof c=="number"&&c>=1888&&c<=2111;if(!u)throw new Error("Solar year outside range 1888-2111");var y=typeof f=="number"&&f>=1&&f<=12;if(!y)throw new Error("Solar month outside range 1 - 12");var M=typeof m=="number"&&m>=1&&m<=31;if(!M)throw new Error("Solar day outside range 1 - 31");A={year:c,month:f,day:m},d=v||{}}var S=s[A.year-s[0]],R=A.year<<9|A.month<<5|A.day;d.year=R>=S?A.year:A.year-1,S=s[d.year-s[0]];var x=S>>9&4095,E=S>>5&15,T=S&31,i,D=new Date(x,E-1,T),b=new Date(A.year,A.month-1,A.day);i=Math.round((b-D)/864e5);var O=r[d.year-r[0]],F;for(F=0;F<13;F++){var V=O&1<<12-F?30:29;if(i<V)break;i-=V}var _=O>>13;return!_||F<_?(d.isIntercalary=!1,d.month=1+F):F===_?(d.isIntercalary=!0,d.month=F):(d.isIntercalary=!1,d.month=F),d.day=1+i,d}function l(c,f,m,v,A){var d,u;if(typeof c=="object")u=c,d=f||{};else{var y=typeof c=="number"&&c>=1888&&c<=2111;if(!y)throw new Error("Lunar year outside range 1888-2111");var M=typeof f=="number"&&f>=1&&f<=12;if(!M)throw new Error("Lunar month outside range 1 - 12");var S=typeof m=="number"&&m>=1&&m<=30;if(!S)throw new Error("Lunar day outside range 1 - 30");var R;typeof v=="object"?(R=!1,d=v):(R=!!v,d=A||{}),u={year:c,month:f,day:m,isIntercalary:R}}var x;x=u.day-1;var E=r[u.year-r[0]],T=E>>13,i;T&&(u.month>T||u.isIntercalary)?i=u.month:i=u.month-1;for(var D=0;D<i;D++){var b=E&1<<12-D?30:29;x+=b}var O=s[u.year-s[0]],F=O>>9&4095,V=O>>5&15,_=O&31,U=new Date(F,V-1,_+x);return d.year=U.getFullYear(),d.month=1+U.getMonth(),d.day=U.getDate(),d}},38751:function(B,N,e){var p=e(63489),L=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var w=this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),h=w.year()+(w.year()<0?1:0);return h%4===3||h%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,w,h){var g=this.newDate(C,w,h);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,w){var h=this._validate(C,w,this.minDay,p.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(C,w,h){return(this.dayOfWeek(C,w,h)||7)<6},toJD:function(C,w,h){var g=this._validate(C,w,h,p.local.invalidDate);return C=g.year(),C<0&&C++,g.day()+(g.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var w=Math.floor(C)+.5-this.jdEpoch,h=Math.floor((w-Math.floor((w+366)/1461))/365)+1;h<=0&&h--,w=Math.floor(C)+.5-this.newDate(h,1,1).toJD();var g=Math.floor(w/30)+1,t=w-(g-1)*30+1;return this.newDate(h,g,t)}}),p.calendars.coptic=a},86825:function(B,N,e){var p=e(63489),L=e(56131);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(w){return this._validate(w,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(w){return this._validate(w,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(w,h,g){var t=this.newDate(w,h,g);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(w,h){var g=this._validate(w,h,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(w,h,g){var t=this._validate(w,h,g,p.local.invalidDate);return(t.day()+1)%8},weekDay:function(w,h,g){var t=this.dayOfWeek(w,h,g);return t>=2&&t<=6},extraInfo:function(w,h,g){var t=this._validate(w,h,g,p.local.invalidDate);return{century:C[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(w,h,g){var t=this._validate(w,h,g,p.local.invalidDate);return w=t.year()+(t.year()<0?1:0),h=t.month(),g=t.day(),g+(h>1?16:0)+(h>2?(h-2)*32:0)+(w-1)*400+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w+.5)-Math.floor(this.jdEpoch)-1;var h=Math.floor(w/400)+1;w-=(h-1)*400,w+=w>15?16:0;var g=Math.floor(w/32)+1,t=w-(g-1)*32+1;return this.newDate(h<=0?h-1:h,g,t)}});var C={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=a},37715:function(B,N,e){var p=e(63489),L=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var w=this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),h=w.year()+(w.year()<0?1:0);return h%4===3||h%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,w,h){var g=this.newDate(C,w,h);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,w){var h=this._validate(C,w,this.minDay,p.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(C,w,h){return(this.dayOfWeek(C,w,h)||7)<6},toJD:function(C,w,h){var g=this._validate(C,w,h,p.local.invalidDate);return C=g.year(),C<0&&C++,g.day()+(g.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var w=Math.floor(C)+.5-this.jdEpoch,h=Math.floor((w-Math.floor((w+366)/1461))/365)+1;h<=0&&h--,w=Math.floor(C)+.5-this.newDate(h,1,1).toJD();var g=Math.floor(w/30)+1,t=w-(g-1)*30+1;return this.newDate(h,g,t)}}),p.calendars.ethiopian=a},99384:function(B,N,e){var p=e(63489),L=e(56131);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var h=this._validate(w,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(h.year())},_leapYear:function(w){return w=w<0?w+1:w,C(w*7+1,19)<7},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(w.year?w.year():w)?13:12},weekOfYear:function(w,h,g){var t=this.newDate(w,h,g);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(w){var h=this._validate(w,this.minMonth,this.minDay,p.local.invalidYear);return w=h.year(),this.toJD(w===-1?1:w+1,7,1)-this.toJD(w,7,1)},daysInMonth:function(w,h){return w.year&&(h=w.month(),w=w.year()),this._validate(w,h,this.minDay,p.local.invalidMonth),h===12&&this.leapYear(w)||h===8&&C(this.daysInYear(w),10)===5?30:h===9&&C(this.daysInYear(w),10)===3?29:this.daysPerMonth[h-1]},weekDay:function(w,h,g){return this.dayOfWeek(w,h,g)!==6},extraInfo:function(w,h,g){var t=this._validate(w,h,g,p.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(w,h,g){var t=this._validate(w,h,g,p.local.invalidDate);w=t.year(),h=t.month(),g=t.day();var r=w<=0?w+1:w,s=this.jdEpoch+this._delay1(r)+this._delay2(r)+g+1;if(h<7){for(var n=7;n<=this.monthsInYear(w);n++)s+=this.daysInMonth(w,n);for(var n=1;n<h;n++)s+=this.daysInMonth(w,n)}else for(var n=7;n<h;n++)s+=this.daysInMonth(w,n);return s},_delay1:function(w){var h=Math.floor((235*w-234)/19),g=12084+13753*h,t=h*29+Math.floor(g/25920);return C(3*(t+1),7)<3&&t++,t},_delay2:function(w){var h=this._delay1(w-1),g=this._delay1(w),t=this._delay1(w+1);return t-g===356?2:g-h===382?1:0},fromJD:function(w){w=Math.floor(w)+.5;for(var h=Math.floor((w-this.jdEpoch)*98496/35975351)-1;w>=this.toJD(h===-1?1:h+1,7,1);)h++;for(var g=w<this.toJD(h,1,1)?7:1;w>this.toJD(h,g,this.daysInMonth(h,g));)g++;var t=w-this.toJD(h,g,1)+1;return this.newDate(h,g,t)}});function C(w,h){return w-h*Math.floor(w/h)}p.calendars.hebrew=a},43805:function(B,N,e){var p=e(63489),L=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var w=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);return(w.year()*11+14)%30<11},weekOfYear:function(C,w,h){var g=this.newDate(C,w,h);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,w){var h=this._validate(C,w,this.minDay,p.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===12&&this.leapYear(h.year())?1:0)},weekDay:function(C,w,h){return this.dayOfWeek(C,w,h)!==5},toJD:function(C,w,h){var g=this._validate(C,w,h,p.local.invalidDate);return C=g.year(),w=g.month(),h=g.day(),C=C<=0?C+1:C,h+Math.ceil(29.5*(w-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var w=Math.floor((30*(C-this.jdEpoch)+10646)/10631);w=w<=0?w-1:w;var h=Math.min(12,Math.ceil((C-29-this.toJD(w,1,1))/29.5)+1),g=C-this.toJD(w,h,1)+1;return this.newDate(w,h,g)}}),p.calendars.islamic=a},88874:function(B,N,e){var p=e(63489),L=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var w=this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),h=w.year()<0?w.year()+1:w.year();return h%4===0},weekOfYear:function(C,w,h){var g=this.newDate(C,w,h);return g.add(4-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,w){var h=this._validate(C,w,this.minDay,p.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===2&&this.leapYear(h.year())?1:0)},weekDay:function(C,w,h){return(this.dayOfWeek(C,w,h)||7)<6},toJD:function(C,w,h){var g=this._validate(C,w,h,p.local.invalidDate);return C=g.year(),w=g.month(),h=g.day(),C<0&&C++,w<=2&&(C--,w+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(w+1))+h-1524.5},fromJD:function(C){var w=Math.floor(C+.5),h=w+1524,g=Math.floor((h-122.1)/365.25),t=Math.floor(365.25*g),r=Math.floor((h-t)/30.6001),s=r-Math.floor(r<14?1:13),n=g-Math.floor(s>2?4716:4715),l=h-t-Math.floor(30.6001*r);return n<=0&&n--,this.newDate(n,s,l)}}),p.calendars.julian=a},83290:function(B,N,e){var p=e(63489),L=e(56131);function a(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(h){return this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(h){var g=this._validate(h,this.minMonth,this.minDay,p.local.invalidYear);h=g.year();var t=Math.floor(h/400);h=h%400,h+=h<0?400:0;var r=Math.floor(h/20);return t+"."+r+"."+h%20},forYear:function(h){if(h=h.split("."),h.length<3)throw"Invalid Mayan year";for(var g=0,t=0;t<h.length;t++){var r=parseInt(h[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";g=g*20+r}return g},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(h,g,t){return this._validate(h,g,t,p.local.invalidDate),0},daysInYear:function(h){return this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(h,g){return this._validate(h,g,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(h,g,t){var r=this._validate(h,g,t,p.local.invalidDate);return r.day()},weekDay:function(h,g,t){return this._validate(h,g,t,p.local.invalidDate),!0},extraInfo:function(h,g,t){var r=this._validate(h,g,t,p.local.invalidDate),s=r.toJD(),n=this._toHaab(s),l=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[l[0]-1],tzolkinDay:l[0],tzolkinTrecena:l[1]}},_toHaab:function(h){h-=this.jdEpoch;var g=C(h+8+(18-1)*20,365);return[Math.floor(g/20)+1,C(g,20)]},_toTzolkin:function(h){return h-=this.jdEpoch,[w(h+20,20),w(h+4,13)]},toJD:function(h,g,t){var r=this._validate(h,g,t,p.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(h){h=Math.floor(h)+.5-this.jdEpoch;var g=Math.floor(h/360);h=h%360,h+=h<0?360:0;var t=Math.floor(h/20),r=h%20;return this.newDate(g,t,r)}});function C(h,g){return h-g*Math.floor(h/g)}function w(h,g){return C(h-1,g)+1}p.calendars.mayan=a},29108:function(B,N,e){var p=e(63489),L=e(56131);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar;var C=p.instance("gregorian");L(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var h=this._validate(w,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return C.leapYear(h.year()+(h.year()<1?1:0)+1469)},weekOfYear:function(w,h,g){var t=this.newDate(w,h,g);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(w,h){var g=this._validate(w,h,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(w,h,g){return(this.dayOfWeek(w,h,g)||7)<6},toJD:function(r,h,g){var t=this._validate(r,h,g,p.local.invalidMonth),r=t.year();r<0&&r++;for(var s=t.day(),n=1;n<t.month();n++)s+=this.daysPerMonth[n-1];return s+C.toJD(r+1468,3,13)},fromJD:function(w){w=Math.floor(w+.5);for(var h=Math.floor((w-(this.jdEpoch-1))/366);w>=this.toJD(h+1,1,1);)h++;for(var g=w-Math.floor(this.toJD(h,1,1)+.5)+1,t=1;g>this.daysInMonth(h,t);)g-=this.daysInMonth(h,t),t++;return this.newDate(h,t,g)}}),p.calendars.nanakshahi=a},55422:function(B,N,e){var p=e(63489),L=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,w,h){var g=this.newDate(C,w,h);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(C){var w=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);if(C=w.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var h=0,g=this.minMonth;g<=12;g++)h+=this.NEPALI_CALENDAR_DATA[C][g];return h},daysInMonth:function(C,w){return C.year&&(w=C.month(),C=C.year()),this._validate(C,w,this.minDay,p.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[w-1]:this.NEPALI_CALENDAR_DATA[C][w]},weekDay:function(C,w,h){return this.dayOfWeek(C,w,h)!==6},toJD:function(C,w,h){var g=this._validate(C,w,h,p.local.invalidDate);C=g.year(),w=g.month(),h=g.day();var t=p.instance(),r=0,s=w,n=C;this._createMissingCalendarData(C);var l=C-(s>9||s===9&&h>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(w!==9&&(r=h,s--);s!==9;)s<=0&&(s=12,n--),r+=this.NEPALI_CALENDAR_DATA[n][s],s--;return w===9?(r+=h-this.NEPALI_CALENDAR_DATA[n][0],r<0&&(r+=t.daysInYear(l))):r+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(l,1,1).add(r,"d").toJD()},fromJD:function(C){var w=p.instance(),h=w.fromJD(C),g=h.year(),t=h.dayOfYear(),r=g+56;this._createMissingCalendarData(r);for(var s=9,n=this.NEPALI_CALENDAR_DATA[r][0],l=this.NEPALI_CALENDAR_DATA[r][s]-n+1;t>l;)s++,s>12&&(s=1,r++),l+=this.NEPALI_CALENDAR_DATA[r][s];var c=this.NEPALI_CALENDAR_DATA[r][s]-(l-t);return this.newDate(r,s,c)},_createMissingCalendarData:function(C){var w=this.daysPerMonth.slice(0);w.unshift(17);for(var h=C-1;h<C+2;h++)typeof this.NEPALI_CALENDAR_DATA[h]>"u"&&(this.NEPALI_CALENDAR_DATA[h]=w)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=a},94320:function(B,N,e){var p=e(63489),L=e(56131);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(w){var h=this._validate(w,this.minMonth,this.minDay,p.local.invalidYear);return((h.year()-(h.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(w,h,g){var t=this.newDate(w,h,g);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(w,h){var g=this._validate(w,h,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(w,h,g){return this.dayOfWeek(w,h,g)!==5},toJD:function(w,h,g){var t=this._validate(w,h,g,p.local.invalidDate);w=t.year(),h=t.month(),g=t.day();var r=w-(w>=0?474:473),s=474+C(r,2820);return g+(h<=7?(h-1)*31:(h-1)*30+6)+Math.floor((s*682-110)/2816)+(s-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w)+.5;var h=w-this.toJD(475,1,1),g=Math.floor(h/1029983),t=C(h,1029983),r=2820;if(t!==1029982){var s=Math.floor(t/366),n=C(t,366);r=Math.floor((2134*s+2816*n+2815)/1028522)+s+1}var l=r+2820*g+474;l=l<=0?l-1:l;var c=w-this.toJD(l,1,1)+1,f=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),m=w-this.toJD(l,f,1)+1;return this.newDate(l,f,m)}});function C(w,h){return w-h*Math.floor(w/h)}p.calendars.persian=a,p.calendars.jalali=a},31320:function(B,N,e){var p=e(63489),L=e(56131),a=p.instance();function C(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(g){var h=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear),g=this._t2gYear(h.year());return a.leapYear(g)},weekOfYear:function(r,h,g){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(w,h){var g=this._validate(w,h,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(w,h,g){return(this.dayOfWeek(w,h,g)||7)<6},toJD:function(r,h,g){var t=this._validate(r,h,g,p.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(w){var h=a.fromJD(w),g=this._g2tYear(h.year());return this.newDate(g,h.month(),h.day())},_t2gYear:function(w){return w+this.yearsOffset+(w>=-this.yearsOffset&&w<=-1?1:0)},_g2tYear:function(w){return w-this.yearsOffset-(w>=1&&w<=this.yearsOffset?1:0)}}),p.calendars.taiwan=C},51367:function(B,N,e){var p=e(63489),L=e(56131),a=p.instance();function C(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var h=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear),g=this._t2gYear(h.year());return a.leapYear(g)},weekOfYear:function(r,h,g){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(w,h){var g=this._validate(w,h,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(w,h,g){return(this.dayOfWeek(w,h,g)||7)<6},toJD:function(r,h,g){var t=this._validate(r,h,g,p.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(w){var h=a.fromJD(w),g=this._g2tYear(h.year());return this.newDate(g,h.month(),h.day())},_t2gYear:function(w){return w-this.yearsOffset-(w>=1&&w<=this.yearsOffset?1:0)},_g2tYear:function(w){return w+this.yearsOffset+(w>=-this.yearsOffset&&w<=-1?1:0)}}),p.calendars.thai=C},21457:function(B,N,e){var p=e(63489),L=e(56131);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(w){var h=this._validate(w,this.minMonth,this.minDay,p.local.invalidYear);return this.daysInYear(h.year())===355},weekOfYear:function(w,h,g){var t=this.newDate(w,h,g);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(w){for(var h=0,g=1;g<=12;g++)h+=this.daysInMonth(w,g);return h},daysInMonth:function(w,h){for(var g=this._validate(w,h,this.minDay,p.local.invalidMonth),t=g.toJD()-24e5+.5,r=0,s=0;s<C.length;s++){if(C[s]>t)return C[r]-C[r-1];r++}return 30},weekDay:function(w,h,g){return this.dayOfWeek(w,h,g)!==5},toJD:function(w,h,g){var t=this._validate(w,h,g,p.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,s=t.day()+C[r-1]-1;return s+24e5-.5},fromJD:function(w){for(var h=w-24e5+.5,g=0,t=0;t<C.length&&!(C[t]>h);t++)g++;var r=g+15292,s=Math.floor((r-1)/12),n=s+1,l=r-12*s,c=h-C[g-1]+1;return this.newDate(n,l,c)},isValid:function(w,h,g){var t=p.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(w=w.year!=null?w.year:w,t=w>=1276&&w<=1500),t},_validate:function(w,h,g,t){var r=p.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),p.calendars.ummalqura=a;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(B,N,e){var p=e(56131);function L(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}p(L.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var s=this._localCals[t+"-"+r];if(!s&&this.calendars[t]&&(s=new this.calendars[t](r),this._localCals[t+"-"+r]=s),!s)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return s},newDate:function(t,r,s,n,l){return n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,l):n)||this.instance(),n.newDate(t,r,s)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(s){return t[s]})}},substituteChineseDigits:function(t,r){return function(s){for(var n="",l=0;s>0;){var c=s%10;n=(c===0?"":t[c]+r[l])+n,l++,s=Math.floor(s/10)}return n.indexOf(t[1]+r[1])===0&&(n=n.substr(1)),n||t[0]}}});function a(t,r,s,n){if(this._calendar=t,this._year=r,this._month=s,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}p(a.prototype,{newDate:function(t,r,s){return this._calendar.newDate(t??this,r,s)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,s){if(!this._calendar.isValid(t,r,s))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=s,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function w(){this.shortYearCutoff="+10"}p(w.prototype,{_validateLevel:0,newDate:function(t,r,s){return t==null?this.today():(t.year&&(this._validate(t,r,s,g.local.invalidDate||g.regionalOptions[""].invalidDate),s=t.day(),r=t.month(),t=t.year()),new a(this,t,r,s))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+C(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var s=this._validate(t,r,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return(s.month()+this.monthsInYear(s)-this.firstMonth)%this.monthsInYear(s)+this.minMonth},fromMonthOfYear:function(t,r){var s=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,s,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth),s},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,s){var n=this._validate(t,r,s,g.local.invalidDate||g.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,s){var n=this._validate(t,r,s,g.local.invalidDate||g.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,r,s){return this._validate(t,r,s,g.local.invalidDate||g.regionalOptions[""].invalidDate),{}},add:function(t,r,s){return this._validate(t,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,s),r,s)},_add:function(t,r,s){if(this._validateLevel++,s==="d"||s==="w"){var n=t.toJD()+r*(s==="w"?this.daysInWeek():1),l=t.calendar().fromJD(n);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var c=t.year()+(s==="y"?r:0),f=t.monthOfYear()+(s==="m"?r:0),l=t.day(),m=function(d){for(;f<d.minMonth;)c--,f+=d.monthsInYear(c);for(var u=d.monthsInYear(c);f>u-1+d.minMonth;)c++,f-=u,u=d.monthsInYear(c)};s==="y"?(t.month()!==this.fromMonthOfYear(c,f)&&(f=this.newDate(c,t.month(),this.minDay).monthOfYear()),f=Math.min(f,this.monthsInYear(c)),l=Math.min(l,this.daysInMonth(c,this.fromMonthOfYear(c,f)))):s==="m"&&(m(this),l=Math.min(l,this.daysInMonth(c,this.fromMonthOfYear(c,f))));var v=[c,this.fromMonthOfYear(c,f),l];return this._validateLevel--,v}catch(A){throw this._validateLevel--,A}},_correctAdd:function(t,r,s,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],c=s<0?-1:1;r=this._add(t,s*l[0]+c*l[1],l[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,s){this._validate(t,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate);var n=s==="y"?r:t.year(),l=s==="m"?r:t.month(),c=s==="d"?r:t.day();return(s==="y"||s==="m")&&(c=Math.min(c,this.daysInMonth(n,l))),t.date(n,l,c)},isValid:function(t,r,s){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var l=this.newDate(t,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(l)&&s>=this.minDay&&s-this.minDay<this.daysInMonth(l)}return this._validateLevel--,n},toJSDate:function(t,r,s){var n=this._validate(t,r,s,g.local.invalidDate||g.regionalOptions[""].invalidDate);return g.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(g.instance().fromJSDate(t).toJD())},_validate:function(t,r,s,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,s))throw n.replace(/\{0\}/,this.local.name);var l=this.newDate(t,r,s);return this._validateLevel--,l}catch(c){throw this._validateLevel--,c}}});function h(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}h.prototype=new w,p(h.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var r=this._validate(s,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),s=r.year()+(r.year()<0?1:0);return s%4===0&&(s%100!==0||s%400===0)},weekOfYear:function(t,r,s){var n=this.newDate(t,r,s);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var s=this._validate(t,r,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(t,r,s){return(this.dayOfWeek(t,r,s)||7)<6},toJD:function(t,r,s){var n=this._validate(t,r,s,g.local.invalidDate||g.regionalOptions[""].invalidDate);t=n.year(),r=n.month(),s=n.day(),t<0&&t++,r<3&&(r+=12,t--);var l=Math.floor(t/100),c=2-l+Math.floor(l/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+s+c-1524.5},fromJD:function(t){var r=Math.floor(t+.5),s=Math.floor((r-186721625e-2)/36524.25);s=r+1+s-Math.floor(s/4);var n=s+1524,l=Math.floor((n-122.1)/365.25),c=Math.floor(365.25*l),f=Math.floor((n-c)/30.6001),m=n-c-Math.floor(f*30.6001),v=f-(f>13.5?13:1),A=l-(v>2.5?4716:4715);return A<=0&&A--,this.newDate(A,v,m)},toJSDate:function(t,r,s){var n=this._validate(t,r,s,g.local.invalidDate||g.regionalOptions[""].invalidDate),l=new Date(n.year(),n.month()-1,n.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var g=B.exports=new L;g.cdate=a,g.baseCalendar=w,g.calendars.gregorian=h},94338:function(B,N,e){var p=e(56131),L=e(63489);p(L.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),L.local=L.regionalOptions[""],p(L.cdate.prototype,{formatDate:function(a,C){return typeof a!="string"&&(C=a,a=""),this._calendar.formatDate(a||"",this,C)}}),p(L.baseCalendar.prototype,{UNIX_EPOCH:L.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:L.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,C,w){if(typeof a!="string"&&(w=C,C=a,a=""),!C)return"";if(C.calendar()!==this)throw L.local.invalidFormat||L.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,w=w||{};var h=w.dayNamesShort||this.local.dayNamesShort,g=w.dayNames||this.local.dayNames,t=w.monthNumbers||this.local.monthNumbers,r=w.monthNamesShort||this.local.monthNamesShort,s=w.monthNames||this.local.monthNames;w.calculateWeek||this.local.calculateWeek;for(var n=function(S,R){for(var x=1;M+x<a.length&&a.charAt(M+x)===S;)x++;return M+=x-1,Math.floor(x/(R||1))>1},l=function(S,R,x,E){var T=""+R;if(n(S,E))for(;T.length<x;)T="0"+T;return T},c=function(S,R,x,E){return n(S)?E[R]:x[R]},f=this,m=function(S){return typeof t=="function"?t.call(f,S,n("m")):d(l("m",S.month(),2))},v=function(S,R){return R?typeof s=="function"?s.call(f,S):s[S.month()-f.minMonth]:typeof r=="function"?r.call(f,S):r[S.month()-f.minMonth]},A=this.local.digits,d=function(S){return w.localNumbers&&A?A(S):S},u="",y=!1,M=0;M<a.length;M++)if(y)a.charAt(M)==="'"&&!n("'")?y=!1:u+=a.charAt(M);else switch(a.charAt(M)){case"d":u+=d(l("d",C.day(),2));break;case"D":u+=c("D",C.dayOfWeek(),h,g);break;case"o":u+=l("o",C.dayOfYear(),3);break;case"w":u+=l("w",C.weekOfYear(),2);break;case"m":u+=m(C);break;case"M":u+=v(C,n("M"));break;case"y":u+=n("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":n("Y",2),u+=C.formatYear();break;case"J":u+=C.toJD();break;case"@":u+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":u+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?u+="'":y=!0;break;default:u+=a.charAt(M)}return u},parseDate:function(a,C,w){if(C==null)throw L.local.invalidArguments||L.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;a=a||this.local.dateFormat,w=w||{};var h=w.shortYearCutoff||this.shortYearCutoff;h=typeof h!="string"?h:this.today().year()%100+parseInt(h,10);for(var g=w.dayNamesShort||this.local.dayNamesShort,t=w.dayNames||this.local.dayNames,r=w.parseMonth||this.local.parseMonth,s=w.monthNumbers||this.local.monthNumbers,n=w.monthNamesShort||this.local.monthNamesShort,l=w.monthNames||this.local.monthNames,c=-1,f=-1,m=-1,v=-1,A=-1,d=!1,u=!1,y=function(F,V){for(var _=1;D+_<a.length&&a.charAt(D+_)===F;)_++;return D+=_-1,Math.floor(_/(V||1))>1},M=function(F,V){var _=y(F,V),U=[2,3,_?4:2,_?4:2,10,11,20]["oyYJ@!".indexOf(F)+1],H=new RegExp("^-?\\d{1,"+U+"}"),z=C.substring(i).match(H);if(!z)throw(L.local.missingNumberAt||L.regionalOptions[""].missingNumberAt).replace(/\{0\}/,i);return i+=z[0].length,parseInt(z[0],10)},S=this,R=function(){if(typeof s=="function"){y("m");var F=s.call(S,C.substring(i));return i+=F.length,F}return M("m")},x=function(F,V,_,U){for(var H=y(F,U)?_:V,z=0;z<H.length;z++)if(C.substr(i,H[z].length).toLowerCase()===H[z].toLowerCase())return i+=H[z].length,z+S.minMonth;throw(L.local.unknownNameAt||L.regionalOptions[""].unknownNameAt).replace(/\{0\}/,i)},E=function(){if(typeof l=="function"){var F=y("M")?l.call(S,C.substring(i)):n.call(S,C.substring(i));return i+=F.length,F}return x("M",n,l)},T=function(){if(C.charAt(i)!==a.charAt(D))throw(L.local.unexpectedLiteralAt||L.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,i);i++},i=0,D=0;D<a.length;D++)if(u)a.charAt(D)==="'"&&!y("'")?u=!1:T();else switch(a.charAt(D)){case"d":v=M("d");break;case"D":x("D",g,t);break;case"o":A=M("o");break;case"w":M("w");break;case"m":m=R();break;case"M":m=E();break;case"y":var b=D;d=!y("y",2),D=b,f=M("y",2);break;case"Y":f=M("Y",2);break;case"J":c=M("J")+.5,C.charAt(i)==="."&&(i++,M("J"));break;case"@":c=M("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=M("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":i=C.length;break;case"'":y("'")?T():u=!0;break;default:T()}if(i<C.length)throw L.local.unexpectedText||L.regionalOptions[""].unexpectedText;if(f===-1?f=this.today().year():f<100&&d&&(f+=h===-1?1900:this.today().year()-this.today().year()%100-(f<=h?0:100)),typeof m=="string"&&(m=r.call(this,f,m)),A>-1){m=1,v=A;for(var O=this.daysInMonth(f,m);v>O;O=this.daysInMonth(f,m))m++,v-=O}return c>-1?this.fromJD(c):this.newDate(f,m,v)},determineDate:function(a,C,w,h,g){w&&typeof w!="object"&&(g=h,h=w,w=null),typeof h!="string"&&(g=h,h="");var t=this,r=function(s){try{return t.parseDate(h,s,g)}catch{}s=s.toLowerCase();for(var n=(s.match(/^c/)&&w?w.newDate():null)||t.today(),l=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,c=l.exec(s);c;)n.add(parseInt(c[1],10),c[2]||"d"),c=l.exec(s);return n};return C=C?C.newDate():null,a=a==null?C:typeof a=="string"?r(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?C:t.today().add(a,"d"):t.newDate(a),a}})},69862:function(){},40964:function(){},72077:function(B,N,e){var p=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],L=typeof globalThis>"u"?e.g:globalThis;B.exports=function(){for(var C=[],w=0;w<p.length;w++)typeof L[p[w]]=="function"&&(C[C.length]=p[w]);return C}},81684:function(B,N,e){e.d(N,{sX:function(){return Le},k4:function(){return le}});function p(we,Ce,Ve){we.prototype=Ce.prototype=Ve,Ve.constructor=we}function L(we,Ce){var Ve=Object.create(we.prototype);for(var Ne in Ce)Ve[Ne]=Ce[Ne];return Ve}function a(){}var C=.7,w=1/C,h="\\s*([+-]?\\d+)\\s*",g="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\(".concat(h,",").concat(h,",").concat(h,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),l=new RegExp("^rgba\\(".concat(h,",").concat(h,",").concat(h,",").concat(g,"\\)$")),c=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(g,"\\)$")),f=new RegExp("^hsl\\(".concat(g,",").concat(t,",").concat(t,"\\)$")),m=new RegExp("^hsla\\(".concat(g,",").concat(t,",").concat(t,",").concat(g,"\\)$")),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p(a,M,{copy:function(Ce){return Object.assign(new this.constructor,this,Ce)},displayable:function(){return this.rgb().displayable()},hex:A,formatHex:A,formatHex8:d,formatHsl:u,formatRgb:y,toString:y});function A(){return this.rgb().formatHex()}function d(){return this.rgb().formatHex8()}function u(){return U(this).formatHsl()}function y(){return this.rgb().formatRgb()}function M(we){var Ce,Ve;return we=(we+"").trim().toLowerCase(),(Ce=r.exec(we))?(Ve=Ce[1].length,Ce=parseInt(Ce[1],16),Ve===6?S(Ce):Ve===3?new T(Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,(Ce&15)<<4|Ce&15,1):Ve===8?R(Ce>>24&255,Ce>>16&255,Ce>>8&255,(Ce&255)/255):Ve===4?R(Ce>>12&15|Ce>>8&240,Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,((Ce&15)<<4|Ce&15)/255):null):(Ce=s.exec(we))?new T(Ce[1],Ce[2],Ce[3],1):(Ce=n.exec(we))?new T(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,1):(Ce=l.exec(we))?R(Ce[1],Ce[2],Ce[3],Ce[4]):(Ce=c.exec(we))?R(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,Ce[4]):(Ce=f.exec(we))?_(Ce[1],Ce[2]/100,Ce[3]/100,1):(Ce=m.exec(we))?_(Ce[1],Ce[2]/100,Ce[3]/100,Ce[4]):v.hasOwnProperty(we)?S(v[we]):we==="transparent"?new T(NaN,NaN,NaN,0):null}function S(we){return new T(we>>16&255,we>>8&255,we&255,1)}function R(we,Ce,Ve,Ne){return Ne<=0&&(we=Ce=Ve=NaN),new T(we,Ce,Ve,Ne)}function x(we){return we instanceof a||(we=M(we)),we?(we=we.rgb(),new T(we.r,we.g,we.b,we.opacity)):new T}function E(we,Ce,Ve,Ne){return arguments.length===1?x(we):new T(we,Ce,Ve,Ne??1)}function T(we,Ce,Ve,Ne){this.r=+we,this.g=+Ce,this.b=+Ve,this.opacity=+Ne}p(T,E,L(a,{brighter:function(Ce){return Ce=Ce==null?w:Math.pow(w,Ce),new T(this.r*Ce,this.g*Ce,this.b*Ce,this.opacity)},darker:function(Ce){return Ce=Ce==null?C:Math.pow(C,Ce),new T(this.r*Ce,this.g*Ce,this.b*Ce,this.opacity)},rgb:function(){return this},clamp:function(){return new T(F(this.r),F(this.g),F(this.b),O(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i,formatHex:i,formatHex8:D,formatRgb:b,toString:b}));function i(){return"#".concat(V(this.r)).concat(V(this.g)).concat(V(this.b))}function D(){return"#".concat(V(this.r)).concat(V(this.g)).concat(V(this.b)).concat(V((isNaN(this.opacity)?1:this.opacity)*255))}function b(){var we=O(this.opacity);return"".concat(we===1?"rgb(":"rgba(").concat(F(this.r),", ").concat(F(this.g),", ").concat(F(this.b)).concat(we===1?")":", ".concat(we,")"))}function O(we){return isNaN(we)?1:Math.max(0,Math.min(1,we))}function F(we){return Math.max(0,Math.min(255,Math.round(we)||0))}function V(we){return we=F(we),(we<16?"0":"")+we.toString(16)}function _(we,Ce,Ve,Ne){return Ne<=0?we=Ce=Ve=NaN:Ve<=0||Ve>=1?we=Ce=NaN:Ce<=0&&(we=NaN),new z(we,Ce,Ve,Ne)}function U(we){if(we instanceof z)return new z(we.h,we.s,we.l,we.opacity);if(we instanceof a||(we=M(we)),!we)return new z;if(we instanceof z)return we;we=we.rgb();var Ce=we.r/255,Ve=we.g/255,Ne=we.b/255,ke=Math.min(Ce,Ve,Ne),We=Math.max(Ce,Ve,Ne),rt=NaN,et=We-ke,tt=(We+ke)/2;return et?(Ce===We?rt=(Ve-Ne)/et+(Ve<Ne)*6:Ve===We?rt=(Ne-Ce)/et+2:rt=(Ce-Ve)/et+4,et/=tt<.5?We+ke:2-We-ke,rt*=60):et=tt>0&&tt<1?0:rt,new z(rt,et,tt,we.opacity)}function H(we,Ce,Ve,Ne){return arguments.length===1?U(we):new z(we,Ce,Ve,Ne??1)}function z(we,Ce,Ve,Ne){this.h=+we,this.s=+Ce,this.l=+Ve,this.opacity=+Ne}p(z,H,L(a,{brighter:function(Ce){return Ce=Ce==null?w:Math.pow(w,Ce),new z(this.h,this.s,this.l*Ce,this.opacity)},darker:function(Ce){return Ce=Ce==null?C:Math.pow(C,Ce),new z(this.h,this.s,this.l*Ce,this.opacity)},rgb:function(){var Ce=this.h%360+(this.h<0)*360,Ve=isNaN(Ce)||isNaN(this.s)?0:this.s,Ne=this.l,ke=Ne+(Ne<.5?Ne:1-Ne)*Ve,We=2*Ne-ke;return new T(J(Ce>=240?Ce-240:Ce+120,We,ke),J(Ce,We,ke),J(Ce<120?Ce+240:Ce-120,We,ke),this.opacity)},clamp:function(){return new z(G(this.h),Y(this.s),Y(this.l),O(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ce=O(this.opacity);return"".concat(Ce===1?"hsl(":"hsla(").concat(G(this.h),", ").concat(Y(this.s)*100,"%, ").concat(Y(this.l)*100,"%").concat(Ce===1?")":", ".concat(Ce,")"))}}));function G(we){return we=(we||0)%360,we<0?we+360:we}function Y(we){return Math.max(0,Math.min(1,we||0))}function J(we,Ce,Ve){return(we<60?Ce+(Ve-Ce)*we/60:we<180?Ve:we<240?Ce+(Ve-Ce)*(240-we)/60:Ce)*255}var ae=function(we){return function(){return we}};function oe(we,Ce){return function(Ve){return we+Ve*Ce}}function he(we,Ce,Ve){return we=Math.pow(we,Ve),Ce=Math.pow(Ce,Ve)-we,Ve=1/Ve,function(Ne){return Math.pow(we+Ne*Ce,Ve)}}function q(we){return(we=+we)==1?Z:function(Ce,Ve){return Ve-Ce?he(Ce,Ve,we):ae(isNaN(Ce)?Ve:Ce)}}function Z(we,Ce){var Ve=Ce-we;return Ve?oe(we,Ve):ae(isNaN(we)?Ce:we)}var $=function we(Ce){var Ve=q(Ce);function Ne(ke,We){var rt=Ve((ke=E(ke)).r,(We=E(We)).r),et=Ve(ke.g,We.g),tt=Ve(ke.b,We.b),at=Z(ke.opacity,We.opacity);return function(ct){return ke.r=rt(ct),ke.g=et(ct),ke.b=tt(ct),ke.opacity=at(ct),ke+""}}return Ne.gamma=we,Ne}(1);function K(we,Ce){var Ve=Ce?Ce.length:0,Ne=we?Math.min(Ve,we.length):0,ke=new Array(Ne),We=new Array(Ve),rt;for(rt=0;rt<Ne;++rt)ke[rt]=Le(we[rt],Ce[rt]);for(;rt<Ve;++rt)We[rt]=Ce[rt];return function(et){for(rt=0;rt<Ne;++rt)We[rt]=ke[rt](et);return We}}function re(we,Ce){var Ve=new Date;return we=+we,Ce=+Ce,function(Ne){return Ve.setTime(we*(1-Ne)+Ce*Ne),Ve}}function le(we,Ce){return we=+we,Ce=+Ce,function(Ve){return we*(1-Ve)+Ce*Ve}}function te(we){"@babel/helpers - typeof";return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},te(we)}function ee(we,Ce){var Ve={},Ne={},ke;(we===null||te(we)!=="object")&&(we={}),(Ce===null||te(Ce)!=="object")&&(Ce={});for(ke in Ce)ke in we?Ve[ke]=Le(we[ke],Ce[ke]):Ne[ke]=Ce[ke];return function(We){for(ke in Ve)Ne[ke]=Ve[ke](We);return Ne}}var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=new RegExp(ue.source,"g");function ve(we){return function(){return we}}function be(we){return function(Ce){return we(Ce)+""}}function Ee(we,Ce){var Ve=ue.lastIndex=se.lastIndex=0,Ne,ke,We,rt=-1,et=[],tt=[];for(we=we+"",Ce=Ce+"";(Ne=ue.exec(we))&&(ke=se.exec(Ce));)(We=ke.index)>Ve&&(We=Ce.slice(Ve,We),et[rt]?et[rt]+=We:et[++rt]=We),(Ne=Ne[0])===(ke=ke[0])?et[rt]?et[rt]+=ke:et[++rt]=ke:(et[++rt]=null,tt.push({i:rt,x:le(Ne,ke)})),Ve=se.lastIndex;return Ve<Ce.length&&(We=Ce.slice(Ve),et[rt]?et[rt]+=We:et[++rt]=We),et.length<2?tt[0]?be(tt[0].x):ve(Ce):(Ce=tt.length,function(at){for(var ct=0,dt;ct<Ce;++ct)et[(dt=tt[ct]).i]=dt.x(at);return et.join("")})}function Ae(we,Ce){Ce||(Ce=[]);var Ve=we?Math.min(Ce.length,we.length):0,Ne=Ce.slice(),ke;return function(We){for(ke=0;ke<Ve;++ke)Ne[ke]=we[ke]*(1-We)+Ce[ke]*We;return Ne}}function Oe(we){return ArrayBuffer.isView(we)&&!(we instanceof DataView)}function Ue(we){"@babel/helpers - typeof";return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},Ue(we)}function Le(we,Ce){var Ve=Ue(Ce),Ne;return Ce==null||Ve==="boolean"?ae(Ce):(Ve==="number"?le:Ve==="string"?(Ne=M(Ce))?(Ce=Ne,$):Ee:Ce instanceof M?$:Ce instanceof Date?re:Oe(Ce)?Ae:Array.isArray(Ce)?K:typeof Ce.valueOf!="function"&&typeof Ce.toString!="function"||isNaN(Ce)?ee:le)(we,Ce)}},40402:function(B){B.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(B){B.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(B){B.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(B){B.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(B){B.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(B){B.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Q={};function ce(B){var N=Q[B];if(N!==void 0)return N.exports;var e=Q[B]={exports:{}};return W[B].call(e.exports,e,e.exports,ce),e.exports}(function(){ce.n=function(B){var N=B&&B.__esModule?function(){return B.default}:function(){return B};return ce.d(N,{a:N}),N}})(),function(){ce.d=function(B,N){for(var e in N)ce.o(N,e)&&!ce.o(B,e)&&Object.defineProperty(B,e,{enumerable:!0,get:N[e]})}}(),function(){ce.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){ce.o=function(B,N){return Object.prototype.hasOwnProperty.call(B,N)}}(),function(){ce.r=function(B){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(B,"__esModule",{value:!0})}}();var me=ce(27909);return me}()})})(XE);var NG=XE.exports;(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var P=Q(ZE),W=Q(NG);function Q(B){return B&&B.__esModule?B:{default:B}}var ce=(0,P.default)(W.default),me=ce;o.default=me})(YE);const A4=Eb(YE),UG=[[0,"rgb(255,245,240)"],[.125,"rgb(254,224,210)"],[.25,"rgb(252,187,161)"],[.375,"rgb(252,146,114)"],[.5,"rgb(251,106,74)"],[.625,"rgb(239,59,44)"],[.75,"rgb(203,24,29)"],[.875,"rgb(165,15,21)"],[1,"rgb(103,0,13)"]],S4=o=>({...o,template:null,coloraxis:{colorscale:UG,showscale:!1},xaxis:{visible:!1},yaxis:{visible:!1},width:200,height:200,margin:{l:0,r:0,t:0,b:0}}),HG=o=>[{...o[0],z:o[0].z.slice().reverse()}],M4=o=>(o.data.data.forEach(P=>{P.input=JSON.parse(P.input),P.input.layout=S4(P.input.layout),P.explanations.forEach(W=>{W.data!==null&&(W.data=JSON.parse(W.data),W.data.data=HG(W.data.data),W.data.layout=S4(W.data.layout))})}),o),VG=({experiment:o,inputs:P,explainers:W,metrics:Q,loading:ce,setLoading:me})=>{const B=Kf(p=>p.projects.currentProject.id),[N,e]=Ds.useState([]);return Er.useEffect(()=>{(async()=>{try{let L=await vI(B,o);L=M4(L);const a=L.data.data;console.log(a),e(JSON.parse(JSON.stringify(a))),me(!1)}catch(L){console.log(L)}})()},[B]),Er.useEffect(()=>{const p=async()=>{try{let L=await dI(B,o,{inputs:P,explainers:W,metrics:Q});L=M4(L);const a=L.data.data;e(JSON.parse(JSON.stringify(a))),me(!1)}catch(L){console.log(L)}};P.length>0&&W.length>0&&p()},[P,W]),ce?Or.jsx(qa,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:Or.jsx(uw,{})}):Or.jsx(qa,{sx:{mt:4},children:N.map((p,L)=>Or.jsx(qa,{sx:{marginBottom:4,paddingBottom:2,borderBottom:"2px solid #e0e0e0"},children:Or.jsxs(jH,{sx:{width:"100%",height:"450px",gap:20,display:"flex",flexDirection:"row",overflowY:"hidden",overflowX:"auto"},children:[Or.jsxs(u4,{sx:{width:"200px",minHeight:"300px"},children:[Or.jsxs(qa,{sx:{pt:1},children:[Or.jsx(A4,{data:[p.input.data[0]],layout:p.input.layout}),Or.jsx(Ci,{variant:"subtitle1",align:"center",children:" Original "})]}),Or.jsxs(qa,{sx:{},children:[Or.jsx(qa,{sx:{},children:Or.jsxs(Ci,{variant:"body2",align:"center",children:[" True Label : ",p.target," "]})}),Or.jsx(qa,{sx:{},children:p.outputs.map((a,C)=>Or.jsxs(Ci,{variant:"body2",align:"center",children:[" Prediction ",C," : ",a]},C))}),Or.jsx(qa,{sx:{},children:Or.jsxs(Ci,{sx:{color:p.target===p.outputs[0]?"green":"red"},variant:"body2",align:"center",children:[" IsCorrect : ",p.target===p.outputs[0]?"True":"False"," "]})})]})]},0),p.explanations.map((a,C)=>a.data&&Or.jsx(u4,{sx:{width:"200px",minHeight:"300px"},children:Or.jsxs(qa,{sx:{p:1},children:[Or.jsx(A4,{data:[a.data.data[0]],layout:a.data.layout}),Or.jsx(Ci,{variant:"subtitle1",align:"center",children:a.explainer}),Or.jsxs(Ci,{variant:"body2",sx:{textAlign:"center"},children:[" Rank ",C+1]}),Object.entries(a.evaluation).map(([w,h])=>Or.jsxs(Ci,{variant:"body2",sx:{textAlign:"center"},children:[" ",w," (",h.toFixed(3),") "]},w))]})},C+1))]})},L))})},GG=({experiment:o})=>{const P=o.inputs.map(x=>({id:x.id,source:x.imageObj.data[0].source})),[W,Q]=Er.useState([]),[ce,me]=Er.useState([]),[B,N]=Er.useState([]),[e,p]=Er.useState([]),[L,a]=Er.useState(o.metrics.filter(x=>x.name==="Complexity")),[C,w]=Er.useState(o.metrics.map(x=>x.id)),[h,g]=Er.useState(!1),[t,r]=Er.useState([]),[s,n]=Er.useState(!1),[l,c]=Ds.useState(!1),[f,m]=Ds.useState(!1);Er.useEffect(()=>{h&&r(W)},[h,W]);const v=x=>{r([x])},A=()=>{Q(t),g(!1)},d=()=>{g(!1)},u=x=>{Q(W.filter(E=>E!==x))},y=x=>{B.includes(x)||N([...B,x])},M=x=>{N(B.filter(E=>E!==x))},S=(x,E)=>{a(E?T=>[...T,x]:T=>T.filter(i=>i.id!==x.id))},R=()=>{if(W.length===0||B.length===0){m(!0);return}c(!0),n(!0),me(W.map(x=>Number(x))),p(B.map(x=>Number(x))),w(L.map(x=>x.id))};return Or.jsxs(qa,{sx:{mt:3,mb:3,ml:1,pb:3,borderBottom:1,minHeight:"600px"},children:[Or.jsxs(Dh,{container:!0,spacing:2,children:[Or.jsx(Dh,{item:!0,xs:12,md:2,children:Or.jsxs(qa,{sx:{borderRight:1,borderColor:"divider",m:2},children:[Or.jsxs(qa,{sx:{mb:3,borderBottom:1,borderColor:"divider",padding:1},children:[Or.jsx(Ci,{variant:"h6",children:" Select Instance "}),Or.jsx(zc,{variant:"contained",color:"primary",onClick:()=>g(!0),sx:{mt:2},children:" Show Instances"}),Or.jsx(qa,{sx:{mt:3},children:W.map((x,E)=>Or.jsx(qx,{label:x,onDelete:()=>u(x),sx:{mt:1}},E))})]}),Or.jsxs(qa,{sx:{mt:3},children:[Or.jsx(Ci,{variant:"h6",children:" Select Explainers"}),Or.jsx(qa,{sx:{mt:3,border:1,borderColor:"divider",padding:1},children:o.explainers.filter(x=>B.includes(x.id)).map((x,E)=>Or.jsx(qx,{label:x.name,onDelete:()=>M(x.id),deleteIcon:Or.jsx(jE,{}),sx:{m:.5}},E))}),Or.jsx(qa,{sx:{mt:2},children:o.explainers.filter(x=>!B.includes(x.id)).map((x,E)=>Or.jsx(qx,{label:x.name,onClick:()=>y(x.id),sx:{m:.5}},E))})]}),Or.jsxs(qa,{sx:{mt:3},children:[Or.jsx(Ci,{variant:"h6",children:" Select Evaluation Metrics "}),o.metrics.map(x=>Or.jsx(xH,{control:Or.jsx(vU,{checked:L.some(E=>E.id===x.id),onChange:E=>S(x,E.target.checked)}),label:x.name},x.id))]})]})}),Or.jsx(Dh,{item:!0,xs:12,md:10,children:Or.jsxs(qa,{sx:{pl:2},children:[Or.jsx(Ci,{variant:"h5",children:o==null?void 0:o.name}),Or.jsx(zc,{variant:"contained",color:"secondary",onClick:R,sx:{mt:2},children:"Run Experiment"}),Or.jsx(VG,{experiment:o.name,inputs:ce,explainers:e,metrics:C,loading:l,setLoading:c})]})})]}),Or.jsxs(a4,{open:h,onClose:()=>g(!1),fullWidth:!0,maxWidth:"md",children:[Or.jsx(lH,{children:"Select Intances"}),Or.jsx(i4,{children:Or.jsx(Dh,{container:!0,spacing:2,children:P.map((x,E)=>Or.jsx(Dh,{item:!0,xs:12,sm:6,md:4,children:Or.jsxs(ad,{sx:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer",opacity:t.includes(x.id)?.5:1},onClick:()=>v(x.id),children:[Or.jsx("img",{src:x.source,width:240,height:200,alt:String(x.id)}),Or.jsx(Ci,{variant:"subtitle1",align:"center",children:x.id})]})},E))})}),Or.jsxs($U,{children:[Or.jsx(zc,{onClick:d,children:"Cancel"}),Or.jsx(zc,{onClick:A,children:"OK"})]})]}),Or.jsx(qa,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:Or.jsx(a4,{open:f,onClose:()=>m(!1),children:Or.jsx(i4,{children:Or.jsx(lw,{severity:"info",children:"Please select at least 1 input and 1 explainer and 1 evaluation metric "})})})})]})},WG=()=>{const o=Kf(me=>me.projects.loaded),P=Kf(me=>me.projects.data),W=Kf(me=>me.projects.currentProject.id),Q=P==null?void 0:P.find(me=>me.id===W),ce=Q==null?void 0:Q.experiments.some(me=>me.id);return!o||!P?Or.jsx(qa,{sx:{p:2,maxWidth:1400},children:Or.jsx(qa,{sx:{m:5,minHeight:"50px"},children:Or.jsx(ig,{children:Or.jsx(og,{children:Or.jsx(qa,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:Or.jsx(uw,{})})})})})}):Or.jsx(qa,{sx:{m:1},children:Or.jsx(qa,{sx:{m:1},children:ce?Q==null?void 0:Q.experiments.filter(me=>me.modelDetected).map((me,B)=>Or.jsx(GG,{experiment:me},B)):Or.jsx(qa,{sx:{m:5,minHeight:"200px",maxWidth:"350px"},children:Or.jsx(lw,{severity:"warning",children:"No available experiment. Try Again."})})})})},jG=()=>Or.jsx(qa,{sx:{display:"flex"},children:Or.jsx(qa,{sx:{p:2,flexGrow:1},children:Or.jsx(ig,{sx:{minWidth:275},children:Or.jsxs(og,{children:[Or.jsx(Ci,{variant:"h5",component:"div",children:"Test Page"}),Or.jsx(Ci,{variant:"body2",children:"This is a test page."})]})})})}),YG=()=>Or.jsxs(sk,{children:[Or.jsx(Nd,{path:"/",element:Or.jsx(w4,{})}),Or.jsx(Nd,{path:"/model-info",element:Or.jsx(w4,{})}),Or.jsx(Nd,{path:"/model-explanation",element:Or.jsx(WG,{})}),Or.jsx(Nd,{path:"/test",element:Or.jsx(jG,{})}),Or.jsx(Nd,{path:"/*",element:Or.jsx(RG,{})})]}),ZG="/assets/logo-f6252f22.svg",XG=()=>{const o=["Image Classification","Tabular Data Classification","Time Series Analysis","Text Classification"],P=[{path:"/model-info",name:"Model Architecture Information"},{path:"/model-explanation",name:"Local Explanation"}],W=Kf(m=>m.projects.data),Q=Kf(m=>m.projects.currentProject.id),ce=(W==null?void 0:W.map(m=>m.id))||[],[me,B]=Er.useState(null),[N,e]=Er.useState(o[0]),[p,L]=Er.useState(null),[a,C]=Er.useState(""),[w,h]=Er.useState(null),g=QM(),t=m=>{h(m)},r=m=>{B(m.currentTarget)},s=()=>{B(null)},n=m=>{s()},l=m=>{L(m.currentTarget)},c=()=>{L(null)},f=m=>{C(m),g(gI(m)),c()};return Er.useEffect(()=>{const m=window.location.pathname,v=P.findIndex(A=>A.path===m);h(v!==-1?v:0)},[]),Er.useEffect(()=>{C(Q)},[Q]),Or.jsx(qa,{sx:{flexGrow:1},children:Or.jsx(AB,{position:"static",sx:{bgcolor:"primary.main"},children:Or.jsxs(GE,{children:[Or.jsx(vb,{to:"/",style:{textDecoration:"none",color:"inherit"},children:Or.jsx("img",{src:ZG,alt:"Logo",style:{marginRight:50,height:"50px"}})}),Or.jsxs(qa,{sx:{borderRight:1},children:[Or.jsxs(zc,{style:{color:"inherit"},onClick:r,children:["Task : ",N]}),Or.jsx(g4,{anchorEl:me,open:!!me,onClose:s,children:o.map((m,v)=>Or.jsx(y4,{onClick:()=>n(),style:{fontWeight:m===o[0]?"bold":"normal"},children:m},v))})]}),Or.jsxs(qa,{sx:{borderRight:1},children:[Or.jsxs(zc,{style:{color:"inherit"},onClick:l,children:["Projects : ",a]}),Or.jsx(g4,{anchorEl:p,open:!!p,onClose:c,children:ce.map((m,v)=>Or.jsx(y4,{onClick:()=>f(m),style:{fontWeight:m===a?"bold":"normal"},children:m},v))})]}),P.map((m,v)=>Or.jsx(zc,{component:vb,to:m.path,onClick:()=>t(v),style:{marginLeft:20,color:"inherit",fontWeight:w===v?"bold":"normal"},children:m.name},v)),Or.jsx(qa,{sx:{flexGrow:1}})]})})})},$G=()=>Or.jsx(qa,{component:"footer",sx:{bgcolor:"background.paper",py:3,mt:4,borderTop:1,borderColor:"divider",marginTop:0},children:Or.jsxs(FE,{maxWidth:"lg",children:[Or.jsxs(Ci,{variant:"body1",align:"center",children:["© ",new Date().getFullYear()," PnP XAI"]}),Or.jsxs(Ci,{variant:"body2",align:"center",sx:{mt:1},children:["An open source project. Contribute on "," ",Or.jsx(lV,{href:"https://github.com/OpenXAIProject/pnpxai",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),"."]})]})}),KG=({children:o})=>Or.jsxs(Or.Fragment,{children:[Or.jsx(XG,{}),Or.jsx(qa,{children:o}),Or.jsx($G,{})]}),JG=()=>{const o=QM(),P=Kf(W=>W.projects.loaded);return Er.useEffect(()=>{P||o(R6())},[o,P]),Or.jsxs(Jz,{theme:qz,children:[Or.jsx(CU,{}),Or.jsx(vk,{children:Or.jsx(KG,{children:Or.jsx(YG,{})})})]})};s2.createRoot(document.getElementById("root")).render(Or.jsx(Ds.StrictMode,{children:Or.jsx(eR,{store:mI,children:Or.jsx(JG,{})})}));
//# sourceMappingURL=index-09125660.js.map
